<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:11:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3359] GString.split() broken</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3359</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Execute the following groovy script:&lt;/p&gt;

&lt;p&gt;def a = 1&lt;br/&gt;
def b = &quot;two&quot;&lt;br/&gt;
println &quot;${a} ${b} c&quot;.split()&lt;/p&gt;

&lt;p&gt;using  &lt;/p&gt;

&lt;p&gt;java -ea -cp lib/groovy-all-1.6-RC-3.jar groovy.lang.GroovyShell test.groovy&lt;/p&gt;

&lt;p&gt;gives a NullPointerException with groovy-all-1.6-RC-2.jar or groovy-all-1.6-RC-3.jar, runs fine with groovy-all-1.5.7.jar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12814594">GROOVY-3359</key>
            <summary>GString.split() broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="jamcdonald">John A McDonald</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Feb 2009 21:25:39 +0000</created>
                <updated>Tue, 7 Apr 2009 23:31:17 +0000</updated>
                            <resolved>Sat, 21 Feb 2009 09:48:33 +0000</resolved>
                                    <version>1.6-rc-2</version>
                    <version>1.6-rc-3</version>
                                    <fixVersion>1.6.1</fixVersion>
                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14466524" author="jamcdonald" created="Mon, 16 Feb 2009 21:26:51 +0000"  >&lt;p&gt;Forgot the stack trace:&lt;/p&gt;

&lt;p&gt;Caught: java.lang.NullPointerException&lt;br/&gt;
        at test.run(test.groovy:3)&lt;/p&gt;</comment>
                            <comment id="14478466" author="paulk" created="Mon, 16 Feb 2009 22:58:52 +0000"  >&lt;p&gt;Yes, I can confirm this is an issue. The workaround in the specific example is to add a toString().&lt;br/&gt;
What worries me is that in 1.5.7 and 1.6-beta2 we selected the split(String) method for this case&lt;br/&gt;
but we now pick split(Object, Closure) with a null Closure. Tested on a client system not my own&lt;br/&gt;
so I hope there is nothing local to that environment that is confusing the results I am seeing.&lt;br/&gt;
It would be a worry if this is affecting all such calls. I&apos;ll have a little bit more of a look when I get&lt;br/&gt;
home.&lt;/p&gt;</comment>
                            <comment id="14478464" author="paulk" created="Mon, 16 Feb 2009 23:00:33 +0000"  >&lt;p&gt;More complete stacktrace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
        at org.codehaus.groovy.runtime.DefaultGroovyMethods.split(DefaultGroovyMethods.java:1748)
        at org.codehaus.groovy.runtime.DefaultGroovyMethods.split(DefaultGroovyMethods.java:1724)
        at org.codehaus.groovy.runtime.dgm$504.doMethodInvoke(Unknown Source)
        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.invoke(PogoMetaMethodSite.java:42)
        at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.call(PogoMetaMethodSite.java:63)
        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:43)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120)
        at Test.run(Test.groovy:3)
        at groovy.lang.GroovyShell.runScriptOrMainOrTestOrRunnable(GroovyShell.java:256)
        at groovy.lang.GroovyShell.run(GroovyShell.java:471)
        at groovy.lang.GroovyShell.run(GroovyShell.java:451)
        at groovy.lang.GroovyShell.run(GroovyShell.java:160)
        at groovy.lang.GroovyShell$run.call(Unknown Source)
        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:43)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:132)
        at groovy.ui.Console$_runScriptImpl_closure13.doCall(Console.groovy:732)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:234)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:272)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:892)
        at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:66)
        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:47)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:142)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:150)
        at groovy.ui.Console$_runScriptImpl_closure13.doCall(Console.groovy)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:234)
        at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:272)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:892)
        at groovy.lang.Closure.call(Closure.java:279)
        at groovy.lang.Closure.call(Closure.java:274)
        at groovy.lang.Closure.run(Closure.java:355)
        at java.lang.Thread.run(Thread.java:619)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14466397" author="blackdrag" created="Tue, 17 Feb 2009 07:42:06 +0000"  >&lt;p&gt;I assume the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3106&quot; title=&quot;Provide a split(closure) DGM method on collections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3106&quot;&gt;&lt;del&gt;GROOVY-3106&lt;/del&gt;&lt;/a&gt; in rev 13778 caused this problem.  1.5.8 has the problem too, because the method is there too, even though the issue doesn&apos;t tell that. as to why the Closure is null, that is because a one parameter method can be called without arguments by setting the argument to null. The fact that bothers me more is that only the Object method is seen at first and not the String version. I think String is in there as fallback, but that also means DGM methods defined for String don&apos;t overload those defined on for example Object... it seems they still override.&lt;/p&gt;</comment>
                            <comment id="14466542" author="paulk" created="Tue, 17 Feb 2009 16:02:00 +0000"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-3106&quot; title=&quot;Provide a split(closure) DGM method on collections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-3106&quot;&gt;&lt;del&gt;GROOVY-3106&lt;/del&gt;&lt;/a&gt; does seem to have caused the problem to surface but it isn&apos;t clear to me that the problem isn&apos;t broader than that issue. Is the behavior below what we expect:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def gs = &lt;span class=&quot;code-quote&quot;&gt;&quot;The answer is ${42}&quot;&lt;/span&gt;
println gs &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; GString &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/span&gt;
def foo(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; x) { &lt;span class=&quot;code-quote&quot;&gt;&apos;I am &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; foo&apos;&lt;/span&gt; }
def foo(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; y) { &lt;span class=&quot;code-quote&quot;&gt;&apos;I am &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; foo&apos;&lt;/span&gt; }
println foo(gs) &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; I am &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; foo
&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyCat {
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; bar(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; x) { &lt;span class=&quot;code-quote&quot;&gt;&apos;I am &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; bar&apos;&lt;/span&gt; }
  &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; bar(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; y) { &lt;span class=&quot;code-quote&quot;&gt;&apos;I am &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; bar&apos;&lt;/span&gt; }
}
use (MyCat) {
  println gs.bar() &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; I am &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; bar
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I guess it is but should it be?&lt;/p&gt;</comment>
                            <comment id="14478462" author="paulk" created="Tue, 17 Feb 2009 16:25:07 +0000"  >&lt;p&gt;OK, I went through all of the DGM methods and apart from esoteric examples like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date().asType()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(which also produces a null instead of some nicer kind of message) I think&lt;br/&gt;
split is the only case affected, so it seems like a split(Object) which did a toString()&lt;br/&gt;
on self and then called through to split(String) might be the way to go here.&lt;/p&gt;</comment>
                            <comment id="14466515" author="chanwit" created="Fri, 20 Feb 2009 19:04:35 +0000"  >&lt;p&gt;In the fix, I add static split(GString) to DGMs. So, MOP will pick this method rather than going into static split(Object, Closure), where Closure is always null for this test case (per Paul&apos;s comment).&lt;/p&gt;</comment>
                            <comment id="14478470" author="paulk" created="Sat, 21 Feb 2009 09:48:33 +0000"  >&lt;p&gt;Added DGM.split(GString) and tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721863" name="3359.diff" size="1524" author="chanwit" created="Fri, 20 Feb 2009 19:04:35 +0000"/>
                            <attachment id="12721992" name="mylyn-context.zip" size="4754" author="chanwit" created="Fri, 20 Feb 2009 19:04:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cm3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>