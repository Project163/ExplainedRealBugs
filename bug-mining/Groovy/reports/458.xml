<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:01:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-1812] == operator inconsistent with Object#equals </title>
                <link>https://issues.apache.org/jira/browse/GROOVY-1812</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;class MyClass {&lt;br/&gt;
       boolean equals(MyClass o) &lt;/p&gt;
{   # change to Object o, it works
               return true
       }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;o = new MyClass()&lt;br/&gt;
o2 = new MyClass()&lt;/p&gt;

&lt;p&gt;println o.equals(o2)&lt;br/&gt;
println o2.equals(o)&lt;br/&gt;
println o == o2&lt;/p&gt;

</description>
                <environment>JDK 6 on WinXP platform</environment>
        <key id="12813590">GROOVY-1812</key>
            <summary>== operator inconsistent with Object#equals </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ait">Alex Tkachman</assignee>
                                    <reporter username="shhgs">Huang Guang Shen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Mar 2007 13:31:07 +0000</created>
                <updated>Sat, 22 Dec 2007 21:04:12 +0000</updated>
                            <resolved>Tue, 13 Nov 2007 15:22:21 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1-rc-3</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14477332" author="pniederw" created="Sat, 12 May 2007 14:38:09 +0000"  >&lt;p&gt;A related problem is that == cannot be intercepted.&lt;/p&gt;

&lt;p&gt;The reason for the described behavior is that == isn&apos;t handled by the Groovy runtime but results in a direct call to equals(java.lang.Object). Although this improves performance, consistency  (here I&apos;d even say correctness) of the language should come first. Otherwise it&apos;s simply not safe to use ==.&lt;/p&gt;

&lt;p&gt;In case it is nevertheless decided to leave the behavior as-is, selectively overriding and intercepting equals() should at least be strongly discouraged. (GINA p.198 encourages selective overriding).&lt;/p&gt;

&lt;p&gt;Side comment: &quot;Object#equals&quot; in the issue title is a bit misleading and should probably be changed to &quot;equals&quot;.&lt;/p&gt;</comment>
                            <comment id="14463357" author="two" created="Sun, 11 Nov 2007 13:04:37 +0000"  >&lt;p&gt;Patch contains a test case that demonstrates the issue and a fix for the issue.&lt;/p&gt;</comment>
                            <comment id="14463592" author="codevise" created="Tue, 13 Nov 2007 02:49:30 +0000"  >&lt;p&gt;This should definitely be applied before 1.1 final!&lt;/p&gt;</comment>
                            <comment id="14463578" author="guillaume" created="Tue, 13 Nov 2007 02:55:45 +0000"  >&lt;p&gt;Aren&apos;t there some performance implications?&lt;/p&gt;</comment>
                            <comment id="14463609" author="codevise" created="Tue, 13 Nov 2007 03:15:01 +0000"  >&lt;p&gt;There may be performance implications but I do not expect too much.&lt;br/&gt;
It depends on how often you use the == operator as such.&lt;/p&gt;

&lt;p&gt;Anyway, correctness and consistency come first, right?&lt;/p&gt;
</comment>
                            <comment id="14463593" author="ait" created="Tue, 13 Nov 2007 04:09:02 +0000"  >&lt;p&gt;This will conflict with assertEquals, which use java equals &lt;/p&gt;</comment>
                            <comment id="14463610" author="ait" created="Tue, 13 Nov 2007 04:12:08 +0000"  >&lt;p&gt;package groovy&lt;/p&gt;

&lt;p&gt;class CompareEqualsTest extends GroovyTestCase {&lt;br/&gt;
    void testEqualsOperatorIsMultimethodAware() {&lt;br/&gt;
        assert new Xyz() == new Xyz()&lt;/p&gt;

&lt;p&gt;        shouldFail &lt;/p&gt;
{
          assertEquals new Xyz(), new Xyz()
        }

&lt;p&gt;        shouldFail &lt;/p&gt;
{
          assert new Xyz() == 239
        }
&lt;p&gt;        assert new Xyz () == &quot;GROOVY.XYZ&quot;&lt;br/&gt;
    }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;class Xyz {&lt;br/&gt;
    boolean equals(Xyz other) {&lt;br/&gt;
        println &quot;${other.class} TRUE&quot;&lt;br/&gt;
        true&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    boolean equals(Object other) {&lt;br/&gt;
        println &quot;${other.class} FALSE&quot;&lt;br/&gt;
        null&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    boolean equals(String str) &lt;/p&gt;
{
        str.equalsIgnoreCase this.class.getName()
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="14463466" author="ait" created="Tue, 13 Nov 2007 04:42:45 +0000"  >&lt;p&gt;New patch with better test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12721751" name="equalsPatch.patch" size="1699" author="ait" created="Tue, 13 Nov 2007 04:42:45 +0000"/>
                            <attachment id="12721878" name="patch_for_1812.diff" size="1408" author="" created="Sun, 11 Nov 2007 13:04:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c86n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>