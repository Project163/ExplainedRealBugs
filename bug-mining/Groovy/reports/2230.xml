<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:33:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-6152] LazyList does not allow range access</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-6152</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This pieces of code raises on IndexOutOfBoundsException:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def a = [1].withDefault {42}
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; a[2..-1] == [42]

java.lang.IndexOutOfBoundsException: toIndex = 3

	at java.util.SubList.&amp;lt;init&amp;gt;(Unknown Source)

	at java.util.RandomAccessSubList.&amp;lt;init&amp;gt;(Unknown Source)

	at java.util.AbstractList.subList(Unknown Source)

	at groovy.lang.ListWithDefault.subList(ListWithDefault.java:237)

	at org.codehaus.groovy.runtime.DefaultGroovyMethods.getAt(DefaultGroovyMethods.java:4864)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ListWithDefault#subList(int, int) should handle this case instead of delegating to List#subList(int, int)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12816993">GROOVY-6152</key>
            <summary>LazyList does not allow range access</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asteingress">Andre Steingress</assignee>
                                    <reporter username="asteingress">Andre Steingress</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 May 2013 09:27:11 +0000</created>
                <updated>Wed, 10 Jul 2013 04:42:21 +0000</updated>
                            <resolved>Fri, 31 May 2013 00:39:07 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.0.8</version>
                    <version>2.1.3</version>
                                    <fixVersion>2.2.0-beta-1</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14480282" author="paulk" created="Mon, 13 May 2013 17:59:59 +0000"  >&lt;p&gt;I think it makes sense to support ranges with two positive index values. And we should align normal list access I suspect, e.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def a = [1]      &lt;span class=&quot;code-comment&quot;&gt;// note: no &lt;span class=&quot;code-quote&quot;&gt;&quot;withDefault&quot;&lt;/span&gt;
&lt;/span&gt;println a[0,1,2] &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; [1, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]
&lt;/span&gt;println a        &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; [1]
&lt;/span&gt;println a[0..2]  &lt;span class=&quot;code-comment&quot;&gt;// =&amp;gt; IOOBE but should probably be [1, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, we need to define what makes sense if we have negative index values.&lt;/p&gt;

&lt;p&gt;The most conservative approach would be to not grow the list in the case of one or more negative index values and if either index caused growth to throw an IllegalArgumentException? But other approaches are also possible.&lt;/p&gt;</comment>
                            <comment id="14474391" author="asteingress" created="Tue, 14 May 2013 02:18:15 +0000"  >&lt;p&gt;There is another issue with empty ranges. DGM returns a new ArrayList instance in that case but should return an instance of ListWithDefault.&lt;/p&gt;</comment>
                            <comment id="14480272" author="paulk" created="Tue, 14 May 2013 18:40:20 +0000"  >&lt;p&gt;It&apos;s an interesting question as to whether the empty range case should return a ListWithDefault. Certainly if getAt for Range uses subList, then it should but getAt with a collection of Indices doesn&apos;t use subList. It makes me think we should align those two methods.&lt;/p&gt;

&lt;p&gt;A case in point (sub is a plain ArrayList):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;def list = [1].withDefault{42}
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; list[4] == 42
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; list == [1, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, 42]
def sub = list[0,2,4]
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; sub[3] == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14474509" author="asteingress" created="Tue, 28 May 2013 03:07:11 +0000"  >&lt;p&gt;Here is the pr: &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/198&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14480290" author="paulk" created="Wed, 29 May 2013 16:05:04 +0000"  >&lt;p&gt;The EmptyRange DGM method isn&apos;t quite right. Add &quot;.withDefault&lt;/p&gt;
{ 42 }
&lt;p&gt;&quot; to the Javadoc groovyTestCase. I guess the best implementation at the moment is to supply an empty ArrayList as the delegate. A non-&quot;view&quot; implementation like the reverse case but I think the &quot;view&quot; implementation is wrong anyway as per &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-6179&quot; title=&quot;Sublist can be modified by parent list operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-6179&quot;&gt;&lt;del&gt;GROOVY-6179&lt;/del&gt;&lt;/a&gt; (thanks for creating that BTW). Let me know if you want me to fix this issue.&lt;/p&gt;</comment>
                            <comment id="14474482" author="paulk" created="Wed, 29 May 2013 16:05:25 +0000"  >&lt;p&gt;needs a minor tweak&lt;/p&gt;</comment>
                            <comment id="14474531" author="asteingress" created="Fri, 31 May 2013 00:38:57 +0000"  >&lt;p&gt;Thanks, Paul! The EmptyRange access is now fixed on master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12816967">GROOVY-6179</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cpcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>