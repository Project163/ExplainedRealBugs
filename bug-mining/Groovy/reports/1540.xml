<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:21:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-4936] package protected method in Parent class cannot be called</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-4936</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;assuming we have &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Parent{ 
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; someMethod(){&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1;}
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;written in Java and &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Child &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Parent{
  &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; someMethod(){
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.someMethod()+2
  }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; written in Groovy, then this results in a StackOverflow.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12815529">GROOVY-4936</key>
            <summary>package protected method in Parent class cannot be called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="blackdrag">Jochen Theodorou</assignee>
                                    <reporter username="blackdrag">Jochen Theodorou</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jul 2011 17:53:02 +0000</created>
                <updated>Thu, 21 Jul 2011 05:01:41 +0000</updated>
                            <resolved>Thu, 21 Jul 2011 05:01:41 +0000</resolved>
                                                    <fixVersion>1.8.1</fixVersion>
                    <fixVersion>1.7.11</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14471530" author="blackdrag" created="Wed, 20 Jul 2011 17:56:45 +0000"  >&lt;p&gt;part of the problem is, as described in &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4922&quot; title=&quot;StackOverflowError when calling super and overriding a package protected java method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4922&quot;&gt;&lt;del&gt;GROOVY-4922&lt;/del&gt;&lt;/a&gt;, the logic &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;useThis ^ (method.getModifiers() &amp;amp; (Modifier.PUBLIC | Modifier.PROTECTED)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But this logic appears twice in MetaClassImpl and a third time in MetaMethod#getMopName&lt;/p&gt;</comment>
                            <comment id="14471478" author="blackdrag" created="Wed, 20 Jul 2011 17:59:40 +0000"  >&lt;p&gt;attaching a partial patch. This fixes the stack overflow problem, but with this patch we still have 1 failing test. Which is funnily the formerly passing test for &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4922&quot; title=&quot;StackOverflowError when calling super and overriding a package protected java method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4922&quot;&gt;&lt;del&gt;GROOVY-4922&lt;/del&gt;&lt;/a&gt; I added earlier. It fails now with: tried to access method groovy.bugs.Groovy4922BugSupport.someMethod(Ljava/lang/String;)V&lt;br/&gt;
Which means the logic is not yet right like this maybe&lt;/p&gt;</comment>
                            <comment id="14471557" author="blackdrag" created="Wed, 20 Jul 2011 18:01:54 +0000"  >&lt;p&gt;The stack is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IllegalAccessError: tried to access method groovy.bugs.Groovy4922BugSupport.someMethod(Ljava/lang/&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;;)V from &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;groovy.bugs.Groovy4922BugChild
at groovy.bugs.Groovy4922BugChild.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$someMethod(TestScripttestShouldNotThrowStackOverflow82.groovy) 
at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14471507" author="blackdrag" created="Wed, 20 Jul 2011 18:04:03 +0000"  >&lt;p&gt;What can be seen here is, correct super$2$someMethod method is selected and executed, but it has no access to the package private parent class method. The question is why. They are in the same package, so there should be no problem with that.&lt;/p&gt;</comment>
                            <comment id="14471544" author="blackdrag" created="Thu, 21 Jul 2011 05:01:41 +0000"  >&lt;p&gt;The reason for the IllegalAccessError is that in the test the class loaders for the Child and for the parent are different. In terms of package private that means that no access is allowed and the IllegalAccessError is correct. Thus I changed the test to use the PackaScope transformation instead and then all tests pass.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722958" name="4936.patch" size="2599" author="blackdrag" created="Wed, 20 Jul 2011 17:59:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c9uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>