<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:43:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7123] In traits field assignment is not an expression</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7123</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Assigning a value to a field in a trait doesn&apos;t produce a value as a result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;trait A {
    def foo
    def bar() { foo = 42 }
}
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;C &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; A {}

&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; C().bar() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// should be 42&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Groovy treats assignments as expressions, returning the value from the RHS, but traits break that semantics.&lt;/p&gt;

&lt;p&gt;Using the AST Browser it can be seen that &lt;tt&gt;bar()&lt;/tt&gt; calls &lt;tt&gt;A$Trait$Helper.bar(this)&lt;/tt&gt;, which in turn calls &lt;tt&gt;$self.A_foo$set(42)&lt;/tt&gt; which returns &lt;tt&gt;void&lt;/tt&gt; (&lt;tt&gt;$self&lt;/tt&gt; is an instance of C) - hence &lt;tt&gt;null&lt;/tt&gt; that &lt;tt&gt;bar()&lt;/tt&gt; returns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12817853">GROOVY-7123</key>
            <summary>In traits field assignment is not an expression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="dsrkoc">Dinko Srkoc</reporter>
                        <labels>
                            <label>traits</label>
                    </labels>
                <created>Sun, 19 Oct 2014 18:27:03 +0000</created>
                <updated>Thu, 15 Oct 2015 18:15:45 +0000</updated>
                            <resolved>Wed, 5 Nov 2014 03:50:38 +0000</resolved>
                                    <version>2.3.7</version>
                                    <fixVersion>2.3.8</fixVersion>
                    <fixVersion>2.4.0-beta-4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14476625" author="melix" created="Mon, 20 Oct 2014 03:18:56 +0000"  >&lt;p&gt;Thanks. This indicates that the generated $set method when implementing traits should return a value. I will try to confirm that.&lt;/p&gt;</comment>
                            <comment id="14476643" author="dsrkoc" created="Mon, 20 Oct 2014 03:38:28 +0000"  >&lt;blockquote&gt;&lt;p&gt; This indicates that the generated $set method when implementing traits should return a value. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that was my idea as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cj73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>