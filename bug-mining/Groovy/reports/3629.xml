<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:03:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-9288] Compilation error when accessing a protected super class field from inside a closure</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-9288</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;The following code works fine in 2.5.6 but breaks in 2.5.7 and 2.5.8:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
GroovyShell shell = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GroovyShell()
shell.evaluate(&apos;&apos;&apos;
    &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; a
    
    &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
    
    @CompileStatic
    &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Abstract_Class {
        &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; protectedField = &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;
        
        &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing()
    }
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&apos;&apos;)

shell.evaluate(&apos;&apos;&apos;
    &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; b
    
    &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; a.Abstract_Class
    &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
    
    @CompileStatic
    &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ConcreteClass &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Abstract_Class {
       
        @Override
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing() {
            &lt;span class=&quot;code-quote&quot;&gt;&apos;something&apos;&lt;/span&gt;.with {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; protectedField
            }
        }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&apos;&apos;)

shell.evaluate(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; b.ConcreteClass().doThing() == &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
Script2.groovy: 13: Access to a.Abstract_Class#protectedField is forbidden @ line 13, column 32.
                           return protectedField
                                  ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If you change both classes to be in the same package, you get a runtime error like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;tried to access field a.Abstract_Class.protectedField from class a.ConcreteClass$_doThing_closure1
java.lang.IllegalAccessError: tried to access field a.Abstract_Class.protectedField from class a.ConcreteClass$_doThing_closure1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13263881">GROOVY-9288</key>
            <summary>Compilation error when accessing a protected super class field from inside a closure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="jbellassai">John Bellassai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Oct 2019 20:19:44 +0000</created>
                <updated>Thu, 19 Nov 2020 18:15:34 +0000</updated>
                            <resolved>Mon, 28 Oct 2019 14:42:53 +0000</resolved>
                                    <version>2.5.7</version>
                    <version>2.5.8</version>
                    <version>3.0.0-rc-1</version>
                                    <fixVersion>3.0.0-rc-2</fixVersion>
                    <fixVersion>2.5.13</fixVersion>
                                    <component>Static compilation</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="16957781" author="daniel_sun" created="Wed, 23 Oct 2019 11:34:36 +0000"  >&lt;p&gt;The same code fails in 3.0.0-rc-1 too: &lt;br/&gt;
&lt;tt&gt;Access to a.Abstract_Class#protectedField is forbidden at line: 13, column: 24&lt;/tt&gt;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16957788" author="daniel_sun" created="Wed, 23 Oct 2019 11:46:15 +0000"  >&lt;p&gt;If we place the two classes in same package, everything is OK:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.CompileStatic
    
    @CompileStatic
    &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Abstract_Class {
        &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; protectedField = &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing()
    }
    
    @CompileStatic
    &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ConcreteClass &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Abstract_Class {
        @Override
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing() {
            &lt;span class=&quot;code-quote&quot;&gt;&apos;something&apos;&lt;/span&gt;.with {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; protectedField
            }
        }
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConcreteClass().doThing() == &lt;span class=&quot;code-quote&quot;&gt;&apos;field&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16957849" author="daniel_sun" created="Wed, 23 Oct 2019 12:52:42 +0000"  >&lt;p&gt;The following commit causes the issue:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/dba485716d79b836f17e3888997804f91e216da9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/dba485716d79b836f17e3888997804f91e216da9&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16957863" author="jbellassai" created="Wed, 23 Oct 2019 13:14:02 +0000"  >&lt;p&gt;In case it is helpful, here is a comparison between the compiled &lt;tt&gt;ConcreteClass&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&lt;ins&gt;2.5.6:&lt;/ins&gt;&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// Source code recreated from a .&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;file by IntelliJ IDEA
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// (powered by Fernflower decompiler)
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; bb;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; aa.Abstract_Class;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.lang.Closure;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.Generated;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.DefaultGroovyMethods;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.GeneratedClosure;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.typehandling.ShortTypeHandling;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ConcreteClass &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Abstract_Class {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ConcreteClass() {
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing() {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;_doThing_closure1 &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Closure &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; GeneratedClosure {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; _doThing_closure1(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; _outerInstance, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; _thisObject) {
                &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(_outerInstance, _thisObject);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; it) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;protectedField&quot;&lt;/span&gt;);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; call(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; args) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall(args);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; call() {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            }

            @Generated
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall() {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)ShortTypeHandling.castToString(DefaultGroovyMethods.with(&lt;span class=&quot;code-quote&quot;&gt;&quot;something&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; _doThing_closure1(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)));
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;&lt;ins&gt;2.5.8:&lt;/ins&gt;&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// Source code recreated from a .&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;file by IntelliJ IDEA
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// (powered by Fernflower decompiler)
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; b;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; a.Abstract_Class;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.lang.Closure;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; groovy.transform.Generated;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.DefaultGroovyMethods;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.GeneratedClosure;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.codehaus.groovy.runtime.typehandling.ShortTypeHandling;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ConcreteClass &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Abstract_Class {
    @Generated
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ConcreteClass() {
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; doThing() {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;_doThing_closure1 &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; Closure &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; GeneratedClosure {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; _doThing_closure1(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; _outerInstance, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; _thisObject) {
                &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(_outerInstance, _thisObject);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; it) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ((Abstract_Class)((_doThing_closure1)&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;).getOwner()).protectedField;
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; call(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; args) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall(args);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; call() {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            }

            @Generated
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall() {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.doCall((&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)ShortTypeHandling.castToString(DefaultGroovyMethods.with(&lt;span class=&quot;code-quote&quot;&gt;&quot;something&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; _doThing_closure1(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;)));
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Notice that 2.5.6 writes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; it) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;protectedField&quot;&lt;/span&gt;);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and 2.5.8 (broken) writes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; doCall(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; it) {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ((Abstract_Class)((_doThing_closure1)&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;).getOwner()).protectedField;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16957868" author="daniel_sun" created="Wed, 23 Oct 2019 13:29:16 +0000"  >&lt;p&gt;Thanks for your useful information. We will investigate the issue further more.&lt;/p&gt;

&lt;p&gt;Luckily, I have found the following commit causes the issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/dba485716d79b836f17e3888997804f91e216da9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/dba485716d79b836f17e3888997804f91e216da9&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16960350" author="jbellassai" created="Sat, 26 Oct 2019 13:29:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt;&#160;I see you&apos;ve worked out a fix for 3.0. Any chance we could get a back port for 2.5.9?&lt;/p&gt;</comment>
                            <comment id="16960368" author="daniel_sun" created="Sat, 26 Oct 2019 15:12:29 +0000"  >&lt;p&gt;It should be OK to backport the fix to 2_5_X branch. I&apos;m waiting for the reviewing result &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16960463" author="emilles" created="Sat, 26 Oct 2019 23:12:53 +0000"  >&lt;p&gt;There are a number of open items related to field/property access.  See also &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9195&quot; title=&quot;STC: mixed checking for access to non-public fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9195&quot;&gt;&lt;del&gt;GROOVY-9195&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9136&quot; title=&quot;Compile error when accessing a public field inside a closure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9136&quot;&gt;&lt;del&gt;GROOVY-9136&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9093&quot; title=&quot;SC: subclass access to package-private or private field is not indicated as an error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9093&quot;&gt;&lt;del&gt;GROOVY-9093&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-8099&quot; title=&quot;An error about &amp;quot;org.codehaus.groovy.syntax.SyntaxException: Access to java.lang.Object#pOfferingInstId is forbidden&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-8099&quot;&gt;GROOVY-8099&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7165&quot; title=&quot;Static Compilation: private static field accessed from a Closure produces a runtime error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7165&quot;&gt;&lt;del&gt;GROOVY-7165&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16960549" author="daniel_sun" created="Sun, 27 Oct 2019 09:43:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; If the issues exist in the old versions too, no rush to fix them all in the new version IMO&lt;/p&gt;</comment>
                            <comment id="16960633" author="emilles" created="Sun, 27 Oct 2019 15:55:05 +0000"  >&lt;p&gt;As I noted in the pull request, I have tried out a few things to gain some understanding.  I have added several test cases from linked bugs and some others that were fixed after &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-7996&quot; title=&quot;Using with method with a closure that references a protected property produces ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-7996&quot;&gt;&lt;del&gt;GROOVY-7996&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9007&quot; title=&quot;Getting java.lang.NoSuchFieldError with groovy version 2.5.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9007&quot;&gt;&lt;del&gt;GROOVY-9007&lt;/del&gt;&lt;/a&gt;.  I think the best course of action is to not patch the delegate/owner SC fix one more time and instead roll it back.  This was completed on master and my own testing showed this issue to be resolved as well as the use of &quot;owner&quot; and &quot;thisObject&quot; qualifiers (tests added).&lt;/p&gt;</comment>
                            <comment id="16960751" author="daniel_sun" created="Mon, 28 Oct 2019 04:40:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt; I have reworked the PR based on the latest master.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/groovy/pull/1048&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/pull/1048&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16961069" author="daniel_sun" created="Mon, 28 Oct 2019 13:59:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt;&#160;I&apos;ve created a new ticket&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-9292&quot; title=&quot;Compilation error when accessing a protected super class field from a closure using owner, delegate or thisObject qualifier (different package)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-9292&quot;&gt;&lt;del&gt;GROOVY-9292&lt;/del&gt;&lt;/a&gt; to track the extra issues, and I will leave this issue to you.&lt;/p&gt;</comment>
                            <comment id="16961108" author="jbellassai" created="Mon, 28 Oct 2019 14:48:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilles&quot; class=&quot;user-hover&quot; rel=&quot;emilles&quot;&gt;emilles&lt;/a&gt;, can we please get this (and other related fixes) back ported for a 2.5.9 fix?&lt;/p&gt;</comment>
                            <comment id="16961156" author="emilles" created="Mon, 28 Oct 2019 15:21:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniel_sun&quot; class=&quot;user-hover&quot; rel=&quot;daniel_sun&quot;&gt;daniel_sun&lt;/a&gt; Oh, that&apos;s interesting.  Adding a &quot;this.&quot; qualifier works within and across packages.  However adding &quot;owner.&quot; or &quot;thisObject.&quot; only works within the same package.  I wonder if there is a package check in or down the line from StaticTypeCheckingVisitor that is testing the &quot;receiver&quot; and not the &quot;sender&quot; or vice versa.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbellassai&quot; class=&quot;user-hover&quot; rel=&quot;jbellassai&quot;&gt;jbellassai&lt;/a&gt; I haven&apos;t been doing much of the backporting effort.  Once I get a little further on 7996 and 9292, I can check that 2.5 gets the necessary changes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13264812">GROOVY-9292</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07up4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>