<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:19:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-10628] Elvis assignment operator loses type information</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-10628</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;This class works as expected:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;RoutingInfo {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; to

  void hello() { &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.to ?= &lt;span class=&quot;code-quote&quot;&gt;&apos;alice&apos;&lt;/span&gt; }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Trying to use Elvis assignment from a class &lt;em&gt;in another file&lt;/em&gt; (it must be another file) causes the STC to lose track of the type of the RHS and complain that it can&apos;t assign Object to String:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Other {
  void world() {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RoutingInfo().to ?= &lt;span class=&quot;code-quote&quot;&gt;&apos;bob&apos;&lt;/span&gt;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Groovy:[Static type checking] - Cannot assign value of type java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; to variable of type java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13445887">GROOVY-10628</key>
            <summary>Elvis assignment operator loses type information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="chrylis">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2022 18:17:25 +0000</created>
                <updated>Sun, 24 Jul 2022 12:16:56 +0000</updated>
                            <resolved>Thu, 19 May 2022 20:30:42 +0000</resolved>
                                    <version>4.0.2</version>
                                    <fixVersion>3.0.11</fixVersion>
                    <fixVersion>4.0.3</fixVersion>
                                    <component>Static Type Checker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17539750" author="emilles" created="Thu, 19 May 2022 19:04:22 +0000"  >&lt;p&gt;If you change &quot;String to&quot; to &quot;public String to&quot; or &quot;void setTo(String to) &lt;/p&gt;
{ ... }
&lt;p&gt;&quot; do you get the same thing?  There is some special property node handling and I&apos;m trying to see if that is where the problem lies.&lt;/p&gt;

&lt;p&gt;Update: field works fine.  Must have something to do with property.&lt;/p&gt;</comment>
                            <comment id="17539756" author="emilles" created="Thu, 19 May 2022 19:20:12 +0000"  >&lt;p&gt;The static type checker creates expression &quot;%.setTo((new RoutingInfo().to) ? new RoutingInfo().to : &apos;bob&apos;)&quot; and tries to get the method target for the target type.  When the expression is reused for its getter semantic, something is going wrong.&lt;/p&gt;</comment>
                            <comment id="17539784" author="emilles" created="Thu, 19 May 2022 20:30:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/a976ecdee1f17f7fafc55767de2d857c44d44697&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/a976ecdee1f17f7fafc55767de2d857c44d44697&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13418112">GROOVY-10419</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12isw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>