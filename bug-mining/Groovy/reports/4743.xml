<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 01:23:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-8254] Alias is ignored in constructor call</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-8254</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;foo/Foo.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Foo {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test/test.groovy&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Foo as Bar

&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Bar {}

def regular = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Bar()
def anonymous = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Bar() {}
println regular.class &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;test.Bar
&lt;/span&gt;println anonymous.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;superclass &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;foo.Foo&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Either both of the invocations should use alias or both of them should use class defined in the same file. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13086685">GROOVY-8254</key>
            <summary>Alias is ignored in constructor call</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="emilles">Eric Milles</assignee>
                                    <reporter username="daniilo">Daniil Ovchinnikov</reporter>
                        <labels>
                            <label>breaking</label>
                            <label>breaking_change</label>
                    </labels>
                <created>Wed, 12 Jul 2017 19:48:48 +0000</created>
                <updated>Fri, 22 Dec 2023 11:38:23 +0000</updated>
                            <resolved>Tue, 14 Nov 2023 18:08:50 +0000</resolved>
                                    <version>2.4.12</version>
                                    <fixVersion>5.0.0-alpha-3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16084571" author="daniilo" created="Wed, 12 Jul 2017 19:50:06 +0000"  >&lt;p&gt;Please clarify how this should work, so I could change IntelliJ behaviour accordingly.&lt;/p&gt;</comment>
                            <comment id="16085509" author="daniilo" created="Thu, 13 Jul 2017 10:19:01 +0000"  >&lt;p&gt;If Bar is defined in another file in the same package then alias is used in both cases. I.e. alias takes precedence over classes in the same package. &lt;/p&gt;</comment>
                            <comment id="16086081" author="paulk" created="Thu, 13 Jul 2017 17:43:02 +0000"  >&lt;p&gt;I suspect that the alias should take precedence over a class in the same source unit too except within an import statement; so you could have &lt;tt&gt;import test.Bar as MyBar&lt;/tt&gt;. I&apos;ll do some tests and report on the results.&lt;/p&gt;</comment>
                            <comment id="16251745" author="daniilo" created="Tue, 14 Nov 2017 17:08:59 +0000"  >&lt;p&gt;AFAIU there are no differences in how aliased/regular imports are treated by compiler.&lt;/p&gt;

&lt;p&gt;I.e. in case of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; test.Bar
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Foo as Bar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the second import will overwrite the first one and vice versa, because essentially these imports are both &lt;em&gt;aliased&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; test.Bar as Bar
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; foo.Foo as Bar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suppose anonymous class references should obey the same rules as reference in new expression, i.e. prefer a class in the same file over any import.&lt;/p&gt;</comment>
                            <comment id="17785932" author="emilles" created="Tue, 14 Nov 2023 15:15:50 +0000"  >&lt;p&gt;Both resolve to locally-defined Bar at first.  The anon. inner class passes through ResolveVisitor again and at this time, &quot;Bar -&amp;gt; Bar&quot; is replaced with &quot;Foo&quot;.&lt;/p&gt;</comment>
                            <comment id="17785957" author="emilles" created="Tue, 14 Nov 2023 16:22:24 +0000"  >&lt;p&gt;In order to change the precedence of alias vs. same-source-unit type, &lt;tt&gt;ResolveVisitor#resolveFromModule&lt;/tt&gt; would need to move call to &lt;tt&gt;resolveAliasFromModule&lt;/tt&gt; up above the loop to check local names.&lt;/p&gt;</comment>
                            <comment id="17786011" author="emilles" created="Tue, 14 Nov 2023 18:07:16 +0000"  >&lt;p&gt;There should probably be an error or warning for having an alias and a local type with the same name &amp;#8211; at least in the default package where there is no qualifier available.&lt;/p&gt;</comment>
                            <comment id="17786012" author="emilles" created="Tue, 14 Nov 2023 18:08:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/b90b015659aa6d6eb233b7f9e7bfa8add36ded43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/b90b015659aa6d6eb233b7f9e7bfa8add36ded43&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17786089" author="emilles" created="Tue, 14 Nov 2023 22:01:44 +0000"  >&lt;p&gt;As it was implemented, alias imports gained precedence over local names and regular imports. This could be revisited to restore the equivalent treatment of alias and regular imports. The difference observed between same-file and same-package names would need to be looked at. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; thoughts?&lt;/p&gt;</comment>
                            <comment id="17786100" author="emilles" created="Tue, 14 Nov 2023 22:29:43 +0000"  >&lt;p&gt;JLS 7.5.1 says it&#8217;s an error to import a name that is the same as a top-level type in the compilation unit. So maybe we should go there. Groovy does the last name wins thing, but maybe it is time to be a bit stricter. &lt;/p&gt;</comment>
                            <comment id="17786156" author="paulk" created="Wed, 15 Nov 2023 03:57:03 +0000"  >&lt;p&gt;Stricter sounds good to me:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;An error for regular imports with the same basename as a top-level type in the CU&lt;/li&gt;
	&lt;li&gt;For an alias import, the basename of the type can match a top-level type in the CU but not the alias name&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17786468" author="emilles" created="Wed, 15 Nov 2023 18:48:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/groovy/commit/c019e84511bdea5531ca0b28bb3efe65f1976d28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/groovy/commit/c019e84511bdea5531ca0b28bb3efe65f1976d28&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="13558214">GROOVY-11224</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hg1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>