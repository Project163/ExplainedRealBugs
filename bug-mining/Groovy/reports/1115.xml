<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:14:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3873] adding methods to metaclass of interface not working</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3873</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;this worked with 1.6 but not with 1.7-beta-2 any longer:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ExpandoMetaClass.enableGlobally()
List.metaClass.methodMissing = { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, args -&amp;gt;
    &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
}
def list = []
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; list.noSuchMethod()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>1.7-beta-2</environment>
        <key id="12814894">GROOVY-3873</key>
            <summary>adding methods to metaclass of interface not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roshandawrani">Roshan Dawrani</assignee>
                                    <reporter username="codevise">Dierk K&#246;nig</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Nov 2009 13:48:13 +0000</created>
                <updated>Wed, 9 Dec 2009 18:16:42 +0000</updated>
                            <resolved>Wed, 11 Nov 2009 19:16:07 +0000</resolved>
                                    <version>1.7-beta-2</version>
                                    <fixVersion>1.6.6</fixVersion>
                    <fixVersion>1.7-rc-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="14468107" author="roshandawrani" created="Wed, 11 Nov 2009 19:16:08 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                            <comment id="14468200" author="roshandawrani" created="Wed, 11 Nov 2009 20:14:53 +0000"  >&lt;p&gt;I want to add here that the issue was not there due to any change in the groovy behavior from 1.6 to 1.7. It was just due to a little difference in the sequence of events in the code getting executed between 1.6/1.7.&lt;/p&gt;

&lt;p&gt;To reproduce the issue in 1.6, uncomment the first line in the example below.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//[] &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Test&quot;&lt;/span&gt;
&lt;/span&gt;
ExpandoMetaClass.enableGlobally()
List.metaClass.methodMissing = { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, args -&amp;gt;
    &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
}
def list = []
&lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; list.noSuchMethod()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, the use of statement [] &amp;lt;&amp;lt; &quot;Test&quot; causes the MetaClassImpl to get cached in ClassInfo - and after that point, the behavior of 1.6 and 1.7 are same - as the ClassInfo bug was there in both the versions (which has been corrected under this JIRA).&lt;/p&gt;

&lt;p&gt;In 1.7, there is this built-in(and enabled) AST transformation called AstBuilderTransformation, which was making &quot;[] &amp;lt;&amp;lt; &apos;x&apos;&quot; kind of calls, making the MC get cached in ClassInfo and bringing in the difference in behavior.&lt;/p&gt;</comment>
                            <comment id="14468180" author="roshandawrani" created="Wed, 11 Nov 2009 20:21:15 +0000"  >&lt;p&gt;Another way of reproducing the issue is to run the JIRA example in 1.6&apos;s groovyconsole. There also it fails for the very same underlying reason - that when groovyconsole comes up, it uses ArrayLists making its MC get cached and after that point, even if the code run in the console was doing EMC.enableGlobally() and modifying the MC indirectly through the interface of ArrayList, the earlier cached MC was still being returned due to ClassInfo bug.&lt;/p&gt;

&lt;p&gt;Ok, now I am done with the explanation part! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cpnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>