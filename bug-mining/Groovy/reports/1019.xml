<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:13:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-3599] BindingProxy.setModel() disconnects listeners</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-3599</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;I use proxy binding, formerly known as model binding with the Groovy SwingBuilder.&lt;/p&gt;

&lt;p&gt;Today, I noticed that Groovy removes the property change listeners but does not add them again, when I call BindingProxy#setModel(). So, the GUI gets no updates any more after the first setModel() call.&lt;/p&gt;

&lt;p&gt;After a look into the source code, I found that this is pretty clear (unless I am missing something):&lt;/p&gt;

&lt;p&gt;setModel() calls unbind() which sets this.bound = false&lt;br/&gt;
setModel() then calls rebind() which checks if(this.bound) and therefor does nothing.&lt;/p&gt;

&lt;p&gt;From my point of view, setModel should call bind() instead of rebind().&lt;/p&gt;</description>
                <environment>Windows, Java 1.6</environment>
        <key id="12814586">GROOVY-3599</key>
            <summary>BindingProxy.setModel() disconnects listeners</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shemnon">Daniel Ferrin</assignee>
                                    <reporter username="mattes3">Matthias Bohlen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jun 2009 16:11:17 +0000</created>
                <updated>Thu, 15 Oct 2009 17:16:24 +0000</updated>
                            <resolved>Fri, 24 Jul 2009 00:48:49 +0000</resolved>
                                    <version>1.6.3</version>
                                    <fixVersion>1.6.4</fixVersion>
                    <fixVersion>1.7-beta-1</fixVersion>
                                    <component>Swing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14467312" author="mattes3" created="Tue, 21 Jul 2009 02:29:56 +0000"  >&lt;p&gt;Danno, how is the status? Did you delete those two characters (&apos;re&apos; in &apos;rebind&apos;) that cause the bug?&lt;/p&gt;</comment>
                            <comment id="14467356" author="shemnon" created="Tue, 21 Jul 2009 09:29:55 +0000"  >&lt;p&gt;Did you attach a test case?&lt;/p&gt;</comment>
                            <comment id="14467342" author="mattes3" created="Tue, 21 Jul 2009 10:04:50 +0000"  >&lt;p&gt;Nope, I thought it was just obvious. But I can extend one of your test cases in SwingBuilderBindingsTest (or whatever the exact class name was). I&apos;ll attach it to this issue.&lt;/p&gt;</comment>
                            <comment id="14467328" author="shemnon" created="Tue, 21 Jul 2009 12:52:59 +0000"  >&lt;p&gt;But without some sort of a test case there is no protection against merges un-doing two character changes that have a large impact like this.&lt;/p&gt;</comment>
                            <comment id="14467279" author="mattes3" created="Thu, 23 Jul 2009 10:56:22 +0000"  >&lt;p&gt;Yep, yep, do not worry, test case comes here as promised:&lt;/p&gt;

&lt;p&gt;package com.mycompany.groovy.tests&lt;/p&gt;

&lt;p&gt;import groovy.beans.Bindable&lt;br/&gt;
import groovy.swing.SwingBuilder&lt;br/&gt;
import groovy.util.GroovyTestCase&lt;/p&gt;

&lt;p&gt;class DummyBean {&lt;br/&gt;
	@Bindable String name&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;class SwingBuilderBindingsTest extends GroovyTestCase {&lt;/p&gt;

&lt;p&gt;	public void testModel() &lt;/p&gt;
{
		SwingBuilder swing = new SwingBuilder()
		
		def bean = new DummyBean()
		
		swing.bindProxy(bean, id:&apos;dummyBean&apos;, bind:true)
		
		// test initial binding
		bean.name = &apos;Jochen&apos;
		swing.textField(id:&apos;textField&apos;, text:swing.dummyBean.name)
		assert swing.textField.text == bean.name
		
		// test for update on bean change
		bean = new DummyBean()
		bean.name = &apos;Alex&apos;
		swing.dummyBean.setModel(bean)
		assert swing.textField.text == bean.name
		
		// now simply one more live update: test fails here because 
		// setModel() has called rebind() instead of bind()!
		bean.name = &apos;Danno&apos;
		assert swing.textField.text == bean.name
	}
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="14467294" author="mattes3" created="Thu, 23 Jul 2009 10:57:57 +0000"  >&lt;p&gt;Oops, Jira lost the formatting! This is the test case as a groovy file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12722286" name="SwingBuilderBindingsTest.groovy" size="931" author="mattes3" created="Thu, 23 Jul 2009 10:57:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2bz0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>