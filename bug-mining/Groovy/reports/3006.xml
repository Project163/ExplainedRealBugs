<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:48:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-7771] Exception driven control flow in groovy.lang.Script.getProperty()</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-7771</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;groovy.lang.Script.getProperty() calls Binding.getProperty() and does therfore react on MissingPropertyException. This control flow is an antipattern causing unnecessary Throwable.fillInStackTrace() calls which cost cpu time. It might be better to check with Binding.hasProperty() first to avoid Exception flow.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12945290">GROOVY-7771</key>
            <summary>Exception driven control flow in groovy.lang.Script.getProperty()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="pascalschumacher">Pascal Schumacher</assignee>
                                    <reporter username="graben">Benjamin Graf</reporter>
                        <labels>
                            <label>breaking</label>
                    </labels>
                <created>Sun, 28 Feb 2016 17:43:50 +0000</created>
                <updated>Fri, 4 Mar 2016 12:33:31 +0000</updated>
                            <resolved>Wed, 2 Mar 2016 19:44:42 +0000</resolved>
                                    <version>2.4.6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15171142" author="graben" created="Sun, 28 Feb 2016 18:57:48 +0000"  >&lt;p&gt;Patch suggestion:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; property) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (binding.hasVariable(property)) {
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; binding.getVariable(property);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.getProperty(property);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15171200" author="pascalschumacher" created="Sun, 28 Feb 2016 21:38:27 +0000"  >&lt;p&gt;Patch applied. Thanks!&lt;/p&gt;</comment>
                            <comment id="15171516" author="pascalschumacher" created="Mon, 29 Feb 2016 07:18:44 +0000"  >&lt;p&gt;Patch causes two test to fail: &lt;a href=&quot;https://travis-ci.org/apache/groovy/jobs/112466659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/groovy/jobs/112466659&lt;/a&gt;. So I guess the old behavior is needed. Further investigation required. &lt;/p&gt;</comment>
                            <comment id="15171598" author="graben" created="Mon, 29 Feb 2016 08:55:01 +0000"  >&lt;p&gt;It looks like there are custom bindings in test classes causing those behaviour.&lt;/p&gt;</comment>
                            <comment id="15171738" author="blackdrag" created="Mon, 29 Feb 2016 10:57:24 +0000"  >&lt;p&gt;This looks like a breaking change for 2.5, maybe even 3.0, or we have to reject the patch and close the issue as &quot;Won&apos;t fix&quot;.  So the question is if Binding does imply that everything you can get through getVariable has to be true for hasVariable and has to appear in getVariables, at any point in time or not. If yes, then we can no longer support variables created on use for example.&lt;/p&gt;</comment>
                            <comment id="15172478" author="graben" created="Mon, 29 Feb 2016 19:47:45 +0000"  >&lt;p&gt;Maybe also &quot;tune&quot; hasVariable since internal map could be with default feature&lt;/p&gt;</comment>
                            <comment id="15172965" author="blackdrag" created="Tue, 1 Mar 2016 00:24:22 +0000"  >&lt;p&gt;I think you misunderstand... The default for a Script is that the variable must be assigned to at least before it becomes available for a read. But by exchanging the Binding to one, that does something else, like creating the variable on first read and if there was no write yet, we get a different behaviour. If we start checking hasVariable, this won&apos;t work anymore. This would still work of course, but you get in trouble with getVariables, plus in that case you never have the exception problem.&lt;/p&gt;</comment>
                            <comment id="15176330" author="pascalschumacher" created="Wed, 2 Mar 2016 19:44:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=graben&quot; class=&quot;user-hover&quot; rel=&quot;graben&quot;&gt;graben&lt;/a&gt; Sorry about this, but backdrag is right, this breaks existing code and we can not remove a feature for a performance improvement.&lt;/p&gt;
</comment>
                            <comment id="15179823" author="graben" created="Fri, 4 Mar 2016 12:33:31 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pascalschumacher&quot; class=&quot;user-hover&quot; rel=&quot;pascalschumacher&quot;&gt;pascalschumacher&lt;/a&gt; Well, in my opinion the getProperty and the hasProperty method have to reflect each other like equals and hashcode does in java. Since this is not the case this is a &quot;failure in design&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2tvtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>