<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:07:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-2906] Fix and improvement for Base64 encoding in GDK</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-2906</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;There are a couple of issues with the current implementation of Base64 encoding method on &lt;tt&gt;byte[]&lt;/tt&gt; and &lt;tt&gt;Byte[]&lt;/tt&gt; in the GDK.&lt;/p&gt;

&lt;p&gt;1) The current method is only for chunked (MIME-style) Base64 encoding. My patch adds an option to provide non-chunked Base64 encoding. It unit tests this new method, provides Javadoc comments for it, etc.&lt;br/&gt;
2) The chunked implementation incorrectly chunked data into 75 characters per line. The spec (RFC2045) says it should be 76 characters per line. My patch fixes this and adds a unit test for this.&lt;br/&gt;
3) The chunk separator is CRLF per the spec. My patch changes the separator to CRLF and adds a unit test for this as well&lt;br/&gt;
4) Fixed minor spelling issues in Javadoc&lt;/p&gt;

&lt;p&gt;In addition to my unit tests here, I ran some tests on my local machine to make sure the output from Groovy&apos;s Base64 encoding matches the results from the Apache Commons Codec Base64 implementation. The results are now identical with the patch.&lt;/p&gt;

&lt;p&gt;There is one difficulty in applying this patch. The Groovy file &lt;tt&gt;groovy-core/src/test/groovy/Base64Test.groovy&lt;/tt&gt; is set as binary in the Subversion repository, so I can&apos;t diff it. I have attached that file as well. It needs to be converted to &lt;tt&gt;text/plain&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This issue came about from &lt;a href=&quot;http://jira.codehaus.org/browse/GRAILS-3039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GRAILS-3039&lt;/a&gt;.&lt;/p&gt;</description>
                <environment>OS X, Java 1.5.0_13-119, Groovy from svn HEAD</environment>
        <key id="12816452">GROOVY-2906</key>
            <summary>Fix and improvement for Base64 encoding in GDK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulk">Paul King</assignee>
                                    <reporter username="varnerac">Drew Varner</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jun 2008 11:53:22 +0000</created>
                <updated>Sun, 5 Apr 2015 14:44:17 +0000</updated>
                            <resolved>Wed, 25 Jun 2008 08:17:27 +0000</resolved>
                                    <version>1.5.6</version>
                    <version>1.6-beta-1</version>
                                    <fixVersion>1.5.7</fixVersion>
                    <fixVersion>1.6-beta-2</fixVersion>
                                    <component>groovy-jdk</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14464933" author="paulk" created="Wed, 18 Jun 2008 03:58:29 +0000"  >&lt;p&gt;svn:mime-type should be text/plain now&lt;/p&gt;</comment>
                            <comment id="14478244" author="paulk" created="Wed, 18 Jun 2008 07:03:44 +0000"  >&lt;p&gt;I applied the patch but I seem to get a different base64 value for the converted string:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;wqcxMjM0NTY3ODkwLT3CsSFAwqMkJV4mKigpXytxd2VydHl1aW9wW11RV0VSVFlVSU9Qe31hc2RmZ2hqa2w7J1xBU0RGR0hKS0w6InxgenhjdmJubSwuL35aWENWQk5NPD4/A//wDw==
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14478231" author="paulk" created="Wed, 18 Jun 2008 08:12:44 +0000"  >&lt;p&gt;We seem to get these values:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;//    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; line0windows == &lt;span class=&quot;code-quote&quot;&gt;&apos;wqcxMjM0NTY3ODkwLT3CsSFAwqMkJV4mKigpXytxd2VydHl1aW9wW11RV0VSVFlVSU9Qe31hc2Rm&apos;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; line0macosx  == &lt;span class=&quot;code-quote&quot;&gt;&apos;rN8xMjM0NTY3ODkwLT2ssSFArKMkJV4mKigpXytxd2VydHl1aW9wW11RV0VSVFlVSU9Qe31hc2Rm&apos;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; line0linux   == &lt;span class=&quot;code-quote&quot;&gt;&apos;Pz8xMjM0NTY3ODkwLT0/PyFAPz8kJV4mKigpXytxd2VydHl1aW9wW11RV0VSVFlVSU9Qe31hc2Rm&apos;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14464989" author="varnerac" created="Wed, 18 Jun 2008 13:27:23 +0000"  >&lt;p&gt;I am looking at this now. I think I know what the issue is.&lt;/p&gt;</comment>
                            <comment id="14464944" author="tug" created="Fri, 20 Jun 2008 10:28:54 +0000"  >&lt;p&gt;RFC 4648 has, I think, become the defining RFC for Base64 &lt;a href=&quot;http://tools.ietf.org/html/rfc4648&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc4648&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="14464972" author="varnerac" created="Wed, 25 Jun 2008 02:55:11 +0000"  >&lt;p&gt;I think this patch fixes the cross-platform test issue. I tested it on OS X and on a Windows XP Virtual Machine.&lt;/p&gt;

&lt;p&gt;RFC 4648 is indeed the reference for Base64.  One of my comments in the unit test references RFC 2045. RFC 2045 is still the reference for Base 64 MIME encoding, and thus dictated the length of lines for chunking and the chunk separator (CRLF). RFC 4648 covers these, but takes the information from RFC 2045. I think leaving the reference in there is valid since Groovy specifically uses Base64 MIME encoding in the original method call. Also, I think the reference to RFC 2045 is better because it clarifies that we aren&apos;t using another chunked encoding style like PEM.&lt;/p&gt;</comment>
                            <comment id="14465063" author="paulk" created="Wed, 25 Jun 2008 03:46:19 +0000"  >&lt;p&gt;The additional change didn&apos;t seem to make a difference. What value do you get for line0 in the last two tests?&lt;/p&gt;</comment>
                            <comment id="14464928" author="varnerac" created="Wed, 25 Jun 2008 05:55:53 +0000"  >&lt;p&gt;The problem was the funny characters in the test string. It works fine for verifying a encoding then decoding returns the same value. I looked at the unit tests in Apache Commons Codec and used standard alpha-numeric characters for the test string and it works fine.&lt;/p&gt;</comment>
                            <comment id="14478221" author="paulk" created="Wed, 25 Jun 2008 06:23:49 +0000"  >&lt;p&gt;The &apos;funny&apos; characters were probably put there for a specific reason. I am reluctant to remove them (from the original test at least).&lt;/p&gt;</comment>
                            <comment id="14478242" author="paulk" created="Wed, 25 Jun 2008 08:15:06 +0000"  >&lt;p&gt;OK, I created a separate test for the &apos;funny&apos; characters. We just round-trip them to make sure that works. Then I replaced those characters with their unicode equivalents for all other tests. That seems to cover all bases.&lt;/p&gt;</comment>
                            <comment id="14478205" author="paulk" created="Thu, 26 Jun 2008 02:22:52 +0000"  >&lt;p&gt;update fix version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12720963" name="Base64Test.groovy" size="2411" author="varnerac" created="Sun, 15 Jun 2008 11:53:22 +0000"/>
                            <attachment id="12721451" name="GroovyBase64Patch.txt" size="3677" author="varnerac" created="Sun, 15 Jun 2008 11:53:22 +0000"/>
                            <attachment id="12721336" name="GroovyBase64PatchFinal.txt" size="1201" author="varnerac" created="Wed, 25 Jun 2008 02:55:11 +0000"/>
                            <attachment id="12720968" name="OkReallyFixedNow.txt" size="2259" author="varnerac" created="Wed, 25 Jun 2008 05:55:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2cjvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>