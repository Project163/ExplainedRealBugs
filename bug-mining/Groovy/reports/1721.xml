<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 00:24:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[GROOVY-5163] IncompatibleClassChangeError when running groovysh</title>
                <link>https://issues.apache.org/jira/browse/GROOVY-5163</link>
                <project id="12318123" key="GROOVY">Groovy</project>
                    <description>&lt;p&gt;Wondering if this bug is new in Groovy 1.8.4; it seems it work better in 1.8.2.&lt;/p&gt;

&lt;p&gt;The problem is that groovysh is throwing IncompatibleClassChangeError in a few cases:&lt;br/&gt;
import com.not.Found // import that doesn&apos;t resolve to class&lt;br/&gt;
show // command doesn&apos;t run at all&lt;br/&gt;
purge // command doesn&apos;t run at all&lt;/p&gt;

&lt;p&gt;Groovy 1.8.4 appears to be working well, otherwise.&lt;/p&gt;

&lt;p&gt;Please let me know if you need further info. It seems reproducible, here.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
John&lt;/p&gt;</description>
                <environment>Mac Java 6</environment>
        <key id="12815996">GROOVY-5163</key>
            <summary>IncompatibleClassChangeError when running groovysh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="melix">C&#233;dric Champeau</assignee>
                                    <reporter username="jwb">jwb</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Dec 2011 19:46:22 +0000</created>
                <updated>Sun, 12 Feb 2012 04:03:06 +0000</updated>
                            <resolved>Tue, 31 Jan 2012 09:51:59 +0000</resolved>
                                    <version>1.8.4</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0-beta-3</fixVersion>
                                    <component>Groovysh</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14472111" author="ssozonoff" created="Mon, 12 Dec 2011 12:28:53 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I would just like to confirm that I am seeing the same.&lt;/p&gt;

&lt;p&gt;1.8.2 seems to work.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Serge&lt;/p&gt;</comment>
                            <comment id="14472247" author="jwagenleitner" created="Tue, 17 Jan 2012 23:46:26 +0000"  >&lt;p&gt;I think this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/GROOVY-4838&quot; title=&quot;Class that extends ClassLoader compiled with JDK 1.5 fails to run on JDK 1.6 with IncompatibleClassChangeError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;GROOVY-4838&quot;&gt;&lt;del&gt;GROOVY-4838&lt;/del&gt;&lt;/a&gt;.  Jdk 7 added a protected constructor to the &lt;tt&gt;Exception&lt;/tt&gt; class.  For Groovy 1.8.4, it works for me if I use jdk7 to run groovysh but I get the &lt;tt&gt;IncompatibleClassChangeError&lt;/tt&gt; if I run with jdk6.  &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;~/java/groovy-1.8.4$ bin/groovysh 
Groovy Shell (1.8.4, JVM: 1.7.0_02)
Type &lt;span class=&quot;code-quote&quot;&gt;&apos;help&apos;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&apos;\h&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; help.
-----------------------------------------------------------------------------------------------------------------------
groovy:000&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.not.Found
ERROR org.codehaus.groovy.tools.shell.CommandException:
Invalid &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; definition: &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.not.Found&apos;&lt;/span&gt;; reason: startup failed:
script1326865167473423932601.groovy: 1: unable to resolve &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;com.not.Found
 @ line 1, column 1.
   &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.not.Found
   ^

1 error

        at java_lang_Runnable$run.call (Unknown Source)
groovy:000&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;My guess this is happening because &lt;tt&gt;org.codehaus.groovy.tools.shell.CommandException&lt;/tt&gt; is a Groovy class and v1.8.4 was compiled with jdk7.&lt;/p&gt;

&lt;p&gt;If I build from source using jdk7, then I get the &lt;tt&gt;IncompatibleClassChangeError&lt;/tt&gt; when running groovysh with jdk6.  Same occurs when building using jdk6 and running with jdk7.&lt;/p&gt;</comment>
                            <comment id="14472184" author="jwagenleitner" created="Wed, 18 Jan 2012 20:51:58 +0000"  >&lt;p&gt;I have added a github pull request for this issue, &lt;a href=&quot;https://github.com/groovy/groovy-core/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/groovy/groovy-core/pull/16&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2c40v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>