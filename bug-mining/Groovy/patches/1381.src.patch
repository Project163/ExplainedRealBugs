diff --git a/src/main/org/codehaus/groovy/ant/Groovyc.java b/src/main/org/codehaus/groovy/ant/Groovyc.java
index 94421abe3a..a291f95a7e 100644
--- a/src/main/org/codehaus/groovy/ant/Groovyc.java
+++ b/src/main/org/codehaus/groovy/ant/Groovyc.java
@@ -789,6 +789,11 @@ public class Groovyc extends MatchingTask {
                     if ((memoryMaximumSize != null) && !memoryMaximumSize.equals("")) {
                         commandLineList.add("-Xmx" + memoryMaximumSize);
                     }
+                    if(!"*.groovy".equals(getScriptExtension())) {
+                    	String tmpExtension = getScriptExtension();
+                    	if(tmpExtension.startsWith("*.")) tmpExtension = tmpExtension.substring(1);
+                    	commandLineList.add("-Dgroovy.default.scriptExtension=" + tmpExtension);
+                    }
                     commandLineList.add("org.codehaus.groovy.tools.FileSystemCompiler");
                 }
                 commandLineList.add("--classpath");
@@ -879,6 +884,9 @@ public class Groovyc extends MatchingTask {
 
                         configuration = FileSystemCompiler.generateCompilerConfigurationFromOptions(cli);
                         configuration.setScriptExtensions(getScriptExtensions());
+                        String tmpExtension = getScriptExtension();
+                        if(tmpExtension.startsWith("*.")) tmpExtension = tmpExtension.substring(1);
+                        configuration.setDefaultScriptExtension(tmpExtension);
 
                         // Load the file name list
                         String[] filenames = FileSystemCompiler.generateFileNamesFromOptions(cli);
diff --git a/src/main/org/codehaus/groovy/control/CompilerConfiguration.java b/src/main/org/codehaus/groovy/control/CompilerConfiguration.java
index 4b4b5ce285..d95b301701 100644
--- a/src/main/org/codehaus/groovy/control/CompilerConfiguration.java
+++ b/src/main/org/codehaus/groovy/control/CompilerConfiguration.java
@@ -169,7 +169,17 @@ public class CompilerConfiguration {
         } else {
             setTargetBytecode(getVMVersion());
         }
-        setDefaultScriptExtension(".groovy");
+        String tmpDefaultScriptExtension = null;
+        try {
+        	tmpDefaultScriptExtension = System.getProperty("groovy.default.scriptExtension");
+        } catch (Exception e) {
+        	// IGNORE
+        }
+        if(tmpDefaultScriptExtension != null) {
+        	setDefaultScriptExtension(tmpDefaultScriptExtension);
+        } else {
+        	setDefaultScriptExtension(".groovy");
+        }
 
         //
         // Source file encoding
