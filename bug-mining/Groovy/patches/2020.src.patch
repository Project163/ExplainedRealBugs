diff --git a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
index 41109aef3a..fcbc7d1020 100644
--- a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
+++ b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
@@ -67,7 +67,10 @@ public class StaticTypesCallSiteWriter extends CallSiteWriter implements Opcodes
     public void makeGetPropertySite(Expression receiver, final String methodName, final boolean safe, final boolean implicitThis) {
         TypeChooser typeChooser = controller.getTypeChooser();
         ClassNode classNode = controller.getClassNode();
-        ClassNode receiverType = typeChooser.resolveType(receiver, classNode);
+        ClassNode receiverType = (ClassNode) receiver.getNodeMetaData(StaticCompilationMetadataKeys.PROPERTY_OWNER);
+        if (receiverType==null) {
+            receiverType = typeChooser.resolveType(receiver, classNode);
+        }
         Object type = receiver.getNodeMetaData(StaticTypesMarker.INFERRED_TYPE);
         if (type==null && receiver instanceof VariableExpression) {
             Variable variable = ((VariableExpression) receiver).getAccessedVariable();
diff --git a/src/main/org/codehaus/groovy/transform/sc/StaticCompilationMetadataKeys.java b/src/main/org/codehaus/groovy/transform/sc/StaticCompilationMetadataKeys.java
index d3e12d91c4..f9f7221a4b 100644
--- a/src/main/org/codehaus/groovy/transform/sc/StaticCompilationMetadataKeys.java
+++ b/src/main/org/codehaus/groovy/transform/sc/StaticCompilationMetadataKeys.java
@@ -25,5 +25,6 @@ public enum StaticCompilationMetadataKeys {
     BINARY_EXP_TARGET, // use to tell which method should be used in a binary expression
     PRIVATE_BRIDGE_METHODS, // private bridge methods are methods used by an outer class to access an inner class method
     PRIVATE_FIELDS_ACCESSORS, // private constants methods are methods used by an outer class to access an outer class constant
+    PROPERTY_OWNER, // the type of the class which owns the property
     COMPONENT_TYPE // for list.property expressions, we need the inferred component type
 }
diff --git a/src/main/org/codehaus/groovy/transform/sc/StaticCompilationVisitor.java b/src/main/org/codehaus/groovy/transform/sc/StaticCompilationVisitor.java
index 201b8ea1ce..874d421f85 100644
--- a/src/main/org/codehaus/groovy/transform/sc/StaticCompilationVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/sc/StaticCompilationVisitor.java
@@ -15,6 +15,7 @@
  */
 package org.codehaus.groovy.transform.sc;
 
+import groovy.lang.Reference;
 import groovy.transform.CompileStatic;
 import groovy.transform.TypeChecked;
 import org.codehaus.groovy.ast.*;
@@ -276,10 +277,37 @@ public class StaticCompilationVisitor extends StaticTypeCheckingVisitor {
 
     @Override
     protected boolean existsProperty(final PropertyExpression pexp, final boolean checkForReadOnly, final ClassCodeVisitorSupport visitor) {
-        boolean exists = super.existsProperty(pexp, checkForReadOnly, visitor);
+        Expression objectExpression = pexp.getObjectExpression();
+        ClassNode objectExpressionType = getType(objectExpression);
+        final Reference<ClassNode> rType = new Reference<ClassNode>(objectExpressionType);
+        ClassCodeVisitorSupport receiverMemoizer = new ClassCodeVisitorSupport() {
+            @Override
+            protected SourceUnit getSourceUnit() {
+                return null;
+            }
+
+            public void visitField(final FieldNode node) {
+                if (visitor!=null) visitor.visitField(node);
+                ClassNode declaringClass = node.getDeclaringClass();
+                if (declaringClass!=null) rType.set(declaringClass);
+            }
+
+            public void visitMethod(final MethodNode node) {
+                if (visitor!=null) visitor.visitMethod(node);
+                ClassNode declaringClass = node.getDeclaringClass();
+                if (declaringClass!=null) rType.set(declaringClass);
+            }
+
+            @Override
+            public void visitProperty(final PropertyNode node) {
+                if (visitor!=null) visitor.visitProperty(node);
+                ClassNode declaringClass = node.getDeclaringClass();
+                if (declaringClass!=null) rType.set(declaringClass);
+            }
+        };
+        boolean exists = super.existsProperty(pexp, checkForReadOnly, receiverMemoizer);
         if (exists) {
-            Expression objectExpression = pexp.getObjectExpression();
-            ClassNode objectExpressionType = getType(objectExpression);
+            objectExpression.putNodeMetaData(StaticCompilationMetadataKeys.PROPERTY_OWNER, rType.get());
             if (StaticTypeCheckingSupport.implementsInterfaceOrIsSubclassOf(objectExpressionType, ClassHelper.LIST_TYPE)) {
                 objectExpression.putNodeMetaData(COMPONENT_TYPE, inferComponentType(objectExpressionType, ClassHelper.int_TYPE));
             }
diff --git a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
index e57523187c..cdae64a2b0 100644
--- a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
+++ b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
@@ -621,5 +621,46 @@ class BugsStaticCompileTest extends BugsSTCTest {
             new Test( 1, 'tim' )
         '''
     }
+
+    // GROOVY-5738
+    void testAccessFieldFromGStringAfterInstanceOf() {
+        new GroovyShell().evaluate '''
+            class Greeting { String who }
+
+            @groovy.transform.CompileStatic
+            class GreetingActor {
+
+              def receive = {
+                if(it instanceof Greeting) {
+                    println "Hello ${it.who}"
+                }
+              }
+
+            }
+            new GreetingActor().receive(new Greeting(who:'cedric'))
+        '''
+    }
+
+    // GROOVY-5738
+    void testAccessMethodFromGStringAfterInstanceOf() {
+        new GroovyShell().evaluate '''
+            class Greeting {
+                String who
+                String whoAmI() { who }
+            }
+
+            @groovy.transform.CompileStatic
+            class GreetingActor {
+
+              def receive = {
+                if(it instanceof Greeting) {
+                    println "Hello ${it.whoAmI()}"
+                }
+              }
+
+            }
+            new GreetingActor().receive(new Greeting(who:'cedric'))
+        '''
+    }
 }
 
