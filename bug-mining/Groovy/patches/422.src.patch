diff --git a/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDocAssembler.java b/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDocAssembler.java
index 4f3fb2df27..d952214cd5 100644
--- a/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDocAssembler.java
+++ b/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDocAssembler.java
@@ -158,19 +158,19 @@ public class SimpleGroovyClassDocAssembler extends VisitorAdapter {
 		String returnValue = "";
 		
 		String text = sourceBuffer.getSnippet(new LineColumn(1,1), new LineColumn(t.getLine(), t.getColumn()));
-
-		int openBlockIndex = text.lastIndexOf("{");
-		int closingBlockIndex = text.lastIndexOf("}");
-		int lastBlockIndex = Math.max(openBlockIndex, closingBlockIndex);
-		if (lastBlockIndex > 0) {
-			text = text.substring(lastBlockIndex);
-		}
-
-		Matcher m = previousJavaDocCommentPattern.matcher(text);
-		if (m.find()) {
-			returnValue = m.group(1);
-		}
-		
+        if (text != null) {
+            int openBlockIndex = text.lastIndexOf("{");
+            int closingBlockIndex = text.lastIndexOf("}");
+            int lastBlockIndex = Math.max(openBlockIndex, closingBlockIndex);
+            if (lastBlockIndex > 0) {
+                text = text.substring(lastBlockIndex);
+            }
+
+            Matcher m = previousJavaDocCommentPattern.matcher(text);
+            if (m.find()) {
+                returnValue = m.group(1);
+            }
+        }
 		
 		return returnValue;
 	}
