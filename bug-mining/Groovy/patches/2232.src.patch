diff --git a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
index d2512c5dac..d693213422 100644
--- a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
@@ -977,6 +977,21 @@ public class AsmClassGenerator extends ClassGenerator {
                                 outer = outer.getSuperClass();
                             }
                         }
+                        if (field==null
+                                && expression instanceof AttributeExpression
+                                && isThisExpression(objectExpression)
+                                && controller.isStaticContext()) {
+                            // GROOVY-6183
+                            ClassNode current = classNode.getSuperClass();
+                            while (field==null && current!=null) {
+                                field = current.getDeclaredField(name);
+                                current = current.getSuperClass();
+                            }
+                            if (field!=null && (field.isProtected() || field.isPublic())) {
+                                visitFieldExpression(new FieldExpression(field));
+                                return;
+                            }
+                        }
                 	}
                 }
                 if (field != null && !privateSuperField) {//GROOVY-4497: don't visit super field if it is private
@@ -1063,6 +1078,8 @@ public class AsmClassGenerator extends ClassGenerator {
     public void visitAttributeExpression(AttributeExpression expression) {
         Expression objectExpression = expression.getObjectExpression();
         MethodCallerMultiAdapter adapter;
+        OperandStack operandStack = controller.getOperandStack();
+        int mark = operandStack.getStackLength()-1;
         if (controller.getCompileStack().isLHS()) {
             adapter = setField;
             if (isGroovyObject(objectExpression)) adapter = setGroovyObjectField;
@@ -1076,7 +1093,7 @@ public class AsmClassGenerator extends ClassGenerator {
         if (!controller.getCompileStack().isLHS()) {
             controller.getAssertionWriter().record(expression.getProperty());
         } else {
-            controller.getOperandStack().remove(2);
+            operandStack.remove(operandStack.getStackLength() - mark);
         }
     }
 
diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 2c91cfefc6..fabf0e60fb 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -289,7 +289,16 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
         super.visitVariableExpression(vexp);
         if (vexp != VariableExpression.THIS_EXPRESSION &&
                 vexp != VariableExpression.SUPER_EXPRESSION) {
-            if (vexp.getName().equals("this")) storeType(vexp, typeCheckingContext.getEnclosingClassNode());
+            if (vexp.getName().equals("this")) {
+                ClassNode enclosingClassNode = typeCheckingContext.getEnclosingClassNode();
+                if (typeCheckingContext.isInStaticContext) {
+                    ClassNode clazzType = CLASS_Type.getPlainNodeReference();
+                    clazzType.setGenericsTypes(new GenericsType[] {new GenericsType(enclosingClassNode)});
+                    storeType(vexp, clazzType);
+                } else {
+                    storeType(vexp, enclosingClassNode);
+                }
+            }
             if (vexp.getName().equals("super")) storeType(vexp, typeCheckingContext.getEnclosingClassNode().getSuperClass());
             if (typeCheckingContext.getEnclosingClosure() != null) {
                 if (vexp.getName().equals("owner") || vexp.getName().equals("thisObject")) {
diff --git a/src/test/groovy/bugs/Groovy4418Bug.groovy b/src/test/groovy/bugs/Groovy4418Bug.groovy
index 61f64bc438..d29c8ec79d 100644
--- a/src/test/groovy/bugs/Groovy4418Bug.groovy
+++ b/src/test/groovy/bugs/Groovy4418Bug.groovy
@@ -31,4 +31,19 @@ class Groovy4418Bug extends CompilableTestSupport {
             assert new Subclass().method() == 'foo'
         '''
     }
+
+    // additional test for GROOVY-6183
+    void testStaticAttributeAccess() {
+        assertScript '''
+        class A {
+            static protected int x
+            public static void reset() { this.@x = 2 }
+        }
+        assert A.x == 0
+        assert A.@x == 0
+        A.reset()
+        assert A.x == 2
+        assert A.@x == 2
+        '''
+    }
 }
diff --git a/src/test/groovy/transform/stc/BugsSTCTest.groovy b/src/test/groovy/transform/stc/BugsSTCTest.groovy
index 60f868995f..d051cbaadc 100644
--- a/src/test/groovy/transform/stc/BugsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/BugsSTCTest.groovy
@@ -468,4 +468,24 @@ class BugsSTCTest extends StaticTypeCheckingTestCase {
         '''
     }
 
+    // GROOVY-6162
+    void testShouldConsiderThisInStaticContext() {
+        assertScript '''
+            class Foo {
+                static def staticMethod() {
+                    @ASTTest(phase=INSTRUCTION_SELECTION,value={
+                        def ift = node.rightExpression.getNodeMetaData(INFERRED_TYPE)
+                        assert ift == CLASS_Type
+                        assert ift.isUsingGenerics()
+                        assert ift.genericsTypes[0].type.name == 'Foo'
+                    })
+                    def foo = this
+
+                    this.classLoader
+                }
+            }
+            assert Foo.staticMethod() instanceof ClassLoader
+        '''
+    }
+
 }
