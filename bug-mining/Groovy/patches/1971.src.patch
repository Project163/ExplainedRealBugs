diff --git a/subprojects/groovy-xml/src/main/java/groovy/util/XmlNodePrinter.java b/subprojects/groovy-xml/src/main/java/groovy/util/XmlNodePrinter.java
index f78bce73ac..8aa74b29d1 100644
--- a/subprojects/groovy-xml/src/main/java/groovy/util/XmlNodePrinter.java
+++ b/subprojects/groovy-xml/src/main/java/groovy/util/XmlNodePrinter.java
@@ -383,13 +383,13 @@ public class XmlNodePrinter {
                     out.print("&amp;");
                     break;
                 case '\'':
-                    if (quote.equals("'"))
+                    if (isAttributeValue && quote.equals("'"))
                         out.print("&apos;");
                     else
                         out.print(c);
                     break;
                 case '"':
-                    if (quote.equals("\""))
+                    if (isAttributeValue && quote.equals("\""))
                         out.print("&quot;");
                     else
                         out.print(c);
diff --git a/subprojects/groovy-xml/src/test/groovy/groovy/util/XmlNodePrinterTest.groovy b/subprojects/groovy-xml/src/test/groovy/groovy/util/XmlNodePrinterTest.groovy
index 5b064ce5f0..e13c6f8746 100644
--- a/subprojects/groovy-xml/src/test/groovy/groovy/util/XmlNodePrinterTest.groovy
+++ b/subprojects/groovy-xml/src/test/groovy/groovy/util/XmlNodePrinterTest.groovy
@@ -57,8 +57,7 @@ class XmlNodePrinterTest extends GroovyTestCase {
     def attributeExpectedOutputQuot = """<Field Text="&lt;html&gt;&quot;Some 'Text'&quot;&lt;/html&gt;"/>\n"""
     def attributeExpectedOutputApos = """<Field Text='&lt;html&gt;"Some &apos;Text&apos;"&lt;/html&gt;'/>\n"""
 
-    def tagWithSpecialCharsInput = """<Field>&lt;&amp;&gt;</Field>"""
-    def tagWithSpecialCharsOutput = """<Field>\n  &lt;&amp;&gt;\n</Field>\n"""
+    def tagWithSpecialChars = """<Field>\n  &lt;&amp;&gt;'"\n</Field>\n"""
 
     def attributeWithNewlineInput = "<Field Text=\"Some&#10;Text&#10;&#13;\"/>"
     def attributeWithNewlineExpectedOutput = "<Field Text=\"Some&#10;Text&#10;&#13;\"/>\n"
@@ -145,9 +144,14 @@ class XmlNodePrinterTest extends GroovyTestCase {
         checkRoundtrip attributeWithNewlineInput, attributeWithNewlineExpectedOutput
     }
 
-    void testContentWithSpecialSymbols() {
+    void testContentWithSpecialSymbolsApos() {
         printer = new XmlNodePrinter(pw, "  ", "'")
-        checkRoundtrip tagWithSpecialCharsOutput, tagWithSpecialCharsOutput
+        checkRoundtrip tagWithSpecialChars, tagWithSpecialChars
+    }
+
+    void testContentWithSpecialSymbolsQuot() {
+        printer = new XmlNodePrinter(pw, "  ", "\"")
+        checkRoundtrip tagWithSpecialChars, tagWithSpecialChars
     }
 
     void testAttributeWithNamespaceInput() {
