diff --git a/src/main/java/org/codehaus/groovy/control/GenericsVisitor.java b/src/main/java/org/codehaus/groovy/control/GenericsVisitor.java
index 69356f2ce0..4742b71069 100644
--- a/src/main/java/org/codehaus/groovy/control/GenericsVisitor.java
+++ b/src/main/java/org/codehaus/groovy/control/GenericsVisitor.java
@@ -69,6 +69,7 @@ public class GenericsVisitor extends ClassCodeVisitorSupport {
             checkGenericsUsage(face);
         }
 
+        visitObjectInitializerStatements(node);
         node.visitContents(this);
     }
 
diff --git a/src/test/gls/generics/GenericsUsageTest.groovy b/src/test/gls/generics/GenericsUsageTest.groovy
index 5b8ec7d7d2..a1469fe943 100644
--- a/src/test/gls/generics/GenericsUsageTest.groovy
+++ b/src/test/gls/generics/GenericsUsageTest.groovy
@@ -318,27 +318,39 @@ final class GenericsUsageTest extends CompilableTestSupport {
 
         // variable declaration
         shouldFailCompilationWithMessages '''
-             def method() { Map<String> map }
+            def method() { Map<String> map }
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
         shouldFailCompilationWithMessages '''
-             def method() { Map<String, Map<String>> map }
+            def method() { Map<String, Map<String>> map }
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
         shouldFailCompilationWithMessages '''
-             def (Map<String,String> one, Map<String> two) = [ [:], [:] ]
+            def (Map<String,String> one, Map<String> two) = [ [:], [:] ]
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
         shouldFailCompilationWithMessages '''
-             Map<String>[][] array = new Map[0][0]
+            Map<String>[][] array = new Map[0][0]
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
         shouldFailCompilationWithMessages '''
-             Map<String,String>[][] array = new Map<String>[0][]
+            Map<String,String>[][] array = new Map<String>[0][]
+        ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
+        shouldFailCompilationWithMessages '''
+            class C { { Map<String> m = null } }
+        ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
+        shouldFailCompilationWithMessages '''
+            class C { static { Map<String> m = null } }
+        ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
+        shouldFailCompilationWithMessages '''
+            @groovy.transform.ASTTest(value={
+                Map<String> m = null
+            })
+            class C { }
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
 
         // casting and coercion
         shouldFailCompilationWithMessages '''
-             def map = (Map<String>) null
+            def map = (Map<String>) null
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
         shouldFailCompilationWithMessages '''
-             def map = null as Map<String>
+            def map = null as Map<String>
         ''', ['(supplied with 1 type parameter)', 'which takes 2 parameters']
     }
 
