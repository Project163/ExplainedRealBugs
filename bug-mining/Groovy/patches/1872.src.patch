diff --git a/build.gradle b/build.gradle
index de4604f4ed..72895d6129 100644
--- a/build.gradle
+++ b/build.gradle
@@ -17,11 +17,6 @@ allprojects {
         mavenCentral()
     }
 
-    task sourceJar(type: Jar) {
-        classifier = 'sources'
-        from sourceSets.main.allSource
-    }
-
     apply plugin: 'checkstyle'
     apply plugin: 'groovy'
     apply plugin: 'codenarc'
@@ -102,6 +97,11 @@ task(copyTestResources, type: Copy)
         .include('**/*.txt', '**/*.xml', '**/*.properties', '**/*.png', '**/*.html', '**/*.gif', '**/*.ico', '**/*.css')
 compileTestJava.dependsOn(copyTestResources)
 
+task sourceJar(type: Jar) {
+    classifier = 'sources'
+    from 'src/main'
+}
+
 subprojects {
     // todo: use the conventional "resources" directory for classpath resources
     task(copyResources, type: Copy) {
@@ -127,6 +127,11 @@ subprojects {
             .into("$buildDir/classes/test")
             .include('**/*.txt', '**/*.xml', '**/*.properties', '**/*.png', '**/*.html', '**/*.gif', '**/*.ico', '**/*.css')
     compileTestJava.dependsOn(copyTestResources)
+    task sourceJar(type: Jar) {
+        classifier = 'sources'
+        from sourceSets.main.allSource
+    }
+
 }
 
 repositories {
diff --git a/gradle/assemble.gradle b/gradle/assemble.gradle
index 91fd5c1a25..a8a08eea97 100644
--- a/gradle/assemble.gradle
+++ b/gradle/assemble.gradle
@@ -239,14 +239,13 @@ task jarAllAll(dependsOn: [jarAll, jarAllWithIndy]) {
 
 }
 
-task sourceAllJar(type: Jar, dependsOn: { modules()*.sourceJar }) {
+task sourceAllJar(type: Jar, dependsOn: { modules()*.sourceJar + rootProject.sourceJar }) {
     with sourceJar.rootSpec
     modules()*.sourceJar.each {
         with it.rootSpec
     }
     appendix = 'all'
     classifier = rootProject.useIndy()?'indy-sources':'sources'
-    //with sourceJar.rootSpec
 }
 
 allprojects {
