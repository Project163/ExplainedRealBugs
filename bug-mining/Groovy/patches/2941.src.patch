diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index b749df8920..76bd0d8475 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -1034,7 +1034,8 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
                             " for class: " + receiverType.getName(), receiver);
                 } else {
                     ClassNode valueType = getType(entryExpression.getValueExpression());
-                    ClassNode toBeAssignedTo = lookup.get();
+                    MethodNode setter = receiverType.getSetterMethod("set" + MetaClassHelper.capitalize(pexp.getPropertyAsString()), false);
+                    ClassNode toBeAssignedTo = setter == null ? lookup.get() : setter.getParameters()[0].getType();
                     if (!isAssignableTo(valueType, toBeAssignedTo)
                             && !extension.handleIncompatibleAssignment(toBeAssignedTo, valueType, entryExpression)) {
                         addAssignmentError(toBeAssignedTo, valueType, entryExpression);
diff --git a/src/test/groovy/transform/stc/ConstructorsSTCTest.groovy b/src/test/groovy/transform/stc/ConstructorsSTCTest.groovy
index 6b6d630f70..f0d0c42e78 100644
--- a/src/test/groovy/transform/stc/ConstructorsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/ConstructorsSTCTest.groovy
@@ -368,5 +368,27 @@ class ConstructorsSTCTest extends StaticTypeCheckingTestCase {
             blah(a:'foo')
         '''
     }
+
+    //GROOVY-7164
+    void testDefaultConstructorWhenSetterParamAndFieldHaveDifferentTypes() {
+        assertScript '''
+            class Test {
+                private long timestamp
+
+                Date getTimestamp() {
+                    return timestamp ? new Date(timestamp) : null
+                }
+
+                void setTimestamp (Date timestamp) {
+                    this.timestamp = timestamp.time
+                }
+
+                def main() {
+                    new Test(timestamp: new Date())
+                }
+            }
+            new Test().main()
+        '''
+    }
 }
 
