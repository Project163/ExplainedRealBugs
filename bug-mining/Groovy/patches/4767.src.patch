diff --git a/src/main/java/org/codehaus/groovy/ast/tools/GenericsUtils.java b/src/main/java/org/codehaus/groovy/ast/tools/GenericsUtils.java
index 39deb6cf83..1c2706c71c 100644
--- a/src/main/java/org/codehaus/groovy/ast/tools/GenericsUtils.java
+++ b/src/main/java/org/codehaus/groovy/ast/tools/GenericsUtils.java
@@ -321,8 +321,7 @@ public class GenericsUtils {
         }
         if (temp instanceof DecompiledClassNode // GROOVY-10461: check without resolving supers
                         ? ((DecompiledClassNode) temp).isParameterized() : temp.isUsingGenerics()) {
-            ClassNode result = ClassHelper.makeWithoutCaching(temp.getName());
-            result.setRedirect(temp);
+            ClassNode result = temp.getPlainNodeReference();
             result.setGenericsTypes(null);
             result.setUsingGenerics(false);
             while (dims > 0) { dims -= 1;
diff --git a/src/test/groovy/transform/stc/BugsSTCTest.groovy b/src/test/groovy/transform/stc/BugsSTCTest.groovy
index ffffe02cf5..46174de99b 100644
--- a/src/test/groovy/transform/stc/BugsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/BugsSTCTest.groovy
@@ -234,22 +234,14 @@ class BugsSTCTest extends StaticTypeCheckingTestCase {
     }
 
     void testGroovy5482ListsAndFlowTyping() {
-        assertScript '''
-            class StaticGroovy2 {
-                def bar() {
-
-                    def foo = [new Date(), 1, new C()]
-                    foo.add( 2 ) // Compiles
-                    foo.add( new Date() )
-                    foo.add( new C() )
-
-                    foo = [new Date(), 1]
-                    foo.add( 2 ) // Does not compile
-                }
-            }
-            class C {
-            }
-            new StaticGroovy2()
+        assertScript '''class C {}
+            def foo = [new Date(), 1, new C()]
+            foo.add(new Date())
+            foo.add(new C())
+            foo.add(2)
+
+            foo = [new Date(), 1]
+            foo.add(2) // STC err
         '''
     }
 
diff --git a/src/test/groovy/transform/stc/GenericsSTCTest.groovy b/src/test/groovy/transform/stc/GenericsSTCTest.groovy
index d5b6cfd6aa..5cbeaeaca1 100644
--- a/src/test/groovy/transform/stc/GenericsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/GenericsSTCTest.groovy
@@ -2499,69 +2499,67 @@ class GenericsSTCTest extends StaticTypeCheckingTestCase {
             assertScript """
                 $mods void setX(List<String> strings) {
                 }
-                void test() {
-                    x = Collections.emptyList()
-                }
-                test()
+                x = Collections.emptyList()
             """
             assertScript """
                 $mods void setX(Collection<String> strings) {
                 }
-                void test() {
-                    x = Collections.emptyList()
-                }
-                test()
+                x = Collections.emptyList()
             """
             assertScript """
                 $mods void setX(Iterable<String> strings) {
                 }
-                void test() {
-                    x = Collections.emptyList()
-                }
-                test()
+                x = Collections.emptyList()
             """
 
             shouldFailWithMessages """
                 $mods void setX(List<String> strings) {
                 }
-                void test() {
-                    x = Collections.<Integer>emptyList()
-                }
+                x = Collections.<Integer>emptyList()
             """,
             'Incompatible generic argument types. Cannot assign java.util.List<java.lang.Integer> to: java.util.List<java.lang.String>'
         }
     }
 
-    // GROOVY-9734, GROOVY-9915
+    // GROOVY-9734, GROOVY-9915, GROOVY-11057
     void testShouldUseMethodGenericType4() {
         for (mods in ['', 'static']) {
             assertScript """
                 $mods void m(List<String> strings) {
                 }
-                void test() {
-                    m(Collections.emptyList())
-                }
-                test()
+                m(Collections.emptyList())
+                m([])
             """
             assertScript """
                 $mods void m(Collection<String> strings) {
                 }
-                void test() {
-                    m(Collections.emptyList())
-                }
-                test()
+                m(Collections.emptyList())
+                m([])
             """
             assertScript """
                 $mods void m(Iterable<String> strings) {
                 }
-                void test() {
-                    m(Collections.emptyList())
+                m(Collections.emptyList())
+                m([])
+            """
+            assertScript """
+                $mods void m(Map<String,Long> mapping) {
                 }
-                test()
+                m(Collections.emptyMap())
+                m([:])
             """
         }
     }
 
+    // GROOVY-11276
+    void testShouldUseMethodGenericType4a() {
+        assertScript '''
+            def map = new HashMap<String,List<String>>()
+            map.put('foo', Collections.emptyList())
+            map.put('bar', [])
+        '''
+    }
+
     // GROOVY-9751
     void testShouldUseMethodGenericType5() {
         assertScript '''
@@ -5428,6 +5426,46 @@ class GenericsSTCTest extends StaticTypeCheckingTestCase {
         '''
     }
 
+    // GROOVY-10673, GROOVY-11057
+    void testMockito() {
+        assertScript '''
+            @Grab('org.mockito:mockito-core:4.11.0')
+            import static org.mockito.Mockito.*
+
+            class C {
+                String string
+            }
+            interface I {
+                C f(String s)
+            }
+
+            def i = mock(I)
+            when(i.f(anyString())).thenAnswer { /*InvocationOnMock*/ iom ->
+                new C(string: iom.arguments[0])
+                new C().tap {
+                    string = iom.arguments[0]
+                }
+            }
+            assert i.f('x') instanceof C
+        '''
+
+        for (map in ['Collections.emptyMap()', '[:]']) {
+            assertScript """
+                @Grab('org.mockito:mockito-core:4.11.0')
+                import static org.mockito.Mockito.*
+
+                interface Configuration {
+                    Map<String,Object> getSettings()
+                }
+
+                def configuration = mock(Configuration).tap {
+                    when(it.getSettings()).thenReturn($map)
+                }
+                assert configuration.settings.isEmpty()
+            """
+        }
+    }
+
     //--------------------------------------------------------------------------
 
     static class MyList
