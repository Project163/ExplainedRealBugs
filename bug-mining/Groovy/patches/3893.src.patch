diff --git a/src/main/java/org/codehaus/groovy/classgen/asm/sc/StaticTypesUnaryExpressionHelper.java b/src/main/java/org/codehaus/groovy/classgen/asm/sc/StaticTypesUnaryExpressionHelper.java
index a46bf94138..54d75fe675 100644
--- a/src/main/java/org/codehaus/groovy/classgen/asm/sc/StaticTypesUnaryExpressionHelper.java
+++ b/src/main/java/org/codehaus/groovy/classgen/asm/sc/StaticTypesUnaryExpressionHelper.java
@@ -62,7 +62,7 @@ public class StaticTypesUnaryExpressionHelper extends UnaryExpressionHelper impl
         if (top == int_TYPE || top == long_TYPE || top == short_TYPE || top == byte_TYPE || top == char_TYPE) {
             bytecodeX(mv -> {
                 if (top == long_TYPE) {
-                    mv.visitLdcInsn(-1);
+                    mv.visitLdcInsn(-1L);
                     mv.visitInsn(LXOR);
                 } else {
                     mv.visitInsn(ICONST_M1);
diff --git a/src/test/groovy/transform/stc/UnaryOperatorSTCTest.groovy b/src/test/groovy/transform/stc/UnaryOperatorSTCTest.groovy
index b4854c6a79..6768f5e2aa 100644
--- a/src/test/groovy/transform/stc/UnaryOperatorSTCTest.groovy
+++ b/src/test/groovy/transform/stc/UnaryOperatorSTCTest.groovy
@@ -61,7 +61,7 @@ class UnaryOperatorSTCTest extends StaticTypeCheckingTestCase {
     }
 
     // GROOVY-9704
-    void _FIXME_testBitwiseNegate_long() {
+    void testBitwiseNegate_long() {
         assertScript '''
             long x = 1L
             assert ~x == -2L
