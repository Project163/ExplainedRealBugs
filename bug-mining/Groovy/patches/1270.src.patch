diff --git a/src/main/org/codehaus/groovy/runtime/dgmimpl/arrays/ObjectArrayPutAtMetaMethod.java b/src/main/org/codehaus/groovy/runtime/dgmimpl/arrays/ObjectArrayPutAtMetaMethod.java
index 43fc7f4cb1..6bcfb9f40c 100644
--- a/src/main/org/codehaus/groovy/runtime/dgmimpl/arrays/ObjectArrayPutAtMetaMethod.java
+++ b/src/main/org/codehaus/groovy/runtime/dgmimpl/arrays/ObjectArrayPutAtMetaMethod.java
@@ -39,27 +39,27 @@ public class ObjectArrayPutAtMetaMethod extends ArrayPutAtMetaMethod {
 
     public Object invoke(Object object, Object[] arguments) {
         final Object[] objects = (Object[]) object;
-        Object newValue = arguments[1];
-    	Class arrayComponentClass = objects.getClass().getComponentType();
     	final int index = normaliseIndex(((Integer) arguments[0]).intValue(), objects.length);
+        objects[index] = adjustNewValue(objects, arguments[1]);
+        return null;
+    }
+    
+    private static Object adjustNewValue(Object[] objects, Object newValue) {
+    	Class arrayComponentClass = objects.getClass().getComponentType();
+    	Object adjustedNewVal = newValue;
         if (newValue instanceof Number) {
         	if (!arrayComponentClass.equals(newValue.getClass())) {
-        		Object newVal = DefaultTypeTransformation.castToType(newValue, arrayComponentClass);
-        		objects[index] = newVal;
-        		return null;
+        		adjustedNewVal = DefaultTypeTransformation.castToType(newValue, arrayComponentClass);
         	}
         } else if (Character.class.isAssignableFrom(arrayComponentClass)) {
-        	objects[index] = DefaultTypeTransformation.getCharFromSizeOneString(newValue);
-            return null;
+        	adjustedNewVal = DefaultTypeTransformation.getCharFromSizeOneString(newValue);
         } else if (Number.class.isAssignableFrom(arrayComponentClass)) {
         	if(newValue instanceof Character || newValue instanceof String || newValue instanceof GString) {
         		Character ch = DefaultTypeTransformation.getCharFromSizeOneString(newValue);
-        		objects[index] = DefaultTypeTransformation.castToType(ch, arrayComponentClass);
-        		return null;
+        		adjustedNewVal = DefaultTypeTransformation.castToType(ch, arrayComponentClass);
         	}
         }
-        objects[index] = arguments[1];
-        return null;
+        return adjustedNewVal;
     }
 
     public CallSite createPojoCallSite(CallSite site, MetaClassImpl metaClass, MetaMethod metaMethod, Class[] params, Object receiver, Object[] args) {
@@ -78,7 +78,7 @@ public class ObjectArrayPutAtMetaMethod extends ArrayPutAtMetaMethod {
             if (checkPojoMetaClass()) {
                 try {
                     final Object[] objects = (Object[]) receiver;
-                    objects[normaliseIndex(((Integer) arg1).intValue(), objects.length)] = arg2;
+                    objects[normaliseIndex(((Integer) arg1).intValue(), objects.length)] = adjustNewValue(objects, arg2);
                     return null;
                 }
                 catch (ClassCastException e) {
diff --git a/src/test/groovy/bugs/Groovy4191Bug.groovy b/src/test/groovy/bugs/Groovy4191Bug.groovy
new file mode 100644
index 0000000000..8788598bb4
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy4191Bug.groovy
@@ -0,0 +1,28 @@
+/*
+ * Copyright 2003-2010 the original author or authors.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package groovy.bugs
+
+class Groovy4191Bug extends GroovyTestCase {
+    void testPutIntoArray() {
+		recreateProblem()    
+		recreateProblem()    
+    }
+
+	def recreateProblem() {
+	    def val = "a;2".split(";");
+	    val[1] = 1;
+	}
+}
\ No newline at end of file
