diff --git a/build.gradle b/build.gradle
index 511e00f625..be3a9f06b2 100644
--- a/build.gradle
+++ b/build.gradle
@@ -91,7 +91,12 @@ allprojects {
         }
         jcenter()
 //        maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }
-        maven { url 'https://dl.bintray.com/melix/thirdparty-apache' } // openbeans
+        maven { // openbeans
+            url 'https://dl.bintray.com/melix/thirdparty-apache'
+            metadataSources {
+                artifact()
+            }
+        }
 //        mavenLocal()
     }
 
@@ -177,6 +182,7 @@ dependencies {
         exclude(group: 'jmock', module: 'jmock')
         exclude(group: 'xmlpull', module: 'xmlpull')
     }
+    implementation "com.googlecode:openbeans:$openbeansVersion"
     implementation "org.fusesource.jansi:jansi:$jansiVersion"
     implementation("org.apache.ivy:ivy:$ivyVersion") {
         transitive = false
diff --git a/gradle/assemble.gradle b/gradle/assemble.gradle
index 6fd28e7e4a..713865931d 100644
--- a/gradle/assemble.gradle
+++ b/gradle/assemble.gradle
@@ -246,7 +246,7 @@ allprojects {
             dependsOn jarjar
             from = file(jarjar.outputFile)
             if (isRoot) {
-                repackagedLibraries = files(configurations.runtime.incoming.artifactView {
+                repackagedLibraries = files(configurations.runtimeClasspath.incoming.artifactView {
                     componentFilter { component ->
                         if (component instanceof ModuleComponentIdentifier) {
                             return component.module in ['openbeans']
