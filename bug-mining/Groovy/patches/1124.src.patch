diff --git a/src/main/groovy/servlet/AbstractHttpServlet.java b/src/main/groovy/servlet/AbstractHttpServlet.java
index e504313e77..135b8bea4c 100644
--- a/src/main/groovy/servlet/AbstractHttpServlet.java
+++ b/src/main/groovy/servlet/AbstractHttpServlet.java
@@ -20,6 +20,7 @@ import groovy.util.ResourceException;
 
 import java.io.File;
 import java.io.IOException;
+import java.net.MalformedURLException;
 import java.net.URL;
 import java.net.URLConnection;
 import java.util.regex.Matcher;
@@ -168,6 +169,16 @@ public abstract class AbstractHttpServlet extends HttpServlet implements Resourc
     public URLConnection getResourceConnection(String name) throws ResourceException {
         String basePath = servletContext.getRealPath(".");
         if (name.startsWith(basePath)) name = name.substring(basePath.length());
+        String baseVirtualPath = null;
+        try {
+            URL baseVirtualURL = servletContext.getResource("/");
+            if(baseVirtualURL != null) {
+                baseVirtualPath = baseVirtualURL.getPath();
+                if (name.startsWith(baseVirtualPath)) name = name.substring(baseVirtualPath.length());
+            }
+        } catch (MalformedURLException e1) {
+            // ignore and proceed
+        }
         
         /*
          * First, mangle resource name with the compiled pattern.
diff --git a/src/test/groovy/servlet/AbstractHttpServletTest.groovy b/src/test/groovy/servlet/AbstractHttpServletTest.groovy
index 5ab8740420..2564860d2f 100644
--- a/src/test/groovy/servlet/AbstractHttpServletTest.groovy
+++ b/src/test/groovy/servlet/AbstractHttpServletTest.groovy
@@ -181,7 +181,7 @@ class AbstractHttpServletTest extends GroovyTestCase {
 		    getRealPath: {arg -> "realPath" + arg}, 
 		    getResource: {arg -> 
 		      if (arg.startsWith("//")) arg=arg.substring(2)
-		      new URL("http://" + arg)}
+		      new URL("http://" + (arg == "/" ? "" : arg))}
 		] as ServletContext
 
 		def servletConfig = [
@@ -213,7 +213,7 @@ class AbstractHttpServletTest extends GroovyTestCase {
 		    getRealPath: {arg -> "realPath" + arg}, 
 		    getResource: {arg -> 
 		      if (arg.startsWith("//")) arg=arg.substring(2)
-		      new URL("http://" + arg)
+		      new URL("http://" + (arg == "/" ? "" : arg))
 		}] as ServletContext
 
 		def servletConfig = [
