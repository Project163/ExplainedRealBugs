diff --git a/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletor.groovy b/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletor.groovy
index 5625c3037f..cabab65dae 100644
--- a/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletor.groovy
+++ b/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletor.groovy
@@ -274,10 +274,7 @@ class ReflectionCompletor {
     static Collection<String> getPublicFieldsAndMethods(Object instance, String prefix) {
         Set<String> rv = new HashSet<String>()
         Set.getInterfaces()
-        Class clazz = instance.class
-        if (clazz == null) {
-            clazz = instance.getClass()
-        }
+        Class clazz = instance.getClass()
         if (clazz == null) {
             return rv;
         }
diff --git a/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletorTest.groovy b/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletorTest.groovy
index ed952f8197..26ef948c2c 100644
--- a/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletorTest.groovy
+++ b/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/completion/ReflectionCompletorTest.groovy
@@ -41,6 +41,11 @@ class ReflectionCompletorTest extends GroovyTestCase {
         assertTrue('clear()' in result)
         assertTrue('containsKey(' in result)
         assertTrue('clear()' in result)
+        // 'class' as key can cause bugs where .class is used instead of getClass()
+        result = ReflectionCompletor.getPublicFieldsAndMethods(['class': '42'], "")
+        assertTrue('clear()' in result)
+        assertTrue('containsKey(' in result)
+        assertTrue('clear()' in result)
         result = ReflectionCompletor.getPublicFieldsAndMethods(['id': '42'], "size")
         // e.g. don't show non-public inherited size field
         assertEquals(["size()"], result)
