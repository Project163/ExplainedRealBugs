diff --git a/src/main/groovy/lang/GroovyClassLoader.java b/src/main/groovy/lang/GroovyClassLoader.java
index 72b7a8075d..1fb5880ca4 100644
--- a/src/main/groovy/lang/GroovyClassLoader.java
+++ b/src/main/groovy/lang/GroovyClassLoader.java
@@ -196,7 +196,13 @@ public class GroovyClassLoader extends URLClassLoader {
      * @return the main class defined in the given script
      */
     public Class parseClass(String text, String fileName) throws CompilationFailedException {
-        return parseClass(new ByteArrayInputStream(text.getBytes()), fileName);
+        byte[] bytes = null;
+        try {
+            bytes = text.getBytes(config.getSourceEncoding());
+        } catch (UnsupportedEncodingException e) {
+            throw new CompilationFailedException(1,null,e);
+        }
+        return parseClass(new ByteArrayInputStream(bytes), fileName);
     }
 
     /**
@@ -206,7 +212,7 @@ public class GroovyClassLoader extends URLClassLoader {
      * @return the main class defined in the given script
      */
     public Class parseClass(String text) throws CompilationFailedException {
-        return parseClass(new ByteArrayInputStream(text.getBytes()), "script" + System.currentTimeMillis() + ".groovy");
+        return parseClass(text, "script" + System.currentTimeMillis() + ".groovy");
     }
 
     /**
diff --git a/src/test/groovy/lang/GroovyClassLoaderTest.groovy b/src/test/groovy/lang/GroovyClassLoaderTest.groovy
index 420d44f8be..309efc4eb4 100644
--- a/src/test/groovy/lang/GroovyClassLoaderTest.groovy
+++ b/src/test/groovy/lang/GroovyClassLoaderTest.groovy
@@ -22,6 +22,7 @@ import java.security.CodeSource
 import org.codehaus.groovy.control.*
 import org.codehaus.groovy.ast.*
 import org.codehaus.groovy.classgen.*
+import org.codehaus.groovy.control.CompilerConfiguration as Conf
 
 
 public class GroovyClassLoaderTest extends GroovyTestCase {
@@ -148,6 +149,26 @@ public class GroovyClassLoaderTest extends GroovyTestCase {
       def field = ret.declaredFields.find {it.name=="id" && it.type==Long.TYPE}
       assert  field != null
   }
+  
+  public void testEncoding() {
+    def encoding = System.getProperty("file.encoding")
+    System.setProperty("file.encoding", "US-ASCII")
+    def gcl = new GroovyClassLoader()
+    gcl.config.sourceEncoding = "UTF-8"
+    // 20AC should be the currency symbol for EURO
+    def clazz = gcl.parseClass('return "\u20AC"')
+    def result = clazz.newInstance().run()
+    int i = result[0]
+    
+    try {
+      // 0xFFFD is used if the original chracter was not found,
+      // it is the famous ? that can often be seen. So if this here 
+      // fails, then the String conversion failed at one point
+      assert i != 0xFFFD
+    } finally {
+      System.setProperty("file.encoding", encoding)
+    }  
+  }
 }
 
 class GroovyClassLoaderTestFoo1{}
