diff --git a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesStatementWriter.java b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesStatementWriter.java
index a1ddfb0770..bfbd4a623a 100644
--- a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesStatementWriter.java
+++ b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesStatementWriter.java
@@ -24,6 +24,7 @@ import org.codehaus.groovy.ast.expr.MethodCallExpression;
 import org.codehaus.groovy.ast.stmt.BlockStatement;
 import org.codehaus.groovy.ast.stmt.ForStatement;
 import org.codehaus.groovy.classgen.asm.*;
+import org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport;
 import org.objectweb.asm.Label;
 import org.objectweb.asm.MethodVisitor;
 
@@ -69,7 +70,7 @@ public class StaticTypesStatementWriter extends StatementWriter {
         Expression collectionExpression = loop.getCollectionExpression();
         ClassNode collectionType = typeChooser.resolveType(collectionExpression, controller.getClassNode());
 
-        if (collectionType.implementsInterface(ITERABLE_CLASSNODE)) {
+        if (StaticTypeCheckingSupport.implementsInterfaceOrIsSubclassOf(collectionType,ITERABLE_CLASSNODE)) {
             MethodCallExpression iterator = new MethodCallExpression(collectionExpression, "iterator", new ArgumentListExpression());
             iterator.setMethodTarget(collectionType.getMethod("iterator", Parameter.EMPTY_ARRAY));
             iterator.setImplicitThis(false);
diff --git a/src/test/org/codehaus/groovy/classgen/asm/sc/bugs/Groovy7098Bug.groovy b/src/test/org/codehaus/groovy/classgen/asm/sc/bugs/Groovy7098Bug.groovy
new file mode 100644
index 0000000000..d90ba07f8d
--- /dev/null
+++ b/src/test/org/codehaus/groovy/classgen/asm/sc/bugs/Groovy7098Bug.groovy
@@ -0,0 +1,62 @@
+/*
+ * Copyright 2003-2014 the original author or authors.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+
+
+
+
+
+
+package org.codehaus.groovy.classgen.asm.sc.bugs
+
+import groovy.transform.stc.StaticTypeCheckingTestCase
+import org.codehaus.groovy.classgen.asm.sc.StaticCompilationTestSupport
+
+class Groovy7098Bug extends StaticTypeCheckingTestCase implements StaticCompilationTestSupport {
+    void testForEachLoopWithIterable() {
+        assertScript '''
+Iterable<Object> toIterable(List list) {
+    return new Iterable<Object>() {
+        Iterator iterator() {
+            list.iterator()
+        }
+    }
+}
+
+List loopDirect(List list) {
+    List result = new ArrayList()
+    for (Object o : list) {
+        result.add(o)
+        result.add(o)
+    }
+    result
+}
+
+List loopIterable(List list) {
+    List result = new ArrayList()
+    for (Object o : toIterable(list)) {
+        result.add(o)
+        result.add(o)
+    }
+    result
+}
+
+def list = ['a','b']
+assert loopDirect(list) == ['a','a','b','b']
+assert loopIterable(list) == ['a','a','b','b']
+        '''
+    }
+}
