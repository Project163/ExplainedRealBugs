diff --git a/.classpath b/.classpath
index 53817d94f2..f12fb187ca 100644
--- a/.classpath
+++ b/.classpath
@@ -1,124 +1,34 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <classpath>
-	<classpathentry kind="src" path="src/main">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-1.6.2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-junit-1.6.2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-launcher-1.6.2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/antlr/jars/antlr-2.7.5.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-2.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-analysis-2.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-attrs-2.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-tree-2.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-util-2.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/axion/jars/axion-1.0-M3-dev.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/bsf/jars/bsf-2.3.0-rc1.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/classworlds/jars/classworlds-1.1-alpha-2-SNAPSHOT-NO-SYSTEM-EXIT.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/commons-cli/jars/commons-cli-1.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/commons-collections/jars/commons-collections-3.0-dev2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/commons-logging/jars/commons-logging-1.0.3.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/junit/jars/junit-3.8.1.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/mockobjects/jars/mockobjects-core-0.09.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/mx4j/jars/mx4j-2.0-beta-1.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/nekohtml/jars/nekohtml-0.7.7.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/openejb/jars/openejb-loader-0.9.2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/qdox/jars/qdox-1.3.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/radeox/jars/radeox-0.9.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/radeox/jars/radeox-oro-0.9.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/regexp/jars/regexp-1.2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/servletapi/jars/servletapi-2.3.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/xerces/jars/xerces-2.4.0.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/xml-apis/jars/xml-apis-1.0.b2.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="var" path="MAVEN_REPO/xstream/jars/xstream-1.1.1.jar">
-		<attributes>
-		</attributes>
-	</classpathentry>
-	<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER">
-		<attributes>
-		</attributes>
-	</classpathentry>
+	<classpathentry kind="src" path="src/main"/>
+	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-1.6.2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-junit-1.6.2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/ant/jars/ant-launcher-1.6.2.jar"/>
+	<classpathentry exported="true" kind="var" path="MAVEN_REPO/antlr/jars/antlr-2.7.5.jar"/>
+	<classpathentry exported="true" kind="var" path="MAVEN_REPO/asm/jars/asm-2.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-analysis-2.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-attrs-2.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-tree-2.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/asm/jars/asm-util-2.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/axion/jars/axion-1.0-M3-dev.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/bsf/jars/bsf-2.3.0-rc1.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/classworlds/jars/classworlds-1.1-alpha-2-SNAPSHOT-NO-SYSTEM-EXIT.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/commons-cli/jars/commons-cli-1.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/commons-collections/jars/commons-collections-3.0-dev2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/commons-logging/jars/commons-logging-1.0.3.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/junit/jars/junit-3.8.1.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/mockobjects/jars/mockobjects-core-0.09.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/mx4j/jars/mx4j-2.0-beta-1.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/nekohtml/jars/nekohtml-0.7.7.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/openejb/jars/openejb-loader-0.9.2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/qdox/jars/qdox-1.3.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/radeox/jars/radeox-0.9.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/radeox/jars/radeox-oro-0.9.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/regexp/jars/regexp-1.2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/servletapi/jars/servletapi-2.3.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/xerces/jars/xerces-2.4.0.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/xml-apis/jars/xml-apis-1.0.b2.jar"/>
+	<classpathentry kind="var" path="MAVEN_REPO/xstream/jars/xstream-1.1.1.jar"/>
+	<classpathentry kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER"/>
 	<classpathentry kind="output" path="bin"/>
 </classpath>
diff --git a/src/main/groovy/servlet/AbstractHttpServlet.java b/src/main/groovy/servlet/AbstractHttpServlet.java
index 092ad0ebf0..97f60fbfb4 100644
--- a/src/main/groovy/servlet/AbstractHttpServlet.java
+++ b/src/main/groovy/servlet/AbstractHttpServlet.java
@@ -38,6 +38,7 @@
  */
 package groovy.servlet;
 
+import groovy.lang.MetaClass;
 import groovy.util.ResourceConnector;
 import groovy.util.ResourceException;
 
@@ -65,17 +66,39 @@ public abstract class AbstractHttpServlet extends HttpServlet implements
    */
   public static final String CONTENT_TYPE_TEXT_HTML = "text/html";
 
-  /*
-   * Servlet API include key names.
+  /**
+   * Servlet API include key name: path_info
    */
   public static final String INC_PATH_INFO = "javax.servlet.include.path_info";
+  
+  /* Not used, yet. See comments in getScriptUri(HttpServletRequest request)!
+   * Servlet API include key name: request_uri
+   */
   // public static final String INC_REQUEST_URI = "javax.servlet.include.request_uri";
+  
+  /**
+   * Servlet API include key name: servlet_path
+   */
   public static final String INC_SERVLET_PATH = "javax.servlet.include.servlet_path";
 
+  /**
+   * Debug flag logging the class the class loader of the request.
+   */
+  private boolean logRequestClassAndLoaderOnce;
+  
   /**
    * Servlet (or the web application) context.
    */
   protected ServletContext servletContext;
+  
+  /**
+   * Initializes all fields.
+   * 
+   */
+  public AbstractHttpServlet() {
+    this.logRequestClassAndLoaderOnce = true;
+    this.servletContext = null;
+  }
 
   /**
    * Interface method for ResourceContainer. This is used by the GroovyScriptEngine.
@@ -106,6 +129,15 @@ public abstract class AbstractHttpServlet extends HttpServlet implements
    *  hints provided by the servlet container
    */
   protected String getScriptUri(HttpServletRequest request) {
+    // 
+    if (logRequestClassAndLoaderOnce) {
+      log("Logging request class and its class loader:");
+      log(" c = request.getClass() :\"" + request.getClass()+ "\"");
+      log(" l = c.getClassLoader() :\"" + request.getClass().getClassLoader()+ "\"");
+      log(" l.getClass()           :\"" + request.getClass().getClassLoader().getClass()+ "\"");
+      logRequestClassAndLoaderOnce = false;
+    }
+
     //
     // NOTE: This piece of code is heavily inspired by Apaches Jasper2!
     // 
@@ -159,10 +191,9 @@ public abstract class AbstractHttpServlet extends HttpServlet implements
    *  the context of this servlet used to get the real path string
    * @return a file object using an absolute file path name
    */
-  protected File getScriptUriAsFile(HttpServletRequest request,
-      ServletContext context) {
+  protected File getScriptUriAsFile(HttpServletRequest request) {
     String uri = getScriptUri(request);
-    String real = context.getRealPath(uri);
+    String real = servletContext.getRealPath(uri);
     File file = new File(real).getAbsoluteFile();
 
     // log("\tInclude-aware URI: " + uri);
@@ -185,9 +216,30 @@ public abstract class AbstractHttpServlet extends HttpServlet implements
     return file;
   }
 
+  /**
+   * Overrides the generic init method.
+   * 
+   * Enables a fix, that tells Groovy to use (slower) reflection than compiling
+   * metaclass proxies. This is needed due to some container implementation hide
+   * their classes from the servlet by using different class loaders. See
+   * {@link http://jira.codehaus.org/browse/GROOVY-861} for details.
+   * 
+   * @param config
+   *  the servlet coniguration provided by the container
+   * @throws ServletException if init() method defined in super class 
+   *  javax.servlet.GenericServlet throws it
+   */
   public void init(ServletConfig config) throws ServletException {
     super.init(config);
     this.servletContext = config.getServletContext();
+
+    // FIXME http://jira.codehaus.org/browse/GROOVY-861
+    MetaClass.setUseReflection(true);
+    String value = config.getInitParameter("logRequestClassAndLoaderOnce");
+    if (value != null) {
+      this.logRequestClassAndLoaderOnce = Boolean.valueOf(value).booleanValue();
+    }
+
   }
 
 }
diff --git a/src/main/groovy/servlet/GroovyServlet.java b/src/main/groovy/servlet/GroovyServlet.java
index 381b3230e7..f3aefd93f1 100644
--- a/src/main/groovy/servlet/GroovyServlet.java
+++ b/src/main/groovy/servlet/GroovyServlet.java
@@ -33,7 +33,6 @@ package groovy.servlet;
 
 import groovy.lang.Binding;
 import groovy.lang.Closure;
-import groovy.lang.MetaClass;
 import groovy.util.GroovyScriptEngine;
 import groovy.util.ResourceException;
 import groovy.util.ScriptException;
@@ -101,15 +100,12 @@ public class GroovyServlet extends AbstractHttpServlet {
   /**
    * Initialize the GroovyServlet.
    *
-   * @throws ServletException if init() method defined in super class 
-   * javax.servlet.GenericServlet throws it
+   * @throws ServletException
+   *  if this method encountered difficulties
    */
   public void init(ServletConfig config) throws ServletException {
     super.init(config);
 
-    // Use reflection, some containers don't load classes properly
-    MetaClass.setUseReflection(true);
-
     // Set up the scripting engine
     gse = new GroovyScriptEngine(this);
 
diff --git a/src/main/groovy/servlet/TemplateServlet.java b/src/main/groovy/servlet/TemplateServlet.java
index dd5810655f..87e5238189 100644
--- a/src/main/groovy/servlet/TemplateServlet.java
+++ b/src/main/groovy/servlet/TemplateServlet.java
@@ -38,7 +38,6 @@
  */
 package groovy.servlet;
 
-import groovy.lang.MetaClass;
 import groovy.text.SimpleTemplateEngine;
 import groovy.text.Template;
 import groovy.text.TemplateEngine;
@@ -170,7 +169,9 @@ public class TemplateServlet extends AbstractHttpServlet {
   /**
    * Triggers the template creation eliminating all new line characters.
    * 
-   * Its a work around
+   * Its a work around! New lines should cause troubles when compiling. But
+   * sometimes(?) the do: http://jira.codehaus.org/browse/GROOVY-818
+   * See FIXME note around line 250, where this method is called.
    * 
    * @see TemplateServlet#getTemplate(File)
    * @see BufferedReader#readLine()
@@ -306,10 +307,6 @@ public class TemplateServlet extends AbstractHttpServlet {
     if (engine == null) {
       throw new ServletException("Template engine not instantiated.");
     }
-    
-    // Use reflection, some containers don't load classes properly
-    MetaClass.setUseReflection(true);
-    
     String value = config.getInitParameter("generatedBy");
     if (value != null) {
       this.generatedBy = Boolean.valueOf(value).booleanValue();
@@ -380,7 +377,7 @@ public class TemplateServlet extends AbstractHttpServlet {
     //
     // Get the template source file handle.
     //
-    File file = super.getScriptUriAsFile(request, servletContext);
+    File file = super.getScriptUriAsFile(request);
     if (!file.exists()) {
       response.sendError(HttpServletResponse.SC_NOT_FOUND);
       return; // throw new IOException(file.getAbsolutePath());
