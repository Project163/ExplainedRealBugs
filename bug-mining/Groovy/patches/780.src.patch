diff --git a/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java b/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
index fd35a64269..71c0b8b57a 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
@@ -22,9 +22,11 @@ import org.codehaus.groovy.ast.FieldNode;
 import org.codehaus.groovy.ast.MethodNode;
 import org.codehaus.groovy.ast.Parameter;
 import org.codehaus.groovy.ast.expr.BinaryExpression;
+import org.codehaus.groovy.ast.expr.ConstantExpression;
 import org.codehaus.groovy.ast.expr.ConstructorCallExpression;
 import org.codehaus.groovy.ast.expr.DeclarationExpression;
 import org.codehaus.groovy.ast.expr.Expression;
+import org.codehaus.groovy.ast.expr.GStringExpression;
 import org.codehaus.groovy.ast.expr.MapEntryExpression;
 import org.codehaus.groovy.ast.expr.MethodCallExpression;
 import org.codehaus.groovy.ast.expr.TupleExpression;
@@ -348,4 +350,26 @@ public class ClassCompletionVerifier extends ClassCodeVisitorSupport {
         addError("invalid use of declartion inside method call.",exp);
     }
     
+    public void visitConstantExpression(ConstantExpression expression) {
+        super.visitConstantExpression(expression);
+        checkStringExceedingMaximumLength(expression);
+    }
+    
+    public void visitGStringExpression(GStringExpression expression) {
+        super.visitGStringExpression(expression);
+        for (Iterator it = expression.getStrings().iterator(); it.hasNext();) {
+            checkStringExceedingMaximumLength((ConstantExpression) it.next());
+        }
+    }
+    
+    private void checkStringExceedingMaximumLength(ConstantExpression expression){
+        Object value = expression.getValue();
+        if (value instanceof String) {
+            String s = (String) value;
+            if (s.length()>65535) {
+                addError("String too long. The given string is "+s.length()+" Unicode code units long, but only a maximum of 65535 is allowed.",expression);
+            }
+        }
+    }
+    
 }
diff --git a/src/test/gls/sizelimits/StringSizeTest.groovy b/src/test/gls/sizelimits/StringSizeTest.groovy
new file mode 100644
index 0000000000..1e76198c67
--- /dev/null
+++ b/src/test/gls/sizelimits/StringSizeTest.groovy
@@ -0,0 +1,31 @@
+package gls.sizelimits
+
+class StringSizeTest extends gls.CompilableTestSupport {
+  
+  void testNormalString() {
+    def string = "x"*65535
+    
+    assertScript """
+      def test="$string"
+    """
+    
+    shouldNotCompile """
+      def test="x $string"
+    """
+  }
+  
+  void testGString() {
+    def string = "x"*65534 
+    // not 65535, because we use one additional space
+    // in the gstring test script
+    
+    assertScript """
+      def x = 1
+      def test = "\$x $string"
+    """
+    shouldNotCompile """
+      def x = 1
+      def test = "\$x  $string"
+    """
+  }
+}
\ No newline at end of file
