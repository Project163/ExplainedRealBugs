diff --git a/subprojects/groovy-console/src/main/groovy/groovy/ui/text/StructuredSyntaxDocumentFilter.java b/subprojects/groovy-console/src/main/groovy/groovy/ui/text/StructuredSyntaxDocumentFilter.java
index e54961e98b..3945c2fcd8 100644
--- a/subprojects/groovy-console/src/main/groovy/groovy/ui/text/StructuredSyntaxDocumentFilter.java
+++ b/subprojects/groovy-console/src/main/groovy/groovy/ui/text/StructuredSyntaxDocumentFilter.java
@@ -269,7 +269,11 @@ public class StructuredSyntaxDocumentFilter extends DocumentFilter {
      */    
     public void replace(DocumentFilter.FilterBypass fb, int offset, 
                         int length, String text, AttributeSet attrs)
-        throws BadLocationException {
+        throws BadLocationException
+    {
+        // text might be null and indicates no replacement text
+        if (text == null) text = "";
+        
         // remove problem meta characters returns
         text = replaceMetaCharacters(text);
         
