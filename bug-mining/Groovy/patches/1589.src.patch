diff --git a/src/main/org/codehaus/groovy/classgen/asm/InvocationWriter.java b/src/main/org/codehaus/groovy/classgen/asm/InvocationWriter.java
index e107900b53..332d23ccd9 100644
--- a/src/main/org/codehaus/groovy/classgen/asm/InvocationWriter.java
+++ b/src/main/org/codehaus/groovy/classgen/asm/InvocationWriter.java
@@ -426,8 +426,7 @@ public class InvocationWriter {
     }
     
     private void loadVariableWithReference(VariableExpression var) {
-        String name = var.getName();
-        if (name.equals("this") || name.equals("super")) {
+        if (!var.isClosureSharedVariable()) {
             var.visit(controller.getAcg());
         } else {
             ClosureWriter.loadReference(var.getName(), controller);
diff --git a/src/test/gls/innerClass/InnerClassTest.groovy b/src/test/gls/innerClass/InnerClassTest.groovy
index ed4e1bd36b..c9d2640ceb 100644
--- a/src/test/gls/innerClass/InnerClassTest.groovy
+++ b/src/test/gls/innerClass/InnerClassTest.groovy
@@ -408,6 +408,54 @@ class A {
             }
         """
     }
+    
+    void testAICParameter() {
+        // GROOVY-5041
+        assertScript """
+            import java.sql.Connection
+            import groovy.sql.Sql
+            
+            class GrailsPrecondition {
+            
+                Connection getConnection() { database?.connection?.wrappedConnection }
+                
+                Sql getSql() {
+                    if (!connection) return null
+            
+                    if (!sql) {
+                        sql = new Sql(connection) {
+                            protected void closeResources(Connection c) {
+                                // do nothing, let Liquibase close the connection
+                            }
+                        }
+                    }
+            
+                    sql
+                }
+            }
+            def x = new GrailsPrecondition()
+            try {
+                x.sql
+                assert false
+            } catch (MissingPropertyException mpe) {
+                assert true
+            }
+        """
+        assertScript """
+            class Foo {
+              def call(){}    
+              def Foo(x){}
+            }
+            
+            def x = 1
+            def caller = new Foo(x) {
+               def call(){x}   
+            }
+            assert caller.call() == 1
+            x = 2
+            assert caller.call() == 2
+        """
+    }
      
 
 } 
