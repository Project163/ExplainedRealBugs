diff --git a/src/main/groovy/text/SimpleTemplateEngine.java b/src/main/groovy/text/SimpleTemplateEngine.java
index 642515a9a0..f85befec5c 100644
--- a/src/main/groovy/text/SimpleTemplateEngine.java
+++ b/src/main/groovy/text/SimpleTemplateEngine.java
@@ -58,10 +58,25 @@ import org.codehaus.groovy.runtime.InvokerHelper;
  */
 public class SimpleTemplateEngine extends TemplateEngine {
 
+    private final boolean verbose;
+
+    public SimpleTemplateEngine() {
+        this(false);
+    }
+
+    public SimpleTemplateEngine(boolean verbose) {
+        this.verbose = verbose;
+    }
+
     public Template createTemplate(Reader reader) throws CompilationFailedException, IOException {
         SimpleTemplate template = new SimpleTemplate();
         GroovyShell shell = new GroovyShell();
         String script = template.parse(reader);
+        if (verbose) {
+            System.out.println("--before-parsing--");
+            System.out.print(script);
+            System.out.println("\n--");
+        }
         template.script = shell.parse(script);
         return template;
     }
diff --git a/src/test/groovy/text/SimpleTemplateTest.groovy b/src/test/groovy/text/SimpleTemplateTest.groovy
index b745f19467..6f7e06119b 100644
--- a/src/test/groovy/text/SimpleTemplateTest.groovy
+++ b/src/test/groovy/text/SimpleTemplateTest.groovy
@@ -23,9 +23,9 @@ class SimpleTemplateTest extends GroovyTestCase {
         assertEquals('01', simpleCall('<%for(i in 0..1){print(i)}%>'))
     }
 
-    void todo_testWithMarkupBuilder(){
+    void testWithMarkupBuilder(){
     def text = '''<%
-        builder = new groovy.xml.MarkupBuilder(out)
+        builder = new groovy.xml.MarkupBuilder(out);
         [1,2,3].each{ count ->
             out.print(1)
         }
@@ -38,7 +38,7 @@ class SimpleTemplateTest extends GroovyTestCase {
         bindingCall([:], input)
     }
     String bindingCall(binding, input){
-        def eng = new SimpleTemplateEngine().createTemplate(input)
+        def eng = new SimpleTemplateEngine(true).createTemplate(input)
         return eng.make(binding).toString()
     }
 }
\ No newline at end of file
