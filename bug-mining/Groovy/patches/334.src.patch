diff --git a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
index bcd6378353..b60cbe6f92 100644
--- a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
@@ -3336,20 +3336,48 @@ public class AsmClassGenerator extends ClassGenerator {
         }
     }
 
-    protected void evaluatePrefixMethod(String method, Expression expression) {
+    private void execMethodAndStoreForSubscriptOperator(String method, Expression expression) {
         // execute method
         makeCall(
                 expression,
                 new ConstantExpression(method),
-                MethodCallExpression.NO_ARGUMENTS, invokeMethod,
-                false, false, false);
-
-        // store 
-        leftHandExpression = true;
-        expression.visit(this);
+                MethodCallExpression.NO_ARGUMENTS,
+                invokeMethod,false,false,false);
+        
+        // we need special code for arrays to store the result
+        boolean handled = false;
+        if (expression instanceof BinaryExpression) {
+            BinaryExpression be = (BinaryExpression) expression;
+            if (be.getOperation().getType()==Types.LEFT_SQUARE_BRACKET) {
+                cv.visitInsn(DUP);
+                final int resultIdx = compileStack.defineTemporaryVariable("postfix_" + method, true);
+                BytecodeExpression result = new BytecodeExpression() {
+                    public void visit(GroovyCodeVisitor visitor) {
+                        cv.visitVarInsn(ALOAD, resultIdx);
+                    }
+                };
+                TupleExpression args = new ArgumentListExpression();
+                args.addExpression(be.getRightExpression());
+                args.addExpression(result);
+                makeCall(
+                        be.getLeftExpression(), new ConstantExpression("putAt"),
+                        args,
+                        invokeMethod,false,false,false);
+                handled = true;
+            } 
+        }
+        if (!handled) {
+            leftHandExpression = true;
+            expression.visit(this);
+            leftHandExpression = false;
+        }
+    }
+    
+    protected void evaluatePrefixMethod(String method, Expression expression) {
+        // execute Method
+        execMethodAndStoreForSubscriptOperator(method,expression);
 
         // reload new value
-        leftHandExpression = false;
         expression.visit(this);
     }
 
@@ -3360,16 +3388,8 @@ public class AsmClassGenerator extends ClassGenerator {
         // save value for later
         int tempIdx = compileStack.defineTemporaryVariable("postfix_" + method, true);
 
-        //execute method
-        makeCall(
-                expression, new ConstantExpression(method),
-                MethodCallExpression.NO_ARGUMENTS,
-                invokeMethod, false, false, false);
-
-        // store
-        leftHandExpression = true;
-        expression.visit(this);
-        leftHandExpression = false;
+        // execute Method
+        execMethodAndStoreForSubscriptOperator(method,expression);
 
         //reload saved value
         mv.visitVarInsn(ALOAD, tempIdx);
diff --git a/src/main/org/codehaus/groovy/classgen/Variable.java b/src/main/org/codehaus/groovy/classgen/Variable.java
index 77edfc3b7b..bb60d10768 100644
--- a/src/main/org/codehaus/groovy/classgen/Variable.java
+++ b/src/main/org/codehaus/groovy/classgen/Variable.java
@@ -54,6 +54,7 @@ import org.objectweb.asm.Label;
  * Represents compile time variable metadata while compiling a method.
  * 
  * @author <a href="mailto:james@coredevelopers.net">James Strachan</a>
+ * @author <a href="mailto:blackdrag@gmx.org">Jochen Theodorou</a>
  * @version $Revision$
  */
 public class Variable {
diff --git a/src/test/groovy/PostfixTest.groovy b/src/test/groovy/PostfixTest.groovy
index 6f306f6637..9f0b4ee3a2 100644
--- a/src/test/groovy/PostfixTest.groovy
+++ b/src/test/groovy/PostfixTest.groovy
@@ -29,4 +29,15 @@ class PostfixTest extends GroovyTestCase {
         
         assert x == "bbd"
     }
+    
+    
+    void testArrayPostfix() {
+        int[] i = [1]
+        
+        def y = i[0]++
+        
+        assert y == 1
+        assert i[0]++ == 2
+        assert i[0] == 3
+    }
 }
diff --git a/src/test/groovy/PrefixTest.groovy b/src/test/groovy/PrefixTest.groovy
index 958fc87c73..d38dd68bc9 100644
--- a/src/test/groovy/PrefixTest.groovy
+++ b/src/test/groovy/PrefixTest.groovy
@@ -34,4 +34,15 @@ class PrefixTest extends GroovyTestCase {
         
         assert x == "bbb"
     }
+    
+    void testArrayPrefix() {
+        int[] i = [1]
+        
+        ++i[0]
+        assert i[0] == 2
+        
+        --i[0]
+        --i[0]
+        assert i[0] == 0
+    }
 }
