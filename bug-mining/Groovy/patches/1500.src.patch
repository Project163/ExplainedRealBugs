diff --git a/src/main/groovy/servlet/ServletBinding.java b/src/main/groovy/servlet/ServletBinding.java
index fac8365d41..fb9f847b68 100644
--- a/src/main/groovy/servlet/ServletBinding.java
+++ b/src/main/groovy/servlet/ServletBinding.java
@@ -1,5 +1,5 @@
 /*
- * Copyright 2003-2008 the original author or authors.
+ * Copyright 2003-2011 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -285,10 +285,13 @@ public class ServletBinding extends Binding {
         initialized = true;
         HttpServletResponse response = (HttpServletResponse) super.getVariable("response");
         ServletContext context = (ServletContext) super.getVariable("context");
+        super.setVariable("context", context);
         ServletOutput output = new ServletOutput(response);
         super.setVariable("out", output.getWriter());
         super.setVariable("sout", output.getOutputStream());
-        super.setVariable("html", new MarkupBuilder(output.getWriter()));
+        MarkupBuilder builder = new MarkupBuilder(output.getWriter());
+        builder.setExpandEmptyElements(true);
+        super.setVariable("html", builder);
         
         // bind forward method
         MethodClosure c = new MethodClosure(this, "forward");
diff --git a/src/main/groovy/xml/MarkupBuilder.java b/src/main/groovy/xml/MarkupBuilder.java
index 5c1bc33ff7..0597be237c 100644
--- a/src/main/groovy/xml/MarkupBuilder.java
+++ b/src/main/groovy/xml/MarkupBuilder.java
@@ -63,6 +63,7 @@ public class MarkupBuilder extends BuilderSupport {
     private boolean useDoubleQuotes = false;
     private boolean omitNullAttributes = false;
     private boolean omitEmptyAttributes = false;
+    private boolean expandEmptyElements = false;
 
     /**
      * Prints markup to System.out
@@ -169,6 +170,28 @@ public class MarkupBuilder extends BuilderSupport {
         this.omitEmptyAttributes = omitEmptyAttributes;
     }
 
+    /**
+     * Whether empty elements are expanded from &lt;tagName/&gt; to &lt;tagName&gt;&lt;/tagName&gt;.
+     *
+     * @return <code>true</code>, if empty elements will be represented by an opening tag
+     *                            followed immediately by a closing tag.
+     */
+    public boolean isExpandEmptyElements() {
+        return expandEmptyElements;
+    }
+
+    /**
+     * Whether empty elements are expanded from <tagName/> to <tagName></tagName>.
+     *
+     * @param expandEmptyElements if <code>true</code>, empty
+     *                            elements will be represented by an opening tag
+     *                            followed immediately by a closing tag.
+     *                            Defaults to <code>false</code>.
+     */
+    public void setExpandEmptyElements(boolean expandEmptyElements) {
+        this.expandEmptyElements = expandEmptyElements;
+    }
+
     protected IndentPrinter getPrinter() {
         return this.out;
     }
@@ -424,7 +447,13 @@ public class MarkupBuilder extends BuilderSupport {
                         break;
                     case 3:
                         if (nodeIsEmpty) {
-                            out.print(" />");
+                            if (expandEmptyElements) {
+                                out.print("></");
+                                print(name);
+                                out.print(">");
+                            } else {
+                                out.print(" />");
+                            }
                         }
                         break;
                 }
diff --git a/src/main/groovy/xml/StreamingMarkupBuilder.groovy b/src/main/groovy/xml/StreamingMarkupBuilder.groovy
index ff90c828a4..e5c8ad3958 100644
--- a/src/main/groovy/xml/StreamingMarkupBuilder.groovy
+++ b/src/main/groovy/xml/StreamingMarkupBuilder.groovy
@@ -51,6 +51,7 @@ import groovy.xml.streamingmarkupsupport.BaseMarkupBuilder
  */
 class StreamingMarkupBuilder extends AbstractStreamingBuilder {
     boolean useDoubleQuotes = false
+    boolean expandEmptyElements = false
     def getQt() { useDoubleQuotes ? '"' : "'" }
     def pendingStack = []
     
@@ -162,7 +163,7 @@ class StreamingMarkupBuilder extends AbstractStreamingBuilder {
             out << qt
         }
 
-        if (body == null) {
+        if (body == null && !expandEmptyElements) {
             out << "/>"
         } else {
             out << ">"
diff --git a/src/test/groovy/xml/BuilderTestSupport.groovy b/src/test/groovy/xml/BuilderTestSupport.groovy
index 52c63d3160..7c72ceefd8 100644
--- a/src/test/groovy/xml/BuilderTestSupport.groovy
+++ b/src/test/groovy/xml/BuilderTestSupport.groovy
@@ -71,6 +71,19 @@ abstract class BuilderTestSupport extends GroovyTestCase {
         assertExpectedXml m, { it.useDoubleQuotes = true }, '<root><one foo="bar(\'baz\')">foo("baz")</one><two foo="bar(&quot;baz&quot;)">foo(\'baz\')</two></root>'
     }
 
+    void testExpandEmptyElements() {
+        def m = {
+            html {
+                head()
+                body {
+                    textarea(left: 40)
+                    textarea('')
+                }
+            }
+        }
+        assertExpectedXml m, { it.useDoubleQuotes = true }, '''<html><head/><body><textarea left='40'/><textarea></textarea></body></html>'''
+    }
+
     void testTree() {
         def m = {
             root2(a: 5, b: 7) {
