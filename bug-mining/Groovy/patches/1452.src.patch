diff --git a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
index 3c8c2cfea2..7d857d1ae7 100644
--- a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
+++ b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
@@ -241,6 +241,21 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
             if (output.getStatementBlock().isEmpty() && output.getMethods().isEmpty() && output.getClasses().isEmpty()) {
                 output.addStatement(ReturnStatement.RETURN_NULL_OR_VOID);
             }
+
+            // set the script source position
+            
+            ClassNode scriptClassNode = output.getScriptClassDummy();
+            if (scriptClassNode != null) {
+                List<Statement> statements = output.getStatementBlock().getStatements();
+                if (statements.size() > 0) {
+                    Statement firstStatement = statements.get(0);
+                    Statement lastStatement = statements.get(statements.size() - 1);
+
+                    scriptClassNode.setSourcePosition(firstStatement);
+                    scriptClassNode.setLastColumnNumber(lastStatement.getLastColumnNumber());
+                    scriptClassNode.setLastLineNumber(lastStatement.getLastLineNumber());
+                }
+            }
         }
         catch (ASTRuntimeException e) {
             throw new ASTParserException(e.getMessage() + ". File: " + sourceUnit.getName(), e);
diff --git a/src/test/groovy/lang/ScriptSourcePositionInAstTest.groovy b/src/test/groovy/lang/ScriptSourcePositionInAstTest.groovy
new file mode 100644
index 0000000000..1920b0012e
--- /dev/null
+++ b/src/test/groovy/lang/ScriptSourcePositionInAstTest.groovy
@@ -0,0 +1,46 @@
+package groovy.lang
+
+import org.codehaus.groovy.control.CompilationUnit
+import org.codehaus.groovy.control.Phases
+
+/**
+ * Check that scripts have proper source position in the AST
+ *
+ * @author Guillaume Laforge
+ */
+class ScriptSourcePositionInAstTest extends GroovyTestCase {
+
+    private positionsForScript(String text) {
+        CompilationUnit cu = new CompilationUnit()
+        cu.addSource("scriptSourcePosition.groovy", text)
+        cu.compile(Phases.SEMANTIC_ANALYSIS)
+        
+        def node = cu.getAST().getClass("scriptSourcePosition")
+
+        [[node.getLineNumber(), node.getColumnNumber()], [node.getLastLineNumber(), node.getLastColumnNumber()]]
+    }
+
+    void testEmptyScript() {
+        assert positionsForScript("") == [[-1, -1], [-1, -1]]
+    }
+
+    void testSingleStatementScript() {
+        assert positionsForScript("println 'hello'") == [[1, 1], [1, 16]]
+    }
+
+    void testDoubleStatementScript() {
+        assert positionsForScript("""\
+            println 'hello'
+            println 'bye'
+        """.stripIndent()) == [[1, 1], [2, 14]]
+    }
+
+    void testScriptWithClasses() {
+        assert positionsForScript("""\
+            class Bar {}
+            println 'hello'
+            println 'bye'
+            class Baz{}
+        """.stripIndent()) == [[2, 1], [3, 14]]
+    }
+}
