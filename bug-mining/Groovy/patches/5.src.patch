diff --git a/maven.xml b/maven.xml
index ae638f28e2..a24029dd04 100644
--- a/maven.xml
+++ b/maven.xml
@@ -3,7 +3,7 @@
   <goal name="default" prereqs="clean, groovy:make-install"/>
   
   <goal name="run" prereqs="test:compile"
-		description="Runs the given Groovy script by compiling it first to bytecode">
+		description="Runs the given compiled Groovy class">
 
 	<j:if test="${empty(name)}">
       <j:set var="name" value="HelloWorld"/>
@@ -16,6 +16,21 @@
     </java>
   </goal>
 
+  <goal name="script" prereqs="test:compile"
+		description="Runs the given Groovy script file">
+
+	<j:if test="${empty(name)}">
+      <j:set var="name" value="src/test/groovy/script/HelloWorld.groovy"/>
+	</j:if>
+	
+	<echo>Running class $$name = ${name}</echo>
+    <java classname="groovy.lang.GroovyShell" fork="yes">
+      <classpath refid="test.classpath"/>
+      <arg value="${name}"/>
+      <arg value="${args}"/>
+    </java>
+  </goal>
+
 
   <goal name="console" prereqs="test:compile"
 		description="Runs the Groovy command console">
diff --git a/src/main/groovy/ui/Console.groovy b/src/main/groovy/ui/Console.groovy
index b5f622b8a4..9fffe79b10 100644
--- a/src/main/groovy/ui/Console.groovy
+++ b/src/main/groovy/ui/Console.groovy
@@ -17,11 +17,7 @@ class Console {
     property scriptList
 
 	static void main(args) {
-        /** @todo bug in new 
         console = new Console()
-         */
-        console = Console.newInstance()
-        
         console.run()
 	}
 
@@ -29,7 +25,7 @@ class Console {
 	    scriptList = []
         swing = new SwingBuilder()
 
-        frame = swing.frame(title:'GroovyConsole'/** @todo, location:[100,100],  size:[800,400]*/) {
+        frame = swing.frame(title:'GroovyConsole') { // location:[100,100],  size:[800,400]) {
             menuBar {
                 menu(text:'File') {
                     menuItem() {
diff --git a/src/main/org/codehaus/groovy/ast/ClassNode.java b/src/main/org/codehaus/groovy/ast/ClassNode.java
index 6416b3d0e5..0e203a1525 100644
--- a/src/main/org/codehaus/groovy/ast/ClassNode.java
+++ b/src/main/org/codehaus/groovy/ast/ClassNode.java
@@ -372,6 +372,14 @@ public class ClassNode extends MetadataNode implements Constants {
         return null;
     }
 
+    public String getNameWithoutPackage() {
+        int idx = name.lastIndexOf('.');
+        if (idx > 0) {
+            return name.substring(idx + 1);
+        }
+        return name;
+    }
+
     public void visitContents(GroovyClassVisitor visitor) {
         // now lets visit the contents of the class
         for (Iterator iter = getProperties().iterator(); iter.hasNext();) {
diff --git a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
index fc0d131f69..3d2eee8cf4 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
@@ -409,7 +409,7 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
 
     public void visitAssertStatement(AssertStatement statement) {
         onLineNumber(statement);
-        
+
         //System.out.println("Assert: " + statement.getLineNumber() + " for: " + statement.getText());
 
         BooleanExpression booleanExpression = statement.getBooleanExpression();
@@ -935,7 +935,9 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
         // lets check that the type exists
         String type = checkValidType(call.getType(), call, "in constructor call");
 
-        cv.visitLdcInsn(type);
+        visitClassExpression(new ClassExpression(type));
+        //cv.visitLdcInsn(type);
+
         arguments.visit(this);
 
         invokeConstructorMethod.call(cv);
@@ -1152,7 +1154,9 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
 
     public void visitClassExpression(ClassExpression expression) {
         String type = expression.getText();
-        final String staticFieldName = "class$" + type.replace('.', '$');
+
+        final String staticFieldName =
+            (type.equals(classNode.getName())) ? "class$0" : "class$" + type.replace('.', '$');
 
         syntheticStaticFields.add(staticFieldName);
 
@@ -1602,6 +1606,9 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
     protected String checkValidType(String type, ASTNode node, String message) {
         String original = type;
         if (type != null) {
+            if (classNode.getNameWithoutPackage().equals(type)) {
+                return classNode.getName();
+            }
             for (int i = 0; i < 2; i++) {
                 if (context.getCompileUnit().getClass(type) != null) {
                     return type;
diff --git a/src/main/org/codehaus/groovy/runtime/InvokerHelper.java b/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
index ee18d0b793..5609bb2040 100644
--- a/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
+++ b/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
@@ -92,7 +92,7 @@ public class InvokerHelper {
         return getInstance().invokeConstructor(type, arguments);
     }
 
-    public static Object invokeConstructorOf(Class type, Object arguments) {
+    public static Object invokeConstructor(Class type, Object arguments) {
         return getInstance().invokeConstructorOf(type, arguments);
     }
 
diff --git a/src/test/org/codehaus/groovy/classgen/ConstructorIssueTest.groovy b/src/test/org/codehaus/groovy/classgen/ConstructorIssueTest.groovy
new file mode 100644
index 0000000000..7eb07a1082
--- /dev/null
+++ b/src/test/org/codehaus/groovy/classgen/ConstructorIssueTest.groovy
@@ -0,0 +1,23 @@
+package org.codehaus.groovy.classgen
+
+class ConstructorIssueTest extends GroovyTestCase {
+    
+    ConstructorIssueTest() {
+        println("Created test case!")
+    }
+    
+    static void main(args) {
+        System.out.println("About to create test");
+        foo = new ConstructorIssueTest()
+        foo.done()
+        System.out.println("Done");
+    }
+    
+    void done() {
+        println("Yeah, I've been made")
+    }
+    
+    void testConstructorIssue() {
+        main(null)
+    }
+}
diff --git a/src/test/org/codehaus/groovy/classgen/DumpClass4.java b/src/test/org/codehaus/groovy/classgen/DumpClass4.java
new file mode 100644
index 0000000000..e1e4f3179b
--- /dev/null
+++ b/src/test/org/codehaus/groovy/classgen/DumpClass4.java
@@ -0,0 +1,69 @@
+/*
+ $Id$
+
+ Copyright 2003 (C) James Strachan and Bob Mcwhirter. All Rights Reserved.
+
+ Redistribution and use of this software and associated documentation
+ ("Software"), with or without modification, are permitted provided
+ that the following conditions are met:
+
+ 1. Redistributions of source code must retain copyright
+    statements and notices.  Redistributions must also contain a
+    copy of this document.
+
+ 2. Redistributions in binary form must reproduce the
+    above copyright notice, this list of conditions and the
+    following disclaimer in the documentation and/or other
+    materials provided with the distribution.
+
+ 3. The name "groovy" must not be used to endorse or promote
+    products derived from this Software without prior written
+    permission of The Codehaus.  For written permission,
+    please contact info@codehaus.org.
+
+ 4. Products derived from this Software may not be called "groovy"
+    nor may "groovy" appear in their names without prior written
+    permission of The Codehaus. "groovy" is a registered
+    trademark of The Codehaus.
+
+ 5. Due credit should be given to The Codehaus -
+    http://groovy.codehaus.org/
+
+ THIS SOFTWARE IS PROVIDED BY THE CODEHAUS AND CONTRIBUTORS
+ ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT
+ NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
+ FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ THE CODEHAUS OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
+ INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+ (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
+ SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
+ STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
+ OF THE POSSIBILITY OF SUCH DAMAGE.
+
+ */
+
+package org.codehaus.groovy.classgen;
+
+import org.codehaus.groovy.runtime.InvokerHelper;
+
+/**
+ * This is a scratch class used to experiment with ASM to see what kind of 
+ * stuff is output for normal Java code
+ * 
+ * @author <a href="mailto:james@coredevelopers.net">James Strachan</a>
+ * @version $Revision$
+ */
+public class DumpClass4 {
+
+    public DumpClass4() {
+    }
+    
+    public static void main(String[] args) {
+        Object foo = InvokerHelper.invokeConstructor(DumpClass4.class, null);
+    }
+   
+    public void run() {
+    }
+}
diff --git a/src/test/org/codehaus/groovy/classgen/RunGroovyTest.java b/src/test/org/codehaus/groovy/classgen/RunGroovyTest.java
index 6cd4527f84..b61ce8a832 100644
--- a/src/test/org/codehaus/groovy/classgen/RunGroovyTest.java
+++ b/src/test/org/codehaus/groovy/classgen/RunGroovyTest.java
@@ -58,6 +58,7 @@ import org.codehaus.groovy.classgen.TestSupport;
  */
 public class RunGroovyTest extends TestSupport {
 
+    /*
     public void testMap() throws Exception {
         GroovyObject object = compile("src/test/groovy/MapTest.groovy");
         object.invokeMethod("testMap", null);
@@ -78,4 +79,8 @@ public class RunGroovyTest extends TestSupport {
         object.invokeMethod("testSingleExpression", null);
         object.invokeMethod("testLastExpressionIsSimple", null);
     }
+*/
+    public void testConsole() throws Exception {
+        GroovyObject object = compile("src/main/groovy/ui/Console.groovy");
+    }
 }
diff --git a/src/test/org/codehaus/groovy/classgen/TestSupport.java b/src/test/org/codehaus/groovy/classgen/TestSupport.java
index 5349ec1ba5..635d3de95d 100644
--- a/src/test/org/codehaus/groovy/classgen/TestSupport.java
+++ b/src/test/org/codehaus/groovy/classgen/TestSupport.java
@@ -81,7 +81,7 @@ import org.objectweb.asm.util.DumpClassVisitor;
 public class TestSupport extends GroovyTestCase implements Constants {
 
     protected static boolean CHECK_CLASS = false;
-    protected static boolean DUMP_CLASS = false;
+    protected static boolean DUMP_CLASS = true;
 
     protected GroovyClassLoader loader = new GroovyClassLoader(getClass().getClassLoader()) {
         protected void onClassNode(ClassWriter classWriter, ClassNode classNode) {
