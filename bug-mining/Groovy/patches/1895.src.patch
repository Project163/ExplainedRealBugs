diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 84ff20dae6..be97b79cfa 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -846,11 +846,13 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
                             return true;
                         }
                     }
-                    FieldNode field = current.getDeclaredField(propertyName);
-                    if (field != null) {
-                        if (visitor != null) visitor.visitField(field);
-                        storeType(pexp, field.getOriginType());
-                        return true;
+                    if (getter==null && checkForReadOnly) {
+                        FieldNode field = current.getDeclaredField(propertyName);
+                        if (field != null) {
+                            if (visitor != null) visitor.visitField(field);
+                            storeType(pexp, field.getOriginType());
+                            return true;
+                        }
                     }
                     // if the property expression is an attribute expression (o.@attr), then
                     // we stop now, otherwise we must check the parent class
diff --git a/src/test/groovy/transform/stc/LoopsSTCTest.groovy b/src/test/groovy/transform/stc/LoopsSTCTest.groovy
index 7a730a4247..eebcaeb313 100644
--- a/src/test/groovy/transform/stc/LoopsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/LoopsSTCTest.groovy
@@ -138,5 +138,27 @@ class LoopsSTCTest extends StaticTypeCheckingTestCase {
         '''
     }
 
+    void testShouldNotInferSoftReferenceAsComponentType() {
+        assertScript '''import java.lang.reflect.Field
+            import org.codehaus.groovy.ast.stmt.ForStatement
+
+            @ASTTest(phase=INSTRUCTION_SELECTION, value= {
+                def FIELD_ARRAY = make(Field).makeArray()
+                def forStmt = lookup('myLoop')[0]
+                assert forStmt instanceof ForStatement
+                def collectionType = forStmt.collectionExpression.getNodeMetaData(INFERRED_TYPE)
+                assert collectionType == FIELD_ARRAY
+            })
+            void forInTest() {
+                int i = 0;
+                myLoop:
+                for (def field : String.class.declaredFields) {
+                    i++;
+                }
+                assert i > 0
+            }
+        '''
+    }
+
 }
 
