diff --git a/subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java b/subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java
index 0a44bbe891..ecb57493c4 100644
--- a/subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java
+++ b/subprojects/groovy-sql/src/main/java/groovy/sql/Sql.java
@@ -3578,6 +3578,8 @@ public class Sql {
                         if (inWhere == whereChars.length) {
                             return i;
                         }
+                    } else {
+                        inWhere = 0;
                     }
             }
             i++;
diff --git a/subprojects/groovy-sql/src/test/groovy/groovy/sql/SqlCompleteTest.groovy b/subprojects/groovy-sql/src/test/groovy/groovy/sql/SqlCompleteTest.groovy
index bf47fabb4f..d96a84dbda 100644
--- a/subprojects/groovy-sql/src/test/groovy/groovy/sql/SqlCompleteTest.groovy
+++ b/subprojects/groovy-sql/src/test/groovy/groovy/sql/SqlCompleteTest.groovy
@@ -347,6 +347,12 @@ class SqlCompleteTest extends SqlHelperTestCase {
         assert result == "A narrow ? supported by a ?!!"
     }
 
+    void testNullHandling() {
+        def (wh, ere, anotherfield) = [null, null, null]
+        def query = "update tbl set wh=$wh, ere=$ere, anotherfield=$anotherfield where id=1"
+        assert sql.asSql(query, sql.getParameters(query)) == 'update tbl set wh=null, ere=null, anotherfield=null where id=1'
+    }
+
     void testExecuteUpdate() {
         def foo = 'food-drink'
         def food = 'food'
