diff --git a/src/main/groovy/lang/Script.java b/src/main/groovy/lang/Script.java
index 42986443aa..98521ae044 100644
--- a/src/main/groovy/lang/Script.java
+++ b/src/main/groovy/lang/Script.java
@@ -166,7 +166,7 @@ public abstract class Script extends GroovyObjectSupport {
      * @param expression is the Groovy script expression to evaluate
      */
     public Object evaluate(String expression) throws CompilationFailedException {
-        GroovyShell shell = new GroovyShell(binding);
+        GroovyShell shell = new GroovyShell(getClass().getClassLoader(), binding);
         return shell.evaluate(expression);
     }
 
@@ -177,7 +177,7 @@ public abstract class Script extends GroovyObjectSupport {
      * @param file is the Groovy script to evaluate
      */
     public Object evaluate(File file) throws CompilationFailedException, IOException {
-        GroovyShell shell = new GroovyShell(binding);
+        GroovyShell shell = new GroovyShell(getClass().getClassLoader(), binding);
         return shell.evaluate(file);
     }
 
@@ -185,7 +185,7 @@ public abstract class Script extends GroovyObjectSupport {
      * A helper method to allow scripts to be run taking command line arguments
      */
     public void run(File file, String[] arguments) throws CompilationFailedException, IOException {
-        GroovyShell shell = new GroovyShell(binding);
+        GroovyShell shell = new GroovyShell(getClass().getClassLoader(), binding);
         shell.run(file, arguments);
     }
 }
diff --git a/src/test/groovy/lang/GroovyShellTest.java b/src/test/groovy/lang/GroovyShellTest.java
index d246b261b7..5c1d70edcb 100644
--- a/src/test/groovy/lang/GroovyShellTest.java
+++ b/src/test/groovy/lang/GroovyShellTest.java
@@ -106,4 +106,17 @@ public class GroovyShellTest extends GroovyTestCase {
         assertEquals("I like Cheddar", result);
         assertEquals("abc", context.getVariable("x"));
     }
+    
+    public void testClassLoader() {
+        Binding context = new Binding();
+        CompilerConfiguration config = new CompilerConfiguration();
+        config.setScriptBaseClass(DerivedScript.class.getName());
+        GroovyShell shell = new GroovyShell(context, config);
+        String script = "evaluate '''\n"+
+                        "class XXXX{}\n"+
+                        "assert evaluate('XXXX') == XXXX\n"+
+                        "'''";
+        shell.evaluate(script);
+     
+    }
 }
