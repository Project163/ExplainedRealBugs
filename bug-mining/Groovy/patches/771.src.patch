diff --git a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
index ae83831ecc..c5b0340adc 100644
--- a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
@@ -429,7 +429,7 @@ public class AsmClassGenerator extends ClassGenerator {
     }
 
     /**
-     * generates a Meta Object Protocoll method, that is used to call a non public
+     * generates a Meta Object Protocol method, that is used to call a non public
      * method, or to make a call to super.
      *
      * @param mopCalls list of methods a mop call method should be generated for
@@ -4203,6 +4203,7 @@ public class AsmClassGenerator extends ClassGenerator {
     }
 
     protected void onLineNumber(ASTNode statement, String message) {
+        if (statement==null) return;
         int line = statement.getLineNumber();
         int col = statement.getColumnNumber();
         this.currentASTNode = statement;
diff --git a/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java b/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
index 0ccf6027d7..5616a17e7d 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassCompletionVerifier.java
@@ -23,7 +23,11 @@ import org.codehaus.groovy.ast.MethodNode;
 import org.codehaus.groovy.ast.Parameter;
 import org.codehaus.groovy.ast.expr.BinaryExpression;
 import org.codehaus.groovy.ast.expr.ConstructorCallExpression;
+import org.codehaus.groovy.ast.expr.DeclarationExpression;
+import org.codehaus.groovy.ast.expr.Expression;
 import org.codehaus.groovy.ast.expr.MapEntryExpression;
+import org.codehaus.groovy.ast.expr.MethodCallExpression;
+import org.codehaus.groovy.ast.expr.TupleExpression;
 import org.codehaus.groovy.ast.stmt.CatchStatement;
 import org.codehaus.groovy.control.SourceUnit;
 import org.objectweb.asm.Opcodes;
@@ -326,4 +330,23 @@ public class ClassCompletionVerifier extends ClassCodeVisitorSupport {
         }
         super.visitCatchStatement(cs);
     }
+    
+    public void visitMethodCallExpression(MethodCallExpression mce) {
+        super.visitMethodCallExpression(mce);
+        Expression aexp = mce.getArguments();
+        if (aexp instanceof TupleExpression) {
+            TupleExpression arguments = (TupleExpression) aexp;
+            for (Iterator it=arguments.getExpressions().iterator();it. hasNext();) {
+                checkForInvalidDeclaration((Expression) it.next());
+            }
+        } else {
+            checkForInvalidDeclaration(aexp);
+        }
+    }
+    
+    private void checkForInvalidDeclaration(Expression exp) {
+        if (!(exp instanceof DeclarationExpression)) return;
+        addError("invalid use of declartion inside method call.",exp);
+    }
+    
 }
diff --git a/src/test/gls/syntax/MethodCallValidationTest.groovy b/src/test/gls/syntax/MethodCallValidationTest.groovy
new file mode 100644
index 0000000000..c0da9c9d0b
--- /dev/null
+++ b/src/test/gls/syntax/MethodCallValidationTest.groovy
@@ -0,0 +1,10 @@
+package gls.syntax
+
+public class MethodCallValidationTest extends gls.CompilableTestSupport {
+  
+  void testDeclarationInMethodCall() {
+    shouldNotCompile """
+       foo(String a)
+    """
+  }
+}
\ No newline at end of file
