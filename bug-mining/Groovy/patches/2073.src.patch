diff --git a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticInvocationWriter.java b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticInvocationWriter.java
index 729991a591..633bbaa35e 100644
--- a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticInvocationWriter.java
+++ b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticInvocationWriter.java
@@ -113,14 +113,15 @@ public class StaticInvocationWriter extends InvocationWriter {
     @Override
     protected boolean writeDirectMethodCall(final MethodNode target, final boolean implicitThis, final Expression receiver, final TupleExpression args) {
         if (target instanceof ExtensionMethodNode) {
-            MethodNode node = ((ExtensionMethodNode) target).getExtensionMethodNode();
+            ExtensionMethodNode emn = (ExtensionMethodNode) target;
+            MethodNode node = emn.getExtensionMethodNode();
             String methodName = target.getName();
 
             MethodVisitor mv = controller.getMethodVisitor();
             int argumentsToRemove = 0;
             List<Expression> argumentList = new LinkedList<Expression>(args.getExpressions());
 
-            if (receiver instanceof ClassExpression) {
+            if (emn.isStaticExtension()) {
                 // it's a static extension method
                 argumentList.add(0, ConstantExpression.NULL);
             } else {
diff --git a/src/main/org/codehaus/groovy/transform/stc/ExtensionMethodNode.java b/src/main/org/codehaus/groovy/transform/stc/ExtensionMethodNode.java
index f285ab4ea2..68ff881755 100644
--- a/src/main/org/codehaus/groovy/transform/stc/ExtensionMethodNode.java
+++ b/src/main/org/codehaus/groovy/transform/stc/ExtensionMethodNode.java
@@ -28,15 +28,27 @@ import org.codehaus.groovy.ast.stmt.Statement;
  */
 public class ExtensionMethodNode extends MethodNode {
     private final MethodNode extensionMethodNode;
+    private final boolean isStaticExtension; // true if it's a static method
     
     public ExtensionMethodNode(
             MethodNode extensionMethodNode,
-            String name, int modifiers, ClassNode returnType, Parameter[] parameters, ClassNode[] exceptions, Statement code) {
+            String name, int modifiers, ClassNode returnType, Parameter[] parameters, ClassNode[] exceptions, Statement code, boolean isStaticExtension) {
         super(name, modifiers, returnType, parameters, exceptions, code);
         this.extensionMethodNode = extensionMethodNode;
+        this.isStaticExtension = isStaticExtension;
+    }
+
+    public ExtensionMethodNode(
+            MethodNode extensionMethodNode,
+            String name, int modifiers, ClassNode returnType, Parameter[] parameters, ClassNode[] exceptions, Statement code) {
+        this(extensionMethodNode, name, modifiers, returnType, parameters, exceptions, code, false);
     }
 
     public MethodNode getExtensionMethodNode() {
         return extensionMethodNode;
     }
+
+    public boolean isStaticExtension() {
+        return isStaticExtension;
+    }
 }
diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
index 2a7722f1e2..7a42dba05a 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
@@ -1235,16 +1235,14 @@ public abstract class StaticTypeCheckingSupport {
                             && metaMethod.getAnnotations(Deprecated_TYPE).isEmpty()) {
                         Parameter[] parameters = new Parameter[types.length - 1];
                         System.arraycopy(types, 1, parameters, 0, parameters.length);
-                        MethodNode node = new ExtensionMethodNode(
+                        ExtensionMethodNode node = new ExtensionMethodNode(
                                 metaMethod,
                                 metaMethod.getName(),
                                 metaMethod.getModifiers(),
                                 metaMethod.getReturnType(),
                                 parameters,
-                                ClassNode.EMPTY_ARRAY, null);
-                        if (staticExtClasses.contains(dgmLikeClass)) {
-                            node.setModifiers(node.getModifiers() | Opcodes.ACC_STATIC);
-                        }
+                                ClassNode.EMPTY_ARRAY, null,
+                                staticExtClasses.contains(dgmLikeClass));
                         node.setGenericsTypes(metaMethod.getGenericsTypes());
                         ClassNode declaringClass = types[0].getType();
                         String declaringClassName = declaringClass.getName();
diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index bf7d8f48e2..918325daa9 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -2442,6 +2442,12 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
             return leftRedirect;
         }
 
+        // GROOVY-5890
+        // do not mix Class<Foo> with Foo
+        if (leftExpression instanceof ClassExpression) {
+            left = CLASS_Type.getPlainNodeReference();
+        }
+
         MethodNode method = findMethodOrFail(expr, left, operationName, right);
         if (method != null) {
             storeTargetMethod(expr, method);
diff --git a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
index b3b62981a2..a8014be1e0 100644
--- a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
+++ b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
@@ -692,5 +692,12 @@ class BugsStaticCompileTest extends BugsSTCTest {
             A.B.foo()
         '''
     }
+
+    // GROOVY-5890
+    void testIsCaseWithClassLiteral() {
+        assertScript '''
+            assert 'a' in String
+        '''
+    }
 }
 
