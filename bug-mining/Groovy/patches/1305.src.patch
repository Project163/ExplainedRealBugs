diff --git a/src/main/groovy/util/OrderBy.java b/src/main/groovy/util/OrderBy.java
index 7fc20b4be3..3a79dea5fb 100644
--- a/src/main/groovy/util/OrderBy.java
+++ b/src/main/groovy/util/OrderBy.java
@@ -17,6 +17,7 @@ package groovy.util;
 
 import groovy.lang.Closure;
 import org.codehaus.groovy.runtime.NumberAwareComparator;
+import org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation;
 
 import java.util.ArrayList;
 import java.util.Comparator;
@@ -32,6 +33,7 @@ import java.util.List;
 public class OrderBy<T> implements Comparator<T> {
 
     private final List<Closure> closures;
+    private boolean equalityCheck;
     private final NumberAwareComparator<Object> numberAwareComparator = new NumberAwareComparator<Object>();
 
     public OrderBy() {
@@ -55,10 +57,23 @@ public class OrderBy<T> implements Comparator<T> {
         for (Closure closure : closures) {
             Object value1 = closure.call(object1);
             Object value2 = closure.call(object2);
-            int result = numberAwareComparator.compare(value1, value2);
+            int result;
+            if (!equalityCheck || (value1 instanceof Comparable && value2 instanceof Comparable)) {
+                result = numberAwareComparator.compare(value1, value2);
+            } else {
+                result = DefaultTypeTransformation.compareEqual(value1, value2) ? 0 : -1;
+            }
             if (result == 0) continue;
             return result;
         }
         return 0;
     }
+
+    public boolean isEqualityCheck() {
+        return equalityCheck;
+    }
+
+    public void setEqualityCheck(boolean equalityCheck) {
+        this.equalityCheck = equalityCheck;
+    }
 }
diff --git a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
index f1325652a9..4294198509 100644
--- a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
+++ b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
@@ -982,8 +982,6 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
      * @since 1.0
      */
     public static <T> Collection<T> unique(Collection<T> self) {
-        if (self instanceof Set)
-            return self;
         List<T> answer = new ArrayList<T>();
         for (T t : self) {
             boolean duplicated = false;
@@ -1060,7 +1058,9 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
         // use a comparator of one item or two
         int params = closure.getMaximumNumberOfParameters();
         if (params == 1) {
-            unique(self, new OrderBy<T>(closure));
+            OrderBy<T> by = new OrderBy<T>(closure);
+            by.setEqualityCheck(true);
+            unique(self, by);
         } else {
             unique(self, new ClosureComparator<T>(closure));
         }
@@ -5993,8 +5993,8 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
     }
 
     private static boolean coercedEquals(Object o1, Object o2) {
-        if (o1 instanceof Number && o1 instanceof Comparable) {
-            if (!(o2 instanceof Number && o2 instanceof Comparable && numberAwareCompareTo((Comparable)o1, (Comparable)o2) == 0)) {
+        if (o1 instanceof Comparable) {
+            if (!(o2 instanceof Comparable && numberAwareCompareTo((Comparable) o1, (Comparable) o2) == 0)) {
                 return false;
             }
         }
diff --git a/src/test/groovy/bugs/Groovy4257Bug.groovy b/src/test/groovy/bugs/Groovy4257Bug.groovy
new file mode 100644
index 0000000000..4221f11b16
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy4257Bug.groovy
@@ -0,0 +1,22 @@
+package groovy.bugs
+
+class Groovy4257Bug extends GroovyTestCase {
+    void testSetUnique() {
+        Set orig = [[3035, 26972], [2795, 34412]]
+        Set clone = orig.clone()
+        orig.unique()
+        assert orig == clone
+        orig.unique{ it }
+        assert orig == clone
+    }
+
+    void testNumberCoercion() {
+        def orig = [3, 3L, 3.0] as Set
+        def expected = [3] as Set
+        orig.unique()
+        assert orig == expected
+        orig = [3, 3L, 3.0] as Set
+        orig.unique{ it }
+        assert orig == expected
+    }
+}
