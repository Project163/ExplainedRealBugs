diff --git a/src/main/org/codehaus/groovy/ast/PropertyNode.java b/src/main/org/codehaus/groovy/ast/PropertyNode.java
index 943f0375b7..5c4e8ef7b1 100644
--- a/src/main/org/codehaus/groovy/ast/PropertyNode.java
+++ b/src/main/org/codehaus/groovy/ast/PropertyNode.java
@@ -70,7 +70,7 @@ public class PropertyNode extends Statement implements Constants {
         Expression initialValueExpression,
         Statement getterBlock,
         Statement setterBlock) {
-        this(new FieldNode(name, ACC_PRIVATE, type, owner, initialValueExpression), modifiers, getterBlock, setterBlock);
+        this(new FieldNode(name, 0, type, owner, initialValueExpression), modifiers, getterBlock, setterBlock);
     }
 
     public PropertyNode(FieldNode field, int modifiers, Statement getterBlock, Statement setterBlock) {
diff --git a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
index c601dee486..8e39405ecb 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
@@ -142,6 +142,8 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
     MethodCaller compareIdenticalMethod = MethodCaller.newStatic(InvokerHelper.class, "compareIdentical");
     MethodCaller compareEqualMethod = MethodCaller.newStatic(InvokerHelper.class, "compareEqual");
     MethodCaller compareNotEqualMethod = MethodCaller.newStatic(InvokerHelper.class, "compareNotEqual");
+    MethodCaller findRegexMethod = MethodCaller.newStatic(InvokerHelper.class, "findRegex");
+    MethodCaller matchRegexMethod = MethodCaller.newStatic(InvokerHelper.class, "matchRegex");
     MethodCaller compareLessThanMethod = MethodCaller.newStatic(InvokerHelper.class, "compareLessThan");
     MethodCaller compareLessThanEqualMethod = MethodCaller.newStatic(InvokerHelper.class, "compareLessThanEqual");
     MethodCaller compareGreaterThanMethod = MethodCaller.newStatic(InvokerHelper.class, "compareGreaterThan");
@@ -658,6 +660,14 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
                 evaluateBinaryExpression(compareNotEqualMethod, expression);
                 break;
 
+            case Token.FIND_REGEX :
+               	evaluateBinaryExpression(findRegexMethod, expression);
+               	break;
+                	
+            case Token.MATCH_REGEX :
+               	evaluateBinaryExpression(matchRegexMethod, expression);
+               	break;
+                	
             case Token.COMPARE_GREATER_THAN :
                 evaluateBinaryExpression(compareGreaterThanMethod, expression);
                 break;
@@ -1522,6 +1532,7 @@ public class ClassGenerator implements GroovyClassVisitor, GroovyCodeVisitor, Co
             BinaryExpression binExpr = (BinaryExpression) expression;
             switch (binExpr.getOperation().getType()) {
                 case Token.COMPARE_EQUAL :
+                case Token.MATCH_REGEX :
                 case Token.COMPARE_GREATER_THAN :
                 case Token.COMPARE_GREATER_THAN_EQUAL :
                 case Token.COMPARE_LESS_THAN :
diff --git a/src/main/org/codehaus/groovy/runtime/Invoker.java b/src/main/org/codehaus/groovy/runtime/Invoker.java
index d55902fc87..85cf7b3488 100644
--- a/src/main/org/codehaus/groovy/runtime/Invoker.java
+++ b/src/main/org/codehaus/groovy/runtime/Invoker.java
@@ -58,6 +58,11 @@ import java.util.Enumeration;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.NoSuchElementException;
+import java.util.regex.Matcher;
+import java.util.regex.Pattern;
+
+import com.mockobjects.util.NotImplementedException;
 
 /**
  * A helper class to invoke methods or extract properties on arbitrary Java objects dynamically
@@ -215,30 +220,34 @@ public class Invoker {
         if (value instanceof Iterator) {
             return (Iterator) value;
         }
-        return asCollection(value).iterator();
-    }
-
-    /**
-     * Converts the given value to a boolean value for use in a branch
-     * statement or loop
-     * 
-     * @param value
-     * @return
-     */
-    public Boolean asBoolean(Object value) {
-        if (value instanceof Boolean) {
-            return (Boolean) value;
-        }
-        else if (value instanceof String) {
-            String s = (String) value;
-            if (s.equalsIgnoreCase("true")) {
-                return Boolean.TRUE;
-            }
-            else if (s.equalsIgnoreCase("false")) {
-                return Boolean.FALSE;
-            }
+        else if (value instanceof Matcher) {
+        	final Matcher matcher = (Matcher) value;
+        	return new Iterator() {
+        		private boolean found = false;
+        		private boolean done = false;
+				public boolean hasNext() {
+					if (done) return false;
+					if (!found) {
+						found = matcher.find();
+						if (!found) done = true;
+					}
+					return found;
+				}
+				public Object next() {
+					if (!found) {
+						if (!hasNext()) {
+							throw new NoSuchElementException();
+						}
+					}
+					found = false;
+					return matcher.group();
+				}
+				public void remove() {
+					throw new NotImplementedException();
+				}
+        	};
         }
-        throw new InvokerException("Cannot convert value: " + value + " to a boolean");
+        return asCollection(value).iterator();
     }
 
     /**
@@ -416,4 +425,41 @@ public class Invoker {
         }
     }
 
+    /**
+     * Find the right hand regex within the left hand string and return a matcher.
+     * 
+     * @param left string to compare
+     * @param right regular expression to compare the string to
+     * @return
+     */
+    public Matcher objectFindRegex(Object left, Object right) {
+    	String stringToCompare;
+    	if (left instanceof String) {
+    		stringToCompare = (String) left;
+    	} else {
+    		stringToCompare = toString(left);
+    	}
+    	String regexToCompareTo;
+    	if (right instanceof String) {
+    		regexToCompareTo = (String) right;
+    	} else {
+    		regexToCompareTo = toString(right);
+    	}
+    	Matcher matcher = Pattern.compile(regexToCompareTo).matcher(stringToCompare);
+		return matcher;
+    }
+
+    /**
+     * Find the right hand regex within the left hand string and return a matcher.
+     * 
+     * @param left string to compare
+     * @param right regular expression to compare the string to
+     * @return
+     */
+    public boolean objectMatchRegex(Object left, Object right) {
+    	String stringToCompare = toString(left);
+    	String regexToCompareTo = toString(right);
+    	return Pattern.matches(regexToCompareTo, stringToCompare);
+    }
+
 }
diff --git a/src/main/org/codehaus/groovy/runtime/InvokerHelper.java b/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
index a6088b83db..3d58b38356 100644
--- a/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
+++ b/src/main/org/codehaus/groovy/runtime/InvokerHelper.java
@@ -59,6 +59,7 @@ import java.util.HashMap;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.regex.Matcher;
 
 /**
  * A static helper class to make bytecode generation easier and act as a facade over the Invoker
@@ -137,11 +138,20 @@ public class InvokerHelper {
             Boolean booleanValue = (Boolean) object;
             return booleanValue.booleanValue();
         }
+        else if (object instanceof Matcher) {
+        	Matcher matcher = (Matcher) object;
+        	return matcher.find();
+        }
+        else if (object instanceof Collection) {
+        	Collection collection = (Collection) object;
+        	return !collection.isEmpty();
+        }
         else if (object instanceof String) {
             String text = (String) object;
-            return text.equals("true");
+            return text.equalsIgnoreCase("true");
         }
-        return false;
+        throw new InvokerException(object.getClass().getName() +
+        						   "(" + object + ") cannot be converted to a boolean.");
     }
 
 	public static boolean notObject(Object object) {
@@ -159,6 +169,14 @@ public class InvokerHelper {
     public static boolean compareEqual(Object left, Object right) {
         return getInstance().objectsEqual(left, right);
     }
+    
+    public static Matcher findRegex(Object left, Object right) {
+    	return getInstance().objectFindRegex(left, right);
+    }
+
+    public static boolean matchRegex(Object left, Object right) {
+    	return getInstance().objectMatchRegex(left, right);
+    }
 
     public static boolean compareNotEqual(Object left, Object right) {
         return !getInstance().objectsEqual(left, right);
diff --git a/src/main/org/codehaus/groovy/syntax/Token.java b/src/main/org/codehaus/groovy/syntax/Token.java
index f172615670..20f1794081 100644
--- a/src/main/org/codehaus/groovy/syntax/Token.java
+++ b/src/main/org/codehaus/groovy/syntax/Token.java
@@ -94,6 +94,12 @@ public class Token
 
     /** Token type for "=". */
     public static final int EQUAL = 100;
+    
+    /**	Token type for "~=". */
+    public static final int FIND_REGEX = 105;
+
+    /**	Token type for "~==". */
+    public static final int MATCH_REGEX = 106;
 
     /** Token type for "==". */
     public static final int COMPARE_IDENTICAL = 110;
@@ -728,12 +734,44 @@ public class Token
      *  @return The token.
      */
     public static Token compareNotEqual(int startLine,
-                                        int startColumn)
+										int startColumn)
     {
-        return newToken( COMPARE_NOT_EQUAL,
-                         "!=",
-                         startLine,
-                         startColumn );
+    	return newToken( COMPARE_NOT_EQUAL,
+    					 "!=",
+    					 startLine,
+						 startColumn );
+    }
+
+    /** Factory method for token for "~=".
+     *
+     *  @param startLine Line upon which the token starts.
+     *  @param startColumn Column upon which the token starts.
+     *
+     *  @return The token.
+     */
+    public static Token findRegex( int startLine,
+								   int startColumn)
+    {
+    	return newToken( FIND_REGEX,
+    			"~=",
+    			startLine,
+				startColumn );
+    }
+
+    /** Factory method for token for "~==".
+     *
+     *  @param startLine Line upon which the token starts.
+     *  @param startColumn Column upon which the token starts.
+     *
+     *  @return The token.
+     */
+    public static Token matchRegex( int startLine,
+								    int startColumn)
+    {
+    	return newToken( MATCH_REGEX,
+    			"~==",
+    			startLine,
+				startColumn );
     }
 
     /** Factory method for token for "=".
@@ -743,8 +781,8 @@ public class Token
      *
      *  @return The token.
      */
-    public static Token equal(int startLine,
-                                     int startColumn)
+    public static Token equal( int startLine,
+                               int startColumn)
     {
         return newToken( EQUAL,
                          "=",
diff --git a/src/main/org/codehaus/groovy/syntax/lexer/Lexer.java b/src/main/org/codehaus/groovy/syntax/lexer/Lexer.java
index 0b7733caad..5dcb58054c 100644
--- a/src/main/org/codehaus/groovy/syntax/lexer/Lexer.java
+++ b/src/main/org/codehaus/groovy/syntax/lexer/Lexer.java
@@ -300,6 +300,44 @@ public class Lexer
                     }
                     break ROOT_SWITCH;
                 }
+                case ( '~' ):
+                {
+                	mark();
+                	consume();
+                	
+                	c = la();
+                	
+                  MULTICHAR_SWITCH:
+                    switch ( c )
+                    {
+                    	case ( '=' ):
+                    	{
+                    		consume();
+                    		c = la();
+                    		switch ( c )
+                    		{
+                    			case ( '=' ):
+                    			{
+                    				consume();
+                    				token = Token.matchRegex( getStartLine(),
+                    										  getStartColumn());
+                    				break MULTICHAR_SWITCH;
+                    			}
+                    		}
+                    		token = Token.findRegex( getStartLine(),
+                    								 getStartColumn() );
+                    		break MULTICHAR_SWITCH;
+                    	}
+                    	default:
+                    	{
+                    		throw new UnexpectedCharacterException( getStartLine(),
+                    												getStartColumn()+1,
+                    												c,
+																	new char[] { '=' } );
+                    	}
+                    }
+                    break ROOT_SWITCH;
+                }
                 case ( '!' ):
                 {
                     mark();
diff --git a/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java b/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
index 1c1c6afc0a..76cbe99b8f 100644
--- a/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
+++ b/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
@@ -621,6 +621,8 @@ public class ASTBuilder
             case ( Token.KEYWORD_INSTANCEOF ):
             case ( Token.LOGICAL_AND ):
             case ( Token.LOGICAL_OR ):
+            case ( Token.FIND_REGEX ):
+            case ( Token.MATCH_REGEX ):
             {
                 return binaryExpression( expressionRoot );
             }
diff --git a/src/main/org/codehaus/groovy/syntax/parser/Parser.java b/src/main/org/codehaus/groovy/syntax/parser/Parser.java
index b305bd4756..9339669d15 100644
--- a/src/main/org/codehaus/groovy/syntax/parser/Parser.java
+++ b/src/main/org/codehaus/groovy/syntax/parser/Parser.java
@@ -923,6 +923,8 @@ public class Parser
             case ( Token.COMPARE_LESS_THAN_EQUAL ):
             case ( Token.COMPARE_GREATER_THAN ):
             case ( Token.COMPARE_GREATER_THAN_EQUAL ):
+            case ( Token.FIND_REGEX ):
+            case ( Token.MATCH_REGEX ):
             case ( Token.KEYWORD_INSTANCEOF ):
             {
                 expr = rootNode( lt(),
diff --git a/src/test/groovy/RegularExpressionsTest.groovy b/src/test/groovy/RegularExpressionsTest.groovy
new file mode 100644
index 0000000000..03316be768
--- /dev/null
+++ b/src/test/groovy/RegularExpressionsTest.groovy
@@ -0,0 +1,50 @@
+/**
+ * Tests the regular expression syntax.
+ *
+ * @author
+ * @version
+ */
+ 
+ class RegularExpressionsTest extends GroovyTestCase {
+ 	
+ 	void testFindRegex() {
+ 	
+ 		assert "cheese" ~= "cheese"
+ 		
+ 		regex = "cheese"
+ 		string = "cheese"
+ 		assert string ~= regex
+ 		
+ 		i = 0
+ 		m = "cheesecheese" ~= "cheese"
+ 		while(m) { i = i + 1 }
+ 		assert i == 2
+ 		
+ 		i = 0
+ 		m = "cheesecheese" ~= "e+"
+ 		while(m) { i = i + 1 }
+ 		assert i == 4
+ 		
+ 		m.reset()
+ 		m.find()
+ 		m.find()
+ 		m.find()
+ 		assert m.group() == "ee"
+ 	}
+ 	
+ 	void testMatchRegex() {
+ 	
+ 		assert "cheese" ~== "cheese"
+ 		
+ 		assert !("cheesecheese" ~== "cheese")
+ 		
+ 	}
+ 	
+ 	property i
+ 	
+ 	void testRegexEach() {
+ 		i = 0
+ 		("cheesecheese" ~= "cheese").each({value | println(value) i = i + 1});
+ 		assert i == 2
+ 	}
+ }
\ No newline at end of file
diff --git a/src/test/org/codehaus/groovy/classgen/PropertyTest.java b/src/test/org/codehaus/groovy/classgen/PropertyTest.java
index d0f2391200..f21aef5a5c 100644
--- a/src/test/org/codehaus/groovy/classgen/PropertyTest.java
+++ b/src/test/org/codehaus/groovy/classgen/PropertyTest.java
@@ -82,7 +82,7 @@ public class PropertyTest extends TestSupport {
         Object bean = fooClass.newInstance();
         assertTrue("Managed to create bean", bean != null);
 
-        assertField(fooClass, "bar", Modifier.PRIVATE, "java.lang.String");
+        assertField(fooClass, "bar", 0, "java.lang.String");
 
         assertGetProperty(bean, "bar", null);
         assertSetProperty(bean, "bar", "newValue");
@@ -98,7 +98,7 @@ public class PropertyTest extends TestSupport {
         Object bean = fooClass.newInstance();
         assertTrue("Managed to create bean", bean != null);
 
-        assertField(fooClass, "bar", Modifier.PRIVATE, "java.lang.String");
+        assertField(fooClass, "bar", 0, "java.lang.String");
 
         assertGetProperty(bean, "name", "James");
         assertSetProperty(bean, "name", "Bob");
diff --git a/src/test/org/codehaus/groovy/runtime/InvokerTest.java b/src/test/org/codehaus/groovy/runtime/InvokerTest.java
index 5d7c725312..d2710a348d 100644
--- a/src/test/org/codehaus/groovy/runtime/InvokerTest.java
+++ b/src/test/org/codehaus/groovy/runtime/InvokerTest.java
@@ -132,9 +132,8 @@ public class InvokerTest extends GroovyTestCase {
      * Asserts the asBoolean method returns the given flag
      */
     protected void assertAsBoolean(boolean expected, Object value) {
-        Boolean answer = invoker.asBoolean(value);
-        assertNotNull(answer);
-        assertEquals("value: " + value + " asBoolean()", expected, answer.booleanValue());
+        boolean answer = InvokerHelper.asBool(value);
+        assertEquals("value: " + value + " asBoolean()", expected, answer);
     }
 
     /**
