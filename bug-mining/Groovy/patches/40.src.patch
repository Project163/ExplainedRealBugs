diff --git a/project.xml b/project.xml
index 77889fa64d..d61b6ea958 100644
--- a/project.xml
+++ b/project.xml
@@ -201,6 +201,10 @@
       <name>Robert Fuller</name>
       <email></email>
     </contributor>
+    <contributor>
+      <name>Sergey Udovenko</name>
+      <email></email>
+    </contributor>
   </contributors>
 
   <dependencies>
diff --git a/src/main/groovy/lang/GroovyClassLoader.java b/src/main/groovy/lang/GroovyClassLoader.java
index bfd560000f..4e5a734ea9 100644
--- a/src/main/groovy/lang/GroovyClassLoader.java
+++ b/src/main/groovy/lang/GroovyClassLoader.java
@@ -34,6 +34,7 @@
  */
 package groovy.lang;
 
+import java.io.ByteArrayInputStream;
 import java.io.File;
 import java.io.FileInputStream;
 import java.io.FileOutputStream;
@@ -83,15 +84,26 @@ public class GroovyClassLoader extends ClassLoader {
     }
 
     /**
-	 * Parses the given file name into a Java class capable of being run
-	 * 
-	 * @param charStream
-	 * @return the main class defined in the given script
-	 */
+     * Parses the given file name into a Java class capable of being run
+     * 
+     * @param file the file name to parse
+     * @return the main class defined in the given script
+     */
     public Class parseClass(String file) throws SyntaxException, IOException {
         return parseClass(new FileInputStream(file), file);
     }
 
+    /**
+     * Parses the given text into a Java class capable of being run
+     * 
+     * @param text the text of the script/class to parse
+     * @param file the file name to use as the name of the class
+     * @return the main class defined in the given script
+     */
+    public Class parseClass(String text, String file) throws SyntaxException, IOException {
+        return parseClass(new ByteArrayInputStream(text.getBytes()), file);
+    }
+
     /**
 	 * Parses the given character stream into a Java class capable of being run
 	 * 
diff --git a/src/main/org/codehaus/groovy/ast/ModuleNode.java b/src/main/org/codehaus/groovy/ast/ModuleNode.java
index 77981f28be..4549df1068 100644
--- a/src/main/org/codehaus/groovy/ast/ModuleNode.java
+++ b/src/main/org/codehaus/groovy/ast/ModuleNode.java
@@ -244,11 +244,11 @@ public class ModuleNode extends ASTNode implements Constants {
         }
         // new lets trip the path separators
         idx = answer.lastIndexOf('/');
-        if (idx > 0) {
+        if (idx >= 0) {
             answer = answer.substring(idx + 1);
         }
         idx = answer.lastIndexOf(File.separatorChar);
-        if (idx > 0) {
+        if (idx >= 0) {
             answer = answer.substring(idx + 1);
         }
         return answer;
diff --git a/src/test/groovy/bugs/BadScriptNameBug.groovy b/src/test/groovy/bugs/BadScriptNameBug.groovy
new file mode 100644
index 0000000000..273bacded1
--- /dev/null
+++ b/src/test/groovy/bugs/BadScriptNameBug.groovy
@@ -0,0 +1,11 @@
+/**
+ * @author Sergey Udovenko 
+ * @version $Revision: 1.2 $
+ */
+class BadScriptNameBug extends GroovyTestCase {
+    
+    void testBug() {
+		GroovyClassLoader cl = new GroovyClassLoader(); 
+		cl.parseClass("println 'oops!'", "/script.groovy");
+    }
+}
\ No newline at end of file
