diff --git a/src/main/groovy/xml/StreamingSAXBuilder.groovy b/src/main/groovy/xml/StreamingSAXBuilder.groovy
index 75b4f0b4e0..b1dec1a627 100644
--- a/src/main/groovy/xml/StreamingSAXBuilder.groovy
+++ b/src/main/groovy/xml/StreamingSAXBuilder.groovy
@@ -1,5 +1,5 @@
 /*
- * Copyright 2003-2008 the original author or authors.
+ * Copyright 2003-2009 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -60,10 +60,11 @@ class StreamingSAXBuilder extends AbstractStreamingBuilder {
         }
         def hiddenNamespaces = [:]
         pendingNamespaces.each {key, value ->
-            hiddenNamespaces[key] = namespaces[key]
-            namespaces[key] = value
-            attributes.addAttribute("http://www.w3.org/2000/xmlns/", key, "xmlns:${key}", "CDATA", "$value")
-            contentHandler.startPrefixMapping(key, value)
+            def k = (key == ':' ? '' : key)
+            hiddenNamespaces[k] = namespaces[key]
+            namespaces[k] = value
+            attributes.addAttribute("http://www.w3.org/2000/xmlns/", k, "xmlns${k == '' ? '' : ":$k"}", "CDATA", "$value")
+            contentHandler.startPrefixMapping(k, value)
         }
         // set up the tag info
         def uri = ""
diff --git a/src/test/groovy/xml/StreamingSAXBuilderTest.groovy b/src/test/groovy/xml/StreamingSAXBuilderTest.groovy
index 2c79011f74..2d8c7ca074 100644
--- a/src/test/groovy/xml/StreamingSAXBuilderTest.groovy
+++ b/src/test/groovy/xml/StreamingSAXBuilderTest.groovy
@@ -41,6 +41,26 @@ public class StreamingSAXBuilderTest extends GroovyTestCase {
         assert xmlDiff.similar(), xmlDiff.toString()
     }
 
+    public void testDefaultSerializationNamespaces() {
+        def handler = TransformerFactory.newInstance().newTransformerHandler()
+        def outstream = new ByteArrayOutputStream()
+        handler.setResult(new StreamResult(outstream))
+
+        def doc = new StreamingSAXBuilder().bind {
+            mkp.declareNamespace("" : "uri:urn1")
+            mkp.declareNamespace("x" : "uri:urn2")
+            outer {
+                'x:inner'('hello')
+            }
+        }
+        def expected = '<outer xmlns="uri:urn1" xmlns:x="uri:urn2"><x:inner>hello</x:inner></outer>'
+
+        doc(handler)
+        XMLUnit.setIgnoreWhitespace(true)
+        def xmlDiff = new Diff(expected, outstream.toString())
+        assert xmlDiff.similar(), xmlDiff.toString()
+    }
+
     public void testCustomHandler() {
         def visited = []
         def handler = [
