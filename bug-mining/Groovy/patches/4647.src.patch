diff --git a/src/main/java/org/codehaus/groovy/classgen/asm/InvocationWriter.java b/src/main/java/org/codehaus/groovy/classgen/asm/InvocationWriter.java
index 7c0816bdd0..ce76868b28 100644
--- a/src/main/java/org/codehaus/groovy/classgen/asm/InvocationWriter.java
+++ b/src/main/java/org/codehaus/groovy/classgen/asm/InvocationWriter.java
@@ -43,6 +43,7 @@ import org.codehaus.groovy.runtime.ScriptBytecodeAdapter;
 import org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation;
 import org.codehaus.groovy.runtime.typehandling.ShortTypeHandling;
 import org.codehaus.groovy.syntax.SyntaxException;
+import org.codehaus.groovy.transform.stc.ExtensionMethodNode;
 import org.objectweb.asm.Label;
 import org.objectweb.asm.MethodVisitor;
 
@@ -136,7 +137,8 @@ public class InvocationWriter {
     }
 
     protected boolean writeDirectMethodCall(final MethodNode target, final boolean implicitThis, final Expression receiver, final TupleExpression args) {
-        if (target == null) return false;
+        if (target == null || target instanceof ExtensionMethodNode) return false;
+
         ClassNode declaringClass = target.getDeclaringClass();
         ClassNode enclosingClass = controller.getClassNode(), receiverType = enclosingClass;
         if (receiver != null) {
diff --git a/src/test/groovy/transform/stc/ClosuresSTCTest.groovy b/src/test/groovy/transform/stc/ClosuresSTCTest.groovy
index 53b5bbf549..a72e65b5c9 100644
--- a/src/test/groovy/transform/stc/ClosuresSTCTest.groovy
+++ b/src/test/groovy/transform/stc/ClosuresSTCTest.groovy
@@ -55,7 +55,7 @@ class ClosuresSTCTest extends StaticTypeCheckingTestCase {
         '''
     }
 
-    // GROOVY-10072
+    // GROOVY-10072, GROOVY-11023
     void testClosureWithoutArguments5() {
         assertScript '''
             def c = { p = 'foo' -> return p }
@@ -63,9 +63,9 @@ class ClosuresSTCTest extends StaticTypeCheckingTestCase {
             assert c() == 'foo'
         '''
         assertScript '''
-            def c = { p, q = 'baz' -> '' + p + q }
+            def c = { p, q = p.toString() -> '' + p + q }
             assert c('foo', 'bar') == 'foobar'
-            assert c('foo') == 'foobaz'
+            assert c('foo') == 'foofoo'
         '''
     }
 
