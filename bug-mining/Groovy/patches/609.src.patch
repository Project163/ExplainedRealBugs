diff --git a/src/main/org/codehaus/groovy/control/io/FileReaderSource.java b/src/main/org/codehaus/groovy/control/io/FileReaderSource.java
index f32acb2d81..1f84db3034 100644
--- a/src/main/org/codehaus/groovy/control/io/FileReaderSource.java
+++ b/src/main/org/codehaus/groovy/control/io/FileReaderSource.java
@@ -15,11 +15,8 @@
  */
 package org.codehaus.groovy.control.io;
 
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.IOException;
-import java.io.InputStreamReader;
-import java.io.Reader;
+import java.io.*;
+import java.nio.charset.Charset;
 
 import org.codehaus.groovy.control.CompilerConfiguration;
 
@@ -31,6 +28,7 @@ import org.codehaus.groovy.control.CompilerConfiguration;
  */
 public class FileReaderSource extends AbstractReaderSource {
     private File file;  // The File from which we produce Readers.
+    private final Charset UTF8 = Charset.forName("UTf-8");
 
    /**
     *  Creates the ReaderSource from a File descriptor.
@@ -46,7 +44,26 @@ public class FileReaderSource extends AbstractReaderSource {
     *  Returns a new Reader on the underlying source object.  
     */
     public Reader getReader() throws IOException {
-       return new InputStreamReader( new FileInputStream(file), configuration.getSourceEncoding() );
+       // we want to remove the BOM windows adds from a file if the encoding is UTF-8
+       // in other cases we depend on the charsets 
+       Charset cs = Charset.forName(configuration.getSourceEncoding());
+       InputStream in = new BufferedInputStream(new FileInputStream(file));
+       if (UTF8.compareTo(cs) == 0) {
+           in.mark(3);
+           boolean hasBOM = true;
+           try {
+               int i = in.read();
+               hasBOM &= i == 0xEF;
+               i = in.read();
+               hasBOM &= i == 0xBB;
+               i = in.read();
+               hasBOM &= i == 0xFF;
+           } catch (IOException ioe) {
+               hasBOM= false;
+           }
+           if (!hasBOM) in.reset();
+       }
+       return new InputStreamReader( in, cs );
     }
     
 }
diff --git a/src/test/org/codehaus/groovy/control/io/FileReaderTest.groovy b/src/test/org/codehaus/groovy/control/io/FileReaderTest.groovy
new file mode 100644
index 0000000000..3488d51eec
--- /dev/null
+++ b/src/test/org/codehaus/groovy/control/io/FileReaderTest.groovy
@@ -0,0 +1,26 @@
+package org.codehaus.groovy.control.io
+
+
+class FileReaderTest extends GroovyTestCase {
+
+    void testFileBOM() {
+        def file = File.createTempFile("encoding", ".groovy")
+        file.deleteOnExit()
+        
+        def fos = new FileOutputStream(file)
+        // first write the byteorder mark for UTF-8
+        fos.write(0xEF)
+        fos.write(0xBB)
+        fos.write(0xFF)
+        fos.write("return 1".getBytes("US-ASCII"))
+        fos.flush()
+        fos.close()
+        
+        
+        def gcl = new GroovyClassLoader()
+        gcl.config.sourceEncoding = "UTF-8"
+        def clazz = gcl.parseClass(file)
+        def result = clazz.newInstance().run()
+        assert result == 1
+    }
+}
\ No newline at end of file
