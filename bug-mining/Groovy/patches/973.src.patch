diff --git a/src/main/groovy/lang/GroovyClassLoader.java b/src/main/groovy/lang/GroovyClassLoader.java
index aeebde63c9..7ed98e0829 100644
--- a/src/main/groovy/lang/GroovyClassLoader.java
+++ b/src/main/groovy/lang/GroovyClassLoader.java
@@ -339,8 +339,10 @@ public class GroovyClassLoader extends URLClassLoader {
             }
         });
         PermissionCollection myPerms = myDomain.getPermissions();
-        for (Enumeration<Permission> elements = myPerms.elements(); elements.hasMoreElements();) {
-            perms.add(elements.nextElement());
+        if(myPerms != null) {
+            for (Enumeration<Permission> elements = myPerms.elements(); elements.hasMoreElements();) {
+                perms.add(elements.nextElement());
+            }
         }
         perms.setReadOnly();
         return perms;
