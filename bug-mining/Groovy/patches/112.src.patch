diff --git a/src/main/groovy/xml/DOMBuilder.java b/src/main/groovy/xml/DOMBuilder.java
index 8151b9bb51..616a9dd9ad 100644
--- a/src/main/groovy/xml/DOMBuilder.java
+++ b/src/main/groovy/xml/DOMBuilder.java
@@ -154,7 +154,7 @@ public class DOMBuilder extends BuilderSupport {
 
     protected Object createNode(Object name, Object value) {
         Element element = (Element) createNode(name);
-        element.setNodeValue(value.toString());
+        element.appendChild(document.createTextNode(value.toString()));
         return element;
     }
 
diff --git a/src/test/groovy/xml/dom/DOMTest.groovy b/src/test/groovy/xml/dom/DOMTest.groovy
index d72951e769..ea4d1dfe22 100644
--- a/src/test/groovy/xml/dom/DOMTest.groovy
+++ b/src/test/groovy/xml/dom/DOMTest.groovy
@@ -1,3 +1,5 @@
+package groovy.xml.dom;
+
 import java.io.*;
 import groovy.xml.*;
 import org.codehaus.groovy.sandbox.markup.*;
