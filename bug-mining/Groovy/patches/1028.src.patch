diff --git a/src/main/groovy/util/ConfigSlurper.groovy b/src/main/groovy/util/ConfigSlurper.groovy
index f49275626e..2e5919b511 100644
--- a/src/main/groovy/util/ConfigSlurper.groovy
+++ b/src/main/groovy/util/ConfigSlurper.groovy
@@ -214,12 +214,12 @@ class ConfigSlurper {
                     }
                 } else {
                     def co
-                    if (stack.last.get(name) instanceof ConfigObject) {
-                        co = stack.last.get(name)
-                    }
-                    else {
+                    if (stack.last.config.get(name) instanceof ConfigObject) {
+                        co = stack.last.config.get(name)
+                    } else {
                         co = new ConfigObject()
                     }
+
                     assignName.call(name, co)
                     pushStack.call(co)
                     args[0].call()
diff --git a/src/test/groovy/util/ConfigSlurperTest.groovy b/src/test/groovy/util/ConfigSlurperTest.groovy
index 6d790b13fe..a1982b171e 100644
--- a/src/test/groovy/util/ConfigSlurperTest.groovy
+++ b/src/test/groovy/util/ConfigSlurperTest.groovy
@@ -474,10 +474,16 @@ log4j {
     }
     
     public void testSameElementNestingWithoutDuplication() {
-        def cfg = " a { b { a { foo = 1 } } } "
+        def cfg = """ 
+            a { b { a { foo = 1 } } } 
+            a.foo = 2
+            a { b { a { bar = 3 } } }
+        """
         ConfigObject c = new ConfigSlurper().parse(cfg)
         assert c.a.b.a.foo == 1
         assert c.a != c.a.b.a
+        assert c.a.foo == 2
+        assert c.a.b.a.bar == 3
     }
 
 }
