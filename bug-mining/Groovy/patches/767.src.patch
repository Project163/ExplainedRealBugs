diff --git a/src/main/groovy/lang/IntRange.java b/src/main/groovy/lang/IntRange.java
index e30e1f69e5..866626674f 100644
--- a/src/main/groovy/lang/IntRange.java
+++ b/src/main/groovy/lang/IntRange.java
@@ -83,7 +83,7 @@ public class IntRange extends AbstractList implements Range {
         /**
          * Not supported.
          *
-         * @throws javax.naming.OperationNotSupportedException always
+         * @throws java.lang.UnsupportedOperationException always
          */
         public void remove() {
             IntRange.this.remove(index);
diff --git a/src/main/org/codehaus/groovy/runtime/ScriptBytecodeAdapter.java b/src/main/org/codehaus/groovy/runtime/ScriptBytecodeAdapter.java
index 72acbad351..4dac6e8472 100644
--- a/src/main/org/codehaus/groovy/runtime/ScriptBytecodeAdapter.java
+++ b/src/main/org/codehaus/groovy/runtime/ScriptBytecodeAdapter.java
@@ -557,8 +557,8 @@ public class ScriptBytecodeAdapter {
     //TODO: refactor
     public static List createRange(Object from, Object to, boolean inclusive) throws Throwable {
         if (from instanceof Integer && to instanceof Integer) {
-            int ito = ((Integer) to).intValue();
-            int ifrom = ((Integer) from).intValue();
+            int ito = (Integer) to;
+            int ifrom = (Integer) from;
             if (!inclusive) {
                 if (ifrom == ito) {
                     return new EmptyRange((Comparable) from);
@@ -570,23 +570,22 @@ public class ScriptBytecodeAdapter {
                 }
             }
             return new IntRange(ifrom, ito);
-        } else {
-            if (!inclusive) {
-                if (compareEqual(from, to)) {
-                    return new EmptyRange((Comparable) from);
-                }
-                if (compareGreaterThan(from, to)) {
-                    to = invokeMethod0(ScriptBytecodeAdapter.class, to, "next");
-                } else {
-                    to = invokeMethod0(ScriptBytecodeAdapter.class, to, "previous");
-                }
+        }
+        if (!inclusive) {
+            if (compareEqual(from, to)) {
+                return new EmptyRange((Comparable) from);
+            }
+            if (compareGreaterThan(from, to)) {
+                to = invokeMethod0(ScriptBytecodeAdapter.class, to, "next");
+            } else {
+                to = invokeMethod0(ScriptBytecodeAdapter.class, to, "previous");
             }
-
-            if (from instanceof Integer && to instanceof Integer)
-              return new IntRange(DefaultTypeTransformation.intUnbox(from), DefaultTypeTransformation.intUnbox(from));
-            else
-              return new ObjectRange((Comparable) from, (Comparable) to);
         }
+
+        if (from instanceof Integer && to instanceof Integer)
+            return new IntRange(DefaultTypeTransformation.intUnbox(from), DefaultTypeTransformation.intUnbox(to));
+        else
+            return new ObjectRange((Comparable) from, (Comparable) to);
     }
 
     //assert
diff --git a/src/test/groovy/RangeTest.groovy b/src/test/groovy/RangeTest.groovy
index ba3bcc2f20..1546834b88 100644
--- a/src/test/groovy/RangeTest.groovy
+++ b/src/test/groovy/RangeTest.groovy
@@ -4,45 +4,35 @@ class RangeTest extends GroovyTestCase {
 	
 	void testRange() {
 	    def x = 0
-
 	    for ( i in 0..9 ) {
 	        x = x + i
 	    }
-
 	    assert x == 45
 	    
 	    x = 0
-
 	    for ( i in 0..<10 ) {
 	        x = x + i
 	    }
-
 	    assert x == 45
 	    
 	    x = 0
-
 	    for ( i in 0..'\u0009' ) {
 	        x = x + i
 	    }
-
 	    assert x == 45
 	}
 	
 	void testRangeEach() {
 	    def x = 0
-
 	    (0..9).each {
 	        x = x + it
 	    }
-
 	    assert x == 45
 	    
 	    x = 0
-
 	    (0..<10).each {
 	        x = x + it
 	    }
-
 	    assert x == 45
 	}
 
@@ -125,14 +115,13 @@ class RangeTest extends GroovyTestCase {
 	void testIntRangeToString() {
 	    assertToString(0..10, "0..10")
 	    assertToString([1, 4..10, 9], "[1, 4..10, 9]")
-	    
+
 	    assertToString(0..<11, "0..10")
 	    assertToString([1, 4..<11, 9], "[1, 4..10, 9]")
-	    
-	    
+
 	    assertToString(10..0, "10..0")
 	    assertToString([1, 10..4, 9], "[1, 10..4, 9]")
-	    
+
 	    assertToString(11..<0, "11..1")
 	    assertToString([1, 11..<4, 9], "[1, 11..5, 9]")
 	}
@@ -195,8 +184,15 @@ class RangeTest extends GroovyTestCase {
 	    def s = range.size()
 	    assert s == 4
 	}
-	
-	protected void assertIterate(range, expected) {
+
+    void testShortAndByteRanges() {
+        byte upper1 = 4
+        assert (0..upper1).size() == 5
+        short upper2 = 4
+        assert (0..<upper2).size() == 4
+    }
+
+    protected void assertIterate(range, expected) {
 	    def list = []
 	    for (it in range) {
 	        list << it
