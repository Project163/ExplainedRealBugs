diff --git a/src/main/groovy/lang/IntRange.java b/src/main/groovy/lang/IntRange.java
index 3ab0a8ba8a..5140c69be2 100644
--- a/src/main/groovy/lang/IntRange.java
+++ b/src/main/groovy/lang/IntRange.java
@@ -318,10 +318,18 @@ public class IntRange extends AbstractList<Integer> implements Range<Integer> {
      * {@inheritDoc}
      */
     public void step(int step, Closure closure) {
+    	if(step == 0) {
+    		if(from != to) {
+        		throw new GroovyRuntimeException("Infinite loop detected due to step size of 0");
+    		} else {
+    			return; // from == to and step == 0, nothing to do, so return
+    		}
+    	}
+
         if (reverse) {
             step = -step;
         }
-        if (step >= 0) {
+        if (step > 0) {
             int value = from;
             while (value <= to) {
                 closure.call(Integer.valueOf(value));
diff --git a/src/main/groovy/lang/ObjectRange.java b/src/main/groovy/lang/ObjectRange.java
index 57d7adf657..312d9e80f0 100644
--- a/src/main/groovy/lang/ObjectRange.java
+++ b/src/main/groovy/lang/ObjectRange.java
@@ -343,10 +343,18 @@ public class ObjectRange extends AbstractList implements Range {
      * {@inheritDoc}
      */
     public void step(int step, Closure closure) {
+    	if(step == 0) {
+    		if(compareTo(from, to) != 0) {
+        		throw new GroovyRuntimeException("Infinite loop detected due to step size of 0");
+    		} else {
+    			return; // from == to and step == 0, nothing to do, so return
+    		}
+    	}
+    	
         if (reverse) {
             step = -step;
         }
-        if (step >= 0) {
+        if (step > 0) {
             Comparable first = from;
             Comparable value = from;
             while (compareTo(value, to) <= 0) {
diff --git a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
index 5b872b1c29..a9673b6fe9 100644
--- a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
+++ b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
@@ -8877,7 +8877,7 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
                 for (BigDecimal i = self1; i.compareTo(to1) > 0; i = i.add(stepNumber1)) {
                     closure.call(i);
                 }
-            } else
+            } else if(self1.compareTo(to1) != 0)
                 throw new GroovyRuntimeException("Infinite loop in " + self1 + ".step(" + to1 + ", " + stepNumber1 + ")");
         } else if (self instanceof BigInteger || to instanceof BigInteger || stepNumber instanceof BigInteger) {
             final BigInteger zero = BigInteger.valueOf(0);
@@ -8892,7 +8892,7 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
                 for (BigInteger i = self1; i.compareTo(to1) > 0; i = i.add(stepNumber1)) {
                     closure.call(i);
                 }
-            } else
+            } else if(self1.compareTo(to1) != 0)
                 throw new GroovyRuntimeException("Infinite loop in " + self1 + ".step(" + to1 + ", " + stepNumber1 + ")");
         } else {
             int self1 = self.intValue();
@@ -8906,8 +8906,8 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
                 for (int i = self1; i > to1; i += stepNumber1) {
                     closure.call(i);
                 }
-            } else
-                throw new GroovyRuntimeException("Infinite loop in " + self1 + ".step(" + to1 + ", " + stepNumber1 + ")");
+            } else if(self1 != to1) 
+            	throw new GroovyRuntimeException("Infinite loop in " + self1 + ".step(" + to1 + ", " + stepNumber1 + ")");
         }
     }
 
diff --git a/src/test/groovy/bugs/Groovy4078Bug.groovy b/src/test/groovy/bugs/Groovy4078Bug.groovy
new file mode 100644
index 0000000000..0aa170dec4
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy4078Bug.groovy
@@ -0,0 +1,31 @@
+package groovy.bugs
+
+class Groovy4078Bug extends GroovyTestCase {
+    void testInfiniteLoopDetectionInStepUsage() {
+        (2..2).step 0, {assert it != null} //IntRange
+        
+        ('b'..'b').step 0, {assert it != null} //ObjectRange
+        
+        5.step( 5, 1 ) { assert it != null } // DGM.step(), int
+        
+        5.0.step (5.0, 1 ) { assert it != null } // DGM.step(), BigDecimal
+        
+        def from = new BigInteger(5)
+        def to = new BigInteger(5)
+        from.step (to, 1 ) { assert it != null }  // DGM.step(), BigInteger
+
+        try{
+            (1..2).step 0, {assert it != null} //IntRange
+            fail('Should have failed as step size 0 causes infinite loop')
+        } catch(ex) {
+            assert ex.message.contains('Infinite loop detected due to step size of 0')
+        }
+                      
+        try{
+            ('a'..'b').step 0, {assert it != null} // ObjectRange
+            fail('Should have failed as step size 0 causes infinite loop')
+        } catch(ex) {
+            assert ex.message.contains('Infinite loop detected due to step size of 0')
+        }
+    }
+}
