diff --git a/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java b/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
index 8a9d7fa7a2..94bb4a1df2 100644
--- a/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
+++ b/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
@@ -401,7 +401,10 @@ public class VariableScopeVisitor extends ClassCodeVisitorSupport {
             Parameter[] parameters = expression.getParameters();
             for (int i = 0; i < parameters.length; i++) {
                 parameters[i].setInStaticContext(currentScope.isInStaticContext());
-                declare(parameters[i], expression);
+                if (parameters[i].hasInitialExpression()) {
+                    parameters[i].getInitialExpression().visit(this);
+                }
+                declare(parameters[i], expression);                
             }
         } else if (expression.getParameters() != null) {
             DynamicVariable var = new DynamicVariable("it", currentScope.isInStaticContext());
diff --git a/src/test/groovy/ClosureDefaultParameterTest.groovy b/src/test/groovy/ClosureDefaultParameterTest.groovy
index 5bae2ce2fc..aaefd033da 100644
--- a/src/test/groovy/ClosureDefaultParameterTest.groovy
+++ b/src/test/groovy/ClosureDefaultParameterTest.groovy
@@ -18,6 +18,13 @@ class ClosureDefaultParameterTest extends GroovyTestCase {
         assert block(456) == "456 abc"
         assert block(456, "def") == "456 def"
     }
+    
+    void testClosureWithDefaultParamFromOuterScope() {
+        def y = 555
+        def boo = {x = y -> x}
+        assert boo() == y
+        assert boo(1) == 1
+    }
 
 }
 
