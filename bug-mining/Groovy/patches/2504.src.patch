diff --git a/src/main/org/codehaus/groovy/ast/ModuleNode.java b/src/main/org/codehaus/groovy/ast/ModuleNode.java
index e4b3366cfb..6f08480653 100644
--- a/src/main/org/codehaus/groovy/ast/ModuleNode.java
+++ b/src/main/org/codehaus/groovy/ast/ModuleNode.java
@@ -16,6 +16,7 @@
 package org.codehaus.groovy.ast;
 
 import groovy.lang.Binding;
+
 import org.codehaus.groovy.ast.expr.ArgumentListExpression;
 import org.codehaus.groovy.ast.expr.ClassExpression;
 import org.codehaus.groovy.ast.expr.MethodCallExpression;
@@ -31,6 +32,8 @@ import org.codehaus.groovy.transform.BaseScriptASTTransformation;
 import org.objectweb.asm.Opcodes;
 
 import java.io.File;
+import java.net.URI;
+import java.net.URISyntaxException;
 import java.util.*;
 
 /**
@@ -358,8 +361,18 @@ public class ModuleNode extends ASTNode implements Opcodes {
     }
 
     protected String extractClassFromFileDescription() {
-        // let's strip off everything after the last '.'
         String answer = getDescription();
+        try {
+            URI uri = new URI(answer);
+            String path = uri.getPath();
+            String schemeSpecific = uri.getSchemeSpecificPart();
+            if (path!=null) {
+                answer = path;
+            } else if (schemeSpecific!=null) {
+                answer = schemeSpecific;
+            }
+        } catch (URISyntaxException e) {}
+        // let's strip off everything after the last '.'
         int slashIdx = answer.lastIndexOf('/');
         int separatorIdx = answer.lastIndexOf(File.separatorChar);
         int dotIdx = answer.lastIndexOf('.');
