diff --git a/build.gradle b/build.gradle
index 9cd26df82d..7d5f33b1a2 100644
--- a/build.gradle
+++ b/build.gradle
@@ -476,3 +476,20 @@ licenseReport {
 //licenseFormat.dependsOn licenseFormatGradle
 //
 
+def checkRepo(repo) {
+    if (repo instanceof MavenArtifactRepository) {
+        def repoUrl = repo.url.toString()
+        if (repoUrl.startsWith("http://")) {
+            throw new GradleException("Build should not use insecure HTTP-based URLs for repositories. Found: " + repoUrl)
+        }
+    }
+}
+
+project.afterEvaluate {
+    allprojects.repositories.each { handler ->
+        handler.each { checkRepo(it) }
+    }
+    buildscript.repositories.each { handler ->
+        handler.each { checkRepo(it) }
+    }
+}
