diff --git a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
index b176ae2a63..7994f04f57 100644
--- a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
+++ b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
@@ -200,6 +200,9 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         makeModule();
         try {
             convertGroovy(ast);
+            if(output.getStatementBlock().isEmpty() && output.getMethods().isEmpty() && output.getClasses().isEmpty()) {
+            	output.addStatement(ReturnStatement.RETURN_NULL_OR_VOID);
+            }
         }
         catch (ASTRuntimeException e) {
             throw new ASTParserException(e.getMessage() + ". File: " + sourceUnit.getName(), e);
diff --git a/src/main/org/codehaus/groovy/jsr223/GroovyScriptEngineImpl.java b/src/main/org/codehaus/groovy/jsr223/GroovyScriptEngineImpl.java
index 265b9c4831..bf2ab5490b 100644
--- a/src/main/org/codehaus/groovy/jsr223/GroovyScriptEngineImpl.java
+++ b/src/main/org/codehaus/groovy/jsr223/GroovyScriptEngineImpl.java
@@ -110,7 +110,9 @@ public class GroovyScriptEngineImpl
     public Object eval(String script, ScriptContext ctx) 
                        throws ScriptException {
         try {
-            return eval(getScriptClass(script), ctx);
+        	Class clazz = getScriptClass(script);
+            if(clazz == null) throw new ScriptException("Script class is null");
+            return eval(clazz, ctx);
         } catch (SyntaxException e) {
             throw new ScriptException(e.getMessage(), 
                                       e.getSourceLocator(), e.getLine());
diff --git a/src/test/org/codehaus/groovy/antlr/treewalker/UnimplementedSyntaxTest.java b/src/test/org/codehaus/groovy/antlr/treewalker/UnimplementedSyntaxTest.java
index 07cc9b551b..6ecea81a71 100644
--- a/src/test/org/codehaus/groovy/antlr/treewalker/UnimplementedSyntaxTest.java
+++ b/src/test/org/codehaus/groovy/antlr/treewalker/UnimplementedSyntaxTest.java
@@ -203,11 +203,17 @@ public class UnimplementedSyntaxTest extends GroovyTestCase {
     // -----------------------
     // TODO: move somewhere else
     public void test_StaticImport1() throws Exception {
-        assertNotNull(compile("import static foo.Bar.mooky"));
+    	//GROOVY-3711: The following call now results in a valid script class node, so foo.Bar needs to get resolved.
+    	GroovyShell groovyShell = new GroovyShell();
+    	compile("package foo; class Bar{}", groovyShell);
+        assertNotNull(compile("import static foo.Bar.mooky", groovyShell));
     }
 
     public void test_StaticImport2() throws Exception {
-        assertNotNull(compile("import static foo.Bar.*"));
+    	//GROOVY-3711: The following call now results in a valid script class node, so foo.Bar needs to get resolved.
+    	GroovyShell groovyShell = new GroovyShell();
+    	compile("package foo; class Bar{}", groovyShell);
+        assertNotNull(compile("import static foo.Bar.*", groovyShell));
     }
 
     // TODO: move somewhere else GROOVY-1874
@@ -233,9 +239,12 @@ public class UnimplementedSyntaxTest extends GroovyTestCase {
     }
 
     private Script compile(String input) throws Exception {
+    	return compile(input, new GroovyShell());
+    }
+
+    private Script compile(String input, GroovyShell groovyShell) throws Exception {
         TraversalTestHelper traverser = new TraversalTestHelper();
         traverser.traverse(input, SourcePrinter.class, Boolean.FALSE);
-        GroovyShell groovyShell = new GroovyShell();
         return groovyShell.parse(input);
     }
 
diff --git a/src/test/org/codehaus/groovy/jsr223/JSR223Test.groovy b/src/test/org/codehaus/groovy/jsr223/JSR223Test.groovy
index ca025ecd0e..1004f1e94c 100644
--- a/src/test/org/codehaus/groovy/jsr223/JSR223Test.groovy
+++ b/src/test/org/codehaus/groovy/jsr223/JSR223Test.groovy
@@ -83,4 +83,13 @@ public class JSR223Test extends TestCase {
         } catch (ScriptException e) {
         }
     }
+
+    public void testEmptyScriptWithJustImports() {
+        ScriptEngine engine = manager.getEngineByName("groovy");
+        assertNotNull(engine);
+
+        // GROOVY-3711: The eval of the following script earlier resulted in NPE
+        // as groovy did not generate a script class in this case
+        engine.eval("import java.lang.*");
+    }
 }
