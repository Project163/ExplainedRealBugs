diff --git a/src/main/org/codehaus/groovy/ant/Groovy.java b/src/main/org/codehaus/groovy/ant/Groovy.java
index ecdf97ac66..b26fd04f26 100644
--- a/src/main/org/codehaus/groovy/ant/Groovy.java
+++ b/src/main/org/codehaus/groovy/ant/Groovy.java
@@ -475,9 +475,11 @@ public class Groovy extends Java {
         }
         String groovyHome = null;
         final String[] strings = getSysProperties().getVariables();
-        for (String prop : strings) {
-            if (prop.startsWith("-Dgroovy.home=")) {
-                groovyHome = prop.substring("-Dgroovy.home=".length());
+        if (strings != null) {
+            for (String prop : strings) {
+                if (prop.startsWith("-Dgroovy.home=")) {
+                    groovyHome = prop.substring("-Dgroovy.home=".length());
+                }
             }
         }
         if (groovyHome == null) {
