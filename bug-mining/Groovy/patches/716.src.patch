diff --git a/build.xml b/build.xml
index a6683a02aa..d86099d9bc 100644
--- a/build.xml
+++ b/build.xml
@@ -497,7 +497,8 @@ Not found: ${groovyJar14path}
 
     <macrodef name="makemanifest">
     	<attribute name="file"/>
-    	<attribute name="bundleEnvironment" default="J2SE-1.4"/>
+    	<attribute name="bundleEnvironment" default="J2SE-1.5"/>
+    	<attribute name="bundleSuffix" default="groovy"/>
         <sequential>
             <manifest file="@{file}">
                 <attribute name="Built-By" value="${user.name}"/>
@@ -511,7 +512,9 @@ Not found: ${groovyJar14path}
                 <attribute name="Bundle-ManifestVersion" value="2" />
                 <attribute name="Bundle-Name" value="Groovy Runtime" />
                 <attribute name="Bundle-Description" value="Groovy Runtime" />
-                <attribute name="Bundle-SymbolicName" value="org.codehaus.groovy" />
+                <!-- bnd seems to remove the prefix -->
+                <!--<attribute name="Bundle-SymbolicName" value="org.codehaus.groovy.@{bundleSuffix}" />-->
+                <attribute name="Bundle-SymbolicName" value="@{bundleSuffix}" />
                 <attribute name="Bundle-Version" value="${groovyBundleVersion}" />
                 <attribute name="Bundle-Vendor" value="The Codehaus" />
                 <attribute name="Bundle-ClassPath" value="." />
@@ -522,6 +525,20 @@ Not found: ${groovyJar14path}
         </sequential>
     </macrodef>
 
+    <macrodef name="updatemanifest">
+    	<attribute name="file"/>
+        <attribute name="bundleSuffix" default="groovy"/>
+    	<attribute name="bundleEnvironment" default="J2SE-1.5"/>
+        <sequential>
+            <manifest file="@{file}" mode="update">
+                <attribute name="Bundle-RequiredExecutionEnvironment" value="@{bundleEnvironment}" />
+                <!-- bnd seems to remove the prefix -->
+                <!--<attribute name="Bundle-SymbolicName" value="org.codehaus.groovy.@{bundleSuffix}" />-->
+                <attribute name="Bundle-SymbolicName" value="@{bundleSuffix}" />
+            </manifest>
+        </sequential>
+    </macrodef>
+
     <target name="-includeResources" depends="-includeGroovyDocTemplates">
         <copy todir="${mainClassesDirectory}">
             <fileset dir="${mainSourceDirectory}">
@@ -608,7 +625,7 @@ Not found: ${groovyJar14path}
                 <include name="commons-cli-*.jar"/>
             </fileset>
         </unzip>
-    	<makemanifest file="${stagingDirectory}/META-INF/MANIFEST.MF"/>
+        <makemanifest file="${stagingDirectory}/META-INF/MANIFEST.MF" bundleSuffix="groovy-all"/>
         <!-- TODO try to make use of jarjar keep ability -->
         <jarjar jarfile="${targetDistDirectory}/groovy-all.jar"
                 manifest="${stagingDirectory}/META-INF/MANIFEST.MF">
@@ -654,6 +671,18 @@ Not found: ${groovyJar14path}
             description="Build Groovy and create the jarfiles."/>
 
     <target name="updateJarsForRetro" if="_forceRetro_">
+        <delete dir="${stagingDirectory}" quiet="true"/>
+        <mkdir dir="${stagingDirectory}"/>
+        <unzip dest="${stagingDirectory}">
+            <fileset dir="${targetDistDirectory}">
+                <include name="groovy-jdk14-${groovyVersion}.jar"/>
+            </fileset>
+        </unzip>
+        <updatemanifest file="${stagingDirectory}/META-INF/MANIFEST.MF"
+                        bundleEnvironment="J2SE-1.4" bundleSuffix="groovy-jdk14"/>
+        <jar basedir="${stagingDirectory}" manifest="${stagingDirectory}/META-INF/MANIFEST.MF"
+             destfile="${targetDistDirectory}/groovy-jdk14-${groovyVersion}.jar"/>
+
         <delete dir="${stagingDirectory}" quiet="true"/>
         <mkdir dir="${stagingDirectory}"/>
         <unzip dest="${stagingDirectory}">
@@ -674,6 +703,8 @@ Not found: ${groovyJar14path}
                 <include name="groovy-all-jdk14-${groovyVersion}.jar"/>
             </fileset>
         </unzip>
+        <updatemanifest file="${stagingDirectory}/META-INF/MANIFEST.MF"
+                        bundleEnvironment="J2SE-1.4" bundleSuffix="groovy-all-jdk14"/>
         <jarjar jarfile="${targetDistDirectory}/groovy-all-jdk14-${groovyVersion}.jar"
                 manifest="${stagingDirectory}/META-INF/MANIFEST.MF">
             <fileset dir="${stagingDirectory}"/>
@@ -699,10 +730,14 @@ Not found: ${groovyJar14path}
                 <include name="LICENSE.txt"/>
                 <include name="NOTICE.txt"/>
             </fileset>
-            <fileset dir="${basedir}/config/build">
-                <include name="*-LICENSE.txt"/>
-            </fileset>
         </copy>
+        <unzip dest="${installDirectory}">
+            <patternset>
+                <include name="META-INF/*-LICENSE.txt"/>
+            </patternset>
+            <mapper type="flatten"/>
+            <fileset file="${targetDistDirectory}/groovy-all-${groovyVersion}.jar"/>
+        </unzip>
         <fixcrlf srcdir="${installDirectory}" eol="crlf" includes="*.txt"/>
 
         <!-- Install generated artifacts and runtime dependencies -->
diff --git a/config/ant/build-retro.xml b/config/ant/build-retro.xml
index 696d34422f..890f3ed4fb 100644
--- a/config/ant/build-retro.xml
+++ b/config/ant/build-retro.xml
@@ -52,6 +52,7 @@ $Date: 2007-11-02 20:51:05 +1000 (Fri, 02 Nov 2007) $
                         <include name="backport-util-concurrent-*.jar" />
                     </fileset>
                     <path refid="runtimePath"/>
+                    <path refid="jdk14ExtrasPath"/>
                 </classpath>
             </retrotranslator>
         </sequential>
