diff --git a/src/main/org/codehaus/groovy/runtime/callsite/PojoMetaClassSite.java b/src/main/org/codehaus/groovy/runtime/callsite/PojoMetaClassSite.java
index 25ae7c97ce..2533ad22a1 100644
--- a/src/main/org/codehaus/groovy/runtime/callsite/PojoMetaClassSite.java
+++ b/src/main/org/codehaus/groovy/runtime/callsite/PojoMetaClassSite.java
@@ -18,7 +18,9 @@ package org.codehaus.groovy.runtime.callsite;
 import org.codehaus.groovy.runtime.ScriptBytecodeAdapter;
 
 import groovy.lang.GroovyRuntimeException;
+import groovy.lang.GroovySystem;
 import groovy.lang.MetaClass;
+import groovy.lang.ProxyMetaClass;
 
 /**
  * POJO call site
@@ -35,7 +37,13 @@ public class PojoMetaClassSite extends MetaClassSite{
     public Object call(Object receiver, Object[] args) throws Throwable {
         if(checkCall(receiver)) {
           try{
-            return metaClass.invokeMethod(receiver, name, args);
+        	  MetaClass metaClassToInvoke = metaClass;
+        	  // if it is ProxyMetaClass, use the one from the registry and not the cached one
+        	  // as the mock/stub infrastructure replaces metaClass at runtime in the context of use {..}
+        	  if(metaClass instanceof ProxyMetaClass) {
+        		  metaClassToInvoke = GroovySystem.getMetaClassRegistry().getMetaClass(receiver.getClass()); 
+        	  }
+        	  return metaClassToInvoke.invokeMethod(receiver, name, args);
           } catch (GroovyRuntimeException gre) {
               throw ScriptBytecodeAdapter.unwrap(gre);
           }
diff --git a/src/test/groovy/bugs/Groovy3139Bug.groovy b/src/test/groovy/bugs/Groovy3139Bug.groovy
new file mode 100644
index 0000000000..b1c81334e6
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy3139Bug.groovy
@@ -0,0 +1,39 @@
+package groovy.bugs
+
+import groovy.mock.interceptor.StubFor
+
+class Groovy3139Bug extends GroovyTestCase {
+
+    void testStubbingIssueDueToCachingWhenUsing2Stubs() {
+        def urlStub1 = new StubFor(URL)
+        urlStub1.demand.openConnection {""}
+        urlStub1.use {
+           def get = new Get2(url: "http://localhost")
+           def result = get.text            
+        }
+
+        def urlStub2 = new StubFor(URL)
+        // the following stubbed call is on urlStub2 and its demand cound should be separate.
+        // Currently due to caching of MockProxyMetaClass, it gets counted towards urlStub1 demands 
+        // and throws "End of demands" exception
+        urlStub2.demand.openConnection {""}
+        urlStub2.use {
+           def get = new Get2(url: "http://localhost")
+           def result = get.text
+        }
+    }
+}
+
+class Get2{
+    String url
+    
+    String getText() {
+            def aUrl = new URL(toString())
+            def conn = aUrl.openConnection()
+            return "DUMMY"
+    }
+        
+    String toString(){
+        return url
+    }
+}
\ No newline at end of file
