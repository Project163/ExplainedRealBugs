diff --git a/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/commands/DocCommand.groovy b/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/commands/DocCommand.groovy
index ec35299519..a18c847dd0 100644
--- a/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/commands/DocCommand.groovy
+++ b/subprojects/groovy-groovysh/src/main/groovy/org/codehaus/groovy/tools/shell/commands/DocCommand.groovy
@@ -166,7 +166,13 @@ class DocCommand extends CommandSupport {
     }
 
     private static simpleVersion() {
-        System.getProperty('java.version').split(/\./)[1]
+        String javaVersion = System.getProperty('java.version')
+        if (javaVersion.startsWith('1.')) {
+            javaVersion.split(/\./)[1]
+        } else {
+            // java 9 and above
+            javaVersion.replaceAll(/-.*/, '').split(/\./)[0]
+        }
     }
 
     protected boolean sendHEADRequest(URL url) {
diff --git a/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/commands/DocCommandTest.groovy b/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/commands/DocCommandTest.groovy
index 779a180065..8cbc08e684 100644
--- a/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/commands/DocCommandTest.groovy
+++ b/subprojects/groovy-groovysh/src/test/groovy/org/codehaus/groovy/tools/shell/commands/DocCommandTest.groovy
@@ -151,6 +151,12 @@ class DocCommandTest extends CommandTestSupport
     }
 
     private simpleJavaVersion() {
-        System.getProperty('java.version').split(/\./)[1]
+        String javaVersion = System.getProperty('java.version')
+        if (javaVersion.startsWith('1.')) {
+            javaVersion.split(/\./)[1]
+        } else {
+            // java 9 and above
+            javaVersion.replaceAll(/-.*/, '').split(/\./)[0]
+        }
     }
 }
