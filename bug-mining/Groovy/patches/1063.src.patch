diff --git a/src/main/org/codehaus/groovy/ant/Groovyc.java b/src/main/org/codehaus/groovy/ant/Groovyc.java
index 02cae181aa..2fc849cc37 100644
--- a/src/main/org/codehaus/groovy/ant/Groovyc.java
+++ b/src/main/org/codehaus/groovy/ant/Groovyc.java
@@ -24,6 +24,7 @@ import org.apache.tools.ant.AntClassLoader;
 import org.apache.tools.ant.BuildException;
 import org.apache.tools.ant.DirectoryScanner;
 import org.apache.tools.ant.Project;
+import org.apache.tools.ant.RuntimeConfigurable;
 import org.apache.tools.ant.taskdefs.Execute;
 import org.apache.tools.ant.taskdefs.Javac;
 import org.apache.tools.ant.taskdefs.MatchingTask;
@@ -45,9 +46,11 @@ import java.io.PrintWriter;
 import java.io.StringWriter;
 import java.nio.charset.Charset;
 import java.util.ArrayList;
+import java.util.Enumeration;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.StringTokenizer;
 
 /**
  * Compiles Groovy source files. This task can take the following arguments:
@@ -632,7 +635,8 @@ public class Groovyc extends MatchingTask {
                 // extract joint options, some get pushed up...
                 List<String> jointOptions = new ArrayList<String>();
                 if (jointCompilation) {
-                    for (Iterator i = javac.getRuntimeConfigurableWrapper().getAttributeMap().entrySet().iterator(); i.hasNext();) {
+                    RuntimeConfigurable rc = javac.getRuntimeConfigurableWrapper();
+                    for (Iterator i = rc.getAttributeMap().entrySet().iterator(); i.hasNext();) {
                         final Map.Entry e = (Map.Entry) i.next();
                         final String key = e.getKey().toString();
                         final String value = getProject().replaceProperties(e.getValue().toString());
@@ -664,6 +668,26 @@ public class Groovyc extends MatchingTask {
                         }
                         // includes? excludes?
                     }
+                    // ant's <javac> supports nested <compilerarg value=""> elements (there can be multiple of them)
+                    // for additional options to be passed to javac.
+                    Enumeration children = rc.getChildren();
+                    while (children.hasMoreElements()) {
+                        RuntimeConfigurable childrc = (RuntimeConfigurable) children.nextElement();
+                        if(childrc.getElementTag().equals("compilerarg")) {
+                            for (Iterator i = childrc.getAttributeMap().entrySet().iterator(); i.hasNext();) {
+                                final Map.Entry e = (Map.Entry) i.next();
+                                final String key = e.getKey().toString();
+                                if(key.equals("value")) {
+                                    final String value = getProject().replaceProperties(e.getValue().toString());
+                                    StringTokenizer st = new StringTokenizer(value, " ");
+                                    while(st.hasMoreTokens()) {
+                                        String optionStr = st.nextToken();
+                                        jointOptions.add(optionStr.replace("-X", "-FX"));
+                                    }
+                                }
+                            }
+                        }
+                    }
                 }
 
                 String separator = System.getProperty("file.separator");
diff --git a/src/test/org/codehaus/groovy/ant/GroovycTest.java b/src/test/org/codehaus/groovy/ant/GroovycTest.java
index 0e3b645109..76e5fcf3ca 100644
--- a/src/test/org/codehaus/groovy/ant/GroovycTest.java
+++ b/src/test/org/codehaus/groovy/ant/GroovycTest.java
@@ -15,6 +15,7 @@
 package org.codehaus.groovy.ant;
 
 import java.io.*;
+import java.util.regex.Pattern;
 
 import org.apache.tools.ant.BuildException;
 import org.apache.tools.ant.Project;
@@ -59,7 +60,7 @@ public class GroovycTest extends GroovyTestCase {
             // End result is as if .exists() returned null
         }
     }
-
+    
     private void ensureNotPresent(final String classname) {
         if (!(new File(classDirectory + "GroovycTest.class")).exists()) {
             fail("Class file for GroovycTest does not exist and should.");
@@ -69,6 +70,12 @@ public class GroovycTest extends GroovyTestCase {
         }
     }
 
+    private void ensurePresent(final String classname) {
+        if (!(new File(classDirectory + classname + ".class")).exists()) {
+            fail("Class file for " + classname + " does not exist and should.");
+        }
+    }
+    
     private void ensureResultOK(final String classname) {
         if (!(new File(classDirectory + classname + ".class")).exists()) {
             fail("Class file for " + classname + " does not exist and should.");
@@ -128,6 +135,27 @@ public class GroovycTest extends GroovyTestCase {
         ensureExecutes("GroovycTest1_Joint_NoFork_WithGroovyClasspath");
     }
 
+    public void testGroovyc_Joint_NoFork_NestedCompilerArg_WithGroovyClasspath() {
+        // capture ant's output so we can verify the effect of passing compilerarg to javac
+        ByteArrayOutputStream allOutput = new ByteArrayOutputStream();
+        PrintStream out = new PrintStream(allOutput);
+        PrintStream origOut = System.out;
+        System.setOut(out);
+
+        ensureNotPresent("IncorrectGenericsUsage");
+        project.executeTarget("Groovyc_Joint_NoFork_NestedCompilerArg_WithGroovyClasspath");
+        ensurePresent("IncorrectGenericsUsage");
+        
+        String antOutput = allOutput.toString();
+        System.setOut(origOut);
+
+        // verify if passing -Xlint in compilerarg had its effect
+        Pattern p = Pattern.compile(".*?found[ ]*:[ ]*java.util.ArrayList.*", Pattern.DOTALL);
+        assertTrue("Expected line 1 not found in ant output", p.matcher(antOutput).matches());
+        p = Pattern.compile(".*?required[ ]*:[ ]*java.util.ArrayList<java.lang.String>.*", Pattern.DOTALL);
+        assertTrue("Expected line 2 not found in ant output", p.matcher(antOutput).matches());
+    }
+    
     public void testGroovycTest1_Joint_NoFork_WithJavaClasspath() {
         ensureExecutes("GroovycTest1_Joint_NoFork_WithJavaClasspath");
     }
diff --git a/src/test/org/codehaus/groovy/ant/GroovycTest.xml b/src/test/org/codehaus/groovy/ant/GroovycTest.xml
index 7bc135112f..42484d3de1 100644
--- a/src/test/org/codehaus/groovy/ant/GroovycTest.xml
+++ b/src/test/org/codehaus/groovy/ant/GroovycTest.xml
@@ -84,6 +84,14 @@
     <java classname="org.codehaus.groovy.ant.GroovycTest2"/>
   </target>
 
+  <target name="Groovyc_Joint_NoFork_NestedCompilerArg_WithGroovyClasspath">
+    <groovyc srcdir="${srcPath}" destdir="${destPath}" includes="IncorrectGenericsUsage.java" classpathref="groovyMaterials">
+      <javac source="${javaVersion}" target="${javaVersion}" debug="true">
+      	<compilerarg value="-Xlint"/>
+      </javac>
+    </groovyc>
+  </target>
+	
   <target name="GroovycTest1_Joint_NoFork_WithJavaClasspath">
     <groovyc srcdir="${srcPath}" destdir="${destPath}" includes="GroovycTest1.groovy,Groovyc2.java">
       <javac source="${javaVersion}" target="${javaVersion}" debug="true"/>
@@ -161,6 +169,7 @@
     <delete quiet="true">
       <fileset dir="${destPath}/org/codehaus/groovy/ant">
         <include name="GroovycTest1*.class"/>
+        <include name="IncorrectGenericsUsage.class"/>
       </fileset>
     </delete>
   </target>
diff --git a/src/test/org/codehaus/groovy/ant/IncorrectGenericsUsage.java b/src/test/org/codehaus/groovy/ant/IncorrectGenericsUsage.java
new file mode 100644
index 0000000000..7aaafa5966
--- /dev/null
+++ b/src/test/org/codehaus/groovy/ant/IncorrectGenericsUsage.java
@@ -0,0 +1,11 @@
+package org.codehaus.groovy.ant;
+
+import java.util.ArrayList;
+import java.util.List;
+
+public class IncorrectGenericsUsage {
+    private ArrayList<String> x = new ArrayList<String>();
+    public void doIt ( final List<?> z ) {
+        x = (ArrayList)z ;
+    }
+}
\ No newline at end of file
