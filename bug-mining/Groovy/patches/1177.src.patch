diff --git a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
index 7175ddfed9..0f52b432d7 100644
--- a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
+++ b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
@@ -5890,7 +5890,7 @@ public class DefaultGroovyMethods extends DefaultGroovyMethodsSupport {
                 if (flattened instanceof Collection && !returnedSelf) {
                     flatten((Collection) flattened, addTo, flattenUsing);
                 } else {
-                    addTo.add(element);
+                    addTo.add(flattened);
                 }
             }
         }
diff --git a/src/test/groovy/MapTest.groovy b/src/test/groovy/MapTest.groovy
index 8bfb584b93..bdf90e08a4 100644
--- a/src/test/groovy/MapTest.groovy
+++ b/src/test/groovy/MapTest.groovy
@@ -176,4 +176,11 @@ class MapTest extends GroovyTestCase {
         assert ([a: 1, b: 2] as LinkedHashMap) + other == [a:1, b:2, c:3] as LinkedHashMap
         assert ([a: 1, b: 2] as TreeMap)       + other == [a:1, b:2, c:3] as TreeMap
     }
+
+    void testFlattenUsingClosure() {
+        def map = [a: 1, b: 2, c: 3, d: [e: 4, f: 5]]
+        def findingNestedMapValues = { it.value instanceof Map ? it.value.entrySet() : it }
+        def result = [:].putAll(map.entrySet().flatten(findingNestedMapValues))
+        assert result == [a: 1, b: 2, c: 3, e: 4, f: 5]
+    }
 }
