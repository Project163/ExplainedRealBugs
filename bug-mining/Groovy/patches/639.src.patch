diff --git a/src/test/groovy/StackTraceTest.groovy b/src/test/groovy/StackTraceTest.groovy
index 79f4d00cab..e9bfd015b5 100644
--- a/src/test/groovy/StackTraceTest.groovy
+++ b/src/test/groovy/StackTraceTest.groovy
@@ -12,7 +12,7 @@ class StackTraceTest extends GroovyTestCase {
 
 	public void testTrace() {
 		def className = this.class.name
-		def assertDone = false	
+		def assertDone = false
 		try {
 		  throw new Exception("e")
 		} catch (Exception e) {
@@ -27,7 +27,23 @@ class StackTraceTest extends GroovyTestCase {
 		    }
 		  }
 		}
-		assert assertDone==true
+		assert assertDone
 	}
 
+
+    public void testMissingProperty() {
+        def assertDone = false
+        def script = new GroovyShell().parse('println(unknownProp)','testMissingProperty.tst')
+        try {
+            script.run()
+        } catch (MissingPropertyException mpe) {
+            assert mpe.message.indexOf('unknownProp')>0
+            def found = mpe.stackTrace.find {
+              it.lineNumber==1   &&
+              it.fileName=='testMissingProperty.tst'
+            }
+            assertDone = found!=null
+        }
+        assert assertDone
+    }
 }
\ No newline at end of file
