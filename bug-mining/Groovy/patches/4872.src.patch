diff --git a/src/test/groovy/bugs/Groovy9611.groovy b/src/test/groovy/bugs/Groovy9611.groovy
index ba20083036..c017a48c5a 100644
--- a/src/test/groovy/bugs/Groovy9611.groovy
+++ b/src/test/groovy/bugs/Groovy9611.groovy
@@ -26,16 +26,20 @@ final class Groovy9611 {
     @Test
     void testAccessFieldWithinAICUsingReflection() {
         assertScript '''
-            import java.lang.reflect.Field
             class C {
-              int method() {
-                for (Field f : getClass().fields)
-                  if (f.name == 'i') return f.get(this)
-                return -1
-              }
+                @groovy.transform.CompileStatic
+                def m() {
+                    for (def f : getClass().getFields()) {
+                        if (f.name == 'i') return f.get(this)
+                    }
+                    return -1
+                }
             }
-            def c = new C() { public int i = 42 }
-            assert c.method() == 42
+
+            def c = new C() {
+                public final int i = 42
+            }
+            assert c.m() == 42
         '''
     }
 }
