diff --git a/src/main/groovy/lang/GroovyClassLoader.java b/src/main/groovy/lang/GroovyClassLoader.java
index daf7c624aa..caad50a185 100644
--- a/src/main/groovy/lang/GroovyClassLoader.java
+++ b/src/main/groovy/lang/GroovyClassLoader.java
@@ -51,6 +51,7 @@ import java.lang.reflect.Field;
 import java.net.MalformedURLException;
 import java.net.URL;
 import java.net.URLClassLoader;
+import java.net.URLConnection;
 import java.net.URLDecoder;
 import java.security.AccessController;
 import java.security.CodeSource;
@@ -814,7 +815,9 @@ public class GroovyClassLoader extends URLClassLoader {
             lastMod = file.lastModified();
         }
         else {
-            lastMod = source.openConnection().getLastModified();
+            URLConnection conn = source.openConnection();
+            lastMod = conn.getLastModified();
+            conn.getInputStream().close();
         }
         long classTime = getTimeStamp(cls);
         return classTime+config.getMinimumRecompilationInterval() < lastMod;
diff --git a/src/main/org/codehaus/groovy/control/ResolveVisitor.java b/src/main/org/codehaus/groovy/control/ResolveVisitor.java
index 28a27a5006..bab028e84c 100644
--- a/src/main/org/codehaus/groovy/control/ResolveVisitor.java
+++ b/src/main/org/codehaus/groovy/control/ResolveVisitor.java
@@ -45,6 +45,7 @@ import java.util.List;
 import java.util.Map;
 import java.net.URL;
 import java.net.MalformedURLException;
+import java.net.URLConnection;
 
 import org.codehaus.groovy.ast.ASTNode;
 import org.codehaus.groovy.ast.AnnotatedNode;
@@ -260,7 +261,9 @@ public class ResolveVisitor extends ClassCodeVisitorSupport implements Expressio
                 lastMod = file.lastModified();
             }
             else {
-                lastMod = source.openConnection().getLastModified();
+                URLConnection conn = source.openConnection();
+                lastMod = conn.getLastModified();
+                conn.getInputStream().close();
             }
             return lastMod > getTimeStamp(cls);
         } catch (IOException e) {
