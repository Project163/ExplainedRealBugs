diff --git a/src/main/org/codehaus/groovy/classgen/ExtendedVerifier.java b/src/main/org/codehaus/groovy/classgen/ExtendedVerifier.java
index 479823b25e..d89f8a126f 100644
--- a/src/main/org/codehaus/groovy/classgen/ExtendedVerifier.java
+++ b/src/main/org/codehaus/groovy/classgen/ExtendedVerifier.java
@@ -123,7 +123,7 @@ public class ExtendedVerifier implements GroovyClassVisitor {
     }
 
     private void visitDeprecation(AnnotatedNode node, AnnotationNode visited) {
-        if (visited.getClassNode().isResolved() && visited.getClassNode().getTypeClass() == Deprecated.class) {
+        if (visited.getClassNode().isResolved() && visited.getClassNode().getTypeClass().getName().equals(Deprecated.class.getName())) {
             if (node instanceof MethodNode) {
                 MethodNode mn = (MethodNode) node;
                 mn.setModifiers(mn.getModifiers() | Opcodes.ACC_DEPRECATED);
@@ -167,6 +167,7 @@ public class ExtendedVerifier implements GroovyClassVisitor {
         );
     }
 
+    // TODO use it or lose it
     public void visitGenericType(GenericsType genericsType) {
 
     }
