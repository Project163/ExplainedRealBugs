diff --git a/src/main/org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.groovy b/src/main/org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.groovy
index b4e78594f5..129dd1418b 100644
--- a/src/main/org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.groovy
+++ b/src/main/org/codehaus/groovy/control/customizers/ASTTransformationCustomizer.groovy
@@ -87,27 +87,55 @@ class ASTTransformationCustomizer extends CompilationCustomizer implements Compi
     protected CompilationUnit compilationUnit;
     private boolean applied = false; // used for global AST transformations
 
-    ASTTransformationCustomizer(final Class<? extends Annotation> transformationAnnotation) {
-        super(findPhase(transformationAnnotation))
-        final Class<ASTTransformation> clazz = findASTTranformationClass(transformationAnnotation)
+    /**
+     * Creates an AST transformation customizer using the specified annotation. The transformation classloader can
+     * be used if the transformation class cannot be loaded from the same class loader as the annotation class.
+     * @param transformationAnnotation
+     * @param transformationClassLoader
+     */
+    ASTTransformationCustomizer(final Class<? extends Annotation> transformationAnnotation, ClassLoader transformationClassLoader) {
+        super(findPhase(transformationAnnotation, transformationClassLoader))
+        final Class<ASTTransformation> clazz = findASTTranformationClass(transformationAnnotation, transformationClassLoader)
         this.transformation = clazz.newInstance()
         this.annotationNode = new AnnotationNode(ClassHelper.make(transformationAnnotation))
     }
 
+    /**
+     * Creates an AST transformation customizer using the specified annotation.
+     * @param transformationAnnotation
+     */
+    ASTTransformationCustomizer(final Class<? extends Annotation> transformationAnnotation) {
+        this(transformationAnnotation, transformationAnnotation.classLoader)
+    }
+
+    /**
+     * Creates an AST transformation customizer using the specified transformation.
+     */
     ASTTransformationCustomizer(final ASTTransformation transformation) {
         super(findPhase(transformation))
         this.transformation = transformation
         this.annotationNode = null
     }
 
-    ASTTransformationCustomizer(final Map annotationParams, final Class<? extends Annotation> transformationAnnotation) {
-        super(findPhase(transformationAnnotation))
-        final Class<ASTTransformation> clazz = findASTTranformationClass(transformationAnnotation)
+    /**
+     * Creates an AST transformation customizer using the specified annotation. The transformation classloader can
+     * be used if the transformation class cannot be loaded from the same class loader as the annotation class.
+     * Additionally, you can pass a map of parameters that will be used to parameterize the annotation.
+     * @param transformationAnnotation
+     * @param transformationClassLoader
+     */
+    ASTTransformationCustomizer(final Map annotationParams, final Class<? extends Annotation> transformationAnnotation, ClassLoader transformationClassLoader) {
+        super(findPhase(transformationAnnotation, transformationClassLoader))
+        final Class<ASTTransformation> clazz = findASTTranformationClass(transformationAnnotation, transformationClassLoader)
         this.transformation = clazz.newInstance()
         this.annotationNode = new AnnotationNode(ClassHelper.make(transformationAnnotation))
         setAnnotationParameters(annotationParams)
     }
 
+    ASTTransformationCustomizer(final Map annotationParams, final Class<? extends Annotation> transformationAnnotation) {
+        this(annotationParams, transformationAnnotation, transformationAnnotation.classLoader)
+    }
+
     ASTTransformationCustomizer(final Map annotationParams, final ASTTransformation transformation) {
         this(transformation)
         setAnnotationParameters(annotationParams)
@@ -117,7 +145,7 @@ class ASTTransformationCustomizer extends CompilationCustomizer implements Compi
         compilationUnit = unit
     }
 
-    private static Class<ASTTransformation> findASTTranformationClass(Class<? extends Annotation> anAnnotationClass) {
+    private static Class<ASTTransformation> findASTTranformationClass(Class<? extends Annotation> anAnnotationClass, ClassLoader transformationClassLoader) {
         final GroovyASTTransformationClass annotation = anAnnotationClass.getAnnotation(GroovyASTTransformationClass)
         if (annotation==null) throw new IllegalArgumentException("Provided class doesn't look like an AST @interface")
 
@@ -126,7 +154,7 @@ class ASTTransformationCustomizer extends CompilationCustomizer implements Compi
         if (classes.length+classesAsStrings.length>1) {
             throw new IllegalArgumentException("AST transformation customizer doesn't support AST transforms with multiple classes")
         }
-        return classes?classes[0]:Class.forName(classesAsStrings[0])
+        return classes?classes[0]:Class.forName(classesAsStrings[0], true, transformationClassLoader?:anAnnotationClass.classLoader)
     }
 
     private static CompilePhase findPhase(ASTTransformation transformation) {
@@ -138,8 +166,8 @@ class ASTTransformationCustomizer extends CompilationCustomizer implements Compi
         annotation.phase()
     }
 
-    private static CompilePhase findPhase(Class<? extends Annotation> annotationClass) {
-        Class<ASTTransformation> clazz = findASTTranformationClass(annotationClass);
+    private static CompilePhase findPhase(Class<? extends Annotation> annotationClass, ClassLoader transformationClassLoader) {
+        Class<ASTTransformation> clazz = findASTTranformationClass(annotationClass, transformationClassLoader);
 
         findPhase(clazz.newInstance())
     }
diff --git a/src/test/org/codehaus/groovy/control/customizers/ASTTransformationCustomizerTest.groovy b/src/test/org/codehaus/groovy/control/customizers/ASTTransformationCustomizerTest.groovy
index 193d25ed5a..8d5b5ca5d0 100644
--- a/src/test/org/codehaus/groovy/control/customizers/ASTTransformationCustomizerTest.groovy
+++ b/src/test/org/codehaus/groovy/control/customizers/ASTTransformationCustomizerTest.groovy
@@ -57,6 +57,18 @@ class ASTTransformationCustomizerTest extends GroovyTestCase {
         assert result.log.class == Logger
     }
 
+    void testLocalTransformationAndCustomClassLoader() {
+        ClassLoader loader = new URLClassLoader([]as URL[]) {
+            @Override
+            Class<?> loadClass(String name) {
+                null
+            }
+        }
+        shouldFail(ClassNotFoundException) {
+            customizer = new ASTTransformationCustomizer(Log, loader)
+        }
+    }
+
     void testLocalTransformationWithAnnotationParameter() {
         customizer = new ASTTransformationCustomizer(Log)
         customizer.annotationParameters = [value: 'logger']
