diff --git a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
index 3d8b6de985..4327c3b188 100644
--- a/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
+++ b/src/main/org/codehaus/groovy/classgen/asm/sc/StaticTypesCallSiteWriter.java
@@ -23,6 +23,7 @@ import org.codehaus.groovy.runtime.MetaClassHelper;
 import org.codehaus.groovy.syntax.SyntaxException;
 import org.codehaus.groovy.transform.sc.StaticCompilationMetadataKeys;
 import org.codehaus.groovy.transform.stc.StaticTypeCheckingSupport;
+import org.codehaus.groovy.transform.stc.StaticTypesMarker;
 import org.objectweb.asm.MethodVisitor;
 import org.objectweb.asm.Opcodes;
 
@@ -67,6 +68,18 @@ public class StaticTypesCallSiteWriter extends CallSiteWriter implements Opcodes
         TypeChooser typeChooser = controller.getTypeChooser();
         ClassNode classNode = controller.getClassNode();
         ClassNode receiverType = typeChooser.resolveType(receiver, classNode);
+        Object type = receiver.getNodeMetaData(StaticTypesMarker.INFERRED_TYPE);
+        if (type==null && receiver instanceof VariableExpression) {
+            Variable variable = ((VariableExpression) receiver).getAccessedVariable();
+            if (variable instanceof Expression) {
+                type = ((Expression) variable).getNodeMetaData(StaticTypesMarker.INFERRED_TYPE);
+            }
+        }
+        if (type!=null) {
+            // in case a "flow type" is found, it is preferred to use it instead of
+            // the declaration type
+            receiverType = (ClassNode) type;
+        }
         boolean isClassReceiver = false;
         if (receiverType.equals(ClassHelper.CLASS_Type)
                 && receiverType.getGenericsTypes()!=null
diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 4c558fa860..74a4b72991 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -1225,7 +1225,7 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
         // if a returned inferred type is available and no @TypeCheckingInfo is on node, then add an
         // annotation to the method node
         ClassNode rtype = (ClassNode) node.getNodeMetaData(StaticTypesMarker.INFERRED_RETURN_TYPE);
-        if (rtype != null && rtype.getAnnotations(TYPECHECKING_INFO_NODE).isEmpty()) {
+        if (rtype != null && node.getAnnotations(TYPECHECKING_INFO_NODE).isEmpty()) {
             AnnotationNode anno = new AnnotationNode(TYPECHECKING_INFO_NODE);
             anno.setMember("version", CURRENT_SIGNATURE_PROTOCOL);
             SignatureCodec codec = SignatureCodecFactory.getCodec(CURRENT_SIGNATURE_PROTOCOL_VERSION);
diff --git a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
index f9a87eace5..90dcd1ffad 100644
--- a/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
+++ b/src/test/org/codehaus/groovy/classgen/asm/sc/BugsStaticCompileTest.groovy
@@ -30,5 +30,26 @@ class BugsStaticCompileTest extends BugsSTCTest {
         super.setUp()
         extraSetup()
     }
+
+    void testGroovy5498PropertyAccess() {
+        assertScript '''
+            class Test {
+
+              List getListVar() {
+                new ArrayList()
+              }
+
+              void someMethod() {
+                 def t = new Object()
+                 t = this
+
+                 t.getListVar()     //No error here
+                 t.listVar          //error is being reported here
+                 assert t.listVar == t.getListVar()
+              }
+            }
+            new Test().someMethod()
+        '''
+    }
 }
 
