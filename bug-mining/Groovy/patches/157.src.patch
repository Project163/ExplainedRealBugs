diff --git a/src/main/org/codehaus/groovy/ast/expr/ArrayExpression.java b/src/main/org/codehaus/groovy/ast/expr/ArrayExpression.java
index 7010d8e773..917afcd737 100644
--- a/src/main/org/codehaus/groovy/ast/expr/ArrayExpression.java
+++ b/src/main/org/codehaus/groovy/ast/expr/ArrayExpression.java
@@ -96,9 +96,8 @@ public class ArrayExpression extends Expression {
      * Creates an empty array of a certain size
      */
     public ArrayExpression(String type, Expression sizeExpression) {
-        String boxedType = BytecodeHelper.getObjectTypeForPrimitive(type);
-        this.elementType = boxedType;
-        setSuperType(boxedType);
+        if (!type.endsWith("[]")) type += "[]";
+        this.elementType = type;        
         this.sizeExpression = sizeExpression;
         this.expressions = Collections.EMPTY_LIST;
     }
@@ -129,9 +128,6 @@ public class ArrayExpression extends Expression {
     }
 
     public String getElementType() {
-        if (BytecodeHelper.isPrimitiveType(elementType)) { 
-            return BytecodeHelper.getObjectTypeForPrimitive(elementType);
-        }
         return elementType;
     }
     
diff --git a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
index a20b2cae3e..2d57e682d6 100644
--- a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
@@ -3203,85 +3203,70 @@ public class AsmClassGenerator extends ClassGenerator {
         if (type!=null && type.endsWith("[]")) type = type.substring(0,type.length()-2);
         String typeName = BytecodeHelper.getClassInternalName(type);        
         Expression sizeExpression = expression.getSizeExpression();
+
+        int size=0;
         if (sizeExpression != null) {
             // lets convert to an int
             visitAndAutoboxBoolean(sizeExpression);
             asIntMethod.call(cv);
+        } else {
+            size = expression.getExpressions().size();
+            helper.pushConstant(size);
+        }
 
+        int storeIns=AASTORE;
+        if (BytecodeHelper.isPrimitiveType(type)) {
+            int primType=0;
+            if (type.equals("boolean")) {
+                primType = T_BOOLEAN;
+                storeIns = BASTORE;
+            } else if (type.equals("char")) {
+                primType = T_CHAR;
+                storeIns = CASTORE;
+            } else if (type.equals("float")) {
+                primType = T_FLOAT;
+                storeIns = FASTORE;
+            } else if (type.equals("double")) {
+                primType = T_DOUBLE;
+                storeIns = DASTORE;
+            } else if (type.equals("byte")) {
+                primType = T_BYTE;
+                storeIns = BASTORE;
+            } else if (type.equals("short")) {
+                primType = T_SHORT;
+                storeIns = SASTORE;
+            } else if (type.equals("int")) {
+                primType = T_INT;
+                storeIns=IASTORE;
+            } else if (type.equals("long")) {
+                primType = T_LONG;
+                storeIns = LASTORE;
+            } 
+            cv.visitIntInsn(NEWARRAY, primType);
+        } else {
             cv.visitTypeInsn(ANEWARRAY, typeName);
         }
-        else {
-            int size = expression.getExpressions().size();
-            helper.pushConstant(size);
 
-            if (BytecodeHelper.isPrimitiveType(type)) {
-                int primType=0;
-                if (type.equals("boolean")) {
-                    primType = T_BOOLEAN;
-                } else if (type.equals("char")) {
-                    primType = T_CHAR;
-                } else if (type.equals("float")) {
-                    primType = T_FLOAT;
-                } else if (type.equals("double")) {
-                    primType = T_DOUBLE;
-                } else if (type.equals("byte")) {
-                    primType = T_BYTE;
-                } else if (type.equals("short")) {
-                    primType = T_SHORT;
-                } else if (type.equals("int")) {
-                    primType = T_INT;
-                } else if (type.equals("long")) {
-                    primType = T_LONG;
-                }
-                cv.visitIntInsn(NEWARRAY, primType);
+        for (int i = 0; i < size; i++) {
+            cv.visitInsn(DUP);
+            helper.pushConstant(i);
+            Expression elementExpression = expression.getExpression(i);
+            if (elementExpression == null) {
+                ConstantExpression.NULL.visit(this);
             } else {
-                cv.visitTypeInsn(ANEWARRAY, typeName);
-            }
-
-            for (int i = 0; i < size; i++) {
-                cv.visitInsn(DUP);
-                helper.pushConstant(i);
-                Expression elementExpression = expression.getExpression(i);
-                if (elementExpression == null) {
-                    ConstantExpression.NULL.visit(this);
-                }
-                else {
-                    if(!type.equals(elementExpression.getClass().getName())) {
-                        visitCastExpression(new CastExpression(type, elementExpression, true));
-                    } else {
-                        visitAndAutoboxBoolean(elementExpression);
-                    }
-                }
-                if (type.equals("int")) {
-                    cv.visitInsn(IASTORE);
-                }
-                else if (type.equals("long")) {
-                    cv.visitInsn(LASTORE);
-                }
-                else if (type.equals("short")) {
-                    cv.visitInsn(SASTORE);
-                }
-                else if (type.equals("float")) {
-                    cv.visitInsn(FASTORE);
-                }
-                else if (type.equals("double")) {
-                    cv.visitInsn(DASTORE);
-                }
-                else if (type.equals("byte") || type.equals("boolean")) {
-                    cv.visitInsn(BASTORE);
-                }
-                else if (type.equals("char")) {
-                    cv.visitInsn(CASTORE);
-                }
-                else {
-                    cv.visitInsn(AASTORE);
+                if (!type.equals(elementExpression.getClass().getName())) {
+                    visitCastExpression(new CastExpression(type, elementExpression, true));
+                } else {
+                    visitAndAutoboxBoolean(elementExpression);
                 }
             }
-            if (BytecodeHelper.isPrimitiveType(type)) {
-                int par = defineVariable("par","java.lang.Object").getIndex();
-                cv.visitVarInsn(ASTORE, par);
-                cv.visitVarInsn(ALOAD, par);
-            }
+            cv.visitInsn(storeIns);            
+        }
+        
+        if (BytecodeHelper.isPrimitiveType(type)) {
+            int par = defineVariable("par","java.lang.Object").getIndex();
+            cv.visitVarInsn(ASTORE, par);
+            cv.visitVarInsn(ALOAD, par);
         }
     }
 
diff --git a/src/test/UberTestCase.java b/src/test/UberTestCase.java
index ca898882f2..67562ed27c 100644
--- a/src/test/UberTestCase.java
+++ b/src/test/UberTestCase.java
@@ -10,6 +10,7 @@ public class UberTestCase extends TestCase {
     public static Test suite() {
         TestSuite suite = new TestSuite();
         suite.addTestSuite(AmbiguousInvocationTest.class);
+        suite.addTestSuite(ArrayAutoboxingTest.class);        
         suite.addTestSuite(ArrayParamMethodTest.class);
         suite.addTestSuite(ArrayTest.class);
         suite.addTestSuite(AssertNumberTest.class);
diff --git a/src/test/groovy/ArrayAutoboxingTest.groovy b/src/test/groovy/ArrayAutoboxingTest.groovy
new file mode 100644
index 0000000000..fa34bc857f
--- /dev/null
+++ b/src/test/groovy/ArrayAutoboxingTest.groovy
@@ -0,0 +1,24 @@
+class ArrayAutoboxingTest extends GroovyTestCase {
+    
+    void testUnwantedAutoboxingWhenInvokingMethods() {
+      cl = blah2(new int[2*2])
+      assert cl == "[I"
+      cl = blah2(new long[2*2])
+      assert cl == "[J"
+      cl = blah2(new short[2*2])
+      assert cl == "[S"
+      cl = blah2(new boolean[2*2])
+      assert cl == "[Z"
+      cl = blah2(new char[2*2])
+      assert cl == "[C"
+      cl = blah2(new double[2*2])
+      assert cl == "[D"
+      cl = blah2(new float[2*2])
+      assert cl == "[F"
+    }
+    
+    blah2(Object o) {
+       return o.class.name
+    }
+        
+} 
\ No newline at end of file
