diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 856233b2d4..f25d4fb531 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -2861,11 +2861,9 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
             }
             if (methods.isEmpty() && (args == null || args.length == 0)) {
                 // check if it's a property
-                String pname = null;
-                if (name.startsWith("get")) {
-                    pname = java.beans.Introspector.decapitalize(name.substring(3));
-                } else if (name.startsWith("is")) {
-                    pname = java.beans.Introspector.decapitalize(name.substring(2));
+                String pname = extractPropertyNameFromMethodName("get", name);
+                if (pname==null) {
+                    pname = extractPropertyNameFromMethodName("is", name);
                 }
                 if (pname != null) {
                     // we don't use property exists there because findMethod is called on super clases recursively
@@ -2888,8 +2886,8 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
                 }
             } else if (methods.isEmpty() && args != null && args.length == 1) {
                 // maybe we are looking for a setter ?
-                if (name.startsWith("set")) {
-                    String pname = java.beans.Introspector.decapitalize(name.substring(3));
+                String pname = extractPropertyNameFromMethodName("set", name);
+                if (name!=null) {
                     ClassNode curNode = receiver;
                     PropertyNode property = null;
                     while (property == null && curNode != null) {
@@ -2952,6 +2950,27 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
         return EMPTY_METHODNODE_LIST;
     }
 
+    /**
+     * Given a method name and a prefix, returns the name of the property that should be looked up,
+     * following the java beans rules. For example, "getName" would return "name", while
+     * "getFullName" would return "fullName".
+     * If the prefix is not found, returns null.
+     * @param prefix the method name prefix ("get", "is", "set", ...)
+     * @param methodName the method name
+     * @return a property name if the prefix is found and the method matches the java beans rules, null otherwise
+     */
+    public static String extractPropertyNameFromMethodName(String prefix, String methodName) {
+        if (prefix==null || methodName==null) return null;
+        if (methodName.startsWith(prefix) && prefix.length()<methodName.length()) {
+            String result = methodName.substring(prefix.length());
+            char firstChar = result.charAt(0);
+            if (Character.isUpperCase(firstChar) || !Character.isLetter(firstChar)) {
+                return java.beans.Introspector.decapitalize(result);
+            }
+        }
+        return null;
+    }
+
     protected void collectAllInterfaceMethodsByName(final ClassNode receiver, final String name, final List<MethodNode> methods) {
         ClassNode[] interfaces = receiver.getInterfaces();
         if (interfaces != null && interfaces.length > 0) {
diff --git a/src/test/groovy/transform/stc/DelegatesToSTCTest.groovy b/src/test/groovy/transform/stc/DelegatesToSTCTest.groovy
index 71f313bf4a..b6f4af0ddf 100644
--- a/src/test/groovy/transform/stc/DelegatesToSTCTest.groovy
+++ b/src/test/groovy/transform/stc/DelegatesToSTCTest.groovy
@@ -606,4 +606,31 @@ class DelegatesToSTCTest extends StaticTypeCheckingTestCase {
         ''', 'Cannot find matching method'
     }
 
+    // GROOVY-6165
+    void testDelegatesToGenericArgumentTypeAndTypo() {
+        shouldFailWithMessages '''import groovy.transform.*
+
+        @TupleConstructor
+        class Person { String name }
+
+        public <T> List<T> names(
+            @DelegatesTo.Target List<T> list,
+            @DelegatesTo(genericTypeIndex = 0) Closure modify) {
+                list.collect {
+                    modify.delegate = it
+                    modify()
+                }
+        }
+
+        def test(List<Person> persons) {
+            def names = names(persons) {
+                getname().toUpperCase()
+            }
+            assert names == ['GUILLAUME', 'CEDRIC']
+        }
+
+        test([new Person('Guillaume'), new Person('Cedric')])
+        ''', 'Cannot find matching method'
+    }
+
 }
diff --git a/src/test/groovy/transform/stc/MiscSTCTest.groovy b/src/test/groovy/transform/stc/MiscSTCTest.groovy
index 5c07b7db92..147078bfc8 100644
--- a/src/test/groovy/transform/stc/MiscSTCTest.groovy
+++ b/src/test/groovy/transform/stc/MiscSTCTest.groovy
@@ -15,6 +15,8 @@
  */
 package groovy.transform.stc
 
+import org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor
+
 /**
  * Unit tests for static type checking : miscellaneous tests.
  *
@@ -288,6 +290,29 @@ class MiscSTCTest extends StaticTypeCheckingTestCase {
         '''
     }
 
+    // GROOVY-6165
+    void testPropertyNameFromMethodName() {
+        // too bad we're not using Spock!
+
+        def tests = [
+                ['get','getName', 'name'],
+                ['get','getFullName', 'fullName'],
+                ['get','getname', null],
+                ['is', 'isFlag', 'flag'],
+                ['is', 'isflag', null],
+                ['is', 'is', null],
+                ['is', 'i', null],
+                ['get', 'getXYZ', 'XYZ'],
+                ['get', 'get_foo', '_foo'],
+                [null, 'foo', null],
+                ['foo', null, null],
+                [null,null,null]
+        ]
+        tests.each { prefix, methodName, expectation ->
+            assert StaticTypeCheckingVisitor.extractPropertyNameFromMethodName(prefix, methodName) == expectation
+        }
+    }
+
     public static class MiscSTCTestSupport {
         static def foo() { '123' }
     }
