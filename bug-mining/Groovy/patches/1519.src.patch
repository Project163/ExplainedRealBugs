diff --git a/src/main/org/codehaus/groovy/ast/ClassNode.java b/src/main/org/codehaus/groovy/ast/ClassNode.java
index c536e4d5cc..fa472e9e38 100644
--- a/src/main/org/codehaus/groovy/ast/ClassNode.java
+++ b/src/main/org/codehaus/groovy/ast/ClassNode.java
@@ -677,6 +677,7 @@ public class ClassNode extends AnnotatedNode implements Opcodes {
 
     public boolean equals(Object o) {
         if (redirect!=null) return redirect().equals(o);
+        if (!(o instanceof ClassNode)) return false;
         ClassNode cn = (ClassNode) o;
         return (cn.getName().equals(getName()));
     }
