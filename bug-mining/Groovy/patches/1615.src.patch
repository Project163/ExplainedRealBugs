diff --git a/src/main/org/codehaus/groovy/classgen/GeneratorContext.java b/src/main/org/codehaus/groovy/classgen/GeneratorContext.java
index d9fac1b00f..db587ed307 100644
--- a/src/main/org/codehaus/groovy/classgen/GeneratorContext.java
+++ b/src/main/org/codehaus/groovy/classgen/GeneratorContext.java
@@ -30,16 +30,22 @@ import org.codehaus.groovy.ast.MethodNode;
 public class GeneratorContext {
 
     private int innerClassIdx = 1;
+    private int closureClassIdx = 1;
     private CompileUnit compileUnit;
     
     public GeneratorContext(CompileUnit compileUnit) {
         this.compileUnit = compileUnit;
     }
 
+    public GeneratorContext(CompileUnit compileUnit, int innerClassOffset) {
+        this.compileUnit = compileUnit;
+        this.innerClassIdx = innerClassOffset;
+    }
+
     public int getNextInnerClassIdx() {
         return innerClassIdx++;
     }
-    
+
     public CompileUnit getCompileUnit() {
         return compileUnit;
     }
@@ -73,6 +79,6 @@ public class GeneratorContext {
             methodName = methodName.replace('>', '_');
             methodName = methodName.replaceAll(" ", "_");
         }
-        return "_" + classShortName + methodName + "closure" + getNextInnerClassIdx();
+        return "_" + classShortName + methodName + "closure" + closureClassIdx++;
     }
 }
diff --git a/src/main/org/codehaus/groovy/control/CompilationUnit.java b/src/main/org/codehaus/groovy/control/CompilationUnit.java
index ca44cfe93d..b51de8c421 100644
--- a/src/main/org/codehaus/groovy/control/CompilationUnit.java
+++ b/src/main/org/codehaus/groovy/control/CompilationUnit.java
@@ -20,10 +20,7 @@ import groovy.lang.GroovyRuntimeException;
 
 import groovy.transform.CompilationUnitAware;
 import org.codehaus.groovy.GroovyBugError;
-import org.codehaus.groovy.ast.ASTNode;
-import org.codehaus.groovy.ast.ClassNode;
-import org.codehaus.groovy.ast.CompileUnit;
-import org.codehaus.groovy.ast.ModuleNode;
+import org.codehaus.groovy.ast.*;
 import org.codehaus.groovy.classgen.*;
 import org.codehaus.groovy.control.customizers.CompilationCustomizer;
 import org.codehaus.groovy.control.io.InputStreamReaderSource;
@@ -970,10 +967,13 @@ public class CompilationUnit extends ProcessingUnit {
                 ClassNode classNode = (ClassNode) classNodes.next();
                 context = classNode.getModule().getContext();
                 if (context == null || context.phase < phase || (context.phase == phase && !context.phaseComplete)) {
-                    if (body instanceof CompilationUnitAware) {
-                        ((CompilationUnitAware)body).setCompilationUnit(this);
+                    int offset = 1;
+                    Iterator<InnerClassNode> iterator = classNode.getInnerClasses();
+                    while (iterator.hasNext()) {
+                        iterator.next();
+                        offset++;
                     }
-                    body.call(context, new GeneratorContext(this.ast), classNode);
+                    body.call(context, new GeneratorContext(this.ast, offset), classNode);
                 }
             } catch (CompilationFailedException e) {
                 // fall through, getErrorReporter().failIfErrors() will trigger
diff --git a/src/test/groovy/bugs/Groovy5122Bug.groovy b/src/test/groovy/bugs/Groovy5122Bug.groovy
new file mode 100644
index 0000000000..141799740a
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy5122Bug.groovy
@@ -0,0 +1,30 @@
+package groovy.bugs
+
+class Groovy5122Bug extends GroovyTestCase {
+    void testInterfaceFieldShouldBeInitialized() {
+        assertScript '''
+            import java.lang.reflect.Field
+
+            interface A {
+                public static X x = new X() {
+                    public void foo() {}
+                }
+            }
+
+            interface X {
+                void foo()
+            }
+
+            class B implements A {
+                public B() {
+                    for (Field f in getClass().getFields()) {
+                        println f
+                        println f.get(this)
+                    }
+                }
+            }
+
+            new B()
+        '''
+    }
+}
