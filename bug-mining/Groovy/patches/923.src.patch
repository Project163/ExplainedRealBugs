diff --git a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
index ec536ee70d..4bf15e50ba 100644
--- a/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/AsmClassGenerator.java
@@ -4376,8 +4376,8 @@ public class AsmClassGenerator extends ClassGenerator {
 
         public void visitMethodInsn(int opcode, String owner, String name, String desc) {
             if (boxing(opcode,owner,name)) {
-                dropBoxing();
                 boxingDesc = desc;
+                dropBoxing();
             }
             else {
               if (unboxing(opcode, owner, name)) {
diff --git a/src/test/groovy/bugs/Groovy3410Bug.groovy b/src/test/groovy/bugs/Groovy3410Bug.groovy
new file mode 100644
index 0000000000..31e6196fe5
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy3410Bug.groovy
@@ -0,0 +1,65 @@
+package groovy.bugs
+
+class Groovy3410Bug extends GroovyTestCase {
+
+    void testClassVerificationErrorsWithBooleanExpUsingPrimitiveFields() {
+        assertScript """
+            class Groovy3405N1 {
+                long id // or float or double
+                
+                boolean bar() {
+                    return (id ? true : false)
+                }
+            }
+            println new Groovy3405N1()     
+        """
+
+            assertScript """
+            class Groovy3405N2 {
+                long id
+                def bar() {
+                    return (id ? "a" : "b")
+                }
+            }              
+            println new Groovy3405N2()     
+        """
+
+            assertScript """
+            class Groovy3405N3 {
+                long id = 0
+                def bar() {
+                    assert id, "Done"
+                }
+            }   
+            println new Groovy3405N3()     
+        """
+
+        assertScript """
+            class Groovy3405N4 {
+                long id = 0
+                def bar() {
+                    while(id){
+                        print "here"
+                        break
+                    }
+                }
+            }   
+            println new Groovy3405N4()     
+        """
+
+        assertScript """
+            class Groovy3405N5 {
+                long id = 0
+                def bar() {
+                    if(id) {
+                        true
+                    } else {
+                        false
+                    }
+                }
+            }   
+            println new Groovy3405N5()     
+        """
+        println "testClassVerificationErrorsWithBooleanExpUsingPrimitiveFields Done" 
+    }
+}
