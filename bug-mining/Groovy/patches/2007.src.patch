diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 758b7f2943..d91cb3c745 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -3217,6 +3217,12 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
                                                     GenericsType genericsType = gtInParameter[j];
                                                     if (genericsType.getName().equals(placeholderName)) {
                                                         ClassNode actualType = gtInArgument[j].getType();
+                                                       if (gtInArgument[j].isPlaceholder()
+                                                                && gtInArgument[j].getName().equals(placeholderName)
+                                                                && resolvedMethodGenerics.containsKey(placeholderName)) {
+                                                           // GROOVY-5724
+                                                           actualType = resolvedMethodGenerics.get(placeholderName);
+                                                        }
                                                         if (resolvedMethodGenerics.containsKey(placeholderName)) {
                                                             failure |= !resolvedMethodGenerics.get(placeholderName).equals(actualType);
                                                         } else {
diff --git a/src/test/groovy/transform/stc/GenericsSTCTest.groovy b/src/test/groovy/transform/stc/GenericsSTCTest.groovy
index e12f6672b1..dee1cacdab 100644
--- a/src/test/groovy/transform/stc/GenericsSTCTest.groovy
+++ b/src/test/groovy/transform/stc/GenericsSTCTest.groovy
@@ -984,6 +984,18 @@ class GenericsSTCTest extends StaticTypeCheckingTestCase {
 
     }
 
+    // GROOVY-5724
+    void testJunitHamcrest() {
+        assertScript '''
+            public class Matcher<T> {}
+            public <T> void assertThat(T obj, Matcher<T> matcher) {}
+            public <T> Matcher<T> notNullValue() {}
+            String result = '12345'.substring(2)
+            // assert
+            assertThat(result, notNullValue())
+        '''
+    }
+
     static class MyList extends LinkedList<String> {}
 
     public static class ClassA<T> {
