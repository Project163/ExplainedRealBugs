diff --git a/build.xml b/build.xml
index e0945af98f..df9178a657 100644
--- a/build.xml
+++ b/build.xml
@@ -467,11 +467,13 @@ $Date$
         </unzip>
         <jarjar jarfile="${targetDistDirectory}/groovy-all-${groovyVersion}.jar"
                 manifest="${stagingDirectory}/META-INF/MANIFEST.MF">
-            <fileset dir="${stagingDirectory}"/>
+            <fileset dir="${stagingDirectory}" excludes="groovy/util/CliBuilder*.class,groovy/util/OptionAccessor*.class"/>
             <rule pattern="antlr.**" result="groovyjarjarantlr.@1"/>
             <rule pattern="org.objectweb.**" result="groovyjarjarasm.@1"/>
             <rule pattern="org.apache.commons.cli.**" result="groovyjarjarcommonscli.@1"/>
         </jarjar>
+        <jar destfile="${targetDistDirectory}/groovy-all-${groovyVersion}.jar" update="true"
+             basedir="${stagingDirectory}" includes="groovy/util/CliBuilder*.class,groovy/util/OptionAccessor*.class"/>
         <copy file="${targetDistDirectory}/groovy-${groovyVersion}-sources.jar"
               tofile="${targetDistDirectory}/groovy-all-${groovyVersion}-sources.jar"/>
         <copy file="${targetDistDirectory}/groovy-all-${groovyVersion}-sources.jar"
diff --git a/config/maven/groovy-all.xsl b/config/maven/groovy-all.xsl
index 5c4cf2be93..055b8f9948 100644
--- a/config/maven/groovy-all.xsl
+++ b/config/maven/groovy-all.xsl
@@ -11,7 +11,6 @@
     <!-- remove embedded antlr and asm dependencies  -->
     <xsl:template match="/*[local-name() = 'project']/*[local-name() = 'dependencies']/*[local-name() = 'dependency'][*/text() = 'antlr']"/>
     <xsl:template match="/*[local-name() = 'project']/*[local-name() = 'dependencies']/*[local-name() = 'dependency'][*/text() = 'asm']"/>
-    <xsl:template match="/*[local-name() = 'project']/*[local-name() = 'dependencies']/*[local-name() = 'dependency'][*/text() = 'commons-cli']"/>
 
     <xsl:template match="@*|node()">
         <xsl:copy>
diff --git a/pom.xml b/pom.xml
index c39dd121ea..5312549425 100644
--- a/pom.xml
+++ b/pom.xml
@@ -467,6 +467,7 @@
             <artifactId>commons-cli</artifactId>
             <version>1.0</version>
             <scope>compile</scope>
+            <optional>true</optional>
             <exclusions>
                 <exclusion>
                     <groupId>commons-lang</groupId>
