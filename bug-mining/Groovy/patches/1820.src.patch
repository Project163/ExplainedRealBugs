diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
index 007072f5d1..46e571bc8f 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingSupport.java
@@ -713,6 +713,10 @@ public abstract class StaticTypeCheckingSupport {
         if (isPrimitiveType(receiver) && !isPrimitiveType(compare)) {
             dist = (dist+1)<<1;
         }
+        if (receiver.isArray() && !compare.isArray()) {
+            // Object[] vs Object
+            dist += 256;
+        }
 
         ClassNode ref = compare;
         while (ref!=null) {
diff --git a/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy b/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
index 63723e9dfd..97c39490ec 100644
--- a/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
+++ b/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
@@ -545,5 +545,15 @@ class TypeInferenceSTCTest extends StaticTypeCheckingTestCase {
             assert bar == 246
         '''
     }
+
+    // GROOVY-5522
+    void testTypeInferenceWithArrayAndFind() {
+        assertScript '''
+            File findFile() {
+                new File[0].find { File f -> f.hidden }
+            }
+            findFile()
+        '''
+    }
 }
 
