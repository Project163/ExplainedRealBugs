diff --git a/src/main/groovy/util/ConfigObject.groovy b/src/main/groovy/util/ConfigObject.groovy
index 9b0ece230f..4a8651c1a5 100644
--- a/src/main/groovy/util/ConfigObject.groovy
+++ b/src/main/groovy/util/ConfigObject.groovy
@@ -73,10 +73,12 @@ class ConfigObject extends LinkedHashMap implements Writable {
      */
     def getProperty(String name) {  
 		if(name == 'configFile') return this.configFile
-        def prop = get(name)
-        if(prop == null) prop = new ConfigObject(this.configFile)
-        put(name, prop)
-        return prop
+        if(!containsKey (name)) {
+           ConfigObject prop = new ConfigObject(this.configFile)
+           put(name, prop)
+           return prop
+        }
+        return get(name)
     }
     
     /**
@@ -239,7 +241,13 @@ class ConfigObject extends LinkedHashMap implements Writable {
                 populate(suffix+"${key}.", config, value)
             }
             else {
-                config[suffix+key] = value
+                try {
+                  config[suffix+key] = value
+                }
+                catch (java.lang.NullPointerException e) {
+                    // it is idiotic story but if config map doesn't allow null values (like Hashtable)
+                    // we can't do too much
+                }
             }
         }
     }
diff --git a/src/test/groovy/util/ConfigSlurperTest.groovy b/src/test/groovy/util/ConfigSlurperTest.groovy
index f102ddc6c0..6fccb64139 100644
--- a/src/test/groovy/util/ConfigSlurperTest.groovy
+++ b/src/test/groovy/util/ConfigSlurperTest.groovy
@@ -126,6 +126,7 @@ environments {
         def config = slurper.parse('''
 smtp.server.url = "localhost"
 smtp.username = "fred"
+smtp.dummy = null
 ''')
 
         assert config
@@ -133,6 +134,7 @@ smtp.username = "fred"
         println config.smtp.server
         assertEquals "localhost", config.smtp.server.url
         assertEquals "fred", config.smtp.username
+        assertNull config.smtp.dummy
     }
 
     void testScopedProperties() {
@@ -347,6 +349,7 @@ log4j {
     void testToProperties() {
         def slurper = new ConfigSlurper()
         def config = slurper.parse('''
+smtp.dummy = null
 log4j {
     appender {
         stdout("org.apache.log4j.ConsoleAppender") {
@@ -373,7 +376,7 @@ log4j {
         assertEquals "error,stdout", props."log4j.rootLogger"
         assertEquals "info,stdout", props."log4j.logger.org.codehaus.groovy.grails"
         assertEquals "false", props."log4j.additivity.org.codehaus.groovy.grails"
-
+        assertNull props.'smtp.dummy'
 
         props = config.log4j.toProperties("log4j")
         assertEquals "org.apache.log4j.ConsoleAppender", props."log4j.appender.stdout"
@@ -381,7 +384,7 @@ log4j {
         assertEquals "error,stdout", props."log4j.rootLogger"
         assertEquals "info,stdout", props."log4j.logger.org.codehaus.groovy.grails"
         assertEquals "false", props."log4j.additivity.org.codehaus.groovy.grails"
-
+        assertFalse props.containsKey('smtp.dummy')
     }     
       
 	void testConfigTokensAsStrings() {
@@ -452,4 +455,4 @@ log4j {
 
 		
 	}
-}
\ No newline at end of file
+}
