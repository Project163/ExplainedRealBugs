diff --git a/src/main/groovy/lang/GroovyCodeSource.java b/src/main/groovy/lang/GroovyCodeSource.java
index c1fd3b487f..0f5f661515 100644
--- a/src/main/groovy/lang/GroovyCodeSource.java
+++ b/src/main/groovy/lang/GroovyCodeSource.java
@@ -68,25 +68,6 @@ public class GroovyCodeSource {
 			throw new RuntimeException("A CodeSource file URL cannot be constructed from the supplied codeBase: " + codeBase);
 		}
 	}
-
-	/** 
-	 * Package private constructor called by GroovyClassLoader for signed jar entries
-	 */
-	GroovyCodeSource(InputStream inputStream, String name, final File path, final Certificate[] certs) {
-		this.inputStream = inputStream;
-		this.name = name;
-		try {
-			this.codeSource = (CodeSource) AccessController.doPrivileged( new PrivilegedExceptionAction() {
-				public Object run() throws MalformedURLException {
-					//toURI().toURL() will encode, but toURL() will not.
-					return new CodeSource(path.toURI().toURL(), certs);
-				}
-			});
-		} catch (PrivilegedActionException pae) {
-			//shouldn't happen
-			throw new RuntimeException("Could not construct a URL from: " + path);
-		}
-	}
 	
 	public GroovyCodeSource(final File file) throws FileNotFoundException {
 		if (!file.exists())
diff --git a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
index cc62a4f1fc..182fe06f63 100644
--- a/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
+++ b/src/main/org/codehaus/groovy/runtime/DefaultGroovyMethods.java
@@ -713,6 +713,10 @@ public class DefaultGroovyMethods {
         }
     }
 
+    public static boolean isCase(Number caseValue, Number switchValue) {
+      return NumberMath.compareTo(caseValue, switchValue)==0;
+    }
+    
     // Collection based methods
     //-------------------------------------------------------------------------
 
diff --git a/src/test/groovy/SwitchWithDifferentTypesTest.groovy b/src/test/groovy/SwitchWithDifferentTypesTest.groovy
index 7b275a022c..c0394b77e3 100644
--- a/src/test/groovy/SwitchWithDifferentTypesTest.groovy
+++ b/src/test/groovy/SwitchWithDifferentTypesTest.groovy
@@ -24,7 +24,31 @@ class SwitchWithDifferentTypesTest extends GroovyTestCase {
         assertSwitch("abc", new Date(), 5.32, 23)
     }
 
-
+    void testSwitchWithMixedNumberValues() {
+        def i = 1 as Integer
+        def bi = 1 as BigInteger
+        def bd1 = 1.0 as BigDecimal
+        def bd2 = 1.0000 as BigDecimal
+        assertSwitchMixed(i, bi, 2, 3)
+        assertSwitchMixed(i, bd1, 2, 3)
+        assertSwitchMixed(i, bd2, 2, 3)
+        assertSwitchMixed(bi, i, 2, 3)
+        assertSwitchMixed(bi, bd1, 2, 3)
+        assertSwitchMixed(bi, bd2, 2, 3)
+        assertSwitchMixed(bd1, i, 2, 3)
+        assertSwitchMixed(bd1, bi, 2, 3)
+        assertSwitchMixed(bd1, bd2, 2, 3)
+        assertSwitchMixed(bd2, i, 2, 3)
+        assertSwitchMixed(bd2, bi, 2, 3)
+        assertSwitchMixed(bd2, bd1, 2, 3)
+    }
+    
+    void assertSwitchMixed(switchValue, matchingValue, nonmatchingValue1, nonmatchingValue2) {
+      assertSwitchMatch1(switchValue, matchingValue, nonmatchingValue1, nonmatchingValue2)
+      assertSwitchMatch2(switchValue, nonmatchingValue1, matchingValue, nonmatchingValue2)
+      assertSwitchMatch3(switchValue, nonmatchingValue1, nonmatchingValue2, matchingValue)
+    }
+    
     void assertSwitch(a, b, c, d) {
         assertSwitchMatch1(a, a, b, c)
         assertSwitchMatch2(b, a, b, c)
@@ -107,4 +131,4 @@ class SwitchWithDifferentTypesTest extends GroovyTestCase {
     void failNotDefault(value) {
         fail("value: " + value + " should not match the default switch clause" )
     }
-}
\ No newline at end of file
+}
