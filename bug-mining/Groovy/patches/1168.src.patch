diff --git a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
index 86d2ed7270..e6e0308ad8 100644
--- a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
+++ b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
@@ -445,7 +445,8 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         } else {
             classNode = new InnerClassNode(outerClass, fullName, Opcodes.ACC_PUBLIC, ClassHelper.OBJECT_TYPE);
         }
-
+        ((InnerClassNode) classNode).setAnonymous(true);
+        
         assertNodeType(OBJBLOCK, node);
         objectBlock(node);
         output.addClass(classNode);
diff --git a/src/main/org/codehaus/groovy/ast/InnerClassNode.java b/src/main/org/codehaus/groovy/ast/InnerClassNode.java
index 85d766c8ef..fab7a7fafd 100644
--- a/src/main/org/codehaus/groovy/ast/InnerClassNode.java
+++ b/src/main/org/codehaus/groovy/ast/InnerClassNode.java
@@ -27,6 +27,7 @@ public class InnerClassNode extends ClassNode {
 
     private ClassNode outerClass;
     private VariableScope scope;
+    private boolean anonymous;
 
     /**
      * @param name is the full name of the class
@@ -69,4 +70,12 @@ public class InnerClassNode extends ClassNode {
     public void setVariableScope(VariableScope scope) {
         this.scope = scope;
     }
+
+	public boolean isAnonymous() {
+		return anonymous;
+	}
+
+	public void setAnonymous(boolean anonymous) {
+		this.anonymous = anonymous;
+	}
 }
diff --git a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
index 80b67c5db7..ee43d7d9f6 100644
--- a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
+++ b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
@@ -105,6 +105,10 @@ public class JavaStubGenerator
     }
 
     private void genClassInner(ClassNode classNode, PrintWriter out) throws FileNotFoundException {
+    	if(classNode instanceof InnerClassNode && ((InnerClassNode) classNode).isAnonymous()) {
+    		// if it is an anonymous inner class, don't generate the stub code for it.
+    		return;
+    	}
         try {
             Verifier verifier = new Verifier() {
                 public void addCovariantMethods(ClassNode cn) {}
