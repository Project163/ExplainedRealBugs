diff --git a/src/main/org/codehaus/groovy/transform/stc/SignatureCodecVersion1.java b/src/main/org/codehaus/groovy/transform/stc/SignatureCodecVersion1.java
index bc03d343d0..f76bec418d 100644
--- a/src/main/org/codehaus/groovy/transform/stc/SignatureCodecVersion1.java
+++ b/src/main/org/codehaus/groovy/transform/stc/SignatureCodecVersion1.java
@@ -35,6 +35,12 @@ import static org.codehaus.groovy.ast.ClassHelper.*;
  */
 public class SignatureCodecVersion1 implements SignatureCodec {
 
+    private final ClassLoader classLoader;
+
+    public SignatureCodecVersion1(final ClassLoader classLoader) {
+        this.classLoader = classLoader;
+    }
+
     private void doEncode(final ClassNode node, DataOutputStream dos) throws IOException {
         dos.writeUTF(node.getClass().getSimpleName());
         if (node instanceof UnionTypeClassNode) {
@@ -145,7 +151,7 @@ public class SignatureCodecVersion1 implements SignatureCodec {
             // object type
             String className = typedesc.replace('/', '.').substring(1, typedesc.length() - 1);
             try {
-                result = ClassHelper.make(Class.forName(className)).getPlainNodeReference();
+                result = ClassHelper.make(Class.forName(className, false, classLoader)).getPlainNodeReference();
             } catch (ClassNotFoundException e) {
                 result = ClassHelper.make(className);
             }
diff --git a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 0a630c8416..026fc06df9 100644
--- a/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -1614,7 +1614,7 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
         if (rtype != null && node.getAnnotations(TYPECHECKING_INFO_NODE).isEmpty()) {
             AnnotationNode anno = new AnnotationNode(TYPECHECKING_INFO_NODE);
             anno.setMember("version", CURRENT_SIGNATURE_PROTOCOL);
-            SignatureCodec codec = SignatureCodecFactory.getCodec(CURRENT_SIGNATURE_PROTOCOL_VERSION);
+            SignatureCodec codec = SignatureCodecFactory.getCodec(CURRENT_SIGNATURE_PROTOCOL_VERSION, getSourceUnit().getClassLoader());
             String genericsSignature = codec.encode(rtype);
             if (genericsSignature != null) {
                 ConstantExpression signature = new ConstantExpression(genericsSignature);
@@ -1752,7 +1752,7 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
             AnnotationNode head = annotations.get(0);
             int version = Integer.valueOf(head.getMember("version").getText());
             String signature = head.getMember("inferredType").getText();
-            SignatureCodec codec = SignatureCodecFactory.getCodec(version);
+            SignatureCodec codec = SignatureCodecFactory.getCodec(version, getSourceUnit().getClassLoader());
             ClassNode result = codec.decode(signature);
             node.putNodeMetaData(StaticTypesMarker.INFERRED_RETURN_TYPE, result);
         }
@@ -3626,9 +3626,9 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
     // ------------------- codecs for method return type signatures ------------------------------
 
     public static class SignatureCodecFactory {
-        public static SignatureCodec getCodec(int version) {
+        public static SignatureCodec getCodec(int version, final ClassLoader classLoader) {
             switch (version) {
-                case 1:  return new SignatureCodecVersion1();
+                case 1:  return new SignatureCodecVersion1(classLoader);
                 default: return null;
             }
         }
diff --git a/src/test/org/codehaus/groovy/transform/stc/SignatureCodecTest.groovy b/src/test/org/codehaus/groovy/transform/stc/SignatureCodecTest.groovy
index fb7bac8907..a0e15d0c35 100644
--- a/src/test/org/codehaus/groovy/transform/stc/SignatureCodecTest.groovy
+++ b/src/test/org/codehaus/groovy/transform/stc/SignatureCodecTest.groovy
@@ -16,7 +16,7 @@ class SignatureCodecTest extends GroovyTestCase {
     @Override
     protected void setUp() {
         super.setUp()
-        codec = StaticTypeCheckingVisitor.SignatureCodecFactory.getCodec(1)
+        codec = StaticTypeCheckingVisitor.SignatureCodecFactory.getCodec(1,this.class.classLoader)
     }
 
     void testVariousSimpleClassNodes() {
