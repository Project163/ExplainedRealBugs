diff --git a/src/main/org/codehaus/groovy/antlr/groovy.g b/src/main/org/codehaus/groovy/antlr/groovy.g
index adbbdedf77..da815f65e1 100644
--- a/src/main/org/codehaus/groovy/antlr/groovy.g
+++ b/src/main/org/codehaus/groovy/antlr/groovy.g
@@ -3604,9 +3604,12 @@ options {
                 }
             }
             int ttype = testLiteralsTable(IDENT);
-            // Java doesn't have the keyword 'as' so make some allowances here for 'as'
-            // in package names for better integration with existng Java packages
-            if (ttype == LITERAL_as && (LA(1) == '.' || lastSigTokenType == DOT || lastSigTokenType == LITERAL_package)) { ttype = IDENT; }
+            // Java doesn't have the keywords 'as', 'in' or 'def so we make some allowances
+            // for them in package names for better integration with existng Java packages
+            if ((ttype == LITERAL_as || ttype == LITERAL_def || ttype == LITERAL_in) &&
+                (LA(1) == '.' || lastSigTokenType == DOT || lastSigTokenType == LITERAL_package)) {
+                ttype = IDENT;
+            }
 
         /* The grammar allows a few keywords to follow dot.
          * TODO: Reinstate this logic if we change or remove keywordPropertyNames.
diff --git a/src/test/gls/scope/NameResolvingTest.groovy b/src/test/gls/scope/NameResolvingTest.groovy
index 179d0d73de..885cfc51b6 100644
--- a/src/test/gls/scope/NameResolvingTest.groovy
+++ b/src/test/gls/scope/NameResolvingTest.groovy
@@ -24,12 +24,19 @@ class NameResolvingTest extends CompilableTestSupport {
     """
   }
   
+  public void testInAsDefAllowedInPackageNames() {
+    shouldCompile """
+      package as.in.def
+      class X {}
+    """
+  }
+  
   public void testAssignmentToNonLocalVariableWithSameNameAsClass() {
     shouldNotCompile """
-      String = 1    
+      String = 1
     """
   }
-  
+
   public void testClassUsageInSuper(){
      shouldCompile """
        class A {A(x){}}
