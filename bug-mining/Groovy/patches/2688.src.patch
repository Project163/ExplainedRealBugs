diff --git a/subprojects/groovy-templates/src/test/groovy/groovy/text/MarkupTemplateEngineTest.groovy b/subprojects/groovy-templates/src/test/groovy/groovy/text/MarkupTemplateEngineTest.groovy
index 933b145416..7509a85d40 100644
--- a/subprojects/groovy-templates/src/test/groovy/groovy/text/MarkupTemplateEngineTest.groovy
+++ b/subprojects/groovy-templates/src/test/groovy/groovy/text/MarkupTemplateEngineTest.groovy
@@ -20,6 +20,7 @@ import groovy.text.markup.BaseTemplate
 import groovy.text.markup.MarkupTemplateEngine
 import groovy.text.markup.TagLibAdapter
 import groovy.text.markup.TemplateConfiguration
+import groovy.transform.NotYetImplemented
 
 class MarkupTemplateEngineTest extends GroovyTestCase {
     private Locale locale
@@ -963,6 +964,19 @@ layout 'includes/body.tpl', bodyContents: contents {
         assert rendered == '<a>link</a>'
     }
 
+    // GROOVY-6939
+    @NotYetImplemented
+    void testShouldNotFailWithDoCallMethod() {
+        MarkupTemplateEngine engine = new MarkupTemplateEngine(new TemplateConfiguration())
+
+        def template = engine.createTemplate '''
+            groups.each { k, v -> li(k) }
+        '''
+        def model = [groups:[a:'Group a',b:'Group b']]
+        String rendered = template.make(model)
+        assert rendered == '<li>a</li><li>b</li>'
+    }
+
     class SimpleTagLib {
         def emoticon = { attrs, body ->
             out << body() << (attrs.happy == 'true' ? " :-)" : " :-(")
