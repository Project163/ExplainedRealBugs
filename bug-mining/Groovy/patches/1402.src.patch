diff --git a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
index f58bd5771d..30d3a4e071 100644
--- a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
+++ b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
@@ -666,7 +666,7 @@ public class JavaStubGenerator
             // case where annotation type uses Class<? extends Closure> for the closure's type
             val = "groovy.lang.Closure.class";
         } else if (memberValue instanceof ClassExpression) {
-            val = ((Expression) memberValue).getText();
+            val = ((Expression) memberValue).getText() + ".class";
         } 
         return val;
     }
diff --git a/src/test/org/codehaus/groovy/tools/stubgenerator/AnnotationMemberValuesResolutionV2StubsTest.groovy b/src/test/org/codehaus/groovy/tools/stubgenerator/AnnotationMemberValuesResolutionV2StubsTest.groovy
index 4962078c3b..dee1049e65 100644
--- a/src/test/org/codehaus/groovy/tools/stubgenerator/AnnotationMemberValuesResolutionV2StubsTest.groovy
+++ b/src/test/org/codehaus/groovy/tools/stubgenerator/AnnotationMemberValuesResolutionV2StubsTest.groovy
@@ -58,7 +58,8 @@ class AnnotationMemberValuesResolutionV2StubsTest extends StringSourcesStubTestC
 
     void verifyStubs() {
         classes['Bar4434V2'].with {
-            assert annotations[0].getProperty('val').toString() == 'baz.MyEnum4434V2'
+            // adjusted for GROOVY-4517
+            assert annotations[0].getProperty('val').toString() == 'baz.MyEnum4434V2.class'
         }
     }
 }
