diff --git a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
index 674f9c8025..c356e2c83d 100644
--- a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
+++ b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
@@ -915,7 +915,12 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         Expression collectionExpression;
         Parameter forParameter;
         if (isType(CLOSURE_LIST, inNode)) {
-            collectionExpression = closureListExpression(inNode);
+            ClosureListExpression clist =  closureListExpression(inNode);
+            int size = clist.getExpressions().size();
+            if (size!=3) {
+                throw new ASTRuntimeException(inNode, "3 expressions are required for the classic for loop, you gave "+size);
+            }
+            collectionExpression = clist;
             forParameter=ForStatement.FOR_LOOP_DUMMY;
         } else {        
             AST variableNode = inNode.getFirstChild();
@@ -1504,7 +1509,7 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         return null;
     }
     
-    private Expression closureListExpression(AST node) {
+    private ClosureListExpression closureListExpression(AST node) {
         AST exprNode = node.getFirstChild();
         LinkedList list = new LinkedList();
         while (exprNode!=null) {
diff --git a/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java b/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
index aabd50d0ed..695379212f 100644
--- a/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
+++ b/src/main/org/codehaus/groovy/classgen/VariableScopeVisitor.java
@@ -351,7 +351,7 @@ public class VariableScopeVisitor extends ClassCodeVisitorSupport {
         forLoop.setVariableScope(currentScope);
         Parameter p = (Parameter) forLoop.getVariable();
         p.setInStaticContext(currentScope.isInStaticContext());
-        declare(p, forLoop);        
+        if (p!=ForStatement.FOR_LOOP_DUMMY) declare(p, forLoop);        
         super.visitForLoop(forLoop);
         popState();
     }
diff --git a/src/test/groovy/ForLoopTest.groovy b/src/test/groovy/ForLoopTest.groovy
index 218a427ceb..c0e83cdc5a 100644
--- a/src/test/groovy/ForLoopTest.groovy
+++ b/src/test/groovy/ForLoopTest.groovy
@@ -110,4 +110,23 @@ class ForLoopTest extends GroovyTestCase {
         }
         assert answer == [1, 2, 3]
     }
+    
+    void testClassicFor() {
+       def sum = 0
+       for (int i=0; i<10; i++) {
+         sum++
+       }
+       assert sum==10
+    }
+    
+    void testClassicForNested() {
+       def sum = 0
+       for (int i=0; i<10; i++) {
+         for (int j=0; j<10; j++) {
+           sum++
+         }
+       }
+       assert sum==100
+    }
+
 }
