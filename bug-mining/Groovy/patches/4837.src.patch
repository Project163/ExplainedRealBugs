diff --git a/src/test/groovy/transform/stc/LambdaTest.groovy b/src/test/groovy/transform/stc/LambdaTest.groovy
index 1fc2833b5e..3ef762194e 100644
--- a/src/test/groovy/transform/stc/LambdaTest.groovy
+++ b/src/test/groovy/transform/stc/LambdaTest.groovy
@@ -87,6 +87,16 @@ final class LambdaTest {
         '''
     }
 
+    // GROOVY-11414
+    @Test
+    void testFunction5() {
+        def err = shouldFail shell, '''
+            def map = (Map<String, Long>) [:]
+            map.computeIfAbsent('key', (k) -> 1)
+        '''
+        assert err =~ /Cannot return value of type int for lambda expecting java.lang.Long/
+    }
+
     @Test
     void testBinaryOperator() {
         assertScript shell, '''
