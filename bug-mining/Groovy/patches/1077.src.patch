diff --git a/src/main/org/codehaus/groovy/classgen/Verifier.java b/src/main/org/codehaus/groovy/classgen/Verifier.java
index 8a4b6949c5..521c2bb384 100644
--- a/src/main/org/codehaus/groovy/classgen/Verifier.java
+++ b/src/main/org/codehaus/groovy/classgen/Verifier.java
@@ -426,19 +426,27 @@ public class Verifier implements GroovyClassVisitor, Opcodes {
 
     public void visitMethod(MethodNode node) {
         this.methodNode = node;
+        adjustTypesIfStaticMainMethod(node);
         addReturnIfNeeded(node);
         Statement statement;
+        statement = node.getCode();
+        if (statement!=null) statement.visit(new VerifierCodeVisitor(this));
+    }
+    
+    private void adjustTypesIfStaticMainMethod(MethodNode node) {
         if (node.getName().equals("main") && node.isStatic()) {
             Parameter[] params = node.getParameters();
             if (params.length == 1) {
                 Parameter param = params[0];
                 if (param.getType() == null || param.getType()==ClassHelper.OBJECT_TYPE) {
                     param.setType(ClassHelper.STRING_TYPE.makeArray());
+                    ClassNode returnType = node.getReturnType();
+                    if(returnType == ClassHelper.OBJECT_TYPE) {
+                        node.setReturnType(ClassHelper.VOID_TYPE);
+                    }
                 }
             }
         }
-        statement = node.getCode();
-        if (statement!=null) statement.visit(new VerifierCodeVisitor(this));
     }
 
     protected void addReturnIfNeeded(MethodNode node) {
diff --git a/src/test/groovy/bugs/Groovy3801Bug.groovy b/src/test/groovy/bugs/Groovy3801Bug.groovy
new file mode 100644
index 0000000000..cafc77b8cf
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy3801Bug.groovy
@@ -0,0 +1,35 @@
+package groovy.bugs
+
+class Groovy3801Bug extends GroovyTestCase {
+    void testMainMethodSignature() {
+        def gcl = new GroovyClassLoader()
+        def clazz
+
+        clazz = gcl.parseClass( """
+            class Groovy3801A {
+                static main(args) {}
+            }
+        """
+        )
+        def stdMainMethod = clazz.getMethods().find {it.name == 'main'}
+        assert stdMainMethod.returnType.toString().contains('void')
+
+        clazz = gcl.parseClass( """
+            class Groovy3801B {
+                static def main(args) {}
+            }
+        """
+        )
+        stdMainMethod = clazz.getMethods().find {it.name == 'main'}
+        assert stdMainMethod.returnType.toString().contains('void')
+
+        clazz = gcl.parseClass( """
+            class Groovy3801C {
+                static main() {}
+            }
+        """
+        )
+        def nonStdMainMethod = clazz.getMethods().find {it.name == 'main'}
+        assert nonStdMainMethod.returnType.toString().contains('java.lang.Object')
+    }
+}
