diff --git a/src/main/org/codehaus/groovy/transform/SynchronizedASTTransformation.java b/src/main/org/codehaus/groovy/transform/SynchronizedASTTransformation.java
index ecffec0f3c..8a37ed5167 100644
--- a/src/main/org/codehaus/groovy/transform/SynchronizedASTTransformation.java
+++ b/src/main/org/codehaus/groovy/transform/SynchronizedASTTransformation.java
@@ -49,7 +49,6 @@ public class SynchronizedASTTransformation extends AbstractASTTransformation {
     private static final String MY_TYPE_NAME = "@" + MY_TYPE.getNameWithoutPackage();
 
     public void visit(ASTNode[] nodes, SourceUnit source) {
-        init(nodes, source);
         init(nodes, source);
         AnnotatedNode parent = (AnnotatedNode) nodes[1];
         AnnotationNode node = (AnnotationNode) nodes[0];
@@ -60,6 +59,7 @@ public class SynchronizedASTTransformation extends AbstractASTTransformation {
             MethodNode mNode = (MethodNode) parent;
             ClassNode cNode = mNode.getDeclaringClass();
             String lockExpr = determineLock(value, cNode, mNode);
+            if (lockExpr == null) return;
             Statement origCode = mNode.getCode();
             Statement newCode = new SynchronizedStatement(varX(lockExpr), origCode);
             mNode.setCode(newCode);
@@ -71,10 +71,12 @@ public class SynchronizedASTTransformation extends AbstractASTTransformation {
         if (value != null && value.length() > 0 && !value.equalsIgnoreCase("$lock")) {
             if (cNode.getDeclaredField(value) == null) {
                 addError("Error during " + MY_TYPE_NAME + " processing: lock field with name '" + value + "' not found in class " + cNode.getName(), mNode);
+                return null;
             }
             FieldNode field = cNode.getDeclaredField(value);
             if (field.isStatic() != isStatic) {
                 addError("Error during " + MY_TYPE_NAME + " processing: lock field with name '" + value + "' should " + (isStatic ? "" : "not ") + "be static", field);
+                return null;
             }
             return value;
         }
diff --git a/src/test/org/codehaus/groovy/transform/SynchronizedTransformTest.groovy b/src/test/org/codehaus/groovy/transform/SynchronizedTransformTest.groovy
index d7024e89d8..92668627f6 100644
--- a/src/test/org/codehaus/groovy/transform/SynchronizedTransformTest.groovy
+++ b/src/test/org/codehaus/groovy/transform/SynchronizedTransformTest.groovy
@@ -19,7 +19,8 @@ import groovy.transform.CompileStatic
 import groovy.transform.Synchronized
 
 import java.util.concurrent.CountDownLatch
-import java.util.concurrent.TimeUnit
+
+import static java.util.concurrent.TimeUnit.SECONDS
 
 /**
  * @author Paul King
@@ -27,10 +28,10 @@ import java.util.concurrent.TimeUnit
  */
 class SynchronizedTransformTest extends GroovyTestCase {
 
-    def countReadyLatch = new CountDownLatch(1);
-    def testReadyLatch = new CountDownLatch(1);
-    CountDownLatch countReadyLatchCS = new CountDownLatch(1);
-    CountDownLatch testReadyLatchCS = new CountDownLatch(1);
+    def countReadyLatch = new CountDownLatch(1)
+    def testReadyLatch = new CountDownLatch(1)
+    CountDownLatch countReadyLatchCS = new CountDownLatch(1)
+    CountDownLatch testReadyLatchCS = new CountDownLatch(1)
 
     void testSynchronized() {
         def c = new Count()
@@ -38,7 +39,17 @@ class SynchronizedTransformTest extends GroovyTestCase {
             c.incDec()
         }
         testReadyLatch.countDown()
-        countReadyLatch.await(5, TimeUnit.SECONDS)
+        countReadyLatch.await(5, SECONDS)
+        c.incDec()
+    }
+
+    void testSynchronizedCustom() {
+        def c = new CountCustom()
+        Thread.start {
+            c.incDec()
+        }
+        testReadyLatch.countDown()
+        countReadyLatch.await(5, SECONDS)
         c.incDec()
     }
 
@@ -48,7 +59,7 @@ class SynchronizedTransformTest extends GroovyTestCase {
             c.incDec()
         }
         testReadyLatchCS.countDown()
-        countReadyLatchCS.await(5, TimeUnit.SECONDS)
+        countReadyLatchCS.await(5, SECONDS)
         c.incDec()
     }
 
@@ -59,7 +70,20 @@ class SynchronizedTransformTest extends GroovyTestCase {
         void incDec() {
             assert val == 0; val++; assert val == 1
             countReadyLatch.countDown()
-            testReadyLatch.await(5, TimeUnit.SECONDS)
+            testReadyLatch.await(5, SECONDS)
+            assert val == 1; val--; assert val == 0
+        }
+    }
+
+    class CountCustom {
+        private val = 0
+        private mylock = new Object[0]
+
+        @Synchronized('mylock')
+        void incDec() {
+            assert val == 0; val++; assert val == 1
+            countReadyLatch.countDown()
+            testReadyLatch.await(5, SECONDS)
             assert val == 1; val--; assert val == 0
         }
     }
@@ -72,7 +96,7 @@ class SynchronizedTransformTest extends GroovyTestCase {
         void incDec() {
             assert val == 0; val++; assert val == 1
             countReadyLatchCS.countDown()
-            testReadyLatchCS.await(5, TimeUnit.SECONDS)
+            testReadyLatchCS.await(5, SECONDS)
             assert val == 1; val--; assert val == 0
         }
     }
