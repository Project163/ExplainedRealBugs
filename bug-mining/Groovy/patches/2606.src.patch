diff --git a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
index 2f9242c3fe..a8268ceb06 100644
--- a/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
+++ b/src/main/org/codehaus/groovy/antlr/AntlrParserPlugin.java
@@ -166,12 +166,14 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
 
     private void outputASTInVariousFormsIfNeeded(SourceUnit sourceUnit, SourceBuffer sourceBuffer) {
         // straight xstream output of AST
-        if ("xml".equals(System.getProperty("antlr.ast"))) {
+        String formatProp = System.getProperty("ANTLR.AST".toLowerCase()); // uppercase to hide from jarjar
+
+        if ("xml".equals(formatProp)) {
             saveAsXML(sourceUnit.getName(), ast);
         }
 
         // 'pretty printer' output of AST
-        if ("groovy".equals(System.getProperty("antlr.ast"))) {
+        if ("groovy".equals(formatProp)) {
             try {
                 PrintStream out = new PrintStream(new FileOutputStream(sourceUnit.getName() + ".pretty.groovy"));
                 Visitor visitor = new SourcePrinter(out, tokenNames);
@@ -184,7 +186,7 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
 
         // output AST in format suitable for opening in http://freemind.sourceforge.net
         // which is a really nice way of seeing the AST, folding nodes etc
-        if ("mindmap".equals(System.getProperty("antlr.ast"))) {
+        if ("mindmap".equals(formatProp)) {
             try {
                 PrintStream out = new PrintStream(new FileOutputStream(sourceUnit.getName() + ".mm"));
                 Visitor visitor = new MindMapPrinter(out, tokenNames);
@@ -196,7 +198,7 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         }
 
         // include original line/col info and source code on the mindmap output
-        if ("extendedMindmap".equals(System.getProperty("antlr.ast"))) {
+        if ("extendedMindmap".equals(formatProp)) {
             try {
                 PrintStream out = new PrintStream(new FileOutputStream(sourceUnit.getName() + ".mm"));
                 Visitor visitor = new MindMapPrinter(out, tokenNames, sourceBuffer);
@@ -208,7 +210,7 @@ public class AntlrParserPlugin extends ASTHelper implements ParserPlugin, Groovy
         }
 
         // html output of AST
-        if ("html".equals(System.getProperty("antlr.ast"))) {
+        if ("html".equals(formatProp)) {
             try {
                 PrintStream out = new PrintStream(new FileOutputStream(sourceUnit.getName() + ".html"));
                 List<VisitorAdapter> v = new ArrayList<VisitorAdapter>();
diff --git a/src/main/org/codehaus/groovy/antlr/java/Java2GroovyProcessor.java b/src/main/org/codehaus/groovy/antlr/java/Java2GroovyProcessor.java
index a71211d142..cf07d5e2cf 100644
--- a/src/main/org/codehaus/groovy/antlr/java/Java2GroovyProcessor.java
+++ b/src/main/org/codehaus/groovy/antlr/java/Java2GroovyProcessor.java
@@ -63,7 +63,7 @@ public class Java2GroovyProcessor {
 
         // output AST in format suitable for opening in http://freemind.sourceforge.net
         // which is a really nice way of seeing the AST, folding nodes etc
-        if ("mindmap".equals(System.getProperty("antlr.ast"))) {
+        if ("mindmap".equals(System.getProperty("ANTLR.AST".toLowerCase()))) { // uppercase to hide from jarjar
             try {
                 PrintStream out = new PrintStream(new FileOutputStream(filename + ".mm"));
                 Visitor visitor = new MindMapPrinter(out, tokenNames);
