diff --git a/src/main/org/codehaus/groovy/ast/CodeVisitorSupport.java b/src/main/org/codehaus/groovy/ast/CodeVisitorSupport.java
index 3e8c25da18..7957ce36ca 100644
--- a/src/main/org/codehaus/groovy/ast/CodeVisitorSupport.java
+++ b/src/main/org/codehaus/groovy/ast/CodeVisitorSupport.java
@@ -71,6 +71,7 @@ import org.codehaus.groovy.ast.expr.PropertyExpression;
 import org.codehaus.groovy.ast.expr.RangeExpression;
 import org.codehaus.groovy.ast.expr.RegexExpression;
 import org.codehaus.groovy.ast.expr.StaticMethodCallExpression;
+import org.codehaus.groovy.ast.expr.TernaryExpression;
 import org.codehaus.groovy.ast.expr.TupleExpression;
 import org.codehaus.groovy.ast.expr.VariableExpression;
 import org.codehaus.groovy.ast.stmt.AssertStatement;
@@ -199,6 +200,12 @@ public abstract class CodeVisitorSupport implements GroovyCodeVisitor {
         expression.getRightExpression().visit(this);
     }
 
+    public void visitTernaryExpression(TernaryExpression expression) {
+        expression.getBooleanExpression().visit(this);
+        expression.getTrueExpression().visit(this);
+        expression.getFalseExpression().visit(this);
+    }
+
     public void visitPostfixExpression(PostfixExpression expression) {
         expression.getExpression().visit(this);
     }
diff --git a/src/main/org/codehaus/groovy/ast/GroovyCodeVisitor.java b/src/main/org/codehaus/groovy/ast/GroovyCodeVisitor.java
index 1da3f2eb11..fd79010982 100644
--- a/src/main/org/codehaus/groovy/ast/GroovyCodeVisitor.java
+++ b/src/main/org/codehaus/groovy/ast/GroovyCodeVisitor.java
@@ -79,12 +79,13 @@ public interface GroovyCodeVisitor {
     public void visitMethodCallExpression(MethodCallExpression call);
     public void visitStaticMethodCallExpression(StaticMethodCallExpression expression);
     public void visitConstructorCallExpression(ConstructorCallExpression expression);
+    public void visitTernaryExpression(TernaryExpression expression);
     public void visitBinaryExpression(BinaryExpression expression);
     public void visitPrefixExpression(PrefixExpression expression);
     public void visitPostfixExpression(PostfixExpression expression);
     public void visitBooleanExpression(BooleanExpression expression);
     public void visitClosureExpression(ClosureExpression expression);
-
+    
     public void visitTupleExpression(TupleExpression expression);
     public void visitMapExpression(MapExpression expression);
     public void visitMapEntryExpression(MapEntryExpression expression);
diff --git a/src/main/org/codehaus/groovy/ast/expr/TernaryExpression.java b/src/main/org/codehaus/groovy/ast/expr/TernaryExpression.java
new file mode 100644
index 0000000000..b6c82bb9bf
--- /dev/null
+++ b/src/main/org/codehaus/groovy/ast/expr/TernaryExpression.java
@@ -0,0 +1,106 @@
+/*
+ $Id$
+
+ Copyright 2003 (C) James Strachan and Bob Mcwhirter. All Rights Reserved.
+
+ Redistribution and use of this software and associated documentation
+ ("Software"), with or without modification, are permitted provided
+ that the following conditions are met:
+
+ 1. Redistributions of source code must retain copyright
+    statements and notices.  Redistributions must also contain a
+    copy of this document.
+
+ 2. Redistributions in binary form must reproduce the
+    above copyright notice, this list of conditions and the
+    following disclaimer in the documentation and/or other
+    materials provided with the distribution.
+
+ 3. The name "groovy" must not be used to endorse or promote
+    products derived from this Software without prior written
+    permission of The Codehaus.  For written permission,
+    please contact info@codehaus.org.
+
+ 4. Products derived from this Software may not be called "groovy"
+    nor may "groovy" appear in their names without prior written
+    permission of The Codehaus. "groovy" is a registered
+    trademark of The Codehaus.
+
+ 5. Due credit should be given to The Codehaus -
+    http://groovy.codehaus.org/
+
+ THIS SOFTWARE IS PROVIDED BY THE CODEHAUS AND CONTRIBUTORS
+ ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT
+ NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
+ FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
+ THE CODEHAUS OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
+ INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+ (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
+ SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
+ STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
+ ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
+ OF THE POSSIBILITY OF SUCH DAMAGE.
+
+ */
+package org.codehaus.groovy.ast.expr;
+
+import org.codehaus.groovy.ast.GroovyCodeVisitor;
+
+/**
+ * Represents a ternary expression (booleanExpression) ? expression : expression
+ * 
+ * @author <a href="mailto:james@coredevelopers.net">James Strachan</a>
+ * @version $Revision$
+ */
+public class TernaryExpression extends Expression {
+
+    private BooleanExpression booleanExpression;
+    private Expression trueExpression;
+    private Expression falseExpression;
+
+    public TernaryExpression(
+        BooleanExpression booleanExpression,
+        Expression trueExpression,
+        Expression falseExpression) {
+        this.booleanExpression = booleanExpression;
+        this.trueExpression = trueExpression;
+        this.falseExpression = falseExpression;
+    }
+    public void visit(GroovyCodeVisitor visitor) {
+        visitor.visitTernaryExpression(this);
+    }
+
+    public Expression transformExpression(ExpressionTransformer transformer) {
+        return new TernaryExpression(
+            (BooleanExpression) transformer.transform(booleanExpression),
+            transformer.transform(trueExpression),
+            transformer.transform(falseExpression));
+    }
+
+    public String toString() {
+        return super.toString() +"[" + booleanExpression + " ? " + trueExpression + " : " + falseExpression + "]";
+    }
+    
+    public BooleanExpression getBooleanExpression() {
+        return booleanExpression;
+    }
+
+    public Expression getFalseExpression() {
+        return falseExpression;
+    }
+
+    public Expression getTrueExpression() {
+        return trueExpression;
+    }
+
+    public String getText() {
+        return "("
+            + booleanExpression.getText()
+            + ") ? "
+            + trueExpression.getText()
+            + " : "
+            + falseExpression.getText();
+    }
+
+   }
diff --git a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
index 97ca9aed5d..4bdd16c1d5 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
@@ -84,6 +84,7 @@ import org.codehaus.groovy.ast.expr.PropertyExpression;
 import org.codehaus.groovy.ast.expr.RangeExpression;
 import org.codehaus.groovy.ast.expr.RegexExpression;
 import org.codehaus.groovy.ast.expr.StaticMethodCallExpression;
+import org.codehaus.groovy.ast.expr.TernaryExpression;
 import org.codehaus.groovy.ast.expr.TupleExpression;
 import org.codehaus.groovy.ast.expr.VariableExpression;
 import org.codehaus.groovy.ast.stmt.AssertStatement;
@@ -469,6 +470,23 @@ public class ClassGenerator extends CodeVisitorSupport implements GroovyClassVis
         cv.visitLabel(l1);
     }
 
+    public void visitTernaryExpression(TernaryExpression expression) {
+        onLineNumber(expression);
+
+        expression.getBooleanExpression().visit(this);
+
+        Label l0 = new Label();
+        cv.visitJumpInsn(IFEQ, l0);
+        expression.getTrueExpression().visit(this);
+
+        Label l1 = new Label();
+        cv.visitJumpInsn(GOTO, l1);
+        cv.visitLabel(l0);
+
+        expression.getFalseExpression().visit(this);
+        cv.visitLabel(l1);
+    }
+
     public void visitAssertStatement(AssertStatement statement) {
         onLineNumber(statement);
 
diff --git a/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java b/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
index 6d61a512fd..655a57fd24 100644
--- a/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
+++ b/src/main/org/codehaus/groovy/syntax/parser/ASTBuilder.java
@@ -679,10 +679,14 @@ public class ASTBuilder {
             case (Token.COMPARE_TO) :
             case (Token.LEFT_SQUARE_BRACKET) :
             case (Token.LEFT_SHIFT) :
-            case (Token.RIGHT_SHIFT) :
-                {
-                    return binaryExpression(expressionRoot);
-                }
+           case (Token.RIGHT_SHIFT) :
+            {
+                return binaryExpression(expressionRoot);
+            }
+           case (Token.QUESTION) :
+           {
+               return ternaryExpression(expressionRoot);
+           }
             case (Token.SYNTH_POSTFIX) :
                 {
                     return postfixExpression(expressionRoot);
@@ -1110,6 +1114,14 @@ public class ASTBuilder {
         return new BinaryExpression(lhsExpression, expressionRoot.getToken(), rhsExpression);
     }
 
+    protected TernaryExpression ternaryExpression(CSTNode expressionRoot) throws ParserException {
+        BooleanExpression booleanExpression = new BooleanExpression(expression(expressionRoot.getChild(0)));
+        Expression trueExpression = expression(expressionRoot.getChild(1));
+        Expression falseExpression = expression(expressionRoot.getChild(2));
+
+        return new TernaryExpression(booleanExpression, trueExpression, falseExpression);
+    }
+
     protected int modifiers(CSTNode modifiersRoot) {
         CSTNode[] modifierNodes = modifiersRoot.getChildren();
 
diff --git a/src/main/org/codehaus/groovy/syntax/parser/Parser.java b/src/main/org/codehaus/groovy/syntax/parser/Parser.java
index 01893d33bd..247e68f1ed 100644
--- a/src/main/org/codehaus/groovy/syntax/parser/Parser.java
+++ b/src/main/org/codehaus/groovy/syntax/parser/Parser.java
@@ -867,7 +867,7 @@ public class Parser {
     protected CSTNode assertStatement() throws IOException, SyntaxException {
         CSTNode statement = rootNode(Token.KEYWORD_ASSERT);
 
-        statement.addChild(conditionalExpression());
+        statement.addChild(ternaryExpression());
 
         if (lt() == Token.COLON) {
             consume(Token.COLON);
@@ -900,7 +900,7 @@ public class Parser {
             expr.addChild(typeExpr);
         }
         else {
-            expr = conditionalExpression();
+            expr = ternaryExpression();
         }
 
         switch (lt_bare()) {
@@ -913,7 +913,7 @@ public class Parser {
                 {
                     expr = rootNode(lt_bare(), expr);
                     optionalNewlines();
-                    expr.addChild(conditionalExpression());
+                    expr.addChild(ternaryExpression());
                     break;
                 }
         }
@@ -921,11 +921,11 @@ public class Parser {
         return expr;
     }
 
-    protected CSTNode conditionalExpression() throws IOException, SyntaxException {
+    protected CSTNode ternaryExpression() throws IOException, SyntaxException {
         CSTNode expr = logicalOrExpression();
 
         if (lt_bare() == Token.QUESTION) {
-            rootNode(Token.QUESTION, expr);
+            expr = rootNode(Token.QUESTION, expr);
             optionalNewlines();
             expr.addChild(assignmentExpression());
 
@@ -934,7 +934,7 @@ public class Parser {
             consume(Token.COLON);
 
             optionalNewlines();
-            expr.addChild(conditionalExpression());
+            expr.addChild(ternaryExpression());
         }
 
         return expr;
diff --git a/src/test/groovy/TernaryOperatorTest.groovy b/src/test/groovy/TernaryOperatorTest.groovy
new file mode 100644
index 0000000000..94ad0c1729
--- /dev/null
+++ b/src/test/groovy/TernaryOperatorTest.groovy
@@ -0,0 +1,24 @@
+class TernaryOperatorTest extends GroovyTestCase {
+
+	void testSimpleUse() {
+	    y = 5
+	    
+	    x = (y > 1) ? "worked" : "failed"
+		assert x == "worked"			
+					
+					
+		x = (y < 4) ? "failed" : "worked"
+		assert x == "worked"			
+	}
+	
+	void testUseInParameterCalling() {
+	    z = 123
+	    assertCalledWithFoo(z > 100 ? "foo" : "bar")
+	    assertCalledWithFoo(z < 100 ? "bar" : "foo")
+	   }
+	
+	assertCalledWithFoo(param) {
+	    println "called with param ${param}"
+	    assert param == "foo"
+	}
+}
diff --git a/src/test/org/codehaus/groovy/syntax/parser/ASTBuilderTest.java b/src/test/org/codehaus/groovy/syntax/parser/ASTBuilderTest.java
index e481c48f71..fcaa83b679 100644
--- a/src/test/org/codehaus/groovy/syntax/parser/ASTBuilderTest.java
+++ b/src/test/org/codehaus/groovy/syntax/parser/ASTBuilderTest.java
@@ -167,6 +167,20 @@ public class ASTBuilderTest extends TestParserSupport {
         System.out.println("expr: " + exp);
     }
 
+    public void testTernaryExpression() throws Exception {
+        ModuleNode module = parse("class Foo { void testMethod() { foo() ? 'a' : 'b' } }", "Dummy.groovy");
+        BlockStatement statement = getCode(module, "testMethod");
+
+        assertEquals("Statements size: " + statement.getStatements(), 1, statement.getStatements().size());
+
+        System.out.println(statement.getStatements());
+
+        ExpressionStatement exprStmt = (ExpressionStatement) statement.getStatements().get(0);
+        Expression exp = exprStmt.getExpression();
+
+        System.out.println("expr: " + exp);
+    }
+
     public void testArrayExpression() throws Exception {
         ModuleNode module = parse("class Foo { void testMethod() { foo = new String[] { 'a', 'b', 'c' }\n assert foo != null } }", "Dummy.groovy");
         BlockStatement statement = getCode(module, "testMethod");
