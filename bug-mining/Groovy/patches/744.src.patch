diff --git a/src/main/org/codehaus/groovy/classgen/Verifier.java b/src/main/org/codehaus/groovy/classgen/Verifier.java
index 7a3bd03e89..fe97b1ddcb 100644
--- a/src/main/org/codehaus/groovy/classgen/Verifier.java
+++ b/src/main/org/codehaus/groovy/classgen/Verifier.java
@@ -30,7 +30,6 @@ import org.objectweb.asm.Label;
 import org.objectweb.asm.MethodVisitor;
 import org.objectweb.asm.Opcodes;
 
-import java.lang.ref.SoftReference;
 import java.lang.reflect.Field;
 import java.lang.reflect.Modifier;
 import java.util.*;
@@ -559,7 +558,7 @@ public class Verifier implements GroovyClassVisitor, Opcodes {
             MethodNode getter =
                 new MethodNode(getterName, node.getModifiers(), node.getType(), Parameter.EMPTY_ARRAY, ClassNode.EMPTY_ARRAY, getterBlock);
             getter.setSynthetic(true);
-            classNode.addMethod(getter);
+            addPropertyMethod(getter);
             visitMethod(getter);
 
             if (ClassHelper.boolean_TYPE==node.getType() || ClassHelper.Boolean_TYPE==node.getType()) {
@@ -567,7 +566,7 @@ public class Verifier implements GroovyClassVisitor, Opcodes {
                 MethodNode secondGetter =
                     new MethodNode(secondGetterName, node.getModifiers(), node.getType(), Parameter.EMPTY_ARRAY, ClassNode.EMPTY_ARRAY, getterBlock);
                 secondGetter.setSynthetic(true);
-                classNode.addMethod(secondGetter);
+                addPropertyMethod(secondGetter);
                 visitMethod(secondGetter);
             }
         }
@@ -576,11 +575,15 @@ public class Verifier implements GroovyClassVisitor, Opcodes {
             MethodNode setter =
                 new MethodNode(setterName, node.getModifiers(), ClassHelper.VOID_TYPE, setterParameterTypes, ClassNode.EMPTY_ARRAY, setterBlock);
             setter.setSynthetic(true);
-            classNode.addMethod(setter);
+            addPropertyMethod(setter);
             visitMethod(setter);
         }
     }
 
+    protected void addPropertyMethod(MethodNode method) {
+    	classNode.addMethod(method);
+    }
+    
     // Implementation methods
     //-------------------------------------------------------------------------
     
diff --git a/src/main/org/codehaus/groovy/tools/javac/JavaAwareCompilationUnit.java b/src/main/org/codehaus/groovy/tools/javac/JavaAwareCompilationUnit.java
index 94f62c91d1..c7ee715c3b 100644
--- a/src/main/org/codehaus/groovy/tools/javac/JavaAwareCompilationUnit.java
+++ b/src/main/org/codehaus/groovy/tools/javac/JavaAwareCompilationUnit.java
@@ -20,6 +20,7 @@ import groovy.lang.GroovyClassLoader;
 
 import java.util.LinkedList;
 import java.util.Iterator;
+import java.util.Map;
 import java.io.File;
 import java.io.FileNotFoundException;
 
@@ -42,6 +43,7 @@ public class JavaAwareCompilationUnit extends CompilationUnit {
     private JavaStubGenerator stubGenerator;
     private JavaCompilerFactory compilerFactory = new JavacCompilerFactory();
     private File generationGoal;
+    private boolean keepStubs;
     
     public JavaAwareCompilationUnit(CompilerConfiguration configuration) {
         this(configuration,null);
@@ -50,9 +52,11 @@ public class JavaAwareCompilationUnit extends CompilationUnit {
     public JavaAwareCompilationUnit(CompilerConfiguration configuration, GroovyClassLoader groovyClassLoader) {
         super(configuration,null,groovyClassLoader);
         javaSources = new LinkedList();
-        generationGoal = (File) configuration.getJointCompilationOptions().get("stubDir");
+        Map options = configuration.getJointCompilationOptions();
+        generationGoal = (File) options.get("stubDir");
         boolean useJava5 = configuration.getTargetBytecode().equals(CompilerConfiguration.POST_JDK5);
         stubGenerator = new JavaStubGenerator(generationGoal,false,useJava5);
+        keepStubs = Boolean.TRUE.equals(options.get("keepStubs"));
         
         addPhaseOperation(new PrimaryClassNodeOperation() {
             public void call(SourceUnit source, GeneratorContext context, ClassNode node) throws CompilationFailedException {
@@ -84,7 +88,7 @@ public class JavaAwareCompilationUnit extends CompilationUnit {
                 JavaCompiler compiler = compilerFactory.createCompiler(getConfiguration());
                 compiler.compile(javaSources, this);
             } finally {
-                stubGenerator.clean();
+                if (!keepStubs) stubGenerator.clean(); 
                 javaSources.clear();
             }
         }
diff --git a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
index bc7c9dc6f2..2caf623f80 100644
--- a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
+++ b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
@@ -37,6 +37,7 @@ public class JavaStubGenerator
     private boolean requireSuperResolved = false;
     private File outputPath;
     private List toCompile = new ArrayList();
+    private ArrayList propertyMethods = new ArrayList();
 
     public JavaStubGenerator(final File outputPath, final boolean requireSuperResolved, final boolean java5) {
         this.outputPath = outputPath;
@@ -72,8 +73,10 @@ public class JavaStubGenerator
         Verifier verifier = new Verifier() {
             public void addCovariantMethods(ClassNode cn) {}
             protected void addTimeStamp(ClassNode node) {}
-            protected void addInitialization(ClassNode node) {}
-            public void visitProperty(PropertyNode node) {}            
+            protected void addInitialization(ClassNode node) {}   
+            protected void addPropertyMethod(MethodNode method) {
+            	propertyMethods.add(method);
+            }
         };
         verifier.visitClass(classNode);
         
@@ -126,10 +129,10 @@ public class JavaStubGenerator
 
             genFields(classNode, out, isEnum);
             genMethods(classNode, out, isEnum);
-            genProps(classNode, out);
 
             out.println("}");
         } finally {
+        	propertyMethods.clear();
             try {
                 out.close();
             } catch (Exception e) {
@@ -146,7 +149,8 @@ public class JavaStubGenerator
     private void genMethods(ClassNode classNode, PrintWriter out, boolean isEnum) {
         if (!isEnum) getConstructors(classNode, out);
 
-        List methods = classNode.getMethods();
+        List methods = (List) propertyMethods.clone();
+        methods.addAll(classNode.getMethods());
         if (methods != null)
             for (Iterator it = methods.iterator(); it.hasNext();) {
                 MethodNode methodNode = (MethodNode) it.next();
@@ -197,65 +201,6 @@ public class JavaStubGenerator
         } 
     }
 
-    private void genProps(ClassNode classNode, PrintWriter out) {
-        List props = classNode.getProperties();
-        if (props != null)
-            for (Iterator it = props.iterator(); it.hasNext();) {
-                PropertyNode propNode = (PropertyNode) it.next();
-                genProp(propNode, out);
-            }
-    }
-
-    private void genProp(PropertyNode propNode, PrintWriter out) {
-        String name = propNode.getName().substring(0, 1).toUpperCase()
-                + propNode.getName().substring(1);
-
-        String getterName = "get" + name;
-
-        boolean skipGetter = false;
-        List getterCandidates = propNode.getField().getOwner().getMethods(getterName);
-        if (getterCandidates != null)
-            for (Iterator it = getterCandidates.iterator(); it.hasNext();) {
-                MethodNode method = (MethodNode) it.next();
-                if (method.getParameters().length == 0) {
-                    skipGetter = true;
-                }
-            }
-
-        if (!skipGetter) {
-            printModifiers(out, propNode.getModifiers());
-
-            printType(propNode.getType(), out);
-            out.print(" ");
-            out.print(getterName);
-            out.print("() { ");
-
-            printReturn(out, propNode.getType());
-
-            out.println(" }");
-        }
-
-        String setterName = "set" + name;
-
-        boolean skipSetter = false;
-        List setterCandidates = propNode.getField().getOwner().getMethods( setterName);
-        if (setterCandidates != null)
-            for (Iterator it = setterCandidates.iterator(); it.hasNext();) {
-                MethodNode method = (MethodNode) it.next();
-                if (method.getParameters().length == 1) {
-                    skipSetter = true;
-                }
-            }
-
-        if (!skipSetter) {
-            printModifiers(out, propNode.getModifiers());
-            out.print("void ");
-            out.print(setterName);
-            out.print("(");
-            printType(propNode.getType(), out);
-            out.println(" value) {}");
-        }
-    }
     
     private void genEnumFields(List fields, PrintWriter out) {
         if (fields.size()==0) return;
