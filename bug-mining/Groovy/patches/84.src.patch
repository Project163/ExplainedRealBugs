diff --git a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
index 38ab368e43..d6e1067e5f 100644
--- a/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
+++ b/src/main/org/codehaus/groovy/classgen/ClassGenerator.java
@@ -1365,7 +1365,12 @@ public class ClassGenerator extends CodeVisitorSupport implements GroovyClassVis
             Expression argExp = argListExp.getExpression(i);
             Parameter param = parameters[i];
             visitAndAutobox(argExp);
-            doConvertAndCast(param.getType(), argExp);
+            
+            String type = param.getType();
+            if (helper.isPrimitiveType(type)) {
+                helper.unbox(type);
+            }
+            doConvertAndCast(type, argExp);
         }
     }
 
diff --git a/src/test/groovy/bugs/Groovy278_Bug.groovy b/src/test/groovy/bugs/Groovy278_Bug.groovy
new file mode 100644
index 0000000000..847e3cd0cf
--- /dev/null
+++ b/src/test/groovy/bugs/Groovy278_Bug.groovy
@@ -0,0 +1,21 @@
+package groovy.bugs
+
+/**
+ * @author John Wilson
+ * @version $Revision$
+ */
+class Groovy278_Bug extends GroovyTestCase {
+    
+    void testBug() {
+        value = new MyRange()
+        println value
+        assert value != null
+    }
+}
+
+
+class MyRange extends IntRange {
+    MyRange() {
+        super(1, 2)
+    }
+}
\ No newline at end of file
diff --git a/src/test/org/codehaus/groovy/classgen/RunBugsTest.java b/src/test/org/codehaus/groovy/classgen/RunBugsTest.java
index 70d080fbc6..07b338dadc 100644
--- a/src/test/org/codehaus/groovy/classgen/RunBugsTest.java
+++ b/src/test/org/codehaus/groovy/classgen/RunBugsTest.java
@@ -135,11 +135,15 @@ public class RunBugsTest extends TestSupport {
         GroovyObject object = compile("src/test/groovy/bugs/ByteIndexBug.groovy");
         object.invokeMethod("testBug", null);
     }
+    public void testGroovy252_Bug() throws Exception {
+        GroovyObject object = compile("src/test/groovy/bugs/Groovy252_Bug.groovy");
+        object.invokeMethod("testBug", null);
+    }
     
     */
         
-    public void testGroovy252_Bug() throws Exception {
-        GroovyObject object = compile("src/test/groovy/bugs/Groovy252_Bug.groovy");
+    public void testGroovy278_Bug() throws Exception {
+        GroovyObject object = compile("src/test/groovy/bugs/Groovy278_Bug.groovy");
         object.invokeMethod("testBug", null);
     }
     
