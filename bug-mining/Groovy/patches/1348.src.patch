diff --git a/src/main/org/codehaus/groovy/classgen/ReturnAdder.java b/src/main/org/codehaus/groovy/classgen/ReturnAdder.java
index 078beb8d1d..923dca7a38 100644
--- a/src/main/org/codehaus/groovy/classgen/ReturnAdder.java
+++ b/src/main/org/codehaus/groovy/classgen/ReturnAdder.java
@@ -38,7 +38,10 @@ public class ReturnAdder {
         else if (!node.isAbstract()) {
             if (!(statement instanceof BytecodeSequence)) {
                 BlockStatement newBlock = new BlockStatement();
-                newBlock.setVariableScope(node.getVariableScope());
+                Statement code = node.getCode();
+                if (code instanceof BlockStatement) {
+                    newBlock.setVariableScope(((BlockStatement) code).getVariableScope());
+                }
                 if (statement instanceof BlockStatement) {
                     newBlock.addStatements(((BlockStatement)statement).getStatements());
                 } else {
