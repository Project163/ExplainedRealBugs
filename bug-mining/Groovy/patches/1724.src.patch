diff --git a/build.xml b/build.xml
index 9c615a320c..8c940a7024 100644
--- a/build.xml
+++ b/build.xml
@@ -771,7 +771,7 @@ $Date$
 
     <target name="-docInit">
         <mkdir dir="${docsDirectory}"/>
-        <property name="docFooter" value="Copyright &amp;copy; 2003-2011 The Codehaus. All rights reserved."/>
+        <property name="docFooter" value="Copyright &amp;copy; 2003-2012 The Codehaus. All rights reserved."/>
         <property name="title" value="Groovy ${groovyVersion}"/>
     </target>
 
@@ -796,10 +796,10 @@ $Date$
             <fileset dir="${jmxSourceDirectory}/main/java" includes="**/*.java"/>
             <fileset dir="${jsr223SourceDirectory}/main/java" includes="**/*.java"/>
             <fileset dir="${groovyTestSourceDirectory}/main/java" includes="**/*.java"/>
-            <link href="http://java.sun.com/javase/6/docs/api"/>
-            <link href="http://www.dpml.net/api/ant/1.7.0"/>
-            <link href="http://junit.sourceforge.net/junit3.8.1/javadoc"/>
-            <link href="http://java.sun.com/j2ee/1.4/docs/api"/>
+            <link href="http://docs.oracle.com/javase/6/docs/api/"/>
+            <link href="http://evgeny-goldin.org/javadoc/ant/api/"/>
+            <link href="http://kentbeck.github.com/junit/javadoc/latest/"/>
+            <link href="http://docs.oracle.com/javaee/6/api/"/>
             <link href="http://www.antlr2.org/javadoc"/>
             <link href="http://commons.apache.org/cli/api-release"/>
         </javadoc>
@@ -835,10 +835,10 @@ $Date$
                 header="${title}"
                 footer="${docFooter}"
                 overview="src/main/overview.html">
-            <link packages="javax.servlet.,javax.management." href="http://java.sun.com/j2ee/1.4/docs/api"/>
-            <link packages="java.,org.xml.,javax.,org.xml." href="http://java.sun.com/javase/6/docs/api"/>
-            <link packages="org.apache.ant.,org.apache.tools.ant." href="http://www.dpml.net/api/ant/1.7.0"/>
-            <link packages="org.junit.,junit." href="http://junit.sourceforge.net/junit3.8.1/javadoc"/>
+            <link packages="javax.servlet.,javax.management." href="http://docs.oracle.com/javaee/6/api/"/>
+            <link packages="java.,org.xml.,javax.,org.w3c." href="http://docs.oracle.com/javase/6/docs/api/"/>
+            <link packages="org.apache.ant.,org.apache.tools.ant." href="http://evgeny-goldin.org/javadoc/ant/api/"/>
+            <link packages="org.junit.,junit." href="http://kentbeck.github.com/junit/javadoc/latest/"/>
             <link packages="org.apache.commons.cli." href="http://commons.apache.org/cli/api-release"/>
             <link packages="antlr." href="http://www.antlr2.org/javadoc"/>
         </groovydoc>
diff --git a/gradle/docs.gradle b/gradle/docs.gradle
index 2012db8ed0..0ee98ec817 100644
--- a/gradle/docs.gradle
+++ b/gradle/docs.gradle
@@ -1,5 +1,5 @@
 task doc(dependsOn: [javadoc, groovydoc, 'docGDK']) {
-    footer = "Copyright &amp;copy; 2003-2011 The Codehaus. All rights reserved."
+    footer = "Copyright &amp;copy; 2003-2012 The Codehaus. All rights reserved."
     title = "Groovy ${groovyVersion}"
 }
 
@@ -14,9 +14,9 @@ javadoc {
         overview = "src/main/overview.html"
         footer = doc.footer
         source = "1.5"
-        links("http://java.sun.com/javase/6/docs/api", "http://www.dpml.net/api/ant/1.7.0",
-                "http://commons.apache.org/cli/api-release", "http://junit.sourceforge.net/junit3.8.1/javadoc",
-                "http://java.sun.com/j2ee/1.4/docs/api", "http://www.antlr2.org/javadoc")
+        links("http://docs.oracle.com/javase/6/docs/api/", "http://evgeny-goldin.org/javadoc/ant/api/",
+                "http://commons.apache.org/cli/api-release", "http://kentbeck.github.com/junit/javadoc/latest/",
+                "http://docs.oracle.com/javaee/6/api/", "http://www.antlr2.org/javadoc")
     }
 }
 
@@ -30,10 +30,10 @@ groovydoc {
     footer = doc.footer
     overview = file("src/main/overview.html")
     includePrivate = false
-    link "http://java.sun.com/j2ee/1.4/docs/api", "javax.servlet.", "javax.management."
-    link "http://java.sun.com/javase/6/docs/api", "java.", "org.xml.", "javax.", "org.xml."
-    link "http://www.dpml.net/api/ant/1.7.0", "org.apache.ant.", "org.apache.tools.ant."
-    link "http://junit.sourceforge.net/junit3.8.1/javadoc", "org.junit.", "junit."
+    link "http://docs.oracle.com/javaee/6/api/", "javax.servlet.", "javax.management."
+    link "http://docs.oracle.com/javase/6/docs/api/", "java.", "org.xml.", "javax.", "org.w3c."
+    link "http://evgeny-goldin.org/javadoc/ant/api/", "org.apache.ant.", "org.apache.tools.ant."
+    link "http://kentbeck.github.com/junit/javadoc/latest/", "org.junit.", "junit."
     link "http://www.antlr2.org/javadoc", "antlr."
     link "http://commons.apache.org/cli/api-release", "org.apache.commons.cli."
 }
@@ -69,4 +69,3 @@ task docGDK {
         }
     }
 }
-
diff --git a/src/main/groovy/beans/BindableASTTransformation.java b/src/main/groovy/beans/BindableASTTransformation.java
index 13452eace2..75a2bb75f3 100644
--- a/src/main/groovy/beans/BindableASTTransformation.java
+++ b/src/main/groovy/beans/BindableASTTransformation.java
@@ -1,5 +1,5 @@
 /*
- * Copyright 2008-2009 the original author or authors.
+ * Copyright 2008-2012 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -267,9 +267,9 @@ public class BindableASTTransformation implements ASTTransformation, Opcodes {
 
     /**
      * Snoops through the declaring class and all parents looking for methods
-     * void addPropertyChangeListener(PropertyChangeListener),
-     * void removePropertyChangeListener(PropertyChangeListener), and
-     * void firePropertyChange(String, Object, Object).  If any are defined all
+     * <code>void addPropertyChangeListener(PropertyChangeListener)</code>,
+     * <code>void removePropertyChangeListener(PropertyChangeListener)</code>, and
+     * <code>void firePropertyChange(String, Object, Object)</code>. If any are defined all
      * must be defined or a compilation error results.
      *
      * @param declaringClass the class to search
@@ -316,14 +316,18 @@ public class BindableASTTransformation implements ASTTransformation, Opcodes {
      * Adds the necessary field and methods to support property change support.
      * <p/>
      * Adds a new field:
+     * <pre>
      * <code>protected final java.beans.PropertyChangeSupport this$PropertyChangeSupport = new java.beans.PropertyChangeSupport(this)</code>"
+     * </pre>
      * <p/>
      * Also adds support methods:
+     * <pre>
      * <code>public void addPropertyChangeListener(java.beans.PropertyChangeListener)</code>
      * <code>public void addPropertyChangeListener(String, java.beans.PropertyChangeListener)</code>
      * <code>public void removePropertyChangeListener(java.beans.PropertyChangeListener)</code>
      * <code>public void removePropertyChangeListener(String, java.beans.PropertyChangeListener)</code>
      * <code>public java.beans.PropertyChangeListener[] getPropertyChangeListeners()</code>
+     * </pre>
      *
      * @param declaringClass the class to which we add the support field and methods
      */
diff --git a/src/main/groovy/grape/GrapeEngine.java b/src/main/groovy/grape/GrapeEngine.java
index e5cfcd8cb9..bcedae95bc 100644
--- a/src/main/groovy/grape/GrapeEngine.java
+++ b/src/main/groovy/grape/GrapeEngine.java
@@ -1,5 +1,5 @@
 /*
- * Copyright 2008 the original author or authors.
+ * Copyright 2008-2012 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -20,9 +20,7 @@ import java.util.Map;
 import java.net.URI;
 
 /**
- * User: Danno.Ferrin
- * Date: Sep 30, 2008
- * Time: 9:30:46 PM
+ * @author Danno Ferrin
  */
 public interface GrapeEngine {
 
diff --git a/src/main/org/codehaus/groovy/tools/groovydoc/GroovyRootDocBuilder.java b/src/main/org/codehaus/groovy/tools/groovydoc/GroovyRootDocBuilder.java
index 2bf7617117..7682b84778 100644
--- a/src/main/org/codehaus/groovy/tools/groovydoc/GroovyRootDocBuilder.java
+++ b/src/main/org/codehaus/groovy/tools/groovydoc/GroovyRootDocBuilder.java
@@ -1,5 +1,5 @@
 /*
- * Copyright 2003-2009 the original author or authors.
+ * Copyright 2003-2012 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -39,9 +39,12 @@ import java.io.File;
 import java.io.IOException;
 import java.io.StringReader;
 import java.util.*;
-import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
+import static org.codehaus.groovy.tools.groovydoc.SimpleGroovyClassDoc.LINK_REGEX;
+import static org.codehaus.groovy.tools.groovydoc.SimpleGroovyClassDoc.TAG_REGEX;
+import static org.codehaus.groovy.tools.groovydoc.SimpleGroovyClassDoc.CODE_REGEX;
+
 /*
  *  todo: order methods alphabetically (implement compareTo enough?)
  */
@@ -229,11 +232,15 @@ public class GroovyRootDocBuilder {
     }
 
     /* package private */ void processPackageInfo(String src, String filename, SimpleGroovyPackageDoc packageDoc) {
-        String description = calcThenSetPackageDescription(src, filename, packageDoc);
-        calcThenSetSummary(description, packageDoc);
+        String relPath = packageDoc.getRelativeRootPath();
+        String description = calcThenSetPackageDescription(src, filename, relPath);
+        packageDoc.setDescription(description);
+        // get same description but with paths relative to root
+        String altDescription = calcThenSetPackageDescription(src, filename, "");
+        calcThenSetSummary(altDescription, packageDoc);
     }
 
-    private String calcThenSetPackageDescription(String src, String filename, SimpleGroovyPackageDoc packageDoc) {
+    private String calcThenSetPackageDescription(String src, String filename, String relPath) {
         String description;
         if (filename.endsWith(".html")) {
             description = scrubOffExcessiveTags(src);
@@ -242,49 +249,30 @@ public class GroovyRootDocBuilder {
         } else {
             description = trimPackageAndComments(src);
         }
-        description = replaceTags(description, packageDoc);
-        packageDoc.setDescription(description);
+        description = replaceTags(description, relPath);
         return description;
     }
 
     // TODO remove dup with SimpleGroovyClassDoc
-    private String replaceTags(String orig, SimpleGroovyPackageDoc packageDoc) {
+    private String replaceTags(String orig, String relPath) {
         String result = orig.replaceAll("(?m)^\\s*\\*", ""); // todo precompile regex
 
         // {@link processing hack}
-        result = replaceAllTags(result, "", "", SimpleGroovyClassDoc.LINK_REGEX, packageDoc);
+        result = replaceAllTags(result, "", "", LINK_REGEX, relPath);
 
         // {@code processing hack}
-        result = replaceAllTags(result, "<TT>", "</TT>", SimpleGroovyClassDoc.CODE_REGEX, packageDoc);
+        result = replaceAllTags(result, "<TT>", "</TT>", CODE_REGEX, relPath);
 
         // hack to reformat other groovydoc block tags (@see, @return, @param, @throws, @author, @since) into html
-        result = replaceAllTags(result + "@endMarker", "<DL><DT><B>$1:</B></DT><DD>", "</DD></DL>", SimpleGroovyClassDoc.TAG_REGEX, packageDoc);
+        result = replaceAllTags(result + "@endMarker", "<DL><DT><B>$1:</B></DT><DD>", "</DD></DL>", TAG_REGEX, relPath);
         // remove @endMarker
         result = result.substring(0, result.length() - 10);
 
         return SimpleGroovyClassDoc.decodeSpecialSymbols(result);
     }
 
-    // TODO remove dup with SimpleGroovyClassDoc
-    private String replaceAllTags(String self, String s1, String s2, Pattern regex, SimpleGroovyPackageDoc packageDoc) {
-        Matcher matcher = regex.matcher(self);
-        if (matcher.find()) {
-            matcher.reset();
-            StringBuffer sb = new StringBuffer();
-            while (matcher.find()) {
-                String tagname = matcher.group(1);
-                if (tagname.equals("see") || tagname.equals("link")) {
-                    matcher.appendReplacement(sb, s1 + SimpleGroovyClassDoc.getDocUrl(
-                            SimpleGroovyClassDoc.encodeSpecialSymbols(matcher.group(2)), false, links, packageDoc.getRelativeRootPath(), rootDoc, null) + s2);
-                } else if (!tagname.equals("interface")) {
-                    matcher.appendReplacement(sb, s1 + SimpleGroovyClassDoc.encodeSpecialSymbols(matcher.group(2)) + s2);
-                }
-            }
-            matcher.appendTail(sb);
-            return sb.toString();
-        } else {
-            return self;
-        }
+    private String replaceAllTags(String self, String s1, String s2, Pattern regex, String relPath) {
+        return SimpleGroovyClassDoc.replaceAllTags(self, s1, s2, regex, links, relPath, rootDoc, null);
     }
 
     private void calcThenSetSummary(String src, SimpleGroovyPackageDoc packageDoc) {
diff --git a/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDoc.java b/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDoc.java
index a69da8098c..0b174ec831 100644
--- a/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDoc.java
+++ b/src/main/org/codehaus/groovy/tools/groovydoc/SimpleGroovyClassDoc.java
@@ -1,5 +1,5 @@
 /*
- * Copyright 2003-2010 the original author or authors.
+ * Copyright 2003-2012 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -191,7 +191,7 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
 
     public String getRelativeRootPath() {
         StringTokenizer tokenizer = new StringTokenizer(fullPathName, "/"); // todo windows??
-        StringBuffer sb = new StringBuffer();
+        StringBuilder sb = new StringBuilder();
         if (tokenizer.hasMoreTokens()) {
             tokenizer.nextToken(); // ignore the first token, as we want n-1 parent dirs
         }
@@ -354,7 +354,7 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
     }
 
     private static String resolveMethodArgs(GroovyRootDoc rootDoc, SimpleGroovyClassDoc classDoc, String type) {
-        if (type.indexOf("(") < 0) return type;
+        if (!type.contains("(")) return type;
         Matcher m = NAME_ARGS_REGEX.matcher(type);
         if (m.matches()) {
             String name = m.group(1);
@@ -437,7 +437,7 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
     }
 
     private static String buildUrl(String relativeRoot, String[] target, String shortClassName) {
-        if (!relativeRoot.endsWith("/")) {
+        if (!relativeRoot.isEmpty() && !relativeRoot.endsWith("/")) {
             relativeRoot += "/";
         }
         String url = relativeRoot + target[0].replace('.', '/').replace('$', '.') + ".html" + (target.length > 1 ? "#" + target[1] : "");
@@ -470,7 +470,7 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
 
         // The class is not in the tree being documented
         String shortname = name;
-        Class c = null;
+        Class c;
         if (slashIndex > 0) {
             shortname = name.substring(slashIndex + 1);
             c = resolveExternalFullyQualifiedClass(name);
@@ -705,18 +705,22 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
         return decodeSpecialSymbols(result);
     }
 
-    // TODO: this should go away once we have proper tags
     public String replaceAllTags(String self, String s1, String s2, Pattern regex) {
+        return replaceAllTags(self, s1, s2, regex, links, getRelativeRootPath(), savedRootDoc, this);
+    }
+
+    // TODO: this should go away once we have proper tags
+    public static String replaceAllTags(String self, String s1, String s2, Pattern regex, List<LinkArgument> links, String relPath, GroovyRootDoc rootDoc, SimpleGroovyClassDoc classDoc) {
         Matcher matcher = regex.matcher(self);
         if (matcher.find()) {
             matcher.reset();
             StringBuffer sb = new StringBuffer();
             while (matcher.find()) {
                 String tagname = matcher.group(1);
-                if (!tagname.equals("interface")) {
+                if (!"interface".equals(tagname)) {
                     String content = encodeSpecialSymbols(matcher.group(2));
-                    if (tagname.equals("link")) {
-                        content = getDocUrl(content);
+                    if ("link".equals(tagname) || "see".equals(tagname)) {
+                        content = getDocUrl(content, false, links, relPath, rootDoc, classDoc);
                     }
                     matcher.appendReplacement(sb, s1 + content + s2);
                 }
@@ -738,9 +742,9 @@ public class SimpleGroovyClassDoc extends SimpleGroovyAbstractableElementDoc imp
             StringBuffer sb = new StringBuffer();
             while (matcher.find()) {
                 String tagname = matcher.group(1);
-                if (!tagname.equals("interface")) {
+                if (!"interface".equals(tagname)) {
                     String content = encodeSpecialSymbols(matcher.group(2));
-                    if ("see".equals(tagname)) {
+                    if ("see".equals(tagname) || "link".equals(tagname)) {
                         content = getDocUrl(content);
                     } else if ("param".equals(tagname)) {
                         int index = content.indexOf(" ");
