diff --git a/subprojects/groovy-templates/src/main/java/groovy/text/GStringTemplateEngine.java b/subprojects/groovy-templates/src/main/java/groovy/text/GStringTemplateEngine.java
index e4f5927239..d6d6e0a4e5 100644
--- a/subprojects/groovy-templates/src/main/java/groovy/text/GStringTemplateEngine.java
+++ b/subprojects/groovy-templates/src/main/java/groovy/text/GStringTemplateEngine.java
@@ -22,6 +22,7 @@ import java.io.Reader;
 import java.security.AccessController;
 import java.security.PrivilegedAction;
 import java.util.Map;
+import java.util.concurrent.atomic.AtomicInteger;
 
 import org.codehaus.groovy.control.CompilationFailedException;
 
@@ -88,7 +89,7 @@ import org.codehaus.groovy.control.CompilationFailedException;
  */
 public class GStringTemplateEngine extends TemplateEngine {
     private final ClassLoader parentLoader;
-    private static int counter = 1;
+    private static AtomicInteger counter = new AtomicInteger();
 
     public GStringTemplateEngine() {
         this(GStringTemplate.class.getClassLoader());
@@ -129,7 +130,7 @@ public class GStringTemplateEngine extends TemplateEngine {
          * @throws IOException
          */
         GStringTemplate(final Reader reader, final ClassLoader parentLoader) throws CompilationFailedException, ClassNotFoundException, IOException {
-            final StringBuilder templateExpressions = new StringBuilder("package groovy.tmp.templates\n def getTemplate() { return { out -> delegate = new Binding(delegate); out << \"\"\"");
+            final StringBuilder templateExpressions = new StringBuilder("package groovy.tmp.templates\n def getTemplate() { return { out -> out << \"\"\"");
             boolean writingString = true;
 
             while (true) {
@@ -175,7 +176,7 @@ public class GStringTemplateEngine extends TemplateEngine {
                 templateExpressions.append("\"\"\"");
             }
 
-            templateExpressions.append("}.asWritable()}");
+            templateExpressions.append("}}");
 
             final GroovyClassLoader loader = parentLoader instanceof GroovyClassLoader?(GroovyClassLoader)parentLoader:(
                     (GroovyClassLoader) AccessController.doPrivileged(new PrivilegedAction() {
@@ -185,15 +186,19 @@ public class GStringTemplateEngine extends TemplateEngine {
                     }));
             final Class groovyClass;
             try {
-                groovyClass = loader.parseClass(new GroovyCodeSource(templateExpressions.toString(), "GStringTemplateScript" + counter++ + ".groovy", "x"));
+                groovyClass = loader.parseClass(new GroovyCodeSource(templateExpressions.toString(), "GStringTemplateScript" + counter.incrementAndGet() + ".groovy", "x"));
             } catch (Exception e) {
                 throw new GroovyRuntimeException("Failed to parse template script (your template may contain an error or be trying to use expressions not currently supported): " + e.getMessage());
             }
 
             try {
-                final GroovyObject object = (GroovyObject) groovyClass.newInstance();
+                final GroovyObject script = (GroovyObject) groovyClass.newInstance();
 
-                this.template = (Closure) object.invokeMethod("getTemplate", null);
+                this.template = (Closure) script.invokeMethod("getTemplate", null);
+                // GROOVY-6521: must set strategy to DELEGATE_FIRST, otherwise writing
+                // books = 'foo' in a template would store 'books' in the binding of the template script itself ("script")
+                // instead of storing it in the delegate, which is a Binding too
+                this.template.setResolveStrategy(Closure.DELEGATE_FIRST);
             } catch (InstantiationException e) {
                 throw new ClassNotFoundException(e.getMessage());
             } catch (IllegalAccessException e) {
@@ -296,8 +301,9 @@ public class GStringTemplateEngine extends TemplateEngine {
         }
 
         public Writable make(final Map map) {
-            final Closure template = (Closure) this.template.clone();
-            template.setDelegate(map);
+            final Closure template = ((Closure) this.template.clone()).asWritable();
+            Binding binding = new Binding(map);
+            template.setDelegate(binding);
             return (Writable) template;
         }
     }
diff --git a/subprojects/groovy-templates/src/test/groovy/groovy/SimpleGStringTemplateEngineTest.groovy b/subprojects/groovy-templates/src/test/groovy/groovy/SimpleGStringTemplateEngineTest.groovy
index 32cc46cf0e..cf6443f809 100644
--- a/subprojects/groovy-templates/src/test/groovy/groovy/SimpleGStringTemplateEngineTest.groovy
+++ b/subprojects/groovy-templates/src/test/groovy/groovy/SimpleGStringTemplateEngineTest.groovy
@@ -20,4 +20,27 @@ public class SimpleGStringTemplateEngineTest extends GroovyTestCase
     template.make().writeTo(sw);
     assertEquals("\nHello World!", sw.toString());
   }
+
+    void testShouldNotShareBinding() {
+        String text = "<% println delegate.books; books = books.split(\",\"); out << books %>";
+
+        StringWriter sw = new StringWriter();
+        GStringTemplateEngine engine = new GStringTemplateEngine();
+
+        Template template = engine.createTemplate(text);
+
+        Map data = [books: 'a,b,c,d']
+
+
+        // round one sucess
+        template.make(data).writeTo(sw);
+        assert sw.toString() == '[a, b, c, d]'
+
+        sw = new StringWriter();
+        // round two fails
+        data = [books: 'e,f,g,h']
+        template.make(data).writeTo(sw);
+        assert sw.toString() == '[e, f, g, h]'
+
+    }
 }
