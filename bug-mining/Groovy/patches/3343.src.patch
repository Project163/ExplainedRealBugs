diff --git a/gradle/publish.gradle b/gradle/publish.gradle
index e825e643e0..3f9c4c5aad 100644
--- a/gradle/publish.gradle
+++ b/gradle/publish.gradle
@@ -84,8 +84,10 @@ artifactoryPublish {
                 }
             }
         }
+        deployDetails.add(makeTransformedPomDetails(name: 'groovy-all'))
 
         if (isReleaseVersion) {
+            deployDetails.add(makeTransformedPomSigDetails(name: 'groovy-all'))
             allprojects {
                 if (project == rootProject || rootProject.ext.modules().contains(project)) {
                     configurations.archives.artifacts.findAll {
diff --git a/gradle/upload.gradle b/gradle/upload.gradle
index 8d21a753a2..da2ce6008c 100644
--- a/gradle/upload.gradle
+++ b/gradle/upload.gradle
@@ -113,9 +113,9 @@ allprojects {
                 if (rootProject.indyCapable()) {
                     project.artifacts.add('archives', jarjarWithIndy.outputFile)
                 }
-                def grooidJar = rootProject.ext.deriveFile(jar.archivePath, 'grooid')
-                if (grooidJar.exists()) {
-                    project.artifacts.add('archives', grooidJar.outputFile)
+                def grooidJarFile = rootProject.ext.deriveFile(jarjar.outputFile, 'grooid')
+                if (grooidJarFile.exists()) {
+                    project.artifacts.add('archives', grooidJarFile)
                 }
             }
         }
@@ -124,17 +124,17 @@ allprojects {
             doFirst {
                 // gradle doesn't expect us to mutate configurations like we do here
                 // so signing the configuration won't work and we do it manually here
-                signArchiveTask(jar)
+                signArchiveTask(jarjar.outputFile)
                 signArchiveTask(sourceJar)
                 signArchiveTask(javadocJar)
                 signArchiveTask(groovydocJar)
-                def indyJar = rootProject.ext.deriveFile(jar.archivePath, 'indy')
+                def indyJar = rootProject.ext.deriveFile(jarjar.outputFile, 'indy')
                 if (indyJar.exists()) {
                     signWithClassifier('indy', indyJar)
                 }
-                def grooidJar = rootProject.ext.deriveFile(jar.archivePath, 'grooid')
-                if (grooidJar.exists()) {
-                    signWithClassifier('grooid', grooidJar)
+                def grooidJarFile = rootProject.ext.deriveFile(jarjar.outputFile, 'grooid')
+                if (grooidJarFile.exists()) {
+                    signWithClassifier('grooid', grooidJarFile)
                 }
             }
         }
