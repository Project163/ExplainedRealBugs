diff --git a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
index 30d3a4e071..4ff2527cd6 100644
--- a/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
+++ b/src/main/org/codehaus/groovy/tools/javac/JavaStubGenerator.java
@@ -137,7 +137,14 @@ public class JavaStubGenerator
                 	doAddMethod(new MethodNode(name, modifiers, returnType, parameters, exceptions, code));
                 }
                 protected void addConstructor(Parameter[] newParams, ConstructorNode ctor, Statement code, ClassNode node) {
-                    constructors.add(new ConstructorNode(ctor.getModifiers(), newParams, ctor.getExceptions(), code));
+                    if(code instanceof ExpressionStatement) {//GROOVY-4508
+                    	Statement temp = code;
+                    	code = new BlockStatement();
+                    	((BlockStatement)code).addStatement(temp);
+                    }
+                    ConstructorNode ctrNode = new ConstructorNode(ctor.getModifiers(), newParams, ctor.getExceptions(), code);
+                    ctrNode.setDeclaringClass(node);
+                    constructors.add(ctrNode);
                 }
                 protected void addDefaultParameters(DefaultArgsAction action, MethodNode method) {
                     final Parameter[] parameters = method.getParameters();
diff --git a/src/test/org/codehaus/groovy/tools/stubgenerator/StubGenerationForConstructorWithOptionalArgsStubsTest.groovy b/src/test/org/codehaus/groovy/tools/stubgenerator/StubGenerationForConstructorWithOptionalArgsStubsTest.groovy
new file mode 100644
index 0000000000..2a1a81975b
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/stubgenerator/StubGenerationForConstructorWithOptionalArgsStubsTest.groovy
@@ -0,0 +1,48 @@
+/*
+ * Copyright 2003-2010 the original author or authors.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.codehaus.groovy.tools.stubgenerator
+
+/**
+ * Test stub generation for constructors having optional args 
+ *
+ * @author Roshan Dawrani
+ */
+class StubGenerationForConstructorWithOptionalArgsStubsTest extends StringSourcesStubTestCase {
+
+    Map<String, String> provideSources() {
+        println 'StubGenerationForConstructorWithOptionalArgsStubsTest'
+        [
+            'Base4508.java': '''
+                class Base4508 {
+                  Base4508(String str) {}
+                }
+            ''',
+            'Derived4508.groovy': '''
+                class Derived4508 extends Base4508 {
+                  Derived4508(String foo, String bar = "bar") {
+                    super(foo)
+                  }
+                }
+            '''
+        ]
+    }
+
+    void verifyStubs() {
+        String source = stubJavaSourceFor('Derived4508')
+        assert source.contains("super(") // for constructor call in constructor 1
+        assert source.contains("this(") // for constructor call in constructor 2, added due to optional arg
+    }
+}
