diff --git a/src/main/org/codehaus/groovy/ast/builder/AstSpecificationCompiler.groovy b/src/main/org/codehaus/groovy/ast/builder/AstSpecificationCompiler.groovy
index 34cc9b016c..cd342e204b 100644
--- a/src/main/org/codehaus/groovy/ast/builder/AstSpecificationCompiler.groovy
+++ b/src/main/org/codehaus/groovy/ast/builder/AstSpecificationCompiler.groovy
@@ -1,5 +1,5 @@
 /*
- * Copyright 2003-2010 the original author or authors.
+ * Copyright 2003-2014 the original author or authors.
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -942,6 +942,33 @@ class AstSpecificationCompiler implements GroovyInterceptable {
 
     void classNode(String name, int modifiers, @DelegatesTo(AstSpecificationCompiler) Closure argBlock) {
         captureAndCreateNode("ClassNode", argBlock) {
+            List<MethodNode> methods = []
+            List<FieldNode> fields = []
+            List<ConstructorNode> constructors = []
+            List<PropertyNode> properties = []
+            def index = 0
+            while (index < expression.size()) {
+                switch(expression[index].getClass()) {
+                    case MethodNode:
+                        constructors << expression[index]
+                        expression.remove(index)
+                        break
+                    case ConstructorNode:
+                        methods << expression[index]
+                        expression.remove(index)
+                        break
+                    case PropertyNode:
+                        properties << expression[index]
+                        expression.remove(index)
+                        break
+                    case FieldNode:
+                        fields << expression[index]
+                        expression.remove(index)
+                        break
+                    default:
+                        index++
+                }
+            }
             def result = new ClassNode(name, modifiers,
                     expression[0],
                     new ArrayList(expression[1]) as ClassNode[],
@@ -950,6 +977,16 @@ class AstSpecificationCompiler implements GroovyInterceptable {
             if (expression[3]) {
                 result.setGenericsTypes(new ArrayList(expression[3]) as GenericsType[])
             }
+            methods.each{ result.addMethod(it) }
+            constructors.each{ result.addMethod(it) }
+            properties.each{
+                it.field.owner = result
+                result.addProperty(it)
+            }
+            fields.each{
+                it.owner = result
+                result.addField(it)
+            }
             result
         }
     }
diff --git a/src/test/org/codehaus/groovy/ast/builder/AstBuilderFromSpecificationTest.groovy b/src/test/org/codehaus/groovy/ast/builder/AstBuilderFromSpecificationTest.groovy
index f0749de8a1..6b5a2c5430 100644
--- a/src/test/org/codehaus/groovy/ast/builder/AstBuilderFromSpecificationTest.groovy
+++ b/src/test/org/codehaus/groovy/ast/builder/AstBuilderFromSpecificationTest.groovy
@@ -1564,6 +1564,71 @@ public class AstBuilderFromSpecificationTest extends GroovyTestCase {
         AstAssert.assertSyntaxTree([expected], result)
     }
 
+    public void testClassWithMethods() {
+        // class MyClass {
+        //   String myProp = 'foo'
+        //   String myMethod(String parameter) throws IOException { 'some result' }
+        //   String myOtherMethod() { 'some other result' }
+        // }
+
+        def result = new AstBuilder().buildFromSpec {
+            classNode 'MyClass', ACC_PUBLIC, {
+                classNode Object        //superclass
+                interfaces {
+                    classNode GroovyObject
+                }
+                mixins {}
+                method('myMethod', ACC_PUBLIC, String) {
+                    parameters {
+                        parameter 'parameter': String
+                    }
+                    exceptions {
+                        classNode IOException
+                    }
+                    block {
+                        returnStatement {
+                            constant 'some result'
+                        }
+                    }
+                }
+                method('myOtherMethod', ACC_PUBLIC, String) {
+                    parameters {}
+                    exceptions {}
+                    block {
+                        returnStatement {
+                            constant 'some other result'
+                        }
+                    }
+                }
+                propertyNode "myProp", ACC_PUBLIC, String, this.class, {
+                    constant "foo"
+                }
+            }
+        }
+
+        def expected = new ClassNode("MyClass", ACC_PUBLIC, ClassHelper.make(Object, false))
+        expected.addProperty(new PropertyNode("myProp", ACC_PUBLIC, ClassHelper.make(String, false),
+                ClassHelper.make(this.class, false), new ConstantExpression("foo"), null, null))
+        expected.addMethod(new MethodNode(
+                "myMethod",
+                ACC_PUBLIC,
+                ClassHelper.make(String, false),
+                [new Parameter(ClassHelper.make(String, false), "parameter")] as Parameter[],
+                [ClassHelper.make(IOException, false)] as ClassNode[],
+                new BlockStatement(
+                        [new ReturnStatement(new ConstantExpression('some result'))], new VariableScope()
+                )))
+        expected.addMethod(new MethodNode(
+                "myOtherMethod",
+                ACC_PUBLIC,
+                ClassHelper.make(String, false),
+                [] as Parameter[],
+                [] as ClassNode[],
+                new BlockStatement(
+                        [new ReturnStatement(new ConstantExpression('some other result'))], new VariableScope()
+                )))
+        AstAssert.assertSyntaxTree([expected], result)
+    }
 
     public void testGenericsType_WithLowerBounds() {
         // class MyClass<T, U extends Number> {}
