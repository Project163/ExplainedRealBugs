diff --git a/src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java b/src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
index 4ab3b0fda0..f7f75c47c1 100644
--- a/src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
+++ b/src/main/java/org/codehaus/groovy/transform/stc/StaticTypeCheckingVisitor.java
@@ -1766,8 +1766,10 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
         if (isOrImplements(testClass, MAP_TYPE)) {
             ClassNode mapType = testClass.equals(MAP_TYPE) ? testClass
                     : GenericsUtils.parameterizeType(testClass, MAP_TYPE);
-            GenericsType[] gts = mapType.getGenericsTypes();//<K,V>
-            if (gts == null || gts.length != 2) return OBJECT_TYPE;
+            GenericsType[] gts = mapType.getGenericsTypes();//<K,V> params
+            if (gts == null || gts.length != 2) gts = new GenericsType[] {
+                OBJECT_TYPE.asGenericsType(), OBJECT_TYPE.asGenericsType()
+            };
 
             if (!pexp.isSpreadSafe()) {
                 return getCombinedBoundType(gts[1]);
@@ -1775,6 +1777,7 @@ public class StaticTypeCheckingVisitor extends ClassCodeVisitorSupport {
                 // map*.property syntax acts on Entry
                 switch (pexp.getPropertyAsString()) {
                 case "key":
+                    pexp.putNodeMetaData(READONLY_PROPERTY,Boolean.TRUE); // GROOVY-10326
                     return makeClassSafe0(LIST_TYPE, gts[0]);
                 case "value":
                     GenericsType v = gts[1];
diff --git a/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy b/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
index 6d1adfbbc8..697a866ffd 100644
--- a/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
+++ b/src/test/groovy/transform/stc/TypeInferenceSTCTest.groovy
@@ -767,10 +767,10 @@ class TypeInferenceSTCTest extends StaticTypeCheckingTestCase {
             [x:1,y:2,z:3]*.value = ""
         ''', 'Cannot assign java.util.List<java.lang.String> to: java.util.List<java.lang.Integer>'
 
-        def fail = shouldFail '''
-            [x:1,y:2,z:3]*.key = ""
-        '''
-        assert fail == 'Cannot set readonly property: key for class: java.util.LinkedHashMap$Entry'
+        // GROOVY-10326
+        shouldFailWithMessages '''
+            [x:1,y:2,z:3]*.key = null
+        ''', 'Cannot set read-only property: key'
     }
 
     void testFlowTypingWithStringVariable() {
