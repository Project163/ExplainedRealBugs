diff --git a/src/main/org/codehaus/groovy/classgen/Verifier.java b/src/main/org/codehaus/groovy/classgen/Verifier.java
index 4336ef1b80..e18e1d97d2 100644
--- a/src/main/org/codehaus/groovy/classgen/Verifier.java
+++ b/src/main/org/codehaus/groovy/classgen/Verifier.java
@@ -230,7 +230,7 @@ public class Verifier implements GroovyClassVisitor, Opcodes {
                         mv.visitMethodInsn(INVOKESTATIC, classInternalName, "$get$$class$" + classInternalName.replaceAll("\\/", "\\$"), "()Ljava/lang/Class;");
 
                         Label l1 = new Label();
-                        mv.visitJumpInsn(IF_ACMPNE, l1);
+                        mv.visitJumpInsn(IF_ACMPEQ, l1);
 
                         mv.visitVarInsn(ALOAD, 0);
                         mv.visitMethodInsn(INVOKESTATIC, "org/codehaus/groovy/runtime/ScriptBytecodeAdapter", "initMetaClass", "(Ljava/lang/Object;)Lgroovy/lang/MetaClass;");
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGenericGroovySuperclass.groovy b/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGenericGroovySuperclass.groovy
new file mode 100644
index 0000000000..3f275caa64
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGenericGroovySuperclass.groovy
@@ -0,0 +1,16 @@
+package org.codehaus.groovy.tools.rootloadersync
+
+public abstract class AbstractGenericGroovySuperclass<T> {
+   private Set<T> notes;
+
+   public AbstractGenericGroovySuperclass(Set<T> notes) {
+      this.notes = notes;
+   }
+
+   public void addNote(T note) {
+      doSomething(note);
+      notes.add(note);
+   }
+
+   protected abstract void doSomething(T note);
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGroovySuperclass.groovy b/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGroovySuperclass.groovy
new file mode 100644
index 0000000000..1a893ab5a8
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/AbstractGroovySuperclass.groovy
@@ -0,0 +1,9 @@
+package org.codehaus.groovy.tools.rootloadersync
+
+abstract class AbstractGroovySuperclass {
+   public String myMethod() {
+      return myAbstractMethod();
+   }
+
+   abstract String myAbstractMethod();
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteGenericJavaSubclass.java b/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteGenericJavaSubclass.java
new file mode 100644
index 0000000000..f891f7d58c
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteGenericJavaSubclass.java
@@ -0,0 +1,14 @@
+package org.codehaus.groovy.tools.rootloadersync;
+
+import java.util.Set;
+
+public class ConcreteGenericJavaSubclass extends AbstractGenericGroovySuperclass<String> {
+
+   public ConcreteGenericJavaSubclass(Set<String> notes) {
+      super(notes);
+   }
+
+   @Override
+   protected void doSomething(String note) {
+   }
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteJavaSubclass.java b/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteJavaSubclass.java
new file mode 100644
index 0000000000..3ddd727cd2
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/ConcreteJavaSubclass.java
@@ -0,0 +1,8 @@
+package org.codehaus.groovy.tools.rootloadersync;
+
+public class ConcreteJavaSubclass extends AbstractGroovySuperclass {
+   @Override
+   public String myAbstractMethod() {
+      return "string from subclass";
+   }
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteGenericJavaSubclass.java b/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteGenericJavaSubclass.java
new file mode 100644
index 0000000000..f08c55027b
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteGenericJavaSubclass.java
@@ -0,0 +1,14 @@
+package org.codehaus.groovy.tools.rootloadersync;
+
+import java.util.Set;
+
+public class OtherConcreteGenericJavaSubclass extends AbstractGenericGroovySuperclass<String> {
+
+   public OtherConcreteGenericJavaSubclass(Set<String> notes) {
+      super(notes);
+   }
+
+   @Override
+   protected void doSomething(String note) {
+   }
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteJavaSubclass.java b/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteJavaSubclass.java
new file mode 100644
index 0000000000..4dd2ff48ca
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/OtherConcreteJavaSubclass.java
@@ -0,0 +1,8 @@
+package org.codehaus.groovy.tools.rootloadersync;
+
+public class OtherConcreteJavaSubclass extends AbstractGroovySuperclass {
+   @Override
+   public String myAbstractMethod() {
+      return "string from unrelated subclass";
+   }
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingInJavaTest.java b/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingInJavaTest.java
new file mode 100644
index 0000000000..9a8cab68ee
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingInJavaTest.java
@@ -0,0 +1,23 @@
+package org.codehaus.groovy.tools.rootloadersync;
+
+import org.junit.Test;
+import java.util.HashSet;
+import static junit.framework.Assert.assertEquals;
+
+
+public class SubclassingInJavaTest {
+   @Test
+   public void testSubclass() {
+      OtherConcreteJavaSubclass unrelatedInstance = new OtherConcreteJavaSubclass();
+      ConcreteJavaSubclass instance = new ConcreteJavaSubclass();
+      assertEquals("string from subclass", instance.myMethod());  // works fine in both languages
+      assertEquals("string from subclass", instance.myAbstractMethod());  // works fine in java; throws ClassCastException in groovy
+   }
+
+   @Test
+   public void testGenericSubclassWithBafflingSymptom() {
+      OtherConcreteGenericJavaSubclass unrelatedInstance = new OtherConcreteGenericJavaSubclass(new HashSet<String>());
+      ConcreteGenericJavaSubclass instance = new ConcreteGenericJavaSubclass(new HashSet<String>());
+      instance.addNote("abcd");
+   }
+}
diff --git a/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingnGroovyTest.groovy b/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingnGroovyTest.groovy
new file mode 100644
index 0000000000..ae207b853c
--- /dev/null
+++ b/src/test/org/codehaus/groovy/tools/rootloadersync/SubclassingnGroovyTest.groovy
@@ -0,0 +1,23 @@
+package org.codehaus.groovy.tools.rootloadersync
+
+import org.junit.Test
+import static junit.framework.Assert.assertEquals
+
+public class SubclassingInGroovyTest {
+   @Test
+   public void testSubclass() {
+      OtherConcreteJavaSubclass unrelatedInstance = new OtherConcreteJavaSubclass();
+      ConcreteJavaSubclass instance = new ConcreteJavaSubclass();
+      assertEquals("this one works", OtherConcreteJavaSubclass, unrelatedInstance.metaClass.theClass)
+      assertEquals("but this one is wrong", ConcreteJavaSubclass, instance.metaClass.theClass)
+      assertEquals("string from subclass", instance.myMethod());  // works fine in both languages
+      assertEquals("string from subclass", instance.myAbstractMethod());  // works fine in java; throws ClassCastException in groovy
+   }
+
+   @Test
+   public void testGenericSubclassWithBafflingSymptom() {
+      OtherConcreteGenericJavaSubclass unrelatedInstance = new OtherConcreteGenericJavaSubclass(new HashSet<String>())
+      ConcreteGenericJavaSubclass instance = new ConcreteGenericJavaSubclass(new HashSet<String>());
+      instance.addNote("abcd");
+   }
+}
