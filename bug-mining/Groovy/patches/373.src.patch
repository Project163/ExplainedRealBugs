diff --git a/src/main/org/codehaus/groovy/antlr/groovy.g b/src/main/org/codehaus/groovy/antlr/groovy.g
index 3ee1a73e08..3e59f9872e 100644
--- a/src/main/org/codehaus/groovy/antlr/groovy.g
+++ b/src/main/org/codehaus/groovy/antlr/groovy.g
@@ -837,7 +837,7 @@ modifier
     ;
 
 annotation!  {Token first = LT(1);}
-    :   AT! i:identifier ( LPAREN! ( args:annotationArguments )? RPAREN! )?
+    :   AT! i:identifier nls! ( LPAREN! ( args:annotationArguments )? RPAREN! )?
         {#annotation = #(create(ANNOTATION,"ANNOTATION",first,LT(1)), i, args);}
     ;
 
@@ -940,8 +940,10 @@ interfaceDefinition![AST modifiers]  {Token first = LT(1);}
 enumDefinition![AST modifiers]  {Token first = LT(1); AST prevCurrentClass = currentClass;}
     :   "enum" IDENT
     		{ currentClass = #IDENT; }
+    	nls!
         // it might implement some interfaces...
         ic:implementsClause
+        nls!
         // now parse the body of the enum
         eb:enumBlock
         {#enumDefinition = #(create(ENUM_DEF,"ENUM_DEF",first,LT(1)),
diff --git a/src/test/JavaSourceCodehausPackagesSuite.java b/src/test/JavaSourceCodehausPackagesSuite.java
index b36d6b225e..28a83ca1d5 100644
--- a/src/test/JavaSourceCodehausPackagesSuite.java
+++ b/src/test/JavaSourceCodehausPackagesSuite.java
@@ -1,5 +1,7 @@
 import junit.framework.Test;
 import junit.framework.TestSuite;
+
+import org.codehaus.groovy.antlr.AnnotationSourceParsingTest;
 import org.codehaus.groovy.antlr.EnumSourceParsingTest;
 import org.codehaus.groovy.antlr.GroovySourceASTTest;
 import org.codehaus.groovy.antlr.SourceBufferTest;
@@ -43,6 +45,7 @@ public class JavaSourceCodehausPackagesSuite {
         suite.addTestSuite(GroovyDocToolTest.class);
         suite.addTestSuite(GroovySourceASTTest.class);
         suite.addTestSuite(EnumSourceParsingTest.class);
+        suite.addTestSuite(AnnotationSourceParsingTest.class);
         suite.addTestSuite(GStringTest.class);
         suite.addTestSuite(IfElseTest.class);
         suite.addTestSuite(InvokerTest.class);
diff --git a/src/test/org/codehaus/groovy/antlr/AnnotationSourceParsingTest.java b/src/test/org/codehaus/groovy/antlr/AnnotationSourceParsingTest.java
new file mode 100644
index 0000000000..5dd8956ca6
--- /dev/null
+++ b/src/test/org/codehaus/groovy/antlr/AnnotationSourceParsingTest.java
@@ -0,0 +1,27 @@
+package org.codehaus.groovy.antlr;
+
+import java.io.StringReader;
+
+/**
+ * Parsing annotations.
+ * 
+ * @author <a href='mailto:the[dot]mindstorm[at]gmail[dot]com'>Alex Popescu</a>
+ */
+public class AnnotationSourceParsingTest extends SourceParserTest {
+  public void testMultiLineAttributes() {
+    StringReader reader = new StringReader(
+            "class OtherSection\n"
+        +   "{\n" 
+        +		"    @CollectionOfElements\n" 
+        +		"    @JoinTable\n" 
+        + 	"    (\n" 
+        +		"        table=@Table(name=\"gaga\"),\n" 
+        +		"        joinColumns = @JoinColumn(name=\"BoyId\")\n" 
+        +		"    )\n" 
+        +		"    @Column(name=\"favoritepoupon\", \n" 
+        +       		    "nullable=false)\n" 
+        +		"    Set<String> questions = new HashSet<String> ()\n\n" 
+        +		"}");
+    parse("testMultiLineAttributes", reader);
+  }
+}
diff --git a/src/test/org/codehaus/groovy/antlr/EnumSourceParsingTest.java b/src/test/org/codehaus/groovy/antlr/EnumSourceParsingTest.java
index 39f2c27fb6..e63126920b 100644
--- a/src/test/org/codehaus/groovy/antlr/EnumSourceParsingTest.java
+++ b/src/test/org/codehaus/groovy/antlr/EnumSourceParsingTest.java
@@ -1,10 +1,5 @@
 package org.codehaus.groovy.antlr;
 
-import groovy.util.GroovyTestCase;
-import org.codehaus.groovy.antlr.parser.GroovyLexer;
-import org.codehaus.groovy.antlr.parser.GroovyRecognizer;
-
-import java.io.Reader;
 import java.io.StringReader;
 
 
@@ -13,19 +8,53 @@ import java.io.StringReader;
  *
  * @author <a href='mailto:the[dot]mindstorm[at]gmail[dot]com'>Alex Popescu</a>
  */
-public class EnumSourceParsingTest extends GroovyTestCase {
+public class EnumSourceParsingTest extends SourceParserTest {
     public void testParseEnumConstants() {
         StringReader reader = new StringReader(
                 "enum One {\n"
                         + "  ONE, TWO, THREE\n"
                         + "}");
-        parse(reader);
+        parse("testParseEnumConstants", reader);
     }
 
+    public void testParseEnumMultiLine() {
+      StringReader reader = new StringReader(
+          "enum ParseCode\n" +
+          "{\n" +
+          "    COMPLETE,\n" +
+          "    INCOMPLETE,\n" +
+          "    ERROR\n" +
+          "}");
+      parse("testParseEnumMultiLine", reader);
+    }
+    
+    public void testParseEnumImplementsMultiLine() {
+        StringReader reader = new StringReader(
+            "enum ParseCode implements I\n" +
+            "{\n" +
+            "    COMPLETE,\n" +
+            "    INCOMPLETE,\n" +
+            "    ERROR\n" +
+            "}");
+        parse("testParseEnumImplementsMultiLine", reader);
+    }
+    
+    public void testParseEnumImplementsMultiLine2() {
+        StringReader reader = new StringReader(
+            "enum ParseCode\n" +
+            "implements I\n" +
+            "{\n" +
+            "    COMPLETE,\n" +
+            "    INCOMPLETE,\n" +
+            "    ERROR\n" +
+            "}");
+        parse("testParseEnumImplementsMultiLine2", reader);
+    }
+    
     public void testParseEnumConstantsOneLiner() {
         StringReader reader = new StringReader(
                 "enum One { ONE, TWO, THREE }");
-        parse(reader);
+        parse("testParseEnumConstantsOneLiner", reader);
     }
 
     public void testParseEnumImplements() {
@@ -33,7 +62,7 @@ public class EnumSourceParsingTest extends GroovyTestCase {
                 "enum Two implements I1 {\n"
                         + "ONE, TWO, THREE\n"
                         + "}");
-        parse(reader);
+        parse("testParseEnumImplements", reader);
     }
 
     public void testParseEnumWithValues() {
@@ -45,7 +74,7 @@ public class EnumSourceParsingTest extends GroovyTestCase {
                         + "    }\n\n"
                         + "    private final int value"
                         + "}");
-        parse(reader);
+        parse("testParseEnumWithValues", reader);
 
         reader = new StringReader(
                 "enum Three1 {\n"
@@ -55,6 +84,7 @@ public class EnumSourceParsingTest extends GroovyTestCase {
                         + "    }\n\n"
                         + "    private final int value"
                         + "}");
+        parse("testParseEnumWithValues2", reader);
     }
 
     public void testParseEnumWithMethodDefinitions() {
@@ -65,7 +95,7 @@ public class EnumSourceParsingTest extends GroovyTestCase {
                         + "    public m2(args) { }\n"
                         + "    int m3(String arg) { }\n"
                         + "}");
-        parse(reader);
+        parse("testParseEnumWithMethodDefinitions", reader);
     }
 
     public void testParseCompleteEnum() {
@@ -76,24 +106,6 @@ public class EnumSourceParsingTest extends GroovyTestCase {
                         + "        double eval(int v) { return (double) v + 1 }\n"
                         + "    }, THREE\n"
                         + "}");
-        parse(reader);
-    }
-
-    private void parse(Reader reader) {
-        SourceBuffer sourceBuffer = new SourceBuffer();
-        UnicodeEscapingReader unicodeReader = new UnicodeEscapingReader(reader, sourceBuffer);
-        GroovyLexer lexer = new GroovyLexer(unicodeReader);
-        unicodeReader.setLexer(lexer);
-        GroovyRecognizer parser = GroovyRecognizer.make(lexer);
-        parser.setSourceBuffer(sourceBuffer);
-        parser.setFilename("EnumTestScript");
-
-        // start parsing at the compilationUnit rule
-        try {
-            parser.compilationUnit();
-        }
-        catch (Exception ex) {
-            fail(ex.getMessage());
-        }
+        parse("testParseCompleteEnum", reader);
     }
 }
diff --git a/src/test/org/codehaus/groovy/antlr/SourceParserTest.java b/src/test/org/codehaus/groovy/antlr/SourceParserTest.java
new file mode 100644
index 0000000000..9614eadd1b
--- /dev/null
+++ b/src/test/org/codehaus/groovy/antlr/SourceParserTest.java
@@ -0,0 +1,34 @@
+package org.codehaus.groovy.antlr;
+
+import groovy.util.GroovyTestCase;
+
+import java.io.PrintWriter;
+import java.io.Reader;
+import java.io.StringWriter;
+
+import org.codehaus.groovy.antlr.parser.GroovyLexer;
+import org.codehaus.groovy.antlr.parser.GroovyRecognizer;
+
+public class SourceParserTest extends GroovyTestCase {
+    protected void parse(String name, Reader reader) {
+        SourceBuffer sourceBuffer = new SourceBuffer();
+        UnicodeEscapingReader unicodeReader = new UnicodeEscapingReader(reader, sourceBuffer);
+        GroovyLexer lexer = new GroovyLexer(unicodeReader);
+        unicodeReader.setLexer(lexer);
+        GroovyRecognizer parser = GroovyRecognizer.make(lexer);
+        parser.setSourceBuffer(sourceBuffer);
+        parser.setFilename(name);
+
+        // start parsing at the compilationUnit rule
+        try {
+            parser.compilationUnit();
+        }
+        catch (Exception ex) {
+            StringWriter out = new StringWriter();
+            out.write(ex.getMessage());
+            out.write("\n");
+            ex.printStackTrace(new PrintWriter(out));
+            fail(out.toString());
+        }
+    }
+}
