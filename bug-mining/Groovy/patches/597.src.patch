diff --git a/src/main/groovy/lang/GroovyCodeSource.java b/src/main/groovy/lang/GroovyCodeSource.java
index d242775831..64154a55c6 100644
--- a/src/main/groovy/lang/GroovyCodeSource.java
+++ b/src/main/groovy/lang/GroovyCodeSource.java
@@ -85,7 +85,9 @@ public class GroovyCodeSource {
 		}
 	}
 
-    public GroovyCodeSource(final File file) throws FileNotFoundException {
+    public GroovyCodeSource(final File infile) throws IOException {
+        // avoid files which confuse us like ones with .. in path
+        final File file = new File(infile.getCanonicalPath());
         if (!file.exists()) {
             throw new FileNotFoundException(file.toString() + " (" + file.getAbsolutePath() + ")");
         }
diff --git a/src/test/groovy/script/ScriptTest.groovy b/src/test/groovy/script/ScriptTest.groovy
index 14709b770c..8ae86ba246 100644
--- a/src/test/groovy/script/ScriptTest.groovy
+++ b/src/test/groovy/script/ScriptTest.groovy
@@ -22,15 +22,11 @@ class ScriptTest extends GroovyTestCase {
         def shell = new GroovyShell()
         def args = ['a', 'b', 'c']
         
-        shell.run(file, args)
-
-        /** @todo this doesn't work when ran in an IDE?
         try {
 	        shell.run(file, args)
         } 
         catch (Exception e) {
             println("Caught: " + e)
         }
-         */
     }
 }
\ No newline at end of file
diff --git a/src/test/groovy/security/SecurityTestSupport.java b/src/test/groovy/security/SecurityTestSupport.java
index ee03578e78..7991d73ae3 100644
--- a/src/test/groovy/security/SecurityTestSupport.java
+++ b/src/test/groovy/security/SecurityTestSupport.java
@@ -13,8 +13,8 @@ import junit.textui.ResultPrinter;
 import org.codehaus.groovy.runtime.InvokerHelper;
 
 import java.io.File;
-import java.io.FileNotFoundException;
 import java.io.PrintStream;
+import java.io.IOException;
 import java.security.*;
 import java.util.Enumeration;
 
@@ -143,7 +143,7 @@ public class SecurityTestSupport extends GroovyTestCase {
         GroovyCodeSource gcs = null;
         try {
             gcs = new GroovyCodeSource(file);
-        } catch (FileNotFoundException fnfe) {
+        } catch (IOException fnfe) {
             fail(fnfe.toString());
         }
         return parseClass(gcs);
@@ -248,7 +248,7 @@ public class SecurityTestSupport extends GroovyTestCase {
         GroovyCodeSource gcs = null;
         try {
             gcs = new GroovyCodeSource(file);
-        } catch (FileNotFoundException fnfe) {
+        } catch (IOException fnfe) {
             fail(fnfe.toString());
         }
         parseAndExecute(gcs, missingPermission);
