{"url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287","repository_url":"https://api.github.com/repos/srikanth-lingala/zip4j","labels_url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287/labels{/name}","comments_url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287/comments","events_url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287/events","html_url":"https://github.com/srikanth-lingala/zip4j/issues/287","id":815605185,"node_id":"MDU6SXNzdWU4MTU2MDUxODU=","number":287,"title":"method close() does not call the correspondant close method on childs","user":{"login":"nikcapl","id":4985236,"node_id":"MDQ6VXNlcjQ5ODUyMzY=","avatar_url":"https://avatars.githubusercontent.com/u/4985236?v=4","gravatar_id":"","url":"https://api.github.com/users/nikcapl","html_url":"https://github.com/nikcapl","followers_url":"https://api.github.com/users/nikcapl/followers","following_url":"https://api.github.com/users/nikcapl/following{/other_user}","gists_url":"https://api.github.com/users/nikcapl/gists{/gist_id}","starred_url":"https://api.github.com/users/nikcapl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikcapl/subscriptions","organizations_url":"https://api.github.com/users/nikcapl/orgs","repos_url":"https://api.github.com/users/nikcapl/repos","events_url":"https://api.github.com/users/nikcapl/events{/privacy}","received_events_url":"https://api.github.com/users/nikcapl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1347122729,"node_id":"MDU6TGFiZWwxMzQ3MTIyNzI5","url":"https://api.github.com/repos/srikanth-lingala/zip4j/labels/new-feature","name":"new-feature","color":"a2eeef","default":false,"description":"New feature or request"},{"id":1623761937,"node_id":"MDU6TGFiZWwxNjIzNzYxOTM3","url":"https://api.github.com/repos/srikanth-lingala/zip4j/labels/resolved","name":"resolved","color":"b8dd11","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-02-24T15:50:10Z","updated_at":"2021-05-25T19:03:43Z","closed_at":"2021-05-25T19:03:43Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"As per the Stream specification, the close() method should recursively call the child's correspondent method so that the user does not have to iterate all over the nested childs. As far as I can see, the ZipOutputStream.close() method does not call the ZipOutputStream.closeEntry(), thus leaving the stream in an inconsistent value. \r\nTo prove this behavior it's sufficient to close the stream without explicitly calling the closeEntry() method: in this case the JVM will throw an exception (java.io.IOException: java.util.zip.DataFormatException: invalid stored block lengths).\r\n","closed_by":{"login":"srikanth-lingala","id":3450302,"node_id":"MDQ6VXNlcjM0NTAzMDI=","avatar_url":"https://avatars.githubusercontent.com/u/3450302?v=4","gravatar_id":"","url":"https://api.github.com/users/srikanth-lingala","html_url":"https://github.com/srikanth-lingala","followers_url":"https://api.github.com/users/srikanth-lingala/followers","following_url":"https://api.github.com/users/srikanth-lingala/following{/other_user}","gists_url":"https://api.github.com/users/srikanth-lingala/gists{/gist_id}","starred_url":"https://api.github.com/users/srikanth-lingala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srikanth-lingala/subscriptions","organizations_url":"https://api.github.com/users/srikanth-lingala/orgs","repos_url":"https://api.github.com/users/srikanth-lingala/repos","events_url":"https://api.github.com/users/srikanth-lingala/events{/privacy}","received_events_url":"https://api.github.com/users/srikanth-lingala/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/srikanth-lingala/zip4j/issues/287/timeline","performed_via_github_app":null,"state_reason":"completed"}