diff --git a/src/main/java/net/lingala/zip4j/tasks/AbstractAddFileToZipTask.java b/src/main/java/net/lingala/zip4j/tasks/AbstractAddFileToZipTask.java
index 472255d..6703b53 100644
--- a/src/main/java/net/lingala/zip4j/tasks/AbstractAddFileToZipTask.java
+++ b/src/main/java/net/lingala/zip4j/tasks/AbstractAddFileToZipTask.java
@@ -11,6 +11,7 @@ import net.lingala.zip4j.model.enums.CompressionMethod;
 import net.lingala.zip4j.model.enums.EncryptionMethod;
 import net.lingala.zip4j.progress.ProgressMonitor;
 import net.lingala.zip4j.util.FileUtils;
+import net.lingala.zip4j.util.Zip4jUtil;
 
 import java.io.File;
 import java.io.FileInputStream;
@@ -149,7 +150,6 @@ public abstract class AbstractAddFileToZipTask<T> extends AsyncZipTask<T> {
                                                     ProgressMonitor progressMonitor) throws IOException {
     ZipParameters clonedZipParameters = new ZipParameters(zipParameters);
     clonedZipParameters.setLastModifiedFileTime(javaToDosTime((fileToAdd.lastModified())));
-    clonedZipParameters.setFileNameInZip(fileToAdd.getName());
 
     if (fileToAdd.isDirectory()) {
       clonedZipParameters.setEntrySize(0);
@@ -160,8 +160,10 @@ public abstract class AbstractAddFileToZipTask<T> extends AsyncZipTask<T> {
     clonedZipParameters.setWriteExtendedLocalFileHeader(false);
     clonedZipParameters.setLastModifiedFileTime(fileToAdd.lastModified());
 
-    String relativeFileName = getRelativeFileName(fileToAdd.getAbsolutePath(), zipParameters.getDefaultFolderPath());
-    clonedZipParameters.setFileNameInZip(relativeFileName);
+    if (!Zip4jUtil.isStringNotNullAndNotEmpty(zipParameters.getFileNameInZip())) {
+      String relativeFileName = getRelativeFileName(fileToAdd.getAbsolutePath(), zipParameters.getDefaultFolderPath());
+      clonedZipParameters.setFileNameInZip(relativeFileName);
+    }
 
     if (fileToAdd.isDirectory()) {
       clonedZipParameters.setCompressionMethod(CompressionMethod.STORE);
diff --git a/src/test/java/net/lingala/zip4j/AddFilesToZipIT.java b/src/test/java/net/lingala/zip4j/AddFilesToZipIT.java
index 067afa3..38b9f0a 100644
--- a/src/test/java/net/lingala/zip4j/AddFilesToZipIT.java
+++ b/src/test/java/net/lingala/zip4j/AddFilesToZipIT.java
@@ -163,6 +163,21 @@ public class AddFilesToZipIT extends AbstractIT {
         null, null);
   }
 
+  @Test
+  public void testAddFileWithDifferentFileNameSetsTheNewFileName() throws IOException {
+    ZipFile zipFile = new ZipFile(generatedZipFile);
+    ZipParameters zipParameters = new ZipParameters();
+    zipParameters.setFileNameInZip("/data/newfile.txt");
+
+    zipFile.addFile(TestUtils.getTestFileFromResources("sample_text_large.txt"), zipParameters);
+
+    zipFile = new ZipFile(generatedZipFile);
+    assertThat(zipFile.getFileHeaders()).hasSize(1);
+    assertThat(zipFile.getFileHeader("/data/newfile.txt")).isNotNull();
+    assertThat(zipFile.getFileHeader("sample_text_large.txt")).isNull();
+    zipFile.extractAll(outputFolder.getPath());
+  }
+
   @Test
   public void testAddFileRemovesExistingFileWithAesEncryption() throws IOException {
     ZipParameters zipParameters = createZipParameters(EncryptionMethod.AES, AesKeyStrength.KEY_STRENGTH_256);
