diff --git a/src/main/java/net/lingala/zip4j/headers/HeaderWriter.java b/src/main/java/net/lingala/zip4j/headers/HeaderWriter.java
index 91622ca..252de82 100755
--- a/src/main/java/net/lingala/zip4j/headers/HeaderWriter.java
+++ b/src/main/java/net/lingala/zip4j/headers/HeaderWriter.java
@@ -18,6 +18,7 @@ package net.lingala.zip4j.headers;
 
 import net.lingala.zip4j.exception.ZipException;
 import net.lingala.zip4j.io.outputstream.CountingOutputStream;
+import net.lingala.zip4j.io.outputstream.OutputStreamWithSplitZipSupport;
 import net.lingala.zip4j.io.outputstream.SplitOutputStream;
 import net.lingala.zip4j.model.AESExtraDataRecord;
 import net.lingala.zip4j.model.ExtraDataRecord;
@@ -348,10 +349,10 @@ public class HeaderWriter {
 
   private void processHeaderData(ZipModel zipModel, OutputStream outputStream) throws IOException {
     int currentSplitFileCounter = 0;
-    if (outputStream instanceof CountingOutputStream) {
+    if (outputStream instanceof OutputStreamWithSplitZipSupport) {
       zipModel.getEndOfCentralDirectoryRecord().setOffsetOfStartOfCentralDirectory(
-          ((CountingOutputStream) outputStream).getFilePointer());
-      currentSplitFileCounter = ((CountingOutputStream) outputStream).getCurrentSplitFileCounter();
+          ((OutputStreamWithSplitZipSupport) outputStream).getFilePointer());
+      currentSplitFileCounter = ((OutputStreamWithSplitZipSupport) outputStream).getCurrentSplitFileCounter();
     }
 
     if (zipModel.isZip64Format()) {
diff --git a/src/main/java/net/lingala/zip4j/io/outputstream/CountingOutputStream.java b/src/main/java/net/lingala/zip4j/io/outputstream/CountingOutputStream.java
index 3de08a1..35df880 100644
--- a/src/main/java/net/lingala/zip4j/io/outputstream/CountingOutputStream.java
+++ b/src/main/java/net/lingala/zip4j/io/outputstream/CountingOutputStream.java
@@ -5,7 +5,7 @@ import net.lingala.zip4j.exception.ZipException;
 import java.io.IOException;
 import java.io.OutputStream;
 
-public class CountingOutputStream extends OutputStream {
+public class CountingOutputStream extends OutputStream implements OutputStreamWithSplitZipSupport {
 
   private OutputStream outputStream;
   private long numberOfBytesWritten = 0;
@@ -30,6 +30,7 @@ public class CountingOutputStream extends OutputStream {
     numberOfBytesWritten += len;
   }
 
+  @Override
   public int getCurrentSplitFileCounter() {
     if (isSplitZipFile()) {
       return ((SplitOutputStream) outputStream).getCurrentSplitFileCounter();
@@ -75,6 +76,7 @@ public class CountingOutputStream extends OutputStream {
     return ((SplitOutputStream)outputStream).checkBufferSizeAndStartNextSplitFile(bufferSize);
   }
 
+  @Override
   public long getFilePointer() throws IOException {
     if (outputStream instanceof SplitOutputStream) {
       return ((SplitOutputStream) outputStream).getFilePointer();
diff --git a/src/main/java/net/lingala/zip4j/io/outputstream/OutputStreamWithSplitZipSupport.java b/src/main/java/net/lingala/zip4j/io/outputstream/OutputStreamWithSplitZipSupport.java
new file mode 100644
index 0000000..3f30782
--- /dev/null
+++ b/src/main/java/net/lingala/zip4j/io/outputstream/OutputStreamWithSplitZipSupport.java
@@ -0,0 +1,10 @@
+package net.lingala.zip4j.io.outputstream;
+
+import java.io.IOException;
+
+public interface OutputStreamWithSplitZipSupport {
+
+  long getFilePointer() throws IOException;
+
+  int getCurrentSplitFileCounter();
+}
diff --git a/src/main/java/net/lingala/zip4j/io/outputstream/SplitOutputStream.java b/src/main/java/net/lingala/zip4j/io/outputstream/SplitOutputStream.java
index 8ba2125..8f7dcf8 100755
--- a/src/main/java/net/lingala/zip4j/io/outputstream/SplitOutputStream.java
+++ b/src/main/java/net/lingala/zip4j/io/outputstream/SplitOutputStream.java
@@ -30,7 +30,7 @@ import java.io.RandomAccessFile;
 import static net.lingala.zip4j.util.FileUtils.getZipFileNameWithoutExtension;
 import static net.lingala.zip4j.util.InternalZipConstants.MIN_SPLIT_LENGTH;
 
-public class SplitOutputStream extends OutputStream {
+public class SplitOutputStream extends OutputStream implements OutputStreamWithSplitZipSupport {
 
   private RandomAccessFile raf;
   private long splitLength;
@@ -192,6 +192,7 @@ public class SplitOutputStream extends OutputStream {
     raf.close();
   }
 
+  @Override
   public long getFilePointer() throws IOException {
     return raf.getFilePointer();
   }
@@ -204,6 +205,7 @@ public class SplitOutputStream extends OutputStream {
     return splitLength;
   }
 
+  @Override
   public int getCurrentSplitFileCounter() {
     return currSplitFileCounter;
   }
diff --git a/src/main/java/net/lingala/zip4j/tasks/RenameFilesTask.java b/src/main/java/net/lingala/zip4j/tasks/RenameFilesTask.java
index 179d5ff..6e0319d 100644
--- a/src/main/java/net/lingala/zip4j/tasks/RenameFilesTask.java
+++ b/src/main/java/net/lingala/zip4j/tasks/RenameFilesTask.java
@@ -3,7 +3,6 @@ package net.lingala.zip4j.tasks;
 import net.lingala.zip4j.exception.ZipException;
 import net.lingala.zip4j.headers.HeaderUtil;
 import net.lingala.zip4j.headers.HeaderWriter;
-import net.lingala.zip4j.io.outputstream.CountingOutputStream;
 import net.lingala.zip4j.io.outputstream.SplitOutputStream;
 import net.lingala.zip4j.model.FileHeader;
 import net.lingala.zip4j.model.ZipModel;
@@ -48,7 +47,7 @@ public class RenameFilesTask extends AbstractModifyFileTask<RenameFilesTask.Rena
     File temporaryFile = getTemporaryFile(zipModel.getZipFile().getPath());
     boolean successFlag = false;
     try(RandomAccessFile inputStream = new RandomAccessFile(zipModel.getZipFile(), RandomAccessFileMode.WRITE.getValue());
-        CountingOutputStream outputStream = new CountingOutputStream(new SplitOutputStream(temporaryFile))) {
+        SplitOutputStream outputStream = new SplitOutputStream(temporaryFile)) {
 
       long currentFileCopyPointer = 0;
 
