diff --git a/src/main/java/net/lingala/zip4j/io/outputstream/ZipOutputStream.java b/src/main/java/net/lingala/zip4j/io/outputstream/ZipOutputStream.java
index 3840440..fa96aa8 100755
--- a/src/main/java/net/lingala/zip4j/io/outputstream/ZipOutputStream.java
+++ b/src/main/java/net/lingala/zip4j/io/outputstream/ZipOutputStream.java
@@ -78,18 +78,7 @@ public class ZipOutputStream extends OutputStream {
 
   public void putNextEntry(ZipParameters zipParameters) throws IOException {
     verifyZipParameters(zipParameters);
-
-    ZipParameters clonedZipParameters = new ZipParameters(zipParameters);
-    if (isZipEntryDirectory(zipParameters.getFileNameInZip())) {
-      clonedZipParameters.setWriteExtendedLocalFileHeader(false);
-      clonedZipParameters.setCompressionMethod(CompressionMethod.STORE);
-      clonedZipParameters.setEncryptFiles(false);
-      clonedZipParameters.setEntrySize(0);
-
-      if (zipParameters.getLastModifiedFileTime() <= 0) {
-        clonedZipParameters.setLastModifiedFileTime(System.currentTimeMillis());
-      }
-    }
+    ZipParameters clonedZipParameters = cloneAndPrepareZipParameters(zipParameters);
     initializeAndWriteFileHeader(clonedZipParameters);
 
     //Initialisation of below compressedOutputStream should happen after writing local file header
@@ -257,4 +246,21 @@ public class ZipOutputStream extends OutputStream {
 
     return fileHeader.getAesExtraDataRecord().getAesVersion().equals(AesVersion.ONE);
   }
+
+  private ZipParameters cloneAndPrepareZipParameters(ZipParameters zipParameters) {
+    ZipParameters clonedZipParameters = new ZipParameters(zipParameters);
+
+    if (isZipEntryDirectory(zipParameters.getFileNameInZip())) {
+      clonedZipParameters.setWriteExtendedLocalFileHeader(false);
+      clonedZipParameters.setCompressionMethod(CompressionMethod.STORE);
+      clonedZipParameters.setEncryptFiles(false);
+      clonedZipParameters.setEntrySize(0);
+    }
+
+    if (zipParameters.getLastModifiedFileTime() <= 0) {
+      clonedZipParameters.setLastModifiedFileTime(System.currentTimeMillis());
+    }
+
+    return clonedZipParameters;
+  }
 }
diff --git a/src/test/java/net/lingala/zip4j/io/outputstream/ZipOutputStreamIT.java b/src/test/java/net/lingala/zip4j/io/outputstream/ZipOutputStreamIT.java
index debae55..83b48b0 100644
--- a/src/test/java/net/lingala/zip4j/io/outputstream/ZipOutputStreamIT.java
+++ b/src/test/java/net/lingala/zip4j/io/outputstream/ZipOutputStreamIT.java
@@ -3,7 +3,9 @@ package net.lingala.zip4j.io.outputstream;
 import net.lingala.zip4j.AbstractIT;
 import net.lingala.zip4j.ZipFile;
 import net.lingala.zip4j.exception.ZipException;
+import net.lingala.zip4j.io.inputstream.ZipInputStream;
 import net.lingala.zip4j.model.FileHeader;
+import net.lingala.zip4j.model.LocalFileHeader;
 import net.lingala.zip4j.model.Zip4jConfig;
 import net.lingala.zip4j.model.ZipParameters;
 import net.lingala.zip4j.model.enums.AesKeyStrength;
@@ -18,6 +20,7 @@ import org.junit.Rule;
 import org.junit.Test;
 import org.junit.rules.ExpectedException;
 
+import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
 import java.io.File;
 import java.io.FileInputStream;
@@ -288,6 +291,25 @@ public class ZipOutputStreamIT extends AbstractIT {
     }
   }
 
+  @Test
+  public void testLastModifiedTimeIsSetWhenItIsNotExplicitlySet() throws IOException {
+    long currentTime = System.currentTimeMillis();
+    ByteArrayOutputStream zip = new ByteArrayOutputStream();
+
+    try (ZipOutputStream zos = new ZipOutputStream(zip)) {
+      ZipParameters params = new ZipParameters();
+      params.setFileNameInZip("test");
+      zos.putNextEntry(params);
+      zos.closeEntry();
+    }
+
+    try (ZipInputStream zis = new ZipInputStream(new ByteArrayInputStream(zip.toByteArray()))) {
+      LocalFileHeader fileHeader = zis.getNextEntry();
+      long zipTime = fileHeader.getLastModifiedTimeEpoch();
+      assertThat(currentTime).isLessThan(zipTime + 2000);
+    }
+  }
+
   private void testZipOutputStream(CompressionMethod compressionMethod, boolean encrypt,
                                    EncryptionMethod encryptionMethod, AesKeyStrength aesKeyStrength,
                                    AesVersion aesVersion)
