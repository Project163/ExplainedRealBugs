diff --git a/src/main/java/net/lingala/zip4j/util/RawIO.java b/src/main/java/net/lingala/zip4j/util/RawIO.java
index e5b4e3b..bf22bb9 100755
--- a/src/main/java/net/lingala/zip4j/util/RawIO.java
+++ b/src/main/java/net/lingala/zip4j/util/RawIO.java
@@ -56,7 +56,7 @@ public class RawIO {
     if (array.length - pos < 8) {
       resetBytes(longBuff);
     }
-    System.arraycopy(array, pos, longBuff, 0, array.length < 8 ? array.length - pos : 8);
+    System.arraycopy(array, pos, longBuff, 0, Math.min(array.length - pos, 8));
 
     long temp = 0;
     temp |= longBuff[7] & 0xff;
