<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:47:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[OGNL-33] problem evaluating an expression on an abstract class not implementing all methods of an implemented interface</title>
                <link>https://issues.apache.org/jira/browse/OGNL-33</link>
                <project id="12313525" key="OGNL">Commons OGNL (Dormant)</project>
                    <description>&lt;p&gt;Sorry for the long summary but the situation is difficult to describe in brief &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;



&lt;p&gt;I&apos;ve found a bug or at least a &quot;notable difference&quot;  with previous (ognl 2.6.7) behaviour regarding this.&lt;/p&gt;

&lt;p&gt;It took me some to understand what was going on as the tapestry page this expression was used for had apparently nothing strange and worked perfectly with OGNL 2.6.7. The sample code I provide below contains a Tapestry example because is where I found it but the bug seems to be completely OGNL related.&lt;/p&gt;





&lt;p&gt;This is the situation. I have some model classes using a structure similar to this:&lt;/p&gt;





&lt;p&gt;public interface MyInterface &lt;/p&gt;
{



    public String getXyz();



    public void setXyz(String x);



    public void doSomething();



}



&lt;p&gt;abstract class MyAbstractClass implements interface MyInterface {&lt;/p&gt;



&lt;p&gt;    public void doSomething() &lt;/p&gt;
{



         // blah blah blah



    }&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
   // I don&apos;t implement the other interface methods here! leave to subclass responsability to implement it&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
public class MyConcreteClass extends MyAbstractClass {&lt;br/&gt;
&lt;br/&gt;
    &lt;br/&gt;
&lt;br/&gt;
     private String xyz;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
     // I just implement the getters/setters of the implemented interface in the concrete class!&lt;br/&gt;
&lt;br/&gt;
     public String getXyz() {

         return xyz;   

     }&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
    public void setXyz(String x);&lt;br/&gt;
&lt;br/&gt;
        this.xyz = x;&lt;br/&gt;
&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
}&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Now I have a Tapestry page:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
public abstract MyPage extends BasePage {



    public MyAbstractClass getMyObject()



    

    @Component(bindings=&quot;value= myobject.xyz&quot;) // This is the expression failing

    public abstract TextField getMyObjectTextField();



}&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
The page has a getter for object of type &quot;MyAbstractClass&quot; but obviously I&apos;m feeding it with non abstract classes extending &quot;MyAbstractClass that actually implement the MyInterface XYZ getters and setters.&lt;br/&gt;
&lt;br/&gt;
Now, this WAS NOT failing with previous OGNL, IT&apos;S FAILING with OGNL 2.7 complaining for non existing method signatures.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
After some experimentation I&apos;ve discovered that in order for this to work I need to implement, at least as an abstract method, in class MyAbstractClass the XYZ getters ans setters, turning MyAbstractClass into:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
abstract class MyAbstractClass implements interface MyInterface {&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
    public void doSomething() {

         // blah blah blah

    }





&lt;p&gt;    public abstract String getXyz();&lt;/p&gt;



&lt;p&gt;    public abstract void setXyz(String x);&lt;/p&gt;



&lt;p&gt;}&lt;/p&gt;





&lt;p&gt;After this modification it works perfectly and it obviously the solution does not affect my code at all.&lt;/p&gt;



&lt;p&gt;I think what&apos;s missing is proper interface checking for accessing property: that is to say you might have to do with an abstract class not directly implementing an interface method and the expression evaluator should check for it. I think this should be checked by the expression evaluator.&lt;/p&gt;



&lt;p&gt;I don&apos;t think this is really a big problem because in all situation I can think of the solution is easy and won&apos;t imply big code/behaviour modifications &lt;/p&gt;

&lt;p&gt;but I assure you that it can take some time to figure out what is happening down there &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12594780">OGNL-33</key>
            <summary>problem evaluating an expression on an abstract class not implementing all methods of an implemented interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jkuhnert">Jesse Kuhnert</assignee>
                                    <reporter username="martino">Martino Piccinato</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Mar 2007 13:29:20 +0000</created>
                <updated>Sun, 1 Apr 2007 17:43:04 +0000</updated>
                            <resolved>Sun, 1 Apr 2007 17:43:04 +0000</resolved>
                                    <version>2.7</version>
                                    <fixVersion>2.7</fixVersion>
                                    <component>ExpressionCompiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>294686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0yhtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>199358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>