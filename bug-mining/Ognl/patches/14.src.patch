diff --git a/pom.xml b/pom.xml
index e09b3ad..92ed8dc 100644
--- a/pom.xml
+++ b/pom.xml
@@ -188,7 +188,7 @@ limitations under the License.
     <dependency>
       <groupId>javassist</groupId>
       <artifactId>javassist</artifactId>
-      <version>3.11.0.GA</version>
+      <version>3.12.1.GA</version>
     </dependency>
   </dependencies>
 
@@ -369,6 +369,44 @@ limitations under the License.
         </plugins>
       </reporting>
     </profile>
-  </profiles>
+    <profile>
+      <id>shade</id>
+      <activation>
+        <property>
+          <name>shade</name>
+        </property>
+      </activation>
+      <build>
+        <plugins>
+          <plugin>
+            <groupId>org.apache.maven.plugins</groupId>
+            <artifactId>maven-shade-plugin</artifactId>
+            <version>1.4</version>
 
+            <executions>
+              <execution>
+                <phase>package</phase>
+                <goals>
+                  <goal>shade</goal>
+                </goals>
+                <configuration>
+                  <artifactSet>
+                    <excludes>
+                      <exclude>javassist:javassist</exclude>
+                    </excludes>
+                  </artifactSet>
+                  <relocations>
+                    <relocation>
+                      <pattern>org.apache.commons.ognl</pattern>
+                      <shadedPattern>ognl</shadedPattern>
+                    </relocation>
+                  </relocations>
+                </configuration>
+              </execution>
+            </executions>
+          </plugin>
+        </plugins>
+      </build>
+    </profile>
+  </profiles>
 </project>
