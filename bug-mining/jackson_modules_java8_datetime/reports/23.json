{"url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281","repository_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8","labels_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281/events","html_url":"https://github.com/FasterXML/jackson-modules-java8/issues/281","id":1943249423,"node_id":"I_kwDOBFVThM5z06IP","number":281,"title":"Add `JavaTimeFeature.NORMALIZE_DESERIALIZED_ZONE_ID` to allow disabling ZoneId normalization on deserialization","user":{"login":"indyana","id":4031280,"node_id":"MDQ6VXNlcjQwMzEyODA=","avatar_url":"https://avatars.githubusercontent.com/u/4031280?v=4","gravatar_id":"","url":"https://api.github.com/users/indyana","html_url":"https://github.com/indyana","followers_url":"https://api.github.com/users/indyana/followers","following_url":"https://api.github.com/users/indyana/following{/other_user}","gists_url":"https://api.github.com/users/indyana/gists{/gist_id}","starred_url":"https://api.github.com/users/indyana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/indyana/subscriptions","organizations_url":"https://api.github.com/users/indyana/orgs","repos_url":"https://api.github.com/users/indyana/repos","events_url":"https://api.github.com/users/indyana/events{/privacy}","received_events_url":"https://api.github.com/users/indyana/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/milestones/27","html_url":"https://github.com/FasterXML/jackson-modules-java8/milestone/27","labels_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/milestones/27/labels","id":9555987,"node_id":"MI_kwDOBFVThM4AkdAT","number":27,"title":"2.16.0","description":null,"creator":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":3,"state":"open","created_at":"2023-06-19T16:25:28Z","updated_at":"2023-11-12T04:18:20Z","due_on":null,"closed_at":null},"comments":5,"created_at":"2023-10-14T12:51:54Z","updated_at":"2023-11-15T22:09:50Z","closed_at":"2023-11-12T04:00:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Change in 2.15 to normalize zone when deserializing to ZonedDateTime causes breakage in some applications because normalized time zone does not match configured Jackson time zone. Would be nice to have ObjectMapper configuration that allows for turning normalization on and off.\r\n\r\nDetails\r\nThere are many places where we're comparing ZonedDateTime fields deserialized from stored JSON strings (format written out: \"2023-02-02T20:23:11.057Z\"), to ZonedDateTime objects created in code with ZoneId.of(\"UTC\") .\r\nComparing a ZonedDateTime object created by application code to one deserialized from JSON now no longer works because the zones are not equal. (Zone of the deserialized JSON got normalized to \"Z\" starting in 2.15 release).\r\n\r\nThis happens whether relying on Jackson default time zone OR specifically configuring the ObjectMapper / Jackson to use time zone \"UTC\".\r\n\r\nFixing seems to mean replacing anywhere in code using ZoneId \"UTC\" with the offset zone Z, but that's a lot of application code to go through.\r\n\r\nNotes from comments on issue #267\r\n\r\n@indyana If you'd like to see configurability, please file a new issue as RFE, asking for configurability, referencing back to this issue. Then if anyone has time and interest they could work on adding this feature -- it does sound useful.\r\n\r\nOne practical complication here is just that module does not yet have configurability, so would probably need to add a `JavaTimeModule.Feature` enum and a bit of scaffolding. Aside from that should be quite straight-forward.\r\n\r\n_Originally posted by @cowtowncoder in https://github.com/FasterXML/jackson-modules-java8/issues/267#issuecomment-1761969124_\r\n            ","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-modules-java8/issues/281/timeline","performed_via_github_app":null,"state_reason":"completed"}