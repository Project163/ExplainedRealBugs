<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sun Nov 09 05:53:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COLLECTIONS-307] SetUniqueList.subList().contains() method checks against full parent list, not sublist range</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-307</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;The view returned by the subList() method of a SetUniqueList checks contains() against the set of the original list.&lt;/p&gt;

&lt;p&gt;As shown by the following test snippet.&lt;/p&gt;

&lt;p&gt;		List list = new ArrayList();&lt;br/&gt;
		List uniqueList = SetUniqueList.decorate(list);&lt;br/&gt;
		uniqueList.add(&quot;Hello&quot;);&lt;br/&gt;
		uniqueList.add(&quot;World&quot;);&lt;br/&gt;
		List subList = list.subList(0, 0);&lt;br/&gt;
		List subUniqueList = uniqueList.subList(0, 0);&lt;br/&gt;
		assertFalse(subList.contains(&quot;World&quot;)); // passes&lt;br/&gt;
		assertFalse(subUniqueList.contains(&quot;World&quot;)); // fails&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408351">COLLECTIONS-307</key>
            <summary>SetUniqueList.subList().contains() method checks against full parent list, not sublist range</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chsemrau">Christian Semrau</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Nov 2008 16:59:19 +0000</created>
                <updated>Sun, 8 Nov 2015 21:12:34 +0000</updated>
                            <resolved>Thu, 28 Feb 2013 20:03:15 +0000</resolved>
                                    <version>3.2</version>
                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>List</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646952" author="chsemrau" created="Wed, 12 Nov 2008 17:01:03 +0000"  >&lt;p&gt;The same problem occurs with containsAll().&lt;/p&gt;</comment>
                            <comment id="12659497" author="bayard" created="Mon, 29 Dec 2008 05:10:43 +0000"  >&lt;p&gt;Thanks for the report Christian. The bug is because the subList call doesn&apos;t create a new set to represent uniqueness but instead uses the parent list&apos;s set. Easy enough to fix if we hardcode the type of set. Harder to do if we want to use the same Set as originally passed in as there&apos;s no guaranteed cloning method.&lt;/p&gt;

&lt;p&gt;Tempted to do a helper method of:&lt;/p&gt;

&lt;p&gt;if instanceof Cloneable&lt;br/&gt;
  clone&lt;br/&gt;
else if empty Constructor&lt;br/&gt;
  construct and use addAll&lt;br/&gt;
else use defaultValue (ie: HashSet)&lt;/p&gt;</comment>
                            <comment id="12659522" author="bayard" created="Mon, 29 Dec 2008 07:54:34 +0000"  >&lt;p&gt;(Forgot how lame clone is in Java... so that becomes:&lt;/p&gt;

&lt;p&gt;if empty Constructor&lt;br/&gt;
  create empty instance&lt;br/&gt;
else use HashSet&lt;br/&gt;
fill either case with addAll&lt;/p&gt;</comment>
                            <comment id="12660053" author="bayard" created="Wed, 31 Dec 2008 09:40:38 +0000"  >&lt;p&gt;Two tests and the suggested patch attached.&lt;/p&gt;</comment>
                            <comment id="12660692" author="bayard" created="Mon, 5 Jan 2009 09:10:18 +0000"  >&lt;p&gt;svn ci -m &quot;Applying my patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/COLLECTIONS-307&quot; title=&quot;SetUniqueList.subList().contains() method checks against full parent list, not sublist range&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COLLECTIONS-307&quot;&gt;&lt;del&gt;COLLECTIONS-307&lt;/del&gt;&lt;/a&gt;. Fixes the bug raised by Christian Semrau that SetUniqueList.subList() was not redefining the uniqueness set when creating the sublist. &quot; src&lt;/p&gt;

&lt;p&gt;Sending        src/java/org/apache/commons/collections/list/SetUniqueList.java&lt;br/&gt;
Sending        src/test/org/apache/commons/collections/list/TestSetUniqueList.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 731498.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396964" name="COLLECTIONS-307.patch" size="3485" author="bayard" created="Wed, 31 Dec 2008 09:40:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 46 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0si7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>