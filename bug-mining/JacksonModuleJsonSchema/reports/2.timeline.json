[{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/60015742","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/47#issuecomment-60015742","issue_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/47","id":60015742,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDE1NzQy","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-10-21T23:31:02Z","updated_at":"2014-10-21T23:35:45Z","body":"Ouch. Static anything is pretty stupid thing to do...  All objects should be bound to call life-cycle.\n\nThank you for reporting this, and apologies for letting such a stupid flaw make it in.\n\nBut fortunately this seems to be more of an oversight with calls; will fix this shortly.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/60015742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":181860399,"node_id":"MDExOkNsb3NlZEV2ZW50MTgxODYwMzk5","url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/events/181860399","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d924e7fd9f8f62c7af380cedd7fc19687452b38b","commit_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/commits/d924e7fd9f8f62c7af380cedd7fc19687452b38b","created_at":"2014-10-21T23:45:27Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"jesse8888","id":8041793,"node_id":"MDQ6VXNlcjgwNDE3OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8041793?v=4","gravatar_id":"","url":"https://api.github.com/users/jesse8888","html_url":"https://github.com/jesse8888","followers_url":"https://api.github.com/users/jesse8888/followers","following_url":"https://api.github.com/users/jesse8888/following{/other_user}","gists_url":"https://api.github.com/users/jesse8888/gists{/gist_id}","starred_url":"https://api.github.com/users/jesse8888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jesse8888/subscriptions","organizations_url":"https://api.github.com/users/jesse8888/orgs","repos_url":"https://api.github.com/users/jesse8888/repos","events_url":"https://api.github.com/users/jesse8888/events{/privacy}","received_events_url":"https://api.github.com/users/jesse8888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-12-18T01:11:37Z","updated_at":"2014-12-18T01:11:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54","repository_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema","labels_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54/events","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/54","id":51374799,"node_id":"MDU6SXNzdWU1MTM3NDc5OQ==","number":54,"title":"Inconsistent json-schema output for mac vs sles11","user":{"login":"jesse8888","id":8041793,"node_id":"MDQ6VXNlcjgwNDE3OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8041793?v=4","gravatar_id":"","url":"https://api.github.com/users/jesse8888","html_url":"https://github.com/jesse8888","followers_url":"https://api.github.com/users/jesse8888/followers","following_url":"https://api.github.com/users/jesse8888/following{/other_user}","gists_url":"https://api.github.com/users/jesse8888/gists{/gist_id}","starred_url":"https://api.github.com/users/jesse8888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jesse8888/subscriptions","organizations_url":"https://api.github.com/users/jesse8888/orgs","repos_url":"https://api.github.com/users/jesse8888/repos","events_url":"https://api.github.com/users/jesse8888/events{/privacy}","received_events_url":"https://api.github.com/users/jesse8888/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-12-09T00:59:41Z","updated_at":"2014-12-18T01:11:41Z","closed_at":"2014-12-18T01:11:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":5429496,"node_id":"MDEwOlJlcG9zaXRvcnk1NDI5NDk2","name":"jackson-module-jsonSchema","full_name":"FasterXML/jackson-module-jsonSchema","private":false,"owner":{"login":"FasterXML","id":382692,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM4MjY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/382692?v=4","gravatar_id":"","url":"https://api.github.com/users/FasterXML","html_url":"https://github.com/FasterXML","followers_url":"https://api.github.com/users/FasterXML/followers","following_url":"https://api.github.com/users/FasterXML/following{/other_user}","gists_url":"https://api.github.com/users/FasterXML/gists{/gist_id}","starred_url":"https://api.github.com/users/FasterXML/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FasterXML/subscriptions","organizations_url":"https://api.github.com/users/FasterXML/orgs","repos_url":"https://api.github.com/users/FasterXML/repos","events_url":"https://api.github.com/users/FasterXML/events{/privacy}","received_events_url":"https://api.github.com/users/FasterXML/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/FasterXML/jackson-module-jsonSchema","description":"(DEPRECATED for Jackson 3) Module for generating JSON Schema (v3) definitions from POJOs","fork":false,"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema","forks_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/forks","keys_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/keys{/key_id}","collaborators_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/teams","hooks_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/hooks","issue_events_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/events{/number}","events_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/events","assignees_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/assignees{/user}","branches_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/branches{/branch}","tags_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/tags","blobs_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/git/refs{/sha}","trees_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/git/trees{/sha}","statuses_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/statuses/{sha}","languages_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/languages","stargazers_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/stargazers","contributors_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/contributors","subscribers_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/subscribers","subscription_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/subscription","commits_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/commits{/sha}","git_commits_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/git/commits{/sha}","comments_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/comments{/number}","issue_comment_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments{/number}","contents_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/contents/{+path}","compare_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/compare/{base}...{head}","merges_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/merges","archive_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/downloads","issues_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues{/number}","pulls_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/pulls{/number}","milestones_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/milestones{/number}","notifications_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/labels{/name}","releases_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/releases{/id}","deployments_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/deployments","created_at":"2012-08-15T18:00:25Z","updated_at":"2025-10-31T00:03:42Z","pushed_at":"2025-10-31T00:03:36Z","git_url":"git://github.com/FasterXML/jackson-module-jsonSchema.git","ssh_url":"git@github.com:FasterXML/jackson-module-jsonSchema.git","clone_url":"https://github.com/FasterXML/jackson-module-jsonSchema.git","svn_url":"https://github.com/FasterXML/jackson-module-jsonSchema","homepage":"","size":2627,"stargazers_count":382,"watchers_count":382,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":139,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":37,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":139,"open_issues":37,"watchers":382,"default_branch":"2.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm using jackson to generate json schema strings from POJOs with some code that looks like this:\n\n```\nObjectMapper mapper = new ObjectMapper();\nmapper.registerModule( new JaxbAnnotationModule() );\nSchemaFactoryWrapper visitor = new SchemaFactoryWrapper();\ntry\n{\n  for (Class<?> annotatedClass : annotatedClasses)\n  {\n    mapper.acceptJsonFormatVisitor(annotatedClass, visitor);\n    JsonSchema jsonSchema = visitor.finalSchema();\n    String schemaString = mapper.writerWithDefaultPrettyPrinter()\n        .writeValueAsString(jsonSchema);\n```\n\nWhen I run this code on my linux machine for some POJOs (I'll use one as a specific example) I get the incomplete schema below:\n\n{\n  \"type\" : \"object\",\n  \"id\" : \"urn:jsonschema:com:emc:brs:policy:msg:ds:CreateDataSourceRequest\",\n  \"properties\" : {\n    \"className\" : {\n      \"type\" : \"string\",\n      \"required\" : true\n    },\n    \"messageVersion\" : {\n      \"type\" : \"string\",\n      \"required\" : true,\n      \"description\" : \"The version of this message\",\n      \"enum\" : [ \"1\" ]\n    },\n    \"dataSource\" : {\n      \"type\" : \"object\",\n      \"$ref\" : \"urn:jsonschema:com:emc:brs:policy:msg:DataSource\",\n    }\n  }\n}\n\nWhen my co-worker runs the exact same code on his mac, he gets the desired output schema:\n\n{\n  \"type\" : \"object\",\n  \"id\" : \"urn:jsonschema:com:emc:brs:policy:msg:ds:CreateDataSourceRequest\",\n  \"properties\" : {\n    \"className\" : {\n      \"type\" : \"string\",\n      \"required\" : true\n    },\n    \"messageVersion\" : {\n      \"type\" : \"string\",\n      \"required\" : true,\n      \"description\" : \"The version of this message\",\n      \"enum\" : [ \"1\" ]\n    },\n    \"dataSource\" : {\n      \"type\" : \"object\",\n      \"id\" : \"urn:jsonschema:com:emc:brs:policy:msg:DataSource\",\n      \"properties\" : {\n        \"hosts\" : {\n          \"type\" : \"array\",\n          \"required\" : true,\n          \"description\" : \"Reference to the credentials object if applicable\",\n          \"items\" : {\n            \"type\" : \"object\",\n            \"id\" : \"urn:jsonschema:com:emc:brs:policy:msg:Host\",\n            \"properties\" : {\n              \"hostname\" : {\n                \"type\" : \"string\"\n              },\n              \"ipv6Address\" : {\n                \"type\" : \"string\"\n              },\n              \"name\" : {\n                \"type\" : \"string\",\n                \"description\" : \"Optional alias or name of the object\"\n              },\n              \"ipv4Address\" : {\n                \"type\" : \"string\"\n              },\n              \"osType\" : {\n                \"type\" : \"string\"\n              },\n              \"attributes\" : {\n                \"type\" : \"object\",\n                \"description\" : \"List of attributes for the object\",\n                \"additionalProperties\" : {\n                  \"type\" : \"string\"\n                }\n              },\n              \"uuid\" : {\n                \"type\" : \"string\",\n                \"required\" : true,\n                \"description\" : \"Unique id of this object\"\n              },\n              \"tags\" : {\n                \"type\" : \"object\",\n                \"description\" : \"List of tags for the object\",\n                \"additionalProperties\" : {\n                  \"type\" : \"string\"\n                }\n              }\n            }\n          }\n        },\n        \"paths\" : {\n          \"type\" : \"array\",\n          \"required\" : true,\n          \"description\" : \"List of paths and/or compound paths to back up\",\n          \"items\" : {\n            \"type\" : \"string\"\n          }\n        },\n        \"name\" : {\n          \"type\" : \"string\",\n          \"description\" : \"Optional alias or name of the object\"\n        },\n        \"options\" : {\n          \"type\" : \"object\",\n          \"id\" : \"urn:jsonschema:com:emc:brs:policy:msg:Options\",\n          \"properties\" : {\n            \"name\" : {\n              \"type\" : \"string\",\n              \"description\" : \"Optional alias or name of the object\"\n            },\n            \"flags\" : {\n              \"type\" : \"object\",\n              \"additionalProperties\" : {\n                \"type\" : \"string\"\n              }\n            },\n            \"attributes\" : {\n              \"type\" : \"object\",\n              \"description\" : \"List of attributes for the object\",\n              \"additionalProperties\" : {\n                \"type\" : \"string\"\n              }\n            },\n            \"pid\" : {\n              \"type\" : \"integer\"\n            },\n            \"uuid\" : {\n              \"type\" : \"string\",\n              \"required\" : true,\n              \"description\" : \"Unique id of this object\"\n            },\n            \"version\" : {\n              \"type\" : \"string\"\n            },\n            \"tags\" : {\n              \"type\" : \"object\",\n              \"description\" : \"List of tags for the object\",\n              \"additionalProperties\" : {\n                \"type\" : \"string\"\n              }\n            }\n          }\n        },\n        \"attributes\" : {\n          \"type\" : \"object\",\n          \"description\" : \"List of attributes for the object\",\n          \"additionalProperties\" : {\n            \"type\" : \"string\"\n          }\n        },\n        \"uuid\" : {\n          \"type\" : \"string\",\n          \"required\" : true,\n          \"description\" : \"Unique id of this object\"\n        },\n        \"creds\" : {\n          \"type\" : \"object\",\n          \"$ref\" : \"urn:jsonschema:com:emc:brs:policy:msg:Creds\"\n        },\n        \"dataSourceType\" : {\n          \"type\" : \"string\",\n          \"required\" : true,\n          \"description\" : \"The type of data source\",\n          \"enum\" : [ \"FILE_SYSTEM\", \"FILE_SYSTEM_TRADITIONAL\", \"FILE_SYSTEM_INCREMENTAL_FOREVER\", \"DB2\", \"EXCHANGE\", \"HYPER_V\", \"INTERNAL\", \"LOTUS\", \"NAS_DEVICE\", \"ORACLE\", \"SAP\", \"SHAREPOINT\", \"SQL\", \"SYBASE\", \"VMWARE\", \"UNKNOWN\" ]\n        },\n        \"tags\" : {\n          \"type\" : \"object\",\n          \"description\" : \"List of tags for the object\",\n          \"additionalProperties\" : {\n            \"type\" : \"string\"\n          }\n        }\n      }\n    }\n  }\n}\n\nI am at a loss for what could be causing this beyond some sort of nasty/inconsistent interaction between Jackson and the JVM implementations.  Have you seen anything like this before?  Is there anything obvious I should try as a workaround?\n","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/54/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]