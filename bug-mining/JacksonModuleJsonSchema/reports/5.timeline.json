[{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/90168787","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/67#issuecomment-90168787","issue_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/67","id":90168787,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMTY4Nzg3","user":{"login":"sebfz1","id":1717144,"node_id":"MDQ6VXNlcjE3MTcxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1717144?v=4","gravatar_id":"","url":"https://api.github.com/users/sebfz1","html_url":"https://github.com/sebfz1","followers_url":"https://api.github.com/users/sebfz1/followers","following_url":"https://api.github.com/users/sebfz1/following{/other_user}","gists_url":"https://api.github.com/users/sebfz1/gists{/gist_id}","starred_url":"https://api.github.com/users/sebfz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebfz1/subscriptions","organizations_url":"https://api.github.com/users/sebfz1/orgs","repos_url":"https://api.github.com/users/sebfz1/repos","events_url":"https://api.github.com/users/sebfz1/events{/privacy}","received_events_url":"https://api.github.com/users/sebfz1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-06T17:44:01Z","updated_at":"2015-04-06T17:44:01Z","body":"Here is the unit test:\nhttps://github.com/sebfz1/jackson-issues/tree/master/issue-67\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/90168787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebfz1","id":1717144,"node_id":"MDQ6VXNlcjE3MTcxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1717144?v=4","gravatar_id":"","url":"https://api.github.com/users/sebfz1","html_url":"https://github.com/sebfz1","followers_url":"https://api.github.com/users/sebfz1/followers","following_url":"https://api.github.com/users/sebfz1/following{/other_user}","gists_url":"https://api.github.com/users/sebfz1/gists{/gist_id}","starred_url":"https://api.github.com/users/sebfz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebfz1/subscriptions","organizations_url":"https://api.github.com/users/sebfz1/orgs","repos_url":"https://api.github.com/users/sebfz1/repos","events_url":"https://api.github.com/users/sebfz1/events{/privacy}","received_events_url":"https://api.github.com/users/sebfz1/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96837120","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/67#issuecomment-96837120","issue_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/67","id":96837120,"node_id":"MDEyOklzc3VlQ29tbWVudDk2ODM3MTIw","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-27T22:17:19Z","updated_at":"2015-04-27T22:17:19Z","body":"Ok, first things first: the immediate reason for failure is use of type 'object', which will result in basic `ObjectSchema` being deserialized.\n\nBut adding handling of this new type is more involved. I'll see if I can figure that out, and if so, will add instructions for doing that.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96837120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96848966","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/67#issuecomment-96848966","issue_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/67","id":96848966,"node_id":"MDEyOklzc3VlQ29tbWVudDk2ODQ4OTY2","user":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-27T23:20:11Z","updated_at":"2015-04-27T23:20:11Z","body":"Sample implementation will be found from 'src/test/java/com/fasterxml/jackson/module/jsonSchema/CustomSchemaReadTest.java'. Here are the things needed:\n\n``` java\n    @JsonTypeIdResolver(MyResolver.class)\n    public static class MySchema extends ObjectSchema { }\n\n    static class MyResolver extends JsonSchemaIdResolver\n    {\n        @Override\n        public String idFromValue(Object value) {\n            if (value instanceof MySchema) {\n                return \"CUSTOM\";\n            }\n            return super.idFromValue(value);\n        }\n\n        @Override\n        public String idFromValueAndType(Object value, Class<?> suggestedType) {\n            if (value instanceof MySchema) {\n                return \"CUSTOM\";\n            }\n            return super.idFromValueAndType(value, suggestedType);\n        }\n\n        @Override\n        public JavaType typeFromId(DatabindContext ctxt, String id) {\n            if (\"CUSTOM\".equals(id)) {\n                return ctxt.constructType(MySchema.class);\n            }\n            return super.typeFromId(ctxt, id);\n        }\n    }\n```\n\nso it just boils down to adding handling for custom type; you can choose whatever id you want, and it would be possible to make this bit more general.\n\nWhat I do not know is why handling was done this way: standard Jackson mechanism would have been to instead of basic `@JsonTypeName` without custom id handler. But the original author (this is a contribution) for some reason chose a bit more complex (and less extensible) route.\nPerhaps this should be revisited in future.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96848966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":291434948,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI5MTQzNDk0OA==","url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/events/291434948","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-04-27T23:20:15Z","milestone":{"title":"2.6.0"},"performed_via_github_app":null},{"id":291435010,"node_id":"MDExOkNsb3NlZEV2ZW50MjkxNDM1MDEw","url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/events/291435010","actor":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"671188e19497abd9d403e88b6fb176569405d539","commit_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/commits/671188e19497abd9d403e88b6fb176569405d539","created_at":"2015-04-27T23:20:20Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96971751","html_url":"https://github.com/FasterXML/jackson-module-jsonSchema/issues/67#issuecomment-96971751","issue_url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/67","id":96971751,"node_id":"MDEyOklzc3VlQ29tbWVudDk2OTcxNzUx","user":{"login":"sebfz1","id":1717144,"node_id":"MDQ6VXNlcjE3MTcxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1717144?v=4","gravatar_id":"","url":"https://api.github.com/users/sebfz1","html_url":"https://github.com/sebfz1","followers_url":"https://api.github.com/users/sebfz1/followers","following_url":"https://api.github.com/users/sebfz1/following{/other_user}","gists_url":"https://api.github.com/users/sebfz1/gists{/gist_id}","starred_url":"https://api.github.com/users/sebfz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebfz1/subscriptions","organizations_url":"https://api.github.com/users/sebfz1/orgs","repos_url":"https://api.github.com/users/sebfz1/repos","events_url":"https://api.github.com/users/sebfz1/events{/privacy}","received_events_url":"https://api.github.com/users/sebfz1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-04-28T08:26:36Z","updated_at":"2015-04-28T08:26:36Z","body":"Hi Tatu,\n\nThank you very much for this!\n\nBest regards,\nSebastien\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-module-jsonSchema/issues/comments/96971751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebfz1","id":1717144,"node_id":"MDQ6VXNlcjE3MTcxNDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1717144?v=4","gravatar_id":"","url":"https://api.github.com/users/sebfz1","html_url":"https://github.com/sebfz1","followers_url":"https://api.github.com/users/sebfz1/followers","following_url":"https://api.github.com/users/sebfz1/following{/other_user}","gists_url":"https://api.github.com/users/sebfz1/gists{/gist_id}","starred_url":"https://api.github.com/users/sebfz1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebfz1/subscriptions","organizations_url":"https://api.github.com/users/sebfz1/orgs","repos_url":"https://api.github.com/users/sebfz1/repos","events_url":"https://api.github.com/users/sebfz1/events{/privacy}","received_events_url":"https://api.github.com/users/sebfz1/received_events","type":"User","user_view_type":"public","site_admin":false}}]