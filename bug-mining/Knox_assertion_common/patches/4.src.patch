diff --git a/gateway-provider-identity-assertion-common/src/test/java/org/apache/hadoop/gateway/identityasserter/function/UsernameFunctionProcessorTest.java b/gateway-provider-identity-assertion-common/src/test/java/org/apache/hadoop/gateway/identityasserter/function/UsernameFunctionProcessorTest.java
index ebbe6ec81..3cc81a8dc 100644
--- a/gateway-provider-identity-assertion-common/src/test/java/org/apache/hadoop/gateway/identityasserter/function/UsernameFunctionProcessorTest.java
+++ b/gateway-provider-identity-assertion-common/src/test/java/org/apache/hadoop/gateway/identityasserter/function/UsernameFunctionProcessorTest.java
@@ -223,7 +223,7 @@ public class UsernameFunctionProcessorTest {
       try {
         request.setAttribute(
             AbstractGatewayFilter.SOURCE_REQUEST_URL_ATTRIBUTE_NAME,
-            Parser.parse( sourceUrl.toString() ) );
+            Parser.parseLiteral( sourceUrl.toString() ) );
       } catch( URISyntaxException e ) {
         throw new ServletException( e );
       }
