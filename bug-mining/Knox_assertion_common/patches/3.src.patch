diff --git a/gateway-provider-identity-assertion-common/pom.xml b/gateway-provider-identity-assertion-common/pom.xml
index 0926e2083..5a0237321 100644
--- a/gateway-provider-identity-assertion-common/pom.xml
+++ b/gateway-provider-identity-assertion-common/pom.xml
@@ -44,6 +44,10 @@
             <groupId>commons-io</groupId>
             <artifactId>commons-io</artifactId>
         </dependency>
+        <dependency>
+            <groupId>commons-codec</groupId>
+            <artifactId>commons-codec</artifactId>
+        </dependency>
 
         <dependency>
             <groupId>${gateway-group}</groupId>
diff --git a/gateway-provider-identity-assertion-common/src/main/java/org/apache/hadoop/gateway/identityasserter/common/filter/IdentityAsserterHttpServletRequestWrapper.java b/gateway-provider-identity-assertion-common/src/main/java/org/apache/hadoop/gateway/identityasserter/common/filter/IdentityAsserterHttpServletRequestWrapper.java
index 50e9e601e..d32cc58bf 100644
--- a/gateway-provider-identity-assertion-common/src/main/java/org/apache/hadoop/gateway/identityasserter/common/filter/IdentityAsserterHttpServletRequestWrapper.java
+++ b/gateway-provider-identity-assertion-common/src/main/java/org/apache/hadoop/gateway/identityasserter/common/filter/IdentityAsserterHttpServletRequestWrapper.java
@@ -21,6 +21,7 @@ import org.apache.commons.io.IOUtils;
 import org.apache.hadoop.gateway.SpiGatewayMessages;
 import org.apache.hadoop.gateway.config.GatewayConfig;
 import org.apache.hadoop.gateway.i18n.messages.MessagesFactory;
+import org.apache.hadoop.gateway.util.HttpUtils;
 
 import javax.servlet.ServletInputStream;
 import javax.servlet.http.HttpServletRequest;
@@ -92,7 +93,7 @@ public class IdentityAsserterHttpServletRequestWrapper extends HttpServletReques
     Map<String, String[]> params = null;
     if (getMethod().equals("GET")) {
       if (qString != null && qString.length() > 0) {
-        params = parseQueryString(qString);
+        params = HttpUtils.parseQueryString( qString );
       }
       else {
         params = new HashMap<String, String[]>();
@@ -103,7 +104,7 @@ public class IdentityAsserterHttpServletRequestWrapper extends HttpServletReques
         return null;
       }
       else {
-        params = parseQueryString(qString);
+        params = HttpUtils.parseQueryString( qString );
       }
     }  
     return params;
@@ -213,11 +214,6 @@ public class IdentityAsserterHttpServletRequestWrapper extends HttpServletReques
     return sb.toString();
   }
 
-  @SuppressWarnings({ "deprecation", "unchecked" })
-  private static Map<String,String[]> parseQueryString( String queryString ) {
-    return javax.servlet.http.HttpUtils.parseQueryString( queryString );
-  }
-  
   private class ServletInputStreamWrapper extends ServletInputStream {
 
     private InputStream stream;
