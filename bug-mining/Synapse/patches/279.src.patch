diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/AbstractDBMediatorFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/AbstractDBMediatorFactory.java
index fd19e8388..eea6e1f99 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/AbstractDBMediatorFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/AbstractDBMediatorFactory.java
@@ -134,9 +134,24 @@ public abstract class AbstractDBMediatorFactory extends AbstractMediatorFactory
     }
 
     private void readLookupConfig(AbstractDBMediator mediator, OMElement pool) {
+        DataSourceInformation dataSourceInformation = new DataSourceInformation();
+        dataSourceInformation.setUrl(getValue(pool, URL_Q));
         String dataSourceName = getValue(pool, DSNAME_Q);
         mediator.setDataSourceName(dataSourceName);
         saveElementConfig(pool, DSNAME_Q, mediator);
+        SecretInformation secretInformation = new SecretInformation();
+        secretInformation.setUser(getValue(pool, USER_Q));
+        secretInformation.setAliasSecret(getValue(pool, PASS_Q));
+        dataSourceInformation.setSecretInformation(secretInformation);
+
+        Iterator poolPropIter = pool.getChildrenWithName(PROP_Q);
+        if(poolPropIter != null){
+            while (poolPropIter.hasNext()){
+                OMElement poolProp = (OMElement) poolPropIter.next();
+                readPoolProperty(mediator, dataSourceInformation, poolProp);
+            }
+        }
+        mediator.setDataSourceInformation(dataSourceInformation);
         
         if (pool.getFirstChildWithName(ICCLASS_Q) != null) {
             
diff --git a/java/modules/core/src/main/java/org/apache/synapse/mediators/db/AbstractDBMediator.java b/java/modules/core/src/main/java/org/apache/synapse/mediators/db/AbstractDBMediator.java
index cd8db7ff0..091d3e80b 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/mediators/db/AbstractDBMediator.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/mediators/db/AbstractDBMediator.java
@@ -353,27 +353,27 @@ public abstract class AbstractDBMediator extends AbstractMediator implements Man
         if (finder.isInitialized()) {
             // first try a lookup based on the data source name only
             dataSource = finder.find(dataSourceName);
+        }
 
-            if (dataSource != null) {
-                MBeanRepository mBeanRepository = DatasourceMBeanRepository.getInstance();
-                Object mBean = mBeanRepository.getMBean(dataSourceName);
-                if (mBean instanceof DBPoolView) {
-                    setDbPoolView((DBPoolView) mBean);
-                }
-            } else {
-                // decrypt the password if needed
-                String password = jndiProperties.getProperty(Context.SECURITY_CREDENTIALS);
-                if (password != null && !"".equals(password)) {
-                    jndiProperties.put(Context.SECURITY_CREDENTIALS, getActualPassword(password));
-                }
+        if(dataSource == null){
+        // decrypt the password if needed
+            String password = jndiProperties.getProperty(Context.SECURITY_CREDENTIALS);
+            if (password != null && !"".equals(password)) {
+                jndiProperties.put(Context.SECURITY_CREDENTIALS, getActualPassword(password));
+            }
 
-                // lookup the data source using the specified jndi properties
-                dataSource = DataSourceFinder.find(dataSourceName, jndiProperties);
-                if (dataSource == null) {
-                    handleException("Cannot find a DataSource " + dataSourceName + " for given JNDI properties :" + jndiProperties);
-                }
+            // lookup the data source using the specified jndi properties
+            dataSource = DataSourceFinder.find(dataSourceName, jndiProperties);
+            if (dataSource == null) {
+                handleException("Cannot find a DataSource " + dataSourceName + " for given JNDI" +
+                        " properties :" + jndiProperties);
             }
         }
+        MBeanRepository mBeanRepository = DatasourceMBeanRepository.getInstance();
+        Object mBean = mBeanRepository.getMBean(dataSourceName);
+        if (mBean instanceof DBPoolView) {
+            setDbPoolView((DBPoolView) mBean);
+        }
         log.info("Sunccessfully looked up datasource " + dataSourceName + ".");
 
         return dataSource;
