diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/CustomURIResolver.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/CustomURIResolver.java
index b9e039601..907bc3db6 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/CustomURIResolver.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/CustomURIResolver.java
@@ -42,10 +42,13 @@ public class CustomURIResolver implements URIResolver {
     }
 
     public InputSource resolveEntity(String targetNamespace, String schemaLocation, String baseUri) {
+        InputSource result = null;
         if (resourceMap != null) {
-            return resourceMap.resolve(synCfg, schemaLocation);
-        } else {
-            return new InputSource(SynapseConfigUtils.resolveRelativeURI(baseUri, schemaLocation));
+            result = resourceMap.resolve(synCfg, schemaLocation);
         }
+        if (result == null) {
+            result = new InputSource(SynapseConfigUtils.resolveRelativeURI(baseUri, schemaLocation));
+        }
+        return result;
     }
 }
