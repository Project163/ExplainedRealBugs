diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/SynapseConfigUtils.java b/java/modules/core/src/main/java/org/apache/synapse/config/SynapseConfigUtils.java
index 2b95cc59b..3d3b5c6f3 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/SynapseConfigUtils.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/SynapseConfigUtils.java
@@ -636,6 +636,34 @@ public class SynapseConfigUtils {
         return url;
     }
 
+    /**
+     * Resolve a relative URI. If the URI is a file and it's path is relative, the basePath will be
+     * used as parent location. If the URI is null the basePath will be returned as URI.
+     *
+     * @param uri      the URI to resolve
+     * @param basePath the base path
+     * @return the absolute URI
+     */
+    public static URI resolveRelativeURI(URI uri, String basePath) {
+        URI baseURI;
+        if (uri != null) {
+            if ("file".equals(uri.getScheme())) {
+                String wsdlPath = uri.getSchemeSpecificPart();
+                if (!new File(wsdlPath).isAbsolute()) {
+                    baseURI = new File(new File(basePath),
+                            wsdlPath).toURI();
+                } else {
+                    baseURI = uri;
+                }
+            } else {
+                baseURI = uri;
+            }
+        } else {
+            baseURI = new File(basePath).toURI();
+        }
+        return baseURI;
+    }
+
     public static String resolveRelativeURI(String parentLocation, String relativeLocation) {
 
         if (relativeLocation == null) {
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
index 89e79e484..eaeacf8ef 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
@@ -34,6 +34,7 @@ import org.apache.synapse.endpoints.EndpointDefinition;
 
 import javax.xml.namespace.QName;
 import java.io.File;
+import java.net.URI;
 import java.net.URL;
 import java.util.Properties;
 
@@ -126,20 +127,22 @@ public class WSDLEndpointFactory extends DefaultEndpointFactory {
             if (wsdlURI != null) {
                 wsdlEndpoint.setWsdlURI(wsdlURI.trim());
                 if (noParsing == null || !JavaUtils.isTrueExplicitly(noParsing)) {
+                    String synapseHome = properties.get(SynapseConstants.SYNAPSE_HOME) != null ?
+                            properties.get(SynapseConstants.SYNAPSE_HOME).toString() : "";
                     try {
                         OMNode wsdlOM = SynapseConfigUtils.getOMElementFromURL(new URL(wsdlURI)
-                                .toString(), properties.get(SynapseConstants.SYNAPSE_HOME) != null ?
-                                properties.get(SynapseConstants.SYNAPSE_HOME).toString() : "");
+                                .toString(), synapseHome);
                         if (wsdlOM != null && wsdlOM instanceof OMElement) {
                             OMElement omElement = (OMElement) wsdlOM;
                             OMNamespace ns = omElement.getNamespace();
                             if (ns != null) {
                                 String nsUri = omElement.getNamespace().getNamespaceURI();
                                 if (org.apache.axis2.namespace.Constants.NS_URI_WSDL11.equals(nsUri)) {
-
+                                    URI baseURI = SynapseConfigUtils.resolveRelativeURI(
+                                            new URI(wsdlURI), synapseHome);
                                     new WSDL11EndpointBuilder().
                                             populateEndpointDefinitionFromWSDL(endpoint,
-                                                    wsdlURI.trim(), omElement, serviceName, portName);
+                                                    baseURI.toString(), omElement, serviceName, portName);
 
                                 } else if (WSDL2Constants.WSDL_NAMESPACE.equals(nsUri)) {
                                     //endpoint = new WSDL20EndpointBuilder().
diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
index f8d72411c..521f6690a 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
@@ -251,9 +251,8 @@ public class ProxyService implements AspectConfigurable, SynapseArtifact {
         boolean wsdlFound = false;
         String publishWSDL = null;
 
-        SynapseEnvironment synEnv = SynapseConfigUtils.getSynapseEnvironment(axisCfg);
-        String synapseHome = synEnv != null ? synEnv.getServerContextInformation()
-                .getServerConfigurationInformation().getSynapseHome() : "";
+        String synapseHome = synCfg.getProperty(SynapseConstants.SYNAPSE_HOME) != null ?
+                synCfg.getProperty(SynapseConstants.SYNAPSE_HOME) : "";
 
         if (wsdlKey != null) {
             synCfg.getEntryDefinition(wsdlKey);
@@ -374,8 +373,8 @@ public class ProxyService implements AspectConfigurable, SynapseArtifact {
                                     "Could not get the WSDL to Axis Service Builder");
                         }
 
-                        wsdlToAxisServiceBuilder.setBaseUri(wsdlURI != null ?
-                                wsdlURI.toString() : synapseHome);
+                        URI baseURI = SynapseConfigUtils.resolveRelativeURI(wsdlURI, synapseHome);
+                        wsdlToAxisServiceBuilder.setBaseUri(baseURI.toString());
 
                         if (trace()) {
                             trace.info("Setting up custom resolvers");
@@ -399,8 +398,7 @@ public class ProxyService implements AspectConfigurable, SynapseArtifact {
                                     ((WSDL11ToAxisServiceBuilder)
                                             wsdlToAxisServiceBuilder).setCustomWSDLResolver(
                                             new CustomWSDLLocator(new InputSource(wsdlInputStream),
-                                                    wsdlURI != null ? wsdlURI.toString() : "",
-                                                    resourceMap, synCfg));
+                                                    baseURI.toString(), resourceMap, synCfg));
                                 }
                             } else {
                                 //if the resource map isn't available ,
@@ -412,7 +410,7 @@ public class ProxyService implements AspectConfigurable, SynapseArtifact {
                                     ((WSDL11ToAxisServiceBuilder)
                                             wsdlToAxisServiceBuilder).setCustomWSDLResolver(
                                             new CustomWSDLLocator(new InputSource(wsdlInputStream),
-                                                    wsdlURI != null ? wsdlURI.toString() : ""));
+                                                    baseURI.toString()));
                                 }
                             }
                         }
