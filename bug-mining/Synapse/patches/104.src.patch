diff --git a/java/modules/transports/src/main/java/org/apache/synapse/format/BinaryFormatter.java b/java/modules/transports/src/main/java/org/apache/synapse/format/BinaryFormatter.java
new file mode 100644
index 000000000..522f01a9c
--- /dev/null
+++ b/java/modules/transports/src/main/java/org/apache/synapse/format/BinaryFormatter.java
@@ -0,0 +1,91 @@
+/*
+ *  Licensed to the Apache Software Foundation (ASF) under one
+ *  or more contributor license agreements.  See the NOTICE file
+ *  distributed with this work for additional information
+ *  regarding copyright ownership.  The ASF licenses this file
+ *  to you under the Apache License, Version 2.0 (the
+ *  "License"); you may not use this file except in compliance
+ *  with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *  Unless required by applicable law or agreed to in writing,
+ *  software distributed under the License is distributed on an
+ *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ *  KIND, either express or implied.  See the License for the
+ *  specific language governing permissions and limitations
+ *  under the License.
+ */
+package org.apache.synapse.format;
+
+import java.io.ByteArrayOutputStream;
+import java.io.IOException;
+import java.io.OutputStream;
+import java.net.URL;
+
+import javax.activation.DataHandler;
+
+import org.apache.axiom.om.OMElement;
+import org.apache.axiom.om.OMNode;
+import org.apache.axiom.om.OMOutputFormat;
+import org.apache.axiom.om.OMText;
+import org.apache.axis2.AxisFault;
+import org.apache.axis2.context.MessageContext;
+import org.apache.axis2.transport.MessageFormatter;
+import org.apache.axis2.transport.http.util.URLTemplatingUtil;
+import org.apache.synapse.transport.base.BaseConstants;
+
+public class BinaryFormatter implements MessageFormatter {
+    public byte[] getBytes(MessageContext messageContext, OMOutputFormat format) throws AxisFault {
+        ByteArrayOutputStream baos = new ByteArrayOutputStream();
+        writeTo(messageContext, format, baos, true);
+        return baos.toByteArray();
+    }
+
+    private DataHandler getDataHandler(MessageContext messageContext) {
+        OMElement firstChild = messageContext.getEnvelope().getBody().getFirstElement();
+        if (BaseConstants.DEFAULT_BINARY_WRAPPER.equals(firstChild.getQName())) {
+            OMNode omNode = firstChild.getFirstOMChild();
+            if (omNode != null && omNode instanceof OMText) {
+                Object dh = ((OMText)omNode).getDataHandler();
+                if (dh != null && dh instanceof DataHandler) {
+                    return (DataHandler)dh;
+                }
+            }
+        }
+        return null;
+    }
+    
+    public void writeTo(MessageContext messageContext, OMOutputFormat format,
+            OutputStream outputStream, boolean preserve) throws AxisFault {
+        DataHandler dh = getDataHandler(messageContext);
+        if (dh != null) {
+            try {
+                ((DataHandler)dh).writeTo(outputStream);
+            } catch (IOException e) {
+                throw new AxisFault("Error serializing binary content of element : " +
+                                BaseConstants.DEFAULT_BINARY_WRAPPER, e);
+            }
+        }        
+    }
+
+    public String getContentType(MessageContext messageContext,
+            OMOutputFormat format, String soapAction) {
+        DataHandler dh = getDataHandler(messageContext);
+        if (dh != null) {
+            return dh.getContentType();
+        } else {
+            return null;
+        }
+    }
+
+    public URL getTargetAddress(MessageContext messageContext,
+            OMOutputFormat format, URL targetURL) throws AxisFault {
+        return URLTemplatingUtil.getTemplatedURL(targetURL, messageContext, false);
+    }
+
+    public String formatSOAPAction(MessageContext messageContext,
+            OMOutputFormat format, String soapAction) {
+        return null;
+    }
+}
diff --git a/java/modules/transports/src/main/java/org/apache/synapse/transport/vfs/VFSTransportSender.java b/java/modules/transports/src/main/java/org/apache/synapse/transport/vfs/VFSTransportSender.java
index 6d350fad2..452c47087 100644
--- a/java/modules/transports/src/main/java/org/apache/synapse/transport/vfs/VFSTransportSender.java
+++ b/java/modules/transports/src/main/java/org/apache/synapse/transport/vfs/VFSTransportSender.java
@@ -18,6 +18,8 @@
 */
 package org.apache.synapse.transport.vfs;
 
+import org.apache.synapse.format.BinaryFormatter;
+import org.apache.synapse.format.PlainTextFormatter;
 import org.apache.synapse.transport.base.*;
 import org.apache.axis2.transport.OutTransportInfo;
 import org.apache.axis2.transport.MessageFormatter;
@@ -31,19 +33,9 @@ import org.apache.commons.vfs.impl.StandardFileSystemManager;
 import org.apache.commons.logging.LogFactory;
 import org.apache.axiom.om.OMOutputFormat;
 import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMNode;
-import org.apache.axiom.om.OMText;
-import org.apache.axiom.om.impl.llom.OMSourcedElementImpl;
-
-import javax.activation.DataHandler;
-import javax.xml.stream.XMLStreamException;
-import javax.xml.stream.XMLStreamReader;
 
 import java.io.OutputStream;
 import java.io.IOException;
-import java.io.ByteArrayOutputStream;
-import java.io.OutputStreamWriter;
-import java.io.Writer;
 
 /**
  * axis2.xml - transport definition
@@ -174,122 +166,56 @@ public class VFSTransportSender extends AbstractTransportSender implements Manag
     }
 
     private void populateResponseFile(FileObject responseFile, MessageContext msgContext) throws AxisFault {
-
+        MessageFormatter messageFormatter = null;
+        
         // check the first element of the SOAP body, do we have content wrapped using the
         // default wrapper elements for binary (BaseConstants.DEFAULT_BINARY_WRAPPER) or
-        // text (BaseConstants.DEFAULT_TEXT_WRAPPER) ? If so, do not create SOAP messages
-        // within the files but just get the payload in its native format
-
+        // text (BaseConstants.DEFAULT_TEXT_WRAPPER) ? If so, select the appropriate
+        // message formatter directly ...
         OMElement firstChild = msgContext.getEnvelope().getBody().getFirstElement();
-        OMOutputFormat format = BaseUtils.getOMOutputFormat(msgContext);
         if (firstChild != null) {
             if (BaseConstants.DEFAULT_BINARY_WRAPPER.equals(firstChild.getQName())) {
-                try {
-                    OutputStream os = responseFile.getContent().getOutputStream();
-                    try {
-                        OMNode omNode = firstChild.getFirstOMChild();
-                        if (omNode != null && omNode instanceof OMText) {
-                            Object dh = ((OMText) omNode).getDataHandler();
-                            if (dh != null && dh instanceof DataHandler) {
-                                ByteArrayOutputStream baos = new ByteArrayOutputStream();
-                                try {
-                                    ((DataHandler) dh).writeTo(baos);
-                                } catch (IOException e) {
-                                    metrics.incrementFaultsSending();
-                                    handleException("Error serializing binary content of element : " +
-                                        BaseConstants.DEFAULT_BINARY_WRAPPER, e);
-                                }
-                                os.write(baos.toByteArray());
-                            }
-                        }
-                    } finally {
-                    	os.close();
-                    }
-                } catch (FileSystemException e) {
-                    metrics.incrementFaultsSending();
-                    handleException("Error getting an output stream to file : " +
-                        responseFile.getName().getBaseName(), e);
-                } catch (IOException e) {
-                    metrics.incrementFaultsSending();
-                    handleException("Error getting binary content of message", e);
-                }
-
+                messageFormatter = new BinaryFormatter();
             } else if (BaseConstants.DEFAULT_TEXT_WRAPPER.equals(firstChild.getQName())) {
-                try {
-                    Writer out = new OutputStreamWriter(responseFile.getContent().getOutputStream(),
-                            format.getCharSetEncoding());
-                    try {
-                        if (firstChild instanceof OMSourcedElementImpl) {
-                            XMLStreamReader reader = firstChild.getXMLStreamReader();
-                            while (reader.hasNext()) {
-                                if (reader.next() == XMLStreamReader.CHARACTERS) {
-                                    out.write(reader.getText());
-                                }
-                            }
-                        } else {
-                            out.write(firstChild.getText());
-                        }
-                    } catch (IOException e) {
-                        metrics.incrementFaultsSending();
-                        handleException("Error serializing text content of element : " +
-                                        BaseConstants.DEFAULT_TEXT_WRAPPER, e);
-                    } finally {
-                    	out.close();
-                    }
-                } catch (FileSystemException e) {
-                    metrics.incrementFaultsSending();
-                    handleException("Error getting an output stream to file : " +
-                        responseFile.getName().getBaseName(), e);
-                } catch (IOException e) {
-                    metrics.incrementFaultsSending();
-                    handleException("Error getting text content of message as bytes", e);
-                } catch (XMLStreamException e) {
-                    metrics.incrementFaultsSending();
-                    handleException("Error serializing OMSourcedElement content", e);
-                }
-            } else {
-                populateSOAPFile(responseFile, msgContext, format);
+                messageFormatter = new PlainTextFormatter();
             }
-        } else {
-            populateSOAPFile(responseFile, msgContext, format);
         }
-
-        // update metrics
-        metrics.incrementMessagesSent();
-        try {
-            if (responseFile != null && responseFile.getContent() != null) {
-                metrics.incrementBytesSent(responseFile.getContent().getSize());
+        
+        // ... otherwise, let Axis choose the right message formatter:
+        if (messageFormatter == null) {
+            try {
+                messageFormatter = TransportUtils.getMessageFormatter(msgContext);
+            } catch (AxisFault axisFault) {
+                metrics.incrementFaultsSending();
+                throw new BaseTransportException("Unable to get the message formatter to use");
             }
-        } catch (FileSystemException e) {
-            log.warn("Unable to update transport metrics for file written", e);
         }
-    }
-
-    /**
-     * Populate file with a SOAP formatted message
-     * @param responseFile the response file created
-     * @param msgContext the message context that holds the message to be written
-     * @throws AxisFault on error
-     */
-    private void populateSOAPFile(FileObject responseFile, MessageContext msgContext, OMOutputFormat format) throws AxisFault {
-        MessageFormatter messageFormatter = null;
-        try {
-            messageFormatter = TransportUtils.getMessageFormatter(msgContext);
-        } catch (AxisFault axisFault) {
-            throw new BaseTransportException("Unable to get the message formatter to use");
-        }
-
+        
+        // Write the message to the file using the selected message formatter
+        OMOutputFormat format = BaseUtils.getOMOutputFormat(msgContext);
         try {
             OutputStream os = responseFile.getContent().getOutputStream();
             try {
-            	messageFormatter.writeTo(msgContext, format, os, true);
+                messageFormatter.writeTo(msgContext, format, os, true);
             } finally {
-            	os.close();
+                os.close();
             }
         } catch (FileSystemException e) {
+            metrics.incrementFaultsSending();
             handleException("IO Error while creating response file : " + responseFile.getName(), e);
         } catch (IOException e) {
+            metrics.incrementFaultsSending();
             handleException("IO Error while creating response file : " + responseFile.getName(), e);
         }
+
+        // update metrics
+        metrics.incrementMessagesSent();
+        try {
+            if (responseFile != null && responseFile.getContent() != null) {
+                metrics.incrementBytesSent(responseFile.getContent().getSize());
+            }
+        } catch (FileSystemException e) {
+            log.warn("Unable to update transport metrics for file written", e);
+        }
     }
 }
