diff --git a/java/modules/core/src/main/java/org/apache/synapse/SynapseConstants.java b/java/modules/core/src/main/java/org/apache/synapse/SynapseConstants.java
index da578ae0b..41aa2a073 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/SynapseConstants.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/SynapseConstants.java
@@ -48,8 +48,8 @@ public final class SynapseConstants {
     public static final QName SYNAPSE_OPERATION_NAME = new QName("mediate");
 
     //- names of modules to be engaged at runtime -
-    /** The Name of the WS-RM Sandesha module */
-    public static final String SANDESHA2_MODULE_NAME = "sandesha2";
+    /** The Name of the WS-RM Mercury module */
+    public static final String MERCURY_MODULE_NAME = "Mercury";
     /** The Name of the WS-A Addressing module */
     public static final String ADDRESSING_MODULE_NAME = "addressing";
     /** The Name of the WS-Security Rampart module */
@@ -121,12 +121,12 @@ public final class SynapseConstants {
         /** The message context property name which holds the exception (if any) for the last encountered exception */
         public static final String ERROR_EXCEPTION = "ERROR_EXCEPTION";
 
-        /** Sandesha last message property name */
-        public static final String SANDESHA_LAST_MESSAGE = "Sandesha2LastMessage";
-        /** Sandesha last sequence key property name */
-        public static final String SANDESHA_SEQUENCE_KEY = "Sandesha2SequenceKey";
-        /** Sandesha WS-RM specification version property name */
-        public static final String SANDESHA_SPEC_VERSION = "Sandesha2RMSpecVersion";
+        /** Mercury last message property name */
+        public static final String MERCURY_LAST_MESSAGE = "MercuryLastMessage";
+        /** Mercury last sequence key property name */
+        public static final String MERCURY_SEQUENCE_KEY = "MercurySequenceKey";
+        /** Mercury WS-RM specification version property name */
+        public static final String MERCURY_SPEC_VERSION = "MercuryRMSpecVersion";
 
     //- Axis2 Message Context Properties used by Synapse -
     /** an axis2 message context property set to hold the relates to for POX responses */
diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/AnonymousServiceFactory.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/AnonymousServiceFactory.java
index 6964d91ad..8ac305af4 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/AnonymousServiceFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/AnonymousServiceFactory.java
@@ -47,8 +47,8 @@ public class AnonymousServiceFactory {
     private static final String SEC_AND_ADDR    = "__SEC_AND_ADDR__";
     private static final String RM_SEC_AND_ADDR = "__RM_SEC_AND_ADDR__";
 
-    public static final String OUT_IN_OPERATION   = "__OUT_IN_OPERATION__";
-    public static final String OUT_ONLY_OPERATION = "__OUT_ONLY_OPERATION__";
+    public static final String OUT_IN_OPERATION   = "anonOutInOp";
+    public static final String OUT_ONLY_OPERATION = "anonOutonlyOp";
 
     private static SynapseCallbackReceiver synapseCallbackReceiver = null;
 
@@ -99,7 +99,7 @@ public class AnonymousServiceFactory {
 
                         if (wsRMOn) {
                             service.engageModule(axisCfg.getModule(
-                                SynapseConstants.SANDESHA2_MODULE_NAME), axisCfg);
+                                SynapseConstants.MERCURY_MODULE_NAME), axisCfg);
                         }
                         if (wsSecOn) {
                             service.engageModule(axisCfg.getModule(
diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2FlexibleMEPClient.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2FlexibleMEPClient.java
index 85fd7dcb0..4ec4caecb 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2FlexibleMEPClient.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2FlexibleMEPClient.java
@@ -298,22 +298,23 @@ public class Axis2FlexibleMEPClient {
 
     private static void copyRMOptions(MessageContext oriContext, Options targetOptions) {
         Options oriOptions = oriContext.getOptions();
-        if (oriOptions.getProperty(SynapseConstants.SANDESHA_LAST_MESSAGE) != null) {
-            targetOptions.setProperty(SynapseConstants.SANDESHA_LAST_MESSAGE,
-                    oriOptions.getProperty(SynapseConstants.SANDESHA_LAST_MESSAGE));
+        if (oriOptions.getProperty(SynapseConstants.MERCURY_LAST_MESSAGE) != null) {
+            targetOptions.setProperty(SynapseConstants.MERCURY_LAST_MESSAGE,
+                    oriOptions.getProperty(SynapseConstants.MERCURY_LAST_MESSAGE));
         }
-        if (oriOptions.getProperty(SynapseConstants.SANDESHA_SPEC_VERSION) != null) {
-            targetOptions.setProperty(SynapseConstants.SANDESHA_SPEC_VERSION,
-                    oriOptions.getProperty(SynapseConstants.SANDESHA_SPEC_VERSION));
+        if (oriOptions.getProperty(SynapseConstants.MERCURY_SPEC_VERSION) != null) {
+            targetOptions.setProperty(SynapseConstants.MERCURY_SPEC_VERSION,
+                    oriOptions.getProperty(SynapseConstants.MERCURY_SPEC_VERSION));
         }
-        if (oriOptions.getProperty(SynapseConstants.SANDESHA_SEQUENCE_KEY) != null) {
-            targetOptions.setProperty(SynapseConstants.SANDESHA_SEQUENCE_KEY,
-                    oriOptions.getProperty(SynapseConstants.SANDESHA_SEQUENCE_KEY));
-        }
-        if (oriOptions.getProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID) != null) {
-            targetOptions.setProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID,
-                    oriOptions.getProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID));
+        if (oriOptions.getProperty(SynapseConstants.MERCURY_SEQUENCE_KEY) != null) {
+            targetOptions.setProperty(SynapseConstants.MERCURY_SEQUENCE_KEY,
+                    oriOptions.getProperty(SynapseConstants.MERCURY_SEQUENCE_KEY));
         }
+        // todo:[ruwan] migrate to Mercury
+//        if (oriOptions.getProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID) != null) {
+//            targetOptions.setProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID,
+//                    oriOptions.getProperty(SandeshaClientConstants.OFFERED_SEQUENCE_ID));
+//        }
     }
 
     /**
diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
index 8286df213..151d271d8 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/ProxyService.java
@@ -499,7 +499,7 @@ public class ProxyService {
             auditInfo("WS-Reliable messaging is enabled for service : " + name);
             try {
                 proxyService.engageModule(axisCfg.getModule(
-                    SynapseConstants.SANDESHA2_MODULE_NAME), axisCfg);
+                    SynapseConstants.MERCURY_MODULE_NAME), axisCfg);
             } catch (AxisFault axisFault) {
                 handleException("Error loading WS RM module on proxy service : " + name, axisFault);
             }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/SynapseInitializationModule.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/SynapseInitializationModule.java
index ceda72d29..cf2ba81a7 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/SynapseInitializationModule.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/SynapseInitializationModule.java
@@ -96,13 +96,13 @@ public class SynapseInitializationModule implements Module {
         synapseService.setExposedTransports(transports);
         axisCfg.addService(synapseService);
 
-//        log.info("Initializing Sandesha 2...");
-//        AxisModule sandeshaAxisModule = configurationContext.getAxisConfiguration().
-//            getModule(SynapseConstants.SANDESHA2_MODULE_NAME);
-//        if (sandeshaAxisModule != null) {
-//            Module sandesha2 = sandeshaAxisModule.getModule();
-//            sandesha2.init(configurationContext, sandeshaAxisModule);
-//        }
+        log.info("Initializing Mercury...");
+        AxisModule mercuryAxisModule = configurationContext.getAxisConfiguration().
+            getModule(SynapseConstants.MERCURY_MODULE_NAME);
+        if (mercuryAxisModule != null) {
+            Module mercury = mercuryAxisModule.getModule();
+            mercury.init(configurationContext, mercuryAxisModule);
+        }
 
         // this server name is given by system property SynapseServerName
         // otherwise take host-name
diff --git a/java/modules/core/src/main/java/org/apache/synapse/mediators/builtin/RMSequenceMediator.java b/java/modules/core/src/main/java/org/apache/synapse/mediators/builtin/RMSequenceMediator.java
index ea23ff14b..e2445872d 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/mediators/builtin/RMSequenceMediator.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/mediators/builtin/RMSequenceMediator.java
@@ -76,18 +76,18 @@ public class RMSequenceMediator extends AbstractMediator {
 
             String version = getVersionValue();
             orgMessageCtx.getOptions().setProperty(
-                SynapseConstants.SANDESHA_SPEC_VERSION, version);
+                SynapseConstants.MERCURY_SPEC_VERSION, version);
 
             if (isSingle()) {
                 String sequenceID = UUIDGenerator.getUUID();
                 String offeredSeqID = UUIDGenerator.getUUID();
 
                 orgMessageCtx.getOptions().setProperty(
-                    SynapseConstants.SANDESHA_SEQUENCE_KEY, sequenceID);
+                    SynapseConstants.MERCURY_SEQUENCE_KEY, sequenceID);
                 orgMessageCtx.getOptions().setProperty(
                     SandeshaClientConstants.OFFERED_SEQUENCE_ID, offeredSeqID);
                 orgMessageCtx.getOptions().setProperty(
-                    SynapseConstants.SANDESHA_LAST_MESSAGE, "true");
+                    SynapseConstants.MERCURY_LAST_MESSAGE, "true");
 
                 if (traceOrDebugOn) {
                     traceOrDebug(traceOn, "Using WS-RM version " + version +
@@ -109,11 +109,11 @@ public class RMSequenceMediator extends AbstractMediator {
 
                 String sequenceID = retrieveSequenceID(correlationValue);
                 orgMessageCtx.getOptions().setProperty(
-                    SynapseConstants.SANDESHA_SEQUENCE_KEY, sequenceID);
+                    SynapseConstants.MERCURY_SEQUENCE_KEY, sequenceID);
 
                 if (lastMessage) {
                     orgMessageCtx.getOptions().setProperty(
-                        SynapseConstants.SANDESHA_LAST_MESSAGE, "true");
+                        SynapseConstants.MERCURY_LAST_MESSAGE, "true");
                     sequenceMap.remove(correlationValue);
                 }
 
diff --git a/java/modules/samples/services/ReliableStockQuoteService/conf/services.xml b/java/modules/samples/services/ReliableStockQuoteService/conf/services.xml
index 5cc09a539..808568cc3 100644
--- a/java/modules/samples/services/ReliableStockQuoteService/conf/services.xml
+++ b/java/modules/samples/services/ReliableStockQuoteService/conf/services.xml
@@ -19,7 +19,8 @@
 
 <serviceGroup>
 <service name="ReliableStockQuoteService">
-	<module ref="sandesha2"/>
+
+    <module ref="Mercury"/>
 	
     <messageReceivers>
     <messageReceiver mep="http://www.w3.org/ns/wsdl/in-only"
diff --git a/java/modules/samples/src/main/java/samples/userguide/StockQuoteClient.java b/java/modules/samples/src/main/java/samples/userguide/StockQuoteClient.java
index 1a397f51f..e87d3681a 100644
--- a/java/modules/samples/src/main/java/samples/userguide/StockQuoteClient.java
+++ b/java/modules/samples/src/main/java/samples/userguide/StockQuoteClient.java
@@ -187,8 +187,8 @@ public class StockQuoteClient {
         }
         if (Boolean.parseBoolean(wsrm)) {
             System.out.println("Using WS-RM");
-            serviceClient.engageModule("sandesha2");
-            options.setProperty("Sandesha2LastMessage", "true");
+            serviceClient.engageModule("Mercury");
+            options.setProperty("MercuryLastMessage", Constants.VALUE_TRUE);
             options.setProperty(
                     SandeshaClientConstants.OFFERED_SEQUENCE_ID, UUIDGenerator.getUUID());
         }
diff --git a/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ClientWorker.java b/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ClientWorker.java
index 654d16a0a..92737209e 100644
--- a/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ClientWorker.java
+++ b/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ClientWorker.java
@@ -81,6 +81,10 @@ public class ClientWorker implements Runnable {
         try {
             responseMsgCtx = outMsgCtx.getOperationContext().
                 getMessageContext(WSDL2Constants.MESSAGE_LABEL_IN);
+            // fix for RM to work because of a soapAction and wsaAction conflict
+            if (responseMsgCtx != null) {
+                responseMsgCtx.setSoapAction("");
+            }
         } catch (AxisFault af) {
             log.error("Error getting IN message context from the operation context", af);
             return;
@@ -91,11 +95,11 @@ public class ClientWorker implements Runnable {
         // context, as it may get a 202 accepted or 200. So if the operation is complete ignore
         // this message, else, create a new message context and handle this
         if (responseMsgCtx == null && outMsgCtx.getOperationContext().isComplete()) {
+
             if (log.isDebugEnabled()) {
                 log.debug("Error getting IN message context from the operation context. " +
                         "Possibly an RM terminate sequence message");
             }
-            return;
 
         } else {
             if (responseMsgCtx == null) {
diff --git a/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ServerWorker.java b/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ServerWorker.java
index 575a43c74..6b61008b8 100644
--- a/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ServerWorker.java
+++ b/java/modules/transports/src/main/java/org/apache/synapse/transport/nhttp/ServerWorker.java
@@ -202,6 +202,7 @@ public class ServerWorker implements Runnable {
         // invocation within the actual service and synapse for a dual channel request from the
         // client. This condition is a bit complex but cannot simplify any further.
         if (msgContext != null && msgContext.getOperationContext() != null &&
+                !msgContext.getOperationContext().getAxisOperation().isControlOperation() &&
                 ((!Constants.VALUE_TRUE.equals(msgContext.getOperationContext().getProperty(
                         Constants.RESPONSE_WRITTEN)) && !"SKIP".equals(
                         msgContext.getOperationContext().getProperty(Constants.RESPONSE_WRITTEN)))
diff --git a/java/pom.xml b/java/pom.xml
index d4e85368f..c53387952 100644
--- a/java/pom.xml
+++ b/java/pom.xml
@@ -384,6 +384,12 @@
                 <version>${sandesha2.version}</version>
             </dependency>
 
+            <dependency>
+                <groupId>org.wso2.mercury</groupId>
+                <artifactId>mercury-core</artifactId>
+                <version>${mercury.version}</version>
+            </dependency>
+
             <dependency>
                 <groupId>org.apache.sandesha2</groupId>
                 <artifactId>sandesha2-core</artifactId>
@@ -522,6 +528,12 @@
                 </exclusion>
             </exclusions>
         </dependency>
+        <dependency>
+            <groupId>org.wso2.mercury</groupId>
+            <artifactId>mercury-mar</artifactId>
+            <version>${mercury.version}</version>
+            <type>mar</type>
+        </dependency>
         <dependency>
             <groupId>org.apache.sandesha2</groupId>
             <artifactId>sandesha2-core</artifactId>
@@ -549,6 +561,11 @@
                 </exclusion>
             </exclusions>
         </dependency>
+        <dependency>
+            <groupId>org.wso2.mercury</groupId>
+            <artifactId>mercury-core</artifactId>
+            <version>${mercury.version}</version>
+        </dependency>
         <dependency>
             <groupId>org.apache.sandesha2</groupId>
             <artifactId>sandesha2-policy</artifactId>
@@ -1140,6 +1157,7 @@
         <addressing.version>1.4-SNAPSHOT</addressing.version>
         <rampart.version>SNAPSHOT</rampart.version>
         <sandesha2.version>1.3</sandesha2.version>
+        <mercury.version>0.9</mercury.version>
         <neethi.version>SNAPSHOT</neethi.version>
         <wss4j.version>SNAPSHOT</wss4j.version>
         <opensaml.version>1.1</opensaml.version>
diff --git a/java/repository/conf/axis2.xml b/java/repository/conf/axis2.xml
index 0fa2923c3..d1ee15f2f 100644
--- a/java/repository/conf/axis2.xml
+++ b/java/repository/conf/axis2.xml
@@ -44,7 +44,6 @@
     <!--is set, then Axis2 tries to get the first exception and set its message as the faultreason/Reason.-->
     <parameter name="DrillDownToRootCauseForFaultReason">false</parameter>
 
-    <parameter name="Sandesha2StorageManager" locked="false">inmemory</parameter>
     <parameter name="userName">admin</parameter>
     <parameter name="password">axis2</parameter>
 
diff --git a/java/repository/conf/sample/resources/misc/client/axis2.xml b/java/repository/conf/sample/resources/misc/client/axis2.xml
index 1f0b18bd5..959724c1e 100644
--- a/java/repository/conf/sample/resources/misc/client/axis2.xml
+++ b/java/repository/conf/sample/resources/misc/client/axis2.xml
@@ -44,7 +44,6 @@
     <!--is set, then Axis2 tries to get the first exception and set its message as the faultreason/Reason.-->
     <parameter name="DrillDownToRootCauseForFaultReason">false</parameter>
 
-    <parameter name="Sandesha2StorageManager" locked="false">inmemory</parameter>
     <parameter name="userName">admin</parameter>
     <parameter name="password">axis2</parameter>
 
diff --git a/java/repository/conf/sample/resources/misc/server/axis2.xml b/java/repository/conf/sample/resources/misc/server/axis2.xml
index 4d8e957ab..9f28037b5 100644
--- a/java/repository/conf/sample/resources/misc/server/axis2.xml
+++ b/java/repository/conf/sample/resources/misc/server/axis2.xml
@@ -44,7 +44,6 @@
     <!--is set, then Axis2 tries to get the first exception and set its message as the faultreason/Reason.-->
     <parameter name="DrillDownToRootCauseForFaultReason">false</parameter>
 
-    <parameter name="Sandesha2StorageManager" locked="false">inmemory</parameter>
     <parameter name="userName">admin</parameter>
     <parameter name="password">axis2</parameter>
 
diff --git a/java/src/main/assembly/bin.xml b/java/src/main/assembly/bin.xml
index a132ec7e6..c3e692e1f 100644
--- a/java/src/main/assembly/bin.xml
+++ b/java/src/main/assembly/bin.xml
@@ -264,6 +264,7 @@
                 <exclude>org.apache.axis2:addressing:mar</exclude>
                 <exclude>org.apache.rampart:rampart:mar</exclude>
                 <exclude>org.apache.sandesha2:sandesha2:mar</exclude>
+                <exclude>org.wso2.mercury:mercury-mar:mar</exclude>
                 <exclude>org.apache.ant:ant:jar</exclude>
                 <exclude>org.apache.ant:ant-nodeps:jar</exclude>
                 <exclude>org.apache.ant:ant-launcher:jar</exclude>
@@ -288,7 +289,7 @@
             <includes>
                 <include>org.apache.axis2:addressing:mar</include>
                 <include>org.apache.rampart:rampart:mar</include>
-                <include>org.apache.sandesha2:sandesha2:mar</include>
+                <include>org.wso2.mercury:mercury-mar:mar</include>
             </includes>
             <outputFileNameMapping>${artifactId}.${extension}</outputFileNameMapping>
         </dependencySet>
@@ -298,7 +299,7 @@
             <includes>
                 <include>org.apache.axis2:addressing:mar</include>
                 <include>org.apache.rampart:rampart:mar</include>
-                <include>org.apache.sandesha2:sandesha2:mar</include>
+                <include>org.wso2.mercury:mercury-mar:mar</include>
             </includes>
             <outputFileNameMapping>${artifactId}.${extension}</outputFileNameMapping>
         </dependencySet>
@@ -308,7 +309,7 @@
             <includes>
                 <include>org.apache.axis2:addressing:mar</include>
                 <include>org.apache.rampart:rampart:mar</include>
-                <include>org.apache.sandesha2:sandesha2:mar</include>
+                <include>org.wso2.mercury:mercury-mar:mar</include>
             </includes>
             <outputFileNameMapping>${artifactId}.${extension}</outputFileNameMapping>
         </dependencySet>
