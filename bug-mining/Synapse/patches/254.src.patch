diff --git a/java/pom.xml b/java/pom.xml
index e854d5af5..f4a785f2d 100644
--- a/java/pom.xml
+++ b/java/pom.xml
@@ -845,7 +845,7 @@
         <sandesha2.version>SNAPSHOT</sandesha2.version>
         <neethi.version>2.0.4</neethi.version>
         <wss4j.version>SNAPSHOT</wss4j.version>
-        <jruby.version>0.9.9</jruby.version>
+        <jruby.version>1.3.0</jruby.version>
         <xmlsec.version>1.4.2</xmlsec.version>
         <bcprov.jdk15.version>140</bcprov.jdk15.version>
 
diff --git a/java/repository/conf/sample/resources/script/stockquoteTransform.rb b/java/repository/conf/sample/resources/script/stockquoteTransform.rb
index e92bbd142..700d1adcb 100644
--- a/java/repository/conf/sample/resources/script/stockquoteTransform.rb
+++ b/java/repository/conf/sample/resources/script/stockquoteTransform.rb
@@ -21,7 +21,7 @@ require 'rexml/document'
 include REXML
 
 def transformRequest(mc)
-  newRequest= Document.new '<m:getQuote xmlns:m="http://services.samples/xsd">'<<
+  newRequest= Document.new '<m:getQuote xmlns:m="http://services.samples">'<<
             '<m:request><m:symbol></m:symbol></m:request></m:getQuote>'
   newRequest.root.elements[1].elements[1].text = mc.getPayloadXML().root.elements[1].get_text
   mc.setPayloadXML(newRequest)
@@ -30,11 +30,11 @@ end
 def transformResponse(mc)
   newResponse = Document.new '<m:CheckPriceResponse xmlns:m="http://services.samples/xsd"><m:Code>' <<
     '</m:Code><m:Price></m:Price></m:CheckPriceResponse>'
-  lastPrice=mc.getPayloadXML().root.elements[1].get_elements('ns:last')
-  code=mc.getPayloadXML().root.elements[1].get_elements('ns:symbol') 
+  lastPrice=mc.getPayloadXML().root.elements[1].get_elements('*:last')
+  code=mc.getPayloadXML().root.elements[1].get_elements('*:symbol')
 
   newResponse.root.elements[1].text =code[0].get_text
-  newResponse.root.elements[2].text =lastPrice[0].get_text 
+  newResponse.root.elements[2].text =lastPrice[0].get_text
   mc.setPayloadXML(newResponse)
 end
 ]]></x>
diff --git a/java/repository/conf/sample/resources/script/stockquoteTransformRequest.js b/java/repository/conf/sample/resources/script/stockquoteTransformRequest.js
index 989f5b0db..bd5f38b43 100644
--- a/java/repository/conf/sample/resources/script/stockquoteTransformRequest.js
+++ b/java/repository/conf/sample/resources/script/stockquoteTransformRequest.js
@@ -20,7 +20,7 @@
   function transformRequest(mc) {
      var symbol = mc.getPayloadXML()..*::Code.toString();
      mc.setPayloadXML(
-        <m:getQuote xmlns:m="http://services.samples/xsd">
+        <m:getQuote xmlns:m="http://services.samples">
            <m:request>
               <m:symbol>{symbol}</m:symbol>
            </m:request>
diff --git a/java/repository/conf/sample/synapse_sample_354.xml b/java/repository/conf/sample/synapse_sample_354.xml
index 73a90ab9a..1817a73e9 100644
--- a/java/repository/conf/sample/synapse_sample_354.xml
+++ b/java/repository/conf/sample/synapse_sample_354.xml
@@ -24,7 +24,7 @@
             <![CDATA[
                 require 'rexml/document'
                 include REXML
-                newRequest= Document.new '<m:getQuote xmlns:m="http://services.samples/xsd"><m:request><m:symbol>...test...</m:symbol></m:request></m:getQuote>'
+                newRequest= Document.new '<m:getQuote xmlns:m="http://services.samples"><m:request><m:symbol>...test...</m:symbol></m:request></m:getQuote>'
                 newRequest.root.elements[1].elements[1].text = $mc.getPayloadXML().root.elements[1].get_text
                 $mc.setPayloadXML(newRequest)
             ]]>
@@ -49,4 +49,3 @@
         <send/>
     </out>
 </definitions>
-
