diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceFactory.java
index f7940eeb2..046faa580 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceFactory.java
@@ -26,7 +26,6 @@ import org.apache.axis2.wsdl.WSDLConstants;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 import org.apache.synapse.SynapseException;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractFactory;
 import org.apache.synapse.config.xml.endpoints.EndpointFactory;
 import org.apache.synapse.core.axis2.ProxyService;
 import org.apache.synapse.util.PolicyInfo;
@@ -215,9 +214,8 @@ public class ProxyServiceFactory {
                 OMElement endpointElement = target.getFirstChildWithName(
                         new QName(XMLConfigConstants.SYNAPSE_NAMESPACE, "endpoint"));
                 if (endpointElement != null) {
-                    EndpointFactory fac
-                            = EndpointAbstractFactory.getEndpointFactory(endpointElement);
-                    proxy.setTargetInLineEndpoint(fac.createEndpoint(endpointElement, true));
+                    proxy.setTargetInLineEndpoint(
+                            EndpointFactory.getEndpointFromElement(endpointElement, true));
                     isTargetOk = true;
                 }
             }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceSerializer.java
index dbf07b95f..be2ffed12 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/ProxyServiceSerializer.java
@@ -23,7 +23,6 @@ import org.apache.axiom.om.*;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 import org.apache.synapse.SynapseException;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractSerializer;
 import org.apache.synapse.config.xml.endpoints.EndpointSerializer;
 import org.apache.synapse.core.axis2.ProxyService;
 import org.apache.synapse.endpoints.Endpoint;
@@ -96,9 +95,7 @@ public class ProxyServiceSerializer {
                     "endpoint", nullNS, endpoint));
             proxy.addChild(target);
         } else if (inLineEndpoint != null) {
-            EndpointSerializer serializer
-                    = EndpointAbstractSerializer.getEndpointSerializer(inLineEndpoint);
-            OMElement epElement = serializer.serializeEndpoint(inLineEndpoint);
+            OMElement epElement = EndpointSerializer.getElementFromEndpoint(inLineEndpoint);
             target.addChild(epElement);            
             proxy.addChild(target);
         }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorFactory.java
index cd948965f..f6e955568 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorFactory.java
@@ -23,7 +23,6 @@ import org.apache.axiom.om.OMElement;
 import org.apache.synapse.Mediator;
 import org.apache.synapse.SynapseException;
 import org.apache.synapse.config.xml.endpoints.EndpointFactory;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractFactory;
 import org.apache.synapse.mediators.builtin.SendMediator;
 import org.apache.synapse.endpoints.Endpoint;
 
@@ -88,17 +87,10 @@ public class SendMediatorFactory extends AbstractMediatorFactory  {
 
         OMElement epElement = elem.getFirstChildWithName(ENDPOINT_Q);
         if (epElement != null) {
-            // get the factory for the element
             // create the endpoint and set it in the send medaitor
-
-            EndpointFactory fac = EndpointAbstractFactory.getEndpointFactory(epElement);
-            if (fac != null) {
-                Endpoint endpoint = fac.createEndpoint(epElement, true);
-                if (endpoint != null) {
-                    sm.setEndpoint(endpoint);
-                }
-            } else {
-                throw new SynapseException("Invalid endpoint fromat.");
+            Endpoint endpoint = EndpointFactory.getEndpointFromElement(epElement, true);
+            if (endpoint != null) {
+                sm.setEndpoint(endpoint);
             }
         }
 
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorSerializer.java
index 4a1064ebf..621d498b6 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SendMediatorSerializer.java
@@ -22,7 +22,6 @@ package org.apache.synapse.config.xml;
 import org.apache.axiom.om.OMElement;
 import org.apache.synapse.Mediator;
 import org.apache.synapse.config.xml.endpoints.EndpointSerializer;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractSerializer;
 import org.apache.synapse.mediators.builtin.SendMediator;
 import org.apache.synapse.endpoints.Endpoint;
 
@@ -45,11 +44,7 @@ public class SendMediatorSerializer extends AbstractMediatorSerializer {
 
         Endpoint activeEndpoint = mediator.getEndpoint();
         if (activeEndpoint != null) {
-            EndpointSerializer serializer = EndpointAbstractSerializer.
-                    getEndpointSerializer(activeEndpoint);
-
-            OMElement endpointElement = serializer.serializeEndpoint(activeEndpoint);
-            send.addChild(endpointElement);
+            send.addChild(EndpointSerializer.getElementFromEndpoint(activeEndpoint));
         }
 
         if (parent != null) {
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationFactory.java
index 843c5ec70..19fd3356b 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationFactory.java
@@ -30,7 +30,7 @@ import org.apache.synapse.SynapseException;
 import org.apache.synapse.config.Entry;
 import org.apache.synapse.config.SynapseConfigUtils;
 import org.apache.synapse.config.SynapseConfiguration;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractFactory;
+import org.apache.synapse.config.xml.endpoints.EndpointFactory;
 import org.apache.synapse.core.axis2.ProxyService;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.mediators.MediatorProperty;
@@ -181,8 +181,7 @@ public class SynapseXMLConfigurationFactory implements ConfigurationFactory {
             if (config.getLocalRegistry().get(name.trim()) != null) {
                 handleException("Duplicate endpoint definition : " + name);
             }
-            Endpoint endpoint =
-                    EndpointAbstractFactory.getEndpointFactory(ele).createEndpoint(ele, false);
+            Endpoint endpoint = EndpointFactory.getEndpointFromElement(ele, false);
             config.addEndpoint(name.trim(), endpoint);
         } else {
             handleException("Invalid endpoint definition without a name");
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationSerializer.java
index 23c2d4901..2a8cc8359 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/SynapseXMLConfigurationSerializer.java
@@ -1,6 +1,5 @@
 package org.apache.synapse.config.xml;
 
-import java.io.OutputStream;
 import java.util.HashMap;
 import java.util.Iterator;
 import java.util.Map;
@@ -19,7 +18,7 @@ import org.apache.synapse.Mediator;
 import org.apache.synapse.SynapseException;
 import org.apache.synapse.config.Entry;
 import org.apache.synapse.config.SynapseConfiguration;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractSerializer;
+import org.apache.synapse.config.xml.endpoints.EndpointSerializer;
 import org.apache.synapse.core.axis2.ProxyService;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.Startup;
@@ -62,7 +61,7 @@ public class SynapseXMLConfigurationSerializer implements ConfigurationSerialize
         }
 
         Map entries = new HashMap();
-        Map endpoints = new HashMap();
+        Map<String, Endpoint> endpoints = new HashMap<String, Endpoint>();
         Map sequences = new HashMap();
 
         iter = synCfg.getLocalRegistry().keySet().iterator();
@@ -72,7 +71,7 @@ public class SynapseXMLConfigurationSerializer implements ConfigurationSerialize
             if (o instanceof Mediator) {
                 sequences.put(key, o);
             } else if (o instanceof Endpoint) {
-                endpoints.put(key, o);
+                endpoints.put(key.toString(), (Endpoint) o);
             } else if (o instanceof Entry) {
                 entries.put(key, o);
             } else {
@@ -113,19 +112,9 @@ public class SynapseXMLConfigurationSerializer implements ConfigurationSerialize
         }
     }
 
-    private static void serializeEndpoints(OMElement definitions, Map endpoints) {
-        Iterator iter = endpoints.keySet().iterator();
-        while (iter.hasNext()) {
-            String key = (String) iter.next();
-            Object o = endpoints.get(key);
-            if (o instanceof Endpoint) {
-                Endpoint endpoint = (Endpoint) o;
-                OMElement epElement = EndpointAbstractSerializer
-                        .getEndpointSerializer(endpoint).serializeEndpoint(
-                        endpoint);
-                definitions.addChild(epElement);
-            }
-
+    private static void serializeEndpoints(OMElement definitions, Map<String, Endpoint> endpoints) {
+        for (Endpoint endpoint: endpoints.values()) {
+            definitions.addChild(EndpointSerializer.getElementFromEndpoint(endpoint));
         }
     }
 
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetFactory.java
index 3a987df29..9952b3ac4 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetFactory.java
@@ -21,7 +21,7 @@ package org.apache.synapse.config.xml;
 
 import org.apache.synapse.mediators.eip.Target;
 import org.apache.synapse.SynapseException;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractFactory;
+import org.apache.synapse.config.xml.endpoints.EndpointFactory;
 import org.apache.axiom.om.OMElement;
 import org.apache.axiom.om.OMAttribute;
 import org.apache.commons.logging.Log;
@@ -97,8 +97,7 @@ public class TargetFactory {
         OMElement endpoint = elem.getFirstChildWithName(
                 new QName(XMLConfigConstants.SYNAPSE_NAMESPACE, "endpoint"));
         if (endpoint != null) {
-            target.setEndpoint(EndpointAbstractFactory.
-                    getEndpointFactory(endpoint).createEndpoint(endpoint, true));
+            target.setEndpoint(EndpointFactory.getEndpointFromElement(endpoint, true));
         }
 
         return target;
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetSerializer.java
index 885e900fa..fe78e18e2 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/TargetSerializer.java
@@ -23,7 +23,7 @@ import org.apache.axiom.om.OMAbstractFactory;
 import org.apache.axiom.om.OMElement;
 import org.apache.axiom.om.OMFactory;
 import org.apache.axiom.om.OMNamespace;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractSerializer;
+import org.apache.synapse.config.xml.endpoints.EndpointSerializer;
 import org.apache.synapse.mediators.eip.Target;
 
 /**
@@ -80,8 +80,7 @@ public class TargetSerializer {
         }
 
         if (target.getEndpoint() != null) {
-            targetElem.addChild(EndpointAbstractSerializer.getEndpointSerializer(
-                    target.getEndpoint()).serializeEndpoint(target.getEndpoint()));
+            targetElem.addChild(EndpointSerializer.getElementFromEndpoint(target.getEndpoint()));
         }
 
         return targetElem;
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/XMLConfigurationSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/XMLConfigurationSerializer.java
index 7406a7cb8..24de94ad7 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/XMLConfigurationSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/XMLConfigurationSerializer.java
@@ -19,25 +19,13 @@
 
 package org.apache.synapse.config.xml;
 
-import org.apache.axiom.om.OMAbstractFactory;
 import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMFactory;
-import org.apache.axiom.om.OMNamespace;
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
-import org.apache.synapse.SynapseException;
-import org.apache.synapse.Mediator;
-import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.config.SynapseConfiguration;
-import org.apache.synapse.config.Entry;
-import org.apache.synapse.config.xml.endpoints.EndpointAbstractSerializer;
-import org.apache.synapse.core.axis2.ProxyService;
 
 import javax.xml.stream.XMLStreamException;
 import java.io.OutputStream;
-import java.util.Iterator;
-import java.util.Map;
-import java.util.HashMap;
 
 /**
  * Serialize a SynapseConfiguration into an OutputStream
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointFactory.java
index 960b1ff91..ef70309b0 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointFactory.java
@@ -21,7 +21,6 @@ package org.apache.synapse.config.xml.endpoints;
 
 import org.apache.axiom.om.OMAttribute;
 import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMNode;
 import org.apache.synapse.SynapseConstants;
 import org.apache.synapse.config.xml.XMLConfigConstants;
 import org.apache.synapse.endpoints.AddressEndpoint;
@@ -66,7 +65,7 @@ public class AddressEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         AddressEndpoint addressEndpoint = new AddressEndpoint();
         OMAttribute name = epConfig.getAttribute(
@@ -103,7 +102,7 @@ public class AddressEndpointFactory extends EndpointFactory {
             endpointDefinition.setAddress(address.getAttributeValue());
         }
 
-        extractQOSInformation(endpointDefinition, elem);
+        extractEndpointProperties(endpointDefinition, elem);
         return endpointDefinition;
     }
 }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointSerializer.java
index ea1cd8fe9..f500f27be 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/AddressEndpointSerializer.java
@@ -34,7 +34,7 @@ import org.apache.synapse.endpoints.utils.EndpointDefinition;
  */
 public class AddressEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof AddressEndpoint)) {
             throw new SynapseException("Invalid endpoint type.");
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointFactory.java
new file mode 100755
index 000000000..89d66aa15
--- /dev/null
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointFactory.java
@@ -0,0 +1,101 @@
+/*
+ *  Licensed to the Apache Software Foundation (ASF) under one
+ *  or more contributor license agreements.  See the NOTICE file
+ *  distributed with this work for additional information
+ *  regarding copyright ownership.  The ASF licenses this file
+ *  to you under the Apache License, Version 2.0 (the
+ *  "License"); you may not use this file except in compliance
+ *  with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *  Unless required by applicable law or agreed to in writing,
+ *  software distributed under the License is distributed on an
+ *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ *  KIND, either express or implied.  See the License for the
+ *  specific language governing permissions and limitations
+ *  under the License.
+ */
+
+package org.apache.synapse.config.xml.endpoints;
+
+import org.apache.axiom.om.OMAttribute;
+import org.apache.axiom.om.OMElement;
+import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.config.xml.XMLConfigConstants;
+import org.apache.synapse.endpoints.DefaultEndpoint;
+import org.apache.synapse.endpoints.Endpoint;
+import org.apache.synapse.endpoints.utils.EndpointDefinition;
+
+import javax.xml.namespace.QName;
+
+/**
+ * Creates {@link DefaultEndpoint} using a XML configuration.
+ * <p>
+ * Configuration syntax:
+ * <pre>
+ * &lt;endpoint [name="<em>name</em>"]&gt;
+ *   &lt;default [format="soap11|soap12|pox|get"] [optimize="mtom|swa"]
+ *      [encoding="<em>charset encoding</em>"]
+ *          [statistics="enable|disable"] [trace="enable|disable"]&gt;
+ *     .. extensibility ..
+ *
+ *     &lt;enableRM [policy="<em>key</em>"]/&gt;?
+ *     &lt;enableSec [policy="<em>key</em>"]/&gt;?
+ *     &lt;enableAddressing [version="final|submission"] [separateListener="true|false"]/&gt;?
+ *
+ *     &lt;timeout&gt;
+ *       &lt;duration&gt;<em>timeout duration in seconds</em>&lt;/duration&gt;
+ *       &lt;action&gt;discard|fault&lt;/action&gt;
+ *     &lt;/timeout&gt;?
+ *
+ *     &lt;suspendDurationOnFailure&gt;
+ *              <em>suspend duration in seconds</em>&lt;/suspendDurationOnFailure&gt;?
+ *   &lt;/address&gt;
+ * &lt;/endpoint&gt;
+ * </pre>
+ */
+public class DefaultEndpointFactory extends EndpointFactory {
+
+    private static DefaultEndpointFactory instance = new DefaultEndpointFactory();
+
+    private DefaultEndpointFactory() {}
+
+    public static DefaultEndpointFactory getInstance() {
+        return instance;
+    }
+
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+
+        DefaultEndpoint defaultEndpoint = new DefaultEndpoint();
+        OMAttribute name = epConfig.getAttribute(
+                new QName(XMLConfigConstants.NULL_NAMESPACE, "name"));
+
+        if (name != null) {
+            defaultEndpoint.setName(name.getAttributeValue());
+        }
+
+        OMElement defaultElement = epConfig.getFirstChildWithName(
+                new QName(SynapseConstants.SYNAPSE_NAMESPACE, "default"));
+        if (defaultElement != null) {
+            EndpointDefinition endpoint = createEndpointDefinition(defaultElement);
+            defaultEndpoint.setEndpoint(endpoint);
+        }
+
+        return defaultEndpoint;
+    }
+
+    /**
+     * Creates an EndpointDefinition instance using the XML fragment specification. Configuration
+     * for EndpointDefinition always resides inside a configuration of an AddressEndpoint. This
+     * factory extracts the details related to the EPR provided for address endpoint.
+     *
+     * @param elem XML configuration element
+     * @return EndpointDefinition object containing the endpoint details.
+     */
+    public EndpointDefinition createEndpointDefinition(OMElement elem) {
+        EndpointDefinition endpointDefinition = new EndpointDefinition();
+        extractEndpointProperties(endpointDefinition, elem);
+        return endpointDefinition;
+    }
+}
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointSerializer.java
new file mode 100755
index 000000000..c5060b928
--- /dev/null
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/DefaultEndpointSerializer.java
@@ -0,0 +1,65 @@
+/*
+ *  Licensed to the Apache Software Foundation (ASF) under one
+ *  or more contributor license agreements.  See the NOTICE file
+ *  distributed with this work for additional information
+ *  regarding copyright ownership.  The ASF licenses this file
+ *  to you under the Apache License, Version 2.0 (the
+ *  "License"); you may not use this file except in compliance
+ *  with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *  Unless required by applicable law or agreed to in writing,
+ *  software distributed under the License is distributed on an
+ *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ *  KIND, either express or implied.  See the License for the
+ *  specific language governing permissions and limitations
+ *  under the License.
+ */
+
+package org.apache.synapse.config.xml.endpoints;
+
+import org.apache.axiom.om.OMAbstractFactory;
+import org.apache.axiom.om.OMElement;
+import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.SynapseException;
+import org.apache.synapse.endpoints.DefaultEndpoint;
+import org.apache.synapse.endpoints.Endpoint;
+import org.apache.synapse.endpoints.utils.EndpointDefinition;
+
+/**
+ * Serializes {@link DefaultEndpoint} to XML.
+ *
+ * @see DefaultEndpointFactory
+ */
+public class DefaultEndpointSerializer extends EndpointSerializer {
+
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
+
+        if (!(endpoint instanceof DefaultEndpoint)) {
+            throw new SynapseException("Invalid endpoint type.");
+        }
+
+        fac = OMAbstractFactory.getOMFactory();
+        OMElement endpointElement
+                = fac.createOMElement("endpoint", SynapseConstants.SYNAPSE_OMNAMESPACE);
+
+        DefaultEndpoint defaultEndpoint = (DefaultEndpoint) endpoint;
+        String name = defaultEndpoint.getName();
+        if (name != null) {
+            endpointElement.addAttribute("name", name, null);
+        }
+
+        EndpointDefinition epAddress = defaultEndpoint.getEndpoint();
+        OMElement defaultElement = serializeEndpointDefinition(epAddress);
+        endpointElement.addChild(defaultElement);
+
+        return endpointElement;
+    }
+
+    public OMElement serializeEndpointDefinition(EndpointDefinition endpointDefinition) {
+        OMElement element = fac.createOMElement("default", SynapseConstants.SYNAPSE_OMNAMESPACE);
+        serializeQOSInformation(endpointDefinition, element);
+        return element;
+    }
+}
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractFactory.java
deleted file mode 100644
index 90db64146..000000000
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractFactory.java
+++ /dev/null
@@ -1,85 +0,0 @@
-/*
- *  Licensed to the Apache Software Foundation (ASF) under one
- *  or more contributor license agreements.  See the NOTICE file
- *  distributed with this work for additional information
- *  regarding copyright ownership.  The ASF licenses this file
- *  to you under the Apache License, Version 2.0 (the
- *  "License"); you may not use this file except in compliance
- *  with the License.  You may obtain a copy of the License at
- *
- *   http://www.apache.org/licenses/LICENSE-2.0
- *
- *  Unless required by applicable law or agreed to in writing,
- *  software distributed under the License is distributed on an
- *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- *  KIND, either express or implied.  See the License for the
- *  specific language governing permissions and limitations
- *  under the License.
- */
-
-package org.apache.synapse.config.xml.endpoints;
-
-import org.apache.axiom.om.OMElement;
-import org.apache.synapse.SynapseConstants;
-import org.apache.synapse.SynapseException;
-
-import javax.xml.namespace.QName;
-
-/**
- * Abstract factory for endpoint factories. Use this class to obtain the EndpointFactory implementation
- * for the required endpoint configuration.
- */
-public class EndpointAbstractFactory {
-
-    /**
-     * Returns the EndpointFactory implementation for given endpoint configuration. Throws a SynapseException,
-     * if there is no EndpointFactory for given configuration.
-     *
-     * @param configElement Endpoint configuration.
-     * @return EndpointFactory implementation.
-     */
-    public static EndpointFactory getEndpointFactory(OMElement configElement) {
-
-        if (configElement.getAttribute(new QName("key")) != null) {
-            IndirectEndpointFactory endpointFactory = IndirectEndpointFactory.getInstance();
-            return endpointFactory;
-        }
-
-        OMElement addressElement = configElement.getFirstChildWithName
-                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "address"));
-        if (addressElement != null) {
-            EndpointFactory endpointFactory = AddressEndpointFactory.getInstance();
-            return endpointFactory;
-        }
-
-        OMElement wsdlElement = configElement.getFirstChildWithName
-                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "wsdl"));
-        if (wsdlElement != null) {
-            EndpointFactory endpointFactory = WSDLEndpointFactory.getInstance();
-            return endpointFactory;
-        }
-
-        OMElement lbElement = configElement.getFirstChildWithName
-                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "loadbalance"));
-        if (lbElement != null) {
-            OMElement sessionElement = configElement.
-                    getFirstChildWithName(new QName(SynapseConstants.SYNAPSE_NAMESPACE, "session"));
-            if (sessionElement != null) {
-                EndpointFactory endpointFactory = SALoadbalanceEndpointFactory.getInstance();
-                return endpointFactory;
-            } else {
-                EndpointFactory endpointFactory = LoadbalanceEndpointFactory.getInstance();
-                return endpointFactory;
-            }            
-        }
-
-        OMElement foElement = configElement.getFirstChildWithName
-                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "failover"));
-        if (foElement != null) {
-            EndpointFactory endpointFactory = FailoverEndpointFactory.getInstance();
-            return endpointFactory;
-        }
-
-        throw new SynapseException("Invalid endpoint configuration.");
-    }
-}
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractSerializer.java
deleted file mode 100644
index 42458301c..000000000
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointAbstractSerializer.java
+++ /dev/null
@@ -1,57 +0,0 @@
-/*
- *  Licensed to the Apache Software Foundation (ASF) under one
- *  or more contributor license agreements.  See the NOTICE file
- *  distributed with this work for additional information
- *  regarding copyright ownership.  The ASF licenses this file
- *  to you under the Apache License, Version 2.0 (the
- *  "License"); you may not use this file except in compliance
- *  with the License.  You may obtain a copy of the License at
- *
- *   http://www.apache.org/licenses/LICENSE-2.0
- *
- *  Unless required by applicable law or agreed to in writing,
- *  software distributed under the License is distributed on an
- *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- *  KIND, either express or implied.  See the License for the
- *  specific language governing permissions and limitations
- *  under the License.
- */
-
-package org.apache.synapse.config.xml.endpoints;
-
-import org.apache.synapse.endpoints.*;
-import org.apache.synapse.SynapseException;
-
-/**
- * Abstract serializer for endpoint serializers. Use this class to obtain the EndpointSerializer
- * implementation for particular endpoint type.
- */
-public class EndpointAbstractSerializer {
-
-    /**
-     * Returns the EndpointSerializer implementation for the given endpoint. Throws a SynapseException,
-     * if there is no serializer for the given endpoint type.
-     *
-     * @param endpoint Endpoint implementaion.
-     * @return EndpointSerializer implementation.
-     */
-    public static EndpointSerializer getEndpointSerializer(Endpoint endpoint) {
-
-        if (endpoint instanceof AddressEndpoint) {
-            return new AddressEndpointSerializer();
-        } else if (endpoint instanceof WSDLEndpoint) {
-            return new WSDLEndpointSerializer();
-        } else if (endpoint instanceof IndirectEndpoint) {
-            return new IndirectEndpointSerializer();
-        } else if (endpoint instanceof LoadbalanceEndpoint) {
-            return new LoadbalanceEndpointSerializer();
-        } else if (endpoint instanceof SALoadbalanceEndpoint) {
-            return new SALoadbalanceEndpointSerializer();
-        } else if (endpoint instanceof FailoverEndpoint) {
-            return new FailoverEndpointSerializer();
-        }
-
-        throw new SynapseException("Serializer for endpoint " +
-                endpoint.getClass().toString() + " is not defined.");
-    }
-}
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointFactory.java
index 516c7de15..5807ab87f 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointFactory.java
@@ -34,8 +34,8 @@ import org.apache.synapse.endpoints.utils.EndpointDefinition;
 import javax.xml.namespace.QName;
 
 /**
- * All endpoint factories should implement this interface. Use EndpointAbstractFactory to obtain the
- * correct endpoint factory for particular endpoint configuration. As endpoints can be nested inside
+ * All endpoint factories should implement this interface. Use EndpointFactory to obtain the
+ * correct endpoint for particular endpoint configuration. As endpoints can be nested inside
  * each other, EndpointFactory implementations may call other EndpointFactory implementations
  * recursively to obtain the required endpoint hierarchy.
  *
@@ -48,17 +48,23 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
     private static Log log = LogFactory.getLog(EndpointFactory.class);
 
     /**
-     * Creates the Endpoint implementation for the given XML endpoint configuration. If the endpoint
-     * configuration is an inline one, it should be an anonymous endpoint. If it is defined as an
-     * immediate child element of the definitions tag it should have a name, which is used as the
-     * key in local registry.
+     * Core method which is exposed for the external use, and this will find the proper
+     * {@link EndpointFactory} and create the endpoint which is of the format {@link Endpoint}.
+     * 
+     * @param elem XML from which the endpoint will be built
+     * @param isAnonymous whether this is an anonymous endpoint or not
+     * @return created endpoint
+     */
+    public static Endpoint getEndpointFromElement(OMElement elem, boolean isAnonymous) {
+        return getEndpointFactory(elem).createEndpoint(elem, isAnonymous);
+    }
+
+    /**
+     * Creates the {@link Endpoint} object from the provided {@link OMNode}
      *
-     * @param epConfig OMElement conatining the endpoint configuration.
-     * @param anonymousEndpoint false if the endpoint has a name. true otherwise.
-     * @return Endpoint implementation for the given configuration.
+     * @param om XML node from which the endpoint will be built
+     * @return created endpoint as an {@link Object}
      */
-    public abstract Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint);
-    
     public Object getObjectFromOMNode(OMNode om) {
         if (om instanceof OMElement) {
             return createEndpoint((OMElement) om, false);
@@ -68,13 +74,25 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         return null;
     }
 
+    /**
+     * Creates the Endpoint implementation for the given XML endpoint configuration. If the endpoint
+     * configuration is an inline one, it should be an anonymous endpoint. If it is defined as an
+     * immediate child element of the definitions tag it should have a name, which is used as the
+     * key in local registry.
+     *
+     * @param epConfig OMElement conatining the endpoint configuration.
+     * @param anonymousEndpoint false if the endpoint has a name. true otherwise.
+     * @return Endpoint implementation for the given configuration.
+     */
+    protected abstract Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint);
+
     /**
      * Extracts the QoS information from the XML which represents a WSDL/Address/Default endpoints
      *
-     * @param endpointDefinition to be filled with the extracted information
+     * @param definition to be filled with the extracted information
      * @param elem XML which represents the endpoint with QoS information
      */
-    protected void extractQOSInformation(EndpointDefinition endpointDefinition, OMElement elem) {
+    protected void extractEndpointProperties(EndpointDefinition definition, OMElement elem) {
 
         OMAttribute format
                 = elem.getAttribute(new QName(XMLConfigConstants.NULL_NAMESPACE, "format"));
@@ -88,12 +106,12 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         if (statistics != null && statistics.getAttributeValue() != null) {
             String statisticsValue = statistics.getAttributeValue();
             if (XMLConfigConstants.STATISTICS_ENABLE.equals(statisticsValue)) {
-                endpointDefinition.setStatisticsState(SynapseConstants.STATISTICS_ON);
+                definition.setStatisticsState(SynapseConstants.STATISTICS_ON);
             } else if (XMLConfigConstants.STATISTICS_DISABLE.equals(statisticsValue)) {
-                endpointDefinition.setStatisticsState(SynapseConstants.STATISTICS_OFF);
+                definition.setStatisticsState(SynapseConstants.STATISTICS_OFF);
             }
         } else {
-            endpointDefinition.setStatisticsState(SynapseConstants.STATISTICS_UNSET);
+            definition.setStatisticsState(SynapseConstants.STATISTICS_UNSET);
         }
 
         OMAttribute trace = elem.getAttribute(new QName(
@@ -101,31 +119,31 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         if (trace != null && trace.getAttributeValue() != null) {
             String traceValue = trace.getAttributeValue();
             if (XMLConfigConstants.TRACE_ENABLE.equals(traceValue)) {
-                endpointDefinition.setTraceState(SynapseConstants.TRACING_ON);
+                definition.setTraceState(SynapseConstants.TRACING_ON);
             } else if (XMLConfigConstants.TRACE_DISABLE.equals(traceValue)) {
-                endpointDefinition.setTraceState(SynapseConstants.TRACING_OFF);
+                definition.setTraceState(SynapseConstants.TRACING_OFF);
             }
         } else {
-            endpointDefinition.setTraceState(SynapseConstants.TRACING_UNSET);
+            definition.setTraceState(SynapseConstants.TRACING_UNSET);
         }
 
         if (format != null) {
             String forceValue = format.getAttributeValue().trim().toLowerCase();
             if (SynapseConstants.FORMAT_POX.equals(forceValue)) {
-                endpointDefinition.setForcePOX(true);
-                endpointDefinition.setFormat(SynapseConstants.FORMAT_POX);
+                definition.setForcePOX(true);
+                definition.setFormat(SynapseConstants.FORMAT_POX);
 
             } else if (SynapseConstants.FORMAT_GET.equals(forceValue)) {
-            	endpointDefinition.setForceGET(true);
-            	endpointDefinition.setFormat(SynapseConstants.FORMAT_GET);
+            	definition.setForceGET(true);
+            	definition.setFormat(SynapseConstants.FORMAT_GET);
 
             } else if (SynapseConstants.FORMAT_SOAP11.equals(forceValue)) {
-                endpointDefinition.setForceSOAP11(true);
-                endpointDefinition.setFormat(SynapseConstants.FORMAT_SOAP11);
+                definition.setForceSOAP11(true);
+                definition.setFormat(SynapseConstants.FORMAT_SOAP11);
 
             } else if (SynapseConstants.FORMAT_SOAP12.equals(forceValue)) {
-                endpointDefinition.setForceSOAP12(true);
-                endpointDefinition.setFormat(SynapseConstants.FORMAT_SOAP12);
+                definition.setForceSOAP12(true);
+                definition.setFormat(SynapseConstants.FORMAT_SOAP12);
 
             } else {
                 handleException("force value -\""+forceValue+"\" not yet implemented");
@@ -135,28 +153,28 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         if (optimize != null && optimize.getAttributeValue().length() > 0) {
             String method = optimize.getAttributeValue().trim();
             if ("mtom".equalsIgnoreCase(method)) {
-                endpointDefinition.setUseMTOM(true);
+                definition.setUseMTOM(true);
             } else if ("swa".equalsIgnoreCase(method)) {
-                endpointDefinition.setUseSwa(true);
+                definition.setUseSwa(true);
             }
         }
 
         if (encoding != null && encoding.getAttributeValue() != null) {
-            endpointDefinition.setCharSetEncoding(encoding.getAttributeValue());
+            definition.setCharSetEncoding(encoding.getAttributeValue());
         }
 
         OMElement wsAddr = elem.getFirstChildWithName(
                 new QName(XMLConfigConstants.SYNAPSE_NAMESPACE, "enableAddressing"));
         if (wsAddr != null) {
             
-            endpointDefinition.setAddressingOn(true);
+            definition.setAddressingOn(true);
 
             OMAttribute version = wsAddr.getAttribute(new QName("version"));
             if (version != null && version.getAttributeValue() != null) {
                 String versionValue = version.getAttributeValue().trim().toLowerCase();
                 if (SynapseConstants.ADDRESSING_VERSION_FINAL.equals(versionValue) ||
                         SynapseConstants.ADDRESSING_VERSION_SUBMISSION.equals(versionValue)) {
-                    endpointDefinition.setAddressingVersion(version.getAttributeValue());
+                    definition.setAddressingVersion(version.getAttributeValue());
                 } else {
                     handleException("Unknown value for the addressing version. Possible values " +
                             "for the addressing version are 'final' and 'submission' only.");
@@ -166,7 +184,7 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
             String useSepList = wsAddr.getAttributeValue(new QName("separateListener"));
             if (useSepList != null) {
                 if ("true".equals(useSepList.trim().toLowerCase())) {
-                    endpointDefinition.setUseSeparateListener(true);
+                    definition.setUseSeparateListener(true);
                 }
             }
         }
@@ -175,12 +193,12 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
                 new QName(XMLConfigConstants.SYNAPSE_NAMESPACE, "enableSec"));
         if (wsSec != null) {
 
-            endpointDefinition.setSecurityOn(true);
+            definition.setSecurityOn(true);
 
             OMAttribute policy
                     = wsSec.getAttribute(new QName(XMLConfigConstants.NULL_NAMESPACE, "policy"));
             if (policy != null) {
-                endpointDefinition.setWsSecPolicyKey(policy.getAttributeValue());
+                definition.setWsSecPolicyKey(policy.getAttributeValue());
             }
         }
         
@@ -188,12 +206,12 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
                 new QName(XMLConfigConstants.SYNAPSE_NAMESPACE, "enableRM"));
         if (wsRm != null) {
 
-            endpointDefinition.setReliableMessagingOn(true);
+            definition.setReliableMessagingOn(true);
 
             OMAttribute policy
                     = wsRm.getAttribute(new QName(XMLConfigConstants.NULL_NAMESPACE, "policy"));
             if (policy != null) {
-                endpointDefinition.setWsRMPolicyKey(policy.getAttributeValue());
+                definition.setWsRMPolicyKey(policy.getAttributeValue());
             }
         }
 
@@ -209,7 +227,7 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
                 if (d != null) {
                     try {
                         long timeoutSeconds = Long.parseLong(d.trim());
-                        endpointDefinition.setTimeoutDuration(timeoutSeconds * 1000);
+                        definition.setTimeoutDuration(timeoutSeconds * 1000);
                     } catch (NumberFormatException e) {
                         handleException("Endpoint timeout duration expected as a " +
                                 "number but was not a number");
@@ -223,19 +241,19 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
                 String actionString = action.getText();
                 if ("discard".equalsIgnoreCase(actionString.trim())) {
                         
-                    endpointDefinition.setTimeoutAction(SynapseConstants.DISCARD);
+                    definition.setTimeoutAction(SynapseConstants.DISCARD);
 
                     // set timeout duration to 30 seconds, if it is not set explicitly
-                    if (endpointDefinition.getTimeoutDuration() == 0) {
-                        endpointDefinition.setTimeoutDuration(30000);
+                    if (definition.getTimeoutDuration() == 0) {
+                        definition.setTimeoutDuration(30000);
                     }
                 } else if ("fault".equalsIgnoreCase(actionString.trim())) {
                         
-                    endpointDefinition.setTimeoutAction(SynapseConstants.DISCARD_AND_FAULT);
+                    definition.setTimeoutAction(SynapseConstants.DISCARD_AND_FAULT);
 
                     // set timeout duration to 30 seconds, if it is not set explicitly
-                    if (endpointDefinition.getTimeoutDuration() == 0) {
-                        endpointDefinition.setTimeoutDuration(30000);
+                    if (definition.getTimeoutDuration() == 0) {
+                        definition.setTimeoutDuration(30000);
                     }
                 } else {
                     handleException("Invalid timeout action, action : "
@@ -251,7 +269,7 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         if (suspendElement != null && suspendElement.getText() != null) {
             try {
                 long suspendDuration = Long.parseLong(suspendElement.getText().trim());
-                endpointDefinition.setSuspendOnFailDuration(suspendDuration * 1000);
+                definition.setSuspendOnFailDuration(suspendDuration * 1000);
             } catch (NumberFormatException e) {
                 handleException("The suspend duration should be specified as a valid number :: "
                         + e.getMessage(), e);
@@ -259,6 +277,60 @@ public abstract class EndpointFactory implements XMLToObjectMapper {
         }
     }
 
+    /**
+     * Returns the EndpointFactory implementation for given endpoint configuration. Throws a
+     * SynapseException, if there is no EndpointFactory for given configuration.
+     *
+     * @param configElement Endpoint configuration.
+     * @return EndpointFactory implementation.
+     */
+    private static EndpointFactory getEndpointFactory(OMElement configElement) {
+
+        if (configElement.getAttribute(new QName("key")) != null) {
+            return IndirectEndpointFactory.getInstance();
+        }
+
+        OMElement addressElement = configElement.getFirstChildWithName(
+                new QName(SynapseConstants.SYNAPSE_NAMESPACE, "address"));
+        if (addressElement != null) {
+            return AddressEndpointFactory.getInstance();
+        }
+
+        OMElement wsdlElement = configElement.getFirstChildWithName(
+                new QName(SynapseConstants.SYNAPSE_NAMESPACE, "wsdl"));
+        if (wsdlElement != null) {
+            return WSDLEndpointFactory.getInstance();
+        }
+
+        OMElement defaultElement = configElement.getFirstChildWithName(
+                new QName(SynapseConstants.SYNAPSE_NAMESPACE, "default"));
+        if (defaultElement != null) {
+            return DefaultEndpointFactory.getInstance();
+        }
+
+        OMElement lbElement = configElement.getFirstChildWithName
+                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "loadbalance"));
+        if (lbElement != null) {
+            OMElement sessionElement = configElement.
+                    getFirstChildWithName(new QName(SynapseConstants.SYNAPSE_NAMESPACE, "session"));
+            if (sessionElement != null) {
+                return SALoadbalanceEndpointFactory.getInstance();
+            } else {
+                return LoadbalanceEndpointFactory.getInstance();
+            }
+        }
+
+        OMElement foElement = configElement.getFirstChildWithName
+                (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "failover"));
+        if (foElement != null) {
+            return FailoverEndpointFactory.getInstance();
+        }
+
+        handleException("Invalid endpoint configuration.");
+        // just to make the compiler happy : never executes
+        return null;
+    }
+
     protected static void handleException(String msg) {
         log.error(msg);
         throw new SynapseException(msg);
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointSerializer.java
index f866b0691..c30d3b885 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/EndpointSerializer.java
@@ -26,11 +26,11 @@ import org.apache.commons.logging.LogFactory;
 import org.apache.synapse.SynapseConstants;
 import org.apache.synapse.SynapseException;
 import org.apache.synapse.config.xml.XMLConfigConstants;
-import org.apache.synapse.endpoints.Endpoint;
+import org.apache.synapse.endpoints.*;
 import org.apache.synapse.endpoints.utils.EndpointDefinition;
 
 /**
- * All endpoint serializers should implement this interface. Use EndpointAbstractSerializer to
+ * All endpoint serializers should implement this interface. Use EndpointSerializer to
  * obtain the correct EndpointSerializer implementation for a particular endpoint.
  * EndpointSerializer implementation may call other EndpointSerializer implementations to serialize
  * nested endpoints.
@@ -41,13 +41,24 @@ public abstract class EndpointSerializer {
 
     protected OMFactory fac;
 
+    /**
+     * Core method which is exposed to the external use, and serializes the {@link Endpoint} to the
+     * XML format
+     *
+     * @param endpoint to be serialized
+     * @return XML format of the serialized endpoint
+     */
+    public static OMElement getElementFromEndpoint(Endpoint endpoint) {
+        return getEndpointSerializer(endpoint).serializeEndpoint(endpoint);
+    }
+
     /**
      * Serializes the given endpoint implementation to an XML object.
      *
      * @param endpoint Endpoint implementation to be serialized.
      * @return OMElement containing XML configuration.
      */
-    public abstract OMElement serializeEndpoint(Endpoint endpoint);
+    protected abstract OMElement serializeEndpoint(Endpoint endpoint);
 
     /**
      * Serializes the QoS infomation of the endpoint to the XML element
@@ -177,4 +188,31 @@ public abstract class EndpointSerializer {
         log.error(message);
         throw new SynapseException(message);
     }
+
+    /**
+     * Returns the EndpointSerializer implementation for the given endpoint. Throws a SynapseException,
+     * if there is no serializer for the given endpoint type.
+     *
+     * @param endpoint Endpoint implementaion.
+     * @return EndpointSerializer implementation.
+     */
+    public static EndpointSerializer getEndpointSerializer(Endpoint endpoint) {
+
+        if (endpoint instanceof AddressEndpoint) {
+            return new AddressEndpointSerializer();
+        } else if (endpoint instanceof WSDLEndpoint) {
+            return new WSDLEndpointSerializer();
+        } else if (endpoint instanceof IndirectEndpoint) {
+            return new IndirectEndpointSerializer();
+        } else if (endpoint instanceof LoadbalanceEndpoint) {
+            return new LoadbalanceEndpointSerializer();
+        } else if (endpoint instanceof SALoadbalanceEndpoint) {
+            return new SALoadbalanceEndpointSerializer();
+        } else if (endpoint instanceof FailoverEndpoint) {
+            return new FailoverEndpointSerializer();
+        }
+
+        throw new SynapseException("Serializer for endpoint " +
+                endpoint.getClass().toString() + " is not defined.");
+    }
 }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointFactory.java
index fcbb81daa..e248f1ccc 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointFactory.java
@@ -19,14 +19,11 @@
 
 package org.apache.synapse.config.xml.endpoints;
 
+import org.apache.axiom.om.OMElement;
+import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.config.xml.XMLConfigConstants;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.endpoints.FailoverEndpoint;
-import org.apache.synapse.SynapseException;
-import org.apache.synapse.SynapseConstants;
-import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMNode;
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
 
 import javax.xml.namespace.QName;
 import java.util.ArrayList;
@@ -51,41 +48,33 @@ public class FailoverEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         OMElement failoverElement = epConfig.getFirstChildWithName
                 (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "failover"));
         if (failoverElement != null) {
 
             FailoverEndpoint failoverEndpoint = new FailoverEndpoint();
-
             // set endpoint name
             String name = epConfig.getAttributeValue(new QName("name"));
             if (name != null) {
                 failoverEndpoint.setName(name);
             }
-
-            // set endpoints
-            ArrayList endpoints = getEndpoints(failoverElement, failoverEndpoint);
-            failoverEndpoint.setEndpoints(endpoints);
-
+            // set endpoints and return
+            failoverEndpoint.setEndpoints(getEndpoints(failoverElement, failoverEndpoint));
             return failoverEndpoint;
         }
 
         return null;
     }
     
-    private ArrayList getEndpoints(OMElement failoverElement, Endpoint parent) {
+    private ArrayList<Endpoint> getEndpoints(OMElement failoverElement, Endpoint parent) {
 
-        ArrayList endpoints = new ArrayList();
-        Iterator iter = failoverElement.getChildrenWithName
-                (org.apache.synapse.config.xml.XMLConfigConstants.ENDPOINT_ELT);
+        ArrayList<Endpoint> endpoints = new ArrayList<Endpoint>();
+        Iterator iter = failoverElement.getChildrenWithName(XMLConfigConstants.ENDPOINT_ELT);
         while (iter.hasNext()) {
-
             OMElement endptElem = (OMElement) iter.next();
-
-            EndpointFactory epFac = EndpointAbstractFactory.getEndpointFactory(endptElem);
-            Endpoint endpoint = epFac.createEndpoint(endptElem, true);
+            Endpoint endpoint = EndpointFactory.getEndpointFromElement(endptElem, true);
             endpoint.setParentEndpoint(parent);
             endpoints.add(endpoint);
         }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointSerializer.java
index 82470042b..202e44e73 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/FailoverEndpointSerializer.java
@@ -21,7 +21,6 @@ package org.apache.synapse.config.xml.endpoints;
 
 import org.apache.axiom.om.OMElement;
 import org.apache.axiom.om.OMAbstractFactory;
-import org.apache.axiom.om.OMFactory;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.endpoints.FailoverEndpoint;
 import org.apache.synapse.SynapseException;
@@ -40,7 +39,7 @@ import java.util.List;
  */
 public class FailoverEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof FailoverEndpoint)) {
             throw new SynapseException("Invalid endpoint type.");
@@ -59,13 +58,8 @@ public class FailoverEndpointSerializer extends EndpointSerializer {
             endpointElement.addAttribute("name", name, null);
         }
 
-        List endpoints = failoverEndpoint.getEndpoints();
-        for (int i = 0; i < endpoints.size(); i++) {
-            Endpoint childEndpoint = (Endpoint) endpoints.get(i);
-            EndpointSerializer serializer = EndpointAbstractSerializer.
-                    getEndpointSerializer(childEndpoint);
-            OMElement aeElement = serializer.serializeEndpoint(childEndpoint);
-            failoverElement.addChild(aeElement);
+        for (Endpoint childEndpoint : failoverEndpoint.getEndpoints()) {
+            failoverElement.addChild(EndpointSerializer.getElementFromEndpoint(childEndpoint));
         }
 
         return endpointElement;
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointFactory.java
index afcae9d07..489d6f96a 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointFactory.java
@@ -46,7 +46,7 @@ public class IndirectEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         IndirectEndpoint indirectEndpoint = new IndirectEndpoint();
         String ref = epConfig.getAttributeValue(new QName("key"));
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointSerializer.java
index ed155dc1d..eab0e3311 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/IndirectEndpointSerializer.java
@@ -34,7 +34,7 @@ import org.apache.synapse.SynapseConstants;
  */
 public class IndirectEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof IndirectEndpoint)) {
             throw new SynapseException("Invalid endpoint type.");
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointFactory.java
index bfc54aced..e89be294e 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointFactory.java
@@ -21,8 +21,8 @@ package org.apache.synapse.config.xml.endpoints;
 
 import org.apache.axiom.om.OMAttribute;
 import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMNode;
 import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.config.xml.XMLConfigConstants;
 import org.apache.synapse.config.xml.endpoints.utils.LoadbalanceAlgorithmFactory;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.endpoints.LoadbalanceEndpoint;
@@ -51,7 +51,7 @@ public class LoadbalanceEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         // create the endpoint, manager and the algorithms
 
@@ -94,14 +94,10 @@ public class LoadbalanceEndpointFactory extends EndpointFactory {
     private ArrayList<Endpoint> getEndpoints(OMElement loadbalanceElement, Endpoint parent) {
 
         ArrayList<Endpoint> endpoints = new ArrayList<Endpoint>();
-        Iterator iter = loadbalanceElement.getChildrenWithName
-                (org.apache.synapse.config.xml.XMLConfigConstants.ENDPOINT_ELT);
+        Iterator iter = loadbalanceElement.getChildrenWithName(XMLConfigConstants.ENDPOINT_ELT);
         while (iter.hasNext()) {
-
             OMElement endptElem = (OMElement) iter.next();
-
-            EndpointFactory epFac = EndpointAbstractFactory.getEndpointFactory(endptElem);
-            Endpoint endpoint = epFac.createEndpoint(endptElem, true);
+            Endpoint endpoint = EndpointFactory.getEndpointFromElement(endptElem, true);
             endpoint.setParentEndpoint(parent);
             endpoints.add(endpoint);
         }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointSerializer.java
index e9bbe5bba..17e4c8bfa 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/LoadbalanceEndpointSerializer.java
@@ -42,7 +42,7 @@ import java.util.List;
  */
 public class LoadbalanceEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof LoadbalanceEndpoint)) {
             throw new SynapseException("Invalid endpoint type.");
@@ -75,12 +75,8 @@ public class LoadbalanceEndpointSerializer extends EndpointSerializer {
             loadbalanceElement.addAttribute("failover", "false", null);
         }
 
-        List<Endpoint> endpoints = loadbalanceEndpoint.getEndpoints();
-        for (Endpoint childEndpoint : endpoints) {
-            EndpointSerializer serializer = EndpointAbstractSerializer.
-                    getEndpointSerializer(childEndpoint);
-            OMElement aeElement = serializer.serializeEndpoint(childEndpoint);
-            loadbalanceElement.addChild(aeElement);
+        for (Endpoint childEndpoint : loadbalanceEndpoint.getEndpoints()) {
+            loadbalanceElement.addChild(EndpointSerializer.getElementFromEndpoint(childEndpoint));
         }
 
         return endpointElement;
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointFactory.java
index 8f26e2913..d3d194b86 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointFactory.java
@@ -19,21 +19,18 @@
 
 package org.apache.synapse.config.xml.endpoints;
 
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
+import org.apache.axiom.om.OMAttribute;
+import org.apache.axiom.om.OMElement;
+import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.config.xml.XMLConfigConstants;
+import org.apache.synapse.config.xml.endpoints.utils.LoadbalanceAlgorithmFactory;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.endpoints.SALoadbalanceEndpoint;
+import org.apache.synapse.endpoints.algorithms.LoadbalanceAlgorithm;
 import org.apache.synapse.endpoints.dispatch.Dispatcher;
-import org.apache.synapse.endpoints.dispatch.SoapSessionDispatcher;
-import org.apache.synapse.endpoints.dispatch.SimpleClientSessionDispatcher;
 import org.apache.synapse.endpoints.dispatch.HttpSessionDispatcher;
-import org.apache.synapse.endpoints.algorithms.LoadbalanceAlgorithm;
-import org.apache.synapse.SynapseConstants;
-import org.apache.synapse.SynapseException;
-import org.apache.synapse.config.xml.endpoints.utils.LoadbalanceAlgorithmFactory;
-import org.apache.axiom.om.OMElement;
-import org.apache.axiom.om.OMAttribute;
-import org.apache.axiom.om.OMNode;
+import org.apache.synapse.endpoints.dispatch.SimpleClientSessionDispatcher;
+import org.apache.synapse.endpoints.dispatch.SoapSessionDispatcher;
 
 import javax.xml.namespace.QName;
 import java.util.ArrayList;
@@ -59,7 +56,7 @@ public class SALoadbalanceEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         // create the endpoint, manager and the algorithms
         SALoadbalanceEndpoint loadbalanceEndpoint = new SALoadbalanceEndpoint();
@@ -95,14 +92,14 @@ public class SALoadbalanceEndpointFactory extends EndpointFactory {
             loadbalanceEndpoint.setName(name.getAttributeValue());
         }
 
-        OMElement loadbalanceElement =  null;
+        OMElement loadbalanceElement;
         loadbalanceElement = epConfig.getFirstChildWithName
                 (new QName(SynapseConstants.SYNAPSE_NAMESPACE, "loadbalance"));
 
         if(loadbalanceElement != null) {
 
             // set endpoints
-            ArrayList endpoints = getEndpoints(loadbalanceElement, loadbalanceEndpoint);
+            ArrayList<Endpoint> endpoints = getEndpoints(loadbalanceElement, loadbalanceEndpoint);
             loadbalanceEndpoint.setEndpoints(endpoints);
 
             // set load balance algorithm
@@ -144,17 +141,13 @@ public class SALoadbalanceEndpointFactory extends EndpointFactory {
         return null;  //To change body of implemented methods use File | Settings | File Templates.
     }
 
-    private ArrayList getEndpoints(OMElement loadbalanceElement, Endpoint parent) {
+    private ArrayList<Endpoint> getEndpoints(OMElement loadbalanceElement, Endpoint parent) {
 
-        ArrayList endpoints = new ArrayList();
-        Iterator iter = loadbalanceElement.getChildrenWithName
-                (org.apache.synapse.config.xml.XMLConfigConstants.ENDPOINT_ELT);
+        ArrayList<Endpoint> endpoints = new ArrayList<Endpoint>();
+        Iterator iter = loadbalanceElement.getChildrenWithName(XMLConfigConstants.ENDPOINT_ELT);
         while (iter.hasNext()) {
-
             OMElement endptElem = (OMElement) iter.next();
-
-            EndpointFactory epFac = EndpointAbstractFactory.getEndpointFactory(endptElem);
-            Endpoint endpoint = epFac.createEndpoint(endptElem, true);
+            Endpoint endpoint = EndpointFactory.getEndpointFromElement(endptElem, true);
             endpoint.setParentEndpoint(parent);
             endpoints.add(endpoint);
         }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointSerializer.java
index 1c5057d80..f11c621fd 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/SALoadbalanceEndpointSerializer.java
@@ -19,27 +19,21 @@
 
 package org.apache.synapse.config.xml.endpoints;
 
-import org.apache.axiom.om.OMFactory;
-import org.apache.axiom.om.OMElement;
 import org.apache.axiom.om.OMAbstractFactory;
+import org.apache.axiom.om.OMElement;
+import org.apache.synapse.SynapseConstants;
 import org.apache.synapse.endpoints.Endpoint;
 import org.apache.synapse.endpoints.SALoadbalanceEndpoint;
-import org.apache.synapse.endpoints.dispatch.Dispatcher;
-import org.apache.synapse.endpoints.dispatch.SoapSessionDispatcher;
-import org.apache.synapse.endpoints.dispatch.SimpleClientSessionDispatcher;
-import org.apache.synapse.endpoints.dispatch.HttpSessionDispatcher;
 import org.apache.synapse.endpoints.algorithms.LoadbalanceAlgorithm;
 import org.apache.synapse.endpoints.algorithms.RoundRobin;
-import org.apache.synapse.SynapseException;
-import org.apache.synapse.SynapseConstants;
-import org.apache.commons.logging.Log;
-import org.apache.commons.logging.LogFactory;
-
-import java.util.List;
+import org.apache.synapse.endpoints.dispatch.Dispatcher;
+import org.apache.synapse.endpoints.dispatch.HttpSessionDispatcher;
+import org.apache.synapse.endpoints.dispatch.SimpleClientSessionDispatcher;
+import org.apache.synapse.endpoints.dispatch.SoapSessionDispatcher;
 
 public class SALoadbalanceEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof SALoadbalanceEndpoint)) {
             handleException("Invalid endpoint type for serializing. " +
@@ -84,13 +78,8 @@ public class SALoadbalanceEndpointSerializer extends EndpointSerializer {
         }
         loadbalanceElement.addAttribute("algorithm", algorithmName, null);
 
-        List endpoints = loadbalanceEndpoint.getEndpoints();
-        for (int i = 0; i < endpoints.size(); i++) {
-            Endpoint childEndpoint = (Endpoint) endpoints.get(i);
-            EndpointSerializer serializer = EndpointAbstractSerializer.
-                    getEndpointSerializer(childEndpoint);
-            OMElement aeElement = serializer.serializeEndpoint(childEndpoint);
-            loadbalanceElement.addChild(aeElement);
+        for (Endpoint childEndpoint : loadbalanceEndpoint.getEndpoints()) {
+            loadbalanceElement.addChild(EndpointSerializer.getElementFromEndpoint(childEndpoint));
         }
 
         return endpointElement;
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
index af4aa200d..0d85ed1bc 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointFactory.java
@@ -61,7 +61,7 @@ public class WSDLEndpointFactory extends EndpointFactory {
         return instance;
     }
 
-    public Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
+    protected Endpoint createEndpoint(OMElement epConfig, boolean anonymousEndpoint) {
 
         WSDLEndpoint wsdlEndpoint = new WSDLEndpoint();
         OMAttribute name = epConfig.getAttribute(new QName(
@@ -147,7 +147,7 @@ public class WSDLEndpointFactory extends EndpointFactory {
             
             if (endpoint != null) {
                 // for now, QOS information has to be provided explicitly.
-                extractQOSInformation(endpoint, wsdlElement);
+                extractEndpointProperties(endpoint, wsdlElement);
                 wsdlEndpoint.setEndpoint(endpoint);
             } else {
                 handleException("WSDL is not specified for WSDL endpoint.");
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointSerializer.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointSerializer.java
index 535c089ef..63acf1de4 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointSerializer.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/WSDLEndpointSerializer.java
@@ -40,7 +40,7 @@ import org.apache.synapse.endpoints.utils.EndpointDefinition;
  */
 public class WSDLEndpointSerializer extends EndpointSerializer {
 
-    public OMElement serializeEndpoint(Endpoint endpoint) {
+    protected OMElement serializeEndpoint(Endpoint endpoint) {
 
         if (!(endpoint instanceof WSDLEndpoint)) {
             throw new SynapseException("Invalid endpoint type.");
diff --git a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/XMLToEndpointMapper.java b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/XMLToEndpointMapper.java
index 327b0dc26..a58bef797 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/XMLToEndpointMapper.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/config/xml/endpoints/XMLToEndpointMapper.java
@@ -48,8 +48,7 @@ public class XMLToEndpointMapper implements XMLToObjectMapper {
     public Object getObjectFromOMNode(OMNode om) {
         if (om instanceof OMElement) {
             OMElement epElement = (OMElement) om;
-            return EndpointAbstractFactory.
-                    getEndpointFactory(epElement).createEndpoint(epElement, false);
+            return EndpointFactory.getEndpointFromElement(epElement, false);
         } else {
             throw new SynapseException("Configuration is not in proper format.");
         }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/AddressEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/AddressEndpoint.java
index db817e847..3d04fbefb 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/AddressEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/AddressEndpoint.java
@@ -49,8 +49,8 @@ public class AddressEndpoint extends FaultHandler implements Endpoint {
     private String name = null;
 
     /**
-     * Stores the endpoint details for this endpoint. Details include EPR, WS-Addressing information,
-     * WS-Security information, etc.
+     * Stores the endpoint details for this endpoint. Details include EPR, WS-Addressing
+     * information, WS-Security information, etc.
      */
     private EndpointDefinition endpoint = null;
 
@@ -132,11 +132,11 @@ public class AddressEndpoint extends FaultHandler implements Endpoint {
     }
 
     /**
-     * Sends the message through this endpoint. This method just handles statistics related functions
-     * and gives the message to the Synapse environment to send. It does not add any endpoint
-     * specific details to the message context. These details are added only to the cloned message
-     * context by the Axis2FlexibleMepClient. So that we can reuse the original message context for
-     * resending through different endpoints.
+     * Sends the message through this endpoint. This method just handles statistics related
+     * functions and gives the message to the Synapse environment to send. It does not add any
+     * endpoint specific details to the message context. These details are added only to the cloned
+     * message context by the Axis2FlexibleMepClient. So that we can reuse the original message
+     * context for resending through different endpoints.
      *
      * @param synCtx MessageContext sent by client to Synapse
      */
@@ -188,7 +188,8 @@ public class AddressEndpoint extends FaultHandler implements Endpoint {
         }
 
         // Setting Required property to collect the End Point statistics
-        boolean statisticsEnable = (SynapseConstants.STATISTICS_ON == endpoint.getStatisticsState());
+        boolean statisticsEnable
+                = (SynapseConstants.STATISTICS_ON == endpoint.getStatisticsState());
         if (statisticsEnable) {
             EndPointStatisticsStack endPointStatisticsStack = null;
             Object statisticsStackObj =
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/DefaultEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/DefaultEndpoint.java
new file mode 100755
index 000000000..3b2bfed70
--- /dev/null
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/DefaultEndpoint.java
@@ -0,0 +1,238 @@
+/*
+ *  Licensed to the Apache Software Foundation (ASF) under one
+ *  or more contributor license agreements.  See the NOTICE file
+ *  distributed with this work for additional information
+ *  regarding copyright ownership.  The ASF licenses this file
+ *  to you under the Apache License, Version 2.0 (the
+ *  "License"); you may not use this file except in compliance
+ *  with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ *  Unless required by applicable law or agreed to in writing,
+ *  software distributed under the License is distributed on an
+ *   * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ *  KIND, either express or implied.  See the License for the
+ *  specific language governing permissions and limitations
+ *  under the License.
+ */
+
+package org.apache.synapse.endpoints;
+
+import org.apache.axis2.clustering.ClusterManager;
+import org.apache.axis2.context.ConfigurationContext;
+import org.apache.commons.logging.Log;
+import org.apache.commons.logging.LogFactory;
+import org.apache.synapse.FaultHandler;
+import org.apache.synapse.MessageContext;
+import org.apache.synapse.SynapseConstants;
+import org.apache.synapse.core.axis2.Axis2MessageContext;
+import org.apache.synapse.endpoints.utils.EndpointDefinition;
+import org.apache.synapse.statistics.impl.EndPointStatisticsStack;
+
+import java.util.Stack;
+
+/**
+ * This class represents an endpoint with epr as addressing to header of the message. It is
+ * responsible for sending the message to the epr specified in the message To header, performing
+ * retries if a failure occurred and informing the parent endpoint if a failure couldn't be
+ * recovered.
+ */
+public class DefaultEndpoint extends FaultHandler implements Endpoint {
+
+    private static final Log log = LogFactory.getLog(DefaultEndpoint.class);
+    private static final Log trace = LogFactory.getLog(SynapseConstants.TRACE_LOGGER);
+
+    /**
+     * Name of the endpoint. Used for named endpoints which can be referred using the key attribute
+     * of indirect endpoints.
+     */
+    private String name = null;
+
+    /**
+     * Stores the endpoint details for this endpoint. Details include EPR, WS-Addressing
+     * information, WS-Security information, etc.
+     */
+    private EndpointDefinition endpoint = null;
+
+    /**
+     * Parent endpoint of this endpoint if this used inside another endpoint. Possible parents are
+     * LoadbalanceEndpoint, SALoadbalanceEndpoint and FailoverEndpoint objects.
+     */
+    private Endpoint parentEndpoint = null;
+
+    /**
+     * The endpoint context , place holder for keep any runtime states related to the endpoint
+     */
+    private final EndpointContext endpointContext = new EndpointContext();
+
+
+    public EndpointDefinition getEndpoint() {
+        return endpoint;
+    }
+
+    public void setEndpoint(EndpointDefinition endpoint) {
+        this.endpoint = endpoint;
+    }
+
+    public String getName() {
+        return name;
+    }
+
+    public void setName(String name) {
+        this.name = name.trim();
+    }
+
+    /**
+     * This will always return true, because the endpoint epr is dependent on the message being
+     * processed
+     *
+     * @param synMessageContext not being used
+     * @return true 
+     */
+    public boolean isActive(MessageContext synMessageContext) {
+        return true;
+    }
+
+    /**
+     * since this is a virtual representation of an endpoint and the epr changes from message
+     * to message setting active state doesn't have a meaning
+     *
+     * @param active not being used
+     * @param synMessageContext not being used
+     */
+    public synchronized void setActive(boolean active, MessageContext synMessageContext) {
+        // no implementation according to the behavior
+    }
+
+    /**
+     * Sends the message through this endpoint. This method just handles statistics related
+     * functions and gives the message to the Synapse environment to send. It does not add any
+     * endpoint specific details to the message context. These details are added only to the cloned
+     * message context by the Axis2FlexibleMepClient. So that we can reuse the original message
+     * context for resending through different endpoints.
+     *
+     * @param synCtx MessageContext sent by client to Synapse
+     */
+    public void send(MessageContext synCtx) {
+
+        boolean traceOn = isTraceOn(synCtx);
+        boolean traceOrDebugOn = isTraceOrDebugOn(traceOn);
+
+        if (traceOrDebugOn) {
+            traceOrDebug(traceOn, "Start : Default Endpoint");
+
+            if (traceOn && trace.isTraceEnabled()) {
+                trace.trace("Message : " + synCtx.getEnvelope());
+            }
+        }
+
+        String endPointName = this.getName();
+        if (endPointName == null) {
+            endPointName = SynapseConstants.ANONYMOUS_ENDPOINT;
+        }
+
+        // Setting Required property to collect the End Point statistics
+        boolean statisticsEnable
+                = (SynapseConstants.STATISTICS_ON == endpoint.getStatisticsState());
+        if (statisticsEnable) {
+            EndPointStatisticsStack endPointStatisticsStack = null;
+            Object statisticsStackObj =
+                    synCtx.getProperty(org.apache.synapse.SynapseConstants.ENDPOINT_STATS);
+            if (statisticsStackObj == null) {
+                endPointStatisticsStack = new EndPointStatisticsStack();
+                synCtx.setProperty(org.apache.synapse.SynapseConstants.ENDPOINT_STATS,
+                        endPointStatisticsStack);
+            } else if (statisticsStackObj instanceof EndPointStatisticsStack) {
+                endPointStatisticsStack = (EndPointStatisticsStack) statisticsStackObj;
+            }
+            if (endPointStatisticsStack != null) {
+                boolean isFault = synCtx.getEnvelope().getBody().hasFault();
+                endPointStatisticsStack.put(endPointName, System.currentTimeMillis(),
+                        !synCtx.isResponse(), statisticsEnable, isFault);
+            }
+        }
+
+        if (synCtx.getTo() != null && synCtx.getTo().getAddress() != null) {
+            if (traceOrDebugOn) {
+                traceOrDebug(traceOn, "Sending message to endpoint : " +
+                        endPointName + " resolves to address = " + synCtx.getTo().getAddress());
+                traceOrDebug(traceOn, "SOAPAction: " + (synCtx.getSoapAction() != null ?
+                        synCtx.getSoapAction() : "null"));
+                traceOrDebug(traceOn, "WSA-Action: " + (synCtx.getWSAAction() != null ?
+                        synCtx.getWSAAction() : "null"));
+
+                if (traceOn && trace.isTraceEnabled()) {
+                    trace.trace("Envelope : \n" + synCtx.getEnvelope());
+                }
+            }
+        }
+
+        // register this as the immediate fault handler for this message.
+        synCtx.pushFaultHandler(this);
+
+        // add this as the last endpoint to process this message. it is used by statistics code.
+        synCtx.setProperty(SynapseConstants.PROCESSED_ENDPOINT, this);
+
+        synCtx.getEnvironment().send(endpoint, synCtx);
+    }
+
+    public void onChildEndpointFail(Endpoint endpoint, MessageContext synMessageContext) {
+        // nothing to do as this is a leaf level endpoint
+    }
+
+    public void setParentEndpoint(Endpoint parentEndpoint) {
+        this.parentEndpoint = parentEndpoint;
+    }
+
+    public void onFault(MessageContext synCtx) {
+        // perform retries here
+
+        if (parentEndpoint != null) {
+            parentEndpoint.onChildEndpointFail(this, synCtx);
+        } else {
+            Stack faultStack = synCtx.getFaultStack();
+            if (!faultStack.isEmpty()) {
+                ((FaultHandler) faultStack.pop()).handleFault(synCtx);
+            }
+        }
+    }
+
+    /**
+     * Should this mediator perform tracing? True if its explicitly asked to
+     * trace, or its parent has been asked to trace and it does not reject it
+     *
+     * @param msgCtx the current message
+     * @return true if tracing should be performed
+     */
+    protected boolean isTraceOn(MessageContext msgCtx) {
+        return (endpoint.getTraceState() == SynapseConstants.TRACING_ON) ||
+                (endpoint.getTraceState() == SynapseConstants.TRACING_UNSET &&
+                        msgCtx.getTracingState() == SynapseConstants.TRACING_ON);
+    }
+
+    /**
+     * Is tracing or debug logging on?
+     *
+     * @param isTraceOn is tracing known to be on?
+     * @return true, if either tracing or debug logging is on
+     */
+    protected boolean isTraceOrDebugOn(boolean isTraceOn) {
+        return isTraceOn || log.isDebugEnabled();
+    }
+
+    /**
+     * Perform Trace and Debug logging of a message @INFO (trace) and DEBUG (log)
+     *
+     * @param traceOn is runtime trace on for this message?
+     * @param msg     the message to log/trace
+     */
+    protected void traceOrDebug(boolean traceOn, String msg) {
+        if (traceOn) {
+            trace.info(msg);
+        }
+        if (log.isDebugEnabled()) {
+            log.debug(msg);
+        }
+    }
+}
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/FailoverEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/FailoverEndpoint.java
index b0b8e51e2..4b982391e 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/FailoverEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/FailoverEndpoint.java
@@ -31,12 +31,13 @@ import org.apache.synapse.core.axis2.Axis2MessageContext;
 import java.util.List;
 
 /**
- * FailoverEndpoint can have multiple child endpoints. It will always try to send messages to current
- * endpoint. If the current endpoint is failing, it gets another active endpoint from the list and
- * make it the current endpoint. Then the message is sent to the current endpoint and if it fails, above
- * procedure repeats until there are no active endpoints. If all endpoints are failing and parent
- * endpoint is available, this will delegate the problem to the parent endpoint. If parent endpoint
- * is not available it will pop the next FaultHandler and delegate the problem to that.
+ * FailoverEndpoint can have multiple child endpoints. It will always try to send messages to
+ * current endpoint. If the current endpoint is failing, it gets another active endpoint from the
+ * list and make it the current endpoint. Then the message is sent to the current endpoint and if
+ * it fails, above procedure repeats until there are no active endpoints. If all endpoints are
+ * failing and parent endpoint is available, this will delegate the problem to the parent endpoint.
+ * If parent endpoint is not available it will pop the next FaultHandler and delegate the problem
+ * to that.
  */
 public class FailoverEndpoint implements Endpoint {
 
@@ -51,7 +52,7 @@ public class FailoverEndpoint implements Endpoint {
      * List of child endpoints. Failover sending is done among these. Any object implementing the
      * Endpoint interface can be a child.
      */
-    private List endpoints = null;
+    private List<Endpoint> endpoints = null;
 
     /**
      * Endpoint for which currently sending the SOAP traffic.
@@ -118,13 +119,11 @@ public class FailoverEndpoint implements Endpoint {
             currentEndpoint.send(synMessageContext);
         } else {
 
-            Endpoint liveEndpoint = null;
             boolean foundEndpoint = false;
-            for (int i = 0; i < endpoints.size(); i++) {
-                liveEndpoint = (Endpoint) endpoints.get(i);
-                if (liveEndpoint.isActive(synMessageContext)) {
+            for (Endpoint endpoint : endpoints) {
+                if (endpoint.isActive(synMessageContext)) {
                     foundEndpoint = true;
-                    currentEndpoint = liveEndpoint;
+                    currentEndpoint = endpoint;
                     currentEndpoint.send(synMessageContext);
                     break;
                 }
@@ -165,8 +164,7 @@ public class FailoverEndpoint implements Endpoint {
     public boolean isActive(MessageContext synMessageContext) {
         boolean active = endpointContext.isActive();
         if (!active) {
-            for (int i = 0; i < endpoints.size(); i++) {
-                Endpoint endpoint = (Endpoint) endpoints.get(i);
+            for (Endpoint endpoint : endpoints) {
                 if (endpoint.isActive(synMessageContext)) {
                     active = true;
                     endpointContext.setActive(true);
@@ -186,14 +184,14 @@ public class FailoverEndpoint implements Endpoint {
         this.endpointContext.setActive(active);
     }
 
-    public List getEndpoints() {
+    public List<Endpoint> getEndpoints() {
         return endpoints;
     }
 
-    public void setEndpoints(List endpoints) {
+    public void setEndpoints(List<Endpoint> endpoints) {
         this.endpoints = endpoints;
         if (endpoints.size() > 0) {
-            currentEndpoint = (Endpoint) endpoints.get(0);
+            currentEndpoint = endpoints.get(0);
         }
     }
 
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/IndirectEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/IndirectEndpoint.java
index 68eb8a3b4..e375b6f9d 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/IndirectEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/IndirectEndpoint.java
@@ -35,7 +35,8 @@ import org.apache.synapse.endpoints.utils.EndpointDefinition;
  * endpoint as a private variable as it could expire. Therefore, it only stores the key and gets the
  * actual endpoint from the synapse configuration.
  * <p/>
- * As this is also an instance of endpoint, this can be used any place, where a normal endpoint is used.
+ * As this is also an instance of endpoint, this can be used any place, where a normal endpoint is
+ * used.
  */
 public class IndirectEndpoint implements Endpoint {
 
@@ -44,14 +45,12 @@ public class IndirectEndpoint implements Endpoint {
 
     private String name = null;
     private String key = null;
-    private boolean active = true;
     private Endpoint parentEndpoint = null;
 
     /**
      * This should have a reference to the current message context as it gets the referred endpoint
      * from it.
      */
-    private MessageContext currentMsgCtx = null;
     private final EndpointContext endpointContext = new EndpointContext();
 
     public void send(MessageContext synMessageContext) {
@@ -95,7 +94,7 @@ public class IndirectEndpoint implements Endpoint {
             }
         }
 
-
+        assert endpoint != null;
         if (endpoint.isActive(synMessageContext)) {
             endpoint.send(synMessageContext);
 
@@ -148,6 +147,7 @@ public class IndirectEndpoint implements Endpoint {
             handleException("Reference to non-existent endpoint for key : " + key);
         }
 
+        assert endpoint != null;
         return endpoint.isActive(synMessageContext);
     }
 
@@ -164,6 +164,7 @@ public class IndirectEndpoint implements Endpoint {
             handleException("Reference to non-existent endpoint for key : " + key);
         }
 
+        assert endpoint != null;
         endpoint.setActive(active, synMessageContext);
     }
 
@@ -211,12 +212,9 @@ public class IndirectEndpoint implements Endpoint {
             endptDefn = wsdlEndpt.getEndpoint();
         }
 
-        if (endptDefn != null) {
-            return (endptDefn.getTraceState() == SynapseConstants.TRACING_ON) ||
-                    (endptDefn.getTraceState() == SynapseConstants.TRACING_UNSET &&
-                            synCtx.getTracingState() == SynapseConstants.TRACING_ON);
-        }
-        return false;
+        return endptDefn != null && ((endptDefn.getTraceState() == SynapseConstants.TRACING_ON) ||
+                (endptDefn.getTraceState() == SynapseConstants.TRACING_UNSET &&
+                        synCtx.getTracingState() == SynapseConstants.TRACING_ON));
     }
 
 }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/LoadbalanceEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/LoadbalanceEndpoint.java
index 905b8c94c..6d5233332 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/LoadbalanceEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/LoadbalanceEndpoint.java
@@ -34,12 +34,12 @@ import java.util.List;
 
 /**
  * Load balance endpoint can have multiple endpoints. It will route messages according to the
- * specified load balancing algorithm. This will assume that all immediate child endpoints are identical
- * in state (state is replicated) or state is not maintained at those endpoints. If an endpoint is
- * failing, the failed endpoint is marked as inactive and the message to the next endpoint obtained
- * using the load balancing algorithm. If all the endpoints have failed and the parent endpoint is
- * available, onChildEndpointFail(...) method of parent endpoint is called. If parent is not
- * available, this will call next FaultHandler for the message context.
+ * specified load balancing algorithm. This will assume that all immediate child endpoints are
+ * identical in state (state is replicated) or state is not maintained at those endpoints. If an
+ * endpoint is failing, the failed endpoint is marked as inactive and the message to the next
+ * endpoint obtained using the load balancing algorithm. If all the endpoints have failed and the
+ * parent endpoint is available, onChildEndpointFail(...) method of parent endpoint is called. If
+ * parent is not available, this will call next FaultHandler for the message context.
  */
 public class LoadbalanceEndpoint implements Endpoint {
 
@@ -135,8 +135,8 @@ public class LoadbalanceEndpoint implements Endpoint {
         if (endpoint != null) {
 
             // We have to build the envelop if we are supporting failover.
-            // Failover should sent the original message multiple times if failures occur. So we have to
-            // access the envelop multiple times.
+            // Failover should sent the original message multiple times if failures occur. So we
+            // have to access the envelop multiple times.
             if (failover) {
                 synMessageContext.getEnvelope().build();
             }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/SALoadbalanceEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/SALoadbalanceEndpoint.java
index 27065a196..51cc983b4 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/SALoadbalanceEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/SALoadbalanceEndpoint.java
@@ -45,16 +45,16 @@ import java.util.List;
  * session -> endpoint map. To update sessions for response messages, all SALoadbalanceEndpoint
  * objects are kept in a global property. When a message passes through SALoadbalanceEndpoints, each
  * endpoint appends its "Synapse unique ID" to the operation context. Once the response for that
- * message arrives, response sender checks first endpoint of the endpoint sequence from the operation
- * context and get that endpoint from the above mentioned global property. Then it will invoke
- * updateSession(...) method of that endpoint. After that, each endpoint will call updateSession(...)
- * method of their appropriate child endpoint, so that all the sending endpoints for the session will
- * be updated.
+ * message arrives, response sender checks first endpoint of the endpoint sequence from the
+ * operation context and get that endpoint from the above mentioned global property. Then it will
+ * invoke updateSession(...) method of that endpoint. After that, each endpoint will call
+ * updateSession(...) method of their appropriate child endpoint, so that all the sending endpoints
+ * for the session will be updated.
  * <p/>
  * This endpoint gets the target endpoint first from the dispatch manager, which will ask all listed
- * dispatchers for a matching session. If a matching session is found it will just invoke the send(...)
- * method of that endpoint. If not it will find an endpoint using the load balancing policy and send to
- * that endpoint.
+ * dispatchers for a matching session. If a matching session is found it will just invoke the
+ * send(...) method of that endpoint. If not it will find an endpoint using the load balancing
+ * policy and send to that endpoint.
  */
 public class SALoadbalanceEndpoint implements Endpoint {
 
@@ -78,7 +78,7 @@ public class SALoadbalanceEndpoint implements Endpoint {
      * List of endpoints among which the load is distributed. Any object implementing the Endpoint
      * interface could be used.
      */
-    private List endpoints = null;
+    private List<Endpoint> endpoints = null;
 
     /**
      * Algorithm used for selecting the next endpoint to direct the first request of sessions.
@@ -117,7 +117,6 @@ public class SALoadbalanceEndpoint implements Endpoint {
 
     public void send(MessageContext synMessageContext) {
 
-        Endpoint endpoint = null;
         if (log.isDebugEnabled()) {
             log.debug("Start : Session Affinity Load-balance Endpoint");
         }
@@ -169,7 +168,7 @@ public class SALoadbalanceEndpoint implements Endpoint {
 
         // first check if this session is associated with a session. if so, get the endpoint
         // associated for that session.
-        endpoint = dispatcher.getEndpoint(synMessageContext, dispatcherContext);
+        Endpoint endpoint = dispatcher.getEndpoint(synMessageContext, dispatcherContext);
         if (endpoint == null) {
 
             // there is no endpoint associated with this session. get a new endpoint using the
@@ -229,7 +228,7 @@ public class SALoadbalanceEndpoint implements Endpoint {
                 Object o = opCtx.getProperty(ENDPOINT_LIST);
 
                 if (o != null) {
-                    List endpointList = (List) o;
+                    List<Endpoint> endpointList = (List<Endpoint>) o;
                     endpointList.add(this);
 
                     // if the next endpoint is not a session affinity one, endpoint sequence ends
@@ -292,8 +291,11 @@ public class SALoadbalanceEndpoint implements Endpoint {
      *
      * @param responseMsgCtx
      * @param endpointList
+     * @param isClusteringEnable
      */
-    public void updateSession(MessageContext responseMsgCtx, List endpointList, boolean isClusteringEnable) {
+    public void updateSession(MessageContext responseMsgCtx, List endpointList,
+        boolean isClusteringEnable) {
+
         Endpoint endpoint = null;
 
         if (isClusteringEnable) {
@@ -362,11 +364,11 @@ public class SALoadbalanceEndpoint implements Endpoint {
         endpointContext.setActive(active);
     }
 
-    public List getEndpoints() {
+    public List<Endpoint> getEndpoints() {
         return endpoints;
     }
 
-    public void setEndpoints(List endpoints) {
+    public void setEndpoints(List<Endpoint> endpoints) {
         this.endpoints = endpoints;
     }
 
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/WSDLEndpoint.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/WSDLEndpoint.java
index d1603b331..fd2c2fc6c 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/WSDLEndpoint.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/WSDLEndpoint.java
@@ -35,9 +35,9 @@ import java.util.Stack;
 
 /**
  * WSDLEndpoint represents the endpoints built using a wsdl document. It stores the details about
- * the endpoint in a EndpointDefinition object. Once the WSDLEndpoint object is constructed, it should
- * not access the wsdl document at runtime to obtain endpoint information. If it is necessary to
- * create an endpoint using a dynamic wsdl, store the endpoint configuration in the registry and
+ * the endpoint in a EndpointDefinition object. Once the WSDLEndpoint object is constructed, it
+ * should not access the wsdl document at runtime to obtain endpoint information. If it is necessary
+ * to create an endpoint using a dynamic wsdl, store the endpoint configuration in the registry and
  * create a dynamic wsdl endpoint using that registry key.
  * <p/>
  * TODO: This should allow various policies to be applied on fine grained level (e.g. operations).
@@ -62,11 +62,11 @@ public class WSDLEndpoint extends FaultHandler implements Endpoint {
     private final EndpointContext endpointContext = new EndpointContext();
 
     /**
-     * Sends the message through this endpoint. This method just handles statistics related functions
-     * and gives the message to the Synapse environment to send. It does not add any endpoint
-     * specific details to the message context. These details are added only to the cloned message
-     * context by the Axis2FlexibleMepClient. So that we can reuse the original message context for
-     * resending through different endpoints.
+     * Sends the message through this endpoint. This method just handles statistics related
+     * functions and gives the message to the Synapse environment to send. It does not add any
+     * endpoint specific details to the message context. These details are added only to the cloned
+     * message context by the Axis2FlexibleMepClient. So that we can reuse the original message
+     * context for resending through different endpoints.
      *
      * @param synCtx MessageContext sent by client to Synapse
      */
@@ -83,11 +83,9 @@ public class WSDLEndpoint extends FaultHandler implements Endpoint {
             }
         }
 
-        String eprAddress = null;
         if (endpoint.getAddress() != null) {
 
-            eprAddress = endpoint.getAddress();
-
+            String eprAddress = endpoint.getAddress();
             boolean isClusteringEnable = false;
             // get Axis2 MessageContext and ConfigurationContext
             org.apache.axis2.context.MessageContext axisMC =
@@ -95,7 +93,6 @@ public class WSDLEndpoint extends FaultHandler implements Endpoint {
             ConfigurationContext cc = axisMC.getConfigurationContext();
 
             //The check for clustering environment
-
             ClusterManager clusterManager = cc.getAxisConfiguration().getClusterManager();
             if (clusterManager != null &&
                     clusterManager.getContextManager() != null) {
@@ -106,9 +103,10 @@ public class WSDLEndpoint extends FaultHandler implements Endpoint {
             if (endPointName == null) {
 
                 if (traceOrDebugOn && isClusteringEnable) {
-                    log.warn("In a clustering environment , the endpoint  name should be specified" +
-                            "even for anonymous endpoints. Otherwise , the clustering would not be " +
-                            "functioned correctly if there are more than one anonymous endpoints. ");
+                    log.warn("In a clustering environment , the endpoint  name should be " +
+                            "specified even for anonymous endpoints. Otherwise, the clustering " +
+                            "would not be functioned correctly if there are more than one " +
+                            "anonymous endpoints. ");
                 }
                 endPointName = SynapseConstants.ANONYMOUS_ENDPOINT;
             }
diff --git a/java/modules/core/src/main/java/org/apache/synapse/endpoints/dispatch/DispatcherContext.java b/java/modules/core/src/main/java/org/apache/synapse/endpoints/dispatch/DispatcherContext.java
index 88ede7e9a..a1c25502f 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/endpoints/dispatch/DispatcherContext.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/endpoints/dispatch/DispatcherContext.java
@@ -54,7 +54,8 @@ public class DispatcherContext {
 
     /* Map to store session -> endpoint mappings. Synchronized map is used as this is accessed by
      * multiple threads (e.g. multiple clients different sessions).*/
-    private final Map sessionMap = Collections.synchronizedMap(new HashMap());
+    private final Map<String, Endpoint> sessionMap
+            = Collections.synchronizedMap(new HashMap<String, Endpoint>());
 
     /*The axis configuration context-  this will hold the all callers states
      *when doing throttling in a clustered environment. */
@@ -67,7 +68,7 @@ public class DispatcherContext {
     private String keyPrefix;
 
     /*To keep all defined child endpoints  */
-    private final Map endpointsMap = new HashMap();
+    private final Map<String, Endpoint> endpointsMap = new HashMap<String, Endpoint>();
 
     /**
      * return the endpoint  for the given session.
@@ -87,13 +88,13 @@ public class DispatcherContext {
             // gets the value from configuration context (The shared state across all instances )
             Object value = this.configCtx.getPropertyNonReplicable(this.keyPrefix + sessionID);
             if (value != null && value instanceof String) {
-                return (Endpoint) endpointsMap.get(value);
+                return endpointsMap.get(value.toString());
             }
 
         } else {
 
             synchronized (sessionMap) {
-                return (Endpoint) sessionMap.get(sessionID);
+                return sessionMap.get(sessionID);
             }
         }
 
@@ -299,31 +300,24 @@ public class DispatcherContext {
      *
      * @param endpoints The endpoint list
      */
-    public void setEndpoints(List endpoints) {
+    public void setEndpoints(List<Endpoint> endpoints) {
 
         if (endpoints != null) {
 
-            for (int i = 0; i < endpoints.size(); i++) {
-                Object e = endpoints.get(i);
-
-                if (e != null && e instanceof Endpoint) {
-                    Endpoint endpoint = (Endpoint) e;
-
-                    String endPointName = endpoint.getName();
-                    if (endPointName == null) {
-
-                        if (log.isDebugEnabled() && isClusteringEnable()) {
-                            log.warn("In a clustering environment , the endpoint  name should be" +
-                                    " specified even for anonymous endpoints. Otherwise , the " +
-                                    "clustering would not be functioned correctly if there are" +
-                                    " more than one anonymous endpoints. ");
-                        }
-                        endPointName = SynapseConstants.ANONYMOUS_ENDPOINT;
+            for (Endpoint endpoint : endpoints) {
+                String endPointName = endpoint.getName();
+                if (endPointName == null) {
+                    if (log.isDebugEnabled() && isClusteringEnable()) {
+                        log.warn("In a clustering environment , the endpoint  name should be" +
+                                " specified even for anonymous endpoints. Otherwise , the " +
+                                "clustering would not be functioned correctly if there are" +
+                                " more than one anonymous endpoints. ");
                     }
-
-                    endpointsMap.put(endPointName, endpoint);
+                    endPointName = SynapseConstants.ANONYMOUS_ENDPOINT;
                 }
 
+                endpointsMap.put(endPointName, endpoint);
+
             }
         }
     }
