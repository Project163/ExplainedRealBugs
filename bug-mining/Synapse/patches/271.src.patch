diff --git a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2MessageContext.java b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2MessageContext.java
index 99de5c968..bc1ceb010 100644
--- a/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2MessageContext.java
+++ b/java/modules/core/src/main/java/org/apache/synapse/core/axis2/Axis2MessageContext.java
@@ -152,12 +152,16 @@ public class Axis2MessageContext implements MessageContext {
             return (Endpoint) o;
         } else {
             Endpoint e = getConfiguration().getEndpoint(key);
-            synchronized (e) {
+            if (e != null) {
                 if (!e.isInitialized()) {
-                    e.init(synEnv);
+                    synchronized (e) {
+                        if (!e.isInitialized()) {
+                            e.init(synEnv);
+                        }
+                    }
                 }
+                localEntries.put(key, e);
             }
-            localEntries.put(key, e);
             return e;
         }
     }
diff --git a/java/modules/core/src/test/java/org/apache/synapse/registry/DynamicResourceTest.java b/java/modules/core/src/test/java/org/apache/synapse/registry/DynamicResourceTest.java
index 6d02d6335..1db68a72f 100644
--- a/java/modules/core/src/test/java/org/apache/synapse/registry/DynamicResourceTest.java
+++ b/java/modules/core/src/test/java/org/apache/synapse/registry/DynamicResourceTest.java
@@ -125,6 +125,12 @@ public class DynamicResourceTest extends TestCase {
         assertTrue(seq1 != seq4);
         assertTrue(!((SequenceMediator) seq1).isInitialized());
 
+        // Phase 5
+        System.out.println("Testing for non-existing sequences...");
+        synCtx = TestUtils.createSynapseMessageContext("<empty/>", config);
+        Mediator seq5 = synCtx.getSequence("non-existing-sequence");
+        assertNull(seq5);
+
         System.out.println("Dynamic sequence lookup tests were successful...");
     }
 
@@ -172,6 +178,12 @@ public class DynamicResourceTest extends TestCase {
         assertTrue(ep1 != ep4);
         assertTrue(!ep1.isInitialized());
 
+        // Phase 5
+        System.out.println("Testing for non-existing endpoints...");
+        synCtx = TestUtils.createSynapseMessageContext("<empty/>", config);
+        Endpoint ep5 = synCtx.getEndpoint("non-existing-endpoint");
+        assertNull(ep5);
+
         System.out.println("Dynamic endpoint lookup tests were successful...");
     }
 }
