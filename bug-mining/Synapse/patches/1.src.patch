diff --git a/java/modules/extensions/src/org/apache/synapse/mediators/javascript/JavaScriptMediator.java b/java/modules/extensions/src/org/apache/synapse/mediators/javascript/JavaScriptMediator.java
index 19f361a63..a6f66e247 100644
--- a/java/modules/extensions/src/org/apache/synapse/mediators/javascript/JavaScriptMediator.java
+++ b/java/modules/extensions/src/org/apache/synapse/mediators/javascript/JavaScriptMediator.java
@@ -17,6 +17,7 @@ package org.apache.synapse.mediators.javascript;
 
 import org.apache.synapse.MessageContext;
 import org.apache.synapse.mediators.AbstractMediator;
+import org.mozilla.javascript.Scriptable;
 
 /**
  * A Synapse mediator using a JavaScript function.
@@ -30,9 +31,10 @@ public class JavaScriptMediator extends AbstractMediator {
 
     private RhinoFunctionInvoker mediateFunction;
     private String script;
+    private Scriptable scope;
 
     public boolean mediate(MessageContext synCtx) {
-        Boolean b = (Boolean) mediateFunction.invoke(new Object[] { synCtx });
+        Boolean b = (Boolean) mediateFunction.invoke(new Object[] { new E4XMessageContext(synCtx, scope) });
         return b == null ? true : b.booleanValue(); // default response to true
     }
 
@@ -42,6 +44,7 @@ public class JavaScriptMediator extends AbstractMediator {
         rhinoScript.setResponseClass("mediate", Boolean.class);
         RhinoScriptInstance scriptInstance = rhinoScript.createRhinoScriptInstance();
         this.mediateFunction = scriptInstance.createRhinoFunctionInvoker("mediate");
+        this.scope = scriptInstance.getScope();
     }
 
     public String getScript() {
diff --git a/java/modules/extensions/src/org/apache/synapse/mediators/javascript/RhinoScriptInstance.java b/java/modules/extensions/src/org/apache/synapse/mediators/javascript/RhinoScriptInstance.java
index 1e5b83efa..a3ab1dee7 100644
--- a/java/modules/extensions/src/org/apache/synapse/mediators/javascript/RhinoScriptInstance.java
+++ b/java/modules/extensions/src/org/apache/synapse/mediators/javascript/RhinoScriptInstance.java
@@ -98,5 +98,9 @@ public class RhinoScriptInstance {
 
         return (Function) handleObj;
     }
+    
+    public Scriptable getScope() {
+    	return instanceScope;
+    }
 
 }
