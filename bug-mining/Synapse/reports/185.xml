<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-433] Loadbalance Algorithm is hardcoded</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-433</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;There is no way to switch to a different algorithm other than round-robin without a code change. The load balancing has been hard coded to use round-robin algorithm.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402536">SYNAPSE-433</key>
            <summary>Loadbalance Algorithm is hardcoded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="afkham_azeez">Afkham Azeez</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Aug 2008 21:00:20 +0000</created>
                <updated>Tue, 27 Dec 2016 16:47:33 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 09:37:59 +0000</resolved>
                                                    <fixVersion>NIGHTLY</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12623230" author="afkham_azeez" created="Sun, 17 Aug 2008 21:01:34 +0000"  >&lt;p&gt;This patch allows users to provide the algorithm implementation class using the algorithm attribute of the loadbalance element.&lt;/p&gt;</comment>
                            <comment id="12625612" author="ruwan" created="Tue, 26 Aug 2008 03:08:45 +0000"  >&lt;p&gt;reviewed and committed the patch to the trunk&lt;/p&gt;</comment>
                            <comment id="12625613" author="ruwan" created="Tue, 26 Aug 2008 03:09:23 +0000"  >&lt;p&gt;Applied the patch to the trunk&lt;/p&gt;</comment>
                            <comment id="12658742" author="hiranya" created="Tue, 23 Dec 2008 04:29:33 +0000"  >&lt;p&gt;I see two problems in the current load balance algorithm factory implementations.&lt;/p&gt;

&lt;p&gt;1. round robin algorithm is still hard coded&lt;br/&gt;
2. algorithm factory does not read the algorithm implementation from the &apos;algorithm&apos; attribute in the configuration.&lt;/p&gt;

&lt;p&gt;Here is the erroneous method from the source.&lt;/p&gt;

&lt;p&gt;public static LoadbalanceAlgorithm createLoadbalanceAlgorithm(OMElement loadbalanceElement, List endpoints) {&lt;/p&gt;

&lt;p&gt;        LoadbalanceAlgorithm algorithm = null;&lt;/p&gt;

&lt;p&gt;        String algorithmName = &quot;roundRobin&quot;;&lt;br/&gt;
        OMAttribute algoAttribute = loadbalanceElement.getAttribute(new QName(null, XMLConfigConstants.ALGORITHM_NAME));&lt;br/&gt;
        if(algoAttribute != null) &lt;/p&gt;
{
            algorithmName = algoAttribute.getAttributeValue();
        }

&lt;p&gt;        if(algorithmName.equalsIgnoreCase(&quot;roundRobin&quot;)) &lt;/p&gt;
{
                algorithm = new RoundRobin(endpoints);
        }

&lt;p&gt;        return algorithm;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;The value of the ALGORITHM_NAME constant is &quot;policy&quot;. So the method does not refer the &quot;algorithm&quot; attribute anywhere in the code.&lt;/p&gt;</comment>
                            <comment id="12658805" author="hiranya" created="Tue, 23 Dec 2008 09:37:59 +0000"  >&lt;p&gt;Fixed on SVN trunk. LB algorithm factory now considers the values of &quot;policy&quot; and &quot;algorithm&quot; attributes when creating a load balance algorithm implementation. A default constructor was added to the RoundRobin algorithm implementation to support instantiating from the class name.&lt;/p&gt;

&lt;p&gt;If a policy is being specified it must be &quot;roundRobin&quot; since that is the only policy supported right now. If an algorithm is being specified it must be a valid class which implements the LoadbalanceAlgorithm interface.&lt;/p&gt;

&lt;p&gt;In situations no policy or algorithm is specified RoundRobin will be used.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12388396" name="lb-algorithm.patch" size="16216" author="afkham_azeez" created="Sun, 17 Aug 2008 21:01:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i115un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>