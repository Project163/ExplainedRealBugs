<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:07:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-143] WS-Security problem with fire-and-forget SOAP calls</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-143</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;For a fire-and-forget SOAP call (i.e. with no return message defined in the WSDL for the operation):&lt;/p&gt;

&lt;p&gt;If I set enableSec on the endpoint, specifying a policy that uses UsernameToken and/or signing for WS-Security, then the outgoing message is fine on http. It is accepted and validated for security by the target service (by Spring Web Services, in my case).&lt;/p&gt;

&lt;p&gt;The problem is that Synapse gives an axiom error processing the http &apos;202 accepted&apos; response, presumably because there&apos;s no SOAP Security element, and I can&apos;t seem to add an empty one into the out flow until AFTER the WS-Security machinery has already operated (and choked) on the response. Stack trace below.&lt;/p&gt;

&lt;p&gt;If I don&apos;t use WS-Security for the endpoint, there&apos;s no problem. I will check to make sure the same thing doesn&apos;t happen for invocations that return a SOAP response.&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;I/O reactor worker thread 1&quot; org.w3c.dom.DOMException: HIERARCHY_REQUEST_ERR: An attempt was made to insert a node where it is not permitted.&lt;br/&gt;
        at org.apache.axiom.om.impl.dom.ParentNode.insertBefore(ParentNode.java:195)&lt;br/&gt;
        at org.apache.axiom.om.impl.dom.NodeImpl.appendChild(NodeImpl.java:235)&lt;br/&gt;
        at org.apache.axiom.soap.impl.dom.SOAPEnvelopeImpl.&amp;lt;init&amp;gt;(SOAPEnvelopeImpl.java:65)&lt;br/&gt;
        at org.apache.axiom.soap.impl.dom.soap11.SOAP11Factory.getDefaultEnvelope(SOAP11Factory.java:234)&lt;br/&gt;
        at org.apache.axis2.transport.nhttp.ClientHandler.responseReceived(ClientHandler.java:313)&lt;br/&gt;
        at org.apache.axis2.transport.nhttp.LoggingNHttpClientHandler.responseReceived(LoggingNHttpClientHandler.java:96)&lt;br/&gt;
        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:94)&lt;br/&gt;
        at org.apache.axis2.transport.nhttp.PlainClientIOEventDispatch.inputReady(PlainClientIOEventDispatch.java:69)&lt;br/&gt;
        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:68)&lt;br/&gt;
        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:160)&lt;br/&gt;
        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:145)&lt;br/&gt;
        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:127)&lt;br/&gt;
        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:153)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</description>
                <environment>JDK6 on RHEL 3</environment>
        <key id="12380089">SYNAPSE-143</key>
            <summary>WS-Security problem with fire-and-forget SOAP calls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="panderson">Paul Anderson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Oct 2007 16:36:28 +0000</created>
                <updated>Tue, 27 Dec 2016 16:47:30 +0000</updated>
                            <resolved>Thu, 11 Oct 2007 12:27:51 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1-QA-B1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12534021" author="asankha" created="Thu, 11 Oct 2007 12:27:51 +0000"  >&lt;p&gt;Fixed, can you check on the latest SVN or the QA build that Ruwan will be making available tomorrow (12th Oct)&lt;/p&gt;

&lt;p&gt;asankha&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11ic7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216937</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>