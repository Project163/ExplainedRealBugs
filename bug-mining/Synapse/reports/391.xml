<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:09:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-932] Class Loading issue in Script Mediator</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-932</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;An exception similar to the following is triggered when using jars inside &apos;template/lib&apos; using the script mediator.&lt;/p&gt;

&lt;p&gt;ERROR ScriptMediator The script engine returned an error executing the inlined js script function mediate&lt;br/&gt;
com.sun.phobos.script.util.ExtendedScriptException: org.mozilla.javascript.EcmaError: ReferenceError: &quot;FedexTrackingClient&quot; is not defined. (&amp;lt;Unknown Source&amp;gt;#11) in &amp;lt;Unknown Source&amp;gt; at line number 11&lt;br/&gt;
    at com.sun.phobos.script.javascript.RhinoCompiledScript.eval(RhinoCompiledScript.java:68)&lt;br/&gt;
    at javax.script.CompiledScript.eval(CompiledScript.java:75)&lt;br/&gt;
    at org.apache.synapse.mediators.bsf.ScriptMediator.mediateForInlineScript(ScriptMediator.java:256)&lt;br/&gt;
    at org.apache.synapse.mediators.bsf.ScriptMediator.invokeScript(ScriptMediator.java:205)&lt;br/&gt;
    at org.apache.synapse.mediators.bsf.ScriptMediator.mediate(ScriptMediator.java:178)&lt;br/&gt;
...&lt;br/&gt;
Caused by: org.mozilla.javascript.EcmaError: ReferenceError: &quot;FedexTrackingClient&quot; is not defined. (&amp;lt;Unknown Source&amp;gt;#11)&lt;br/&gt;
    at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3229)&lt;br/&gt;
    at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3219)&lt;br/&gt;
    at org.mozilla.javascript.ScriptRuntime.notFoundError(ScriptRuntime.java:3292)&lt;br/&gt;
    at org.mozilla.javascript.ScriptRuntime.name(ScriptRuntime.java:1570)&lt;br/&gt;
    at org.mozilla.javascript.gen.c3._c0(&amp;lt;Unknown Source&amp;gt;:11)&lt;/p&gt;


&lt;p&gt;It seems it is because of external dependencies inside &apos;template/lib&apos;  are not visible for the Rhino engine.   &lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12644341">SYNAPSE-932</key>
            <summary>Class Loading issue in Script Mediator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uswick">Udayanga Shaminda Wickramasinghe</assignee>
                                    <reporter username="malith">Malith Dhanushka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2013 12:05:21 +0000</created>
                <updated>Sun, 18 Aug 2013 00:05:34 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 09:10:35 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Extension Mediators</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13640382" author="malith" created="Wed, 24 Apr 2013 12:31:35 +0000"  >&lt;p&gt;Reason for the issue is external dependencies inside &apos;template/lib&apos;  are not visible for the Rhino engine (because it loads with the default Rhino context). So fixed it by setting up class loader specifically for Rhino engine context, within script mediator. Attaching patch Please review &amp;amp; commit.(Apply the patch to &lt;a href=&quot;https://svn.apache.org/repos/asf/synapse/trunk/java/modules/extensions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/synapse/trunk/java/modules/extensions&lt;/a&gt;) &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Malith&lt;/p&gt;</comment>
                            <comment id="13714579" author="hiranya" created="Sun, 21 Jul 2013 00:20:33 +0000"  >&lt;p&gt;Udayanga, is this related to your mediation templates stuff? If so could you please take a look? Otherwise assign back to me.&lt;/p&gt;</comment>
                            <comment id="13723598" author="uswick" created="Tue, 30 Jul 2013 09:10:26 +0000"  >&lt;p&gt;yes there seems to be an issue there. i committed patch under rev. 1508349 . Thanks Malith for your contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580274" name="SYNAPSE-932.patch" size="8172" author="malith" created="Wed, 24 Apr 2013 12:32:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k0rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>