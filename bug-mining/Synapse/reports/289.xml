<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-692] Intermittent Error While Shutting Down Synapse</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-692</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Encountered the following error once. Couldn&apos;t reproduce consistently:&lt;/p&gt;

&lt;p&gt;2010-09-25 11:49:37,081 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-10&amp;#93;&lt;/span&gt; ERROR SynapseServer Error occurred while shutting down Apache Synapse, it may not be a clean shutdown&lt;br/&gt;
java.lang.IllegalStateException: Shutdown in progress&lt;br/&gt;
	at java.lang.ApplicationShutdownHooks.remove(ApplicationShutdownHooks.java:55)&lt;br/&gt;
	at java.lang.Runtime.removeShutdownHook(Runtime.java:220)&lt;br/&gt;
	at org.apache.axis2.engine.ListenerManager.stop(ListenerManager.java:177)&lt;br/&gt;
	at org.apache.synapse.Axis2SynapseController.stop(Axis2SynapseController.java:310)&lt;br/&gt;
	at org.apache.synapse.ServerManager.stop(ServerManager.java:274)&lt;br/&gt;
	at org.apache.synapse.ServerManager.shutdown(ServerManager.java:137)&lt;br/&gt;
	at org.apache.synapse.SynapseServer$1.run(SynapseServer.java:88)&lt;br/&gt;
2010-09-25 11:49:37,086 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTPS Listener Shutdown&lt;br/&gt;
2010-09-25 11:49:37,088 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO MailTransportListener MAILTO Listener Shutdown&lt;br/&gt;
2010-09-25 11:49:37,089 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTP Listener Shutdown&lt;br/&gt;
2010-09-25 11:49:37,090 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportListener VFS Listener Shutdown&lt;br/&gt;
2010-09-25 11:49:37,091 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTPS Sender Shutdown&lt;br/&gt;
2010-09-25 11:49:37,092 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTP Sender Shutdown&lt;br/&gt;
2010-09-25 11:49:37,094 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO JMSSender JMS Sender Shutdown&lt;br/&gt;
2010-09-25 11:49:37,094 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportSender VFS Sender Shutdown&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475100">SYNAPSE-692</key>
            <summary>Intermittent Error While Shutting Down Synapse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="hiranya">Hiranya Kasub Jayathilaka</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Sep 2010 06:25:03 +0000</created>
                <updated>Sat, 20 Nov 2010 19:02:14 +0000</updated>
                            <resolved>Sat, 20 Nov 2010 19:02:14 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12914777" author="hiranya" created="Sat, 25 Sep 2010 06:54:12 +0000"  >&lt;p&gt;Increasing the priority since the error happens quite frequently&lt;/p&gt;</comment>
                            <comment id="12934150" author="ruwan" created="Sat, 20 Nov 2010 14:57:42 +0000"  >&lt;p&gt;I couldn&apos;t re-produce this issue on the 2.0 branch... I guess it is been fixed.&lt;/p&gt;</comment>
                            <comment id="12934152" author="ruwan" created="Sat, 20 Nov 2010 15:07:33 +0000"  >&lt;p&gt;Resolving this issue as I am not getting it on my MacBook Pro, I&apos;ve also tested on Ubuntu on Virtual Box. If someone gets this at least once, please re-open the ticket.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Ruwan&lt;/p&gt;</comment>
                            <comment id="12934163" author="hiranya" created="Sat, 20 Nov 2010 18:31:09 +0000"  >&lt;p&gt;Still happens in my machine.&lt;/p&gt;

&lt;p&gt;OS: Ubuntu Linux 9.04 (64-bit)&lt;br/&gt;
Java: Sun JDK 1.6.0_21&lt;/p&gt;

&lt;p&gt;Log:&lt;/p&gt;

&lt;p&gt;2010-11-20 23:59:19,338 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-10&amp;#93;&lt;/span&gt;  INFO SynapseServer Shutting down Apache Synapse...&lt;br/&gt;
2010-11-20 23:59:19,341 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-10&amp;#93;&lt;/span&gt;  INFO SynapseTaskManager Shutting down the task manager&lt;br/&gt;
2010-11-20 23:59:19,344 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-10&amp;#93;&lt;/span&gt; ERROR SynapseServer Error occurred while shutting down Apache Synapse, it may not be a clean shutdown&lt;br/&gt;
java.lang.IllegalStateException: Shutdown in progress&lt;br/&gt;
	at java.lang.ApplicationShutdownHooks.remove(ApplicationShutdownHooks.java:55)&lt;br/&gt;
	at java.lang.Runtime.removeShutdownHook(Runtime.java:220)&lt;br/&gt;
	at org.apache.axis2.engine.ListenerManager.stop(ListenerManager.java:177)&lt;br/&gt;
	at org.apache.synapse.Axis2SynapseController.stop(Axis2SynapseController.java:310)&lt;br/&gt;
	at org.apache.synapse.ServerManager.stop(ServerManager.java:274)&lt;br/&gt;
	at org.apache.synapse.ServerManager.shutdown(ServerManager.java:137)&lt;br/&gt;
	at org.apache.synapse.SynapseServer$1.run(SynapseServer.java:88)&lt;br/&gt;
2010-11-20 23:59:19,351 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTPS Listener Shutdown&lt;br/&gt;
2010-11-20 23:59:19,353 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO MailTransportListener MAILTO Listener Shutdown&lt;br/&gt;
2010-11-20 23:59:19,354 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTP Listener Shutdown&lt;br/&gt;
2010-11-20 23:59:19,355 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportListener VFS Listener Shutdown&lt;br/&gt;
2010-11-20 23:59:19,356 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTPS Sender Shutdown&lt;br/&gt;
2010-11-20 23:59:19,357 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTP Sender Shutdown&lt;br/&gt;
2010-11-20 23:59:19,358 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO JMSSender JMS Sender Shutdown&lt;br/&gt;
2010-11-20 23:59:19,358 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportSender VFS Sender Shutdown&lt;/p&gt;
</comment>
                            <comment id="12934166" author="hiranya" created="Sat, 20 Nov 2010 18:57:28 +0000"  >&lt;p&gt;I have found the cause of the issue. It is a change in the ConfigurationContext#getListenerManager() method in Axis2. We can fix it at Synapse level. Will commit the fix soon.&lt;/p&gt;</comment>
                            <comment id="12934168" author="hiranya" created="Sat, 20 Nov 2010 19:02:13 +0000"  >&lt;p&gt;Fixed on 2.0 branch and trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1158f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>