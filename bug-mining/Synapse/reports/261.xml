<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-624] Some characters of Local text entries with lengthy strings are lost after the serialization </title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-624</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;When we use a local text entry with a lengthy string (500+ characters), then some portion of the entry is truncated. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12462681">SYNAPSE-624</key>
            <summary>Some characters of Local text entries with lengthy strings are lost after the serialization </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="kasun.indrasiri">Kasun Indrasiri</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Apr 2010 15:51:51 +0000</created>
                <updated>Mon, 3 May 2010 04:12:48 +0000</updated>
                            <resolved>Mon, 3 May 2010 04:12:48 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12859421" author="kasun.indrasiri" created="Wed, 21 Apr 2010 16:36:36 +0000"  >&lt;p&gt;Attaching the fix.&lt;/p&gt;</comment>
                            <comment id="12862577" author="kasun.indrasiri" created="Fri, 30 Apr 2010 08:00:59 +0000"  >&lt;p&gt;I&apos;ve attached the patch which resolves this issue. Please review and apply.&lt;/p&gt;</comment>
                            <comment id="12862597" author="hiranya" created="Fri, 30 Apr 2010 09:13:57 +0000"  >&lt;p&gt;Andreas,&lt;/p&gt;

&lt;p&gt;Any idea why this is happening? When parsing large texts using AXIOM, it breaks them down to 500 character chunks. Therefore one CDATA element can get translated into multiple CDATA elements. The EntryFactory gets content from only the first CDATA element in such cases. Text in other CDATA elements are lost!&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Hiranya&lt;/p&gt;</comment>
                            <comment id="12862601" author="hiranya" created="Fri, 30 Apr 2010 09:24:43 +0000"  >&lt;p&gt;I just checked in a new test case which can be used to reproduce this scenario. See the LocalEntryConfigurationTest#testLargeTextEntry. I have left this method commented out for the moment since it is failing.&lt;/p&gt;</comment>
                            <comment id="12862608" author="kasun.indrasiri" created="Fri, 30 Apr 2010 09:36:48 +0000"  >&lt;p&gt;Hi Hiranya,&lt;/p&gt;

&lt;p&gt;I think we have used non-coalescing (&quot;javax.xml.stream.isCoalescing&quot;, false) parsing in axiom(to preserve CDATA sections) and manged to reproduce this with only (javax.xml.stream.isCoalescing&quot; = false), otherwise it works fine for text entries with 500+ character lengths.&lt;/p&gt;

&lt;p&gt;thanks,&lt;br/&gt;
Kasun&lt;/p&gt;</comment>
                            <comment id="12862617" author="hiranya" created="Fri, 30 Apr 2010 09:53:40 +0000"  >&lt;p&gt;Hi Kasun,&lt;/p&gt;

&lt;p&gt;OK, so in that case this problem cannot occur in Synapse. I turned off coalescing for my test case because I wanted to test the serialization stuff. Entry serializer adds CDATA elements to the serialized local entry configurations even if the source XML does not have any CDATA. However this points out the possibility of a different bug. What if a local entry contains some CDATA elements in the content? Synapse will simply ignore them because we have coalescing enabled by default.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Hiranya&lt;/p&gt;</comment>
                            <comment id="12863001" author="hiranya" created="Sat, 1 May 2010 09:42:18 +0000"  >&lt;p&gt;Having looked into this issue, I have realized that the existing logic in Synapse is actually correct. The problem reported here occurs only in the non-coalescing mode, which we are not using in Synapse.&lt;/p&gt;</comment>
                            <comment id="12863008" author="veithen" created="Sat, 1 May 2010 11:15:44 +0000"  >&lt;p&gt;Please note that there have been requests to make Synapse preserve CDATA sections (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-280&quot; title=&quot;Synapse doesn&amp;#39;t preserve CDATA sections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-280&quot;&gt;&lt;del&gt;SYNAPSE-280&lt;/del&gt;&lt;/a&gt;). Therefore we should try to make sure that the code actually continues to work in non coalescing mode. Did you replace the usage of OMText#getText by OMElement#getText()?&lt;/p&gt;</comment>
                            <comment id="12863228" author="hiranya" created="Mon, 3 May 2010 04:12:48 +0000"  >&lt;p&gt;Checked in the patch. Thanks Andreas and Kasun for the contributions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442449" name="SYNAPSE-624.patch" size="747" author="kasun.indrasiri" created="Wed, 21 Apr 2010 16:36:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11e1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>