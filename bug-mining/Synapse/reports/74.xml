<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:07:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-251] Synapse fails to handle the fault process properly</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-251</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Following scenarios were tried out&lt;/p&gt;

&lt;p&gt;Scenario 1 - Sending a POX request to the server&lt;br/&gt;
==============================&lt;br/&gt;
1. Create a configuration as below&lt;br/&gt;
   &amp;lt;sequence name=&quot;xslt_transfom_sequence&quot; onError=&quot;fault&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;in&amp;gt;&lt;br/&gt;
            &amp;lt;xslt key=&quot;xslt_for_request&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;send&amp;gt;&lt;br/&gt;
                &amp;lt;endpoint&amp;gt;&lt;br/&gt;
                    &amp;lt;address uri=&quot;http://[host]:[port]/services/invalid_service&quot; format=&quot;pox&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/endpoint&amp;gt;&lt;br/&gt;
            &amp;lt;/send&amp;gt;&lt;br/&gt;
        &amp;lt;/in&amp;gt;&lt;br/&gt;
        &amp;lt;out&amp;gt;&lt;br/&gt;
            &amp;lt;send/&amp;gt;&lt;br/&gt;
        &amp;lt;/out&amp;gt;&lt;br/&gt;
    &amp;lt;/sequence&amp;gt;&lt;/p&gt;

&lt;p&gt;2. Send a SOAP request  from the client and convert it into a POX message before sending to the server.&lt;br/&gt;
3. Since the service URL does not exist it will return a SOAP fault but since a POX message is sent to the server, the fault returned should also be POX. But actually it just sends back an exception and not a POX fault.&lt;/p&gt;


&lt;p&gt;Scenario 2 - Sending a REST request to the server&lt;br/&gt;
==============================&lt;br/&gt;
Similarly when a REST request is sent it just sends an error and not a REST fault&lt;/p&gt;

&lt;p&gt;Therefore seems that Synapse cannot process faults properly&lt;/p&gt;</description>
                <environment>Ubuntu7.04, JDK1.5.0_14</environment>
        <key id="12390725">SYNAPSE-251</key>
            <summary>Synapse fails to handle the fault process properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ruwan">Ruwan Linton</assignee>
                                    <reporter username="evanthika">Evanthika Shiromali Amarasiri</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Mar 2008 06:46:11 +0000</created>
                <updated>Tue, 6 May 2008 08:24:12 +0000</updated>
                            <resolved>Fri, 14 Mar 2008 05:29:52 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12578210" author="ruwan" created="Thu, 13 Mar 2008 09:53:29 +0000"  >&lt;p&gt;This issue seems confusing, Evanthika, I think you got the issue text messed up and the request to Synapse has to be a POX and it is converted to a SOAP request to the server.&lt;/p&gt;

&lt;p&gt;Isn&apos;t it? If not I don&apos;t see an issue here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Ruwan&lt;/p&gt;</comment>
                            <comment id="12578243" author="evanthika" created="Thu, 13 Mar 2008 11:16:16 +0000"  >&lt;p&gt;I&apos;m sorry for making it confusing. The actual issue is that when I send a POX request from the client, Synapse would convert it to a POX message. Then when the fault is sent back to the client it should be sent as a SOAP fault and not as a POX message. This is what I was trying to say. But anyway the fault is sent to the client in the SOAP format but it is not sent as a SOAP fault. Instead, it is being sent as a normal exception message as below. Is this correct? Please clarify.&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&apos;1.0&apos; encoding=&apos;UTF-8&apos;?&amp;gt;&lt;br/&gt;
   &amp;lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;soapenv:Body&amp;gt;&lt;br/&gt;
         &amp;lt;Exception&amp;gt;org.apache.axis2.AxisFault: The service cannot be found for the endpoint reference (..................&amp;lt;/Exception&amp;gt;&lt;br/&gt;
      &amp;lt;/soapenv:Body&amp;gt;&lt;br/&gt;
   &amp;lt;/soapenv:Envelope&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12578618" author="ruwan" created="Fri, 14 Mar 2008 05:28:27 +0000"  >&lt;p&gt;OK, now I got the issue correctly.&lt;/p&gt;

&lt;p&gt;Well, this is an acceptable scenario (basically the issue resides on the non standard POX fault it self). There is no standard on sending a Fault through POX, so there is no way that we can detect whether this is an application message or a fault message unless through the HTTP status code, which will not be there for a JMS message? So I think this we can not handle uniformly.&lt;/p&gt;

&lt;p&gt;Then if you look at the vise versa, that is sending a POX message to synapse and convert that to SOAP to talk to server, this also wrong and can be fixed. So I have fixed that path &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;If you want a pox message to be converted to a SOAPFault then you have to do it through configuration by checking whether a specific error element is present or not. I think this makes sense.&lt;/p&gt;</comment>
                            <comment id="12578619" author="ruwan" created="Fri, 14 Mar 2008 05:29:52 +0000"  >&lt;p&gt;Part of this issue is invalid, but I have figured an relevant issue in processing faults in synapse, and fixed that.&lt;/p&gt;</comment>
                            <comment id="12594515" author="evanthika" created="Tue, 6 May 2008 08:24:12 +0000"  >&lt;p&gt;When a SOAP message is sent and if it is being converted to a POX/REST message at Synapse level and then if a SOAP fault occurs it is converted into a POX fault. Resolved in Version 1.2_QA_B1 . Therefore will be closing the issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11ol3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>