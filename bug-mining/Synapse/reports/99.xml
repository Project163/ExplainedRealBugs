<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:07:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-260] Setting transport.vfs.ContentType to &quot;text/xml&quot; causes BaseTransportException</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-260</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;When the VFS transport (listener) is used with transport.vfs.ContentType set to &quot;text/xml&quot;, the following exception is triggered when a file is received:&lt;/p&gt;

&lt;p&gt;org.apache.synapse.transport.base.BaseTransportException: Charset encoding of transport differs from that of the payload&lt;br/&gt;
	at org.apache.synapse.transport.base.BaseUtils.handleException(BaseUtils.java:331)&lt;br/&gt;
	at org.apache.synapse.transport.base.BaseUtils.setSOAPEnvelope(BaseUtils.java:228)&lt;br/&gt;
	at org.apache.synapse.transport.vfs.VFSTransportListener.processFile(VFSTransportListener.java:412)&lt;br/&gt;
	at org.apache.synapse.transport.vfs.VFSTransportListener.scanFileOrDirectory(VFSTransportListener.java:229)&lt;br/&gt;
	at org.apache.synapse.transport.vfs.VFSTransportListener.onPoll(VFSTransportListener.java:135)&lt;br/&gt;
	at org.apache.synapse.transport.base.AbstractPollingTransportListener$1$1.run(AbstractPollingTransportListener.java:77)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;

&lt;p&gt;Specifying the charset in the content type (e.g. &quot;text/xml; charset=ISO-8859-1&quot;) avoids the problem, but the VFS transport should be able to receive XML without a priori knowledge of the encoding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392210">SYNAPSE-260</key>
            <summary>Setting transport.vfs.ContentType to &quot;text/xml&quot; causes BaseTransportException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="veithen">Andreas Veithen-Knowles</assignee>
                                    <reporter username="veithen">Andreas Veithen-Knowles</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Mar 2008 22:19:45 +0000</created>
                <updated>Fri, 2 May 2008 17:49:31 +0000</updated>
                            <resolved>Fri, 2 May 2008 17:49:31 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>1.2</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593760" author="asankha" created="Fri, 2 May 2008 11:01:39 +0000"  >&lt;p&gt;The Axis2&apos;s BaseUtils class defaults the encoding as UTF-8, if you do not specify the charset with the content type. Since there is a workaround, can I put this for consideration for the next release?&lt;/p&gt;</comment>
                            <comment id="12593828" author="veithen" created="Fri, 2 May 2008 17:49:16 +0000"  >&lt;p&gt;Indeed, BuilderUtil.getCharSetEncoding defaults the encoding to UTF-8 if no charset property is given in the content type. This is not appropriate in this particular context: if no encoding is specified the transport should let the XML parser determine it. I replaced the call to BuilderUtil.getCharSetEncoding so that charSetEnc is set to null in this case. I also corrected the test at the end of the BaseUtils#setSOAPEnvelope so that no exception is triggered.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11lrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>