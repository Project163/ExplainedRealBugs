<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:09:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-1106] OOM with large responses where it involves content-aware mediation in response path</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-1106</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;MessageContext class store messageContext object in a ThreadLocalVariable where it doesn&apos;t clear created ThreadLocal variables properly. Therefore synapse passthrough threads contain created the Theadlocal variable which refers to the created soap envelope during the mediation level. Because of the retained ThreadLocal variables, Passthrough threads consumes a huge amount of memory which leads to OOM.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13236996">SYNAPSE-1106</key>
            <summary>OOM with large responses where it involves content-aware mediation in response path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="isudana">Isuru Udana</assignee>
                                    <reporter username="madhawa">Madhawa Kasun Gunasekara</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 May 2019 23:51:52 +0000</created>
                <updated>Mon, 1 May 2023 04:31:13 +0000</updated>
                            <resolved>Mon, 1 May 2023 04:31:13 +0000</resolved>
                                                    <fixVersion>3.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16853486" author="madhawa" created="Fri, 31 May 2019 23:54:13 +0000"  >&lt;p&gt;Please find the fix in the attached patch&lt;/p&gt;</comment>
                            <comment id="17045128" author="jira-bot" created="Wed, 26 Feb 2020 04:08:04 +0000"  >&lt;p&gt;Commit 1d367bd9eea3abdecc3895a18683b25ef072d2e9 in synapse&apos;s branch refs/heads/master from Madhawa Kasun Gunasekara&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=1d367bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=1d367bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17045129" author="jira-bot" created="Wed, 26 Feb 2020 04:08:05 +0000"  >&lt;p&gt;Commit be959428ff2376474361ad080ddf71459d6332e2 in synapse&apos;s branch refs/heads/master from Isuru Udana Loku Narangoda&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=be95942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=be95942&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #23 from madhawa-gunasekara/&lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17045130" author="jira-bot" created="Wed, 26 Feb 2020 04:08:07 +0000"  >&lt;p&gt;Commit be959428ff2376474361ad080ddf71459d6332e2 in synapse&apos;s branch refs/heads/master from Isuru Udana Loku Narangoda&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=be95942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=be95942&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #23 from madhawa-gunasekara/&lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17045637" author="hudson" created="Wed, 26 Feb 2020 15:45:07 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Synapse - Trunk #5421 (See &lt;a href=&quot;https://builds.apache.org/job/Synapse%20-%20Trunk/5421/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Synapse%20-%20Trunk/5421/&lt;/a&gt;)&lt;br/&gt;
Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1106&quot; title=&quot;OOM with large responses where it involves content-aware mediation in response path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1106&quot;&gt;&lt;del&gt;SYNAPSE-1106&lt;/del&gt;&lt;/a&gt; (madhawa: &lt;a href=&quot;https://github.com/apache/synapse/commit/1d367bd9eea3abdecc3895a18683b25ef072d2e9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/synapse/commit/1d367bd9eea3abdecc3895a18683b25ef072d2e9&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) modules/transports/core/nhttp/src/main/java/org/apache/synapse/transport/passthru/ClientWorker.java&lt;/li&gt;
	&lt;li&gt;(edit) modules/transports/core/nhttp/src/main/java/org/apache/synapse/transport/passthru/ServerWorker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12970541" name="Fix_SYNAPSE-1106.patch" size="11396" author="madhawa" created="Fri, 31 May 2019 23:53:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03bg8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>