<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-587] NHTTP Transport Does Not Handle Responses With No Content-Type Header Properly</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-587</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Currently the NHTTP transport would assume an empty payload for response messages which do not have the HTTP Content-Type header. According to the HTTP/1.1 specification this should be handled as follows.&lt;/p&gt;

&lt;p&gt;&amp;lt;quote&amp;gt;&lt;br/&gt;
Any HTTP/1.1 message containing an entity-body SHOULD include a Content-Type header field defining the media type of that body. If and only if the media type is not given by a Content-Type field, the recipient MAY attempt to guess the media type via inspection of its content and/or the name extension(s) of the URI used to identify the resource. If the media type remains unknown, the recipient SHOULD treat it as type &quot;application/octet-stream&quot;. &lt;br/&gt;
&amp;lt;/quote&amp;gt;&lt;/p&gt;</description>
                <environment>Any</environment>
        <key id="12436984">SYNAPSE-587</key>
            <summary>NHTTP Transport Does Not Handle Responses With No Content-Type Header Properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="hiranya">Hiranya Kasub Jayathilaka</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Oct 2009 07:44:12 +0000</created>
                <updated>Thu, 19 Nov 2009 10:58:39 +0000</updated>
                            <resolved>Thu, 19 Nov 2009 10:58:39 +0000</resolved>
                                    <version>1.2</version>
                    <version>NIGHTLY</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12761122" author="hiranya" created="Thu, 1 Oct 2009 07:47:06 +0000"  >&lt;p&gt;See &lt;a href=&quot;http://markmail.org/message/rdjapk64fi5sbknx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/rdjapk64fi5sbknx&lt;/a&gt; for the related discussion&lt;/p&gt;</comment>
                            <comment id="12761494" author="hiranya" created="Fri, 2 Oct 2009 07:32:20 +0000"  >&lt;p&gt;I have implemented this feature in a very flexible manner as proposed by Ruwan. Now when the content type header is not present on a response we try to determine the content type by inspecting message context properties and Axis2 properties. If that doesn&apos;t work we set the default content type as &quot;application/octet-stream&quot;.&lt;/p&gt;</comment>
                            <comment id="12761500" author="hiranya" created="Fri, 2 Oct 2009 07:58:19 +0000"  >&lt;p&gt;Fixed on the release branch and the trunk&lt;/p&gt;</comment>
                            <comment id="12777384" author="asankha" created="Fri, 13 Nov 2009 05:42:55 +0000"  >&lt;p&gt;Hi Hiranya&lt;/p&gt;

&lt;p&gt;This fix has broken the raw HTTP support Synapse had.. The HTTP spec talks only about &quot;message containing an entity-body...&quot; but there are responses etc that does not contain an entity body, in which case this creates a serious bug as shown in &lt;a href=&quot;http://markmail.org/thread/o33ypagpv7txikrb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/o33ypagpv7txikrb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Could you fix this back to ensure that REST/POX and raw HTTP support will work as before?&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
asankha&lt;/p&gt;</comment>
                            <comment id="12777393" author="hiranya" created="Fri, 13 Nov 2009 06:49:55 +0000"  >&lt;p&gt;Hi Asankha,&lt;/p&gt;

&lt;p&gt;Thanks for pointing this out. I will revise my fix and make the necessary changes.&lt;/p&gt;

&lt;p&gt;However in the above mentioned mail thread the scenario &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; indicates a situation where a message which actually had the Content-Type header was treated as binary. Currently the transport assigns the type &quot;application/octet-stream&quot; for messages that do not have a Content-Type header. So can you think of a reason why that message was treated as binary?&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Hiranya&lt;/p&gt;</comment>
                            <comment id="12779811" author="asankha" created="Thu, 19 Nov 2009 03:11:37 +0000"  >&lt;p&gt;Hi Hiranya&lt;/p&gt;

&lt;p&gt;Not sure I understand the requirement correctly.. if a content type is not specified, is it wrong to assume binary? Does it fail any known use cases?&lt;/p&gt;

&lt;p&gt;I am particularly interested in ensuring that full REST support does go into 1.3 release, as a user is waiting to use this facility.. and hence would be grateful if you could ensure the fixes for it is not broken, and take this case separate if possible&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
asankha&lt;/p&gt;</comment>
                            <comment id="12779868" author="hiranya" created="Thu, 19 Nov 2009 08:20:53 +0000"  >&lt;p&gt;Hi Asankha,&lt;/p&gt;

&lt;p&gt;I have implemented a possible fix in the 1.3 branch for the issues mentioned in the above mail thread. I have tested the new fix with some HTTP 204 responses and it seems to be working. The original problem that I tried to solve is also no longer there. Could you please verify the REST scenarios are working as expected?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Hiranya&lt;/p&gt;</comment>
                            <comment id="12779918" author="asankha" created="Thu, 19 Nov 2009 10:16:00 +0000"  >&lt;p&gt;Hi Hiranya&lt;/p&gt;

&lt;p&gt;This works well with REST again!&lt;/p&gt;

&lt;p&gt;many thanks&lt;br/&gt;
asankha&lt;/p&gt;</comment>
                            <comment id="12779930" author="hiranya" created="Thu, 19 Nov 2009 10:58:39 +0000"  >&lt;p&gt;Resolving the issue as per the last comment by Asankha. If there are any more regressions please feel free to reopen the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11dxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>