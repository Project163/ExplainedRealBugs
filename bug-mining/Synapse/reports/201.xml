<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-481] Outbound proxy server settings do not appear to be working</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-481</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;The outbound proxy server settings, outline in this document - &lt;a href=&quot;http://wso2.org/library/3346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wso2.org/library/3346&lt;/a&gt;, do not appear to be working. For example, I tried this setting in the axis2.xml file:&lt;/p&gt;

&lt;p&gt;&amp;lt;axisconfig name=&quot;AxisJava2.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;     &amp;lt;parameter name=&quot;Proxy&quot;&amp;gt;&lt;br/&gt;
             &amp;lt;Configuration&amp;gt;&lt;br/&gt;
                      &amp;lt;ProxyHost&amp;gt;localhost&amp;lt;/ProxyHost&amp;gt;&lt;br/&gt;
                      &amp;lt;ProxyPort&amp;gt;8888&amp;lt;/ProxyPort&amp;gt;&lt;br/&gt;
              &amp;lt;/Configuration&amp;gt;&lt;br/&gt;
    &amp;lt;/parameter&amp;gt;&lt;br/&gt;
....other stuff&lt;br/&gt;
&amp;lt;/axisconfig&amp;gt; &lt;/p&gt;

&lt;p&gt;My local outbound proxy that I was testing with, TinyProxy (available with most Linux distro&apos;s) doesn&apos;t show any activity (but I&apos;ve confirmed it&apos;s working properly via some other programs) when I attempt to call a remote endpoint service. I also attempted using the Java system properties option, but that similarly didn&apos;t appear to be work.&lt;/p&gt;

&lt;p&gt;Unfortunately, a lot of companies are now restricting all outbound traffic except through a proxy, so this can be a significant problem. &lt;/p&gt;</description>
                <environment>Testing on Ubuntu Linux, Java 1.5 and 6.0</environment>
        <key id="12409234">SYNAPSE-481</key>
            <summary>Outbound proxy server settings do not appear to be working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asankha">Asankha Chamath Perera</assignee>
                                    <reporter username="dajevu">Jeff Davis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Nov 2008 01:56:42 +0000</created>
                <updated>Thu, 12 Mar 2009 17:01:54 +0000</updated>
                            <resolved>Thu, 12 Mar 2009 16:58:52 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12650989" author="veithen" created="Wed, 26 Nov 2008 13:06:17 +0000"  >&lt;p&gt;Can you please attach the complete axis2.xml or tell us which HTTP transport you are using?&lt;/p&gt;</comment>
                            <comment id="12651017" author="dajevu" created="Wed, 26 Nov 2008 14:48:39 +0000"  >&lt;p&gt;The only change made to the axis2.xml file was the inclusion of the XML fragment described in the description, which immediately followed the root axisconfig element. &lt;/p&gt;

&lt;p&gt;I was attempting to use a HTTP (not HTTPs) out transport using the SOAP protocol.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;jeff&lt;/p&gt;</comment>
                            <comment id="12651029" author="veithen" created="Wed, 26 Nov 2008 15:11:09 +0000"  >&lt;p&gt;Jeff, there are two different versions of the HTTP transport: the one that is shipped with Axis2 (and to which the article you mentioned in the description applies) and a Synapse specific non blocking implementation more appropriate for ESBs. If you posted your complete axis2.xml we could tell right away which one you are using without having to figure out which version of axis2.xml you used as a template...&lt;/p&gt;</comment>
                            <comment id="12651031" author="asankha" created="Wed, 26 Nov 2008 15:15:01 +0000"  >&lt;p&gt;This is not yet implemented in the NIO transport, and thus is simply ignored. I will get this implemented soon&lt;/p&gt;</comment>
                            <comment id="12651032" author="dajevu" created="Wed, 26 Nov 2008 15:20:59 +0000"  >&lt;p&gt;Yes, I was using the Synapse NIO that comes out-of-the-box with Synapse 1.2. No other changes to axis2.xml were made beyond what I&apos;ve described.&lt;/p&gt;

</comment>
                            <comment id="12681277" author="asankha" created="Thu, 12 Mar 2009 11:55:31 +0000"  >&lt;p&gt;I propose the model where one could specify the configuration as follows, which is more natural to the TransportSender, as well as to the standard Java system configuration&lt;/p&gt;

&lt;p&gt;    &amp;lt;transportSender name=&quot;http&quot;  class=&quot;org.apache.synapse.transport.nhttp.HttpCoreNIOSender&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;non-blocking&quot; locked=&quot;false&quot;&amp;gt;true&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.proxyHost&quot; locked=&quot;false&quot;&amp;gt;localhost&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.proxyPort&quot; locked=&quot;false&quot;&amp;gt;3128&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.nonProxyHosts&quot; locked=&quot;false&quot;&amp;gt;moon| sun:2200| .mozilla.org&amp;lt;/parameter&amp;gt;&lt;br/&gt;
    &amp;lt;/transportSender&amp;gt;&lt;/p&gt;

&lt;p&gt;Ref: &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/net/proxies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/guide/net/proxies.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12681289" author="olegk" created="Thu, 12 Mar 2009 12:32:14 +0000"  >&lt;p&gt;Asankha,&lt;/p&gt;

&lt;p&gt;While simple (plain) HTTP request proxying should be absolutely trivial ti implement, HTTPS connection tunneling could be a &lt;em&gt;major&lt;/em&gt; undertaking. If you intend to support HTTPS tunneling at some point as well, we should probably consider starting a project to build an async version of HttpClient out of HC, so other people could potentially contribute to that effort. It will not be an easy task.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="12681300" author="asankha" created="Thu, 12 Mar 2009 13:06:58 +0000"  >&lt;p&gt;Hi Oleg&lt;/p&gt;

&lt;p&gt;I am currently only considering simple HTTP proxying, and I hope this is what Kim Horn wanted - Kim?&lt;/p&gt;

&lt;p&gt;I also remember our previous discussion &lt;a href=&quot;http://markmail.org/message/3hfq367f3763pqce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/3hfq367f3763pqce&lt;/a&gt; and would first like understand the scope and details of HTTPS connection tunneling as I am not familiar with it yet. I have also come across questions on supporting SPNego etc, and non-preemptive authentication with Synapse. I guess that also would fall into the scope of a new sub project similar to HttpClient again.. &lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
asankha&lt;/p&gt;</comment>
                            <comment id="12681318" author="olegk" created="Thu, 12 Mar 2009 13:48:31 +0000"  >&lt;p&gt;Asankha, &lt;/p&gt;

&lt;p&gt;Basically there are two potentially difficult aspects:&lt;br/&gt;
(1) ability to upgrade a plain connection to a SSL/TLS secured one. Can be done using core components only, but some custom code will still be required &lt;br/&gt;
(2) ability to authenticate with the proxy. This automatically entails bringing it almost half of HttpClient functionality.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="12681391" author="asankha" created="Thu, 12 Mar 2009 16:58:52 +0000"  >&lt;p&gt;Fixed for plain HTTP proxying and tested with Squid&lt;/p&gt;

&lt;p&gt;Configuration is enabled as :&lt;/p&gt;

&lt;p&gt;    &amp;lt;transportSender name=&quot;http&quot;  class=&quot;org.apache.synapse.transport.nhttp.HttpCoreNIOSender&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;non-blocking&quot; locked=&quot;false&quot;&amp;gt;true&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.proxyHost&quot; locked=&quot;false&quot;&amp;gt;localhost&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.proxyPort&quot; locked=&quot;false&quot;&amp;gt;3128&amp;lt;/parameter&amp;gt;&lt;br/&gt;
        &amp;lt;parameter name=&quot;http.nonProxyHosts&quot; locked=&quot;false&quot;&amp;gt;localhost|moon|sun&amp;lt;/parameter&amp;gt;&lt;br/&gt;
    &amp;lt;/transportSender&amp;gt;&lt;/p&gt;

&lt;p&gt;or via the same System properties with the above names as per standard Java norms (&lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/guide/net/proxies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/j2se/1.5.0/docs/guide/net/proxies.html&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12681394" author="asankha" created="Thu, 12 Mar 2009 17:01:54 +0000"  >&lt;p&gt;FYI - I have seen that Squid does not like Chunked encoding, thus you may have to force the use of HTTP 1.0 as follows:&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;FORCE_HTTP_1.0&quot; value=&quot;true&quot; scope=&quot;axis2&quot;/&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i119if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>