<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-536] Error while stoping the Synapse server</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-536</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Originally reported by Ruwan and confirmed by Hiranya:&lt;/p&gt;

&lt;p&gt;On the latest build I am seeing an error while trying to stop Synapse, by killing the process (CTRL+C) on Unix.&lt;/p&gt;

&lt;p&gt;Is this local to me? I do have some local changes but they have nothing to do with this I guess. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;2009-04-25 09:49:40,580 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO SynapseServer Shutting down Apache Synapse...&lt;br/&gt;
2009-04-25 09:49:40,582 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTPS Listener Shutdown&lt;br/&gt;
2009-04-25 09:49:40,583 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportListener VFS Listener Shutdown&lt;br/&gt;
2009-04-25 09:49:40,583 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOListener&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOListener HTTP Listener Shutdown&lt;br/&gt;
2009-04-25 09:49:40,584 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO MailTransportListener MAILTO Listener Shutdown&lt;br/&gt;
2009-04-25 09:49:40,585 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTPS Sender Shutdown&lt;br/&gt;
2009-04-25 09:49:40,586 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpCoreNIOSender&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSender HTTP Sender Shutdown&lt;br/&gt;
2009-04-25 09:49:40,586 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO VFSTransportSender VFS Sender Shutdown&lt;br/&gt;
2009-04-25 09:49:40,587 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO JMSSender JMS Sender Shutdown&lt;br/&gt;
2009-04-25 09:49:40,588 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO RMIRegistryController Removing the RMI registry bound to port : 1099&lt;br/&gt;
2009-04-25 09:49:40,604 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO JmxAdapter JMXConnectorServer stopping on service:jmx:rmi:///jndi/rmi://ruwan:1099/synapse&lt;br/&gt;
2009-04-25 09:49:40,761 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt; ERROR JmxAdapter Error while stopping remote JMX connector&lt;br/&gt;
java.io.IOException: Cannot bind to URL:&lt;br/&gt;
javax.naming.CommunicationException [Root exception is&lt;br/&gt;
java.rmi.NoSuchObjectException: no such object in table]&lt;br/&gt;
        at javax.management.remote.rmi.RMIConnectorServer.newIOException(RMIConnectorServer.java:814)&lt;br/&gt;
        at javax.management.remote.rmi.RMIConnectorServer.stop(RMIConnectorServer.java:572)&lt;br/&gt;
        at org.apache.synapse.JmxAdapter.stop(JmxAdapter.java:140)&lt;br/&gt;
        at org.apache.synapse.Axis2SynapseController.stopJmxAdapter(Axis2SynapseController.java:583)&lt;br/&gt;
        at org.apache.synapse.Axis2SynapseController.destroy(Axis2SynapseController.java:143)&lt;br/&gt;
        at org.apache.synapse.ServerManager.doDestroy(ServerManager.java:252)&lt;br/&gt;
        at org.apache.synapse.ServerManager.destroy(ServerManager.java:117)&lt;br/&gt;
        at org.apache.synapse.SynapseServer$1.run(SynapseServer.java:88)&lt;br/&gt;
Caused by: javax.naming.CommunicationException [Root exception is&lt;br/&gt;
java.rmi.NoSuchObjectException: no such object in table]&lt;br/&gt;
        at com.sun.jndi.rmi.registry.RegistryContext.unbind(RegistryContext.java:156)&lt;br/&gt;
        at com.sun.jndi.toolkit.url.GenericURLContext.unbind(GenericURLContext.java:254)&lt;br/&gt;
        at javax.naming.InitialContext.unbind(InitialContext.java:375)&lt;br/&gt;
        at javax.management.remote.rmi.RMIConnectorServer.stop(RMIConnectorServer.java:565)&lt;br/&gt;
        ... 6 more&lt;br/&gt;
Caused by: java.rmi.NoSuchObjectException: no such object in table&lt;br/&gt;
        at sun.rmi.transport.StreamRemoteCall.exceptionReceivedFromServer(StreamRemoteCall.java:247)&lt;br/&gt;
        at sun.rmi.transport.StreamRemoteCall.executeCall(StreamRemoteCall.java:223)&lt;br/&gt;
        at sun.rmi.server.UnicastRef.invoke(UnicastRef.java:343)&lt;br/&gt;
        at sun.rmi.registry.RegistryImpl_Stub.unbind(Unknown Source)&lt;br/&gt;
        at com.sun.jndi.rmi.registry.RegistryContext.unbind(RegistryContext.java:152)&lt;br/&gt;
        ... 9 more&lt;br/&gt;
2009-04-25 09:49:40,772 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO SynapseServer Apache Synapse shutdown complete&lt;br/&gt;
2009-04-25 09:49:40,773 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-9&amp;#93;&lt;/span&gt;  INFO SynapseServer Halting JVM&lt;/p&gt;

&lt;p&gt;Unfortunately I&apos;m not able to reproduce this issue in my environment although from looking at the code the obvious reason seems to be the RMI registry is shutdown before the JmxAdapter is stopped.&lt;/p&gt;

&lt;p&gt;Attached you&apos;ll find a patch which moves the RMI registry stop to a later position after stopping the JmxAdapter. This should fix the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423788">SYNAPSE-536</key>
            <summary>Error while stoping the Synapse server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ruwan">Ruwan Linton</assignee>
                                    <reporter username="ehubert">Eric Hubert</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Apr 2009 22:50:22 +0000</created>
                <updated>Fri, 1 May 2009 16:57:34 +0000</updated>
                            <resolved>Fri, 1 May 2009 16:57:34 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12702912" author="ruwan" created="Sun, 26 Apr 2009 17:57:19 +0000"  >&lt;p&gt;applied the patch after a review...&lt;/p&gt;</comment>
                            <comment id="12702913" author="ruwan" created="Sun, 26 Apr 2009 17:59:35 +0000"  >&lt;p&gt;Fixed on the trunk, thanks Eric for the patch&lt;/p&gt;</comment>
                            <comment id="12705052" author="ruwan" created="Fri, 1 May 2009 16:57:18 +0000"  >&lt;p&gt;This has been fixed with the patch on the &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-537&quot; title=&quot;Possibility to put server in maintenance mode and reload synapse configuration via JMX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-537&quot;&gt;&lt;del&gt;SYNAPSE-537&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406454" name="Shutdown.patch" size="3121" author="ehubert" created="Sat, 25 Apr 2009 22:54:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11fl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>