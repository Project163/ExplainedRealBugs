<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-629] java.lang.NoSuchMethodError occurred when running Script Mediator samples with Ruby Scripts</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-629</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;java.lang.NoSuchMethodError is occurred when running advanced mediation samples 353 and 354. &lt;/p&gt;

&lt;p&gt;In sample 353, the Error is thrown when the service client is executed. It yields, following error:&lt;/p&gt;

&lt;p&gt;2010-04-27 17:08:59,225 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO ServerManager Server ready for processing...&lt;br/&gt;
2010-04-27 17:08:59,225 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO SynapseServer Apache Synapse started successfully&lt;br/&gt;
2010-04-27 17:09:04,107 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpServerWorker-1&amp;#93;&lt;/span&gt; ERROR NativeWorkerPool Uncaught exception&lt;br/&gt;
java.lang.NoSuchMethodError: org.jruby.Ruby.parse(Ljava/lang/String;Ljava/lang/String;Lorg/jruby/runtime/DynamicScope;I)Lorg/jruby/ast/Node;&lt;br/&gt;
	at com.sun.script.jruby.JRubyScriptEngine.compileScript(JRubyScriptEngine.java:197)&lt;br/&gt;
	at com.sun.script.jruby.JRubyScriptEngine.eval(JRubyScriptEngine.java:137)&lt;br/&gt;
	at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:247)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.prepareExternalScript(ScriptMediator.java:309)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.mediateWithExternalScript(ScriptMediator.java:231)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.invokeScript(ScriptMediator.java:198)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.mediate(ScriptMediator.java:173)&lt;br/&gt;
	at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:60)&lt;br/&gt;
	at org.apache.synapse.mediators.filters.InMediator.mediate(InMediator.java:55)&lt;br/&gt;
	at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:60)&lt;br/&gt;
	at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:113)&lt;br/&gt;
	at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:130)&lt;br/&gt;
	at org.apache.synapse.core.axis2.SynapseMessageReceiver.receive(SynapseMessageReceiver.java:86)&lt;br/&gt;
	at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:178)&lt;br/&gt;
	at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:173)&lt;br/&gt;
	at org.apache.synapse.transport.nhttp.ServerWorker.processEntityEnclosingMethod(ServerWorker.java:408)&lt;br/&gt;
	at org.apache.synapse.transport.nhttp.ServerWorker.run(ServerWorker.java:259)&lt;br/&gt;
	at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:58)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;


&lt;p&gt;In sample 354, the Error is thrown at the server startup. It yields, following error: &lt;/p&gt;

&lt;p&gt;2010-04-27 16:50:00,202 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  WARN JmxAdapter Using unsecured JMX remote access!&lt;br/&gt;
2010-04-27 16:50:00,339 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSSLListener Loading Identity Keystore from : lib/identity.jks&lt;br/&gt;
2010-04-27 16:50:00,340 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO HttpCoreNIOSSLListener Loading Trust Keystore from : lib/trust.jks&lt;br/&gt;
2010-04-27 16:50:00,358 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO Axis2SynapseController Loading mediator extensions...&lt;br/&gt;
2010-04-27 16:50:00,426 &lt;span class=&quot;error&quot;&gt;&amp;#91;-&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt;  INFO XMLConfigurationBuilder Generating the Synapse configuration model by parsing the XML configuration&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.jruby.Ruby.parse(Ljava/lang/String;Ljava/lang/String;Lorg/jruby/runtime/DynamicScope;I)Lorg/jruby/ast/Node;&lt;br/&gt;
	at com.sun.script.jruby.JRubyScriptEngine.compileScript(JRubyScriptEngine.java:197)&lt;br/&gt;
	at com.sun.script.jruby.JRubyScriptEngine.compile(JRubyScriptEngine.java:82)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.initInlineScript(ScriptMediator.java:273)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediator.&amp;lt;init&amp;gt;(ScriptMediator.java:120)&lt;br/&gt;
	at org.apache.synapse.mediators.bsf.ScriptMediatorFactory.createMediator(ScriptMediatorFactory.java:93)&lt;br/&gt;
	at org.apache.synapse.config.xml.MediatorFactoryFinder.getMediator(MediatorFactoryFinder.java:180)&lt;br/&gt;
	at org.apache.synapse.config.xml.AbstractListMediatorFactory.addChildren(AbstractListMediatorFactory.java:39)&lt;br/&gt;
	at org.apache.synapse.config.xml.InMediatorFactory.createMediator(InMediatorFactory.java:47)&lt;br/&gt;
	at org.apache.synapse.config.xml.MediatorFactoryFinder.getMediator(MediatorFactoryFinder.java:180)&lt;br/&gt;
	at org.apache.synapse.config.xml.SynapseXMLConfigurationFactory.getConfiguration(SynapseXMLConfigurationFactory.java:97)&lt;br/&gt;
	at org.apache.synapse.config.xml.ConfigurationFactoryAndSerializerFinder.getConfiguration(ConfigurationFactoryAndSerializerFinder.java:160)&lt;br/&gt;
	at org.apache.synapse.config.xml.XMLConfigurationBuilder.getConfiguration(XMLConfigurationBuilder.java:46)&lt;br/&gt;
	at org.apache.synapse.config.SynapseConfigurationBuilder.getConfiguration(SynapseConfigurationBuilder.java:87)&lt;br/&gt;
	at org.apache.synapse.Axis2SynapseController.createSynapseConfiguration(Axis2SynapseController.java:381)&lt;br/&gt;
	at org.apache.synapse.ServerManager.start(ServerManager.java:185)&lt;br/&gt;
	at org.apache.synapse.SynapseServer.main(SynapseServer.java:65)&lt;/p&gt;

&lt;p&gt;Thanks, &lt;br/&gt;
Heshan&lt;/p&gt;</description>
                <environment>JDK 1.5, &lt;br/&gt;
Ubuntu 9.10</environment>
        <key id="12463099">SYNAPSE-629</key>
            <summary>java.lang.NoSuchMethodError occurred when running Script Mediator samples with Ruby Scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="heshan">Heshan Theekshana Suriyaarachchi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Apr 2010 11:40:55 +0000</created>
                <updated>Tue, 27 Dec 2016 16:46:34 +0000</updated>
                            <resolved>Thu, 29 Apr 2010 04:34:33 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12861677" author="hiranya" created="Wed, 28 Apr 2010 05:32:14 +0000"  >&lt;p&gt;As a part of the solution to this problem I have done the following changes on the trunk:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Upgraded BSF from 3.0-beta2 to 3.0 GA&lt;/li&gt;
	&lt;li&gt;Upgraded JRuby 0.9.9 to 1.3&lt;/li&gt;
	&lt;li&gt;Updated the sample configurations and sample Ruby scripts accordingly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now the JRuby samples seem to be working fine.&lt;/p&gt;</comment>
                            <comment id="12861716" author="heshan" created="Wed, 28 Apr 2010 08:01:35 +0000"  >&lt;p&gt;Hi Hiranya, &lt;br/&gt;
                I am attaching a test case to cover the above scenario. I took a svn up on the changes you made. Now there are compilation failures in test classes, when building modules/extensions with tests on. It may be due to the changes you have done. &lt;/p&gt;

&lt;p&gt;Thanks, &lt;br/&gt;
Heshan. &lt;/p&gt;</comment>
                            <comment id="12861780" author="hiranya" created="Wed, 28 Apr 2010 11:47:47 +0000"  >&lt;p&gt;No compilation issues in the tests. Things seem to be just fine. I even dropped a note to the dev@ indicating that all the existing tests are passing in the extensions module. Besides all I did was upgrading some dependencies. And these are not compile time dependencies either.&lt;/p&gt;

&lt;p&gt;Anyway thanks for the new test case.&lt;/p&gt;</comment>
                            <comment id="12862089" author="hiranya" created="Thu, 29 Apr 2010 04:34:33 +0000"  >&lt;p&gt;Sample 353 and 354 are now functional again. I also checked in the test case provided by Heshan with minor changes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12443051" name="SYNAPSE-629-patch.txt" size="1426" author="heshan" created="Wed, 28 Apr 2010 08:01:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11ehj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>