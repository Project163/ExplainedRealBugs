<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:07:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-275] Aggregate mediator: Exception thrown when aggregating messages with specifying a complete condition </title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-275</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Following exception can be seen in the synapse console when aggregating messages if &amp;lt;completeCondition&amp;gt;&amp;lt;messageCount max=&quot;&quot;&amp;gt; element is specified in the configuration.&lt;/p&gt;

&lt;p&gt;2008-04-23 12:52:09,467 &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1-testb&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpClientWorker-8&amp;#93;&lt;/span&gt; ERROR ServerHandler Unexpected HTTP protocol error : Transfer-encoding header already present&lt;br/&gt;
org.apache.http.ProtocolException: Transfer-encoding header already present&lt;br/&gt;
        at org.apache.http.protocol.ResponseContent.process(ResponseContent.java:67)&lt;br/&gt;
        at org.apache.http.protocol.BasicHttpProcessor.process(BasicHttpProcessor.java:304)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.ServerHandler.commitResponse(ServerHandler.java:232)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:411)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.invoke(HttpCoreNIOSender.java:264)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:448)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.sendBack(Axis2Sender.java:138)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.send(Axis2SynapseEnvironment.java:221)&lt;br/&gt;
        at org.apache.synapse.mediators.builtin.SendMediator.mediate(SendMediator.java:158)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.completeAggregate(AggregateMediator.java:273)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.mediate(AggregateMediator.java:217)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:164)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:299)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:130)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:176)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.ClientWorker.run(ClientWorker.java:206)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
2008-04-23 12:52:09,496 &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1-testb&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpClientWorker-8&amp;#93;&lt;/span&gt; ERROR HttpCoreNIOSender IO Error sending response message&lt;br/&gt;
org.apache.axis2.AxisFault&lt;br/&gt;
        at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:72)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:421)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.invoke(HttpCoreNIOSender.java:264)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:448)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.sendBack(Axis2Sender.java:138)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.send(Axis2SynapseEnvironment.java:221)&lt;br/&gt;
        at org.apache.synapse.mediators.builtin.SendMediator.mediate(SendMediator.java:158)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.completeAggregate(AggregateMediator.java:273)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.mediate(AggregateMediator.java:217)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:164)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:299)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:130)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:176)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.ClientWorker.run(ClientWorker.java:206)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: com.ctc.wstx.exc.WstxIOException: null&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:313)&lt;br/&gt;
        at org.apache.axiom.om.impl.MTOMXMLStreamWriter.flush(MTOMXMLStreamWriter.java:146)&lt;br/&gt;
        at org.apache.axiom.om.impl.llom.OMNodeImpl.serialize(OMNodeImpl.java:451)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:66)&lt;br/&gt;
        ... 20 more&lt;br/&gt;
Caused by: java.nio.channels.ClosedChannelException&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.ensureOpen(SinkChannelImpl.java:136)&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.write(SinkChannelImpl.java:140)&lt;br/&gt;
        at java.nio.channels.Channels.write(Channels.java:60)&lt;br/&gt;
        at java.nio.channels.Channels.access$000(Channels.java:47)&lt;br/&gt;
        at java.nio.channels.Channels$1.write(Channels.java:134)&lt;br/&gt;
        at com.ctc.wstx.io.UTF8Writer.flush(UTF8Writer.java:96)&lt;br/&gt;
        at com.ctc.wstx.sw.BufferingXmlWriter.flush(BufferingXmlWriter.java:214)&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:311)&lt;br/&gt;
        ... 23 more&lt;br/&gt;
2008-04-23 12:52:09,498 &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1-testb&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpClientWorker-8&amp;#93;&lt;/span&gt; ERROR Axis2Sender Unexpected error sending message back&lt;br/&gt;
org.apache.axis2.AxisFault: IO Error sending response message&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.handleException(HttpCoreNIOSender.java:545)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:425)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.invoke(HttpCoreNIOSender.java:264)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:448)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.sendBack(Axis2Sender.java:138)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.send(Axis2SynapseEnvironment.java:221)&lt;br/&gt;
        at org.apache.synapse.mediators.builtin.SendMediator.mediate(SendMediator.java:158)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.completeAggregate(AggregateMediator.java:273)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.mediate(AggregateMediator.java:217)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:164)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:299)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:130)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:176)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.ClientWorker.run(ClientWorker.java:206)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: org.apache.axis2.AxisFault&lt;br/&gt;
        at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:72)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:421)&lt;br/&gt;
        ... 19 more&lt;br/&gt;
Caused by: com.ctc.wstx.exc.WstxIOException: null&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:313)&lt;br/&gt;
        at org.apache.axiom.om.impl.MTOMXMLStreamWriter.flush(MTOMXMLStreamWriter.java:146)&lt;br/&gt;
        at org.apache.axiom.om.impl.llom.OMNodeImpl.serialize(OMNodeImpl.java:451)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:66)&lt;br/&gt;
        ... 20 more&lt;br/&gt;
Caused by: java.nio.channels.ClosedChannelException&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.ensureOpen(SinkChannelImpl.java:136)&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.write(SinkChannelImpl.java:140)&lt;br/&gt;
        at java.nio.channels.Channels.write(Channels.java:60)&lt;br/&gt;
        at java.nio.channels.Channels.access$000(Channels.java:47)&lt;br/&gt;
        at java.nio.channels.Channels$1.write(Channels.java:134)&lt;br/&gt;
        at com.ctc.wstx.io.UTF8Writer.flush(UTF8Writer.java:96)&lt;br/&gt;
        at com.ctc.wstx.sw.BufferingXmlWriter.flush(BufferingXmlWriter.java:214)&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:311)&lt;br/&gt;
        ... 23 more&lt;br/&gt;
2008-04-23 12:52:09,516 &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1-testb&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpClientWorker-8&amp;#93;&lt;/span&gt;  WARN FaultHandler Fault handler - setting ERROR_MESSAGE : Unexpected error sending message back&lt;br/&gt;
2008-04-23 12:52:09,516 &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1-testb&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;HttpClientWorker-8&amp;#93;&lt;/span&gt;  WARN FaultHandler Fault handler - setting ERROR_DETAIL : org.apache.synapse.SynapseException: Unexpected error sending message back&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.handleException(Axis2Sender.java:147)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.sendBack(Axis2Sender.java:141)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.send(Axis2SynapseEnvironment.java:221)&lt;br/&gt;
        at org.apache.synapse.mediators.builtin.SendMediator.mediate(SendMediator.java:158)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.completeAggregate(AggregateMediator.java:273)&lt;br/&gt;
        at org.apache.synapse.mediators.eip.aggregator.AggregateMediator.mediate(AggregateMediator.java:217)&lt;br/&gt;
        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:58)&lt;br/&gt;
        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:125)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2SynapseEnvironment.injectMessage(Axis2SynapseEnvironment.java:164)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:299)&lt;br/&gt;
        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:130)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:176)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.ClientWorker.run(ClientWorker.java:206)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: org.apache.axis2.AxisFault: IO Error sending response message&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.handleException(HttpCoreNIOSender.java:545)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:425)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.invoke(HttpCoreNIOSender.java:264)&lt;br/&gt;
        at org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:448)&lt;br/&gt;
        at org.apache.synapse.core.axis2.Axis2Sender.sendBack(Axis2Sender.java:138)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: org.apache.axis2.AxisFault&lt;br/&gt;
        at org.apache.axis2.AxisFault.makeFault(AxisFault.java:430)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:72)&lt;br/&gt;
        at org.apache.synapse.transport.nhttp.HttpCoreNIOSender.sendAsyncResponse(HttpCoreNIOSender.java:421)&lt;br/&gt;
        ... 19 more&lt;br/&gt;
Caused by: com.ctc.wstx.exc.WstxIOException: null&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:313)&lt;br/&gt;
        at org.apache.axiom.om.impl.MTOMXMLStreamWriter.flush(MTOMXMLStreamWriter.java:146)&lt;br/&gt;
        at org.apache.axiom.om.impl.llom.OMNodeImpl.serialize(OMNodeImpl.java:451)&lt;br/&gt;
        at org.apache.axis2.transport.http.SOAPMessageFormatter.writeTo(SOAPMessageFormatter.java:66)&lt;br/&gt;
        ... 20 more&lt;br/&gt;
Caused by: java.nio.channels.ClosedChannelException&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.ensureOpen(SinkChannelImpl.java:136)&lt;br/&gt;
        at sun.nio.ch.SinkChannelImpl.write(SinkChannelImpl.java:140)&lt;br/&gt;
        at java.nio.channels.Channels.write(Channels.java:60)&lt;br/&gt;
        at java.nio.channels.Channels.access$000(Channels.java:47)&lt;br/&gt;
        at java.nio.channels.Channels$1.write(Channels.java:134)&lt;br/&gt;
        at com.ctc.wstx.io.UTF8Writer.flush(UTF8Writer.java:96)&lt;br/&gt;
        at com.ctc.wstx.sw.BufferingXmlWriter.flush(BufferingXmlWriter.java:214)&lt;br/&gt;
        at com.ctc.wstx.sw.BaseStreamWriter.flush(BaseStreamWriter.java:311)&lt;br/&gt;
        ... 23 more&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;br/&gt;
=================&lt;br/&gt;
1. Edit the sample 400 configuration as given below by adding a completeCondition element.&lt;/p&gt;

&lt;p&gt;&amp;lt;definitions xmlns=&quot;http://ws.apache.org/ns/synapse&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;proxy name=&quot;SplitAggregateProxy&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;target&amp;gt;&lt;br/&gt;
            &amp;lt;inSequence&amp;gt;&lt;br/&gt;
                &amp;lt;iterate expression=&quot;//m0:getQuote/m0:request&quot; preservePayload=&quot;true&quot;&lt;br/&gt;
                         attachPath=&quot;//m0:getQuote&quot;&lt;br/&gt;
                         xmlns:m0=&quot;http://services.samples/xsd&quot;&amp;gt;&lt;br/&gt;
                    &amp;lt;target&amp;gt;&lt;br/&gt;
                        &amp;lt;sequence&amp;gt;&lt;br/&gt;
                            &amp;lt;send&amp;gt;&lt;br/&gt;
                                &amp;lt;endpoint&amp;gt;&lt;br/&gt;
                                    &amp;lt;address&lt;br/&gt;
                                        uri=&quot;http://localhost:9000/soap/SimpleStockQuoteService&quot;/&amp;gt;&lt;br/&gt;
                                &amp;lt;/endpoint&amp;gt;&lt;br/&gt;
                            &amp;lt;/send&amp;gt;&lt;br/&gt;
                        &amp;lt;/sequence&amp;gt;&lt;br/&gt;
                    &amp;lt;/target&amp;gt;&lt;br/&gt;
                &amp;lt;/iterate&amp;gt;&lt;br/&gt;
            &amp;lt;/inSequence&amp;gt;&lt;br/&gt;
            &amp;lt;outSequence&amp;gt;&lt;br/&gt;
                &amp;lt;aggregate&amp;gt;&lt;br/&gt;
           &amp;lt;completeCondition&amp;gt;&lt;br/&gt;
          &amp;lt;messageCount  max=&quot;3&quot;/&amp;gt;&lt;br/&gt;
           &amp;lt;/completeCondition&amp;gt;?&lt;br/&gt;
                    &amp;lt;onComplete expression=&quot;//m0:getQuoteResponse&quot;&lt;br/&gt;
                                xmlns:m0=&quot;http://services.samples/xsd&quot;&amp;gt;&lt;br/&gt;
                        &amp;lt;send/&amp;gt;&lt;br/&gt;
                    &amp;lt;/onComplete&amp;gt;&lt;br/&gt;
                    &amp;lt;invalidate&amp;gt;&lt;br/&gt;
                        &amp;lt;log level=&quot;full&quot;/&amp;gt;&lt;br/&gt;
                        &amp;lt;drop/&amp;gt;&lt;br/&gt;
                    &amp;lt;/invalidate&amp;gt;&lt;br/&gt;
                &amp;lt;/aggregate&amp;gt;&lt;br/&gt;
            &amp;lt;/outSequence&amp;gt;&lt;br/&gt;
        &amp;lt;/target&amp;gt;&lt;br/&gt;
    &amp;lt;/proxy&amp;gt;&lt;br/&gt;
&amp;lt;/definitions&amp;gt;&lt;/p&gt;

&lt;p&gt;2. save the configuration and start synapse (synapse -sample 400)&lt;br/&gt;
3. Start axis2Server&lt;br/&gt;
4. Invoke StockQuoteClient as follows.&lt;br/&gt;
ant stockquote -Daddurl=&lt;a href=&quot;http://localhost:8080/soap/SplitAggregateProxy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/soap/SplitAggregateProxy&lt;/a&gt; -Ditr=4&lt;br/&gt;
5. Run the client again (You will not get the above exception in the first time)&lt;/p&gt;

</description>
                <environment>ubuntu, jdk15</environment>
        <key id="12394592">SYNAPSE-275</key>
            <summary>Aggregate mediator: Exception thrown when aggregating messages with specifying a complete condition </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ruwan">Ruwan Linton</assignee>
                                    <reporter username="charitha">Charitha Kankanambe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Apr 2008 06:27:31 +0000</created>
                <updated>Fri, 16 May 2008 09:11:16 +0000</updated>
                            <resolved>Fri, 16 May 2008 09:11:16 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>1.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12591606" author="ruwan" created="Wed, 23 Apr 2008 10:45:03 +0000"  >&lt;p&gt;Fixed on the SVN trunk, check for the verification&lt;/p&gt;</comment>
                            <comment id="12596279" author="evanthika" created="Tue, 13 May 2008 05:08:54 +0000"  >&lt;p&gt;This issue is still not fixed. Sometimes it executes successfully but sometimes you will get this exception. Tested on 1.2_SNAPSHOT. Please re-open the issue. &lt;/p&gt;</comment>
                            <comment id="12596289" author="charitha" created="Tue, 13 May 2008 05:59:30 +0000"  >&lt;p&gt;Reopened the bug as per Evanthika&apos;s comment&lt;/p&gt;</comment>
                            <comment id="12597395" author="ruwan" created="Fri, 16 May 2008 09:07:56 +0000"  >&lt;p&gt;This is blocking the use of the iterate mediator&lt;/p&gt;</comment>
                            <comment id="12597396" author="ruwan" created="Fri, 16 May 2008 09:10:51 +0000"  >&lt;p&gt;Another fix to the aggregate mediator has broken this fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; now I tested both after fixing this and seems to work without an issue&lt;/p&gt;</comment>
                            <comment id="12597397" author="ruwan" created="Fri, 16 May 2008 09:11:16 +0000"  >&lt;p&gt;Fixed on the 1.2 SVN branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1151r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>