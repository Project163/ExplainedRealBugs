<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:07:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-216] TextFileDataSource incorrectly parses data as XML</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-216</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;Usage of TextFileDataSource causes the data to be parsed as XML. Therefore, characters having a special meaning, such as ampersands, will trigger parsing errors. This has significant impact on XSLTMediator when the output of the transformation is text data:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When the volume of data is below the BYTE_ARRAY_SIZE threshold, the output is used to construct an OMText object directly and is not parsed as XML.&lt;/li&gt;
	&lt;li&gt;When the volume is above the threshold, TextFileDataSource is used and the output is parsed as XML.&lt;br/&gt;
Therefore transformations that work for small messages may suddenly fail for larger messages.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12385253">SYNAPSE-216</key>
            <summary>TextFileDataSource incorrectly parses data as XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asankha">Asankha Chamath Perera</assignee>
                                    <reporter username="veithen">Andreas Veithen-Knowles</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Dec 2007 17:42:13 +0000</created>
                <updated>Thu, 3 Jan 2008 17:21:57 +0000</updated>
                            <resolved>Thu, 3 Jan 2008 17:21:57 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>1.1.1-QA-B2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12554595" author="veithen" created="Thu, 27 Dec 2007 17:43:21 +0000"  >&lt;p&gt;Attached a test case that provides evidence for this issue.&lt;/p&gt;</comment>
                            <comment id="12554843" author="veithen" created="Fri, 28 Dec 2007 21:08:40 +0000"  >&lt;p&gt;TextFileDataSource constructs an InputStream that represents the concatenation &amp;lt;text&amp;gt; + text + &amp;lt;/text&amp;gt;. It then uses this input stream to build an XMLStreamReader. The problem comes from the fact that &quot;text&quot; is plain text, not XML text. The attached patch solves this by replacing the custom InputStream implementation by a custom XMLStreamReader implementation that directly produces the expected sequence of XML events:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;START_DOCUMENT&lt;/li&gt;
	&lt;li&gt;START_ELEMENT&lt;/li&gt;
	&lt;li&gt;(CHARACTERS)*n&lt;/li&gt;
	&lt;li&gt;END_ELEMENT&lt;/li&gt;
	&lt;li&gt;END_DOCUMENT&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See also here: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/ws-synapse-user/200712.mbox/%3c8303AD28-DFA6-48A7-ADAE-BA522DD2E535@skynet.be%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/ws-synapse-user/200712.mbox/%3c8303AD28-DFA6-48A7-ADAE-BA522DD2E535@skynet.be%3e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The patch also contains the relevant unit tests.&lt;/p&gt;</comment>
                            <comment id="12555612" author="asankha" created="Thu, 3 Jan 2008 17:21:57 +0000"  >&lt;p&gt;applied patch and added test cases&lt;br/&gt;
thanks Andreas!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12372265" name="TextFileDataSourceTest.java" size="975" author="veithen" created="Thu, 27 Dec 2007 17:43:21 +0000"/>
                            <attachment id="12372304" name="synapse-216-patch.txt" size="26553" author="veithen" created="Fri, 28 Dec 2007 21:08:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>96896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11gzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>