<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:09:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-1061]  WeightedRRLCAlgorithm Unwanted condition</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-1061</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt; was going through with WeightedRRLCAlgorithm and noticed that useless condition used in reCalcuateWeight(). Why do we need that condition over there and it is already known that totalConnections is not a zero.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void reCalcuateWeight() {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (totalConnections &amp;gt; 0) {
                &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; weightRatio = (&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;) fixedWeight / totalWeight;
                &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; connectionRatio;
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (totalConnections != 0) { &lt;span class=&quot;code-comment&quot;&gt;//useless condition...??
&lt;/span&gt;                    connectionRatio = (&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;) currentConnectionCount / totalConnections;
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    connectionRatio = 0;
                }

                &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; diff = weightRatio - connectionRatio;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13022326">SYNAPSE-1061</key>
            <summary> WeightedRRLCAlgorithm Unwanted condition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="isudana">Isuru Udana</assignee>
                                    <reporter username="vanjikumaran@gmail.com">Vanjikumaran Sivajothy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Nov 2016 22:24:09 +0000</created>
                <updated>Wed, 23 Nov 2016 02:45:11 +0000</updated>
                            <resolved>Wed, 23 Nov 2016 02:12:52 +0000</resolved>
                                                    <fixVersion>3.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15685377" author="isudana" created="Tue, 22 Nov 2016 01:47:31 +0000"  >&lt;p&gt;Hi Vanji,&lt;/p&gt;

&lt;p&gt;Shall we try to understand the logic behind reCalcuateWeight().&lt;/p&gt;

&lt;p&gt;I am just wondering whether we have mistakenly put &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (totalConnections &amp;gt; 0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (totalConnections &amp;gt;= 0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;because totalConnections == 0 is explicitly handled within the method, which gives the idea that we need to recalculate the weight for that case as well. &lt;/p&gt;</comment>
                            <comment id="15688623" author="isudana" created="Wed, 23 Nov 2016 02:12:24 +0000"  >&lt;p&gt;Hi Vanji,&lt;/p&gt;

&lt;p&gt;I checked the logic. It seems like recalculation of weight doesn&apos;t make sense when connection count is 0. So I applied your patch to remove the unwanted condition. &lt;/p&gt;

&lt;p&gt;Committed revision 1770905.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;
</comment>
                            <comment id="15688679" author="hudson" created="Wed, 23 Nov 2016 02:45:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Synapse - Trunk #5286 (See &lt;a href=&quot;https://builds.apache.org/job/Synapse%20-%20Trunk/5286/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Synapse%20-%20Trunk/5286/&lt;/a&gt;)&lt;br/&gt;
applying patch by vanji to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1061&quot; title=&quot; WeightedRRLCAlgorithm Unwanted condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1061&quot;&gt;&lt;del&gt;SYNAPSE-1061&lt;/del&gt;&lt;/a&gt; (isudana: rev 1770905)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) java/modules/core/src/main/java/org/apache/synapse/endpoints/algorithms/WeightedRRLCAlgorithm.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12839900" name="SYNAPSE-1061.diff" size="1285" author="vanjikumaran@gmail.com" created="Mon, 21 Nov 2016 22:25:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36lpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>