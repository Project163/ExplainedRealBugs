<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-479] Failure in REST test case</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-479</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;The following test case systematically fails:&lt;/p&gt;

&lt;p&gt;org.apache.synapse.transport.nhttp.HttpCoreNIOListenerTest.0076:test=REST,client=java.net,endpoint=axis&lt;/p&gt;

&lt;p&gt;This test case uses a URLConnection to send a GET request to HttpCoreNIOListener. The test case logs show that the transport sends back the status line and the headers, but fails to write the (empty) body. After 60 seconds it times out and closes the connection, causing a &quot;Premature EOF&quot; error in URLConnection.&lt;/p&gt;

&lt;p&gt;This seems to be a regression caused by the recent upgrade to httpcore 4.0-beta3.&lt;/p&gt;</description>
                <environment>- Hudson&lt;br/&gt;
- Mac OS X</environment>
        <key id="12408146">SYNAPSE-479</key>
            <summary>Failure in REST test case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="veithen">Andreas Veithen-Knowles</assignee>
                                    <reporter username="veithen">Andreas Veithen-Knowles</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Nov 2008 12:11:00 +0000</created>
                <updated>Tue, 23 Dec 2008 21:34:36 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 21:34:36 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Transports</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646239" author="veithen" created="Mon, 10 Nov 2008 12:11:56 +0000"  >&lt;p&gt;Attached test case logs.&lt;/p&gt;</comment>
                            <comment id="12658947" author="veithen" created="Tue, 23 Dec 2008 20:45:40 +0000"  >&lt;p&gt;What happens here is that Synapse hangs in ContentInputStream#close(), called from ServerWorker#run(). The close method looks as follows:&lt;/p&gt;

&lt;p&gt;    public void close() throws IOException {&lt;br/&gt;
        // read and discard the remainder of the message&lt;br/&gt;
        byte tmp[] = new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;1024&amp;#93;&lt;/span&gt;;&lt;br/&gt;
        while (this.buffer.read(tmp, 0, tmp.length) &amp;gt;= 0) {&lt;br/&gt;
        }&lt;br/&gt;
        super.close();&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;This method has been added in r636863 to &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;fix&amp;#93;&lt;/span&gt; handling of requests with partially consumed content&quot;. Note that in the present case the transport is processing a GET request which by definition has no content. It appears that ServerHandler#requestReceived always creates an input buffer and a ContentInputStream independently of the type of request. The solution is to check the type of request and only create the input buffer and ContentInputStream if necessary and of course only use ContentInputStream#close() if the input stream is not null.&lt;/p&gt;</comment>
                            <comment id="12658960" author="veithen" created="Tue, 23 Dec 2008 21:34:36 +0000"  >&lt;p&gt;Fixed in trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393634" name="01-debug.log" size="69786" author="veithen" created="Mon, 10 Nov 2008 12:11:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11jx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>