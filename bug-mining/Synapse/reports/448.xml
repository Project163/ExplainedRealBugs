<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:09:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-1104] Synapse transport locks when there is an exception within Clone Mediator</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-1104</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;When there is an exception happens in the mediation, the exception handler tries to read all the data from the input stream.&lt;br/&gt;
 When the exception happens in a clone mediator, there seems to be the InputStream is already read. however there is a following code, which is indefinitely waits, as no more data is available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13236992">SYNAPSE-1104</key>
            <summary>Synapse transport locks when there is an exception within Clone Mediator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="isudana">Isuru Udana</assignee>
                                    <reporter username="madhawa">Madhawa Kasun Gunasekara</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 May 2019 23:13:57 +0000</created>
                <updated>Tue, 12 Nov 2019 14:06:13 +0000</updated>
                            <resolved>Tue, 12 Nov 2019 02:20:12 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16853471" author="madhawa" created="Fri, 31 May 2019 23:22:51 +0000"  >&lt;p&gt;Please find the fix in the attached patch&lt;/p&gt;</comment>
                            <comment id="16971961" author="jira-bot" created="Tue, 12 Nov 2019 01:29:32 +0000"  >&lt;p&gt;Commit 9e88820ef63061f1ee61900148c4b15d1fec95bf in synapse&apos;s branch refs/heads/master from madhawa-gunasekara&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=9e88820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=9e88820&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
Fix Transport issue when the pipe is not consumed correctly&lt;/p&gt;</comment>
                            <comment id="16971962" author="jira-bot" created="Tue, 12 Nov 2019 01:29:33 +0000"  >&lt;p&gt;Commit 30221085e4ea28072c5f720211a75ec895125f16 in synapse&apos;s branch refs/heads/master from Isuru Udana Loku Narangoda&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=3022108&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=3022108&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #19 from madhawa-gunasekara/&lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16971963" author="jira-bot" created="Tue, 12 Nov 2019 01:29:35 +0000"  >&lt;p&gt;Commit 30221085e4ea28072c5f720211a75ec895125f16 in synapse&apos;s branch refs/heads/master from Isuru Udana Loku Narangoda&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=synapse.git;h=3022108&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=synapse.git;h=3022108&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #19 from madhawa-gunasekara/&lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16971993" author="isudana" created="Tue, 12 Nov 2019 02:20:12 +0000"  >&lt;p&gt;Github pull request merged. &lt;br/&gt;
Thanks for your contribution.&lt;/p&gt;</comment>
                            <comment id="16972421" author="hudson" created="Tue, 12 Nov 2019 14:06:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Synapse - Trunk #5420 (See &lt;a href=&quot;https://builds.apache.org/job/Synapse%20-%20Trunk/5420/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Synapse%20-%20Trunk/5420/&lt;/a&gt;)&lt;br/&gt;
Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-1104&quot; title=&quot;Synapse transport locks when there is an exception within Clone Mediator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-1104&quot;&gt;&lt;del&gt;SYNAPSE-1104&lt;/del&gt;&lt;/a&gt; Fix Transport issue when the pipe is not consumed (madhawa30: &lt;a href=&quot;https://github.com/apache/synapse/commit/9e88820ef63061f1ee61900148c4b15d1fec95bf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/synapse/commit/9e88820ef63061f1ee61900148c4b15d1fec95bf&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) modules/transports/core/nhttp/src/main/java/org/apache/synapse/transport/passthru/util/ControlledByteBuffer.java&lt;/li&gt;
	&lt;li&gt;(edit) modules/transports/core/nhttp/src/main/java/org/apache/synapse/transport/passthru/Pipe.java&lt;/li&gt;
	&lt;li&gt;(edit) modules/transports/core/nhttp/src/main/java/org/apache/synapse/transport/passthru/util/RelayUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12970548" name="Fix_SYNAPSE-1104.patch" size="3915" author="madhawa" created="Sat, 1 Jun 2019 00:22:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03bfc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>