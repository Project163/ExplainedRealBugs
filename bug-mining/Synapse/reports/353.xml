<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:09:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-777] Issues encountered while using Synapse as a War</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-777</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;We are using Synapse (Synapse 2.1.0) for one of our big initiative and are using capabilities such as proxy service, mediators such as Iterate / aggregate mediators.&lt;br/&gt;
As we run in a restricted data center we have packaged Synapse as a war in our application ear and deployed in Websphere Application Server 6.1 . When we start the ear, synapse can be accessed through the default servlet channel or directly through synapse port (8280). What we have noticed is that there is a difference in behaviour between these two channels. &lt;/p&gt;

&lt;p&gt;1) If I define a proxy which doesn&apos;t use mediators such as iterate or aggregator, the servlet channel works fine. The client ( in this case SoapUI) can send a request and recieve response.&lt;br/&gt;
2) In a scenario where we need to use split and aggregate EIP the server returns back a &quot;HTTP/1.1 202 Accepted &quot; to the client and the client terminates. The execution of various sequences continues even after the server returns back the initial response.&lt;br/&gt;
3) We also noticed that using the servlet transport we face issues with the aggregate as its not able to corelate messages printing out the following info in our logs -&amp;gt; Unable to find aggrgation correlation XPath or property&lt;/p&gt;

&lt;p&gt;Note : These sequences and mediators are working perfectly if we use the Proxy Reciever channel i.e Synapse port 8280.&lt;/p&gt;

&lt;p&gt;Could you please let us know how can we ensure that there is consistency in behaviour.&lt;/p&gt;

&lt;p&gt;The scenarios that we have mentioned are easy to recreate, but if you need the sequence definations that we have defined please do let us know.&lt;/p&gt;

&lt;p&gt;As we are contemplating on using synapse for a critical requirement, any help in resolving these issues is highly appreciated.&lt;/p&gt;
</description>
                <environment>RH Linux, Websphere Application Server 6.1, &lt;br/&gt;
java version &amp;quot;1.5.0&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build pwi32devifx-20101008a (SR12 FP2 ))&lt;br/&gt;
IBM J9 VM (build 2.3, J2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223ifx-20101008 (JIT enabled)&lt;br/&gt;
J9VM - 20101007_66049_lHdSMr&lt;br/&gt;
JIT  - 20100623_16197ifx1_r8&lt;br/&gt;
GC   - 20100211_AA)&lt;br/&gt;
JCL  - 20101008</environment>
        <key id="12509034">SYNAPSE-777</key>
            <summary>Issues encountered while using Synapse as a War</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hiranya">Hiranya Kasub Jayathilaka</assignee>
                                    <reporter username="pradeepta.bhattacharya">Pradeepta Bhattacharya</reporter>
                        <labels>
                            <label>SynapseAxisServlet</label>
                    </labels>
                <created>Wed, 1 Jun 2011 23:50:19 +0000</created>
                <updated>Sat, 17 Aug 2013 19:07:08 +0000</updated>
                            <resolved>Tue, 16 Jul 2013 21:05:31 +0000</resolved>
                                    <version>2.1</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13438582" author="dave_schoorl" created="Tue, 21 Aug 2012 10:25:46 +0000"  >&lt;p&gt;The problem is caused by the absence of a messageId in the MessageContext when using the servlet channel (the messageId is set when using the non blocking http transport, E.g. via port 8280). &lt;/p&gt;

&lt;p&gt;The CloneMediator and IterateMediator use the messageId as correlationId when splitting requests, which is used by the AggregateMediator to aggregate the responses. When there is no messageId, there is no correlationId in the MessageContext and the AggregateMediator can not do it&apos;s work.&lt;/p&gt;

&lt;p&gt;The problem is resolved when the SynapseAxisServlet generates a messageId for the MessageContext it creates. Patch &lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-777&quot; title=&quot;Issues encountered while using Synapse as a War&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-777&quot;&gt;&lt;del&gt;SYNAPSE-777&lt;/del&gt;&lt;/a&gt;.patch is attached that resolves this issue.&lt;/p&gt;

&lt;p&gt;Please review and apply this patch.&lt;/p&gt;</comment>
                            <comment id="13710241" author="hiranya" created="Tue, 16 Jul 2013 21:05:31 +0000"  >&lt;p&gt;Checked in the patch. Thanks Dave for the contribution.&lt;/p&gt;</comment>
                            <comment id="13710376" author="hudson" created="Tue, 16 Jul 2013 22:23:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in Synapse - Trunk #4617 (See &lt;a href=&quot;https://builds.apache.org/job/Synapse%20-%20Trunk/4617/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Synapse%20-%20Trunk/4617/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SYNAPSE-777&quot; title=&quot;Issues encountered while using Synapse as a War&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SYNAPSE-777&quot;&gt;&lt;del&gt;SYNAPSE-777&lt;/del&gt;&lt;/a&gt; Applying the patch from Dave to set a message ID on the message context instances created by SynapseAxisServlet. (hiranya: rev 1503887)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/synapse/trunk/java/modules/core/src/main/java/org/apache/synapse/core/axis2/SynapseAxisServlet.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541735" name="SYNAPSE-777.patch" size="2002" author="dave_schoorl" created="Tue, 21 Aug 2012 10:25:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17t87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>