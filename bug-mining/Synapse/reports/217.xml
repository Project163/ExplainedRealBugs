<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 20:08:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SYNAPSE-280] Synapse doesn&apos;t preserve CDATA sections</title>
                <link>https://issues.apache.org/jira/browse/SYNAPSE-280</link>
                <project id="12310201" key="SYNAPSE">Synapse</project>
                    <description>&lt;p&gt;When a message is received by Synapse, any CDATA section is transformed into a normal text node. This issue has been discussed on the mailing list, but without getting to a conclusion:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Interesting-problem-introduced-by-CDATA-section-to16321118.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Interesting-problem-introduced-by-CDATA-section-to16321118.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A closer look reveals that the origin of the problem is that Woodstox by default creates parsers in coalescing mode, implying that adjacent CDATA sections and text nodes are combined and reported as a single CHARACTER event. Therefore information about CDATA sections is lost. Note that enabling coalescing by default is contrary to the StAX specifications and this is a bug in the Woodstox version used by Synapse (see &lt;a href=&quot;http://jira.codehaus.org/browse/WSTX-140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/WSTX-140&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;The problem can be solved for Synapse in standalone mode by adding the following instruction to ServerManager#start:&lt;/p&gt;

&lt;p&gt;StAXUtils.getXMLInputFactory().setProperty(XMLInputFactory.IS_COALESCING, Boolean.FALSE);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395149">SYNAPSE-280</key>
            <summary>Synapse doesn&apos;t preserve CDATA sections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="veithen">Andreas Veithen-Knowles</assignee>
                                    <reporter username="veithen">Andreas Veithen-Knowles</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 May 2008 18:14:54 +0000</created>
                <updated>Sat, 18 Apr 2009 12:00:41 +0000</updated>
                            <resolved>Sat, 18 Apr 2009 12:00:41 +0000</resolved>
                                    <version>NIGHTLY</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593732" author="asankha" created="Fri, 2 May 2008 08:01:40 +0000"  >&lt;p&gt;Andreas&lt;/p&gt;

&lt;p&gt;If you are comfortable with the suggested fix, lets get it in.. I am going to do the first QA build for 1.2 on Monday.. and that will get us testing coverage&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
asankha &lt;/p&gt;</comment>
                            <comment id="12593751" author="veithen" created="Fri, 2 May 2008 09:29:19 +0000"  >&lt;p&gt;I&apos;m quite comfortable with the fix, but I expect problems with AXIOM and Axis2 (and maybe also existing code in Synapse). The reason is that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Recently, issues with CDATA sections have been discovered: see &lt;a href=&quot;https://issues.apache.org/jira/browse/AXIOM-323&quot; title=&quot;OMElementImpl.getText() returns an empty String for text in CDATA tags&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AXIOM-323&quot;&gt;&lt;del&gt;WSCOMMONS-305&lt;/del&gt;&lt;/a&gt;.&lt;/li&gt;
	&lt;li&gt;When I applied my fix, I immediately got another error related to a misbehavior in AXIOM: see &lt;a href=&quot;https://issues.apache.org/jira/browse/AXIOM-144&quot; title=&quot;OMStAXWrapper#hasText should return true for CDATA sections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AXIOM-144&quot;&gt;&lt;del&gt;WSCOMMONS-338&lt;/del&gt;&lt;/a&gt;.&lt;/li&gt;
	&lt;li&gt;There might be code around that implicitly relies on the assumption that the parser is coalescing. Indeed, in non coalescing mode, there will be OMElement nodes with adjacent OMText children and there might be code that is not prepared to handle this.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Anyway, before applying the fix, we need to wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/AXIOM-144&quot; title=&quot;OMStAXWrapper#hasText should return true for CDATA sections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AXIOM-144&quot;&gt;&lt;del&gt;WSCOMMONS-338&lt;/del&gt;&lt;/a&gt; to be fixed and for this fix to be included in a new release of AXIOM. So we should keep this issue in the pipe for the next Synapse release after 1.2.&lt;/p&gt;</comment>
                            <comment id="12593752" author="asankha" created="Fri, 2 May 2008 09:34:12 +0000"  >&lt;p&gt;Ok.. I think we can consider this for the future releases then..&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
asankha&lt;/p&gt;</comment>
                            <comment id="12593857" author="veithen" created="Fri, 2 May 2008 19:24:58 +0000"  >&lt;p&gt;I ran the Axis2 unit tests with a non coalescing parser and discovered yet another issue with CDATA sections in AXIOM: &lt;a href=&quot;https://issues.apache.org/jira/browse/AXIOM-102&quot; title=&quot;SOAP11BuilderHelper#processText doesn&amp;#39;t recognize CDATA sections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AXIOM-102&quot;&gt;&lt;del&gt;WSCOMMONS-339&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12699888" author="veithen" created="Thu, 16 Apr 2009 21:43:23 +0000"  >&lt;p&gt;Some additional information related to this issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://markmail.org/message/uhfxzumb5seq6463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/uhfxzumb5seq6463&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12700464" author="veithen" created="Sat, 18 Apr 2009 12:00:41 +0000"  >&lt;p&gt;The feature introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/AXIOM-339&quot; title=&quot;Allow StAXUtils to apply properties to XMLInputFactory and XMLOutputFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AXIOM-339&quot;&gt;&lt;del&gt;WSCOMMONS-461&lt;/del&gt;&lt;/a&gt; can be used to configure Synapse to preserve CDATA sections. Added relevant documentation explaining how to set this up.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12395150">AXIOM-144</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12395216">AXIOM-102</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12423050">AXIOM-339</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12367403">AXIS2-2551</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11ksn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>