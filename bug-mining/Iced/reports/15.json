{"url":"https://api.github.com/repos/iced-rs/iced/issues/2311","repository_url":"https://api.github.com/repos/iced-rs/iced","labels_url":"https://api.github.com/repos/iced-rs/iced/issues/2311/labels{/name}","comments_url":"https://api.github.com/repos/iced-rs/iced/issues/2311/comments","events_url":"https://api.github.com/repos/iced-rs/iced/issues/2311/events","html_url":"https://github.com/iced-rs/iced/issues/2311","id":2171755024,"node_id":"I_kwDOC784y86BcloQ","number":2311,"title":"tiny_skia backend panics if you have an Combobox menu with zero search results","user":{"login":"blazra","id":511953,"node_id":"MDQ6VXNlcjUxMTk1Mw==","avatar_url":"https://avatars.githubusercontent.com/u/511953?v=4","gravatar_id":"","url":"https://api.github.com/users/blazra","html_url":"https://github.com/blazra","followers_url":"https://api.github.com/users/blazra/followers","following_url":"https://api.github.com/users/blazra/following{/other_user}","gists_url":"https://api.github.com/users/blazra/gists{/gist_id}","starred_url":"https://api.github.com/users/blazra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blazra/subscriptions","organizations_url":"https://api.github.com/users/blazra/orgs","repos_url":"https://api.github.com/users/blazra/repos","events_url":"https://api.github.com/users/blazra/events{/privacy}","received_events_url":"https://api.github.com/users/blazra/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1452848318,"node_id":"MDU6TGFiZWwxNDUyODQ4MzE4","url":"https://api.github.com/repos/iced-rs/iced/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-03-06T15:17:21Z","updated_at":"2024-04-02T07:49:37Z","closed_at":"2024-04-02T07:49:37Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Is there an existing issue for this?\n\n- [X] I have searched the existing issues.\n\n### Is this issue related to iced?\n\n- [X] My hardware is compatible and my graphics drivers are up-to-date.\n\n### What happened?\n\n- Run the Combobox example with tiny-skia backend\r\n```sh\r\nICED_BACKEND=tiny-skia cargo r\r\n```\r\n- Write \"ee\" into the combobox text field\r\n- The application panics with:\r\n```\r\nthread 'main' panicked at tiny_skia/src/backend.rs:162:17:\r\nQuad with non-normal height!\r\n```\n\n### What is the expected behavior?\n\nThe application should not panic even if there are no results in the combobox menu.\n\n### Version\n\nmaster\n\n### Operating System\n\nLinux\n\n### Do you have any log output?\n\n```shell\n> RUST_BACKTRACE=1 ICED_BACKEND=tiny-skia cargo r\r\n    Finished dev [unoptimized + debuginfo] target(s) in 0.11s\r\n     Running `/local/home/blazekra/data/git/iced/target/debug/combo_box`\r\nthread 'main' panicked at tiny_skia/src/backend.rs:162:17:\r\nQuad with non-normal height!\r\nstack backtrace:\r\n   0: rust_begin_unwind\r\n             at /rustc/07dca489ac2d933c78d3c5158e3f43beefeb02ce/library/std/src/panicking.rs:645:5\r\n   1: core::panicking::panic_fmt\r\n             at /rustc/07dca489ac2d933c78d3c5158e3f43beefeb02ce/library/core/src/panicking.rs:72:14\r\n   2: iced_tiny_skia::backend::Backend::draw_primitive\r\n             at /local/home/blazekra/data/git/iced/tiny_skia/src/backend.rs:162:17\r\n   3: iced_tiny_skia::backend::Backend::draw_primitive\r\n             at /local/home/blazekra/data/git/iced/tiny_skia/src/backend.rs:700:21\r\n   4: iced_tiny_skia::backend::Backend::draw_primitive\r\n             at /local/home/blazekra/data/git/iced/tiny_skia/src/backend.rs:748:21\r\n   5: iced_tiny_skia::backend::Backend::draw\r\n             at /local/home/blazekra/data/git/iced/tiny_skia/src/backend.rs:103:17\r\n   6: iced_tiny_skia::window::compositor::present\r\n             at /local/home/blazekra/data/git/iced/tiny_skia/src/window/compositor.rs:202:5\r\n   7: <iced_renderer::compositor::Compositor as iced_graphics::compositor::Compositor>::present::{{closure}}\r\n             at /local/home/blazekra/data/git/iced/renderer/src/compositor.rs:118:17\r\n   8: iced_graphics::renderer::Renderer<B>::with_primitives\r\n             at /local/home/blazekra/data/git/iced/graphics/src/renderer.rs:56:9\r\n   9: <iced_renderer::compositor::Compositor as iced_graphics::compositor::Compositor>::present\r\n             at /local/home/blazekra/data/git/iced/renderer/src/compositor.rs:117:18\r\n  10: iced_winit::application::run_instance::{{closure}}\r\n             at /local/home/blazekra/data/git/iced/winit/src/application.rs:458:23\r\n  11: iced_winit::application::run::{{closure}}\r\n             at /local/home/blazekra/data/git/iced/winit/src/application.rs:228:24\r\n  12: core::ops::function::impls::<impl core::ops::function::FnMut<A> for &mut F>::call_mut\r\n             at /rustc/07dca489ac2d933c78d3c5158e3f43beefeb02ce/library/core/src/ops/function.rs:294:13\r\n  13: core::ops::function::impls::<impl core::ops::function::FnMut<A> for &mut F>::call_mut\r\n             at /rustc/07dca489ac2d933c78d3c5158e3f43beefeb02ce/library/core/src/ops/function.rs:294:13\r\n  14: winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::single_iteration\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/wayland/event_loop/mod.rs:504:17\r\n  15: winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::poll_events_with_timeout\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/wayland/event_loop/mod.rs:323:9\r\n  16: winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::pump_events\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/wayland/event_loop/mod.rs:237:13\r\n  17: winit::platform_impl::platform::wayland::event_loop::EventLoop<T>::run_on_demand\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/wayland/event_loop/mod.rs:201:19\r\n  18: winit::platform_impl::platform::EventLoop<T>::run_on_demand\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/mod.rs:821:56\r\n  19: winit::platform_impl::platform::EventLoop<T>::run\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/platform_impl/linux/mod.rs:814:9\r\n  20: winit::event_loop::EventLoop<T>::run\r\n             at /local/home/blazekra/.cargo/git/checkouts/winit-57d3141eaf559308/b91e39e/src/event_loop.rs:249:9\r\n  21: iced_winit::application::run\r\n             at /local/home/blazekra/data/git/iced/winit/src/application.rs:243:13\r\n  22: iced::application::Application::run\r\n             at /local/home/blazekra/data/git/iced/src/application.rs:208:12\r\n  23: iced::sandbox::Sandbox::run\r\n             at /local/home/blazekra/data/git/iced/src/sandbox.rs:153:9\r\n  24: combo_box::main\r\n             at ./src/main.rs:7:5\r\n  25: core::ops::function::FnOnce::call_once\r\n             at /rustc/07dca489ac2d933c78d3c5158e3f43beefeb02ce/library/core/src/ops/function.rs:250:5\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\n```\n","closed_by":{"login":"hecrj","id":518289,"node_id":"MDQ6VXNlcjUxODI4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/518289?v=4","gravatar_id":"","url":"https://api.github.com/users/hecrj","html_url":"https://github.com/hecrj","followers_url":"https://api.github.com/users/hecrj/followers","following_url":"https://api.github.com/users/hecrj/following{/other_user}","gists_url":"https://api.github.com/users/hecrj/gists{/gist_id}","starred_url":"https://api.github.com/users/hecrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hecrj/subscriptions","organizations_url":"https://api.github.com/users/hecrj/orgs","repos_url":"https://api.github.com/users/hecrj/repos","events_url":"https://api.github.com/users/hecrj/events{/privacy}","received_events_url":"https://api.github.com/users/hecrj/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/iced-rs/iced/issues/2311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/iced-rs/iced/issues/2311/timeline","performed_via_github_app":null,"state_reason":"completed"}