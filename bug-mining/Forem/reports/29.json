{"url":"https://api.github.com/repos/forem/forem/issues/16461","repository_url":"https://api.github.com/repos/forem/forem","labels_url":"https://api.github.com/repos/forem/forem/issues/16461/labels{/name}","comments_url":"https://api.github.com/repos/forem/forem/issues/16461/comments","events_url":"https://api.github.com/repos/forem/forem/issues/16461/events","html_url":"https://github.com/forem/forem/issues/16461","id":1127198646,"node_id":"I_kwDOBGPKJs5DL6-2","number":16461,"title":"Admin can't delete posts on Forem","user":{"login":"ellativity","id":76786132,"node_id":"MDQ6VXNlcjc2Nzg2MTMy","avatar_url":"https://avatars.githubusercontent.com/u/76786132?v=4","gravatar_id":"","url":"https://api.github.com/users/ellativity","html_url":"https://github.com/ellativity","followers_url":"https://api.github.com/users/ellativity/followers","following_url":"https://api.github.com/users/ellativity/following{/other_user}","gists_url":"https://api.github.com/users/ellativity/gists{/gist_id}","starred_url":"https://api.github.com/users/ellativity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ellativity/subscriptions","organizations_url":"https://api.github.com/users/ellativity/orgs","repos_url":"https://api.github.com/users/ellativity/repos","events_url":"https://api.github.com/users/ellativity/events{/privacy}","received_events_url":"https://api.github.com/users/ellativity/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1901676140,"node_id":"MDU6TGFiZWwxOTAxNjc2MTQw","url":"https://api.github.com/repos/forem/forem/labels/internal%20team%20only","name":"internal team only","color":"D4C5F9","default":false,"description":"internal tasks only for Forem team members"},{"id":2732111728,"node_id":"MDU6TGFiZWwyNzMyMTExNzI4","url":"https://api.github.com/repos/forem/forem/labels/changelog:%20rollup","name":"changelog: rollup","color":"4FE0DB","default":false,"description":"Items that will be communicated in our monthly rollup changelogs"}],"state":"closed","locked":false,"assignee":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2022-02-08T12:34:16Z","updated_at":"2022-03-02T03:20:10Z","closed_at":"2022-02-09T16:28:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\nOriginally discovered on sandbox Forem but able to replicate on other Forems in the fleet.\r\n\r\nIf an Admin tries to delete a user's post (either by clicking **Delete** on the Manage page by appending `/manage` to the post URL or by clicking **Delete** on a Draft post in the User Dashboard), the `/delete_confirm` page 404s.\r\n\r\n@michael-tharrington confirms that he's able to replicate this issue.\r\n\r\n**To Reproduce**\r\n\r\nWhen logged in as Admin:\r\n\r\nEither\r\n1. Open the post you want to delete\r\n2. Append `/manage` to the post URL\r\n3. Click **Delete** to see `/delete_confirm` page and 404 error.\r\n\r\nOr\r\n1. Open the post you want to delete\r\n2. Click on the \"Mod Panel\" icon in the reactions bar (shield icon)\r\n3. Click on **Unpublish post** at the bottom of the Mod Panel\r\n4. Navigate to the User Dashboard (`/dashboard/username`)\r\n5. Locate the freshly unpublished post in **Draft** state\r\n6. Click **Delete** to see `/delete_confirm` page and 404 error.\r\n\r\n**Expected behavior**\r\n\r\nI believe we previously saw a page asking to confirm if we wanted to delete the content, but it's tricky to recall now that we don't seem to be able to access this any more. \r\n\r\nIdeal world behaviour: a confirmation modal appears. When confirmed, Admin is returned to User Dashboard (to visually verify the post is deleted) with a notification that matches the style of those seen by Admins when banishing/deleting users, or unpublishing all of a user's posts.\r\n\r\n**Screenshots**\r\n\r\n[I was recording a video tutorial when I first came across this, so here's the goofy video.](https://www.loom.com/share/b9e9ff128be2429895f838eb70aa1540) - enjoy ðŸ˜†","closed_by":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/forem/forem/issues/16461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/forem/forem/issues/16461/timeline","performed_via_github_app":null,"state_reason":"completed"}