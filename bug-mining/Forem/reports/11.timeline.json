[{"url":"https://api.github.com/repos/forem/forem/issues/comments/970683683","html_url":"https://github.com/forem/forem/issues/15396#issuecomment-970683683","issue_url":"https://api.github.com/repos/forem/forem/issues/15396","id":970683683,"node_id":"IC_kwDOBGPKJs4523Uj","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T21:13:31Z","updated_at":"2021-11-16T21:13:31Z","body":"Thanks for the issue, we will take it into consideration! Our team of engineers is busy working on many types of features, please give us time to get back to you.\n\nFeature requests that require more discussion may be closed. Read more about our [feature request process](https://forem.dev/foremteam/internal-rfc-process-and-forem-dev-discussions-3gl4) on forem.dev.\n\nTo our amazing contributors: issues labeled `type: bug` are always up for grabs, but for feature requests, please wait until we add a `ready for dev` before starting to work on it.\n\nTo claim an issue to work on, please leave a comment. If you've claimed the issue and need help, please ping @forem/oss. The OSS Community Manager or the engineers on OSS rotation will follow up.\n\nFor full info on how to contribute, please check out our [contributors guide](https://github.com/forem/forem/blob/main/CONTRIBUTING.md).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/forem/forem/issues/comments/970683683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":5628083932,"node_id":"AE_lADOBGPKJs4-5x78zwAAAAFPdb7c","url":"https://api.github.com/repos/forem/forem/issues/events/5628083932","actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-11-16T22:16:22Z","assignee":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":5628452048,"node_id":"REFE_lADOBGPKJs4-5x78zwAAAAFPe1zQ","url":"https://api.github.com/repos/forem/forem/issues/events/5628452048","actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f4e8bbd2f278f7700a6c8255c5a2fc0808a74fbe","commit_url":"https://api.github.com/repos/forem/forem/commits/f4e8bbd2f278f7700a6c8255c5a2fc0808a74fbe","created_at":"2021-11-16T23:50:28Z","performed_via_github_app":null},{"actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-16T23:52:53Z","updated_at":"2021-11-16T23:52:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/forem/forem/issues/15399","repository_url":"https://api.github.com/repos/forem/forem","labels_url":"https://api.github.com/repos/forem/forem/issues/15399/labels{/name}","comments_url":"https://api.github.com/repos/forem/forem/issues/15399/comments","events_url":"https://api.github.com/repos/forem/forem/issues/15399/events","html_url":"https://github.com/forem/forem/pull/15399","id":1055554345,"node_id":"PR_kwDOBGPKJs4un-Wi","number":15399,"title":"Refactoring and extending article spam behavior","user":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1123882148,"node_id":"MDU6TGFiZWwxMTIzODgyMTQ4","url":"https://api.github.com/repos/forem/forem/labels/PR:%20merged","name":"PR: merged","color":"6a737d","default":false,"description":"bot applied label for PR's that are merged"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-11-16T23:52:53Z","updated_at":"2021-11-17T22:09:23Z","closed_at":"2021-11-17T22:09:18Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":73648678,"node_id":"MDEwOlJlcG9zaXRvcnk3MzY0ODY3OA==","name":"forem","full_name":"forem/forem","private":false,"owner":{"login":"forem","id":65030610,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1MDMwNjEw","avatar_url":"https://avatars.githubusercontent.com/u/65030610?v=4","gravatar_id":"","url":"https://api.github.com/users/forem","html_url":"https://github.com/forem","followers_url":"https://api.github.com/users/forem/followers","following_url":"https://api.github.com/users/forem/following{/other_user}","gists_url":"https://api.github.com/users/forem/gists{/gist_id}","starred_url":"https://api.github.com/users/forem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forem/subscriptions","organizations_url":"https://api.github.com/users/forem/orgs","repos_url":"https://api.github.com/users/forem/repos","events_url":"https://api.github.com/users/forem/events{/privacy}","received_events_url":"https://api.github.com/users/forem/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/forem/forem","description":"For empowering community ðŸŒ±","fork":false,"url":"https://api.github.com/repos/forem/forem","forks_url":"https://api.github.com/repos/forem/forem/forks","keys_url":"https://api.github.com/repos/forem/forem/keys{/key_id}","collaborators_url":"https://api.github.com/repos/forem/forem/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/forem/forem/teams","hooks_url":"https://api.github.com/repos/forem/forem/hooks","issue_events_url":"https://api.github.com/repos/forem/forem/issues/events{/number}","events_url":"https://api.github.com/repos/forem/forem/events","assignees_url":"https://api.github.com/repos/forem/forem/assignees{/user}","branches_url":"https://api.github.com/repos/forem/forem/branches{/branch}","tags_url":"https://api.github.com/repos/forem/forem/tags","blobs_url":"https://api.github.com/repos/forem/forem/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/forem/forem/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/forem/forem/git/refs{/sha}","trees_url":"https://api.github.com/repos/forem/forem/git/trees{/sha}","statuses_url":"https://api.github.com/repos/forem/forem/statuses/{sha}","languages_url":"https://api.github.com/repos/forem/forem/languages","stargazers_url":"https://api.github.com/repos/forem/forem/stargazers","contributors_url":"https://api.github.com/repos/forem/forem/contributors","subscribers_url":"https://api.github.com/repos/forem/forem/subscribers","subscription_url":"https://api.github.com/repos/forem/forem/subscription","commits_url":"https://api.github.com/repos/forem/forem/commits{/sha}","git_commits_url":"https://api.github.com/repos/forem/forem/git/commits{/sha}","comments_url":"https://api.github.com/repos/forem/forem/comments{/number}","issue_comment_url":"https://api.github.com/repos/forem/forem/issues/comments{/number}","contents_url":"https://api.github.com/repos/forem/forem/contents/{+path}","compare_url":"https://api.github.com/repos/forem/forem/compare/{base}...{head}","merges_url":"https://api.github.com/repos/forem/forem/merges","archive_url":"https://api.github.com/repos/forem/forem/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/forem/forem/downloads","issues_url":"https://api.github.com/repos/forem/forem/issues{/number}","pulls_url":"https://api.github.com/repos/forem/forem/pulls{/number}","milestones_url":"https://api.github.com/repos/forem/forem/milestones{/number}","notifications_url":"https://api.github.com/repos/forem/forem/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/forem/forem/labels{/name}","releases_url":"https://api.github.com/repos/forem/forem/releases{/id}","deployments_url":"https://api.github.com/repos/forem/forem/deployments","created_at":"2016-11-13T23:02:13Z","updated_at":"2025-11-10T03:30:54Z","pushed_at":"2025-11-08T23:08:51Z","git_url":"git://github.com/forem/forem.git","ssh_url":"git@github.com:forem/forem.git","clone_url":"https://github.com/forem/forem.git","svn_url":"https://github.com/forem/forem","homepage":"https://forem.com","size":1724987,"stargazers_count":22508,"watchers_count":22508,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":606,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["community","discussion","feedback","hacktoberfest","open-source","rails","ruby"],"visibility":"public","forks":4150,"open_issues":606,"watchers":22508,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/forem/forem/pulls/15399","html_url":"https://github.com/forem/forem/pull/15399","diff_url":"https://github.com/forem/forem/pull/15399.diff","patch_url":"https://github.com/forem/forem/pull/15399.patch","merged_at":"2021-11-17T22:09:18Z"},"body":"<!--\r\n     For Work In Progress Pull Requests, please use the Draft PR feature,\r\n     see https://github.blog/2019-02-14-introducing-draft-pull-requests/ for further details.\r\n\r\n     For a timely review/response, please avoid force-pushing additional\r\n     commits if your PR already received reviews or comments.\r\n\r\n     Before submitting a Pull Request, please ensure you've done the following:\r\n     - ðŸ“– Read the Forem Contributing Guide: https://github.com/forem/forem/blob/main/CONTRIBUTING.md#create-a-pull-request.\r\n     - ðŸ“– Read the Forem Code of Conduct: https://github.com/forem/forem/blob/main/CODE_OF_CONDUCT.md.\r\n     - ðŸ‘·â€â™€ï¸ Create small PRs. In most cases this will be possible.\r\n     - âœ… Provide tests for your changes.\r\n     - ðŸ“ Use descriptive commit messages.\r\n     - ðŸ“— Update any related documentation and include any relevant screenshots.\r\n\r\n     NOTE: Pull Requests from forked repositories will need to be reviewed by\r\n     a Forem Team member before any CI builds will run. Once your PR is approved\r\n     with a `/ci` reply to the PR, it will be allowed to run subsequent builds without\r\n     manual approval.\r\n-->\r\n\r\n## What type of PR is this? (check all applicable)\r\n\r\n- [X] Refactor\r\n- [X] Bug Fix\r\n\r\n## Description\r\n\r\nPrior to this refactor, we were checking an Article's title for\r\nspaminess.  This change now checks the Article's title and\r\nbody_markdown.\r\n\r\nIn addition, the PR encapsulates the regular expression implementations in\r\nfavor of asking the Settings::RateLimit class to determine if the passed\r\nin text is \"spammy\".\r\n\r\nFurthermore, instead of having lots of inline logic within the article,\r\nthis refactor introduces a `Spam::ArticleHandler` class.  This helps\r\ntidy up the already busy Article specs by delegating the business logic\r\nof Spam handling to it's own class.\r\n\r\nThere are further refactors for Comments and Users that would follow\r\nthis pattern, but this change is more important to get out the door.\r\n\r\n## Related Tickets & Documents\r\n\r\nCloses #15396\r\n\r\n## QA Instructions, Screenshots, Recordings\r\n\r\nDefine a spam term, then create an article in which you add the spam term to the markdown.\r\n\r\n### UI accessibility concerns?\r\n\r\nNone\r\n\r\n## Added/updated tests?\r\n\r\n- [X] Yes\r\n\r\n## [Forem core team only] How will this change be communicated?\r\n\r\n_Will this PR introduce a change that impacts Forem members or creators, the\r\ndevelopment process, or any of our internal teams? If so, please note how you\r\nwill share this change with the people who need to know about it._\r\n\r\n- [X] I'm not sure how best to communicate this change and need help\r\n","reactions":{"url":"https://api.github.com/repos/forem/forem/issues/15399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/forem/forem/issues/15399/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5634902952,"node_id":"REFE_lADOBGPKJs4-5x78zwAAAAFP3cuo","url":"https://api.github.com/repos/forem/forem/issues/events/5634902952","actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8cef32ec4c35ae9bb81336a76ccc947867b029ae","commit_url":"https://api.github.com/repos/forem/forem/commits/8cef32ec4c35ae9bb81336a76ccc947867b029ae","created_at":"2021-11-17T21:50:48Z","performed_via_github_app":null},{"id":5634987246,"node_id":"CE_lADOBGPKJs4-5x78zwAAAAFP3xTu","url":"https://api.github.com/repos/forem/forem/issues/events/5634987246","actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-11-17T22:09:18Z","state_reason":null,"performed_via_github_app":null},{"id":5634987640,"node_id":"REFE_lADOBGPKJs4-5x78zwAAAAFP3xZ4","url":"https://api.github.com/repos/forem/forem/issues/events/5634987640","actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"91b951eb05c86a80d30f6f670048309bd8a3529b","commit_url":"https://api.github.com/repos/forem/forem/commits/91b951eb05c86a80d30f6f670048309bd8a3529b","created_at":"2021-11-17T22:09:23Z","performed_via_github_app":null},{"actor":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-18T01:00:56Z","updated_at":"2021-11-18T01:00:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/forem/forem/issues/15412","repository_url":"https://api.github.com/repos/forem/forem","labels_url":"https://api.github.com/repos/forem/forem/issues/15412/labels{/name}","comments_url":"https://api.github.com/repos/forem/forem/issues/15412/comments","events_url":"https://api.github.com/repos/forem/forem/issues/15412/events","html_url":"https://github.com/forem/forem/pull/15412","id":1056806859,"node_id":"PR_kwDOBGPKJs4ur8Dr","number":15412,"title":"Refactoring Spam Handler","user":{"login":"jeremyf","id":2130,"node_id":"MDQ6VXNlcjIxMzA=","avatar_url":"https://avatars.githubusercontent.com/u/2130?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremyf","html_url":"https://github.com/jeremyf","followers_url":"https://api.github.com/users/jeremyf/followers","following_url":"https://api.github.com/users/jeremyf/following{/other_user}","gists_url":"https://api.github.com/users/jeremyf/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremyf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremyf/subscriptions","organizations_url":"https://api.github.com/users/jeremyf/orgs","repos_url":"https://api.github.com/users/jeremyf/repos","events_url":"https://api.github.com/users/jeremyf/events{/privacy}","received_events_url":"https://api.github.com/users/jeremyf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1123882148,"node_id":"MDU6TGFiZWwxMTIzODgyMTQ4","url":"https://api.github.com/repos/forem/forem/labels/PR:%20merged","name":"PR: merged","color":"6a737d","default":false,"description":"bot applied label for PR's that are merged"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-11-18T01:00:55Z","updated_at":"2022-07-06T22:24:45Z","closed_at":"2021-11-30T17:45:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":73648678,"node_id":"MDEwOlJlcG9zaXRvcnk3MzY0ODY3OA==","name":"forem","full_name":"forem/forem","private":false,"owner":{"login":"forem","id":65030610,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY1MDMwNjEw","avatar_url":"https://avatars.githubusercontent.com/u/65030610?v=4","gravatar_id":"","url":"https://api.github.com/users/forem","html_url":"https://github.com/forem","followers_url":"https://api.github.com/users/forem/followers","following_url":"https://api.github.com/users/forem/following{/other_user}","gists_url":"https://api.github.com/users/forem/gists{/gist_id}","starred_url":"https://api.github.com/users/forem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forem/subscriptions","organizations_url":"https://api.github.com/users/forem/orgs","repos_url":"https://api.github.com/users/forem/repos","events_url":"https://api.github.com/users/forem/events{/privacy}","received_events_url":"https://api.github.com/users/forem/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/forem/forem","description":"For empowering community ðŸŒ±","fork":false,"url":"https://api.github.com/repos/forem/forem","forks_url":"https://api.github.com/repos/forem/forem/forks","keys_url":"https://api.github.com/repos/forem/forem/keys{/key_id}","collaborators_url":"https://api.github.com/repos/forem/forem/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/forem/forem/teams","hooks_url":"https://api.github.com/repos/forem/forem/hooks","issue_events_url":"https://api.github.com/repos/forem/forem/issues/events{/number}","events_url":"https://api.github.com/repos/forem/forem/events","assignees_url":"https://api.github.com/repos/forem/forem/assignees{/user}","branches_url":"https://api.github.com/repos/forem/forem/branches{/branch}","tags_url":"https://api.github.com/repos/forem/forem/tags","blobs_url":"https://api.github.com/repos/forem/forem/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/forem/forem/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/forem/forem/git/refs{/sha}","trees_url":"https://api.github.com/repos/forem/forem/git/trees{/sha}","statuses_url":"https://api.github.com/repos/forem/forem/statuses/{sha}","languages_url":"https://api.github.com/repos/forem/forem/languages","stargazers_url":"https://api.github.com/repos/forem/forem/stargazers","contributors_url":"https://api.github.com/repos/forem/forem/contributors","subscribers_url":"https://api.github.com/repos/forem/forem/subscribers","subscription_url":"https://api.github.com/repos/forem/forem/subscription","commits_url":"https://api.github.com/repos/forem/forem/commits{/sha}","git_commits_url":"https://api.github.com/repos/forem/forem/git/commits{/sha}","comments_url":"https://api.github.com/repos/forem/forem/comments{/number}","issue_comment_url":"https://api.github.com/repos/forem/forem/issues/comments{/number}","contents_url":"https://api.github.com/repos/forem/forem/contents/{+path}","compare_url":"https://api.github.com/repos/forem/forem/compare/{base}...{head}","merges_url":"https://api.github.com/repos/forem/forem/merges","archive_url":"https://api.github.com/repos/forem/forem/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/forem/forem/downloads","issues_url":"https://api.github.com/repos/forem/forem/issues{/number}","pulls_url":"https://api.github.com/repos/forem/forem/pulls{/number}","milestones_url":"https://api.github.com/repos/forem/forem/milestones{/number}","notifications_url":"https://api.github.com/repos/forem/forem/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/forem/forem/labels{/name}","releases_url":"https://api.github.com/repos/forem/forem/releases{/id}","deployments_url":"https://api.github.com/repos/forem/forem/deployments","created_at":"2016-11-13T23:02:13Z","updated_at":"2025-11-10T03:30:54Z","pushed_at":"2025-11-08T23:08:51Z","git_url":"git://github.com/forem/forem.git","ssh_url":"git@github.com:forem/forem.git","clone_url":"https://github.com/forem/forem.git","svn_url":"https://github.com/forem/forem","homepage":"https://forem.com","size":1724987,"stargazers_count":22508,"watchers_count":22508,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":4150,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":606,"license":{"key":"agpl-3.0","name":"GNU Affero General Public License v3.0","spdx_id":"AGPL-3.0","url":"https://api.github.com/licenses/agpl-3.0","node_id":"MDc6TGljZW5zZTE="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["community","discussion","feedback","hacktoberfest","open-source","rails","ruby"],"visibility":"public","forks":4150,"open_issues":606,"watchers":22508,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/forem/forem/pulls/15412","html_url":"https://github.com/forem/forem/pull/15412","diff_url":"https://github.com/forem/forem/pull/15412.diff","patch_url":"https://github.com/forem/forem/pull/15412.patch","merged_at":"2021-11-30T17:45:12Z"},"body":"<!--\r\n     For Work In Progress Pull Requests, please use the Draft PR feature,\r\n     see https://github.blog/2019-02-14-introducing-draft-pull-requests/ for further details.\r\n\r\n     For a timely review/response, please avoid force-pushing additional\r\n     commits if your PR already received reviews or comments.\r\n\r\n     Before submitting a Pull Request, please ensure you've done the following:\r\n     - ðŸ“– Read the Forem Contributing Guide: https://github.com/forem/forem/blob/main/CONTRIBUTING.md#create-a-pull-request.\r\n     - ðŸ“– Read the Forem Code of Conduct: https://github.com/forem/forem/blob/main/CODE_OF_CONDUCT.md.\r\n     - ðŸ‘·â€â™€ï¸ Create small PRs. In most cases this will be possible.\r\n     - âœ… Provide tests for your changes.\r\n     - ðŸ“ Use descriptive commit messages.\r\n     - ðŸ“— Update any related documentation and include any relevant screenshots.\r\n\r\n     NOTE: Pull Requests from forked repositories will need to be reviewed by\r\n     a Forem Team member before any CI builds will run. Once your PR is approved\r\n     with a `/ci` reply to the PR, it will be allowed to run subsequent builds without\r\n     manual approval.\r\n-->\r\n\r\n## What type of PR is this? (check all applicable)\r\n\r\n- [x] Refactor\r\n\r\n## Description\r\n\r\nThere's considerable repeated logic between checking spam for an article\r\nand spam for a comment and user.\r\n\r\nThis attempts to send things through channels that are similar and close\r\nin organization.\r\n\r\nOne major consideration is the refactor of logic around a comment's spam.  More on that in the later discussion.\r\n\r\n## Related Tickets & Documents\r\n\r\nBuilds on #15399 and #15396\r\n\r\n## QA Instructions, Screenshots, Recordings\r\n\r\nThis is a refactor of functionality to reduce duplicated behavior.\r\n\r\n### UI accessibility concerns?\r\n\r\nNone.\r\n\r\n## Added/updated tests?\r\n\r\n- [X] Yes\r\n\r\n## [Forem core team only] How will this change be communicated?\r\n\r\n- [X] I've updated the README or added inline documentation\r\n","reactions":{"url":"https://api.github.com/repos/forem/forem/issues/15412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/forem/forem/issues/15412/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]