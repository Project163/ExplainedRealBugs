{"url":"https://api.github.com/repos/shred/commons-suncalc/issues/22","repository_url":"https://api.github.com/repos/shred/commons-suncalc","labels_url":"https://api.github.com/repos/shred/commons-suncalc/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/shred/commons-suncalc/issues/22/comments","events_url":"https://api.github.com/repos/shred/commons-suncalc/issues/22/events","html_url":"https://github.com/shred/commons-suncalc/issues/22","id":640134055,"node_id":"MDU6SXNzdWU2NDAxMzQwNTU=","number":22,"title":"Another northern temperate noon far from azimuth 180","user":{"login":"isomeme","id":35911229,"node_id":"MDQ6VXNlcjM1OTExMjI5","avatar_url":"https://avatars.githubusercontent.com/u/35911229?v=4","gravatar_id":"","url":"https://api.github.com/users/isomeme","html_url":"https://github.com/isomeme","followers_url":"https://api.github.com/users/isomeme/followers","following_url":"https://api.github.com/users/isomeme/following{/other_user}","gists_url":"https://api.github.com/users/isomeme/gists{/gist_id}","starred_url":"https://api.github.com/users/isomeme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isomeme/subscriptions","organizations_url":"https://api.github.com/users/isomeme/orgs","repos_url":"https://api.github.com/users/isomeme/repos","events_url":"https://api.github.com/users/isomeme/events{/privacy}","received_events_url":"https://api.github.com/users/isomeme/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2020-06-17T04:36:38Z","updated_at":"2020-06-27T09:48:45Z","closed_at":"2020-06-19T14:34:51Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Sorry to be the bearer of bad news again, but I just accidentally ran across an alarmingly large azimuth error for a northern temperate zone noon calculation -- it's off by more than 7 degrees from 180! As usual, here's the [test](https://github.com/isomeme/Helios/blob/master/helios/src/test/java/org/onereed/helios/sun/SunCalcTest.java) that demonstrates the problem.\r\n\r\nMy guess is that more problems will occur around the summer solstice at noon and the winter solstice at midnight in the temperate zones, as that's when the sun's azimuth angle rate gets highest. Since your algorithm works modulo one hour, it might be worthwhile to pick an hour on a date near one of those and then iterate through by small time intervals, starting calculations from each of those times and seeing what the noon or midnight errors are.\r\n\r\nI'm going to re-implement the corrector code I had on my side a few weeks ago to stop these noon/nadir azimuth errors from impacting my app. I'd be happy to collaborate on a more thorough testing scheme to catch them earlier; I'd love to throw my corrector away at some point.\r\n","closed_by":{"login":"shred","id":505118,"node_id":"MDQ6VXNlcjUwNTExOA==","avatar_url":"https://avatars.githubusercontent.com/u/505118?v=4","gravatar_id":"","url":"https://api.github.com/users/shred","html_url":"https://github.com/shred","followers_url":"https://api.github.com/users/shred/followers","following_url":"https://api.github.com/users/shred/following{/other_user}","gists_url":"https://api.github.com/users/shred/gists{/gist_id}","starred_url":"https://api.github.com/users/shred/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shred/subscriptions","organizations_url":"https://api.github.com/users/shred/orgs","repos_url":"https://api.github.com/users/shred/repos","events_url":"https://api.github.com/users/shred/events{/privacy}","received_events_url":"https://api.github.com/users/shred/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/shred/commons-suncalc/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shred/commons-suncalc/issues/22/timeline","performed_via_github_app":null,"state_reason":"completed"}