diff --git a/lib/parser.js b/lib/parser.js
index fe5f267..3169031 100644
--- a/lib/parser.js
+++ b/lib/parser.js
@@ -478,6 +478,7 @@ Parser.prototype = {
     var path = join(dir, path)
       , str = fs.readFileSync(path, 'utf8')
      , parser = new Parser(str, path, this.options);
+    parser.blocks = this.blocks;
     parser.mixins = this.mixins;
 
     this.context(parser);
diff --git a/test/cases/inheritance.extend.include.html b/test/cases/inheritance.extend.include.html
index fd1d33d..cf965b4 100644
--- a/test/cases/inheritance.extend.include.html
+++ b/test/cases/inheritance.extend.include.html
@@ -6,8 +6,7 @@
   <body>
     <h2>Page</h2>
     <p>Some content</p>
-    <div class="window">
-      <a href="#" class="close">Close</a>
+    <div class="window"><a href="#" class="close">Close</a>
       <h2>Awesome</h2>
       <p>Now we can extend included blocks!</p>
     </div>
