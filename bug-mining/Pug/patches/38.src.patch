diff --git a/lib/compiler.js b/lib/compiler.js
index 85fdba9..45939f3 100644
--- a/lib/compiler.js
+++ b/lib/compiler.js
@@ -238,7 +238,8 @@ Compiler.prototype = {
     // Buffer code
     if (code.buffer) {
       var val = code.val.trimLeft();
-      val = '(' + val + ') == null ? "" : (' + val + ')';
+      this.buf.push('var __val__ = ' + val);
+      val = 'null == __val__ ? "" : __val__';
       if (code.escape) val = 'escape(' + val + ')';
       this.buf.push("buf.push(" + val + ");");
     } else {
