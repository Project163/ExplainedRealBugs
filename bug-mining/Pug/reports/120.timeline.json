[{"id":42371880,"node_id":"MDExOkNsb3NlZEV2ZW50NDIzNzE4ODA=","url":"https://api.github.com/repos/pugjs/pug/issues/events/42371880","actor":{"login":"acidjazz","id":967369,"node_id":"MDQ6VXNlcjk2NzM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/967369?v=4","gravatar_id":"","url":"https://api.github.com/users/acidjazz","html_url":"https://github.com/acidjazz","followers_url":"https://api.github.com/users/acidjazz/followers","following_url":"https://api.github.com/users/acidjazz/following{/other_user}","gists_url":"https://api.github.com/users/acidjazz/gists{/gist_id}","starred_url":"https://api.github.com/users/acidjazz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acidjazz/subscriptions","organizations_url":"https://api.github.com/users/acidjazz/orgs","repos_url":"https://api.github.com/users/acidjazz/repos","events_url":"https://api.github.com/users/acidjazz/events{/privacy}","received_events_url":"https://api.github.com/users/acidjazz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2013-03-21T00:35:11Z","state_reason":null,"performed_via_github_app":null},{"id":42371885,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0MjM3MTg4NQ==","url":"https://api.github.com/repos/pugjs/pug/issues/events/42371885","actor":{"login":"acidjazz","id":967369,"node_id":"MDQ6VXNlcjk2NzM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/967369?v=4","gravatar_id":"","url":"https://api.github.com/users/acidjazz","html_url":"https://github.com/acidjazz","followers_url":"https://api.github.com/users/acidjazz/followers","following_url":"https://api.github.com/users/acidjazz/following{/other_user}","gists_url":"https://api.github.com/users/acidjazz/gists{/gist_id}","starred_url":"https://api.github.com/users/acidjazz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acidjazz/subscriptions","organizations_url":"https://api.github.com/users/acidjazz/orgs","repos_url":"https://api.github.com/users/acidjazz/repos","events_url":"https://api.github.com/users/acidjazz/events{/privacy}","received_events_url":"https://api.github.com/users/acidjazz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2013-03-21T00:35:15Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18824399","html_url":"https://github.com/pugjs/pug/issues/923#issuecomment-18824399","issue_url":"https://api.github.com/repos/pugjs/pug/issues/923","id":18824399,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODI0Mzk5","user":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T06:48:01Z","updated_at":"2013-06-03T06:48:01Z","body":"I am very new to jade i too have same error. Is there a someone who can help me with this.. please\n\n<pre>==name is not defined\ndoctype 5\nhtml(lang=\"en\")\n  head\n    title pageTitle\n  body\n   p Hello #{name}\n</pre>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18824399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18824993","html_url":"https://github.com/pugjs/pug/issues/923#issuecomment-18824993","issue_url":"https://api.github.com/repos/pugjs/pug/issues/923","id":18824993,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODI0OTkz","user":{"login":"vendethiel","id":199499,"node_id":"MDQ6VXNlcjE5OTQ5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/199499?v=4","gravatar_id":"","url":"https://api.github.com/users/vendethiel","html_url":"https://github.com/vendethiel","followers_url":"https://api.github.com/users/vendethiel/followers","following_url":"https://api.github.com/users/vendethiel/following{/other_user}","gists_url":"https://api.github.com/users/vendethiel/gists{/gist_id}","starred_url":"https://api.github.com/users/vendethiel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vendethiel/subscriptions","organizations_url":"https://api.github.com/users/vendethiel/orgs","repos_url":"https://api.github.com/users/vendethiel/repos","events_url":"https://api.github.com/users/vendethiel/events{/privacy}","received_events_url":"https://api.github.com/users/vendethiel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T07:07:42Z","updated_at":"2013-06-03T07:07:42Z","body":"Look at the docs to learn how to pass locals.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18824993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vendethiel","id":199499,"node_id":"MDQ6VXNlcjE5OTQ5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/199499?v=4","gravatar_id":"","url":"https://api.github.com/users/vendethiel","html_url":"https://github.com/vendethiel","followers_url":"https://api.github.com/users/vendethiel/followers","following_url":"https://api.github.com/users/vendethiel/following{/other_user}","gists_url":"https://api.github.com/users/vendethiel/gists{/gist_id}","starred_url":"https://api.github.com/users/vendethiel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vendethiel/subscriptions","organizations_url":"https://api.github.com/users/vendethiel/orgs","repos_url":"https://api.github.com/users/vendethiel/repos","events_url":"https://api.github.com/users/vendethiel/events{/privacy}","received_events_url":"https://api.github.com/users/vendethiel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18835155","html_url":"https://github.com/pugjs/pug/issues/923#issuecomment-18835155","issue_url":"https://api.github.com/repos/pugjs/pug/issues/923","id":18835155,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODM1MTU1","user":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T11:27:46Z","updated_at":"2013-06-03T11:27:46Z","body":"i have looked at it but couldn't understant how to pass it. Its still show error. can you please demonstrate it.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18835155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18836844","html_url":"https://github.com/pugjs/pug/issues/923#issuecomment-18836844","issue_url":"https://api.github.com/repos/pugjs/pug/issues/923","id":18836844,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODM2ODQ0","user":{"login":"vendethiel","id":199499,"node_id":"MDQ6VXNlcjE5OTQ5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/199499?v=4","gravatar_id":"","url":"https://api.github.com/users/vendethiel","html_url":"https://github.com/vendethiel","followers_url":"https://api.github.com/users/vendethiel/followers","following_url":"https://api.github.com/users/vendethiel/following{/other_user}","gists_url":"https://api.github.com/users/vendethiel/gists{/gist_id}","starred_url":"https://api.github.com/users/vendethiel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vendethiel/subscriptions","organizations_url":"https://api.github.com/users/vendethiel/orgs","repos_url":"https://api.github.com/users/vendethiel/repos","events_url":"https://api.github.com/users/vendethiel/events{/privacy}","received_events_url":"https://api.github.com/users/vendethiel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T12:10:00Z","updated_at":"2013-06-03T12:10:00Z","body":"please ask such questions on the mailing list/stackoverflow/.... And it all depends on how you render the template\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18836844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vendethiel","id":199499,"node_id":"MDQ6VXNlcjE5OTQ5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/199499?v=4","gravatar_id":"","url":"https://api.github.com/users/vendethiel","html_url":"https://github.com/vendethiel","followers_url":"https://api.github.com/users/vendethiel/followers","following_url":"https://api.github.com/users/vendethiel/following{/other_user}","gists_url":"https://api.github.com/users/vendethiel/gists{/gist_id}","starred_url":"https://api.github.com/users/vendethiel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vendethiel/subscriptions","organizations_url":"https://api.github.com/users/vendethiel/orgs","repos_url":"https://api.github.com/users/vendethiel/repos","events_url":"https://api.github.com/users/vendethiel/events{/privacy}","received_events_url":"https://api.github.com/users/vendethiel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18836897","html_url":"https://github.com/pugjs/pug/issues/923#issuecomment-18836897","issue_url":"https://api.github.com/repos/pugjs/pug/issues/923","id":18836897,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODM2ODk3","user":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-03T12:11:16Z","updated_at":"2013-06-03T12:11:16Z","body":"ok thankyou, i got that.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/comments/18836897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Santoshah","id":3863771,"node_id":"MDQ6VXNlcjM4NjM3NzE=","avatar_url":"https://avatars.githubusercontent.com/u/3863771?v=4","gravatar_id":"","url":"https://api.github.com/users/Santoshah","html_url":"https://github.com/Santoshah","followers_url":"https://api.github.com/users/Santoshah/followers","following_url":"https://api.github.com/users/Santoshah/following{/other_user}","gists_url":"https://api.github.com/users/Santoshah/gists{/gist_id}","starred_url":"https://api.github.com/users/Santoshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Santoshah/subscriptions","organizations_url":"https://api.github.com/users/Santoshah/orgs","repos_url":"https://api.github.com/users/Santoshah/repos","events_url":"https://api.github.com/users/Santoshah/events{/privacy}","received_events_url":"https://api.github.com/users/Santoshah/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":86831920,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDg2ODMxOTIw","url":"https://api.github.com/repos/pugjs/pug/issues/events/86831920","actor":{"login":"doublerebel","id":212827,"node_id":"MDQ6VXNlcjIxMjgyNw==","avatar_url":"https://avatars.githubusercontent.com/u/212827?v=4","gravatar_id":"","url":"https://api.github.com/users/doublerebel","html_url":"https://github.com/doublerebel","followers_url":"https://api.github.com/users/doublerebel/followers","following_url":"https://api.github.com/users/doublerebel/following{/other_user}","gists_url":"https://api.github.com/users/doublerebel/gists{/gist_id}","starred_url":"https://api.github.com/users/doublerebel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doublerebel/subscriptions","organizations_url":"https://api.github.com/users/doublerebel/orgs","repos_url":"https://api.github.com/users/doublerebel/repos","events_url":"https://api.github.com/users/doublerebel/events{/privacy}","received_events_url":"https://api.github.com/users/doublerebel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"adb822b728aa12b73150cf55ccbe6e709e5f50a9","commit_url":"https://api.github.com/repos/doublerebel/jade/commits/adb822b728aa12b73150cf55ccbe6e709e5f50a9","created_at":"2014-01-17T02:14:54Z","performed_via_github_app":null},{"actor":{"login":"doublerebel","id":212827,"node_id":"MDQ6VXNlcjIxMjgyNw==","avatar_url":"https://avatars.githubusercontent.com/u/212827?v=4","gravatar_id":"","url":"https://api.github.com/users/doublerebel","html_url":"https://github.com/doublerebel","followers_url":"https://api.github.com/users/doublerebel/followers","following_url":"https://api.github.com/users/doublerebel/following{/other_user}","gists_url":"https://api.github.com/users/doublerebel/gists{/gist_id}","starred_url":"https://api.github.com/users/doublerebel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doublerebel/subscriptions","organizations_url":"https://api.github.com/users/doublerebel/orgs","repos_url":"https://api.github.com/users/doublerebel/repos","events_url":"https://api.github.com/users/doublerebel/events{/privacy}","received_events_url":"https://api.github.com/users/doublerebel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-01-17T02:24:49Z","updated_at":"2014-01-17T02:24:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pugjs/pug/issues/1387","repository_url":"https://api.github.com/repos/pugjs/pug","labels_url":"https://api.github.com/repos/pugjs/pug/issues/1387/labels{/name}","comments_url":"https://api.github.com/repos/pugjs/pug/issues/1387/comments","events_url":"https://api.github.com/repos/pugjs/pug/issues/1387/events","html_url":"https://github.com/pugjs/pug/pull/1387","id":25783354,"node_id":"MDExOlB1bGxSZXF1ZXN0MTE2MDY4MzE=","number":1387,"title":"Bugfix, tests for filename of template errors during compile. Fixes #923","user":{"login":"doublerebel","id":212827,"node_id":"MDQ6VXNlcjIxMjgyNw==","avatar_url":"https://avatars.githubusercontent.com/u/212827?v=4","gravatar_id":"","url":"https://api.github.com/users/doublerebel","html_url":"https://github.com/doublerebel","followers_url":"https://api.github.com/users/doublerebel/followers","following_url":"https://api.github.com/users/doublerebel/following{/other_user}","gists_url":"https://api.github.com/users/doublerebel/gists{/gist_id}","starred_url":"https://api.github.com/users/doublerebel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doublerebel/subscriptions","organizations_url":"https://api.github.com/users/doublerebel/orgs","repos_url":"https://api.github.com/users/doublerebel/repos","events_url":"https://api.github.com/users/doublerebel/events{/privacy}","received_events_url":"https://api.github.com/users/doublerebel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-01-17T02:24:49Z","updated_at":"2014-06-26T02:24:44Z","closed_at":"2014-01-18T18:26:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":734934,"node_id":"MDEwOlJlcG9zaXRvcnk3MzQ5MzQ=","name":"pug","full_name":"pugjs/pug","private":false,"owner":{"login":"pugjs","id":9338635,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkzMzg2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/9338635?v=4","gravatar_id":"","url":"https://api.github.com/users/pugjs","html_url":"https://github.com/pugjs","followers_url":"https://api.github.com/users/pugjs/followers","following_url":"https://api.github.com/users/pugjs/following{/other_user}","gists_url":"https://api.github.com/users/pugjs/gists{/gist_id}","starred_url":"https://api.github.com/users/pugjs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugjs/subscriptions","organizations_url":"https://api.github.com/users/pugjs/orgs","repos_url":"https://api.github.com/users/pugjs/repos","events_url":"https://api.github.com/users/pugjs/events{/privacy}","received_events_url":"https://api.github.com/users/pugjs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pugjs/pug","description":"Pug â€“ robust, elegant, feature rich template engine for Node.js","fork":false,"url":"https://api.github.com/repos/pugjs/pug","forks_url":"https://api.github.com/repos/pugjs/pug/forks","keys_url":"https://api.github.com/repos/pugjs/pug/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pugjs/pug/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pugjs/pug/teams","hooks_url":"https://api.github.com/repos/pugjs/pug/hooks","issue_events_url":"https://api.github.com/repos/pugjs/pug/issues/events{/number}","events_url":"https://api.github.com/repos/pugjs/pug/events","assignees_url":"https://api.github.com/repos/pugjs/pug/assignees{/user}","branches_url":"https://api.github.com/repos/pugjs/pug/branches{/branch}","tags_url":"https://api.github.com/repos/pugjs/pug/tags","blobs_url":"https://api.github.com/repos/pugjs/pug/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pugjs/pug/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pugjs/pug/git/refs{/sha}","trees_url":"https://api.github.com/repos/pugjs/pug/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pugjs/pug/statuses/{sha}","languages_url":"https://api.github.com/repos/pugjs/pug/languages","stargazers_url":"https://api.github.com/repos/pugjs/pug/stargazers","contributors_url":"https://api.github.com/repos/pugjs/pug/contributors","subscribers_url":"https://api.github.com/repos/pugjs/pug/subscribers","subscription_url":"https://api.github.com/repos/pugjs/pug/subscription","commits_url":"https://api.github.com/repos/pugjs/pug/commits{/sha}","git_commits_url":"https://api.github.com/repos/pugjs/pug/git/commits{/sha}","comments_url":"https://api.github.com/repos/pugjs/pug/comments{/number}","issue_comment_url":"https://api.github.com/repos/pugjs/pug/issues/comments{/number}","contents_url":"https://api.github.com/repos/pugjs/pug/contents/{+path}","compare_url":"https://api.github.com/repos/pugjs/pug/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pugjs/pug/merges","archive_url":"https://api.github.com/repos/pugjs/pug/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pugjs/pug/downloads","issues_url":"https://api.github.com/repos/pugjs/pug/issues{/number}","pulls_url":"https://api.github.com/repos/pugjs/pug/pulls{/number}","milestones_url":"https://api.github.com/repos/pugjs/pug/milestones{/number}","notifications_url":"https://api.github.com/repos/pugjs/pug/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pugjs/pug/labels{/name}","releases_url":"https://api.github.com/repos/pugjs/pug/releases{/id}","deployments_url":"https://api.github.com/repos/pugjs/pug/deployments","created_at":"2010-06-23T01:05:42Z","updated_at":"2025-11-08T12:09:13Z","pushed_at":"2024-07-10T14:49:45Z","git_url":"git://github.com/pugjs/pug.git","ssh_url":"git@github.com:pugjs/pug.git","clone_url":"https://github.com/pugjs/pug.git","svn_url":"https://github.com/pugjs/pug","homepage":"https://pugjs.org","size":14865,"stargazers_count":21837,"watchers_count":21837,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":1948,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":327,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1948,"open_issues":327,"watchers":21837,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pugjs/pug/pulls/1387","html_url":"https://github.com/pugjs/pug/pull/1387","diff_url":"https://github.com/pugjs/pug/pull/1387.diff","patch_url":"https://github.com/pugjs/pug/pull/1387.patch","merged_at":"2014-01-18T18:26:41Z"},"body":"### Summary\n\nAs described in #923, error reports are incorrect when reporting an undefined variable.\n\nExtending/including a .jade template that does not declare a `block` will cause runtime errors to be incorrectly attributed to the parent file, but with the correct line number from the file with the error.\n\ni.e. the incorrect report:\n\n```\ntest/fixtures/compile.with.layout.locals.error.jade:2\n    1| extends layout.locals.error.jade\n  > 2|\n\nundefined is not a function\n```\n\ninstead of the correct report:\n\n```\ntest/fixtures/layout.locals.error.jade:2\n    1|\n  > 2| = foo()\n\nundefined is not a function\n```\n### Cause\n\nThe problem is centered around [lib/parser.js:132](https://github.com/visionmedia/jade/blob/master/lib/parser.js#L132):\n\n``` js\nexpr.filename = this.options.filename;\n```\n\nWhen a `block` is not declared, `expr` is parsed as `Code` instead of `Block`, and `Code` does not have a filename attribute.  On further inspection, the filename is incorrectly set for all `Nodes` that do not set their own .filename, i.e. `Tag`.\n\nThe effect of the error can be seen [in this parsing dump from Jade](https://gist.github.com/doublerebel/8466992#file-bad-jade-parsing-js-L15), where both the header and footer have filename set to blog/index.jade.  This also has the side effect of multiple lines attributed to the same line number.  Both these issues make debugging Jade templates quite difficult.\n\nThe code in parser.js causing the issue is from visionmedia/jade@763f96cf .  In the same commit, the filename for blocks is defined similarly:\n\n``` js\nexpr.filename = this.filename;\n```\n### Solution\n\n`options.filename` does not change from the original parent template file.  However, `this.filename` is always correctly set to the (sub)file being parsed.  Therefore, we can change [lib/parser.js:132](https://github.com/visionmedia/jade/blob/master/lib/parser.js#L132):\n\n``` js\nexpr.filename = expr.filename || this.filename;\n```\n\nAll tests pass, and the [parser dump now looks correct](https://gist.github.com/doublerebel/8466992#file-goodjadeparsing-js-L15).  `options.filename` is used in very few places, I cannot find a use case that requires `expr.filename` to be set to `options.filename` in the old manner.\n\nThe current tests only test for Syntax and Type Errors, which are thrown elsewhere and not subject to this bug.  This behavior of extends and blocks is not documented and is unexpected.  The test suite does test for extends/includes without block declarations, but only with one type of error (SyntaxError).\n\nI have included additional tests, to cover these example cases.  Additionally, my blog now renders correctly in production.  Comparing many variables deep inside the parser can be very time-consuming, I will gladly add the expected behavior for block/extends into the docs if this PR is correct/accepted.\n\nThanks!!\n","reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/1387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pugjs/pug/issues/1387/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":87116589,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDg3MTE2NTg5","url":"https://api.github.com/repos/pugjs/pug/issues/events/87116589","actor":{"login":"doublerebel","id":212827,"node_id":"MDQ6VXNlcjIxMjgyNw==","avatar_url":"https://avatars.githubusercontent.com/u/212827?v=4","gravatar_id":"","url":"https://api.github.com/users/doublerebel","html_url":"https://github.com/doublerebel","followers_url":"https://api.github.com/users/doublerebel/followers","following_url":"https://api.github.com/users/doublerebel/following{/other_user}","gists_url":"https://api.github.com/users/doublerebel/gists{/gist_id}","starred_url":"https://api.github.com/users/doublerebel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doublerebel/subscriptions","organizations_url":"https://api.github.com/users/doublerebel/orgs","repos_url":"https://api.github.com/users/doublerebel/repos","events_url":"https://api.github.com/users/doublerebel/events{/privacy}","received_events_url":"https://api.github.com/users/doublerebel/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d0a140314a77fa2a096eca66630cd12e08e96c16","commit_url":"https://api.github.com/repos/doublerebel/jade/commits/d0a140314a77fa2a096eca66630cd12e08e96c16","created_at":"2014-01-18T18:21:31Z","performed_via_github_app":null},{"id":87116810,"node_id":"MDExOkNsb3NlZEV2ZW50ODcxMTY4MTA=","url":"https://api.github.com/repos/pugjs/pug/issues/events/87116810","actor":{"login":"ForbesLindesay","id":1260646,"node_id":"MDQ6VXNlcjEyNjA2NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1260646?v=4","gravatar_id":"","url":"https://api.github.com/users/ForbesLindesay","html_url":"https://github.com/ForbesLindesay","followers_url":"https://api.github.com/users/ForbesLindesay/followers","following_url":"https://api.github.com/users/ForbesLindesay/following{/other_user}","gists_url":"https://api.github.com/users/ForbesLindesay/gists{/gist_id}","starred_url":"https://api.github.com/users/ForbesLindesay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ForbesLindesay/subscriptions","organizations_url":"https://api.github.com/users/ForbesLindesay/orgs","repos_url":"https://api.github.com/users/ForbesLindesay/repos","events_url":"https://api.github.com/users/ForbesLindesay/events{/privacy}","received_events_url":"https://api.github.com/users/ForbesLindesay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d0a140314a77fa2a096eca66630cd12e08e96c16","commit_url":"https://api.github.com/repos/pugjs/pug/commits/d0a140314a77fa2a096eca66630cd12e08e96c16","created_at":"2014-01-18T18:26:43Z","state_reason":null,"performed_via_github_app":null},{"id":87116811,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDg3MTE2ODEx","url":"https://api.github.com/repos/pugjs/pug/issues/events/87116811","actor":{"login":"ForbesLindesay","id":1260646,"node_id":"MDQ6VXNlcjEyNjA2NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1260646?v=4","gravatar_id":"","url":"https://api.github.com/users/ForbesLindesay","html_url":"https://github.com/ForbesLindesay","followers_url":"https://api.github.com/users/ForbesLindesay/followers","following_url":"https://api.github.com/users/ForbesLindesay/following{/other_user}","gists_url":"https://api.github.com/users/ForbesLindesay/gists{/gist_id}","starred_url":"https://api.github.com/users/ForbesLindesay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ForbesLindesay/subscriptions","organizations_url":"https://api.github.com/users/ForbesLindesay/orgs","repos_url":"https://api.github.com/users/ForbesLindesay/repos","events_url":"https://api.github.com/users/ForbesLindesay/events{/privacy}","received_events_url":"https://api.github.com/users/ForbesLindesay/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"68a5427d4ea359b2e70fb0b359eadb6287fa0449","commit_url":"https://api.github.com/repos/pugjs/pug/commits/68a5427d4ea359b2e70fb0b359eadb6287fa0449","created_at":"2014-01-18T18:26:43Z","performed_via_github_app":null}]