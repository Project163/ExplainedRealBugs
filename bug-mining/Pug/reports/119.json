{"url":"https://api.github.com/repos/pugjs/pug/issues/1358","repository_url":"https://api.github.com/repos/pugjs/pug","labels_url":"https://api.github.com/repos/pugjs/pug/issues/1358/labels{/name}","comments_url":"https://api.github.com/repos/pugjs/pug/issues/1358/comments","events_url":"https://api.github.com/repos/pugjs/pug/issues/1358/events","html_url":"https://github.com/pugjs/pug/issues/1358","id":24875993,"node_id":"MDU6SXNzdWUyNDg3NTk5Mw==","number":1358,"title":"'Title' attribute not working as expected when used with attributes","user":{"login":"gildorwang","id":1061388,"node_id":"MDQ6VXNlcjEwNjEzODg=","avatar_url":"https://avatars.githubusercontent.com/u/1061388?v=4","gravatar_id":"","url":"https://api.github.com/users/gildorwang","html_url":"https://github.com/gildorwang","followers_url":"https://api.github.com/users/gildorwang/followers","following_url":"https://api.github.com/users/gildorwang/following{/other_user}","gists_url":"https://api.github.com/users/gildorwang/gists{/gist_id}","starred_url":"https://api.github.com/users/gildorwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gildorwang/subscriptions","organizations_url":"https://api.github.com/users/gildorwang/orgs","repos_url":"https://api.github.com/users/gildorwang/repos","events_url":"https://api.github.com/users/gildorwang/events{/privacy}","received_events_url":"https://api.github.com/users/gildorwang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-12-30T07:31:44Z","updated_at":"2013-12-31T03:35:55Z","closed_at":"2013-12-31T03:35:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The following jade in 1.0.1\n\n``` Jade\nmixin contextButton(title)\n  button.btn(type='button', title='#{title}')&attributes(attributes)\n    block\n\n+contextButton('Toggle all').toggle-all\n  span Content\n```\n\noutputs:\n\n``` HTML\n<button type=\"button\" title=\"'' + (title) + ''\" class=\"btn toggle-all\"><span>Content</span>\n</button>\n```\n\nwhere `title` becomes literal text instead of a variable being evaluated.\n\nThe compiled template is:\n\n``` Javascript\nfunction template(locals) {\n    var buf = [];\n    var jade_mixins = {};\n    jade_mixins[\"contextButton\"] = function(title) {\n        var block = this && this.block, attributes = this && this.attributes || {};\n        buf.push(\"<button\" + jade.attrs(jade.merge([ {\n            type: \"button\",\n            title: jade.escape(\"'' + (title) + ''\"),\n            \"class\": \"btn\"\n        }, attributes ]), false) + \">\");\n        block && block();\n        buf.push(\"</button>\");\n    };\n    jade_mixins[\"contextButton\"].call({\n        block: function() {\n            buf.push(\"<span>Content</span>\");\n        },\n        attributes: {\n            \"class\": \"toggle-all\"\n        }\n    }, \"Toggle all\");\n    return buf.join(\"\");\n}\n```\n\nHowever when used without `attributes` it's correct (or with attributes in 0.35.0):\n\n``` Jade\nmixin contextButton(title)\n  button.btn(type='button', title='#{title}')\n    block\n\n+contextButton('Toggle all').toggle-all\n  span Content\n```\n\noutputs:\n\n``` HTML\n<button type=\"button\" title=\"Toggle all\" class=\"btn\"><span>Content</span>\n</button>\n```\n","closed_by":{"login":"ForbesLindesay","id":1260646,"node_id":"MDQ6VXNlcjEyNjA2NDY=","avatar_url":"https://avatars.githubusercontent.com/u/1260646?v=4","gravatar_id":"","url":"https://api.github.com/users/ForbesLindesay","html_url":"https://github.com/ForbesLindesay","followers_url":"https://api.github.com/users/ForbesLindesay/followers","following_url":"https://api.github.com/users/ForbesLindesay/following{/other_user}","gists_url":"https://api.github.com/users/ForbesLindesay/gists{/gist_id}","starred_url":"https://api.github.com/users/ForbesLindesay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ForbesLindesay/subscriptions","organizations_url":"https://api.github.com/users/ForbesLindesay/orgs","repos_url":"https://api.github.com/users/ForbesLindesay/repos","events_url":"https://api.github.com/users/ForbesLindesay/events{/privacy}","received_events_url":"https://api.github.com/users/ForbesLindesay/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/1358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pugjs/pug/issues/1358/timeline","performed_via_github_app":null,"state_reason":"completed"}