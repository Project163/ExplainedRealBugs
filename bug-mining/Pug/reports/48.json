{"url":"https://api.github.com/repos/pugjs/pug/issues/223","repository_url":"https://api.github.com/repos/pugjs/pug","labels_url":"https://api.github.com/repos/pugjs/pug/issues/223/labels{/name}","comments_url":"https://api.github.com/repos/pugjs/pug/issues/223/comments","events_url":"https://api.github.com/repos/pugjs/pug/issues/223/events","html_url":"https://github.com/pugjs/pug/issues/223","id":922219,"node_id":"MDU6SXNzdWU5MjIyMTk=","number":223,"title":"Jade does not allow setting attributes with empty values","user":{"login":"corbanbrook","id":62406,"node_id":"MDQ6VXNlcjYyNDA2","avatar_url":"https://avatars.githubusercontent.com/u/62406?v=4","gravatar_id":"","url":"https://api.github.com/users/corbanbrook","html_url":"https://github.com/corbanbrook","followers_url":"https://api.github.com/users/corbanbrook/followers","following_url":"https://api.github.com/users/corbanbrook/following{/other_user}","gists_url":"https://api.github.com/users/corbanbrook/gists{/gist_id}","starred_url":"https://api.github.com/users/corbanbrook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/corbanbrook/subscriptions","organizations_url":"https://api.github.com/users/corbanbrook/orgs","repos_url":"https://api.github.com/users/corbanbrook/repos","events_url":"https://api.github.com/users/corbanbrook/events{/privacy}","received_events_url":"https://api.github.com/users/corbanbrook/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2011-05-18T15:10:10Z","updated_at":"2013-05-07T01:22:01Z","closed_at":"2011-06-21T18:54:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I understand the intent of this \"feature\" is to remove attributes from the html when the value specified is undefined, null, or empty but we run into problems when we actually want to set a field to an empty value. The issue arises in the case when we want to set a select option to an empty string.\n\nselect(name: \"colors\")\n  option(value: \"\") Choose a color\n  option(value: \"red\") Red\n  option(value: \"green\") Green\n  option(value: \"blue\") Blue\n\nThis will output \n\n..\n  <option>Choose a color</option>\n..\n\nand checking the .val() of this option with jquery will yield \"Choose a color\" instead of \"\"\n\nNow this may not seem like that big of a deal, and it really isn't but a few javascript form validation libs like to check for empty strings for fields marked \"required\" and because we can't pass an empty value for the \"Choose a color\" option, it will pass validation when it shouldn't.\n","closed_by":{"login":"tj","id":25254,"node_id":"MDQ6VXNlcjI1MjU0","avatar_url":"https://avatars.githubusercontent.com/u/25254?v=4","gravatar_id":"","url":"https://api.github.com/users/tj","html_url":"https://github.com/tj","followers_url":"https://api.github.com/users/tj/followers","following_url":"https://api.github.com/users/tj/following{/other_user}","gists_url":"https://api.github.com/users/tj/gists{/gist_id}","starred_url":"https://api.github.com/users/tj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tj/subscriptions","organizations_url":"https://api.github.com/users/tj/orgs","repos_url":"https://api.github.com/users/tj/repos","events_url":"https://api.github.com/users/tj/events{/privacy}","received_events_url":"https://api.github.com/users/tj/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pugjs/pug/issues/223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pugjs/pug/issues/223/timeline","performed_via_github_app":null,"state_reason":"completed"}