{"url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38","repository_url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook","labels_url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38/comments","events_url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38/events","html_url":"https://github.com/mohamicorp/stash-jenkins-postreceive-webhook/issues/38","id":23867380,"node_id":"MDU6SXNzdWUyMzg2NzM4MA==","number":38,"title":"Trigger build on new push to pull requests","user":{"login":"mikesir87","id":746837,"node_id":"MDQ6VXNlcjc0NjgzNw==","avatar_url":"https://avatars.githubusercontent.com/u/746837?v=4","gravatar_id":"","url":"https://api.github.com/users/mikesir87","html_url":"https://github.com/mikesir87","followers_url":"https://api.github.com/users/mikesir87/followers","following_url":"https://api.github.com/users/mikesir87/following{/other_user}","gists_url":"https://api.github.com/users/mikesir87/gists{/gist_id}","starred_url":"https://api.github.com/users/mikesir87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikesir87/subscriptions","organizations_url":"https://api.github.com/users/mikesir87/orgs","repos_url":"https://api.github.com/users/mikesir87/repos","events_url":"https://api.github.com/users/mikesir87/events{/privacy}","received_events_url":"https://api.github.com/users/mikesir87/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":32,"created_at":"2013-12-06T16:12:14Z","updated_at":"2020-08-19T17:48:33Z","closed_at":"2014-01-03T15:35:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"(copying comments from blog)\n\n-- Comment from 12/4 11:10\n\nWe tried to use your plugin with Stash Pull Requests, but encountered a problem, I know that it is on Stash side, but want to ask if you have some workaround in mind:\n\nWhat we want to accomplish is:\n1. Open Pull Request in Stash for specific\n2. After Pull Request is openned trigger \"Pull Request Build Job\" in Jenkins\n   (we are using Git Plugin in Jenkins and specifying refspec\n   parameters: \"+refs/pull-requests/_:refs/remotes/origin/pull-requests/_\"\n   and building the \"origin/pull-requests/*/from\" branch) \n   Jenkins WebHook plugin is setup to trigger job by commit to Stash Repo\n3. Initiate Review process with changes discussion\n4. Do commit changes and update pull-request with new commits due to discussion \n   (Here we get trouble, cause your plugin is sending trigger after commit, but poll scm from Jenkins can't find nothing, cause stash updates the reference - \"refs/pull-requests/*/from\" only if it was Approved in Pull Request)\n5. We want to Trigger Jenkins build for new commits in the \"Pull Request Build Job\"\n6. Review again, approve, merge\n\nBut to update reference and have additional commits in the same Pull we need to Approve and Unapprove each time after commit, which is makes no sense\n\nDo you have any workaround or any ideas how to adopt this to Pull Requests process?\n\n------ Comment on 12/4 11:57\n\nI got a fast reply from Atlassian Developer according to this. \nMichael could be interesting for you as a feature, since he also submitted some code snippet how to solve this - https://answers.atlassian.com/questions/239988/change-pull-request-refs-after-commit-instead-of-after-approval-or-workaround\n","closed_by":{"login":"mikesir87","id":746837,"node_id":"MDQ6VXNlcjc0NjgzNw==","avatar_url":"https://avatars.githubusercontent.com/u/746837?v=4","gravatar_id":"","url":"https://api.github.com/users/mikesir87","html_url":"https://github.com/mikesir87","followers_url":"https://api.github.com/users/mikesir87/followers","following_url":"https://api.github.com/users/mikesir87/following{/other_user}","gists_url":"https://api.github.com/users/mikesir87/gists{/gist_id}","starred_url":"https://api.github.com/users/mikesir87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikesir87/subscriptions","organizations_url":"https://api.github.com/users/mikesir87/orgs","repos_url":"https://api.github.com/users/mikesir87/repos","events_url":"https://api.github.com/users/mikesir87/events{/privacy}","received_events_url":"https://api.github.com/users/mikesir87/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mohamicorp/stash-jenkins-postreceive-webhook/issues/38/timeline","performed_via_github_app":null,"state_reason":"completed"}