<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MDEPLOY-59] deploy:deploy-file deletes the original file on error</title>
                <link>https://issues.apache.org/jira/browse/MDEPLOY-59</link>
                <project id="12317228" key="MDEPLOY">Maven Deploy Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;While trying to test deploy:deploy-file the local copy of the pom gets deleted and an error message (can not find the pom that it just deleted is error logged.)&lt;/p&gt;

&lt;p&gt;Setup: Maven2 jaxb-1 plugin is in my local repository. I have a test repository on my local machine as well / also. &lt;/p&gt;

&lt;p&gt;In order to test the command needed for our administrator to deploy the file into our repository I test with the following command:&lt;/p&gt;

&lt;p&gt;C:\Work\Maven\maven-mmfg-loadthirdparty-plugin&amp;gt;mvn deploy:deploy-file -Dfile=C:/DOCUME~1/CP65214/.m2/repository/org/jvnet/&lt;br/&gt;
jaxb1/maven2/maven-jaxb1-plugin/1.0-rc10\maven-jaxb1-plugin-1.0-rc10.jar -Durl=&lt;a href=&quot;file://C:/Work/Maven/maven-mmfg-loadthirdpa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://C:/Work/Maven/maven-mmfg-loadthirdpa&lt;/a&gt;&lt;br/&gt;
rty-plugin/src/it/maven-mmfg-loadthirdparty-test/target\thirdparty/repo -DpomFile=C:\DOCUME~1\CP65214\.m2\repository\org\j&lt;br/&gt;
vnet\jaxb1\maven2\maven-jaxb1-plugin\1.0-rc10\maven-jaxb1-plugin-1.0-rc10.pom&lt;/p&gt;

&lt;p&gt;The result of the command is:&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; snapshot com.mm.infrastructure.build.plugins:maven-mmfg-plugins:1.0-SNAPSHOT: checking for updates from mmfg-thirdp&lt;br/&gt;
arty-snapshot&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Searching repository for plugin with prefix: &apos;deploy&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; com.mm.infrastructure: checking for updates from mmfg-thirdparty-plugin-release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.maven.plugins: checking for updates from mmfg-thirdparty-plugin-release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.codehaus.mojo: checking for updates from mmfg-thirdparty-plugin-release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; artifact org.apache.maven.plugins:maven-deploy-plugin: checking for updates from mmfg-thirdparty-plugin-release&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Unnamed - com.mm.infrastructure.build.plugins:maven-mmfg-loadthirdparty-plugin:maven-plugin:1.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;deploy:deploy-file&amp;#93;&lt;/span&gt; (aggregator-style)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;deploy:deploy-file&amp;#93;&lt;/span&gt;&lt;br/&gt;
Uploading: &lt;a href=&quot;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty-test/targetthirdparty/r&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty-test/target\thirdparty/r&lt;/a&gt;&lt;br/&gt;
epo/org/jvnet/jaxb1/maven2/maven-jaxb1-plugin/1.0-rc10/maven-jaxb1-plugin-1.0-rc10.jar&lt;br/&gt;
0b uploaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from remote-repository&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD ERROR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Error installing artifact&apos;s metadata: Error installing metadata: Error copying POM to the local repository.&lt;/p&gt;

&lt;p&gt;File C:\DOCUME~1\CP65214\.m2\repository\org\jvnet\jaxb1\maven2\maven-jaxb1-plugin\1.0-rc10\maven-jaxb1-plugin-1.0-rc10.pom&lt;br/&gt;
 does not exist&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; For more information, run Maven with the -e switch&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Thu Aug 02 17:11:55 EDT 2007&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 3M/11M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;


&lt;p&gt;So as I am entering this issue I decide to replay everything and my plugin must have the willies... b/c this time around it doesn&apos;t delete the pom file... It turns both the pom and the jar into 0 byte files:&lt;/p&gt;

&lt;p&gt;Steps for this one: &lt;br/&gt;
1) I delete the jaxb plugin from the my repository08/02/2007  05:40 PM    &lt;br/&gt;
2) I run verify on my jaxb project so that it grabs it from java.net&apos;s repository... and the jar is about 22K and the pom is about 9K&lt;/p&gt;

&lt;p&gt;08/02/2007  05:40 PM    &amp;lt;DIR&amp;gt;          ..&lt;br/&gt;
08/02/2007  05:39 PM            22,124 maven-jaxb1-plugin-1.0-rc10.jar&lt;br/&gt;
08/02/2007  05:39 PM                40 maven-jaxb1-plugin-1.0-rc10.jar.sha1&lt;br/&gt;
08/02/2007  05:39 PM             9,156 maven-jaxb1-plugin-1.0-rc10.pom&lt;br/&gt;
08/02/2007  05:39 PM                40 maven-jaxb1-plugin-1.0-rc10.pom.sha1&lt;/p&gt;

&lt;p&gt;3) Run the command againX:\&amp;gt;mvn deploy:deploy-file -Dfile=C:/DOCUME~1/CP65214/.m2/repository/org/jvnet/jaxb1/maven2/maven-jaxb1-plugin/1.0-rc10\ma&lt;br/&gt;
ven-jaxb1-plugin-1.0-rc10.jar -Durl=&lt;a href=&quot;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty&lt;/a&gt;&lt;br/&gt;
-test/target\thirdparty/repo -DpomFile=C:\DOCUME~1\CP65214\.m2\repository\org\jvnet\jaxb1\maven2\maven-jaxb1-plugin\1.0-rc&lt;br/&gt;
10\maven-jaxb1-plugin-1.0-rc10.pom&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Searching repository for plugin with prefix: &apos;deploy&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Maven Default Project&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;deploy:deploy-file&amp;#93;&lt;/span&gt; (aggregator-style)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ----------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;deploy:deploy-file&amp;#93;&lt;/span&gt;&lt;br/&gt;
Uploading: &lt;a href=&quot;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty-test/targetthirdparty/r&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file://C:/Work/Maven/maven-mmfg-loadthirdparty-plugin/src/it/maven-mmfg-loadthirdparty-test/target\thirdparty/r&lt;/a&gt;&lt;br/&gt;
epo/org/jvnet/jaxb1/maven2/maven-jaxb1-plugin/1.0-rc10/maven-jaxb1-plugin-1.0-rc10.jar&lt;br/&gt;
0b uploaded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from remote-repository&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;16d6d5705fc3d6664c0c1c522e233152aaf92f70&apos;; remote =&lt;br/&gt;
&apos;da39a3ee5e6b4b0d3255bfef95601890afd80709&apos; - RETRYING&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; *** CHECKSUM FAILED - Checksum failed on download: local = &apos;16d6d5705fc3d6664c0c1c522e233152aaf92f70&apos;; remote =&lt;br/&gt;
&apos;da39a3ee5e6b4b0d3255bfef95601890afd80709&apos; - IGNORING&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading project information for maven-jaxb1-plugin 1.0-rc10&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from remote-repository&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository metadata for: &apos;artifact org.jvnet.jaxb1.maven2:maven-jaxb1-plugin&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESSFUL&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Thu Aug 02 17:42:34 EDT 2007&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 3M/10M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------X:\&amp;gt;dir &quot;C:\Documents and Settings\CP65214\.m2\repository\org\jvnet\jaxb1\maven2\maven-jaxb1-plugin\1&lt;br/&gt;
 Volume in drive C has no label.&lt;br/&gt;
 Volume Serial Number is 1004-2687&lt;/p&gt;

&lt;p&gt; Directory of C:\Documents and Settings\CP65214\.m2\repository\org\jvnet\jaxb1\maven2\maven-jaxb1-plu&lt;/p&gt;

&lt;p&gt;08/02/2007  05:42 PM    &amp;lt;DIR&amp;gt;          .&lt;br/&gt;
08/02/2007  05:42 PM    &amp;lt;DIR&amp;gt;          ..&lt;br/&gt;
08/02/2007  05:42 PM                 0 maven-jaxb1-plugin-1.0-rc10.jar&lt;br/&gt;
08/02/2007  05:39 PM                40 maven-jaxb1-plugin-1.0-rc10.jar.sha1&lt;br/&gt;
08/02/2007  05:42 PM                 0 maven-jaxb1-plugin-1.0-rc10.pom&lt;br/&gt;
08/02/2007  05:39 PM                40 maven-jaxb1-plugin-1.0-rc10.pom.sha1&lt;br/&gt;
               4 File(s)             80 bytes&lt;br/&gt;
               2 Dir(s)  39,859,453,952 bytes free---------------&lt;/p&gt;

&lt;p&gt;They&apos;re 0 btyes now?&lt;/p&gt;

&lt;p&gt;Maybe this is one of those &quot;Doctor it hurts when I do this..&quot;,  &quot;Well don&apos;t to that!!!&quot; issues, but I thought it was worth reporting.&lt;/p&gt;

&lt;p&gt;Oh but wait...&lt;/p&gt;



</description>
                <environment>Windows XP </environment>
        <key id="12801097">MDEPLOY-59</key>
            <summary>deploy:deploy-file deletes the original file on error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bentmann">Benjamin Bentmann</assignee>
                                    <reporter username="treilly">Timothy Reilly</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Aug 2007 16:48:16 +0000</created>
                <updated>Thu, 12 Jun 2025 11:10:45 +0000</updated>
                            <resolved>Sun, 15 Mar 2009 17:24:42 +0000</resolved>
                                    <version>2.3</version>
                                    <fixVersion>2.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14430513" author="bentmann" created="Sun, 15 Mar 2009 17:24:42 +0000"  >&lt;p&gt;Handled in &lt;a href=&quot;http://svn.eu.apache.org/viewvc?view=rev&amp;amp;revision=754777&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r754777&lt;/a&gt;. One is not supposed to specify files from the local repository as input. The plugin will now abort the deployment with a corresponding error message.&lt;/p&gt;</comment>
                            <comment id="17965591" author="olamy" created="Thu, 12 Jun 2025 11:10:45 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-deploy-plugin/issues/225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-deploy-plugin#225&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29y3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>