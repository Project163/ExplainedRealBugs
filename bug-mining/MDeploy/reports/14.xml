<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MDEPLOY-112] deployed snapshot name has different build numbers for multiple artifacts of the same build</title>
                <link>https://issues.apache.org/jira/browse/MDEPLOY-112</link>
                <project id="12317228" key="MDEPLOY">Maven Deploy Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I have a module that deploys 2 artifacts,1 jar and 1 of them is custom type. The build number from the snapshot name is different for the 2 (in the repository). It get incremented every time an artifact is deployed. When I try to make a local build it searches for the highest build number, and tries to bring both the artifacts with the latest build number but only one of them has that number. &lt;br/&gt;
I found a workaround for this by  &amp;lt;uniqueVersion&amp;gt;false&amp;lt;/uniqueVersion&amp;gt; for the snapshotRepository. &lt;/p&gt;</description>
                <environment>windows xp</environment>
        <key id="12801112">MDEPLOY-112</key>
            <summary>deployed snapshot name has different build numbers for multiple artifacts of the same build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bentmann">Benjamin Bentmann</assignee>
                                    <reporter username="gdogaru">Gabriel Dogaru</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Sep 2009 11:19:22 +0000</created>
                <updated>Thu, 12 Jun 2025 11:10:41 +0000</updated>
                            <resolved>Sun, 11 Jul 2010 14:01:07 +0000</resolved>
                                    <version>2.2.1</version>
                                    <fixVersion>2.6</fixVersion>
                                    <component>deploy:deploy</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14430595" author="bentmann" created="Wed, 2 Sep 2009 11:22:10 +0000"  >&lt;p&gt;An example POM or at least the relevant lines from the log output where Maven prints what it deploys would be helpful.&lt;/p&gt;</comment>
                            <comment id="14430566" author="gdogaru" created="Wed, 2 Sep 2009 13:47:46 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [deploy:deploy &lt;/p&gt;
{execution: default-deploy}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; No primary artifact to deploy, deploy attached artifacts instead.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous build number from snapshots_repo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: Uploading: &lt;a href=&quot;file:////build/m2repository/snapshots/myapp/testutils/11.6-SNAPSHOT/testutils-11.6-20090902.084121-24.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:////build/m2repository/snapshots/myapp/testutils/11.6-SNAPSHOT/testutils-11.6-20090902.084121-24.jar&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: 78K uploaded (testutils-11.6-20090902.084121-24.jar)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from snapshots_repo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository metadata for: &apos;artifact myapptestutils&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from snapshots_repo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository metadata for: &apos;snapshot myapp:testutils:11.6-SNAPSHOT&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous build number from snapshots_repo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: Uploading: &lt;a href=&quot;file:////build/m2repository/snapshots/myapp/testutils/11.6-SNAPSHOT/testutils-11.6-20090902.084121-25.resource&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:////build/m2repository/snapshots/myapp/testutils/11.6-SNAPSHOT/testutils-11.6-20090902.084121-25.resource&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: 2K uploaded (testutils-11.6-20090902.084121-25.resource)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:21&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from snapshots_build&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:22&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository metadata for: &apos;artifact myapp:testutils&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:22&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Retrieving previous metadata from snapshots_repo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:22&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository metadata for: &apos;snapshot myapp:testutils:11.6-SNAPSHOT&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:22&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;04:41:22&amp;#93;&lt;/span&gt;: &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESSFUL&lt;/p&gt;

&lt;p&gt;I am using  project.addAttachedArtifact(artifact); in my mojo to attach the artifact&lt;/p&gt;

&lt;p&gt;Pom for distribution management:&lt;br/&gt;
 &amp;lt;distributionManagement&amp;gt;&lt;br/&gt;
        &amp;lt;repository&amp;gt;&lt;br/&gt;
            .........&lt;br/&gt;
        &amp;lt;/repository&amp;gt;&lt;br/&gt;
        &amp;lt;snapshotRepository&amp;gt;&lt;br/&gt;
            &amp;lt;id&amp;gt;snapshots_repo&amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;name&amp;gt;snapshots_repo&amp;lt;/name&amp;gt;&lt;br/&gt;
            &amp;lt;url&amp;gt;&lt;a href=&quot;file:////build/m2repository/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:////build/m2repository/snapshots&lt;/a&gt;&amp;lt;/url&amp;gt;&lt;br/&gt;
        &amp;lt;/snapshotRepository&amp;gt;&lt;br/&gt;
    &amp;lt;/distributionManagement&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14430551" author="bentmann" created="Wed, 2 Sep 2009 13:57:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;I am using project.addAttachedArtifact(artifact); in my mojo to attach the artifact&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s a valuable piece of info. Could you try calling &lt;tt&gt;MavenProjectHelper.attachArtifact()&lt;/tt&gt; instead of directly mutating the project? Use something like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
 * @component
 */
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MavenProjectHelper projectHelper;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to get the component injected into your mojo.&lt;/p&gt;</comment>
                            <comment id="14430449" author="gdogaru" created="Thu, 3 Sep 2009 02:37:26 +0000"  >&lt;p&gt;I tried that .&lt;br/&gt;
if i use MavenProjectHelper.attachArtifact() the artifacts do not have timestamp or build number. They get deployed the same way as using uniqueVersion=false.&lt;br/&gt;
The reason why I didn&apos;t use MavenProjectHelper the first time is that for some projects I needed to create artifacts with a different name than project.name, and there is no MavenProjectHelper.attachArtifact() that would accept artifactId as parameter.  &lt;br/&gt;
Also I couldn&apos;t (still can&apos;t) use AttachedArtifact in project.addAttachedArtifact(artifact) as it is used in MavenProjectHelper because of some dependency conflict (I use gmaven 1.0-rc-4 and maven 2.2.1) and I used instead DefaultArtifact. I guess that is not a problem since they both implement Artifact.&lt;/p&gt;</comment>
                            <comment id="14430669" author="bentmann" created="Sun, 11 Jul 2010 14:01:08 +0000"  >&lt;p&gt;Fixed case of broken timestamped versions via &lt;tt&gt;attachArtifact()&lt;/tt&gt; in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=963122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r963122&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Calling &lt;tt&gt;MavenProject.addAttachedArtifact()&lt;/tt&gt; directly isn&apos;t the intended API usage so if you want to go down that route I suggest to implement your own versions of &lt;tt&gt;AttachedArtifact&lt;/tt&gt; as well.&lt;/p&gt;</comment>
                            <comment id="17965582" author="olamy" created="Thu, 12 Jun 2025 11:10:41 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-deploy-plugin/issues/272&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-deploy-plugin#272&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29y53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>