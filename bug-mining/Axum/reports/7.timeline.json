[{"id":5465140139,"node_id":"LE_lADOFi7l3s49MNr2zwAAAAFFv2ur","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5465140139","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-10-14T16:47:57Z","label":{"name":"C-feature-request","color":"f5f1fd"},"performed_via_github_app":null},{"id":5465140374,"node_id":"MIE_lADOFi7l3s49MNr2zwAAAAFFv2yW","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5465140374","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-10-14T16:48:01Z","milestone":{"title":"0.3"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943699120","html_url":"https://github.com/tokio-rs/axum/issues/386#issuecomment-943699120","issue_url":"https://api.github.com/repos/tokio-rs/axum/issues/386","id":943699120,"node_id":"IC_kwDOFi7l3s44P7Sw","user":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T20:19:49Z","updated_at":"2021-10-14T20:19:49Z","body":"Actually I'm not sure its possible to fix. Any middleware you apply run before the router sees the request. So if the router added the matched pattern to a request extension middleware wouldn't see the extension because they run _before_ the router. You'd only be able to see the extension in handlers but that seems less useful.\r\n\r\n@gsson Is this something other rust web frameworks have support for?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943699120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5466177634,"node_id":"MEE_lADOFi7l3s49MNr2zwAAAAFFz0Bi","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5466177634","actor":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-14T20:19:49Z","performed_via_github_app":null},{"id":5466177643,"node_id":"SE_lADOFi7l3s49MNr2zwAAAAFFz0Br","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5466177643","actor":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-14T20:19:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943715694","html_url":"https://github.com/tokio-rs/axum/issues/386#issuecomment-943715694","issue_url":"https://api.github.com/repos/tokio-rs/axum/issues/386","id":943715694,"node_id":"IC_kwDOFi7l3s44P_Vu","user":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T20:42:24Z","updated_at":"2021-10-14T20:42:35Z","body":"I don't know, I haven't tried that many -- I know it's quite common frameworks for other languages though.\r\n\r\nFor me the primary driver is to be able to deploy Rust services that resembles our other (mostly Spring) Java services from the outside so we can do drop-in replacements where we want what Rust offers.\r\n\r\nThat said, what I'm looking for is a way of doing the telemetry/reporting the metrics/writing the logs, not necessarily writing middlewares. If there's some other way that's more than ok!\r\n\r\nIt would be nice to be able to do it once for a \"stack\" of routes, but if I have to wrap my routing in a few layers (one for each route, one for each method in each route and one to gather it and instrument each handler?) I guess...I guess I'll go write some macros :) \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943715694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943760399","html_url":"https://github.com/tokio-rs/axum/issues/386#issuecomment-943760399","issue_url":"https://api.github.com/repos/tokio-rs/axum/issues/386","id":943760399,"node_id":"IC_kwDOFi7l3s44QKQP","user":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T21:46:32Z","updated_at":"2021-10-14T21:48:16Z","body":"I believe I've found a workaround. Though I first want apologies for the crazy types. If/when this becomes built in to axum we'll make sure to have a simpler API. But yeah this seems to work:\r\n\r\n```rust\r\nuse axum::{\r\n    body::{box_body, BoxBody},\r\n    extract::Path,\r\n    handler::get,\r\n    http::Request,\r\n    routing::Route,\r\n    AddExtension, AddExtensionLayer, Router,\r\n};\r\nuse std::sync::Arc;\r\nuse tower::ServiceBuilder;\r\nuse tower_http::{\r\n    classify::{ServerErrorsAsFailures, SharedClassifier},\r\n    map_response_body::{MapResponseBody, MapResponseBodyLayer},\r\n    trace::{MakeSpan, Trace, TraceLayer},\r\n};\r\n\r\n#[tokio::main]\r\nasync fn main() {\r\n    // Set the RUST_LOG, if it hasn't been explicitly defined\r\n    if std::env::var_os(\"RUST_LOG\").is_none() {\r\n        std::env::set_var(\"RUST_LOG\", \"example_testing=debug,tower_http=debug\")\r\n    }\r\n    tracing_subscriber::fmt::init();\r\n\r\n    let app = Router::new().route_with_path_tracing(\r\n        \"/users/:id\",\r\n        get(|Path(id): Path<String>| async move {\r\n            tracing::debug!(%id);\r\n        }),\r\n    );\r\n\r\n    let addr = std::net::SocketAddr::from(([127, 0, 0, 1], 3000));\r\n    axum::Server::bind(&addr)\r\n        .serve(app.into_make_service())\r\n        .await\r\n        .unwrap();\r\n}\r\n\r\ntrait RouterExt<S> {\r\n    fn route_with_path_tracing<T>(self, path: &str, svc: T) -> Router<RouteWithPathTracing<T, S>>;\r\n}\r\n\r\nimpl<S> RouterExt<S> for Router<S> {\r\n    fn route_with_path_tracing<T>(self, path: &str, svc: T) -> Router<RouteWithPathTracing<T, S>> {\r\n        let path: Arc<str> = path.into();\r\n        let svc = ServiceBuilder::new()\r\n            .layer(MapResponseBodyLayer::new(box_body as _))\r\n            .layer(AddExtensionLayer::new(RoutePath(path.clone())))\r\n            .layer(TraceLayer::new_for_http().make_span_with(MakeSpanFromPath))\r\n            .service(svc);\r\n        self.route(&path, svc)\r\n    }\r\n}\r\n\r\ntype RouteWithPathTracing<T, S> = Route<\r\n    MapResponseBody<\r\n        AddExtension<\r\n            Trace<T, SharedClassifier<ServerErrorsAsFailures>, MakeSpanFromPath>,\r\n            RoutePath,\r\n        >,\r\n        fn(TraceBody) -> BoxBody,\r\n    >,\r\n    S,\r\n>;\r\n\r\ntype TraceBody = tower_http::trace::ResponseBody<\r\n    BoxBody,\r\n    tower_http::classify::NeverClassifyEos<tower_http::classify::ServerErrorsFailureClass>,\r\n    tower_http::trace::DefaultOnBodyChunk,\r\n    tower_http::trace::DefaultOnEos,\r\n    tower_http::trace::DefaultOnFailure,\r\n>;\r\n\r\n#[derive(Clone)]\r\nstruct RoutePath(Arc<str>);\r\n\r\n#[derive(Clone, Copy)]\r\nstruct MakeSpanFromPath;\r\n\r\nimpl<B> MakeSpan<B> for MakeSpanFromPath {\r\n    fn make_span(&mut self, request: &Request<B>) -> tracing::Span {\r\n        let RoutePath(path) = request.extensions().get::<RoutePath>().unwrap();\r\n        tracing::debug_span!(\r\n            \"request\",\r\n            method = %request.method(),\r\n            path = %path,\r\n        )\r\n    }\r\n}\r\n```\r\n\r\nThat results in logs like this:\r\n\r\n```\r\nOct 14 23:42:57.684 DEBUG request{method=GET path=/users/:id}: tower_http::trace::on_request: started processing request\r\nOct 14 23:42:57.685 DEBUG request{method=GET path=/users/:id}: example_testing: id=123\r\nOct 14 23:42:57.685 DEBUG request{method=GET path=/users/:id}: tower_http::trace::on_response: finished processing request latency=1 ms status=200\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943760399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943765844","html_url":"https://github.com/tokio-rs/axum/issues/386#issuecomment-943765844","issue_url":"https://api.github.com/repos/tokio-rs/axum/issues/386","id":943765844,"node_id":"IC_kwDOFi7l3s44QLlU","user":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T21:55:33Z","updated_at":"2021-10-14T21:55:33Z","body":"What a beauty! :)\r\n\r\nThanks! I think I can build something from that","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/943765844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gsson","id":110603,"node_id":"MDQ6VXNlcjExMDYwMw==","avatar_url":"https://avatars.githubusercontent.com/u/110603?v=4","gravatar_id":"","url":"https://api.github.com/users/gsson","html_url":"https://github.com/gsson","followers_url":"https://api.github.com/users/gsson/followers","following_url":"https://api.github.com/users/gsson/following{/other_user}","gists_url":"https://api.github.com/users/gsson/gists{/gist_id}","starred_url":"https://api.github.com/users/gsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsson/subscriptions","organizations_url":"https://api.github.com/users/gsson/orgs","repos_url":"https://api.github.com/users/gsson/repos","events_url":"https://api.github.com/users/gsson/events{/privacy}","received_events_url":"https://api.github.com/users/gsson/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5508892886,"node_id":"DEME_lADOFi7l3s49MNr2zwAAAAFIWwjW","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5508892886","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2021-10-24T00:01:51Z","milestone":{"title":"0.3"},"performed_via_github_app":null},{"id":5508892887,"node_id":"MIE_lADOFi7l3s49MNr2zwAAAAFIWwjX","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5508892887","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-10-24T00:01:51Z","milestone":{"title":"0.4"},"performed_via_github_app":null},{"id":5509944544,"node_id":"DEME_lADOFi7l3s49MNr2zwAAAAFIaxTg","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5509944544","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2021-10-24T20:04:03Z","milestone":{"title":"0.4"},"performed_via_github_app":null},{"id":5516217137,"node_id":"MIE_lADOFi7l3s49MNr2zwAAAAFIyssx","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5516217137","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-10-25T20:43:34Z","milestone":{"title":"0.3"},"performed_via_github_app":null},{"id":5516446945,"node_id":"REFE_lADOFi7l3s49MNr2zwAAAAFIzkzh","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5516446945","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"38112696af1edd4cb8c21ca286dde104e921faa8","commit_url":"https://api.github.com/repos/tokio-rs/axum/commits/38112696af1edd4cb8c21ca286dde104e921faa8","created_at":"2021-10-25T21:33:57Z","performed_via_github_app":null},{"actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T21:34:02Z","updated_at":"2021-10-25T21:34:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/412","repository_url":"https://api.github.com/repos/tokio-rs/axum","labels_url":"https://api.github.com/repos/tokio-rs/axum/issues/412/labels{/name}","comments_url":"https://api.github.com/repos/tokio-rs/axum/issues/412/comments","events_url":"https://api.github.com/repos/tokio-rs/axum/issues/412/events","html_url":"https://github.com/tokio-rs/axum/pull/412","id":1035594704,"node_id":"PR_kwDOFi7l3s4tpiO7","number":412,"title":"Add `MatchedPath` extractor","user":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-10-25T21:34:02Z","updated_at":"2021-10-25T21:38:30Z","closed_at":"2021-10-25T21:38:30Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":372172254,"node_id":"MDEwOlJlcG9zaXRvcnkzNzIxNzIyNTQ=","name":"axum","full_name":"tokio-rs/axum","private":false,"owner":{"login":"tokio-rs","id":20248544,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMjQ4NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/20248544?v=4","gravatar_id":"","url":"https://api.github.com/users/tokio-rs","html_url":"https://github.com/tokio-rs","followers_url":"https://api.github.com/users/tokio-rs/followers","following_url":"https://api.github.com/users/tokio-rs/following{/other_user}","gists_url":"https://api.github.com/users/tokio-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/tokio-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tokio-rs/subscriptions","organizations_url":"https://api.github.com/users/tokio-rs/orgs","repos_url":"https://api.github.com/users/tokio-rs/repos","events_url":"https://api.github.com/users/tokio-rs/events{/privacy}","received_events_url":"https://api.github.com/users/tokio-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tokio-rs/axum","description":"Ergonomic and modular web framework built with Tokio, Tower, and Hyper","fork":false,"url":"https://api.github.com/repos/tokio-rs/axum","forks_url":"https://api.github.com/repos/tokio-rs/axum/forks","keys_url":"https://api.github.com/repos/tokio-rs/axum/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tokio-rs/axum/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tokio-rs/axum/teams","hooks_url":"https://api.github.com/repos/tokio-rs/axum/hooks","issue_events_url":"https://api.github.com/repos/tokio-rs/axum/issues/events{/number}","events_url":"https://api.github.com/repos/tokio-rs/axum/events","assignees_url":"https://api.github.com/repos/tokio-rs/axum/assignees{/user}","branches_url":"https://api.github.com/repos/tokio-rs/axum/branches{/branch}","tags_url":"https://api.github.com/repos/tokio-rs/axum/tags","blobs_url":"https://api.github.com/repos/tokio-rs/axum/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tokio-rs/axum/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tokio-rs/axum/git/refs{/sha}","trees_url":"https://api.github.com/repos/tokio-rs/axum/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tokio-rs/axum/statuses/{sha}","languages_url":"https://api.github.com/repos/tokio-rs/axum/languages","stargazers_url":"https://api.github.com/repos/tokio-rs/axum/stargazers","contributors_url":"https://api.github.com/repos/tokio-rs/axum/contributors","subscribers_url":"https://api.github.com/repos/tokio-rs/axum/subscribers","subscription_url":"https://api.github.com/repos/tokio-rs/axum/subscription","commits_url":"https://api.github.com/repos/tokio-rs/axum/commits{/sha}","git_commits_url":"https://api.github.com/repos/tokio-rs/axum/git/commits{/sha}","comments_url":"https://api.github.com/repos/tokio-rs/axum/comments{/number}","issue_comment_url":"https://api.github.com/repos/tokio-rs/axum/issues/comments{/number}","contents_url":"https://api.github.com/repos/tokio-rs/axum/contents/{+path}","compare_url":"https://api.github.com/repos/tokio-rs/axum/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tokio-rs/axum/merges","archive_url":"https://api.github.com/repos/tokio-rs/axum/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tokio-rs/axum/downloads","issues_url":"https://api.github.com/repos/tokio-rs/axum/issues{/number}","pulls_url":"https://api.github.com/repos/tokio-rs/axum/pulls{/number}","milestones_url":"https://api.github.com/repos/tokio-rs/axum/milestones{/number}","notifications_url":"https://api.github.com/repos/tokio-rs/axum/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tokio-rs/axum/labels{/name}","releases_url":"https://api.github.com/repos/tokio-rs/axum/releases{/id}","deployments_url":"https://api.github.com/repos/tokio-rs/axum/deployments","created_at":"2021-05-30T09:22:25Z","updated_at":"2025-11-10T10:59:13Z","pushed_at":"2025-11-10T09:41:04Z","git_url":"git://github.com/tokio-rs/axum.git","ssh_url":"git@github.com:tokio-rs/axum.git","clone_url":"https://github.com/tokio-rs/axum.git","svn_url":"https://github.com/tokio-rs/axum","homepage":"","size":5472,"stargazers_count":23740,"watchers_count":23740,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1265,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":81,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1265,"open_issues":81,"watchers":23740,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/tokio-rs/axum/pulls/412","html_url":"https://github.com/tokio-rs/axum/pull/412","diff_url":"https://github.com/tokio-rs/axum/pull/412.diff","patch_url":"https://github.com/tokio-rs/axum/pull/412.patch","merged_at":"2021-10-25T21:38:29Z"},"body":"Fixes #386","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tokio-rs/axum/issues/412/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5516450646,"node_id":"REFE_lADOFi7l3s49MNr2zwAAAAFIzltW","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5516450646","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2e1257165682d74915c2f50d3165639420970b7c","commit_url":"https://api.github.com/repos/tokio-rs/axum/commits/2e1257165682d74915c2f50d3165639420970b7c","created_at":"2021-10-25T21:34:49Z","performed_via_github_app":null},{"id":5516465681,"node_id":"CE_lADOFi7l3s49MNr2zwAAAAFIzpYR","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5516465681","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2021-10-25T21:38:30Z","state_reason":null,"performed_via_github_app":null},{"id":5516465771,"node_id":"REFE_lADOFi7l3s49MNr2zwAAAAFIzpZr","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5516465771","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"02a035fb140dd336d3bb7482f733143beef48867","commit_url":"https://api.github.com/repos/tokio-rs/axum/commits/02a035fb140dd336d3bb7482f733143beef48867","created_at":"2021-10-25T21:38:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/951359963","html_url":"https://github.com/tokio-rs/axum/issues/386#issuecomment-951359963","issue_url":"https://api.github.com/repos/tokio-rs/axum/issues/386","id":951359963,"node_id":"IC_kwDOFi7l3s44tJnb","user":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T21:51:47Z","updated_at":"2021-10-25T21:51:47Z","body":"Doing this will be way easier in 0.3. See the docs in https://github.com/tokio-rs/axum/blob/main/src/extract/matched_path.rs for an example.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/comments/951359963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T20:21:35Z","updated_at":"2021-10-26T20:21:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/426","repository_url":"https://api.github.com/repos/tokio-rs/axum","labels_url":"https://api.github.com/repos/tokio-rs/axum/issues/426/labels{/name}","comments_url":"https://api.github.com/repos/tokio-rs/axum/issues/426/comments","events_url":"https://api.github.com/repos/tokio-rs/axum/issues/426/events","html_url":"https://github.com/tokio-rs/axum/pull/426","id":1036705713,"node_id":"PR_kwDOFi7l3s4ttKny","number":426,"title":"Implement nesting as regular wildcard routes","user":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-10-26T20:21:35Z","updated_at":"2021-10-26T20:31:23Z","closed_at":"2021-10-26T20:31:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":372172254,"node_id":"MDEwOlJlcG9zaXRvcnkzNzIxNzIyNTQ=","name":"axum","full_name":"tokio-rs/axum","private":false,"owner":{"login":"tokio-rs","id":20248544,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMjQ4NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/20248544?v=4","gravatar_id":"","url":"https://api.github.com/users/tokio-rs","html_url":"https://github.com/tokio-rs","followers_url":"https://api.github.com/users/tokio-rs/followers","following_url":"https://api.github.com/users/tokio-rs/following{/other_user}","gists_url":"https://api.github.com/users/tokio-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/tokio-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tokio-rs/subscriptions","organizations_url":"https://api.github.com/users/tokio-rs/orgs","repos_url":"https://api.github.com/users/tokio-rs/repos","events_url":"https://api.github.com/users/tokio-rs/events{/privacy}","received_events_url":"https://api.github.com/users/tokio-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tokio-rs/axum","description":"Ergonomic and modular web framework built with Tokio, Tower, and Hyper","fork":false,"url":"https://api.github.com/repos/tokio-rs/axum","forks_url":"https://api.github.com/repos/tokio-rs/axum/forks","keys_url":"https://api.github.com/repos/tokio-rs/axum/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tokio-rs/axum/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tokio-rs/axum/teams","hooks_url":"https://api.github.com/repos/tokio-rs/axum/hooks","issue_events_url":"https://api.github.com/repos/tokio-rs/axum/issues/events{/number}","events_url":"https://api.github.com/repos/tokio-rs/axum/events","assignees_url":"https://api.github.com/repos/tokio-rs/axum/assignees{/user}","branches_url":"https://api.github.com/repos/tokio-rs/axum/branches{/branch}","tags_url":"https://api.github.com/repos/tokio-rs/axum/tags","blobs_url":"https://api.github.com/repos/tokio-rs/axum/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tokio-rs/axum/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tokio-rs/axum/git/refs{/sha}","trees_url":"https://api.github.com/repos/tokio-rs/axum/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tokio-rs/axum/statuses/{sha}","languages_url":"https://api.github.com/repos/tokio-rs/axum/languages","stargazers_url":"https://api.github.com/repos/tokio-rs/axum/stargazers","contributors_url":"https://api.github.com/repos/tokio-rs/axum/contributors","subscribers_url":"https://api.github.com/repos/tokio-rs/axum/subscribers","subscription_url":"https://api.github.com/repos/tokio-rs/axum/subscription","commits_url":"https://api.github.com/repos/tokio-rs/axum/commits{/sha}","git_commits_url":"https://api.github.com/repos/tokio-rs/axum/git/commits{/sha}","comments_url":"https://api.github.com/repos/tokio-rs/axum/comments{/number}","issue_comment_url":"https://api.github.com/repos/tokio-rs/axum/issues/comments{/number}","contents_url":"https://api.github.com/repos/tokio-rs/axum/contents/{+path}","compare_url":"https://api.github.com/repos/tokio-rs/axum/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tokio-rs/axum/merges","archive_url":"https://api.github.com/repos/tokio-rs/axum/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tokio-rs/axum/downloads","issues_url":"https://api.github.com/repos/tokio-rs/axum/issues{/number}","pulls_url":"https://api.github.com/repos/tokio-rs/axum/pulls{/number}","milestones_url":"https://api.github.com/repos/tokio-rs/axum/milestones{/number}","notifications_url":"https://api.github.com/repos/tokio-rs/axum/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tokio-rs/axum/labels{/name}","releases_url":"https://api.github.com/repos/tokio-rs/axum/releases{/id}","deployments_url":"https://api.github.com/repos/tokio-rs/axum/deployments","created_at":"2021-05-30T09:22:25Z","updated_at":"2025-11-10T10:59:13Z","pushed_at":"2025-11-10T09:41:04Z","git_url":"git://github.com/tokio-rs/axum.git","ssh_url":"git@github.com:tokio-rs/axum.git","clone_url":"https://github.com/tokio-rs/axum.git","svn_url":"https://github.com/tokio-rs/axum","homepage":"","size":5472,"stargazers_count":23740,"watchers_count":23740,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1265,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":81,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1265,"open_issues":81,"watchers":23740,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/tokio-rs/axum/pulls/426","html_url":"https://github.com/tokio-rs/axum/pull/426","diff_url":"https://github.com/tokio-rs/axum/pull/426.diff","patch_url":"https://github.com/tokio-rs/axum/pull/426.patch","merged_at":"2021-10-26T20:31:22Z"},"body":"When fixing bugs with `MatchedPath` (introduced to fix https://github.com/tokio-rs/axum/issues/386) I realized nesting could basically be implemented using regular routes, if we can detect that the service passed to `nest` is in fact a `Router`. Then we can transfer over all its routes and add the prefix.\r\n\r\nThis makes nesting much simpler in general and should also be slightly faster since we're no longer nesting routers.","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tokio-rs/axum/issues/426/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":5523187547,"node_id":"REFE_lADOFi7l3s49MNr2zwAAAAFJNSdb","url":"https://api.github.com/repos/tokio-rs/axum/issues/events/5523187547","actor":{"login":"davidpdrsn","id":718941,"node_id":"MDQ6VXNlcjcxODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/718941?v=4","gravatar_id":"","url":"https://api.github.com/users/davidpdrsn","html_url":"https://github.com/davidpdrsn","followers_url":"https://api.github.com/users/davidpdrsn/followers","following_url":"https://api.github.com/users/davidpdrsn/following{/other_user}","gists_url":"https://api.github.com/users/davidpdrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/davidpdrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidpdrsn/subscriptions","organizations_url":"https://api.github.com/users/davidpdrsn/orgs","repos_url":"https://api.github.com/users/davidpdrsn/repos","events_url":"https://api.github.com/users/davidpdrsn/events{/privacy}","received_events_url":"https://api.github.com/users/davidpdrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"92f96a201c08b37567bb572d533afa080725d730","commit_url":"https://api.github.com/repos/tokio-rs/axum/commits/92f96a201c08b37567bb572d533afa080725d730","created_at":"2021-10-26T20:31:23Z","performed_via_github_app":null},{"actor":{"login":"Altair-Bueno","id":67512202,"node_id":"MDQ6VXNlcjY3NTEyMjAy","avatar_url":"https://avatars.githubusercontent.com/u/67512202?v=4","gravatar_id":"","url":"https://api.github.com/users/Altair-Bueno","html_url":"https://github.com/Altair-Bueno","followers_url":"https://api.github.com/users/Altair-Bueno/followers","following_url":"https://api.github.com/users/Altair-Bueno/following{/other_user}","gists_url":"https://api.github.com/users/Altair-Bueno/gists{/gist_id}","starred_url":"https://api.github.com/users/Altair-Bueno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Altair-Bueno/subscriptions","organizations_url":"https://api.github.com/users/Altair-Bueno/orgs","repos_url":"https://api.github.com/users/Altair-Bueno/repos","events_url":"https://api.github.com/users/Altair-Bueno/events{/privacy}","received_events_url":"https://api.github.com/users/Altair-Bueno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-12T11:09:33Z","updated_at":"2022-08-12T11:09:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/1255","repository_url":"https://api.github.com/repos/tokio-rs/axum","labels_url":"https://api.github.com/repos/tokio-rs/axum/issues/1255/labels{/name}","comments_url":"https://api.github.com/repos/tokio-rs/axum/issues/1255/comments","events_url":"https://api.github.com/repos/tokio-rs/axum/issues/1255/events","html_url":"https://github.com/tokio-rs/axum/issues/1255","id":1337070722,"node_id":"I_kwDOFi7l3s5PshSC","number":1255,"title":"Improve `MatchedPath` API","user":{"login":"Altair-Bueno","id":67512202,"node_id":"MDQ6VXNlcjY3NTEyMjAy","avatar_url":"https://avatars.githubusercontent.com/u/67512202?v=4","gravatar_id":"","url":"https://api.github.com/users/Altair-Bueno","html_url":"https://github.com/Altair-Bueno","followers_url":"https://api.github.com/users/Altair-Bueno/followers","following_url":"https://api.github.com/users/Altair-Bueno/following{/other_user}","gists_url":"https://api.github.com/users/Altair-Bueno/gists{/gist_id}","starred_url":"https://api.github.com/users/Altair-Bueno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Altair-Bueno/subscriptions","organizations_url":"https://api.github.com/users/Altair-Bueno/orgs","repos_url":"https://api.github.com/users/Altair-Bueno/repos","events_url":"https://api.github.com/users/Altair-Bueno/events{/privacy}","received_events_url":"https://api.github.com/users/Altair-Bueno/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2022-08-12T11:09:33Z","updated_at":"2022-08-12T19:33:41Z","closed_at":"2022-08-12T19:33:41Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":372172254,"node_id":"MDEwOlJlcG9zaXRvcnkzNzIxNzIyNTQ=","name":"axum","full_name":"tokio-rs/axum","private":false,"owner":{"login":"tokio-rs","id":20248544,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwMjQ4NTQ0","avatar_url":"https://avatars.githubusercontent.com/u/20248544?v=4","gravatar_id":"","url":"https://api.github.com/users/tokio-rs","html_url":"https://github.com/tokio-rs","followers_url":"https://api.github.com/users/tokio-rs/followers","following_url":"https://api.github.com/users/tokio-rs/following{/other_user}","gists_url":"https://api.github.com/users/tokio-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/tokio-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tokio-rs/subscriptions","organizations_url":"https://api.github.com/users/tokio-rs/orgs","repos_url":"https://api.github.com/users/tokio-rs/repos","events_url":"https://api.github.com/users/tokio-rs/events{/privacy}","received_events_url":"https://api.github.com/users/tokio-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tokio-rs/axum","description":"Ergonomic and modular web framework built with Tokio, Tower, and Hyper","fork":false,"url":"https://api.github.com/repos/tokio-rs/axum","forks_url":"https://api.github.com/repos/tokio-rs/axum/forks","keys_url":"https://api.github.com/repos/tokio-rs/axum/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tokio-rs/axum/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tokio-rs/axum/teams","hooks_url":"https://api.github.com/repos/tokio-rs/axum/hooks","issue_events_url":"https://api.github.com/repos/tokio-rs/axum/issues/events{/number}","events_url":"https://api.github.com/repos/tokio-rs/axum/events","assignees_url":"https://api.github.com/repos/tokio-rs/axum/assignees{/user}","branches_url":"https://api.github.com/repos/tokio-rs/axum/branches{/branch}","tags_url":"https://api.github.com/repos/tokio-rs/axum/tags","blobs_url":"https://api.github.com/repos/tokio-rs/axum/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tokio-rs/axum/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tokio-rs/axum/git/refs{/sha}","trees_url":"https://api.github.com/repos/tokio-rs/axum/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tokio-rs/axum/statuses/{sha}","languages_url":"https://api.github.com/repos/tokio-rs/axum/languages","stargazers_url":"https://api.github.com/repos/tokio-rs/axum/stargazers","contributors_url":"https://api.github.com/repos/tokio-rs/axum/contributors","subscribers_url":"https://api.github.com/repos/tokio-rs/axum/subscribers","subscription_url":"https://api.github.com/repos/tokio-rs/axum/subscription","commits_url":"https://api.github.com/repos/tokio-rs/axum/commits{/sha}","git_commits_url":"https://api.github.com/repos/tokio-rs/axum/git/commits{/sha}","comments_url":"https://api.github.com/repos/tokio-rs/axum/comments{/number}","issue_comment_url":"https://api.github.com/repos/tokio-rs/axum/issues/comments{/number}","contents_url":"https://api.github.com/repos/tokio-rs/axum/contents/{+path}","compare_url":"https://api.github.com/repos/tokio-rs/axum/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tokio-rs/axum/merges","archive_url":"https://api.github.com/repos/tokio-rs/axum/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tokio-rs/axum/downloads","issues_url":"https://api.github.com/repos/tokio-rs/axum/issues{/number}","pulls_url":"https://api.github.com/repos/tokio-rs/axum/pulls{/number}","milestones_url":"https://api.github.com/repos/tokio-rs/axum/milestones{/number}","notifications_url":"https://api.github.com/repos/tokio-rs/axum/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tokio-rs/axum/labels{/name}","releases_url":"https://api.github.com/repos/tokio-rs/axum/releases{/id}","deployments_url":"https://api.github.com/repos/tokio-rs/axum/deployments","created_at":"2021-05-30T09:22:25Z","updated_at":"2025-11-10T10:59:13Z","pushed_at":"2025-11-10T09:41:04Z","git_url":"git://github.com/tokio-rs/axum.git","ssh_url":"git@github.com:tokio-rs/axum.git","clone_url":"https://github.com/tokio-rs/axum.git","svn_url":"https://github.com/tokio-rs/axum","homepage":"","size":5472,"stargazers_count":23740,"watchers_count":23740,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1265,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":81,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1265,"open_issues":81,"watchers":23740,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Feature Request\r\n\r\n### Motivation\r\n\r\n`as_str` is not a standard trait implementation, which is discouraged by the Rust API Guidelines. This forces library authors to create their own workarounds. (See [`Key`](https://github.com/Altair-Bueno/axum-template/blob/cc89b515789a87a49c7c40748170a6733784db9c/src/key.rs#L42) on `axum-template`)\r\n\r\n### Proposal\r\n\r\n`MatchedPath` lacks some trait implementations that would be nice to have, as well as access to the internal `Arc<str>` it uses.\r\n\r\n- [ ] Implement common conversion traits such as:\r\n\t- [] `Borrow<str>`\r\n\t- [ ] `AsRef<str>`\r\n\t- [ ] `From<MatchedPath> for &str`\r\n    - [ ] `From<MatchedPath> for Arc<str>`\r\n- [ ] Allow access to the internal `Arc<str>`\r\n    - [ ] `as_arc`\r\n\r\n### Alternatives\r\n\r\n- Allow de-structuring `MatchedPath` (constructor is currently `pub (crate)`)\r\n  - de-structuring would allow middleware to replace `MatchedPath` from requests. May interfere with routing?\r\n  - `Arc<str>` is not commonly used and would probably confuse many people\r\n\r\n### Additional resources\r\n\r\n- `MatchedPath`'s first apperance: https://github.com/tokio-rs/axum/issues/386\r\n- `matched_path.rs` permalink https://github.com/tokio-rs/axum/blob/90a2e04e9ddc167bf57c9201d9f8fb306aaea5d3/axum/src/extract/matched_path.rs#L57\r\n- Rust API guidelines. `CONV_TRAITS`: https://rust-lang.github.io/api-guidelines/interoperability.html#conversions-use-the-standard-traits-from-asref-asmut-c-conv-traits\r\n\r\n","reactions":{"url":"https://api.github.com/repos/tokio-rs/axum/issues/1255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tokio-rs/axum/issues/1255/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"actor":{"login":"immno","id":10646884,"node_id":"MDQ6VXNlcjEwNjQ2ODg0","avatar_url":"https://avatars.githubusercontent.com/u/10646884?v=4","gravatar_id":"","url":"https://api.github.com/users/immno","html_url":"https://github.com/immno","followers_url":"https://api.github.com/users/immno/followers","following_url":"https://api.github.com/users/immno/following{/other_user}","gists_url":"https://api.github.com/users/immno/gists{/gist_id}","starred_url":"https://api.github.com/users/immno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/immno/subscriptions","organizations_url":"https://api.github.com/users/immno/orgs","repos_url":"https://api.github.com/users/immno/repos","events_url":"https://api.github.com/users/immno/events{/privacy}","received_events_url":"https://api.github.com/users/immno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-12T08:47:01Z","updated_at":"2024-11-12T08:47:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/salvo-rs/salvo/issues/822","repository_url":"https://api.github.com/repos/salvo-rs/salvo","labels_url":"https://api.github.com/repos/salvo-rs/salvo/issues/822/labels{/name}","comments_url":"https://api.github.com/repos/salvo-rs/salvo/issues/822/comments","events_url":"https://api.github.com/repos/salvo-rs/salvo/issues/822/events","html_url":"https://github.com/salvo-rs/salvo/issues/822","id":2380004706,"node_id":"I_kwDODR_Dbs6N2_1i","number":822,"title":"Get matched route information","user":{"login":"cortopy","id":8725825,"node_id":"MDQ6VXNlcjg3MjU4MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8725825?v=4","gravatar_id":"","url":"https://api.github.com/users/cortopy","html_url":"https://github.com/cortopy","followers_url":"https://api.github.com/users/cortopy/followers","following_url":"https://api.github.com/users/cortopy/following{/other_user}","gists_url":"https://api.github.com/users/cortopy/gists{/gist_id}","starred_url":"https://api.github.com/users/cortopy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortopy/subscriptions","organizations_url":"https://api.github.com/users/cortopy/orgs","repos_url":"https://api.github.com/users/cortopy/repos","events_url":"https://api.github.com/users/cortopy/events{/privacy}","received_events_url":"https://api.github.com/users/cortopy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-06-28T09:32:10Z","updated_at":"2025-01-06T04:29:55Z","closed_at":"2025-01-06T04:29:55Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":220185454,"node_id":"MDEwOlJlcG9zaXRvcnkyMjAxODU0NTQ=","name":"salvo","full_name":"salvo-rs/salvo","private":false,"owner":{"login":"salvo-rs","id":77909452,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc3OTA5NDUy","avatar_url":"https://avatars.githubusercontent.com/u/77909452?v=4","gravatar_id":"","url":"https://api.github.com/users/salvo-rs","html_url":"https://github.com/salvo-rs","followers_url":"https://api.github.com/users/salvo-rs/followers","following_url":"https://api.github.com/users/salvo-rs/following{/other_user}","gists_url":"https://api.github.com/users/salvo-rs/gists{/gist_id}","starred_url":"https://api.github.com/users/salvo-rs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/salvo-rs/subscriptions","organizations_url":"https://api.github.com/users/salvo-rs/orgs","repos_url":"https://api.github.com/users/salvo-rs/repos","events_url":"https://api.github.com/users/salvo-rs/events{/privacy}","received_events_url":"https://api.github.com/users/salvo-rs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/salvo-rs/salvo","description":"A powerful web framework built with a simplified design.","fork":false,"url":"https://api.github.com/repos/salvo-rs/salvo","forks_url":"https://api.github.com/repos/salvo-rs/salvo/forks","keys_url":"https://api.github.com/repos/salvo-rs/salvo/keys{/key_id}","collaborators_url":"https://api.github.com/repos/salvo-rs/salvo/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/salvo-rs/salvo/teams","hooks_url":"https://api.github.com/repos/salvo-rs/salvo/hooks","issue_events_url":"https://api.github.com/repos/salvo-rs/salvo/issues/events{/number}","events_url":"https://api.github.com/repos/salvo-rs/salvo/events","assignees_url":"https://api.github.com/repos/salvo-rs/salvo/assignees{/user}","branches_url":"https://api.github.com/repos/salvo-rs/salvo/branches{/branch}","tags_url":"https://api.github.com/repos/salvo-rs/salvo/tags","blobs_url":"https://api.github.com/repos/salvo-rs/salvo/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/salvo-rs/salvo/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/salvo-rs/salvo/git/refs{/sha}","trees_url":"https://api.github.com/repos/salvo-rs/salvo/git/trees{/sha}","statuses_url":"https://api.github.com/repos/salvo-rs/salvo/statuses/{sha}","languages_url":"https://api.github.com/repos/salvo-rs/salvo/languages","stargazers_url":"https://api.github.com/repos/salvo-rs/salvo/stargazers","contributors_url":"https://api.github.com/repos/salvo-rs/salvo/contributors","subscribers_url":"https://api.github.com/repos/salvo-rs/salvo/subscribers","subscription_url":"https://api.github.com/repos/salvo-rs/salvo/subscription","commits_url":"https://api.github.com/repos/salvo-rs/salvo/commits{/sha}","git_commits_url":"https://api.github.com/repos/salvo-rs/salvo/git/commits{/sha}","comments_url":"https://api.github.com/repos/salvo-rs/salvo/comments{/number}","issue_comment_url":"https://api.github.com/repos/salvo-rs/salvo/issues/comments{/number}","contents_url":"https://api.github.com/repos/salvo-rs/salvo/contents/{+path}","compare_url":"https://api.github.com/repos/salvo-rs/salvo/compare/{base}...{head}","merges_url":"https://api.github.com/repos/salvo-rs/salvo/merges","archive_url":"https://api.github.com/repos/salvo-rs/salvo/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/salvo-rs/salvo/downloads","issues_url":"https://api.github.com/repos/salvo-rs/salvo/issues{/number}","pulls_url":"https://api.github.com/repos/salvo-rs/salvo/pulls{/number}","milestones_url":"https://api.github.com/repos/salvo-rs/salvo/milestones{/number}","notifications_url":"https://api.github.com/repos/salvo-rs/salvo/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/salvo-rs/salvo/labels{/name}","releases_url":"https://api.github.com/repos/salvo-rs/salvo/releases{/id}","deployments_url":"https://api.github.com/repos/salvo-rs/salvo/deployments","created_at":"2019-11-07T08:18:29Z","updated_at":"2025-11-10T10:17:39Z","pushed_at":"2025-10-29T23:23:36Z","git_url":"git://github.com/salvo-rs/salvo.git","ssh_url":"git@github.com:salvo-rs/salvo.git","clone_url":"https://github.com/salvo-rs/salvo.git","svn_url":"https://github.com/salvo-rs/salvo","homepage":"https://salvo.rs","size":18500,"stargazers_count":3924,"watchers_count":3924,"language":"Rust","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":242,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":41,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["async","framework","http-server","rust","salvo","web"],"visibility":"public","forks":242,"open_issues":41,"watchers":3924,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nWhen a Request is processed, I need to log which route is being handled. The Opentelemetry definition of route is very handy: \r\n\r\n> The matched route, that is, the path template in the format used by the respective server framework.\r\n\r\nAnd they give examples like: `/users/:userID?`, `{controller}/{action}/{id?}`\r\n\r\nI need this because:\r\n\r\n- When searching log records, I don't want to search for `/user/123` but `/user/<id>` since I may want to see requests for that route.\r\n- Some observability providers like Grafana cloud charge per cardinality, and logging requests with variable parameters can be very expensive.\r\n- Due to privacy legistlation like GDPR, identifiable information like user ids need to be removed or masked. Having a way to know if the Request has been matched with a route that has parameters would be great.\r\n- [Opentelemetry](https://opentelemetry.io/docs/specs/semconv/attributes-registry/http/) defines `http.route` as an established convention to log which server route a given request has been matched with.\r\n\r\n**Describe the solution you'd like**\r\nIt'd be amazing if `Request` or `Response` had something like:\r\n\r\n```rust\r\n\r\nstruct RouteInformation {\r\n   path: &str\r\n}\r\n\r\nimpl RouteInformation {\r\n  pub fn masked_uri() -> String {\r\n     // Some logic to replace parameters with something lkike ****\r\n  }\r\n}\r\n\r\nstruct Request {\r\n   route: RouteInformation,\r\n   ...\r\n}\r\n```\r\n\r\n```rust\r\n#[async_trait]\r\nimpl Handler for Logger {\r\n    async fn handle(\r\n        &self,\r\n        req: &mut Request,\r\n        depot: &mut Depot,\r\n        res: &mut Response,\r\n        ctrl: &mut FlowCtrl,\r\n    ) {\r\n        let span = info_span!(\r\n            \"Request\",\r\n            // Instead of: path = %req.uri(),\r\n            url.path = %req.route.masked(),\r\n            http.route = %req.route.path(),\r\n        );\r\n\r\n        async move {\r\n            let now = Instant::now();\r\n            ctrl.call_next(req, depot, res).await;\r\n            let duration = now.elapsed();\r\n\r\n            let status = res.status_code.unwrap_or(match &res.body {\r\n                ResBody::None => StatusCode::NOT_FOUND,\r\n                ResBody::Error(e) => e.code,\r\n                _ => StatusCode::OK,\r\n            });\r\n            info!(\r\n                http.response.status_code = %status,\r\n                http.duration = ?duration,\r\n                \"Response\"\r\n            );\r\n        }\r\n        .instrument(span)\r\n        .await\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Describe alternatives you've considered**\r\nRequest doesn't provide information about routes so it would be some laborious manual process for each known route. This would be prone to error.\r\n","reactions":{"url":"https://api.github.com/repos/salvo-rs/salvo/issues/822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/salvo-rs/salvo/issues/822/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]