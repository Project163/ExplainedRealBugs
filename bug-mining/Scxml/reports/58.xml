<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-93] SCXMLTestHelper generates a lot of serialisation files which are not tidied up</title>
                <link>https://issues.apache.org/jira/browse/SCXML-93</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;SCXMLTestHelper generates files to test serialisation of classes in testExecutorSerializability() and testModelSerializability().&lt;/p&gt;

&lt;p&gt;These files are only used temporarily, but are not cleared up at the end of a run.&lt;br/&gt;
They can be replaced by using ByteArray classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409180">SCXML-93</key>
            <summary>SCXMLTestHelper generates a lot of serialisation files which are not tidied up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Nov 2008 10:35:46 +0000</created>
                <updated>Tue, 9 Dec 2008 00:32:35 +0000</updated>
                            <resolved>Tue, 9 Dec 2008 00:32:35 +0000</resolved>
                                                    <fixVersion>0.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12650726" author="rahul@apache.org" created="Tue, 25 Nov 2008 20:35:53 +0000"  >&lt;p&gt;I think the aspect of tidying up here is no different from what folks using any of the builds should expect &amp;#8211; to elaborate, lets say you execute this command:&lt;/p&gt;

&lt;p&gt;  mvn test&lt;/p&gt;

&lt;p&gt;(or &apos;maven test&apos;, or &apos;ant&apos;), you&apos;ll find a bunch of artifacts created in the target directory. These persist until you clean the build, so in the above case a:&lt;/p&gt;

&lt;p&gt;  mvn clean&lt;/p&gt;

&lt;p&gt;will do the trick. The serialization files follow a similar pattern, they can be cleaned using the corresponding clean command.&lt;/p&gt;

&lt;p&gt;A useful advantage of using File I/O is that the artifacts can be introspected once you run the tests and you can observe how certain changes to the datamodel or history affect size on disk etc.&lt;/p&gt;

&lt;p&gt;You are right that this can be replaced by using ByteArray I/O instead, but at this point its unclear we should (its much harder to introspect serializations or track serialization timelines that way).&lt;/p&gt;

&lt;p&gt;Resolving as Won&apos;t Fix.&lt;/p&gt;</comment>
                            <comment id="12650965" author="sebb@apache.org" created="Wed, 26 Nov 2008 11:39:48 +0000"  >&lt;p&gt;Yes, testing generates other artifacts, however these are regenerated for each run - they don&apos;t normally accumulate as in this case.&lt;/p&gt;

&lt;p&gt;There&apos;s also no easy way to tie the file to the test case, so I don&apos;t see what purpose is served by keeping the files.&lt;br/&gt;
If you really want to keep the files, name them after the testcases that use them. At least then the number of files would be limited.&lt;/p&gt;</comment>
                            <comment id="12651128" author="rahul@apache.org" created="Wed, 26 Nov 2008 20:00:43 +0000"  >&lt;p&gt;When running a single (problematic or new) test at a time, as I prefer to do, its actually not difficult to locate serialization artifacts (they are usually &amp;lt; 5 per test, and timestamp order corresponds to document order of serialization).&lt;/p&gt;

&lt;p&gt;I agree on accumulation, and since you insist on this, I don&apos;t mind those bits being redone such that we use names that match the testcases etc. I agree its an improvement since the number would be limited on a complete run (or many runs) as you say above.&lt;/p&gt;

&lt;p&gt;However, its not something I personally care to do (which is why the Won&apos;t Fix before).&lt;/p&gt;

&lt;p&gt;So I&apos;m setting the fix version to 1.0 (which currently means &apos;some time in the future if a well-tested patch appears on this ticket&apos;).&lt;/p&gt;</comment>
                            <comment id="12654002" author="sebb@apache.org" created="Sat, 6 Dec 2008 00:27:41 +0000"  >&lt;p&gt;It&apos;s not too difficult to walk the call stack to find a calling method with the name textXXX, but this does not uniquely identify all usages.&lt;/p&gt;

&lt;p&gt;So I suggest just replacing the millisecond stamp (which is not necessarily unique, by the way) with a simple int counter.&lt;br/&gt;
This can be a static (class) variable. If the test is re-run without reloading the class, then the counter will increase, but at least repeated &quot;mvn test&quot; runs won&apos;t create lots of files.&lt;/p&gt;

&lt;p&gt;Is that OK?&lt;/p&gt;</comment>
                            <comment id="12654008" author="sebb@apache.org" created="Sat, 6 Dec 2008 01:06:18 +0000"  >&lt;p&gt;Patch to replace millisecond suffix with integer suffix to reduce number of files generated (and ensure uniqueness)&lt;/p&gt;</comment>
                            <comment id="12654297" author="rahul@apache.org" created="Mon, 8 Dec 2008 04:13:52 +0000"  >&lt;p&gt;Patch looks good, thanks. As a minor nit, I&apos;ll request that you add the static int and the new method towards the top where the constants for the serialization tests are defined.&lt;/p&gt;</comment>
                            <comment id="12654651" author="sebb@apache.org" created="Tue, 9 Dec 2008 00:02:08 +0000"  >&lt;p&gt;Updated location for int and method&lt;/p&gt;</comment>
                            <comment id="12654662" author="rahul@apache.org" created="Tue, 9 Dec 2008 00:16:49 +0000"  >&lt;p&gt;It would&apos;ve been fine to just apply this one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (atleast thats what I intended to say in the last comment)&lt;/p&gt;

&lt;p&gt;Updating fix version to v0.10 since a patch is now available (I&apos;m assuming you&apos;ll commit and resolve this).&lt;/p&gt;</comment>
                            <comment id="12654666" author="sebb@apache.org" created="Tue, 9 Dec 2008 00:32:35 +0000"  >&lt;p&gt;Fixed in trunk:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=724565&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=724565&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SCXML-93&quot; title=&quot;SCXMLTestHelper generates a lot of serialisation files which are not tidied up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SCXML-93&quot;&gt;&lt;del&gt;SCXML-93&lt;/del&gt;&lt;/a&gt;: SCXMLTestHelper generates a lot of serialisation files which are not tidied up&lt;/p&gt;

&lt;p&gt;and in branch J6:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=724567&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=724567&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SCXML-93&quot; title=&quot;SCXMLTestHelper generates a lot of serialisation files which are not tidied up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SCXML-93&quot;&gt;&lt;del&gt;SCXML-93&lt;/del&gt;&lt;/a&gt;: SCXMLTestHelper generates a lot of serialisation files which are not tidied up&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395606" name="SCXMLTestHelper2.patch" size="1483" author="sebb" created="Tue, 9 Dec 2008 00:02:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zy53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>207833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>