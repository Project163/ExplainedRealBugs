<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-74] &lt;data&gt; uses &quot;name&quot; attribute instead of &quot;ID&quot;</title>
                <link>https://issues.apache.org/jira/browse/SCXML-74</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;In the recent SCXML WD (WD-scxml-20080516), the &amp;lt;data&amp;gt; element is defined to use an &quot;ID&quot; attribute. Previously it had been &quot;name&quot; (WD-scxml-20070221). This change is not reflected in the source (see class org.apache.commons.scxml.model.Data) and leads to a NullPointerException when trying to use it.&lt;/p&gt;

&lt;p&gt;Example: &lt;/p&gt;

&lt;p&gt;This SCXML document...&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;scxml xmlns=&quot;http://www.w3.org/2005/07/scxml&quot; version=&quot;1.0&quot; initialstate=&quot;InitialState&quot; &amp;gt;&lt;br/&gt;
	&amp;lt;datamodel&amp;gt;&lt;br/&gt;
		&amp;lt;data id=&quot;RequestForBerlin&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;GetWeather xmlns=&quot;http://www.webserviceX.NET&quot;&amp;gt;&lt;br/&gt;
			  &amp;lt;CityName&amp;gt;Berlin&amp;lt;/CityName&amp;gt;&lt;br/&gt;
			  &amp;lt;CountryName&amp;gt;Germany&amp;lt;/CountryName&amp;gt;&lt;br/&gt;
			&amp;lt;/GetWeather&amp;gt;				&lt;br/&gt;
		&amp;lt;/data&amp;gt;&lt;br/&gt;
	&amp;lt;/datamodel&amp;gt;&lt;br/&gt;
	&amp;lt;state id=&quot;InitialState&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;transition target=&quot;GetWeatherState&quot;/&amp;gt;&lt;br/&gt;
	&amp;lt;/state&amp;gt;&lt;br/&gt;
	&amp;lt;state id=&quot;GetWeatherState&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;invoke src=&quot;WeatherService#GetWeather&quot; targettype=&quot;x-soap&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;param name=&quot;RequestForBerlin&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;/invoke&amp;gt;&lt;br/&gt;
	&amp;lt;/state&amp;gt;&lt;br/&gt;
&amp;lt;/scxml&amp;gt;&lt;/p&gt;

&lt;p&gt;... leads to ...&lt;/p&gt;

&lt;p&gt;...  java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.scxml.env.SimpleContext.setLocal(SimpleContext.java:164)&lt;br/&gt;
	at org.apache.commons.scxml.SCXMLHelper.cloneDatamodel(SCXMLHelper.java:466)&lt;br/&gt;
	at org.apache.commons.scxml.SCXMLExecutor.reset(SCXMLExecutor.java:223)&lt;br/&gt;
	at org.apache.commons.scxml.SCXMLExecutor.go(SCXMLExecutor.java:351)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;... because the name field of a Data class instance is null.&lt;/p&gt;

&lt;p&gt;when changing the &amp;lt;data id=&quot;RequestForBerlin&quot;&amp;gt; line to &amp;lt;data name=&quot;RequestForBerlin&quot;&amp;gt; the problem dissapears.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399628">SCXML-74</key>
            <summary>&lt;data&gt; uses &quot;name&quot; attribute instead of &quot;ID&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehoefig">Edzard Hoefig</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jul 2008 17:25:50 +0000</created>
                <updated>Thu, 17 Jul 2008 18:54:53 +0000</updated>
                            <resolved>Sat, 12 Jul 2008 03:19:18 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12610669" author="rahul@apache.org" created="Sat, 5 Jul 2008 00:01:35 +0000"  >&lt;p&gt;Thanks for pointing this out, I&apos;ve set the fix version to be v0.9 (the next anticipated release). We have not updated to the latest WD, but we will need to go through the changes with a fine-toothed comb at some point (volunteers welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;I won&apos;t be able to get to this for another week, but the fix should be fairly straightforward if anyone wants to take a stab at it (given that you&apos;re correctly identified the source code that needs updating).&lt;/p&gt;</comment>
                            <comment id="12611955" author="ehoefig" created="Wed, 9 Jul 2008 09:29:52 +0000"  >&lt;p&gt;The issue seems to be fairly easily fixed (at least all junit tests stay green) by the following steps.&lt;br/&gt;
I could also commit these to the SVN, but am unsure about the process followed in this project. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;1) Class org.apache.commons.scxml.SCXMLHelper.java &lt;br/&gt;
Three changes in line 448, line 464, line 466 (in &quot;cloneDatamodel&quot;)&lt;/p&gt;

&lt;p&gt;Use &quot;datum.getId()&quot; instead of &quot;datum.getName()&quot;&lt;br/&gt;
(It is important to use the lowercase &quot;Id&quot; and not &quot;ID&quot;, which is not working &amp;#8211; confusing the Digester?)&lt;/p&gt;

&lt;p&gt;2) Class org.apache.commons.scxml.io.SCXMLSerializer.java&lt;br/&gt;
One change in else clause starting on line 363 (in &quot;serializeDatamodel&quot;) &lt;/p&gt;

&lt;p&gt;Use&lt;br/&gt;
b.append(indent).append(INDENT).append(&quot;&amp;lt;data id=\&quot;&quot;).&lt;br/&gt;
	append(datum.getId()).append(&quot;\&quot; expr=\&quot;&quot;).&lt;br/&gt;
	append(datum.getExpr()).append(&quot;\&quot; /&amp;gt;\n&quot;);&lt;br/&gt;
Instead of&lt;br/&gt;
b.append(indent).append(INDENT).append(&quot;&amp;lt;data name=\&quot;&quot;).&lt;br/&gt;
	append(datum.getName()).append(&quot;\&quot; expr=\&quot;&quot;).&lt;br/&gt;
	append(datum.getExpr()).append(&quot;\&quot; /&amp;gt;\n&quot;);&lt;/p&gt;

&lt;p&gt;3) Class org.apache.commons.scxml.model.Data.java&lt;br/&gt;
Re-factor &quot;name&quot; attribute to &quot;id&quot;, also change accessor methods:&lt;/p&gt;

&lt;p&gt;line 39 (the attribute name)&lt;br/&gt;
line 68 (initialization in ctor)&lt;br/&gt;
line 74ff: &lt;br/&gt;
rename accessor methods, e.g. use these&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Get the ID.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;@return String The identifier.&lt;br/&gt;
 */&lt;br/&gt;
public final String getId() {&lt;br/&gt;
	return id;&lt;br/&gt;
}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Set the ID.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;@param id The identifier.&lt;br/&gt;
 */&lt;br/&gt;
public final void setId(final String id) {&lt;br/&gt;
	this.id = id;&lt;br/&gt;
}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;4) Refactor the xml test data files&lt;br/&gt;
Use &quot;id&quot; instead of &quot;name&quot; as attribute in declaration of &amp;lt;data/&amp;gt; elements &lt;br/&gt;
This has to be done for following files:&lt;/p&gt;

&lt;p&gt;org.apache.commons.scxml.custom-hello-world-04-el.xml&lt;br/&gt;
org.apache.commons.scxml.custom-hello-world-04-jexl.xml&lt;br/&gt;
org.apache.commons.scxml.env.jexl.datamodel-01.xml&lt;br/&gt;
org.apache.commons.scxml.env.jexl.datamodel-02.xml&lt;br/&gt;
org.apache.commons.scxml.env.jexl.datamodel-03.xml&lt;br/&gt;
org.apache.commons.scxml.env.jexl.datamodel-04.xml&lt;br/&gt;
org.apache.commons.scxml.env.jexl.eventdata-03.xml&lt;br/&gt;
org.apache.commons.scxml.env.jsp.datamodel-01.xml&lt;br/&gt;
org.apache.commons.scxml.env.jsp.datamodel-02.xml&lt;br/&gt;
org.apache.commons.scxml.env.jsp.datamodel-03.xml&lt;br/&gt;
org.apache.commons.scxml.issues.issue64-01.xml&lt;br/&gt;
org.apache.commons.scxml.issues.issue64-02.xml&lt;br/&gt;
org.apache.commons.scxml.model.assign-test.xml&lt;/p&gt;
</comment>
                            <comment id="12612299" author="rahul@apache.org" created="Wed, 9 Jul 2008 21:54:29 +0000"  >&lt;p&gt;Thanks a lot for taking time to identify the changes. I should have pointed to the contributing patches page to make the process clearer:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://commons.apache.org/patches.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/patches.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will take a look at committing the necessary changes (may be a week or two). We should retain the ability to use &quot;name&quot; (instead of &quot;id&quot;) for backwards compatibility.&lt;/p&gt;</comment>
                            <comment id="12612423" author="ehoefig" created="Thu, 10 Jul 2008 09:51:37 +0000"  >&lt;p&gt;Thanks for the pointer to the contribution process. Here is a patch for the identified changes. I left the &quot;name&quot; accessors in the Data class for backward compability; Both &quot;id&quot; and &quot;name&quot; accessors are referring to the same &quot;id&quot; attribute now.&lt;/p&gt;</comment>
                            <comment id="12613042" author="rahul@apache.org" created="Sat, 12 Jul 2008 03:19:18 +0000"  >&lt;p&gt;Great, thanks for the patch. I&apos;ve applied it in r676121 and added you as a contributor:&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=676121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=676121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I made two minor changes to your patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Deprecated the get/setName methods to indicate we recommend using id&lt;/li&gt;
	&lt;li&gt;The patch sporadically contained extra newlines at the end of some files, I removed those&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can now try the latest code in trunk to verify that the fix works for you. Resolving as fixed.&lt;/p&gt;</comment>
                            <comment id="12614490" author="ehoefig" created="Thu, 17 Jul 2008 18:54:53 +0000"  >&lt;p&gt;Thank you, works fine for me now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12385724" name="commons-scxml_data-id_patch_ehoefig" size="18965" author="ehoefig" created="Thu, 10 Jul 2008 09:51:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zzr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>