<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:32:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-226] Support of special send targets #_parent, #_invokeid and #_scxml_sessionid</title>
                <link>https://issues.apache.org/jira/browse/SCXML-226</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;Currently it is not possible to use #_parent and #_invokeid to allow communication between two scxml instances where one invoked the other. &lt;/p&gt;

&lt;p&gt;Due to the last changes the _ioprocessors variable was introduced. If the target of a &amp;lt;send&amp;gt; may reference to an entry in the _ioprocessors map, then it should be possible to forward events directly to the registered SCXMLIOProcessor instance.&lt;/p&gt;

&lt;p&gt;Given this the invoker must supply a SCXMLIOProcessor for the parent to register within the its SCXMLExecutionContext map as #_invokeId and the invoker must register the parent SCXMLIOProcessor as #_parent within the execution context of the SCXMLExecutor. As well as this the EventDispatcher must take the SCXMLIOProcessor registered for the target from _ioprocessors.&lt;/p&gt;

&lt;p&gt;Based on my assumptions I tried to implement this and uploaded the patch to: &lt;a href=&quot;http://pastebin.com/t855Ugs1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pastebin.com/t855Ugs1&lt;/a&gt; . Hope it helps.&lt;br/&gt;
------&lt;br/&gt;
Update (Ate): besides the above improvements, support for #_scxml_sessionid now also has been added, allowing to send events to the own SCXML session through the external SCXMLIOProcessor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12774301">SCXML-226</key>
            <summary>Support of special send targets #_parent, #_invokeid and #_scxml_sessionid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ate">Ate Douma</assignee>
                                    <reporter username="hiu.phail">Michael Goerlich</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Feb 2015 18:17:28 +0000</created>
                <updated>Sun, 10 Dec 2017 21:32:03 +0000</updated>
                            <resolved>Sun, 10 Dec 2017 21:32:03 +0000</resolved>
                                    <version>0.5</version>
                    <version>0.6</version>
                    <version>0.7</version>
                    <version>0.8</version>
                    <version>0.9</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14316700" author="hiu.phail" created="Wed, 11 Feb 2015 18:18:39 +0000"  >&lt;p&gt;Added file to jira as well in case the paste gets deleted.&lt;/p&gt;</comment>
                            <comment id="14317195" author="adouma" created="Wed, 11 Feb 2015 23:26:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hiu.phail&quot; class=&quot;user-hover&quot; rel=&quot;hiu.phail&quot;&gt;hiu.phail&lt;/a&gt; Thank you for this contribution!&lt;br/&gt;
Your timing is perfect &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I&apos;ve actually been working the last few days on an improvement in exactly the same area, although so far only concerning #_parent support.&lt;br/&gt;
I do like your patch and it definitely helps! &lt;br/&gt;
Your changes for the #_parent target in general match those of mine (high-level), but there are a few differences...  &lt;/p&gt;

&lt;p&gt;My changes (for #_parent) are more elaborate  because I also added additional support for setting up the child SCXMLExecutor.&lt;br/&gt;
A child SCXMLExecutor should (as a default) also &apos;share&apos; the same SCXMLSemantics implementation, EventDispatcher, and ErrorReporter.&lt;br/&gt;
This requires that the Invoker (SimpleSCXMLInvoker) gets a reference to the &apos;parent&apos; SCXMLExecutor passed in.&lt;br/&gt;
All this resulted in a few other changes, one of which was dropping the no longer useful (too limiting) InvokerManager interface!&lt;/p&gt;

&lt;p&gt;Long story short: I am about to commit &lt;b&gt;my&lt;/b&gt; changes for #_parent target support first, and I think those changes will &apos;align&apos; with your current usages.&lt;br/&gt;
As said: there are some more API changes and some different from your patch, but I think it should be easy to adjust to those.&lt;/p&gt;

&lt;p&gt;Once I&apos;ve committed those, I&apos;ll rework your patch for the #_invokeid support and merge that in as well.&lt;br/&gt;
If the end result is not providing or somehow limiting in what you need/expected, just let me know and we can work out further adjustments or enhancements.&lt;/p&gt;

&lt;p&gt;Thanks again for your contribution, and I&apos;m looking forward for more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Regards, Ate&lt;/p&gt;</comment>
                            <comment id="14317319" author="adouma" created="Thu, 12 Feb 2015 01:11:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hiu.phail&quot; class=&quot;user-hover&quot; rel=&quot;hiu.phail&quot;&gt;hiu.phail&lt;/a&gt; I&apos;ve reworked your patch for the remaining #_invokeid support (largely intact) and comitted it.&lt;/p&gt;

&lt;p&gt;I don&apos;t have a direct test-case available for this yet, but am also working on adding support for embedded scxml &amp;lt;content&amp;gt; in invoke definitions, &lt;br/&gt;
for which the w3c tests have plenty examples including (then) tests for the #_invokeid targets.&lt;/p&gt;

&lt;p&gt;But if you can verify if the current changes already work in your context, that would be great!&lt;/p&gt;

&lt;p&gt;I leave this issue open and assign it to you for review.&lt;br/&gt;
If you have any comments or feedback, please let me know.&lt;/p&gt;

&lt;p&gt;Thanks again for the contribution!&lt;/p&gt;

&lt;p&gt;p.s. I&apos;m also working on support for the #_scxml_sessionid target, but that needs a little bit more work.&lt;br/&gt;
Once I have that working, I&apos;ll update and expand this issue (title as well) to add it too.&lt;/p&gt;</comment>
                            <comment id="14317323" author="adouma" created="Thu, 12 Feb 2015 01:12:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hiu.phail&quot; class=&quot;user-hover&quot; rel=&quot;hiu.phail&quot;&gt;hiu.phail&lt;/a&gt; Sorry, can&apos;t assign it to you, for that you need higher privileges (which I can&apos;t give you directly right now).&lt;/p&gt;</comment>
                            <comment id="14317370" author="adouma" created="Thu, 12 Feb 2015 01:42:09 +0000"  >&lt;p&gt;As indicated earlier, I&apos;ve now also added support for #_scxml_sessionid&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12698148" name="fix_invoke_special_targets" size="6630" author="hiu.phail" created="Wed, 11 Feb 2015 18:18:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25hyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>