<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-76] Serialization of expressions may produce invalid XML</title>
                <link>https://issues.apache.org/jira/browse/SCXML-76</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;The SCXMLSerializer does not escape expression strings. With an EcmaScript evaluator the following may occur:&lt;/p&gt;

&lt;p&gt;original document:&lt;br/&gt;
&amp;lt;transition event=&quot;foo&quot; cond=&quot;i &amp;lt; 3&quot; target=&quot;bar&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;the serialized document will be:&lt;br/&gt;
&amp;lt;transition event=&quot;foo&quot; cond=&quot;i &amp;lt; 3&quot; target=&quot;bar&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;which is ill-formed XML. The serializer would need to escape the condition string. This applies to all places where expressions may occur.&lt;/p&gt;

&lt;p&gt;Apache commons-lang has a StringEscapeUtil.escapeXML(String data) function which would solve the problem (I don&apos;t know if it would help for all cases). &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/java/org/apache/commons/lang/StringEscapeUtils.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/lang/trunk/src/java/org/apache/commons/lang/StringEscapeUtils.java?view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But using this would add another dependency to commons-scxml.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400288">SCXML-76</key>
            <summary>Serialization of expressions may produce invalid XML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ingmar">Ingmar Kliche</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2008 13:14:07 +0000</created>
                <updated>Wed, 30 Jul 2008 16:59:22 +0000</updated>
                            <resolved>Mon, 28 Jul 2008 21:47:34 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12614309" author="ingmar" created="Thu, 17 Jul 2008 12:25:08 +0000"  >&lt;p&gt;Here is a simple test case:&lt;/p&gt;

&lt;p&gt;    public void testSerializeTransition() &lt;/p&gt;
{
    	Transition t = new Transition();
    	
    	t.setCond(&quot;i &amp;lt; 3&quot;);
    	
    	String actualValue = &quot; &amp;lt;transition cond=\&quot;i &amp;lt; 3\&quot;&amp;gt;\n &amp;lt;/transition&amp;gt;\n&quot;;
    	
    	StringBuffer returnValue = new StringBuffer();
    	SCXMLSerializer.serializeTransition(returnValue, t, &quot; &quot;);
    	
    	assertEquals(actualValue, returnValue.toString());
    }</comment>
                            <comment id="12614310" author="ingmar" created="Thu, 17 Jul 2008 12:30:03 +0000"  >&lt;p&gt;Added link to StringEscapeUtil implementation.&lt;/p&gt;</comment>
                            <comment id="12614441" author="rahul@apache.org" created="Thu, 17 Jul 2008 17:03:21 +0000"  >&lt;p&gt;Yup, thanks, makes sense, I&apos;m marking fix version to next release (v0.9).&lt;/p&gt;

&lt;p&gt;I&apos;m traveling and won&apos;t be able to get to this for atleast another week. Since you have identified the changes, would you like to provide a patch as well? Here&apos;s more on that:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://commons.apache.org/patches.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/patches.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You are right that we don&apos;t want any more dependencies (especially required ones) so we&apos;ll want to copy over the guts of the escapeXML method from &lt;span class=&quot;error&quot;&gt;&amp;#91;lang&amp;#93;&lt;/span&gt; (or write an equivalent). The best place for this would be as a utility method in the org.apache.commons.scxml.SCXMLHelper class that can be used by the SCXMLSerializer (and other places as needed).&lt;/p&gt;
</comment>
                            <comment id="12617329" author="ingmar" created="Sun, 27 Jul 2008 19:36:09 +0000"  >&lt;p&gt;added escapeXML() helper function&lt;/p&gt;</comment>
                            <comment id="12617330" author="ingmar" created="Sun, 27 Jul 2008 19:37:15 +0000"  >&lt;p&gt;a test case&lt;/p&gt;</comment>
                            <comment id="12617331" author="ingmar" created="Sun, 27 Jul 2008 19:54:33 +0000"  >&lt;p&gt;Rahul,&lt;/p&gt;

&lt;p&gt;I tried to find a compact solution and added patches for 3 files.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ingmar.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;2008/7/17 Rahul Akolkar (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12617570" author="rahul@apache.org" created="Mon, 28 Jul 2008 21:47:34 +0000"  >&lt;p&gt;Thanks a lot for the patch(es)!&lt;/p&gt;

&lt;p&gt;I&apos;ve committed a variant of the escapeXML() method, such that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The floating point operation is avoided&lt;/li&gt;
	&lt;li&gt;A map isn&apos;t instantiated&lt;/li&gt;
	&lt;li&gt;Cosmetic changes (tab removal etc.)&lt;br/&gt;
I had some difficulty in trying to apply the patches using my SVN client. I&apos;d recommend providing one patch (for all files changed) rooted at trunk.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Resolving as fixed. It would be great if you could try a clean checkout from SVN to see if this works for you. Thanks again.&lt;/p&gt;</comment>
                            <comment id="12618270" author="ingmar" created="Wed, 30 Jul 2008 09:52:02 +0000"  >&lt;p&gt;It works fine for me.&lt;/p&gt;</comment>
                            <comment id="12618433" author="rahul@apache.org" created="Wed, 30 Jul 2008 16:59:22 +0000"  >&lt;p&gt;Thanks, closing issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12386992" name="SCXMLHelper.patch" size="2069" author="ingmar" created="Sun, 27 Jul 2008 19:36:09 +0000"/>
                            <attachment id="12386993" name="SCXMLSerializer.patch" size="4605" author="ingmar" created="Sun, 27 Jul 2008 19:36:49 +0000"/>
                            <attachment id="12386994" name="SCXMLSerializerTest.patch" size="1035" author="ingmar" created="Sun, 27 Jul 2008 19:37:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 17 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zzcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>