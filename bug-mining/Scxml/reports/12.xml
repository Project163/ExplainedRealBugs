<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-51] &lt;assign&gt; with location and expr both containing datamodel expressions concatenates old and new values</title>
                <link>https://issues.apache.org/jira/browse/SCXML-51</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;If you have the following datamodel:     &lt;/p&gt;

&lt;p&gt;    &amp;lt;datamodel&amp;gt;&lt;br/&gt;
        &amp;lt;data name=&quot;RAD&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;rad:timeout&amp;gt;10&amp;lt;/rad:timeout&amp;gt;&lt;br/&gt;
        &amp;lt;/data&amp;gt;&lt;br/&gt;
        &amp;lt;data name=&quot;CONFIG&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;rad:short&amp;gt;20&amp;lt;/rad:short&amp;gt;&lt;br/&gt;
        &amp;lt;/data&amp;gt;&lt;br/&gt;
    &amp;lt;/datamodel&amp;gt;&lt;/p&gt;

&lt;p&gt;and execute this assign:&lt;/p&gt;

&lt;p&gt;            &amp;lt;assign location=&quot;Data(RAD, &apos;rad:timeout&apos;)&quot; expr=&quot;Data(CONFIG, &apos;rad:short&apos;)&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;you end up with the data value of &quot;2010&quot; stored in rad:timeout.  The correct data value should be &quot;20&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12374662">SCXML-51</key>
            <summary>&lt;assign&gt; with location and expr both containing datamodel expressions concatenates old and new values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rahul@apache.org">Rahul Akolkar</assignee>
                                    <reporter username="crisnack">Chris Nack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2007 14:25:56 +0000</created>
                <updated>Thu, 3 Jan 2008 19:46:52 +0000</updated>
                            <resolved>Fri, 27 Jul 2007 21:00:58 +0000</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12516092" author="rahul@apache.org" created="Fri, 27 Jul 2007 20:13:01 +0000"  >&lt;p&gt;This has to do with the fact that we do not remove existing child nodes before adding new ones in the above usage scenario. I tend to agree that this doesn&apos;t match the semantics of assignment, and furthermore, in situations like the above (where the only children are text nodes) this definitely leads to unexpected results. I&apos;ll look into this, setting fix version to next release (v0.7).&lt;/p&gt;

&lt;p&gt;Thanks for illustrating how to reproduce the issue. Since you have most of what is needed, it&apos;d be great if you could submit JUnit testcase(s) with the report (for example, see tests in Commons SCXML codebase) &amp;#8211; that&apos;d save a bit of time in having to reconstruct these, so would be very helpful.&lt;/p&gt;</comment>
                            <comment id="12516100" author="rahul@apache.org" created="Fri, 27 Jul 2007 21:00:58 +0000"  >&lt;p&gt;Should be fixed in trunk, added a similar test to the test suite.&lt;/p&gt;</comment>
                            <comment id="12519020" author="crisnack" created="Fri, 10 Aug 2007 14:05:44 +0000"  >&lt;p&gt;Thanks for fixing this Rahul,&lt;br/&gt;
Do you still need a junit testcase?&lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Chris&lt;/p&gt;
</comment>
                            <comment id="12519234" author="rahul@apache.org" created="Sat, 11 Aug 2007 14:47:47 +0000"  >&lt;p&gt;We have a testcase now, based on your example (see state with id &quot;assign2&quot; in the document below):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/scxml/trunk/src/test/java/org/apache/commons/scxml/model/assign-test.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/scxml/trunk/src/test/java/org/apache/commons/scxml/model/assign-test.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So while more testcases are always welcome, there isn&apos;t a pressing need anymore in terms of coverage for this issue. Thanks for asking.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zz5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>207996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>