<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-71] Javascript expression evaluator cannot evaluate _eventdatamap[&apos;event.name&apos;]</title>
                <link>https://issues.apache.org/jira/browse/SCXML-71</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;The _eventdatamap is implemented as a Java HashMap - and the Javascript engines (both JDK and JSR223) don&apos;t seem to be able to apply the [] operator to a Java Map object. &lt;/p&gt;

&lt;p&gt;An interim workaround when using the Javascript evaluator is to use _eventdatamap.get(&apos;event.name&apos;). &lt;/p&gt;

&lt;p&gt;For the longer term this anomalous behaviour can either just be documented or a patch that specifically handles _eventdatamap[] can be included in the eval functions&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 6&lt;/p&gt;</environment>
        <key id="12395060">SCXML-71</key>
            <summary>Javascript expression evaluator cannot evaluate _eventdatamap[&apos;event.name&apos;]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tonys">Tony Seebregts</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Apr 2008 10:22:26 +0000</created>
                <updated>Thu, 17 Jul 2008 17:57:51 +0000</updated>
                            <resolved>Thu, 15 May 2008 17:47:58 +0000</resolved>
                                    <version>0.7</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12593382" author="rahul@apache.org" created="Wed, 30 Apr 2008 17:10:32 +0000"  >&lt;p&gt;I think patching the documentation to mention this is a good start.&lt;/p&gt;

&lt;p&gt;Two comments about this:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The fact that all derived events are processed in one microstep by the engine is subject to change. Pending some clarification from the WG, this may change such that each derived event is processed in its own cycle (at the cost of more cycles). If that happens in some subsequent major release, then the need for using _eventdatamap will disappear altogether.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;I think we should avoid patches that specifically handle bits for any expression language used. There are going to be idiosyncrasies associated with the usage of each EL that users will have to be aware of and deal with appropriately. We tend to use ELs as-is.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12594589" author="tonys" created="Tue, 6 May 2008 13:47:41 +0000"  >&lt;p&gt;Ok, Rahul - that makes lots of sense to me too. I&apos;ll update the Javadoc comments and add an example.&lt;/p&gt;</comment>
                            <comment id="12594604" author="rahul@apache.org" created="Tue, 6 May 2008 15:34:33 +0000"  >&lt;p&gt;That&apos;d be great, thanks in advance.&lt;/p&gt;</comment>
                            <comment id="12595309" author="tonys" created="Thu, 8 May 2008 16:10:27 +0000"  >&lt;p&gt;I&apos;ve added a (fairly minimal) comment in the JSEvaluator.java javadoc comments and also added a sample to the end of the example-01.xml. &lt;/p&gt;

&lt;p&gt;The attached file has the all the relevant files I found in the J5 branch but the only ones that have changed are:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;JSEvaluator.java (added comment)&lt;/li&gt;
	&lt;li&gt;JSExampleTest.java (added MapTest inner class to support the _eventdatamap example)&lt;/li&gt;
	&lt;li&gt;example-01.xml (added the maptest example at the bottom)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hope that all helps &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;
</comment>
                            <comment id="12595352" author="rahul@apache.org" created="Thu, 8 May 2008 18:10:56 +0000"  >&lt;p&gt;Thank you for your time, I&apos;ll take a look early next week.&lt;/p&gt;

&lt;p&gt;Please attach patches, its much easier to incorporate incremental changes that way (the directory structure seems slightly different between SVN and the attached zip). Details on patches:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://commons.apache.org/patches.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/patches.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, the (now renamed) J6 branch, which would be the base for the patch, is here:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/scxml/branches/J6/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/scxml/branches/J6/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12597209" author="rahul@apache.org" created="Thu, 15 May 2008 17:47:58 +0000"  >&lt;p&gt;Fixed in the sense that the documentation and test improvments attached have been applied, thanks. There are no functional changes.&lt;/p&gt;

&lt;p&gt;Please submit any patches against the latest version of the J6 branch (or trunk, as the case may be).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381693" name="js-src.zip" size="22199" author="tonys" created="Thu, 8 May 2008 16:11:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zzxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>