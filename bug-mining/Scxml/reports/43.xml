<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:31:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SCXML-89] Assign.execute() doesn&apos;t remove all children of oldNode (includes fix)</title>
                <link>https://issues.apache.org/jira/browse/SCXML-89</link>
                <project id="12310492" key="SCXML">Commons SCXML</project>
                    <description>&lt;p&gt;This code, from Assign.execute(), seems to remove the oldNode child and &lt;b&gt;then&lt;/b&gt; ask for its next sibling, which returns null.  The result is to remove the first child, but leave the other children around, so that the result of &quot;Assign&quot; is a concatenation of all-but-one of the old nodes, followed by the new nodes.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;for (Node child = oldNode.getFirstChild();
   child != null;
   child = child.getNextSibling()) {
   oldNode.removeChild(child);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This (modified) code finds the next sibling before removal and produces the expected result.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;for (Node child = oldNode.getFirstChild(); child != null;) {
   Node nextChild = child.getNextSibling();
   oldNode.removeChild(child);
   child = nextChild;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can supply a test case if that would be helpful.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 7.10 (64 bit), JRE ia32-java6-sun-1.6.0.03&lt;/p&gt;</environment>
        <key id="12408471">SCXML-89</key>
            <summary>Assign.execute() doesn&apos;t remove all children of oldNode (includes fix)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joel.truher">joel truher</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Nov 2008 06:20:51 +0000</created>
                <updated>Wed, 3 Dec 2008 20:26:16 +0000</updated>
                            <resolved>Fri, 14 Nov 2008 23:51:15 +0000</resolved>
                                    <version>0.8</version>
                                    <fixVersion>0.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12647699" author="rahul@apache.org" created="Fri, 14 Nov 2008 18:55:31 +0000"  >&lt;p&gt;Yup, needs fixing, setting fix version to v0.9 (next release). It will indeed be quite helpful if you can attach a patch &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; with an appropriate JUnit test case added to the existing test suite &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. Thanks.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://commons.apache.org/patches.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/patches.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://commons.apache.org/scxml/junit-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/scxml/junit-report.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12647739" author="joel.truher" created="Fri, 14 Nov 2008 22:13:06 +0000"  >&lt;p&gt;Here&apos;s a patch with the fix and the test case.&lt;/p&gt;</comment>
                            <comment id="12647759" author="rahul@apache.org" created="Fri, 14 Nov 2008 23:51:15 +0000"  >&lt;p&gt;A variant of the patch has been applied to trunk and I&apos;ve added you to the list of contributors in r714191:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=714191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=714191&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If possible, please build the latest trunk and verify the fix.&lt;/p&gt;

&lt;p&gt;For patches, please provide the output of &apos;svn diff&apos; in a working copy of trunk (those are easier to apply). Thanks for this test case and patch.&lt;/p&gt;</comment>
                            <comment id="12647767" author="joel.truher" created="Sat, 15 Nov 2008 00:31:31 +0000"  >&lt;p&gt;verified on the trunk (svn 714196, last change 714191 Fri Nov 14 15:43:16 PST).  also ran a somewhat more extensive test within my app which independently verifies.&lt;/p&gt;

&lt;p&gt;thanks for the tips on diffs; i wasn&apos;t thinking about it.&lt;/p&gt;</comment>
                            <comment id="12652959" author="rahul@apache.org" created="Wed, 3 Dec 2008 20:26:16 +0000"  >&lt;p&gt;Closing since 0.9 is released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393963" name="jira-89.diff" size="11028" author="joel.truher" created="Fri, 14 Nov 2008 22:13:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zza7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>