{"url":"https://api.github.com/repos/vercel/next.js/issues/83063","repository_url":"https://api.github.com/repos/vercel/next.js","labels_url":"https://api.github.com/repos/vercel/next.js/issues/83063/labels{/name}","comments_url":"https://api.github.com/repos/vercel/next.js/issues/83063/comments","events_url":"https://api.github.com/repos/vercel/next.js/issues/83063/events","html_url":"https://github.com/vercel/next.js/issues/83063","id":3357210840,"node_id":"I_kwDOBC3Cis7IGvjY","number":83063,"title":"`next dev` and `next typegen` generate different outputs for `validator.ts`","user":{"login":"sm17p","id":11639260,"node_id":"MDQ6VXNlcjExNjM5MjYw","avatar_url":"https://avatars.githubusercontent.com/u/11639260?v=4","gravatar_id":"","url":"https://api.github.com/users/sm17p","html_url":"https://github.com/sm17p","followers_url":"https://api.github.com/users/sm17p/followers","following_url":"https://api.github.com/users/sm17p/following{/other_user}","gists_url":"https://api.github.com/users/sm17p/gists{/gist_id}","starred_url":"https://api.github.com/users/sm17p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sm17p/subscriptions","organizations_url":"https://api.github.com/users/sm17p/orgs","repos_url":"https://api.github.com/users/sm17p/repos","events_url":"https://api.github.com/users/sm17p/events{/privacy}","received_events_url":"https://api.github.com/users/sm17p/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3504540418,"node_id":"LA_kwDOBC3Cis7Q4wsC","url":"https://api.github.com/repos/vercel/next.js/labels/TypeScript","name":"TypeScript","color":"226CDE","default":false,"description":"Related to types with Next.js."}],"state":"closed","locked":true,"assignee":{"login":"bgub","id":25597854,"node_id":"MDQ6VXNlcjI1NTk3ODU0","avatar_url":"https://avatars.githubusercontent.com/u/25597854?v=4","gravatar_id":"","url":"https://api.github.com/users/bgub","html_url":"https://github.com/bgub","followers_url":"https://api.github.com/users/bgub/followers","following_url":"https://api.github.com/users/bgub/following{/other_user}","gists_url":"https://api.github.com/users/bgub/gists{/gist_id}","starred_url":"https://api.github.com/users/bgub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgub/subscriptions","organizations_url":"https://api.github.com/users/bgub/orgs","repos_url":"https://api.github.com/users/bgub/repos","events_url":"https://api.github.com/users/bgub/events{/privacy}","received_events_url":"https://api.github.com/users/bgub/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bgub","id":25597854,"node_id":"MDQ6VXNlcjI1NTk3ODU0","avatar_url":"https://avatars.githubusercontent.com/u/25597854?v=4","gravatar_id":"","url":"https://api.github.com/users/bgub","html_url":"https://github.com/bgub","followers_url":"https://api.github.com/users/bgub/followers","following_url":"https://api.github.com/users/bgub/following{/other_user}","gists_url":"https://api.github.com/users/bgub/gists{/gist_id}","starred_url":"https://api.github.com/users/bgub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgub/subscriptions","organizations_url":"https://api.github.com/users/bgub/orgs","repos_url":"https://api.github.com/users/bgub/repos","events_url":"https://api.github.com/users/bgub/events{/privacy}","received_events_url":"https://api.github.com/users/bgub/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2025-08-26T21:44:12Z","updated_at":"2025-08-27T21:02:57Z","closed_at":"2025-08-27T21:02:57Z","author_association":"NONE","type":{"id":1930995,"node_id":"IT_kwDOAOSnPM4AHXbz","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T15:36:35Z","updated_at":"2024-07-26T10:33:22Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For me, I don't have the `rootDir` set but`next typegen` and `next dev` generates different output for `validators.ts`. \n\nI have a `frontend` directory where my next code resides. I'm runnning both of these commands from my project's root.\n\n### `next typegen frontend`` - This one is correct\n\n<img width=\"937\" height=\"418\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/507b049a-ef42-47a0-90f7-05a2dc864fda\" />\n\n### `next dev frontend` - This one is incorrect\n\n<img width=\"937\" height=\"418\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4214b8ce-7e00-4da8-8b4d-fc2efb43964f\" />\n\n#### My tsconfig - `frontend/tsconfig.json`\n\n```json\n{\n  \"compilerOptions\": {\n    \"noEmit\": true,\n    \"moduleResolution\": \"bundler\",\n    \"target\": \"es2024\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"es2024\"],\n    \"module\": \"esnext\",\n    \"strict\": true,\n    \"allowUnreachableCode\": false,\n    \"allowUnusedLabels\": false,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noImplicitOverride\": true,\n    \"noUncheckedIndexedAccess\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"plugins\": [{ \"name\": \"next\" }],\n    \"paths\": {\n      \"@/*\": [\"./*\"]\n    },\n    \"resolveJsonModule\": true,\n    \"verbatimModuleSyntax\": true,\n    \"jsx\": \"preserve\",\n    \"skipLibCheck\": true,\n    \"incremental\": true,\n    \"esModuleInterop\": true,\n    \"allowJs\": true,\n    \"exactOptionalPropertyTypes\": true,\n    \"types\": []\n  },\n  \"include\": [\n    \"next-env.d.ts\",\n    \"app/**/page.tsx\",\n    \"app/**/error.tsx\",\n    \"app/**/not-found.tsx\",\n    \"app/**/layout.tsx\",\n    \"app/**/route.ts\",\n    \"trpc/**/*.ts\",\n    \".next/types/**/*.ts\",\n    \"types/*.d.ts\",\n    \"middleware.ts\"\n  ],\n  \"exclude\": [\"node_modules\"]\n}\n\n``` \n\n _Originally posted by @sm17p in [#82877](https://github.com/vercel/next.js/issues/82877#issuecomment-3225812794)_","closed_by":{"login":"bgub","id":25597854,"node_id":"MDQ6VXNlcjI1NTk3ODU0","avatar_url":"https://avatars.githubusercontent.com/u/25597854?v=4","gravatar_id":"","url":"https://api.github.com/users/bgub","html_url":"https://github.com/bgub","followers_url":"https://api.github.com/users/bgub/followers","following_url":"https://api.github.com/users/bgub/following{/other_user}","gists_url":"https://api.github.com/users/bgub/gists{/gist_id}","starred_url":"https://api.github.com/users/bgub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bgub/subscriptions","organizations_url":"https://api.github.com/users/bgub/orgs","repos_url":"https://api.github.com/users/bgub/repos","events_url":"https://api.github.com/users/bgub/events{/privacy}","received_events_url":"https://api.github.com/users/bgub/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/vercel/next.js/issues/83063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/vercel/next.js/issues/83063/timeline","performed_via_github_app":null,"state_reason":"completed"}