{"url":"https://api.github.com/repos/yewstack/yew/issues/2056","repository_url":"https://api.github.com/repos/yewstack/yew","labels_url":"https://api.github.com/repos/yewstack/yew/issues/2056/labels{/name}","comments_url":"https://api.github.com/repos/yewstack/yew/issues/2056/comments","events_url":"https://api.github.com/repos/yewstack/yew/issues/2056/events","html_url":"https://github.com/yewstack/yew/issues/2056","id":996734500,"node_id":"I_kwDOBtKdYc47aPYk","number":2056,"title":"Allow specifying worker script location as absolute or relative to current path","user":{"login":"astraw","id":30176,"node_id":"MDQ6VXNlcjMwMTc2","avatar_url":"https://avatars.githubusercontent.com/u/30176?v=4","gravatar_id":"","url":"https://api.github.com/users/astraw","html_url":"https://github.com/astraw","followers_url":"https://api.github.com/users/astraw/followers","following_url":"https://api.github.com/users/astraw/following{/other_user}","gists_url":"https://api.github.com/users/astraw/gists{/gist_id}","starred_url":"https://api.github.com/users/astraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astraw/subscriptions","organizations_url":"https://api.github.com/users/astraw/orgs","repos_url":"https://api.github.com/users/astraw/repos","events_url":"https://api.github.com/users/astraw/events{/privacy}","received_events_url":"https://api.github.com/users/astraw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":893597181,"node_id":"MDU6TGFiZWw4OTM1OTcxODE=","url":"https://api.github.com/repos/yewstack/yew/labels/feature-request","name":"feature-request","color":"a0a4ef","default":false,"description":"A feature request"},{"id":3372249884,"node_id":"MDU6TGFiZWwzMzcyMjQ5ODg0","url":"https://api.github.com/repos/yewstack/yew/labels/A-yew-agent","name":"A-yew-agent","color":"FBCA04","default":false,"description":"Area: The yew-agent crate"},{"id":3372989095,"node_id":"MDU6TGFiZWwzMzcyOTg5MDk1","url":"https://api.github.com/repos/yewstack/yew/labels/feature-accepted","name":"feature-accepted","color":"a0a4ef","default":false,"description":"A feature request that has been accepted and needs implementing"}],"state":"closed","locked":false,"assignee":{"login":"astraw","id":30176,"node_id":"MDQ6VXNlcjMwMTc2","avatar_url":"https://avatars.githubusercontent.com/u/30176?v=4","gravatar_id":"","url":"https://api.github.com/users/astraw","html_url":"https://github.com/astraw","followers_url":"https://api.github.com/users/astraw/followers","following_url":"https://api.github.com/users/astraw/following{/other_user}","gists_url":"https://api.github.com/users/astraw/gists{/gist_id}","starred_url":"https://api.github.com/users/astraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astraw/subscriptions","organizations_url":"https://api.github.com/users/astraw/orgs","repos_url":"https://api.github.com/users/astraw/repos","events_url":"https://api.github.com/users/astraw/events{/privacy}","received_events_url":"https://api.github.com/users/astraw/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"astraw","id":30176,"node_id":"MDQ6VXNlcjMwMTc2","avatar_url":"https://avatars.githubusercontent.com/u/30176?v=4","gravatar_id":"","url":"https://api.github.com/users/astraw","html_url":"https://github.com/astraw","followers_url":"https://api.github.com/users/astraw/followers","following_url":"https://api.github.com/users/astraw/following{/other_user}","gists_url":"https://api.github.com/users/astraw/gists{/gist_id}","starred_url":"https://api.github.com/users/astraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astraw/subscriptions","organizations_url":"https://api.github.com/users/astraw/orgs","repos_url":"https://api.github.com/users/astraw/repos","events_url":"https://api.github.com/users/astraw/events{/privacy}","received_events_url":"https://api.github.com/users/astraw/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-09-15T07:08:12Z","updated_at":"2021-11-20T13:39:35Z","closed_at":"2021-11-20T13:39:35Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Problem**\r\nIn older yew (0.15 and earlier), worker scripts were specified with a name relative to the main script. Now, I must anticipate the final URL of my scripts and specify any leading path components in `Agent::name_of_resource()` because this is now treated as relative to the origin and thus absolute. However, it would be useful to allow the relative behavior again as this would allow yew apps (with workers) to be dropped into a directory not at the root of a website, \r\n\r\nOne could potentially call this a regression but the behavior was purposefully changed in #1208 to fix #1175. In #1175, @domdir made two proposals: `href should be replaced with either: \"page origin\" or \"page origin + pathname\"`. As noted (`While page origin + pathname is closer to the way it behaves currently, I think the correct solution, however, is to only use the page origin`), the preference was for \"page origin\" only and that was indeed the result of #1208, but I think \"page origin + pathname\" has a valid usecase.\r\n\r\n**Expected behavior**\r\nI think it should be possible for an app to opt-in to the old behavior or specifying the web worker name relative to the app.\r\n\r\n**Environment:**\r\n - Yew version: 0.16 and later\r\n\r\n**Questionnaire**\r\n- [ ] I'm interested in fixing this myself but don't know where to start\r\n- [x] I would like to fix and I can work on a solution but this requires discussion\r\n- [ ] I don't have time to fix this right now, but maybe later\r\n","closed_by":{"login":"voidpumpkin","id":32368314,"node_id":"MDQ6VXNlcjMyMzY4MzE0","avatar_url":"https://avatars.githubusercontent.com/u/32368314?v=4","gravatar_id":"","url":"https://api.github.com/users/voidpumpkin","html_url":"https://github.com/voidpumpkin","followers_url":"https://api.github.com/users/voidpumpkin/followers","following_url":"https://api.github.com/users/voidpumpkin/following{/other_user}","gists_url":"https://api.github.com/users/voidpumpkin/gists{/gist_id}","starred_url":"https://api.github.com/users/voidpumpkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voidpumpkin/subscriptions","organizations_url":"https://api.github.com/users/voidpumpkin/orgs","repos_url":"https://api.github.com/users/voidpumpkin/repos","events_url":"https://api.github.com/users/voidpumpkin/events{/privacy}","received_events_url":"https://api.github.com/users/voidpumpkin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yewstack/yew/issues/2056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yewstack/yew/issues/2056/timeline","performed_via_github_app":null,"state_reason":"completed"}