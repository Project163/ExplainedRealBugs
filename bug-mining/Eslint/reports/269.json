{"url":"https://api.github.com/repos/eslint/eslint/issues/12027","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/12027/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/12027/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/12027/events","html_url":"https://github.com/eslint/eslint/issues/12027","id":473618497,"node_id":"MDU6SXNzdWU0NzM2MTg0OTc=","number":12027,"title":"RuleTester prints `\\u000a` instead of newline","user":{"login":"chiawendt","id":16285118,"node_id":"MDQ6VXNlcjE2Mjg1MTE4","avatar_url":"https://avatars.githubusercontent.com/u/16285118?v=4","gravatar_id":"","url":"https://api.github.com/users/chiawendt","html_url":"https://github.com/chiawendt","followers_url":"https://api.github.com/users/chiawendt/followers","following_url":"https://api.github.com/users/chiawendt/following{/other_user}","gists_url":"https://api.github.com/users/chiawendt/gists{/gist_id}","starred_url":"https://api.github.com/users/chiawendt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chiawendt/subscriptions","organizations_url":"https://api.github.com/users/chiawendt/orgs","repos_url":"https://api.github.com/users/chiawendt/repos","events_url":"https://api.github.com/users/chiawendt/events{/privacy}","received_events_url":"https://api.github.com/users/chiawendt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-07-27T09:09:31Z","updated_at":"2020-03-29T03:40:03Z","closed_at":"2019-09-29T04:37:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Since eslint 6, rule tester prints newline in codes as `\\u000a`. It is hard to read for plugin developers. \r\n\r\n#### Code to repoduce\r\n```\r\nnpx mocha index.js\r\n```\r\n\r\n```js\r\n// index.js\r\n\r\nconst {RuleTester} = require('eslint');\r\n\r\nconst someRule = {\r\n  create() {\r\n    return {};\r\n  },\r\n};\r\n\r\nconst ruleTester = new RuleTester();\r\n\r\nruleTester.run('some-rule', someRule, {\r\n  valid: [],\r\n  invalid: [\r\n    {\r\n      code: `\r\n        var a;\r\n        var b;\r\n      `,\r\n      errors: [{message: 'foooooooooooo'}],\r\n    },\r\n  ],\r\n});\r\n```\r\n#### Actual output\r\nNote the lines with `\\u000a`.\r\n```\r\n  0 passing (46ms)\r\n  1 failing\r\n\r\n  1) some-rule\r\n       invalid\r\n         \\u000a        var a;\\u000a        var b;\\u000a      :\r\n\r\n      AssertionError [ERR_ASSERTION]: Should have 1 error but had 0: []\r\n      + expected - actual\r\n\r\n      -0\r\n      +1\r\n```\r\n\r\n#### Expected ouput\r\nThis is the behavior with `npm i eslint@5`.\r\n```\r\n  1) some-rule\r\n       invalid\r\n         \r\n        var a;\r\n        var b;\r\n      :\r\n\r\n      AssertionError [ERR_ASSERTION]: Should have 1 error but had 0: []\r\n      + expected - actual\r\n\r\n      -0\r\n      +1\r\n```\r\n\r\n","closed_by":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/12027/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/12027/timeline","performed_via_github_app":null,"state_reason":"completed"}