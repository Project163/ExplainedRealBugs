{"url":"https://api.github.com/repos/eslint/eslint/issues/9665","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/9665/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/9665/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/9665/events","html_url":"https://github.com/eslint/eslint/issues/9665","id":277738273,"node_id":"MDU6SXNzdWUyNzc3MzgyNzM=","number":9665,"title":"False positive on rule `lines-between-class-memebers` if a comment occurs between class members","user":{"login":"jrencz","id":948356,"node_id":"MDQ6VXNlcjk0ODM1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/948356?v=4","gravatar_id":"","url":"https://api.github.com/users/jrencz","html_url":"https://github.com/jrencz","followers_url":"https://api.github.com/users/jrencz/followers","following_url":"https://api.github.com/users/jrencz/following{/other_user}","gists_url":"https://api.github.com/users/jrencz/gists{/gist_id}","starred_url":"https://api.github.com/users/jrencz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrencz/subscriptions","organizations_url":"https://api.github.com/users/jrencz/orgs","repos_url":"https://api.github.com/users/jrencz/repos","events_url":"https://api.github.com/users/jrencz/events{/privacy}","received_events_url":"https://api.github.com/users/jrencz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-11-29T12:35:15Z","updated_at":"2018-06-14T20:04:39Z","closed_at":"2017-12-15T10:27:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for bug reports. If you are reporting a bug, please continue on. If you are here for another reason, please see below:\r\n\r\n    1. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    2. To request a change: https://eslint.org/docs/developer-guide/contributing/changes\r\n    3. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**Tell us about your environment**\r\n\r\n* **ESLint Version:** 4.12\r\n* **Node Version:** 8.9.1\r\n* **npm Version:** 5.5.1\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\nn/a\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n<!-- Paste your configuration below: -->\r\n```json\r\n{\r\n    \"parserOptions\": {\r\n        \"ecmaVersion\": 6,\r\n        \"sourceType\": \"script\",\r\n        \"ecmaFeatures\": {}\r\n    },\r\n    \"rules\": {\r\n        \"lines-between-class-members\": 2\r\n    },\r\n    \"env\": {}\r\n}\r\n```\r\n(generated by [ESLint Demo](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuICAvKipcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZ2V0Rm9vKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2hpbGQgY2xhc3Mgc2hvdWxkIHJlaW1wbGVtZW50IHRoaXMgbWV0aG9kJyk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBkb1NvbWV0aGluZygpIHt9XG59Iiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjo2LCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7ImxpbmVzLWJldHdlZW4tY2xhc3MtbWVtYmVycyI6Mn0sImVudiI6e319fQ==))\r\n\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\nI have a class which purpose is to be extended by other classes in order to provide actual implementation of some methods.\r\nThe class has placeholder methods that only throw, but don't use context (the subclass implementation will)\r\n\r\nSince this is an exception i wrapped the method with `/* eslint-disable class-methods-use-this */` just before the doc block and `/* eslint-enable class-methods-use-this */` just after the method body like that:\r\n\r\n<!-- Paste the source code below: -->\r\n```js\r\nclass Foo {\r\n  /* eslint-disable class-methods-use-this */\r\n  /**\r\n   * @returns {Array}\r\n   */\r\n  getFoo() {\r\n    throw new Error('Child class should reimplement this method');\r\n  }\r\n  /* eslint-enable class-methods-use-this */\r\n\r\n  /**\r\n   * @returns {undefined}\r\n   */\r\n  doSomething() {}\r\n}\r\n```\r\n\r\n<!-- Paste the command you used to run ESLint: -->\r\n[Demo showing false positive (demo1)](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuICAvKipcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZ2V0Rm9vKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2hpbGQgY2xhc3Mgc2hvdWxkIHJlaW1wbGVtZW50IHRoaXMgbWV0aG9kJyk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBkb1NvbWV0aGluZygpIHt9XG59Iiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjo2LCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7ImxpbmVzLWJldHdlZW4tY2xhc3MtbWVtYmVycyI6Mn0sImVudiI6e319fQ==)\r\n\r\n[Demo reduced to bare minimum showing false positive (demo2)](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgZm9vKCkge31cbiAgLyogZm9vICovXG5cbiAgYmFyKCkge31cbn0iLCJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsiZWNtYVZlcnNpb24iOjYsInNvdXJjZVR5cGUiOiJzY3JpcHQiLCJlY21hRmVhdHVyZXMiOnt9fSwicnVsZXMiOnsibGluZXMtYmV0d2Vlbi1jbGFzcy1tZW1iZXJzIjoyfSwiZW52Ijp7fX19). This one proves that any block comment between class members break the rule\r\n\r\nWhat's interesting: Moving the `/* eslint-enable class-methods-use-this */` from line 9 to line 10 (so that the padding line is above the `/* eslint-enable */` directive) solves the problem (another demo with no error: [demo1-no-error](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuICAvKipcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZ2V0Rm9vKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2hpbGQgY2xhc3Mgc2hvdWxkIHJlaW1wbGVtZW50IHRoaXMgbWV0aG9kJyk7XG4gIH1cblxuICAvKiBlc2xpbnQtZW5hYmxlIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXMgKi9cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBkb1NvbWV0aGluZygpIHt9XG59Iiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjo2LCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7ImxpbmVzLWJldHdlZW4tY2xhc3MtbWVtYmVycyI6Mn0sImVudiI6e319fQ==), and [demo2-no-error](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgZm9vKCkge31cblxuICAvKiBmb28gKi9cbiAgYmFyKCkge31cbn0iLCJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsiZWNtYVZlcnNpb24iOjYsInNvdXJjZVR5cGUiOiJzY3JpcHQiLCJlY21hRmVhdHVyZXMiOnt9fSwicnVsZXMiOnsibGluZXMtYmV0d2Vlbi1jbGFzcy1tZW1iZXJzIjoyfSwiZW52Ijp7fX19))\r\n\r\n**What did you expect to happen?**\r\nI think the rule should not report an error on line 14, especially since there's a blank line 10 which logically meets rule requirements.\r\nPlacement of `/* eslint-* */` directives should not affect whether the rule reports error or not if there's  one empty line between members.\r\n\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\nRule reports error in line 14, column 3 (see [demo1](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgLyogZXNsaW50LWRpc2FibGUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcyAqL1xuICAvKipcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZ2V0Rm9vKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2hpbGQgY2xhc3Mgc2hvdWxkIHJlaW1wbGVtZW50IHRoaXMgbWV0aG9kJyk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqL1xuICBkb1NvbWV0aGluZygpIHt9XG59Iiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjo2LCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7ImxpbmVzLWJldHdlZW4tY2xhc3MtbWVtYmVycyI6Mn0sImVudiI6e319fQ==) and [demo2](https://eslint.org/demo/#eyJ0ZXh0IjoiY2xhc3MgRm9vIHtcbiAgZm9vKCkge31cbiAgLyogZm9vICovXG5cbiAgYmFyKCkge31cbn0iLCJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsiZWNtYVZlcnNpb24iOjYsInNvdXJjZVR5cGUiOiJzY3JpcHQiLCJlY21hRmVhdHVyZXMiOnt9fSwicnVsZXMiOnsibGluZXMtYmV0d2Vlbi1jbGFzcy1tZW1iZXJzIjoyfSwiZW52Ijp7fX19)).\r\n\r\n","closed_by":{"login":"aladdin-add","id":13050025,"node_id":"MDQ6VXNlcjEzMDUwMDI1","avatar_url":"https://avatars.githubusercontent.com/u/13050025?v=4","gravatar_id":"","url":"https://api.github.com/users/aladdin-add","html_url":"https://github.com/aladdin-add","followers_url":"https://api.github.com/users/aladdin-add/followers","following_url":"https://api.github.com/users/aladdin-add/following{/other_user}","gists_url":"https://api.github.com/users/aladdin-add/gists{/gist_id}","starred_url":"https://api.github.com/users/aladdin-add/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aladdin-add/subscriptions","organizations_url":"https://api.github.com/users/aladdin-add/orgs","repos_url":"https://api.github.com/users/aladdin-add/repos","events_url":"https://api.github.com/users/aladdin-add/events{/privacy}","received_events_url":"https://api.github.com/users/aladdin-add/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/9665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/9665/timeline","performed_via_github_app":null,"state_reason":"completed"}