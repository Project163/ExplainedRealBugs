{"url":"https://api.github.com/repos/eslint/eslint/issues/18803","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/18803/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/18803/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/18803/events","html_url":"https://github.com/eslint/eslint/issues/18803","id":2481662013,"node_id":"I_kwDOAKjKDc6T6yg9","number":18803,"title":"Docs: (languageOptions.globals) How to specify more than one globals.(env)","user":{"login":"codyswanner","id":108250848,"node_id":"U_kgDOBnPG4A","avatar_url":"https://avatars.githubusercontent.com/u/108250848?v=4","gravatar_id":"","url":"https://api.github.com/users/codyswanner","html_url":"https://github.com/codyswanner","followers_url":"https://api.github.com/users/codyswanner/followers","following_url":"https://api.github.com/users/codyswanner/following{/other_user}","gists_url":"https://api.github.com/users/codyswanner/gists{/gist_id}","starred_url":"https://api.github.com/users/codyswanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codyswanner/subscriptions","organizations_url":"https://api.github.com/users/codyswanner/orgs","repos_url":"https://api.github.com/users/codyswanner/repos","events_url":"https://api.github.com/users/codyswanner/events{/privacy}","received_events_url":"https://api.github.com/users/codyswanner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":64004798,"node_id":"MDU6TGFiZWw2NDAwNDc5OA==","url":"https://api.github.com/repos/eslint/eslint/labels/documentation","name":"documentation","color":"5319e7","default":true,"description":"Relates to ESLint's documentation"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"}],"state":"closed","locked":false,"assignee":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2024-08-22T20:32:12Z","updated_at":"2024-08-23T14:10:06Z","closed_at":"2024-08-23T14:10:05Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Docs page(s)\n\nhttps://eslint.org/docs/latest/use/configure/migration-guide#configuring-language-options\r\nand\r\nhttps://eslint.org/docs/latest/use/configure/language-options\n\n### What documentation issue do you want to solve?\n\nCurrently the docs specify how to use a single globals.brower or globals.jest or globals.(env), but not more than one at a time.  The docs suggest that using the spread operator should work, so maybe something like this:\r\n\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: ...globals.browser, globals.jest }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n```\r\n\r\nBut that does not work, and neither does\r\n\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: ...globals.browser, ...globals.jest }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n````\r\n\r\nand neither does\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: globals.browser, globals.jest }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n```\r\nor\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: [globals.browser, globals.jest] }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n```\r\n\r\nI have tests that are using BOTH jest globals, and window (browser) globals, I need BOTH!  How can I configure this?\n\n### What do you think is the correct solution?\n\nI'd like the ESLint docs to specify how to do this.  Even better, I'd like the error messages to give me more of a hint than `Unexpected token: .` because that isn't very helpful, there's plenty of `.` in my config file, can you give some context, a line number, SOMETHING, and tell me how to fix it?  If `Unexpected token: ...` in languageOptions.globals, maybe I'm trying to do this specific thing (that the docs tell me should work) and you could link me to some information?\r\n\r\nIt seems like the underlying structure here is objects, so it seems like one of these should work, either with spread syntax:\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: ...globals.browser, ...globals.jest }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n```\r\nwhich would be fine but kind of unintuitive for a new user, or without spread syntax:\r\n```\r\nexport default [\r\n  {files: [\"**/*.{js,mjs,cjs,jsx}\"]},\r\n  {languageOptions: { globals: globals.browser, globals.jest }},\r\n  pluginJs.configs.recommended,\r\n  pluginReact.configs.flat.recommended,\r\n  {rules: {\"react/prop-types\": \"off\"}},\r\n  jestConfig.configs['flat/recommended']\r\n];\r\n```\r\nwhich was the first thing I tried because it makes sense.\n\n### Participation\n\n- [ ] I am willing to submit a pull request for this change.\n\n### Additional comments\n\nIn general, I am in favor of MORE specificity and examples in documentation, even at the cost of brevity.  Or a happy middle ground:  I don't think anyone has ever complained about a documentation that said \"find more examples __here__\" and linked to a page full of examples showing how to make each piece of the system singular or plural or what all the options are and what they do, etc.  I know that takes time but further examples help a TON when the concept is unclear/not intuitive.","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/18803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/18803/timeline","performed_via_github_app":null,"state_reason":"completed"}