{"url":"https://api.github.com/repos/eslint/eslint/issues/12640","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/12640/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/12640/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/12640/events","html_url":"https://github.com/eslint/eslint/issues/12640","id":532763529,"node_id":"MDU6SXNzdWU1MzI3NjM1Mjk=","number":12640,"title":"Disallow returning value from Promise executor","user":{"login":"dwelle","id":5153846,"node_id":"MDQ6VXNlcjUxNTM4NDY=","avatar_url":"https://avatars.githubusercontent.com/u/5153846?v=4","gravatar_id":"","url":"https://api.github.com/users/dwelle","html_url":"https://github.com/dwelle","followers_url":"https://api.github.com/users/dwelle/followers","following_url":"https://api.github.com/users/dwelle/following{/other_user}","gists_url":"https://api.github.com/users/dwelle/gists{/gist_id}","starred_url":"https://api.github.com/users/dwelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dwelle/subscriptions","organizations_url":"https://api.github.com/users/dwelle/orgs","repos_url":"https://api.github.com/users/dwelle/repos","events_url":"https://api.github.com/users/dwelle/events{/privacy}","received_events_url":"https://api.github.com/users/dwelle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":253473350,"node_id":"MDU6TGFiZWwyNTM0NzMzNTA=","url":"https://api.github.com/repos/eslint/eslint/labels/feature","name":"feature","color":"bfd4f2","default":false,"description":"This change adds a new feature to ESLint"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":12,"created_at":"2019-12-04T15:36:14Z","updated_at":"2020-12-17T17:28:12Z","closed_at":"2020-06-19T15:50:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Please describe what the rule should do:**\r\n\r\nDisallows returning values of any kind from the Promise *executor*.\r\n\r\nValue returned from Promise executor [is ignored](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#Parameters), but people may not be aware of it and they may think that returning e.g. another promise from the executor awaits that promise, or that the new promise (the outer one) is going to be rejected if the returned promise is rejected itself.\r\n\r\n**What category of rule is this? (place an \"X\" next to just one item)**\r\n\r\n[x] Warns about a potential error (problem)\r\n\r\n**Provide 2-3 code examples that this rule will warn about:**\r\n\r\n```js\r\nnew Promise(() => {\r\n    return Promise.resolve(42);\r\n});\r\n```\r\n```js\r\nnew Promise(() => {\r\n    return false;\r\n});\r\n```\r\n\r\n**Why should this rule be included in ESLint (instead of a plugin)?**\r\n\r\nThis rule would disallow returning anything from Promise executor function which is going to make original intent more clear, and prevent possible errors by expecting false behavior.\r\n\r\nThis rule is an extension of my [previous (accepted) suggestion](https://github.com/eslint/eslint/issues/10217) to help prevent issues when dealing with Promises.\r\n\r\n**Are you willing to submit a pull request to implement this rule?**\r\n\r\nMaybe.","closed_by":{"login":"btmills","id":1709537,"node_id":"MDQ6VXNlcjE3MDk1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1709537?v=4","gravatar_id":"","url":"https://api.github.com/users/btmills","html_url":"https://github.com/btmills","followers_url":"https://api.github.com/users/btmills/followers","following_url":"https://api.github.com/users/btmills/following{/other_user}","gists_url":"https://api.github.com/users/btmills/gists{/gist_id}","starred_url":"https://api.github.com/users/btmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btmills/subscriptions","organizations_url":"https://api.github.com/users/btmills/orgs","repos_url":"https://api.github.com/users/btmills/repos","events_url":"https://api.github.com/users/btmills/events{/privacy}","received_events_url":"https://api.github.com/users/btmills/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/12640/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/12640/timeline","performed_via_github_app":null,"state_reason":"completed"}