{"url":"https://api.github.com/repos/eslint/eslint/issues/18926","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/18926/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/18926/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/18926/events","html_url":"https://github.com/eslint/eslint/issues/18926","id":2536535471,"node_id":"I_kwDOAKjKDc6XMHWv","number":18926,"title":"Bug: [Flat config] Errors should indicate which config object contains error","user":{"login":"broofa","id":164050,"node_id":"MDQ6VXNlcjE2NDA1MA==","avatar_url":"https://avatars.githubusercontent.com/u/164050?v=4","gravatar_id":"","url":"https://api.github.com/users/broofa","html_url":"https://github.com/broofa","followers_url":"https://api.github.com/users/broofa/followers","following_url":"https://api.github.com/users/broofa/following{/other_user}","gists_url":"https://api.github.com/users/broofa/gists{/gist_id}","starred_url":"https://api.github.com/users/broofa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/broofa/subscriptions","organizations_url":"https://api.github.com/users/broofa/orgs","repos_url":"https://api.github.com/users/broofa/repos","events_url":"https://api.github.com/users/broofa/events{/privacy}","received_events_url":"https://api.github.com/users/broofa/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"}],"state":"closed","locked":false,"assignee":{"login":"snitin315","id":46647141,"node_id":"MDQ6VXNlcjQ2NjQ3MTQx","avatar_url":"https://avatars.githubusercontent.com/u/46647141?v=4","gravatar_id":"","url":"https://api.github.com/users/snitin315","html_url":"https://github.com/snitin315","followers_url":"https://api.github.com/users/snitin315/followers","following_url":"https://api.github.com/users/snitin315/following{/other_user}","gists_url":"https://api.github.com/users/snitin315/gists{/gist_id}","starred_url":"https://api.github.com/users/snitin315/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snitin315/subscriptions","organizations_url":"https://api.github.com/users/snitin315/orgs","repos_url":"https://api.github.com/users/snitin315/repos","events_url":"https://api.github.com/users/snitin315/events{/privacy}","received_events_url":"https://api.github.com/users/snitin315/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"snitin315","id":46647141,"node_id":"MDQ6VXNlcjQ2NjQ3MTQx","avatar_url":"https://avatars.githubusercontent.com/u/46647141?v=4","gravatar_id":"","url":"https://api.github.com/users/snitin315","html_url":"https://github.com/snitin315","followers_url":"https://api.github.com/users/snitin315/followers","following_url":"https://api.github.com/users/snitin315/following{/other_user}","gists_url":"https://api.github.com/users/snitin315/gists{/gist_id}","starred_url":"https://api.github.com/users/snitin315/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snitin315/subscriptions","organizations_url":"https://api.github.com/users/snitin315/orgs","repos_url":"https://api.github.com/users/snitin315/repos","events_url":"https://api.github.com/users/snitin315/events{/privacy}","received_events_url":"https://api.github.com/users/snitin315/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2024-09-19T14:32:17Z","updated_at":"2025-02-01T12:39:46Z","closed_at":"2025-02-01T12:39:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"[My apologies for not using the template to provide an executable MRE.   Hopefully this problem is self-evident enough that's not needed]\n\n### Environment\n\n```\n$ npx eslint --env-info\nEnvironment Info:\n\nNode version: v20.16.0\nnpm version: v10.8.1\nLocal ESLint version: v9.10.0 (Currently used)\nGlobal ESLint version: Not found\nOperating System: darwin 23.5.0\n```\n\n### Problem\n\nAs mentioned in the title, if a `eslint.config.js` file exports an array of configs with more than one item, diagnosing which config object has the error can be problematic. \n\n### Example\n\n**The config: eslint.config.js**\n```\n // Note: Invalid plugins object structure in 3rd config object\nexport default [ {}, {}, {  plugins: ['react'] }, {} ]\n```\n\n**The error**\n```bash\n$ eslint .\n\nOops! Something went wrong! :(\n\nA config object has a \"plugins\" key defined as an array of strings.\n\nFlat config requires \"plugins\" to be an object in this form:\n\n    {\n        plugins: {\n            react: pluginObject\n        }\n    }\n```\n\nNOTE: Log output fails to show which of the four config objects has the bad `plugins` key.  This puts the user in the position of having to guess and/or use trial and error to track down which of the four config objects is the problem.\n\nThis becomes particularly problematic as the size and complexity of the array grows.  For example, our (CodePen's) current config setup has a dozen different config objects:\n```js\nexport default [\n  js.configs.recommended,\n  ...eslintTypescript.configs.recommended,\n  eslintImport.flatConfigs.recommended,\n  eslintJest.configs['flat/recommended'],\n  eslintPromise.configs['flat/recommended'],\n  eslintReact.configs.flat.recommended,\n  eslintReactHooksFlat,\n  eslintSonar.configs.recommended,\n  eslintUnicorn.configs.recommended,\n\n  // custom configs\n  codepenIgnores,\n  codepenGraphql,\n  codepenRailsGraphql\n];\n\n```\n### Solution (Proposed)\n\n**Option 1: include config index in error**\n\nAt a minimum, including the index of the config object in the error message would  be helpful.  For example...\n> ~~A config object~~ **Config object at index 2** has a \"plugins\" key defined as an array of strings.\n\n**Option 2: support `config#name` property on config objects, and include in error**\n\nFor example, with this config...\n```\nexport default [ \n { name: 'oneConfig' },  \n { name: 'twoConfig' }, \n { name: 'redConfig', plugins: ['react'] }, \n { name: 'blueConfig' }\n]\n```\n\n... the error might read:\n> ~~A config object~~ **\"redConfig#plugins\"** key defined as an array of strings.\n","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/18926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/18926/timeline","performed_via_github_app":null,"state_reason":"completed"}