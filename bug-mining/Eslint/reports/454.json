{"url":"https://api.github.com/repos/eslint/eslint/issues/13711","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/13711/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/13711/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/13711/events","html_url":"https://github.com/eslint/eslint/issues/13711","id":707373082,"node_id":"MDU6SXNzdWU3MDczNzMwODI=","number":13711,"title":"Report fatal parsing errors differently than standard errors","user":{"login":"tosmolka","id":37370256,"node_id":"MDQ6VXNlcjM3MzcwMjU2","avatar_url":"https://avatars.githubusercontent.com/u/37370256?v=4","gravatar_id":"","url":"https://api.github.com/users/tosmolka","html_url":"https://github.com/tosmolka","followers_url":"https://api.github.com/users/tosmolka/followers","following_url":"https://api.github.com/users/tosmolka/following{/other_user}","gists_url":"https://api.github.com/users/tosmolka/gists{/gist_id}","starred_url":"https://api.github.com/users/tosmolka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tosmolka/subscriptions","organizations_url":"https://api.github.com/users/tosmolka/orgs","repos_url":"https://api.github.com/users/tosmolka/repos","events_url":"https://api.github.com/users/tosmolka/events{/privacy}","received_events_url":"https://api.github.com/users/tosmolka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":677842299,"node_id":"MDU6TGFiZWw2Nzc4NDIyOTk=","url":"https://api.github.com/repos/eslint/eslint/labels/needs%20design","name":"needs design","color":"f7c6c7","default":false,"description":"Important details about this change need to be discussed"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-09-23T13:35:36Z","updated_at":"2022-01-27T01:09:52Z","closed_at":"2021-07-30T22:14:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"eslint v7.9.0\r\n\r\nWe have eslint integrated in our CI/CD pipelines and we would like to distinguish between cases when linting was successful and when linting failed due to fatal errors during parsing. Such errors are often caused by misconfigured parser or by trying to lint files with syntax errors. \r\n\r\nSample error:\r\n\r\n```json\r\n{\r\n    \"ruleId\": null,\r\n    \"fatal\": true,\r\n    \"severity\": 2,\r\n    \"message\": \"Parsing error: 'import' and 'export' may appear only with 'sourceType: module'\",\r\n    \"line\": 1,\r\n    \"column\": 1\r\n}\r\n```\r\n\r\nWe see such cases as unsuccessful linting and would like to propose exiting with exit code `2`. This seems in line with what can be read in the [Exit codes docs](https://eslint.org/docs/user-guide/command-line-interface#exit-codes):\r\n\r\n> When linting files, ESLint will exit with one of the following exit codes:\r\n> \r\n> 0: Linting was successful and there are no linting errors. If the --max-warnings flag is set to n, the number of linting warnings is at most n.\r\n> 1: Linting was successful and there is at least one linting error, or there are more linting warnings than allowed by the --max-warnings option.\r\n> 2: Linting was unsuccessful due to a configuration problem or an internal error.\r\n> \r\n\r\nIf eslint starts returning `2` we could fail early in the pipeline without parsing the result files (which we do only in later stages) and let the user know that linting was actually not successful and configs need to be changed (e.g. update parser options or ignore invalid files). \r\n\r\nAlternatively, we could consider introducing new exit code `3` that would cover just this case. \r\n\r\nCan you please review the proposal and let us know? We might have capacity for contribution but we would like to agree on the approach first. Thanks. ","closed_by":{"login":"btmills","id":1709537,"node_id":"MDQ6VXNlcjE3MDk1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1709537?v=4","gravatar_id":"","url":"https://api.github.com/users/btmills","html_url":"https://github.com/btmills","followers_url":"https://api.github.com/users/btmills/followers","following_url":"https://api.github.com/users/btmills/following{/other_user}","gists_url":"https://api.github.com/users/btmills/gists{/gist_id}","starred_url":"https://api.github.com/users/btmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btmills/subscriptions","organizations_url":"https://api.github.com/users/btmills/orgs","repos_url":"https://api.github.com/users/btmills/repos","events_url":"https://api.github.com/users/btmills/events{/privacy}","received_events_url":"https://api.github.com/users/btmills/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/13711/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/13711/timeline","performed_via_github_app":null,"state_reason":"completed"}