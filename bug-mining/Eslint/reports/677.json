{"url":"https://api.github.com/repos/eslint/eslint/issues/19116","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/19116/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/19116/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/19116/events","html_url":"https://github.com/eslint/eslint/issues/19116","id":2642068772,"node_id":"I_kwDOAKjKDc6desUk","number":19116,"title":"Change Request: Flat config extends","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"}],"state":"closed","locked":false,"assignee":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":13,"created_at":"2024-11-07T20:10:37Z","updated_at":"2025-03-07T20:15:18Z","closed_at":"2025-03-07T20:15:18Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### ESLint version\n\nHEAD\n\n### What problem do you want to solve?\n\nNow that more folks are moving to ESLint v9 and flat config, a common complaint is that it's difficult to extend configs from plugins. Whereas eslintrc had `extends`, flat config forces folks to insert objects into the export array, sometimes using the spread (`...`) syntax and sometimes not. It seems that this is a point of both confusion and frustration for some:\n\n1. For beginners, the spread syntax is confusing. I've spent time helping folks on Discord only to discover that they just didn't understand how to use the spread operator or what it does. \n2. For everyone, some plugins export config objects while others export config arrays, and so you never know whether or not to use the spread operator. [[1](https://github.com/eslint/eslint/discussions/16960#discussioncomment-11147407)] [[2](https://github.com/eslint/eslint/discussions/16960#discussioncomment-11160226)] [[3](https://github.com/eslint/eslint/issues/18040)]\n3. Further adding to the confusion, if you want to extend another config only for certain files, you need to [write a bit of JavaScript](https://eslint.org/docs/latest/use/configure/combine-configs#apply-a-config-array-to-a-subset-of-files) for that too. This is also hostile for beginners and annoying for others.\n\nI think overall, what we gained in flexibility has also resulted in an increase in complexity for setting up and editing config files. I think there's enough data showing that this is a problem and needs addressing.\n\n### What do you think is the correct solution?\n\nI think we can address these problems with a couple of changes.\n\n## 1. Allow nested arrays\n\nFirst, we can allow arrays to be inserted directly into a flat config array and then flatten the config array. This would negate the need to use the spread syntax at all. This was part of the [original RFC](https://github.com/eslint/rfcs/tree/main/designs/2019-config-simplification#extending-another-config) and later [suggested to be enabled](https://github.com/eslint/eslint/issues/18040) by @bradzacher. This is actually [already implemented](https://github.com/eslint/rewrite/blob/d0b2e705c49709cfb92a9110c65cd628c91aaa29/packages/config-array/src/config-array.js#L572) in `@eslint/config-array` as an option that is easy to toggle on. (We had kept it off to this point in the name of simplicity, but it seems like it would actually improve things to enable it.)\n\n## 2. Introduce an `extends` key\n\nWe can normalize the experience of extending configs by reintroducing the `extends` key for flat configs. In flat configs, `extends` will not trigger any file loading. Instead, it will allow string identifiers for configs contained in plugins as well as objects. Here's a simple example:\n\n```js\nimport js from \"@eslint/js\";\n\nexport default [\n    {\n        plugins: {\n            js\n        },\n        files: [\"**/*.js\"],\n        extends: [\"js/recommended\"],\n        rules: {\n            \"prefer-const\": \"off\"\n        }\n    }\n];\n```\n\nHere, we would see `\"js/recommended\"`, which means \"go to the `js` plugin and use the config named 'recommended'.\" We would then produce this equivalent config array during the normalization phase:\n\n```js\nimport js from \"@eslint/js\";\n\nexport default [\n    {\n        ...js.configs.recommended,       \n        files: [\"**/*.js\"]\n    },\n    {\n        plugins: {\n            js\n        },\n        files: [\"**/*.js\"],\n        rules: {\n            \"prefer-const\": \"off\"\n        }\n    }\n];\n```\n\n(We can also allow objects in the `extends` array, for which no lookup is required.)\n\nThis would require an RFC to iron out the details, and I'd definitely like some feedback before starting that process.\n\n### Participation\n\n- [ ] I am willing to submit a pull request for this change.\n\n### Additional comments\n\n_No response_","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/19116/reactions","total_count":19,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":6,"eyes":4},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/19116/timeline","performed_via_github_app":null,"state_reason":"completed"}