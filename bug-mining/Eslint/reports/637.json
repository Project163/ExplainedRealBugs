{"url":"https://api.github.com/repos/eslint/eslint/issues/18382","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/18382/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/18382/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/18382/events","html_url":"https://github.com/eslint/eslint/issues/18382","id":2257444589,"node_id":"I_kwDOAKjKDc6Gjd7t","number":18382,"title":"Docs: custom rule tutorial doesn't work with v9","user":{"login":"Keavon","id":4388688,"node_id":"MDQ6VXNlcjQzODg2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4388688?v=4","gravatar_id":"","url":"https://api.github.com/users/Keavon","html_url":"https://github.com/Keavon","followers_url":"https://api.github.com/users/Keavon/followers","following_url":"https://api.github.com/users/Keavon/following{/other_user}","gists_url":"https://api.github.com/users/Keavon/gists{/gist_id}","starred_url":"https://api.github.com/users/Keavon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Keavon/subscriptions","organizations_url":"https://api.github.com/users/Keavon/orgs","repos_url":"https://api.github.com/users/Keavon/repos","events_url":"https://api.github.com/users/Keavon/events{/privacy}","received_events_url":"https://api.github.com/users/Keavon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":64004798,"node_id":"MDU6TGFiZWw2NDAwNDc5OA==","url":"https://api.github.com/repos/eslint/eslint/labels/documentation","name":"documentation","color":"5319e7","default":true,"description":"Relates to ESLint's documentation"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-04-22T20:52:49Z","updated_at":"2024-10-21T14:13:56Z","closed_at":"2024-04-23T10:19:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Docs page(s)\n\nhttps://eslint.org/docs/latest/extend/custom-rule-tutorial\n\n### What documentation issue do you want to solve?\n\nFollowing the documentation, this error occurs seemingly hinting at the new ESLint v9 flat config format change. Things work when downgrading to ESLint v8 with `npm install eslint@8 --save-dev`.\r\n\r\n```\r\n$ npm test\r\n\r\n> eslint-custom-rule-example@1.0.0 test\r\n> node enforce-foo-bar.test.js\r\n\r\nC:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:382\r\n        throw err;\r\n        ^\r\n\r\nConfigError: ESLint configuration in rule-tester is invalid: Config (unnamed): Key \"parserOptions\": This appears to be in eslintrc format rather than flat config format.\r\n    at rethrowConfigError (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\config-array\\api.js:230:8)\r\n    at C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\config-array\\api.js:1032:5\r\n    at Array.reduce (<anonymous>)\r\n    at FlatConfigArray.getConfig (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\config-array\\api.js:1028:39)\r\n    ... 2 lines matching cause stack trace ...\r\n    at RuleTester.<anonymous> (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:1258:33)\r\n    at RuleTester.itDefaultHandler (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:377:23)\r\n    at C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:1255:71\r\n    at Array.forEach (<anonymous>) {\r\n  messageTemplate: 'eslintrc-incompat',\r\n  messageData: { key: 'parserOptions' },\r\n  index: 6,\r\n  [cause]: WrapperError: Key \"parserOptions\": This appears to be in eslintrc format rather than flat config format.\r\n      at ObjectSchema.validate (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\object-schema\\src\\object-schema.js:287:23)\r\n      at C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\object-schema\\src\\object-schema.js:239:18\r\n      ... 6 lines matching cause stack trace ...\r\n      at testValidTemplate (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:908:28)\r\n      at RuleTester.<anonymous> (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:1258:33) {\r\n    messageTemplate: 'eslintrc-incompat',\r\n    messageData: { key: 'parserOptions' },\r\n    [cause]: IncompatibleKeyError: This appears to be in eslintrc format rather than flat config format.\r\n        at Object.validate (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\config\\flat-config-schema.js:536:19)\r\n        at ObjectSchema.validate (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\object-schema\\src\\object-schema.js:285:35)\r\n        at C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\object-schema\\src\\object-schema.js:239:18\r\n        at Array.reduce (<anonymous>)\r\n        at ObjectSchema.merge (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\object-schema\\src\\object-schema.js:237:24)\r\n        at C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\config-array\\api.js:1030:43\r\n        at Array.reduce (<anonymous>)\r\n        at FlatConfigArray.getConfig (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\@humanwhocodes\\config-array\\api.js:1028:39)\r\n        at runRuleForItem (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:793:25)\r\n        at testValidTemplate (C:\\Users\\Keavon\\Projects\\Graphite\\eslint-custom-rule-example\\node_modules\\eslint\\lib\\rule-tester\\rule-tester.js:908:28) {\r\n      messageTemplate: 'eslintrc-incompat',\r\n      messageData: { key: 'parserOptions' }\r\n    }\r\n  }\r\n}\r\n\r\nNode.js v18.12.1\r\n```\n\n### What do you think is the correct solution?\n\nI'm not familiar with how the flat format change affects custom rules, and I'm stuck here. Someone knowledgeable should probably make the necessary changes to publish the correct way of making custom rules in this tutorial.\n\n### Participation\n\n- [ ] I am willing to submit a pull request for this change.\n\n### Additional comments\n\n_No response_","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/18382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/18382/timeline","performed_via_github_app":null,"state_reason":"completed"}