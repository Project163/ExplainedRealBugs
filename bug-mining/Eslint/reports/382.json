{"url":"https://api.github.com/repos/eslint/eslint/issues/13181","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/13181/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/13181/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/13181/events","html_url":"https://github.com/eslint/eslint/issues/13181","id":600039252,"node_id":"MDU6SXNzdWU2MDAwMzkyNTI=","number":13181,"title":"[no-unused-vars]: reporter should report the last reference instead of declaration","user":{"login":"anikethsaha","id":26347874,"node_id":"MDQ6VXNlcjI2MzQ3ODc0","avatar_url":"https://avatars.githubusercontent.com/u/26347874?v=4","gravatar_id":"","url":"https://api.github.com/users/anikethsaha","html_url":"https://github.com/anikethsaha","followers_url":"https://api.github.com/users/anikethsaha/followers","following_url":"https://api.github.com/users/anikethsaha/following{/other_user}","gists_url":"https://api.github.com/users/anikethsaha/gists{/gist_id}","starred_url":"https://api.github.com/users/anikethsaha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anikethsaha/subscriptions","organizations_url":"https://api.github.com/users/anikethsaha/orgs","repos_url":"https://api.github.com/users/anikethsaha/repos","events_url":"https://api.github.com/users/anikethsaha/events{/privacy}","received_events_url":"https://api.github.com/users/anikethsaha/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":255319420,"node_id":"MDU6TGFiZWwyNTUzMTk0MjA=","url":"https://api.github.com/repos/eslint/eslint/labels/evaluating","name":"evaluating","color":"fef2c0","default":false,"description":"The team will evaluate this issue to decide whether it meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-04-15T05:51:25Z","updated_at":"2020-11-29T17:28:05Z","closed_at":"2020-06-01T16:39:50Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for requesting a rule change. If you are here for another reason, please see below:\r\n\r\n    1. To report a bug: https://eslint.org/docs/developer-guide/contributing/reporting-bugs\r\n    2. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    3. To request a change that is not a bug fix, rule change, or new rule: https://eslint.org/docs/developer-guide/contributing/changes\r\n    4. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**What rule do you want to change?**\r\n`no-unused-vars`\r\n\r\n**Does this change cause the rule to produce more or fewer warnings?**\r\nsame\r\n\r\n\r\n\r\n**How will the change be implemented? (New option, new default behavior, etc.)?**\r\ndefault\r\n\r\n**Please provide some example code that this change will affect:**\r\nCurrently, the reporter reports the location in a declaration of a variable which is fine but not for all cases. \r\n\r\n`case 1`\r\n```js\r\nconst unusedVar = 1; // reporting here is ok\r\n```\r\n\r\n`case2`\r\n```js\r\nlet a = 1 // currently its reporting here,  reporting here is not ok as `a` has references though its being self referred \r\na = a + 1;\r\na = a + 2;\r\na = a + 3; // it should report here\r\n```\r\n\r\nIn this way, it makes easy to track the error if any.\r\nAnother advantage of reporting this way is many editors do provide shortcut keys to jump to the declaration of any variable/function but the opposite is not true for some. \r\n\r\nref : https://github.com/eslint/eslint/issues/12871, https://github.com/eslint/eslint/issues/13172\r\n<!-- Put your code examples here -->\r\n\r\n**What does the rule currently do for this code?**\r\nreports in the variable declaration\r\n\r\n\r\n**What will the rule do after it's changed?**\r\nreports in the last reference of the variable if the variable is being self-referred\r\n\r\n\r\n**Are you willing to submit a pull request to implement this change?**\r\nYes","closed_by":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/13181/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/13181/timeline","performed_via_github_app":null,"state_reason":"completed"}