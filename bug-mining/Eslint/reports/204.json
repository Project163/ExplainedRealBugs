{"url":"https://api.github.com/repos/eslint/eslint/issues/11611","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/11611/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/11611/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/11611/events","html_url":"https://github.com/eslint/eslint/issues/11611","id":432798286,"node_id":"MDU6SXNzdWU0MzI3OTgyODY=","number":11611,"title":"no-cond-assign crashes in some cases","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-04-13T02:30:42Z","updated_at":"2019-10-28T22:43:52Z","closed_at":"2019-04-30T04:49:25Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This issue was detected by the fuzzer on [this CI run](https://travis-ci.org/eslint/eslint/jobs/519526960).\r\n\r\n<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for bug reports. If you are here for another reason, please see below:\r\n\r\n    1. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    2. To request a rule change: https://eslint.org/docs/developer-guide/contributing/rule-changes\r\n    3. To request a change that is not a bug fix, rule change, or new rule: https://eslint.org/docs/developer-guide/contributing/changes\r\n    4. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**Tell us about your environment**\r\n\r\n* **ESLint Version:** master\r\n* **Node Version:** 10.15.3\r\n* **npm Version:** 6.4.1\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\n\r\ndefault\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\nSee the configuration from this CI build: https://travis-ci.org/eslint/eslint/jobs/519526960\r\n\r\n<!-- Paste your configuration below: -->\r\n```js\r\n\r\n```\r\n\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\nSee the code from this CI build: https://travis-ci.org/eslint/eslint/jobs/519526960\r\n\r\n**What did you expect to happen?**\r\n\r\nI expected the `no-cond-assign` rule to not crash.\r\n\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\n\r\nThe rule crashed. The output from the fuzzer is reproduced below:\r\n\r\n<details>\r\n<summary>Fuzzer output</summary>\r\n\r\n```\r\nThe fuzzer reported 1 error with a total of 1 unique stack trace.\r\nMore details can be found below.\r\n{\r\n    \"results\": [\r\n        {\r\n            \"type\": \"crash\",\r\n            \"text\": \"(((3496.29)).bkufyydt = 2e308) ? // y\\r\\ntwvpkh =>\\n\\r\\n\\r\\n　{\\n  \\\"e¿h\\\"\\n  \\\"use strict\\\"\\r\\n  \\\"\\\"\\n \\\"Ø}ì³\\\"\\r/*b*/\\n/*xp\\r\\n \\r\\r\\n u*/  for (({})[eval[null]]\\r\\rin false`ªÙ${arguments}${(2e308)}v`) switch (((y)) ? ((i)) : ((true)))\\r\\n/*cs h\\f　*/\\t{\\n  /*cttscc　﻿bnyl   ai z *///e\\r  default:\\n    case true:\\n    case h:\\n\\n     case \\\"\\\":\\n    case \\\"c¹&4\\\":\\n    case // g cn 　fce pd c p\\r/((?:))/uy:\\n  }\\n\\r\\rswitch (new (((.6)).l /= (/(?:z)/gmuy))(...arguments, ...\\\"=è\\u0006\\\", ...(((null))), 2e308 ? /\\\\xe1\\\\uDcEc\\\\O|(?:)|(?!())?|\\\\x37^\\\\b'^|[\\\\x2a\\\\$-$-]/gim : (null))) {\\n    case (this) ?//　\\r ((5988.33)) : 0x78A3BF43ACDF6:\\n      try {} finally /* plqaa*/{}\\n/**/      let g\\r\\n       debugger\\r\\n      switch (((arguments))) {\\n    /*c*/    default:\\n      }\\n  \\r\\rcase new \\\"féú1\\u001c\\\":// hip\\r\\n\\n/* b ev  m \\r\\nygg \\u000bso ﻿ */ /* ecaq\\n ryt\\flcx\\f */     class s /*s\\n\\r﻿ a  z*/{}\\n    /*  ﻿d  q*/  // qqf hvta\\tp \\reval: for (const y of\\n\\n2e308) ;\\n  /*s\\rr*//*  ﻿\\f u  xok　 cq  */  case (x, q, w, k) /*\\fiic   \\ffrtb*/=> {\\n // up  y n\\u000bj hd\\fz   ﻿\\r   \\f \\\"(,¬\\\"\\n    \\r\\r﻿ \\\"¯¦Â\\\"\\n      \\\"use strict\\\";\\n      \\\"ç\\\";\\n\\n\\n \\r\\n\\r\\n    \\\"\\u0003jÞìm\\\";\\n    }:\\n     for (;;) ;\\n\\r\\n\\r\\n   //e l y i\\fz bzj \\n //r  ﻿ \\r\\nfor (;;) return\\n    case class /*\\fxi\\tcp g\\r﻿vah *//*\\ftd  p*//* sn\\r\\njx f   os*/{}:\\n      {}\\n      switch (/[\\\\uCD47$-\\\\M+-Q\\\\uAeFF+-]/gim) {}\\n      while (this) // ub   l   lp\\tux\\r\\n//e\\r//q x     rkfi　s   \\nreturn\\n      eval: debugger\\r      let j\\n//vyyeb n huea  \\f \\tu\\r\\n    default:\\n//je\\fqbu q z e\\r\\n/*\\rfg　 *//*\\njlxu k lqe   \\fmlf  */      try {} /*prm\\tkqam*/finally {}\\n//\\n      for (;;) break\\r\\r\\n\\r\\n//rd s e 　 　rs fp\\r\\n\\r\\n\\n/*jq　gu c \\fmd\\f  \\r  s */  //\\r/*d*/  try {} catch (i) {}\\n/*pnl z  qdhiu  \\f a \\t*/  // \\f　sfo﻿ \\r\\n \\r\\u000b/*ly ﻿zpv  mlbud*/  switch (\\\"\\\")//\\u000bd\\f x  　 gtb  fpo  \\n {}\\n      return;\\n  // tr  j jj x  v m\\n  case \\\"Ø\\\":\\n    /*j \\tk vagf \\r  r \\r \\r\\n */  return;// sn   \\tgtkm\\n\\n//ma  l\\r\\n //   oj  pc\\f\\n // q\\fo\\n    {}\\n//yhr h  \\u000bg\\u000b k\\r  /* \\r d　x　*/    ;\\n    case eval.if/*l */ /*   c \\t  j p*/++:\\n  /*b \\u000bp　　  　\\r\\n﻿l　\\r\\nhkin  */    ;\\n\\r\\n\\r\\n    try {} finally {}\\n   //zr \\r\\n /*f\\r\\ny 　zimia h y\\u000bfl*///\\t\\t   qs\\u000bldi nv \\r\\n//m ytst ﻿\\t   \\t  ﻿\\r\\n//iucy a\\tyxe　ii \\r\\n  throw (this)\\r      var t\\n/*eue\\f s b\\u000b sn  */\\n//  g　qfclo\\tf\\n/*oq\\f\\f\\te zvj\\u000blrqccavik*/      ;/[-]/mu\\n    case//imud﻿ \\t ﻿\\f \\t ntd  ﻿n\\r ((/(?=)/iy)):\\n      /*  n f*/while (this) continue\\n      throw 9284.98\\n/*\\n   \\r\\n \\tb eq fk*///g﻿  uuvec\\r\\n  case function*  v() {\\n/*qo\\n c \\r  \\u000b  kc */\\r\\n\\r\\n     \\\"7\\\";\\n    }:\\n  \\r\\n\\ncase (null):\\n      return;\\n  }\\n  while (delete ((([])))) try {} catch (j) {}\\n /*nt y﻿r ﻿  \\tnzj\\n*/ {\\n    switch (false) {}\\n\\f\\t\\r\\n\\r\\n}\\n} : ({ncwpqk})\\r\\n\\r\\n\\n function* package(let, eval, ...implements)\\t\\n\\r\\r{\\n  \\\"\\u000e5é\\\";\\n  \\\"x\\u0013-Ù\\\"\\r\\n  \\\"üøÀcÓ\\\"\\r\\n  \\\"±uÝ\\\"\\r\\n  // fe    \\r/*i rpqb b\\fe*/\\\"\\\";\\n  debugger\\r\\n //j  qeio ﻿d\\n let {private, s} = (true), {public} /* k eg  　 l﻿\\n*/= (yield)[(\\\"Z;\\\")] --\\n  debugger;\\n}/*\\r\\nuhz yj\\fc b ftfpxncr*/\\n//n﻿ebtzaszle vjj\\r\\n\",\r\n            \"config\": {\r\n                \"rules\": {\r\n                    \"no-cond-assign\": [\r\n                        2,\r\n                        \"except-parens\"\r\n                    ]\r\n                },\r\n                \"parserOptions\": {\r\n                    \"sourceType\": \"script\",\r\n                    \"ecmaVersion\": 2018\r\n                }\r\n            },\r\n            \"error\": \"TypeError: Cannot read property 'value' of null\\nOccurred while linting <input>:1\\n    at Object.isOpeningParenToken (/home/travis/build/eslint/eslint/lib/util/ast-utils.js:309:18)\\n    at isParenthesisedTwice (/home/travis/build/eslint/eslint/lib/rules/no-cond-assign.js:89:26)\\n    at testForAssign (/home/travis/build/eslint/eslint/lib/rules/no-cond-assign.js:103:24)\\n    at listeners.(anonymous function).forEach.listener (/home/travis/build/eslint/eslint/lib/util/safe-emitter.js:45:58)\\n    at Array.forEach (<anonymous>)\\n    at Object.emit (/home/travis/build/eslint/eslint/lib/util/safe-emitter.js:45:38)\\n    at NodeEventGenerator.applySelector (/home/travis/build/eslint/eslint/lib/util/node-event-generator.js:251:26)\\n    at NodeEventGenerator.applySelectors (/home/travis/build/eslint/eslint/lib/util/node-event-generator.js:280:22)\\n    at NodeEventGenerator.enterNode (/home/travis/build/eslint/eslint/lib/util/node-event-generator.js:294:14)\\n    at CodePathAnalyzer.enterNode (/home/travis/build/eslint/eslint/lib/code-path-analysis/code-path-analyzer.js:632:23)\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n</details>\r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\n\r\nYes, but I'm not sure when I'll have time to look into it.","closed_by":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/11611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/11611/timeline","performed_via_github_app":null,"state_reason":"completed"}