{"url":"https://api.github.com/repos/eslint/eslint/issues/10687","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/10687/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/10687/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/10687/events","html_url":"https://github.com/eslint/eslint/issues/10687","id":345198455,"node_id":"MDU6SXNzdWUzNDUxOTg0NTU=","number":10687,"title":"Some tests about .eslintignore file are failing on Windows","user":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-27T11:54:47Z","updated_at":"2019-01-30T18:53:27Z","closed_at":"2018-08-02T05:56:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Tell us about your environment**\r\n\r\n* **ESLint Version:** master\r\n* **Node Version:** 10.4.0\r\n* **npm Version:** 6.1.0\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\n**Please show your full configuration:**\r\n\r\nN/A\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\n`npm test` on our repo.\r\n\r\n**What did you expect to happen?**\r\n\r\nTests are passed.\r\n\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\n\r\n```\r\n> npm i; npm t\r\nnpm WARN eslint-plugin-es@1.3.1 requires a peer of eslint@>=4.19.1 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN eslint-plugin-eslint-plugin@1.4.0 requires a peer of eslint@>=4.1.0 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN eslint-plugin-node@7.0.1 requires a peer of eslint@>=4.19.1 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"win32\",\"arch\":\"x64\"})\r\n\r\nupdated 1 package and audited 6116 packages in 12.179s\r\nfound 12 vulnerabilities (4 low, 6 moderate, 2 critical)\r\n  run `npm audit fix` to fix them, or `npm audit` for details\r\n\r\n> eslint@5.2.0 test C:\\Users\\starc\\Documents\\GitHub\\eslint\r\n> node Makefile.js test\r\n\r\nValidating Makefile.js\r\nValidating .eslintrc.js\r\nValidating JSON Files\r\nValidating Markdown Files\r\nValidating JavaScript files\r\nValidating JavaScript test files\r\nValidating rules\r\nRunning unit tests\r\n\r\n  [▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬...](node:10708) [ESLINT_LEGACY_ECMAFEATURES] DeprecationWarning: The 'ecmaFeatures' config file property is deprecated, and has no effect. (found in \"tests\\fixtures\\config-file\\ecma-features\\.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests\\fixtures\\config-file\\experimental-object-rest-spread\\basic\\.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests\\fixtures\\config-file\\experimental-object-rest-spread\\subdir\\.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests\\fixtures\\config-file\\experimental-object-rest-spread\\extends\\common.yml\")\r\n  [▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬.]\r\n\r\n\r\n  [▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬](node:10708) [DEP0094] DeprecationWarning: assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.\r\n  [▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬]\r\n\r\n  18351 passing (1m)\r\n  4 failing\r\n\r\n  1) CLIEngine\r\n       executeOnFiles()\r\n         should ignore one-level down node_modules when ignore file has 'node_modules/' in it:\r\n\r\n      AssertionError: expected 2 to equal 1\r\n      + expected - actual\r\n\r\n      -2\r\n      +1\r\n\r\n      at Context.it (tests\\lib\\cli-engine.js:1107:20)\r\n\r\n  2) CLIEngine\r\n       executeOnFiles()\r\n         should ignore all files and throw an error when tests/fixtures/ is in ignore file:\r\n     AssertionError: expected [Function] to throw an error\r\n      at Context.it (tests\\lib\\cli-engine.js:1124:20)\r\n\r\n  3) IgnoredPaths\r\n       initialization\r\n         should load .eslintignore from cwd when explicitly passed:\r\n     AssertionError: expected [ Array(5) ] to include 'sampleignorepattern'\r\n      at Context.it (tests\\lib\\ignored-paths.js:128:20)\r\n\r\n  4) IgnoredPaths\r\n       initialization with ignorePath containing commented lines\r\n         should not include comments in ignore rules:\r\n     AssertionError: expected [ Array(5) ] to include 'this_one_not'\r\n      at Context.it (tests\\lib\\ignored-paths.js:453:20)\r\n\r\n\r\n\r\n=============================================================================\r\nWriting coverage object [C:\\Users\\starc\\Documents\\GitHub\\eslint\\coverage\\coverage.json]\r\nWriting coverage reports at [C:\\Users\\starc\\Documents\\GitHub\\eslint\\coverage]\r\n=============================================================================\r\n\r\n=============================== Coverage summary ===============================\r\nStatements   : 99.29% ( 14358/14460 ), 165 ignored\r\nBranches     : 98.26% ( 11051/11247 ), 122 ignored\r\nFunctions    : 99.71% ( 2427/2434 ), 28 ignored\r\nLines        : 99.29% ( 14213/14314 )\r\n================================================================================\r\nC:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\src\\common.js:401\r\n      if (config.fatal) throw e;\r\n                        ^\r\n\r\nError: exec: (node:10708) [ESLINT_LEGACY_ECMAFEATURES] DeprecationWarning: The 'ecmaFeatures' config file property is deprecated, and has\r\nno effect. (found in \"tests/fixtures/config-file/ecma-features/.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests/fixtures/config-file/experimental-object-rest-spread/basic/.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests/fixtures/config-file/experimental-object-rest-spread/subdir/.eslintrc.yml\")\r\n(node:10708) [ESLINT_LEGACY_OBJECT_REST_SPREAD] DeprecationWarning: The 'parserOptions.ecmaFeatures.experimentalObjectRestSpread' option is deprecated. Use 'parserOptions.ecmaVersion' instead. (found in \"tests/fixtures/config-file/experimental-object-rest-spread/extends/common.yml\")\r\n\r\n\r\n\r\n(node:10708) [DEP0094] DeprecationWarning: assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.\r\n=============================================================================\r\nWriting coverage object [C:/Users/starc/Documents/GitHub/eslint/coverage/coverage.json]\r\nWriting coverage reports at [C:/Users/starc/Documents/GitHub/eslint/coverage]\r\n=============================================================================\r\n\r\n    at Object.error (C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\src\\common.js:110:27)\r\n    at execSync (C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\src\\exec.js:99:12)\r\n    at _exec (C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\src\\exec.js:202:12)\r\n    at C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\src\\common.js:335:23\r\n    at Function.target.test (C:\\Users\\starc\\Documents\\GitHub\\eslint\\Makefile.js:602:18)\r\n    at Object.global.target.(anonymous function) [as test] (C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\make.js:36:40)\r\n    at C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\make.js:48:27\r\n    at Array.forEach (<anonymous>)\r\n    at Timeout._onTimeout (C:\\Users\\starc\\Documents\\GitHub\\eslint\\node_modules\\shelljs\\make.js:46:10)\r\n    at ontimeout (timers.js:427:11)\r\nnpm ERR! Test failed.  See above for more details.\r\n```","closed_by":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/10687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/10687/timeline","performed_via_github_app":null,"state_reason":"completed"}