[{"id":1648776852,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NDg3NzY4NTI=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1648776852","actor":{"login":"eslint-deprecated[bot]","id":29966797,"node_id":"MDM6Qm90Mjk5NjY3OTc=","avatar_url":"https://avatars.githubusercontent.com/in/3565?v=4","gravatar_id":"","url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D","html_url":"https://github.com/apps/eslint-deprecated","followers_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/followers","following_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/repos","events_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/eslint-deprecated%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-05-28T07:14:41Z","label":{"name":"triage","color":"cc317c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392441089","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-392441089","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":392441089,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQ0MTA4OQ==","user":{"login":"ljharb","id":45469,"node_id":"MDQ6VXNlcjQ1NDY5","avatar_url":"https://avatars.githubusercontent.com/u/45469?v=4","gravatar_id":"","url":"https://api.github.com/users/ljharb","html_url":"https://github.com/ljharb","followers_url":"https://api.github.com/users/ljharb/followers","following_url":"https://api.github.com/users/ljharb/following{/other_user}","gists_url":"https://api.github.com/users/ljharb/gists{/gist_id}","starred_url":"https://api.github.com/users/ljharb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljharb/subscriptions","organizations_url":"https://api.github.com/users/ljharb/orgs","repos_url":"https://api.github.com/users/ljharb/repos","events_url":"https://api.github.com/users/ljharb/events{/privacy}","received_events_url":"https://api.github.com/users/ljharb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T07:17:37Z","updated_at":"2018-05-28T07:17:37Z","body":"I'm not sure this warrants a rule; in the linked tweet, this only is \"confusing\" because the variable is being mutated both inside and outside the async function.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392441089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ljharb","id":45469,"node_id":"MDQ6VXNlcjQ1NDY5","avatar_url":"https://avatars.githubusercontent.com/u/45469?v=4","gravatar_id":"","url":"https://api.github.com/users/ljharb","html_url":"https://github.com/ljharb","followers_url":"https://api.github.com/users/ljharb/followers","following_url":"https://api.github.com/users/ljharb/following{/other_user}","gists_url":"https://api.github.com/users/ljharb/gists{/gist_id}","starred_url":"https://api.github.com/users/ljharb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljharb/subscriptions","organizations_url":"https://api.github.com/users/ljharb/orgs","repos_url":"https://api.github.com/users/ljharb/repos","events_url":"https://api.github.com/users/ljharb/events{/privacy}","received_events_url":"https://api.github.com/users/ljharb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392452540","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-392452540","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":392452540,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQ1MjU0MA==","user":{"login":"esamattis","id":225712,"node_id":"MDQ6VXNlcjIyNTcxMg==","avatar_url":"https://avatars.githubusercontent.com/u/225712?v=4","gravatar_id":"","url":"https://api.github.com/users/esamattis","html_url":"https://github.com/esamattis","followers_url":"https://api.github.com/users/esamattis/followers","following_url":"https://api.github.com/users/esamattis/following{/other_user}","gists_url":"https://api.github.com/users/esamattis/gists{/gist_id}","starred_url":"https://api.github.com/users/esamattis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esamattis/subscriptions","organizations_url":"https://api.github.com/users/esamattis/orgs","repos_url":"https://api.github.com/users/esamattis/repos","events_url":"https://api.github.com/users/esamattis/events{/privacy}","received_events_url":"https://api.github.com/users/esamattis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T08:06:09Z","updated_at":"2018-05-28T08:06:09Z","body":"Well, this is quite simple example. The file size reading example in the video is way more confusing since the variable is syntax wise mutated only in one place.\r\n\r\n```js\r\nconst wait = t => new Promise(r => setTimeout(r, t));\r\n\r\nconst files = [\"file1\", \"file12\", \"file123\", \"file1234\", \"file12345\"];\r\n\r\nasync function getFileSize(file) {\r\n    console.log(\"reading\", file);\r\n    await wait(Math.round(Math.random() * 100)); // simulate disk io slowness\r\n    return file.length;\r\n}\r\n\r\nlet total = 0;\r\n\r\nasync function sumAll() {\r\n    await Promise.all(\r\n        files.map(async file => {\r\n            total += await getFileSize(file);\r\n        }),\r\n    );\r\n\r\n    console.log(total); // quite random output\r\n}\r\n\r\nsumAll();\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392452540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"esamattis","id":225712,"node_id":"MDQ6VXNlcjIyNTcxMg==","avatar_url":"https://avatars.githubusercontent.com/u/225712?v=4","gravatar_id":"","url":"https://api.github.com/users/esamattis","html_url":"https://github.com/esamattis","followers_url":"https://api.github.com/users/esamattis/followers","following_url":"https://api.github.com/users/esamattis/following{/other_user}","gists_url":"https://api.github.com/users/esamattis/gists{/gist_id}","starred_url":"https://api.github.com/users/esamattis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esamattis/subscriptions","organizations_url":"https://api.github.com/users/esamattis/orgs","repos_url":"https://api.github.com/users/esamattis/repos","events_url":"https://api.github.com/users/esamattis/events{/privacy}","received_events_url":"https://api.github.com/users/esamattis/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392491794","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-392491794","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":392491794,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjQ5MTc5NA==","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T10:51:26Z","updated_at":"2018-05-28T10:51:26Z","body":"To me, it seems like the confusing part of that code is the use of operator assignment with an `await` expression in the right-hand side.\r\n\r\n```js\r\nx += await foo;\r\n```\r\n\r\nIf I'm understanding correctly, if two functions run that code at the same time, `x` will effectively only be incremented once because `await foo` will be added to the original value of `x` on both runs.\r\n\r\nMaybe a rule could report an error whenever (a) a statement assigns to a variable, (b) the assigned expression contains an `await` or `yield`, and (c) the assigned expression references the variable being assigned to, outside of the `await`/`yield`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392491794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392519801","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-392519801","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":392519801,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjUxOTgwMQ==","user":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-28T12:55:09Z","updated_at":"2018-05-28T12:55:09Z","body":"Interesting. In my understanding,\r\n\r\n```js\r\n// this is same as `x += await y`\r\nx = x + await y\r\n```\r\n\r\n1. It evaluates the 2nd `x` and it stores the result into memory.\r\n2. It evaluates the `await y`, (off course it's asynchronous and other codes can interrupt it), and it stores the result into memory.\r\n3. It assigns the sum of 1. and 2. into the `x`.\r\n\r\nSo..., this is same as a popular problem in multi-threading software. Or we have often seen it in the explanation of the RDB transactions.\r\nIt causes unintentional behaviors if others modified the `x` between 2. and 3..\r\n\r\nClearer expression of what happens is:\r\n\r\n```js\r\nlet local1 = x\r\nlet local2 = await y\r\nx = local1 + local2\r\n```\r\n\r\n----\r\n\r\nI think that we can consider the following rule, \"`no-non-atomic-update`\" (I'm not sure what is the antonym of atomic):\r\n\r\n```js\r\nvar outer = 0\r\nvar outerObj = {}\r\n\r\nvar outerFunc = () => {}\r\n\r\nasync function f(param) {\r\n    //× BAD\r\n    outer += await x\r\n    outer = outer + await x\r\n    outerObj.a = outerObj.a + await x\r\n    outerObj.a = outerFunc() + await x\r\n    param.a = param.a + await x\r\n    param.a = outerObj.a + await x\r\n    param.a = outerFunc() + await x\r\n    outer = g(outer, await x)\r\n\r\n    //× BAD maybe; I'm not sure if we should warn this case.\r\n    const local1 = outer\r\n    outer = local1 + await x\r\n\r\n    //✔ GOOD; this is atomic\r\n    outer = (await x) + outer\r\n    outer = g(await x, outer)\r\n}\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/392519801/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393961490","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-393961490","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":393961490,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk2MTQ5MA==","user":{"login":"ajafff","id":11968040,"node_id":"MDQ6VXNlcjExOTY4MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11968040?v=4","gravatar_id":"","url":"https://api.github.com/users/ajafff","html_url":"https://github.com/ajafff","followers_url":"https://api.github.com/users/ajafff/followers","following_url":"https://api.github.com/users/ajafff/following{/other_user}","gists_url":"https://api.github.com/users/ajafff/gists{/gist_id}","starred_url":"https://api.github.com/users/ajafff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajafff/subscriptions","organizations_url":"https://api.github.com/users/ajafff/orgs","repos_url":"https://api.github.com/users/ajafff/repos","events_url":"https://api.github.com/users/ajafff/events{/privacy}","received_events_url":"https://api.github.com/users/ajafff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T17:57:11Z","updated_at":"2018-06-01T17:57:11Z","body":"@mysticatea \r\n\r\nThis one may not be a valid example: \r\n\r\n```js\r\nouter = g(await x, outer)\r\n```\r\n\r\nWhat if `g` is reassigned while you `await x`? The call would still use the original value.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393961490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ajafff","id":11968040,"node_id":"MDQ6VXNlcjExOTY4MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11968040?v=4","gravatar_id":"","url":"https://api.github.com/users/ajafff","html_url":"https://github.com/ajafff","followers_url":"https://api.github.com/users/ajafff/followers","following_url":"https://api.github.com/users/ajafff/following{/other_user}","gists_url":"https://api.github.com/users/ajafff/gists{/gist_id}","starred_url":"https://api.github.com/users/ajafff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajafff/subscriptions","organizations_url":"https://api.github.com/users/ajafff/orgs","repos_url":"https://api.github.com/users/ajafff/repos","events_url":"https://api.github.com/users/ajafff/events{/privacy}","received_events_url":"https://api.github.com/users/ajafff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1658870926,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY1ODg3MDkyNg==","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658870926","actor":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-01T17:57:11Z","performed_via_github_app":null},{"id":1658870928,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NTg4NzA5Mjg=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658870928","actor":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-01T17:57:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393962583","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-393962583","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":393962583,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk2MjU4Mw==","user":{"login":"ljharb","id":45469,"node_id":"MDQ6VXNlcjQ1NDY5","avatar_url":"https://avatars.githubusercontent.com/u/45469?v=4","gravatar_id":"","url":"https://api.github.com/users/ljharb","html_url":"https://github.com/ljharb","followers_url":"https://api.github.com/users/ljharb/followers","following_url":"https://api.github.com/users/ljharb/following{/other_user}","gists_url":"https://api.github.com/users/ljharb/gists{/gist_id}","starred_url":"https://api.github.com/users/ljharb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljharb/subscriptions","organizations_url":"https://api.github.com/users/ljharb/orgs","repos_url":"https://api.github.com/users/ljharb/repos","events_url":"https://api.github.com/users/ljharb/events{/privacy}","received_events_url":"https://api.github.com/users/ljharb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T18:00:40Z","updated_at":"2018-06-01T18:00:40Z","body":"I don't think this really needs a rule specific to await - the simple best-practices answer in JavaScript is *don't mutate or reassign things*, and if you do, be very very careful about it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393962583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ljharb","id":45469,"node_id":"MDQ6VXNlcjQ1NDY5","avatar_url":"https://avatars.githubusercontent.com/u/45469?v=4","gravatar_id":"","url":"https://api.github.com/users/ljharb","html_url":"https://github.com/ljharb","followers_url":"https://api.github.com/users/ljharb/followers","following_url":"https://api.github.com/users/ljharb/following{/other_user}","gists_url":"https://api.github.com/users/ljharb/gists{/gist_id}","starred_url":"https://api.github.com/users/ljharb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ljharb/subscriptions","organizations_url":"https://api.github.com/users/ljharb/orgs","repos_url":"https://api.github.com/users/ljharb/repos","events_url":"https://api.github.com/users/ljharb/events{/privacy}","received_events_url":"https://api.github.com/users/ljharb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ajafff","id":11968040,"node_id":"MDQ6VXNlcjExOTY4MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11968040?v=4","gravatar_id":"","url":"https://api.github.com/users/ajafff","html_url":"https://github.com/ajafff","followers_url":"https://api.github.com/users/ajafff/followers","following_url":"https://api.github.com/users/ajafff/following{/other_user}","gists_url":"https://api.github.com/users/ajafff/gists{/gist_id}","starred_url":"https://api.github.com/users/ajafff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajafff/subscriptions","organizations_url":"https://api.github.com/users/ajafff/orgs","repos_url":"https://api.github.com/users/ajafff/repos","events_url":"https://api.github.com/users/ajafff/events{/privacy}","received_events_url":"https://api.github.com/users/ajafff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T18:07:30Z","updated_at":"2018-06-01T18:07:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fimbullinter/wotan/issues/271","repository_url":"https://api.github.com/repos/fimbullinter/wotan","labels_url":"https://api.github.com/repos/fimbullinter/wotan/issues/271/labels{/name}","comments_url":"https://api.github.com/repos/fimbullinter/wotan/issues/271/comments","events_url":"https://api.github.com/repos/fimbullinter/wotan/issues/271/events","html_url":"https://github.com/fimbullinter/wotan/issues/271","id":328611740,"node_id":"MDU6SXNzdWUzMjg2MTE3NDA=","number":271,"title":"add rule to warn about non-atomic binary expressions","user":{"login":"ajafff","id":11968040,"node_id":"MDQ6VXNlcjExOTY4MDQw","avatar_url":"https://avatars.githubusercontent.com/u/11968040?v=4","gravatar_id":"","url":"https://api.github.com/users/ajafff","html_url":"https://github.com/ajafff","followers_url":"https://api.github.com/users/ajafff/followers","following_url":"https://api.github.com/users/ajafff/following{/other_user}","gists_url":"https://api.github.com/users/ajafff/gists{/gist_id}","starred_url":"https://api.github.com/users/ajafff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajafff/subscriptions","organizations_url":"https://api.github.com/users/ajafff/orgs","repos_url":"https://api.github.com/users/ajafff/repos","events_url":"https://api.github.com/users/ajafff/events{/privacy}","received_events_url":"https://api.github.com/users/ajafff/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":801982690,"node_id":"MDU6TGFiZWw4MDE5ODI2OTA=","url":"https://api.github.com/repos/fimbullinter/wotan/labels/evaluating","name":"evaluating","color":"fcf488","default":false,"description":null},{"id":844191278,"node_id":"MDU6TGFiZWw4NDQxOTEyNzg=","url":"https://api.github.com/repos/fimbullinter/wotan/labels/rule%20suggestion","name":"rule suggestion","color":"ffbb77","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-01T18:07:30Z","updated_at":"2018-06-26T09:36:35Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":111957557,"node_id":"MDEwOlJlcG9zaXRvcnkxMTE5NTc1NTc=","name":"wotan","full_name":"fimbullinter/wotan","private":false,"owner":{"login":"fimbullinter","id":35915981,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM1OTE1OTgx","avatar_url":"https://avatars.githubusercontent.com/u/35915981?v=4","gravatar_id":"","url":"https://api.github.com/users/fimbullinter","html_url":"https://github.com/fimbullinter","followers_url":"https://api.github.com/users/fimbullinter/followers","following_url":"https://api.github.com/users/fimbullinter/following{/other_user}","gists_url":"https://api.github.com/users/fimbullinter/gists{/gist_id}","starred_url":"https://api.github.com/users/fimbullinter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fimbullinter/subscriptions","organizations_url":"https://api.github.com/users/fimbullinter/orgs","repos_url":"https://api.github.com/users/fimbullinter/repos","events_url":"https://api.github.com/users/fimbullinter/events{/privacy}","received_events_url":"https://api.github.com/users/fimbullinter/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fimbullinter/wotan","description":"Pluggable TypeScript and JavaScript linter","fork":false,"url":"https://api.github.com/repos/fimbullinter/wotan","forks_url":"https://api.github.com/repos/fimbullinter/wotan/forks","keys_url":"https://api.github.com/repos/fimbullinter/wotan/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fimbullinter/wotan/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fimbullinter/wotan/teams","hooks_url":"https://api.github.com/repos/fimbullinter/wotan/hooks","issue_events_url":"https://api.github.com/repos/fimbullinter/wotan/issues/events{/number}","events_url":"https://api.github.com/repos/fimbullinter/wotan/events","assignees_url":"https://api.github.com/repos/fimbullinter/wotan/assignees{/user}","branches_url":"https://api.github.com/repos/fimbullinter/wotan/branches{/branch}","tags_url":"https://api.github.com/repos/fimbullinter/wotan/tags","blobs_url":"https://api.github.com/repos/fimbullinter/wotan/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fimbullinter/wotan/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fimbullinter/wotan/git/refs{/sha}","trees_url":"https://api.github.com/repos/fimbullinter/wotan/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fimbullinter/wotan/statuses/{sha}","languages_url":"https://api.github.com/repos/fimbullinter/wotan/languages","stargazers_url":"https://api.github.com/repos/fimbullinter/wotan/stargazers","contributors_url":"https://api.github.com/repos/fimbullinter/wotan/contributors","subscribers_url":"https://api.github.com/repos/fimbullinter/wotan/subscribers","subscription_url":"https://api.github.com/repos/fimbullinter/wotan/subscription","commits_url":"https://api.github.com/repos/fimbullinter/wotan/commits{/sha}","git_commits_url":"https://api.github.com/repos/fimbullinter/wotan/git/commits{/sha}","comments_url":"https://api.github.com/repos/fimbullinter/wotan/comments{/number}","issue_comment_url":"https://api.github.com/repos/fimbullinter/wotan/issues/comments{/number}","contents_url":"https://api.github.com/repos/fimbullinter/wotan/contents/{+path}","compare_url":"https://api.github.com/repos/fimbullinter/wotan/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fimbullinter/wotan/merges","archive_url":"https://api.github.com/repos/fimbullinter/wotan/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fimbullinter/wotan/downloads","issues_url":"https://api.github.com/repos/fimbullinter/wotan/issues{/number}","pulls_url":"https://api.github.com/repos/fimbullinter/wotan/pulls{/number}","milestones_url":"https://api.github.com/repos/fimbullinter/wotan/milestones{/number}","notifications_url":"https://api.github.com/repos/fimbullinter/wotan/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fimbullinter/wotan/labels{/name}","releases_url":"https://api.github.com/repos/fimbullinter/wotan/releases{/id}","deployments_url":"https://api.github.com/repos/fimbullinter/wotan/deployments","created_at":"2017-11-24T21:43:37Z","updated_at":"2025-08-27T12:14:54Z","pushed_at":"2023-06-19T01:18:35Z","git_url":"git://github.com/fimbullinter/wotan.git","ssh_url":"git@github.com:fimbullinter/wotan.git","clone_url":"https://github.com/fimbullinter/wotan.git","svn_url":"https://github.com/fimbullinter/wotan","homepage":null,"size":5272,"stargazers_count":283,"watchers_count":283,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":23,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":162,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["best-practices","code-analysis","code-quality","ecmascript","extensible","javascript","linter","static-analysis","typescript"],"visibility":"public","forks":23,"open_issues":162,"watchers":283,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"```ts\r\ndeclare function fn(...args: any[]): number;\r\n\r\nasync function invalid(x: Promise<number>, z: number) {\r\n  z + await x;\r\n  z += await x;\r\n  fn() + await x;\r\n  fn(z, await x);\r\n}\r\n\r\nasync function valid(x: Promise<number>, y: Promise<number>, z: number) {\r\n  await x + z;\r\n  z = await x + z;\r\n  const localX = await x;\r\n  z += localX;\r\n  await x + fn();\r\n  await x + await y;\r\n  fn(await x, z);\r\n}\r\n```\r\n\r\nThe problem is that expressions are evaluated in order.\r\n```ts\r\nz += await x;\r\n// equals\r\nz  = z + await x;\r\n\r\n// 'z' is evaluated first, the value is saved in memory\r\n// 'await x' is evaluated afterwards, the value of 'z' might have changed in the meantime\r\n// the original value of 'z' and the resolved value of 'await x' are added and override the changed value in 'z'\r\n\r\n// equals\r\nconst localZ = z;\r\nconst localX = await x;\r\nz = localZ + localX;\r\n```\r\n\r\n#### TBD\r\n\r\n* What to do about function calls?\r\n    ```ts\r\n    fn(await x); // the function referenced by 'fn' might change while you 'await x';\r\n    ```\r\n* only warn when the LHS actually contains reassigned variables?\r\n  * if an object is passed as parameter, a property might be changed outside of the current function while awaiting the promise\r\n\r\n---\r\n\r\nRelated: https://github.com/eslint/eslint/issues/10405","reactions":{"url":"https://api.github.com/repos/fimbullinter/wotan/issues/271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fimbullinter/wotan/issues/271/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393964458","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-393964458","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":393964458,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk2NDQ1OA==","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T18:07:40Z","updated_at":"2018-06-01T18:07:40Z","body":"I agree that using immutable objects/bindings is often a good idea, but sometimes developers still need to use mutable objects/bindings for a variety of reasons. I think having a rule to make that use case safer is better than not having such a rule.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393964458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1658905993,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NTg5MDU5OTM=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658905993","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-01T18:16:33Z","label":{"name":"rule","color":"fbca04"},"performed_via_github_app":null},{"id":1658905994,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NTg5MDU5OTQ=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658905994","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-01T18:16:33Z","label":{"name":"feature","color":"bfd4f2"},"performed_via_github_app":null},{"id":1658905995,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2NTg5MDU5OTU=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658905995","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-01T18:16:33Z","label":{"name":"evaluating","color":"fef2c0"},"performed_via_github_app":null},{"id":1658905998,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTY1ODkwNTk5OA==","url":"https://api.github.com/repos/eslint/eslint/issues/events/1658905998","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2018-06-01T18:16:33Z","label":{"name":"triage","color":"cc317c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393966946","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-393966946","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":393966946,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzk2Njk0Ng==","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T18:17:12Z","updated_at":"2018-06-01T18:17:12Z","body":"> ```js\r\n> outer = g(await x, outer)\r\n> ```\r\n>\r\n> What if `g` is reassigned while you `await x`? The call would still use the original value.\r\n\r\nThat's correct, but it doesn't convince me that this should be invalid example. It seems like this rule is generally intended to avoid \"race condition\" situations where an variable is updated based on its original value, and the updates don't see each others' results. Since `g` isn't being reassigned in this statement, it doesn't seem like a problem that the old value of `g` would get used if `g` is modified elsewhere. (If the statement was `g = g(await x, outer)` then I would agree that it should be reported by the rule.)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/393966946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Andarist","id":9800850,"node_id":"MDQ6VXNlcjk4MDA4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/9800850?v=4","gravatar_id":"","url":"https://api.github.com/users/Andarist","html_url":"https://github.com/Andarist","followers_url":"https://api.github.com/users/Andarist/followers","following_url":"https://api.github.com/users/Andarist/following{/other_user}","gists_url":"https://api.github.com/users/Andarist/gists{/gist_id}","starred_url":"https://api.github.com/users/Andarist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andarist/subscriptions","organizations_url":"https://api.github.com/users/Andarist/orgs","repos_url":"https://api.github.com/users/Andarist/repos","events_url":"https://api.github.com/users/Andarist/events{/privacy}","received_events_url":"https://api.github.com/users/Andarist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T20:30:42Z","updated_at":"2018-07-09T20:30:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eslint/eslint/issues/10583","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/10583/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/10583/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/10583/events","html_url":"https://github.com/eslint/eslint/issues/10583","id":339594836,"node_id":"MDU6SXNzdWUzMzk1OTQ4MzY=","number":10583,"title":"[operator-assignment] new option for async functions","user":{"login":"Andarist","id":9800850,"node_id":"MDQ6VXNlcjk4MDA4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/9800850?v=4","gravatar_id":"","url":"https://api.github.com/users/Andarist","html_url":"https://github.com/Andarist","followers_url":"https://api.github.com/users/Andarist/followers","following_url":"https://api.github.com/users/Andarist/following{/other_user}","gists_url":"https://api.github.com/users/Andarist/gists{/gist_id}","starred_url":"https://api.github.com/users/Andarist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andarist/subscriptions","organizations_url":"https://api.github.com/users/Andarist/orgs","repos_url":"https://api.github.com/users/Andarist/repos","events_url":"https://api.github.com/users/Andarist/events{/privacy}","received_events_url":"https://api.github.com/users/Andarist/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711354,"node_id":"MDU6TGFiZWw0NTcxMTM1NA==","url":"https://api.github.com/repos/eslint/eslint/labels/triage","name":"triage","color":"cc317c","default":false,"description":"An ESLint team member will look at this issue soon"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-09T20:26:16Z","updated_at":"2019-01-06T18:53:08Z","closed_at":"2018-07-09T20:30:42Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11061773,"node_id":"MDEwOlJlcG9zaXRvcnkxMTA2MTc3Mw==","name":"eslint","full_name":"eslint/eslint","private":false,"owner":{"login":"eslint","id":6019716,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMTk3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6019716?v=4","gravatar_id":"","url":"https://api.github.com/users/eslint","html_url":"https://github.com/eslint","followers_url":"https://api.github.com/users/eslint/followers","following_url":"https://api.github.com/users/eslint/following{/other_user}","gists_url":"https://api.github.com/users/eslint/gists{/gist_id}","starred_url":"https://api.github.com/users/eslint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eslint/subscriptions","organizations_url":"https://api.github.com/users/eslint/orgs","repos_url":"https://api.github.com/users/eslint/repos","events_url":"https://api.github.com/users/eslint/events{/privacy}","received_events_url":"https://api.github.com/users/eslint/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eslint/eslint","description":"Find and fix problems in your JavaScript code.","fork":false,"url":"https://api.github.com/repos/eslint/eslint","forks_url":"https://api.github.com/repos/eslint/eslint/forks","keys_url":"https://api.github.com/repos/eslint/eslint/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eslint/eslint/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eslint/eslint/teams","hooks_url":"https://api.github.com/repos/eslint/eslint/hooks","issue_events_url":"https://api.github.com/repos/eslint/eslint/issues/events{/number}","events_url":"https://api.github.com/repos/eslint/eslint/events","assignees_url":"https://api.github.com/repos/eslint/eslint/assignees{/user}","branches_url":"https://api.github.com/repos/eslint/eslint/branches{/branch}","tags_url":"https://api.github.com/repos/eslint/eslint/tags","blobs_url":"https://api.github.com/repos/eslint/eslint/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eslint/eslint/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eslint/eslint/git/refs{/sha}","trees_url":"https://api.github.com/repos/eslint/eslint/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eslint/eslint/statuses/{sha}","languages_url":"https://api.github.com/repos/eslint/eslint/languages","stargazers_url":"https://api.github.com/repos/eslint/eslint/stargazers","contributors_url":"https://api.github.com/repos/eslint/eslint/contributors","subscribers_url":"https://api.github.com/repos/eslint/eslint/subscribers","subscription_url":"https://api.github.com/repos/eslint/eslint/subscription","commits_url":"https://api.github.com/repos/eslint/eslint/commits{/sha}","git_commits_url":"https://api.github.com/repos/eslint/eslint/git/commits{/sha}","comments_url":"https://api.github.com/repos/eslint/eslint/comments{/number}","issue_comment_url":"https://api.github.com/repos/eslint/eslint/issues/comments{/number}","contents_url":"https://api.github.com/repos/eslint/eslint/contents/{+path}","compare_url":"https://api.github.com/repos/eslint/eslint/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eslint/eslint/merges","archive_url":"https://api.github.com/repos/eslint/eslint/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eslint/eslint/downloads","issues_url":"https://api.github.com/repos/eslint/eslint/issues{/number}","pulls_url":"https://api.github.com/repos/eslint/eslint/pulls{/number}","milestones_url":"https://api.github.com/repos/eslint/eslint/milestones{/number}","notifications_url":"https://api.github.com/repos/eslint/eslint/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eslint/eslint/labels{/name}","releases_url":"https://api.github.com/repos/eslint/eslint/releases{/id}","deployments_url":"https://api.github.com/repos/eslint/eslint/deployments","created_at":"2013-06-29T23:59:48Z","updated_at":"2025-11-09T16:05:52Z","pushed_at":"2025-11-09T18:22:32Z","git_url":"git://github.com/eslint/eslint.git","ssh_url":"git@github.com:eslint/eslint.git","clone_url":"https://github.com/eslint/eslint.git","svn_url":"https://github.com/eslint/eslint","homepage":"https://eslint.org","size":50714,"stargazers_count":26641,"watchers_count":26641,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4839,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":135,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ecmascript","eslint","javascript","linter","static-code-analysis"],"visibility":"public","forks":4839,"open_issues":135,"watchers":26641,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**What rule do you want to change?**\r\n\r\nhttps://eslint.org/docs/rules/operator-assignment\r\n\r\n**Does this change cause the rule to produce more or fewer warnings?**\r\n\r\nmore\r\n\r\n**How will the change be implemented? (New option, new default behavior, etc.)?**\r\n\r\nnew option + new default behaviour\r\n\r\n**Please provide some example code that this change will affect:**\r\n\r\n```js\r\nlet count = 0\r\n\r\nasync function asyncInc() {\r\n\tcount += await getNumber()\r\n}\r\n```\r\n\r\n**What does the rule currently do for this code?**\r\n**What will the rule do after it's changed?**\r\n\r\n Currently \"operator-assignment\" rule has all or nothing behaviour. I'd like to make it configurable - I find this rule too restrictive for sync code (so I dont want to use it) but I would like to forbid those kind of assignments for async functions (ideally only for those that mutate non-local variables). Thus rule with the mentioned new option could become part of `eslint:recommended`.\r\n\r\n **Why?**\r\n\r\nBecause `count += await getNumber()` is actually equivalent of `count = count + await getNumber()`, so it's easy to update stale value.\r\n\r\nhttps://www.youtube.com/watch?v=bfxglBVSNDI\r\n","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/10583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/10583/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403610784","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-403610784","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":403610784,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzYxMDc4NA==","user":{"login":"Andarist","id":9800850,"node_id":"MDQ6VXNlcjk4MDA4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/9800850?v=4","gravatar_id":"","url":"https://api.github.com/users/Andarist","html_url":"https://github.com/Andarist","followers_url":"https://api.github.com/users/Andarist/followers","following_url":"https://api.github.com/users/Andarist/following{/other_user}","gists_url":"https://api.github.com/users/Andarist/gists{/gist_id}","starred_url":"https://api.github.com/users/Andarist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andarist/subscriptions","organizations_url":"https://api.github.com/users/Andarist/orgs","repos_url":"https://api.github.com/users/Andarist/repos","events_url":"https://api.github.com/users/Andarist/events{/privacy}","received_events_url":"https://api.github.com/users/Andarist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T20:32:53Z","updated_at":"2018-07-09T20:32:53Z","body":"It seems to me that this should be a new option of operator-assignment . I agree with others that this is sufficiently confusing and would make a good candidate for a rule.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403610784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Andarist","id":9800850,"node_id":"MDQ6VXNlcjk4MDA4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/9800850?v=4","gravatar_id":"","url":"https://api.github.com/users/Andarist","html_url":"https://github.com/Andarist","followers_url":"https://api.github.com/users/Andarist/followers","following_url":"https://api.github.com/users/Andarist/following{/other_user}","gists_url":"https://api.github.com/users/Andarist/gists{/gist_id}","starred_url":"https://api.github.com/users/Andarist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andarist/subscriptions","organizations_url":"https://api.github.com/users/Andarist/orgs","repos_url":"https://api.github.com/users/Andarist/repos","events_url":"https://api.github.com/users/Andarist/events{/privacy}","received_events_url":"https://api.github.com/users/Andarist/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403648785","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-403648785","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":403648785,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzY0ODc4NQ==","user":{"login":"jamiebuilds","id":952783,"node_id":"MDQ6VXNlcjk1Mjc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/952783?v=4","gravatar_id":"","url":"https://api.github.com/users/jamiebuilds","html_url":"https://github.com/jamiebuilds","followers_url":"https://api.github.com/users/jamiebuilds/followers","following_url":"https://api.github.com/users/jamiebuilds/following{/other_user}","gists_url":"https://api.github.com/users/jamiebuilds/gists{/gist_id}","starred_url":"https://api.github.com/users/jamiebuilds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamiebuilds/subscriptions","organizations_url":"https://api.github.com/users/jamiebuilds/orgs","repos_url":"https://api.github.com/users/jamiebuilds/repos","events_url":"https://api.github.com/users/jamiebuilds/events{/privacy}","received_events_url":"https://api.github.com/users/jamiebuilds/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T23:14:27Z","updated_at":"2018-07-09T23:14:27Z","body":"> I'm not sure this warrants a rule; in the linked tweet, this only is \"confusing\" because the variable is being mutated both inside and outside the async function.\r\n\r\nI can give a motivating example with totally reasonable JavaScript:\r\n\r\n```js\r\nasync function countFiles(dir) {\r\n  let files = await readdir(dir);\r\n  let count = 0;\r\n\r\n  await Promise.all(files.map(file => {\r\n    let filePath = path.join(dir, file);\r\n    let fileStat = await stat(filePath);\r\n\r\n    if (fileStat.isDirectory()) {\r\n      count += await countFiles(file);\r\n    } else {\r\n      count += 1;\r\n    }\r\n  });\r\n\r\n  return count;\r\n}\r\n```\r\n\r\nI doubt that most (even experienced) developers would be able to spot the bug here.\r\n\r\nThis just seems like a footgun and that there's little benefit in allowing `await` to be used in these types of expressions.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403648785/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jamiebuilds","id":952783,"node_id":"MDQ6VXNlcjk1Mjc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/952783?v=4","gravatar_id":"","url":"https://api.github.com/users/jamiebuilds","html_url":"https://github.com/jamiebuilds","followers_url":"https://api.github.com/users/jamiebuilds/followers","following_url":"https://api.github.com/users/jamiebuilds/following{/other_user}","gists_url":"https://api.github.com/users/jamiebuilds/gists{/gist_id}","starred_url":"https://api.github.com/users/jamiebuilds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamiebuilds/subscriptions","organizations_url":"https://api.github.com/users/jamiebuilds/orgs","repos_url":"https://api.github.com/users/jamiebuilds/repos","events_url":"https://api.github.com/users/jamiebuilds/events{/privacy}","received_events_url":"https://api.github.com/users/jamiebuilds/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1724315550,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNzI0MzE1NTUw","url":"https://api.github.com/repos/eslint/eslint/issues/events/1724315550","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-07-09T23:20:25Z","assignee":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403649898","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-403649898","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":403649898,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzY0OTg5OA==","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T23:20:31Z","updated_at":"2018-07-09T23:20:47Z","body":"I'll champion this proposal based on the behavior proposed in https://github.com/eslint/eslint/issues/10405#issuecomment-392519801.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/403649898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/406848429","html_url":"https://github.com/eslint/eslint/issues/10405#issuecomment-406848429","issue_url":"https://api.github.com/repos/eslint/eslint/issues/10405","id":406848429,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjg0ODQyOQ==","user":{"login":"aladdin-add","id":13050025,"node_id":"MDQ6VXNlcjEzMDUwMDI1","avatar_url":"https://avatars.githubusercontent.com/u/13050025?v=4","gravatar_id":"","url":"https://api.github.com/users/aladdin-add","html_url":"https://github.com/aladdin-add","followers_url":"https://api.github.com/users/aladdin-add/followers","following_url":"https://api.github.com/users/aladdin-add/following{/other_user}","gists_url":"https://api.github.com/users/aladdin-add/gists{/gist_id}","starred_url":"https://api.github.com/users/aladdin-add/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aladdin-add/subscriptions","organizations_url":"https://api.github.com/users/aladdin-add/orgs","repos_url":"https://api.github.com/users/aladdin-add/repos","events_url":"https://api.github.com/users/aladdin-add/events{/privacy}","received_events_url":"https://api.github.com/users/aladdin-add/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T07:59:40Z","updated_at":"2018-07-22T07:59:40Z","body":"now it is accepted.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/406848429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aladdin-add","id":13050025,"node_id":"MDQ6VXNlcjEzMDUwMDI1","avatar_url":"https://avatars.githubusercontent.com/u/13050025?v=4","gravatar_id":"","url":"https://api.github.com/users/aladdin-add","html_url":"https://github.com/aladdin-add","followers_url":"https://api.github.com/users/aladdin-add/followers","following_url":"https://api.github.com/users/aladdin-add/following{/other_user}","gists_url":"https://api.github.com/users/aladdin-add/gists{/gist_id}","starred_url":"https://api.github.com/users/aladdin-add/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aladdin-add/subscriptions","organizations_url":"https://api.github.com/users/aladdin-add/orgs","repos_url":"https://api.github.com/users/aladdin-add/repos","events_url":"https://api.github.com/users/aladdin-add/events{/privacy}","received_events_url":"https://api.github.com/users/aladdin-add/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1746341400,"node_id":"MDEyOkxhYmVsZWRFdmVudDE3NDYzNDE0MDA=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1746341400","actor":{"login":"aladdin-add","id":13050025,"node_id":"MDQ6VXNlcjEzMDUwMDI1","avatar_url":"https://avatars.githubusercontent.com/u/13050025?v=4","gravatar_id":"","url":"https://api.github.com/users/aladdin-add","html_url":"https://github.com/aladdin-add","followers_url":"https://api.github.com/users/aladdin-add/followers","following_url":"https://api.github.com/users/aladdin-add/following{/other_user}","gists_url":"https://api.github.com/users/aladdin-add/gists{/gist_id}","starred_url":"https://api.github.com/users/aladdin-add/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aladdin-add/subscriptions","organizations_url":"https://api.github.com/users/aladdin-add/orgs","repos_url":"https://api.github.com/users/aladdin-add/repos","events_url":"https://api.github.com/users/aladdin-add/events{/privacy}","received_events_url":"https://api.github.com/users/aladdin-add/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-07-22T07:59:50Z","label":{"name":"accepted","color":"0052cc"},"performed_via_github_app":null},{"id":1746341401,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTc0NjM0MTQwMQ==","url":"https://api.github.com/repos/eslint/eslint/issues/events/1746341401","actor":{"login":"aladdin-add","id":13050025,"node_id":"MDQ6VXNlcjEzMDUwMDI1","avatar_url":"https://avatars.githubusercontent.com/u/13050025?v=4","gravatar_id":"","url":"https://api.github.com/users/aladdin-add","html_url":"https://github.com/aladdin-add","followers_url":"https://api.github.com/users/aladdin-add/followers","following_url":"https://api.github.com/users/aladdin-add/following{/other_user}","gists_url":"https://api.github.com/users/aladdin-add/gists{/gist_id}","starred_url":"https://api.github.com/users/aladdin-add/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aladdin-add/subscriptions","organizations_url":"https://api.github.com/users/aladdin-add/orgs","repos_url":"https://api.github.com/users/aladdin-add/repos","events_url":"https://api.github.com/users/aladdin-add/events{/privacy}","received_events_url":"https://api.github.com/users/aladdin-add/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2018-07-22T07:59:50Z","label":{"name":"evaluating","color":"fef2c0"},"performed_via_github_app":null},{"actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T01:57:34Z","updated_at":"2018-07-23T01:57:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eslint/eslint/issues/10654","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/10654/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/10654/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/10654/events","html_url":"https://github.com/eslint/eslint/issues/10654","id":343462705,"node_id":"MDU6SXNzdWUzNDM0NjI3MDU=","number":10654,"title":"Keep track of the AST nodes associated with each code path segment","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"},{"id":255319420,"node_id":"MDU6TGFiZWwyNTUzMTk0MjA=","url":"https://api.github.com/repos/eslint/eslint/labels/evaluating","name":"evaluating","color":"fef2c0","default":false,"description":"The team will evaluate this issue to decide whether it meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"},{"id":1138140293,"node_id":"MDU6TGFiZWwxMTM4MTQwMjkz","url":"https://api.github.com/repos/eslint/eslint/labels/auto%20closed","name":"auto closed","color":"eeeeee","default":false,"description":"The bot closed this issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-23T01:57:34Z","updated_at":"2019-06-10T08:10:37Z","closed_at":"2018-12-11T18:36:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11061773,"node_id":"MDEwOlJlcG9zaXRvcnkxMTA2MTc3Mw==","name":"eslint","full_name":"eslint/eslint","private":false,"owner":{"login":"eslint","id":6019716,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMTk3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6019716?v=4","gravatar_id":"","url":"https://api.github.com/users/eslint","html_url":"https://github.com/eslint","followers_url":"https://api.github.com/users/eslint/followers","following_url":"https://api.github.com/users/eslint/following{/other_user}","gists_url":"https://api.github.com/users/eslint/gists{/gist_id}","starred_url":"https://api.github.com/users/eslint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eslint/subscriptions","organizations_url":"https://api.github.com/users/eslint/orgs","repos_url":"https://api.github.com/users/eslint/repos","events_url":"https://api.github.com/users/eslint/events{/privacy}","received_events_url":"https://api.github.com/users/eslint/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eslint/eslint","description":"Find and fix problems in your JavaScript code.","fork":false,"url":"https://api.github.com/repos/eslint/eslint","forks_url":"https://api.github.com/repos/eslint/eslint/forks","keys_url":"https://api.github.com/repos/eslint/eslint/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eslint/eslint/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eslint/eslint/teams","hooks_url":"https://api.github.com/repos/eslint/eslint/hooks","issue_events_url":"https://api.github.com/repos/eslint/eslint/issues/events{/number}","events_url":"https://api.github.com/repos/eslint/eslint/events","assignees_url":"https://api.github.com/repos/eslint/eslint/assignees{/user}","branches_url":"https://api.github.com/repos/eslint/eslint/branches{/branch}","tags_url":"https://api.github.com/repos/eslint/eslint/tags","blobs_url":"https://api.github.com/repos/eslint/eslint/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eslint/eslint/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eslint/eslint/git/refs{/sha}","trees_url":"https://api.github.com/repos/eslint/eslint/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eslint/eslint/statuses/{sha}","languages_url":"https://api.github.com/repos/eslint/eslint/languages","stargazers_url":"https://api.github.com/repos/eslint/eslint/stargazers","contributors_url":"https://api.github.com/repos/eslint/eslint/contributors","subscribers_url":"https://api.github.com/repos/eslint/eslint/subscribers","subscription_url":"https://api.github.com/repos/eslint/eslint/subscription","commits_url":"https://api.github.com/repos/eslint/eslint/commits{/sha}","git_commits_url":"https://api.github.com/repos/eslint/eslint/git/commits{/sha}","comments_url":"https://api.github.com/repos/eslint/eslint/comments{/number}","issue_comment_url":"https://api.github.com/repos/eslint/eslint/issues/comments{/number}","contents_url":"https://api.github.com/repos/eslint/eslint/contents/{+path}","compare_url":"https://api.github.com/repos/eslint/eslint/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eslint/eslint/merges","archive_url":"https://api.github.com/repos/eslint/eslint/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eslint/eslint/downloads","issues_url":"https://api.github.com/repos/eslint/eslint/issues{/number}","pulls_url":"https://api.github.com/repos/eslint/eslint/pulls{/number}","milestones_url":"https://api.github.com/repos/eslint/eslint/milestones{/number}","notifications_url":"https://api.github.com/repos/eslint/eslint/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eslint/eslint/labels{/name}","releases_url":"https://api.github.com/repos/eslint/eslint/releases{/id}","deployments_url":"https://api.github.com/repos/eslint/eslint/deployments","created_at":"2013-06-29T23:59:48Z","updated_at":"2025-11-09T16:05:52Z","pushed_at":"2025-11-09T18:22:32Z","git_url":"git://github.com/eslint/eslint.git","ssh_url":"git@github.com:eslint/eslint.git","clone_url":"https://github.com/eslint/eslint.git","svn_url":"https://github.com/eslint/eslint","homepage":"https://eslint.org","size":50714,"stargazers_count":26641,"watchers_count":26641,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4839,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":135,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ecmascript","eslint","javascript","linter","static-code-analysis"],"visibility":"public","forks":4839,"open_issues":135,"watchers":26641,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for requesting a change that is not a bug fix, rule change, or new rule. If you are here for another reason, please see below:\r\n\r\n    1. To report a bug: https://eslint.org/docs/developer-guide/contributing/reporting-bugs\r\n    2. To request a rule change: https://eslint.org/docs/developer-guide/contributing/rule-changes\r\n    3. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    4. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**The version of ESLint you are using.**\r\n\r\n5.2.0\r\n\r\n**The problem you want to solve.**\r\n\r\nWhen using the code path analysis API, it's very cumbersome to perform graph traversal operations on a control flow graph because `CodePathSegments` objects don't retain information about which AST nodes they refer to.\r\n\r\nAs an example, I'm currently implementing https://github.com/eslint/eslint/issues/10405. I'd like to report an error under roughly the following circumstances:\r\n\r\n> There is some acyclic path on the control flow graph where all of the following steps happen in order, possibly with other steps between them:\r\n> 1. Control flow enters an `AssignmentExpression` that assigns to a variable.\r\n> 1. Control flow enters an `Identifier` which maps to the same variable that is assigned in the `AssignmentExpression`.\r\n> 1. Control flow exits an `AwaitExpression` or `YieldExpression`.\r\n> 1. Control flow exits the `AssignmentExpression` from (1).\r\n\r\nIntuitively, this idea seems like it should be relatively simple to implement. Ideally, I'd be able to create a function that accepts a `CodePath` and performs a graph traversal on its `CodePathSegment`s, while iterating through the AST nodes in each `CodePathSegment` to find the specific nodes that I'm searching for.\r\n\r\nUnfortunately, the implementation is significantly more complicated with the existing code path API. A rule can only get information about code path segments when they start or end (i.e. at branch points). In order to determine which code path segment is enabled for a given node, a rule needs to manually keep track of the \"current\" code path segment and refer to it in AST listeners.\r\n\r\n**Your take on the correct solution to problem.**\r\n\r\nI think each `CodePathSegment` should have an array property containing the nodes that it enters and exits in the path. For example, it might look something like this:\r\n\r\n```js\r\nnodes: [\r\n    {\r\n        entering: true,\r\n        node: <First node>\r\n    },\r\n    {\r\n        entering: false,\r\n        node: <First node>\r\n    },\r\n    {\r\n        entering: true,\r\n        node: <Second node>\r\n    },\r\n    {\r\n        entering: true,\r\n        node: <Third node>\r\n    },\r\n    {\r\n        entering: false,\r\n        node: <Third node>\r\n    },\r\n    {\r\n        entering: false,\r\n        node: <Second node>\r\n    }\r\n]\r\n```\r\n\r\nIn other words, I want rules to have access to the nodes that are displayed in the control flow graphs on [this page](https://eslint.org/docs/developer-guide/code-path-analysis). In my opinion, this would make the code path analysis API significantly easier to use.\r\n\r\ncc @mysticatea ","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/10654/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/10654/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1746796030,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NDY3OTYwMzA=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1746796030","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c83cd60a5ea0c423aa39b9586ee71a3542769339","commit_url":"https://api.github.com/repos/eslint/eslint/commits/c83cd60a5ea0c423aa39b9586ee71a3542769339","created_at":"2018-07-23T04:13:25Z","performed_via_github_app":null},{"id":1746796800,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NDY3OTY4MDA=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1746796800","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8c966fed8c72e31e86b09d3fd359292c3d49ee57","commit_url":"https://api.github.com/repos/eslint/eslint/commits/8c966fed8c72e31e86b09d3fd359292c3d49ee57","created_at":"2018-07-23T04:14:28Z","performed_via_github_app":null},{"actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-23T04:14:41Z","updated_at":"2018-07-23T04:14:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/eslint/eslint/issues/10655","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/10655/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/10655/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/10655/events","html_url":"https://github.com/eslint/eslint/pull/10655","id":343481684,"node_id":"MDExOlB1bGxSZXF1ZXN0MjAzMTA0ODUw","number":10655,"title":"New: require-atomic-updates rule (fixes #10405)","user":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":253473350,"node_id":"MDU6TGFiZWwyNTM0NzMzNTA=","url":"https://api.github.com/repos/eslint/eslint/labels/feature","name":"feature","color":"bfd4f2","default":false,"description":"This change adds a new feature to ESLint"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-23T04:14:41Z","updated_at":"2019-01-24T18:53:17Z","closed_at":"2018-07-27T01:05:45Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11061773,"node_id":"MDEwOlJlcG9zaXRvcnkxMTA2MTc3Mw==","name":"eslint","full_name":"eslint/eslint","private":false,"owner":{"login":"eslint","id":6019716,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwMTk3MTY=","avatar_url":"https://avatars.githubusercontent.com/u/6019716?v=4","gravatar_id":"","url":"https://api.github.com/users/eslint","html_url":"https://github.com/eslint","followers_url":"https://api.github.com/users/eslint/followers","following_url":"https://api.github.com/users/eslint/following{/other_user}","gists_url":"https://api.github.com/users/eslint/gists{/gist_id}","starred_url":"https://api.github.com/users/eslint/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eslint/subscriptions","organizations_url":"https://api.github.com/users/eslint/orgs","repos_url":"https://api.github.com/users/eslint/repos","events_url":"https://api.github.com/users/eslint/events{/privacy}","received_events_url":"https://api.github.com/users/eslint/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/eslint/eslint","description":"Find and fix problems in your JavaScript code.","fork":false,"url":"https://api.github.com/repos/eslint/eslint","forks_url":"https://api.github.com/repos/eslint/eslint/forks","keys_url":"https://api.github.com/repos/eslint/eslint/keys{/key_id}","collaborators_url":"https://api.github.com/repos/eslint/eslint/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/eslint/eslint/teams","hooks_url":"https://api.github.com/repos/eslint/eslint/hooks","issue_events_url":"https://api.github.com/repos/eslint/eslint/issues/events{/number}","events_url":"https://api.github.com/repos/eslint/eslint/events","assignees_url":"https://api.github.com/repos/eslint/eslint/assignees{/user}","branches_url":"https://api.github.com/repos/eslint/eslint/branches{/branch}","tags_url":"https://api.github.com/repos/eslint/eslint/tags","blobs_url":"https://api.github.com/repos/eslint/eslint/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/eslint/eslint/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/eslint/eslint/git/refs{/sha}","trees_url":"https://api.github.com/repos/eslint/eslint/git/trees{/sha}","statuses_url":"https://api.github.com/repos/eslint/eslint/statuses/{sha}","languages_url":"https://api.github.com/repos/eslint/eslint/languages","stargazers_url":"https://api.github.com/repos/eslint/eslint/stargazers","contributors_url":"https://api.github.com/repos/eslint/eslint/contributors","subscribers_url":"https://api.github.com/repos/eslint/eslint/subscribers","subscription_url":"https://api.github.com/repos/eslint/eslint/subscription","commits_url":"https://api.github.com/repos/eslint/eslint/commits{/sha}","git_commits_url":"https://api.github.com/repos/eslint/eslint/git/commits{/sha}","comments_url":"https://api.github.com/repos/eslint/eslint/comments{/number}","issue_comment_url":"https://api.github.com/repos/eslint/eslint/issues/comments{/number}","contents_url":"https://api.github.com/repos/eslint/eslint/contents/{+path}","compare_url":"https://api.github.com/repos/eslint/eslint/compare/{base}...{head}","merges_url":"https://api.github.com/repos/eslint/eslint/merges","archive_url":"https://api.github.com/repos/eslint/eslint/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/eslint/eslint/downloads","issues_url":"https://api.github.com/repos/eslint/eslint/issues{/number}","pulls_url":"https://api.github.com/repos/eslint/eslint/pulls{/number}","milestones_url":"https://api.github.com/repos/eslint/eslint/milestones{/number}","notifications_url":"https://api.github.com/repos/eslint/eslint/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/eslint/eslint/labels{/name}","releases_url":"https://api.github.com/repos/eslint/eslint/releases{/id}","deployments_url":"https://api.github.com/repos/eslint/eslint/deployments","created_at":"2013-06-29T23:59:48Z","updated_at":"2025-11-09T16:05:52Z","pushed_at":"2025-11-09T18:22:32Z","git_url":"git://github.com/eslint/eslint.git","ssh_url":"git@github.com:eslint/eslint.git","clone_url":"https://github.com/eslint/eslint.git","svn_url":"https://github.com/eslint/eslint","homepage":"https://eslint.org","size":50714,"stargazers_count":26641,"watchers_count":26641,"language":"JavaScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4839,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":135,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ecmascript","eslint","javascript","linter","static-code-analysis"],"visibility":"public","forks":4839,"open_issues":135,"watchers":26641,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/eslint/eslint/pulls/10655","html_url":"https://github.com/eslint/eslint/pull/10655","diff_url":"https://github.com/eslint/eslint/pull/10655.diff","patch_url":"https://github.com/eslint/eslint/pull/10655.patch","merged_at":"2018-07-27T01:05:45Z"},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n-->\r\n\r\n**What is the purpose of this pull request? (put an \"X\" next to item)**\r\n\r\n[x] New rule (https://github.com/eslint/eslint/issues/10405)\r\n\r\n<!--\r\n    If the item you've checked above has a template, please paste the template questions below and answer them. (If this pull request is addressing an issue, you can just paste a link to the issue here instead.)\r\n-->\r\n\r\n<!--\r\n    Please ensure your pull request is ready:\r\n\r\n    - Read the pull request guide (https://eslint.org/docs/developer-guide/contributing/pull-requests)\r\n    - Include tests for this change\r\n    - Update documentation for this change (if appropriate)\r\n-->\r\n\r\n<!--\r\n    The following is required for all pull requests:\r\n-->\r\n\r\n**What changes did you make? (Give an overview)**\r\n\r\nThis adds a `require-atomic-updates` rule, designed to prevent possible race conditions as described in https://github.com/eslint/eslint/issues/10405. Specifically, the rule activates whenever (a) an assignment expression assigns to a new value that depends on its old value, and (b) the execution is interrupted with `await` or `yield` between reading the old value and assigning the new value. As an exception, the rule does not report an error if the assignment expression is assigning to a local variable, provided that the variable is never leaked outside of the surrounding function via a closure.\r\n\r\n**Is there anything you'd like reviewers to focus on?**\r\n\r\nNothing in particular","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/10655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/10655/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1756301454,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NTYzMDE0NTQ=","url":"https://api.github.com/repos/eslint/eslint/issues/events/1756301454","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5a2538c0ee9df928c71ce061505ed8294e3db35e","commit_url":"https://api.github.com/repos/eslint/eslint/commits/5a2538c0ee9df928c71ce061505ed8294e3db35e","created_at":"2018-07-27T01:05:52Z","performed_via_github_app":null},{"id":1756301455,"node_id":"MDExOkNsb3NlZEV2ZW50MTc1NjMwMTQ1NQ==","url":"https://api.github.com/repos/eslint/eslint/issues/events/1756301455","actor":{"login":"not-an-aardvark","id":11638619,"node_id":"MDQ6VXNlcjExNjM4NjE5","avatar_url":"https://avatars.githubusercontent.com/u/11638619?v=4","gravatar_id":"","url":"https://api.github.com/users/not-an-aardvark","html_url":"https://github.com/not-an-aardvark","followers_url":"https://api.github.com/users/not-an-aardvark/followers","following_url":"https://api.github.com/users/not-an-aardvark/following{/other_user}","gists_url":"https://api.github.com/users/not-an-aardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/not-an-aardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/not-an-aardvark/subscriptions","organizations_url":"https://api.github.com/users/not-an-aardvark/orgs","repos_url":"https://api.github.com/users/not-an-aardvark/repos","events_url":"https://api.github.com/users/not-an-aardvark/events{/privacy}","received_events_url":"https://api.github.com/users/not-an-aardvark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"5a2538c0ee9df928c71ce061505ed8294e3db35e","commit_url":"https://api.github.com/repos/eslint/eslint/commits/5a2538c0ee9df928c71ce061505ed8294e3db35e","created_at":"2018-07-27T01:05:52Z","state_reason":null,"performed_via_github_app":null}]