{"url":"https://api.github.com/repos/eslint/eslint/issues/11324","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/11324/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/11324/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/11324/events","html_url":"https://github.com/eslint/eslint/issues/11324","id":404049378,"node_id":"MDU6SXNzdWU0MDQwNDkzNzg=","number":11324,"title":"Fix range bug with no-extra-boolean-cast","user":{"login":"aboyton","id":7865563,"node_id":"MDQ6VXNlcjc4NjU1NjM=","avatar_url":"https://avatars.githubusercontent.com/u/7865563?v=4","gravatar_id":"","url":"https://api.github.com/users/aboyton","html_url":"https://github.com/aboyton","followers_url":"https://api.github.com/users/aboyton/followers","following_url":"https://api.github.com/users/aboyton/following{/other_user}","gists_url":"https://api.github.com/users/aboyton/gists{/gist_id}","starred_url":"https://api.github.com/users/aboyton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aboyton/subscriptions","organizations_url":"https://api.github.com/users/aboyton/orgs","repos_url":"https://api.github.com/users/aboyton/repos","events_url":"https://api.github.com/users/aboyton/events{/privacy}","received_events_url":"https://api.github.com/users/aboyton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"platinumazure","id":284282,"node_id":"MDQ6VXNlcjI4NDI4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/284282?v=4","gravatar_id":"","url":"https://api.github.com/users/platinumazure","html_url":"https://github.com/platinumazure","followers_url":"https://api.github.com/users/platinumazure/followers","following_url":"https://api.github.com/users/platinumazure/following{/other_user}","gists_url":"https://api.github.com/users/platinumazure/gists{/gist_id}","starred_url":"https://api.github.com/users/platinumazure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/platinumazure/subscriptions","organizations_url":"https://api.github.com/users/platinumazure/orgs","repos_url":"https://api.github.com/users/platinumazure/repos","events_url":"https://api.github.com/users/platinumazure/events{/privacy}","received_events_url":"https://api.github.com/users/platinumazure/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"platinumazure","id":284282,"node_id":"MDQ6VXNlcjI4NDI4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/284282?v=4","gravatar_id":"","url":"https://api.github.com/users/platinumazure","html_url":"https://github.com/platinumazure","followers_url":"https://api.github.com/users/platinumazure/followers","following_url":"https://api.github.com/users/platinumazure/following{/other_user}","gists_url":"https://api.github.com/users/platinumazure/gists{/gist_id}","starred_url":"https://api.github.com/users/platinumazure/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/platinumazure/subscriptions","organizations_url":"https://api.github.com/users/platinumazure/orgs","repos_url":"https://api.github.com/users/platinumazure/repos","events_url":"https://api.github.com/users/platinumazure/events{/privacy}","received_events_url":"https://api.github.com/users/platinumazure/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":7,"created_at":"2019-01-28T23:13:03Z","updated_at":"2020-03-02T22:43:46Z","closed_at":"2019-09-03T02:38:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Tell us about your environment**\r\n\r\n* **ESLint Version:** 5.12.1\r\n* **Node Version:** 8.11.4\r\n* **npm Version:** 5.6.0\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?** default\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n<!-- Paste your configuration below: -->\r\n```json\r\n{\r\n  \"extends\": [\"eslint:recommended\"],\r\n  \"rules\": {\r\n    \"no-extra-boolean-cast\": \"error\"\r\n  }\r\n}\r\n```\r\n\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\n<!-- Paste the source code below: -->\r\n```js\r\nvar bar = 1;\r\nvar foo = !!bar ? 'true' : 'false';\r\n```\r\n\r\n<!-- Paste the command you used to run ESLint: -->\r\n```bash\r\nnpm run lint -- --format=json\r\n```\r\n\r\n**What did you expect to happen?**\r\nThe information about the location of the fix appears to be off. Running `--fix` applies the fix correctly but the response from the JSON output is off (which means that other external tools cannot apply the fix).\r\n\r\nI would expect the location information to be something like:\r\n```json\r\n{\r\n  \"line\": 2,\r\n  \"column\": 11,\r\n  \"nodeType\": \"UnaryExpression\",\r\n  \"messageId\": \"unexpectedNegation\",\r\n  \"endLine\": 2,\r\n  \"endColumn\": 16,\r\n  \"fix\": { \"range\": [24, 29], \"text\": \"bar\" }\r\n}\r\n```\r\n\r\nLooking at AST Explorer seems to have the right location information.\r\n\r\nhttps://astexplorer.net/#/gist/b5517bff697af4446176699497517e36/8f1a35f7594886e63d855960a1649120071963d4\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\n```json\r\n[\r\n  {\r\n    \"filePath\": \"/Volumes/Freelancer/scratch/eslint/test.js\",\r\n    \"messages\": [\r\n      {\r\n        \"ruleId\": \"no-unused-vars\",\r\n        \"severity\": 2,\r\n        \"message\": \"'foo' is assigned a value but never used.\",\r\n        \"line\": 2,\r\n        \"column\": 5,\r\n        \"nodeType\": \"Identifier\",\r\n        \"endLine\": 2,\r\n        \"endColumn\": 8\r\n      },\r\n      {\r\n        \"ruleId\": \"no-extra-boolean-cast\",\r\n        \"severity\": 2,\r\n        \"message\": \"Redundant double negation.\",\r\n        \"line\": 2,\r\n        \"column\": 12,\r\n        \"nodeType\": \"UnaryExpression\",\r\n        \"messageId\": \"unexpectedNegation\",\r\n        \"endLine\": 2,\r\n        \"endColumn\": 16,\r\n        \"fix\": { \"range\": [23, 28], \"text\": \"bar\" }\r\n      }\r\n    ],\r\n    \"errorCount\": 2,\r\n    \"warningCount\": 0,\r\n    \"fixableErrorCount\": 1,\r\n    \"fixableWarningCount\": 0,\r\n    \"source\": \"var bar = 1;\\nvar foo = !!bar ? 'true' : 'false';\\n\"\r\n  }\r\n]\r\n```\r\n\r\n**Are you willing to submit a pull request to fix this bug?** With help potentially. I'm unfamiliar with how rules output the position information.\r\n","closed_by":{"login":"kaicataldo","id":7041728,"node_id":"MDQ6VXNlcjcwNDE3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7041728?v=4","gravatar_id":"","url":"https://api.github.com/users/kaicataldo","html_url":"https://github.com/kaicataldo","followers_url":"https://api.github.com/users/kaicataldo/followers","following_url":"https://api.github.com/users/kaicataldo/following{/other_user}","gists_url":"https://api.github.com/users/kaicataldo/gists{/gist_id}","starred_url":"https://api.github.com/users/kaicataldo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaicataldo/subscriptions","organizations_url":"https://api.github.com/users/kaicataldo/orgs","repos_url":"https://api.github.com/users/kaicataldo/repos","events_url":"https://api.github.com/users/kaicataldo/events{/privacy}","received_events_url":"https://api.github.com/users/kaicataldo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/11324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/11324/timeline","performed_via_github_app":null,"state_reason":"completed"}