{"url":"https://api.github.com/repos/eslint/eslint/issues/16850","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/16850/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/16850/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/16850/events","html_url":"https://github.com/eslint/eslint/issues/16850","id":1568718479,"node_id":"I_kwDOAKjKDc5dgL6P","number":16850,"title":"Bug: `no-extra-parens` autofix changes assignment semantics","user":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"},{"id":2786823532,"node_id":"MDU6TGFiZWwyNzg2ODIzNTMy","url":"https://api.github.com/repos/eslint/eslint/labels/repro:yes","name":"repro:yes","color":"7A14E9","default":false,"description":"Issues with a reproducible example"}],"state":"closed","locked":true,"assignee":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2023-02-02T20:13:31Z","updated_at":"2023-08-09T15:26:53Z","closed_at":"2023-02-09T12:25:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Environment\r\n\r\nNode version: v18.13.0\r\nnpm version: v8.19.3\r\nLocal ESLint version: v8.33.0 (Currently used)\r\nGlobal ESLint version: Not found\r\nOperating System: darwin 22.2.0\r\n\r\n### What parser are you using?\r\n\r\nDefault (Espree)\r\n\r\n### What did you do?\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n```\r\n{\r\n    \"parserOptions\": {\r\n        \"ecmaVersion\": 2015\r\n    },\r\n    \"rules\": {\r\n        \"no-extra-parens\": [\r\n            \"error\"\r\n        ]\r\n    }\r\n}\r\n```\r\n</details>\r\n\r\n```js\r\nlet foo, bar;\r\n(foo) = function () { };\r\n(bar) = class { };\r\nconsole.log(foo.name + bar.name);\r\n```\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nESLint should not remove the parentheses in `(foo)` and `(bar)` automatically. The parentheses are required to prevent the class or function from having its `name` property set to the name of the variable.\r\n\r\n### What actually happened?\r\n\r\nThe parentheses around `foo` and `bar` are removed by the autofix. The resulting code prints `foobar` instead of an empty string like the original code.\r\n\r\n[**DEMO LINK**](https://eslint.org/play/#eyJ0ZXh0IjoibGV0IGZvbywgYmFyO1xuKGZvbykgPSBmdW5jdGlvbiAoKSB7IH07XG4oYmFyKSA9IGNsYXNzIHsgfTtcbmNvbnNvbGUubG9nKGZvby5uYW1lICsgYmFyLm5hbWUpO1xuIiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjoyMDE1LCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7Im5vLWV4dHJhLXBhcmVucyI6WyJlcnJvciJdfSwiZW52Ijp7fX19)\r\n\r\n\r\n### Participation\r\n\r\n- [X] I am willing to submit a pull request for this issue.\r\n\r\n### Additional comments\r\n\r\nMy suggestion is to disable the autofix for parentheses around a single identifier on the left side of an assignment when the right side contains an anonymous class or anonymous function. This would avoid unexpected changes in program behavior in some edge cases.\r\n\r\nI can't decide if keeping the warning in the first place would be good or not.","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/16850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/16850/timeline","performed_via_github_app":null,"state_reason":"completed"}