{"url":"https://api.github.com/repos/eslint/eslint/issues/12756","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/12756/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/12756/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/12756/events","html_url":"https://github.com/eslint/eslint/issues/12756","id":546475679,"node_id":"MDU6SXNzdWU1NDY0NzU2Nzk=","number":12756,"title":"\"comma-style\" doesn't like ignored, multiline destructured array elements.","user":{"login":"justincorrigible","id":2107110,"node_id":"MDQ6VXNlcjIxMDcxMTA=","avatar_url":"https://avatars.githubusercontent.com/u/2107110?v=4","gravatar_id":"","url":"https://api.github.com/users/justincorrigible","html_url":"https://github.com/justincorrigible","followers_url":"https://api.github.com/users/justincorrigible/followers","following_url":"https://api.github.com/users/justincorrigible/following{/other_user}","gists_url":"https://api.github.com/users/justincorrigible/gists{/gist_id}","starred_url":"https://api.github.com/users/justincorrigible/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justincorrigible/subscriptions","organizations_url":"https://api.github.com/users/justincorrigible/orgs","repos_url":"https://api.github.com/users/justincorrigible/repos","events_url":"https://api.github.com/users/justincorrigible/events{/privacy}","received_events_url":"https://api.github.com/users/justincorrigible/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"kaicataldo","id":7041728,"node_id":"MDQ6VXNlcjcwNDE3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7041728?v=4","gravatar_id":"","url":"https://api.github.com/users/kaicataldo","html_url":"https://github.com/kaicataldo","followers_url":"https://api.github.com/users/kaicataldo/followers","following_url":"https://api.github.com/users/kaicataldo/following{/other_user}","gists_url":"https://api.github.com/users/kaicataldo/gists{/gist_id}","starred_url":"https://api.github.com/users/kaicataldo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaicataldo/subscriptions","organizations_url":"https://api.github.com/users/kaicataldo/orgs","repos_url":"https://api.github.com/users/kaicataldo/repos","events_url":"https://api.github.com/users/kaicataldo/events{/privacy}","received_events_url":"https://api.github.com/users/kaicataldo/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"kaicataldo","id":7041728,"node_id":"MDQ6VXNlcjcwNDE3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7041728?v=4","gravatar_id":"","url":"https://api.github.com/users/kaicataldo","html_url":"https://github.com/kaicataldo","followers_url":"https://api.github.com/users/kaicataldo/followers","following_url":"https://api.github.com/users/kaicataldo/following{/other_user}","gists_url":"https://api.github.com/users/kaicataldo/gists{/gist_id}","starred_url":"https://api.github.com/users/kaicataldo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaicataldo/subscriptions","organizations_url":"https://api.github.com/users/kaicataldo/orgs","repos_url":"https://api.github.com/users/kaicataldo/repos","events_url":"https://api.github.com/users/kaicataldo/events{/privacy}","received_events_url":"https://api.github.com/users/kaicataldo/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":13,"created_at":"2020-01-07T19:52:57Z","updated_at":"2022-01-27T01:09:54Z","closed_at":"2021-07-30T22:23:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Tell us about your environment**\r\n\r\n* **ESLint Version:** 6.8.0\r\n* **Node Version:** 13.6.0\r\n* **NPM Version:** 6.13.4\r\n* **Parser** @typescript-eslint\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n```js\r\nmodule.exports = {\r\n  env: {\r\n    browser: true,\r\n    node: true,\r\n    es6: true,\r\n  },\r\n  extends: [\r\n    'airbnb',\r\n    'plugin:react/recommended',\r\n    'plugin:import/typescript',\r\n  ],\r\n  globals: {\r\n    PropTypes: false,\r\n    React: false,\r\n    uiVersion: false,\r\n  },\r\n  parser: '@typescript-eslint/parser',\r\n  parserOptions: {\r\n    ecmaFeatures: {\r\n      jsx: true,\r\n    },\r\n    ecmaVersion: 2018,\r\n    sourceType: 'module',\r\n  },\r\n  plugins: [\r\n    '@typescript-eslint',\r\n    'react',\r\n    'react-hooks',\r\n    'sort-destructure-keys',\r\n  ],\r\n  rules: {\r\n    'array-bracket-newline': ['error', {\r\n      'multiline': true,\r\n      'minItems': 3,\r\n    }],\r\n    'array-element-newline': ['warn', {\r\n      'multiline': true,\r\n      'minItems': 3,\r\n    }],\r\n    'arrow-body-style': 'off',\r\n    'arrow-parens': 'off',\r\n    'camelcase': ['warn', {\r\n      allow: [\"^UNSAFE_\", \"doc_count\", \"^active_\"],\r\n    }],\r\n    'comma-dangle': ['warn', 'always-multiline'],\r\n    'consistent-return': ['warn', {\r\n      treatUndefinedAsUnspecified: true\r\n    }],\r\n    'func-names': ['warn', 'as-needed'],\r\n    'function-paren-newline': ['warn', 'consistent'],\r\n    'implicit-arrow-linebreak': 'off',\r\n    'indent': ['warn', 4, {\r\n      ArrayExpression: 'first',\r\n      CallExpression: { arguments: 'first' },\r\n      flatTernaryExpressions: true,\r\n      FunctionDeclaration: { parameters: 'first' },\r\n      FunctionExpression: { parameters: 'first' },\r\n      ignoreComments: true,\r\n      ignoredNodes: [\r\n        'ConditionalExpression',\r\n        'JSXAttribute',\r\n        'JSXClosingElement',\r\n        'JSXElement',\r\n        'JSXElement > *',\r\n        'JSXEmptyExpression',\r\n        'JSXExpressionContainer',\r\n        'JSXIdentifier',\r\n        'JSXMemberExpression',\r\n        'JSXNamespacedName',\r\n        'JSXOpeningElement',\r\n        'JSXSpreadAttribute',\r\n        'JSXSpreadChild',\r\n        'JSXText',\r\n        'TemplateLiteral > *',\r\n      ],\r\n      ImportDeclaration: 'first',\r\n      MemberExpression: 1,\r\n      ObjectExpression: 'first',\r\n      SwitchCase: 1,\r\n      VariableDeclarator: 'first',\r\n    }],\r\n    'multiline-ternary': ['warn', 'always-multiline'],\r\n    'no-console': ['warn', {\r\n      allow: [\r\n        'info',\r\n        'warn',\r\n        'error',\r\n      ]\r\n    }],\r\n    'no-debugger': 'warn',\r\n    'no-fallthrough': ['warn', {\r\n      commentPattern: 'break[\\\\s\\\\w]*omitted',\r\n    }],\r\n    'no-nested-ternary': 'off',\r\n    'no-unneeded-ternary': 'warn',\r\n    'no-unused-expressions': ['warn', {\r\n      allowShortCircuit: true,\r\n      allowTaggedTemplates: true,\r\n      allowTernary: true,\r\n    }],\r\n    'no-var': 'error', // Must use const or let.\r\n    'object-property-newline': ['warn', {\r\n      // allowAllPropertiesOnSameLine: false,\r\n    }],\r\n    'object-curly-newline': 'warn', // ['warn', {\r\n    // ObjectExpression: {\r\n    //   'multiline': true,\r\n    //   'minProperties': 2,\r\n    // },\r\n    // ObjectPattern: {\r\n    //   'multiline': true,\r\n    //   'minProperties': 2,\r\n    // },\r\n    // ImportDeclaration: {\r\n    //   'multiline': true,\r\n    //   'minProperties': 2,\r\n    // },\r\n    // ExportDeclaration: {\r\n    //   'multiline': true,\r\n    //   'minProperties': 2,\r\n    // },\r\n    // }],\r\n    'operator-linebreak': ['warn', 'after', {\r\n      overrides: {\r\n        '?': 'before',\r\n        ':': 'before',\r\n      }\r\n    }],\r\n    'padded-blocks': 'error',\r\n    'semi': ['warn', 'always'],\r\n    'sort-keys': ['warn', 'asc', {\r\n      caseSensitive: false,\r\n      natural: true,\r\n    }],\r\n    'quotes': ['warn', 'single'],\r\n    'import/extensions': 'off',\r\n    'react/jsx-closing-bracket-location': ['warn', 'props-aligned'],\r\n    'react/jsx-filename-extension': ['warn', {\r\n      extensions: [\r\n        '.js',\r\n        '.jsx',\r\n        '.tsx',\r\n      ],\r\n    }],\r\n    'react/jsx-first-prop-new-line': ['warn', 'multiline'],\r\n    'react/jsx-fragments': ['error', 'element'],\r\n    'react/jsx-indent': ['warn', 2, {\r\n      checkAttributes: true,\r\n      indentLogicalExpressions: true,\r\n    }],\r\n    'react/jsx-indent-props': ['warn', 2],\r\n    'react/jsx-max-props-per-line': ['warn', {\r\n      maximum: 1,\r\n      when: 'multiline',\r\n    }],\r\n    'react/jsx-one-expression-per-line': ['warn', {\r\n      allow: 'single-child',\r\n    }],\r\n    'react/jsx-sort-default-props': 'error',\r\n    'react/jsx-sort-props': ['warn', {\r\n      ignoreCase: true,\r\n    }],\r\n    'react/jsx-tag-spacing': ['warn', {\r\n      closingSlash: 'never',\r\n      beforeSelfClosing: 'always',\r\n      afterOpening: 'never',\r\n      beforeClosing: 'never',\r\n    }],\r\n    'react/jsx-wrap-multilines': ['error', {\r\n      declaration: 'parens-new-line',\r\n      assignment: 'parens-new-line',\r\n      return: 'parens-new-line',\r\n      arrow: 'parens-new-line',\r\n      condition: 'parens-new-line',\r\n      logical: 'parens-new-line',\r\n      prop: 'parens-new-line',\r\n    }],\r\n    'react/no-did-mount-set-state': 'warn',\r\n    'react/no-did-update-set-state': 'warn',\r\n    'react/no-direct-mutation-state': 'warn',\r\n    'react/no-multi-comp': 'warn',\r\n    'react/no-unknown-property': 'warn',\r\n    'react/sort-comp': 'warn',\r\n    'react/sort-prop-types': 'error',\r\n    'react/prop-types': 'off',\r\n    'sort-destructure-keys/sort-destructure-keys': ['warn', {\r\n      caseSensitive: false,\r\n    }],\r\n    '@typescript-eslint/explicit-function-return-type': 'off', \r\n    '@typescript-eslint/explicit-member-accessibility': 'off',\r\n  },\r\n  settings: {\r\n    'import/resolver': {\r\n      node: {\r\n        paths: ['./src/packages']\r\n      },\r\n    },\r\n    react: {\r\n      version: 'detect',\r\n    },\r\n  },\r\n}\r\n```\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\nTried destructuring an array, while ignoring the first two elements (as per [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Ignoring_some_returned_values)).\r\nExpecting each element in a new line (my preference to ease code version management, discussion for another day), somehow the second comma is not happy unless the whole destructuring assignment is in a single line.\r\n\r\n<!-- Paste the source code below: -->\r\n```js\r\nconst [\r\n    ,,\r\n    configPath = 'config.json',\r\n    authFilePath = 'freshbooks.auth',\r\n] = process.argv;\r\n```\r\n\r\n```js\r\nconst [\r\n    ,\r\n    ,\r\n    configPath = 'config.json',\r\n    authFilePath = 'freshbooks.auth',\r\n] = process.argv;\r\n```\r\n\r\nIn both cases I get a `Bad line breaking before and after ','. (comma-style)` error message for the second comma.\r\n\r\nThought I'd use the \"ArrayPattern\" exception, but that would turn linting off for all array destructuring, and that's less desirable. Seems to me like the rule should understand ignored elements (bug), or we should have another exception/handling for these consecutive commas.\r\nRunning ESLint automatically, using `linter-eslint` on Atom.\r\n\r\nThoughts?\r\n\r\nWhile looking for other issues like this, and found a couple closed ones:\r\n- https://github.com/eslint/eslint/issues/1587 adds a fix,  yet doesn't address multiline code.\r\n- https://github.com/eslint/eslint/issues/9968 closed without resolution, doesn't deal with multiline either.\r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\nLikely yes, if someone points me in the right direction (inside the repo).","closed_by":{"login":"btmills","id":1709537,"node_id":"MDQ6VXNlcjE3MDk1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1709537?v=4","gravatar_id":"","url":"https://api.github.com/users/btmills","html_url":"https://github.com/btmills","followers_url":"https://api.github.com/users/btmills/followers","following_url":"https://api.github.com/users/btmills/following{/other_user}","gists_url":"https://api.github.com/users/btmills/gists{/gist_id}","starred_url":"https://api.github.com/users/btmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btmills/subscriptions","organizations_url":"https://api.github.com/users/btmills/orgs","repos_url":"https://api.github.com/users/btmills/repos","events_url":"https://api.github.com/users/btmills/events{/privacy}","received_events_url":"https://api.github.com/users/btmills/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/12756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/12756/timeline","performed_via_github_app":null,"state_reason":"completed"}