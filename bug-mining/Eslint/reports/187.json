{"url":"https://api.github.com/repos/eslint/eslint/issues/11268","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/11268/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/11268/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/11268/events","html_url":"https://github.com/eslint/eslint/issues/11268","id":398513753,"node_id":"MDU6SXNzdWUzOTg1MTM3NTM=","number":11268,"title":"implicit-arrow-linebreak autofixer sometimes adds extra characters","user":{"login":"bradennapier","id":15365418,"node_id":"MDQ6VXNlcjE1MzY1NDE4","avatar_url":"https://avatars.githubusercontent.com/u/15365418?v=4","gravatar_id":"","url":"https://api.github.com/users/bradennapier","html_url":"https://github.com/bradennapier","followers_url":"https://api.github.com/users/bradennapier/followers","following_url":"https://api.github.com/users/bradennapier/following{/other_user}","gists_url":"https://api.github.com/users/bradennapier/gists{/gist_id}","starred_url":"https://api.github.com/users/bradennapier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bradennapier/subscriptions","organizations_url":"https://api.github.com/users/bradennapier/orgs","repos_url":"https://api.github.com/users/bradennapier/repos","events_url":"https://api.github.com/users/bradennapier/events{/privacy}","received_events_url":"https://api.github.com/users/bradennapier/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-01-12T02:53:34Z","updated_at":"2019-09-12T08:07:52Z","closed_at":"2019-03-15T17:27:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Tell us about your environment**\r\n\r\n* **ESLint Version:** 5.12.0\r\n* **Node Version:** 10.15.0\r\n* **npm Version:** 6.4.1\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\n\r\n`babel-eslint` (but i dont believe it matters)\r\n\r\n<br />\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n```json\r\n{\r\n  \"parser\": \"babel-eslint\",\r\n  \"parserOptions\": {\r\n    \"sourceType\": \"module\"\r\n  },\r\n  \"env\": {\r\n    \"node\": true\r\n  },\r\n  \"rules\": {\r\n    \"implicit-arrow-linebreak\": \"error\"\r\n  }\r\n}\r\n```\r\n\r\n</details>\r\n<br />\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\n* [Demo](https://eslint.org/demo/#eyJ0ZXh0Ijoic3RhcnQoKVxuICAudGhlbigoKSA9PiBcbiAgICAvKiBJZiBJIHB1dCBhIGNvbW1lbnQgaGVyZSwgZXNsaW50IC0tZml4IGJyZWFrcyBiYWRseSAqL1xuICAgIHByb2Nlc3MgJiYgdHlwZW9mIHByb2Nlc3Muc2VuZCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9jZXNzLnNlbmQoJ3JlYWR5JylcbiAgKVxuICAuY2F0Y2goZXJyID0+IHtcbiAgXHQvKiBjYXRjaCBzZWVtcyB0byBiZSBuZWVkZWQgaGVyZSAqL1xuICBcdGNvbnNvbGUubG9nKCdFcnJvcjogJywgZXJyKTtcbiAgfSlcbiIsIm9wdGlvbnMiOnsicGFyc2VyT3B0aW9ucyI6eyJlY21hVmVyc2lvbiI6OSwic291cmNlVHlwZSI6Im1vZHVsZSIsImVjbWFGZWF0dXJlcyI6e319LCJydWxlcyI6eyJjb25zdHJ1Y3Rvci1zdXBlciI6MiwiZm9yLWRpcmVjdGlvbiI6MiwiZ2V0dGVyLXJldHVybiI6Miwibm8tY2FzZS1kZWNsYXJhdGlvbnMiOjIsIm5vLWNsYXNzLWFzc2lnbiI6Miwibm8tY29tcGFyZS1uZWctemVybyI6Miwibm8tY29uZC1hc3NpZ24iOjIsIm5vLWNvbnNvbGUiOjIsIm5vLWNvbnN0LWFzc2lnbiI6Miwibm8tY29uc3RhbnQtY29uZGl0aW9uIjoyLCJuby1jb250cm9sLXJlZ2V4IjoyLCJuby1kZWJ1Z2dlciI6Miwibm8tZGVsZXRlLXZhciI6Miwibm8tZHVwZS1hcmdzIjoyLCJuby1kdXBlLWNsYXNzLW1lbWJlcnMiOjIsIm5vLWR1cGUta2V5cyI6Miwibm8tZHVwbGljYXRlLWNhc2UiOjIsIm5vLWVtcHR5LWNoYXJhY3Rlci1jbGFzcyI6Miwibm8tZW1wdHktcGF0dGVybiI6Miwibm8tZW1wdHkiOjIsIm5vLWV4LWFzc2lnbiI6Miwibm8tZXh0cmEtYm9vbGVhbi1jYXN0IjoyLCJuby1leHRyYS1zZW1pIjoyLCJuby1mYWxsdGhyb3VnaCI6Miwibm8tZnVuYy1hc3NpZ24iOjIsIm5vLWdsb2JhbC1hc3NpZ24iOjIsIm5vLWlubmVyLWRlY2xhcmF0aW9ucyI6Miwibm8taW52YWxpZC1yZWdleHAiOjIsIm5vLWlycmVndWxhci13aGl0ZXNwYWNlIjoyLCJuby1taXhlZC1zcGFjZXMtYW5kLXRhYnMiOjIsIm5vLW5ldy1zeW1ib2wiOjIsIm5vLW9iai1jYWxscyI6Miwibm8tb2N0YWwiOjIsIm5vLXJlZGVjbGFyZSI6Miwibm8tcmVnZXgtc3BhY2VzIjoyLCJuby1zZWxmLWFzc2lnbiI6Miwibm8tc3BhcnNlLWFycmF5cyI6Miwibm8tdGhpcy1iZWZvcmUtc3VwZXIiOjIsIm5vLXVuZGVmIjoyLCJuby11bmV4cGVjdGVkLW11bHRpbGluZSI6Miwibm8tdW5yZWFjaGFibGUiOjIsIm5vLXVuc2FmZS1maW5hbGx5IjoyLCJuby11bnNhZmUtbmVnYXRpb24iOjIsIm5vLXVudXNlZC1sYWJlbHMiOjIsIm5vLXVudXNlZC12YXJzIjoyLCJuby11c2VsZXNzLWVzY2FwZSI6MiwicmVxdWlyZS15aWVsZCI6MiwidXNlLWlzbmFuIjoyLCJ2YWxpZC10eXBlb2YiOjIsImltcGxpY2l0LWFycm93LWxpbmVicmVhayI6Mn0sImVudiI6eyJicm93c2VyIjp0cnVlLCJub2RlIjp0cnVlLCJjb21tb25qcyI6dHJ1ZSwic2hhcmVkLW5vZGUtYnJvd3NlciI6dHJ1ZSwid29ya2VyIjp0cnVlLCJhbWQiOnRydWUsIm1vY2hhIjp0cnVlLCJqYXNtaW5lIjp0cnVlLCJqZXN0Ijp0cnVlLCJwaGFudG9tanMiOnRydWUsImpxdWVyeSI6dHJ1ZSwicXVuaXQiOnRydWUsInByb3RvdHlwZWpzIjp0cnVlLCJzaGVsbGpzIjp0cnVlLCJtZXRlb3IiOnRydWUsIm1vbmdvIjp0cnVlLCJwcm90cmFjdG9yIjp0cnVlLCJhcHBsZXNjcmlwdCI6dHJ1ZSwibmFzaG9ybiI6dHJ1ZSwic2VydmljZXdvcmtlciI6dHJ1ZSwiYXRvbXRlc3QiOnRydWUsImVtYmVydGVzdCI6dHJ1ZSwid2ViZXh0ZW5zaW9ucyI6dHJ1ZSwiZXM2Ijp0cnVlLCJncmVhc2Vtb25rZXkiOnRydWV9fX0=)\r\n\r\n\r\n```js\r\nstart()\r\n  .then(() => \r\n    /* If I put a comment here, eslint --fix breaks badly */\r\n    process && typeof process.send === 'function' && process.send('ready')\r\n  )\r\n  .catch(err => {\r\n  \t/* catch seems to be needed here */\r\n       console.log('Error: ', err)\r\n  })\r\n\r\n```\r\n\r\n```bash\r\neslint --fix\r\n```\r\n\r\n**What did you expect to happen?**\r\n\r\nCode that it \"fixes\" should not be invalid javascript\r\n\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\n\r\nIt creates broken code\r\n\r\n```javascript\r\nstart()\r\n  .then(() => ( \r\n    /* If I put a comment here, eslint --fix breaks badly */\r\n    process && typeof process.send === 'function' && process.send('ready')\r\n         )\r\n        )\r\n  )\r\n  .catch(err => ( {\r\n  \t/* catch seems to be needed here */\r\n       console.log('Error: ', err)\r\n  })\r\n```\r\n\r\n> Notice that it broke the catch as it seems to assume its an implicit object return \r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\n\r\nnot really, wouldnt know where to start\r\n\r\n---\r\n\r\nThis can get REALLY bad and is especially an issue since its part of `eslint-config-airbnb`, granted this file is crazy, but the bug ends up filling the entire file up with thousands of invalid lines\r\n\r\n![image](https://user-images.githubusercontent.com/15365418/51068445-e0c78b80-15d2-11e9-865d-17659d123e3e.png)\r\n\r\n","closed_by":{"login":"btmills","id":1709537,"node_id":"MDQ6VXNlcjE3MDk1Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1709537?v=4","gravatar_id":"","url":"https://api.github.com/users/btmills","html_url":"https://github.com/btmills","followers_url":"https://api.github.com/users/btmills/followers","following_url":"https://api.github.com/users/btmills/following{/other_user}","gists_url":"https://api.github.com/users/btmills/gists{/gist_id}","starred_url":"https://api.github.com/users/btmills/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/btmills/subscriptions","organizations_url":"https://api.github.com/users/btmills/orgs","repos_url":"https://api.github.com/users/btmills/repos","events_url":"https://api.github.com/users/btmills/events{/privacy}","received_events_url":"https://api.github.com/users/btmills/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/11268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/11268/timeline","performed_via_github_app":null,"state_reason":"completed"}