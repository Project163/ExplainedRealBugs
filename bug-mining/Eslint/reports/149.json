{"url":"https://api.github.com/repos/eslint/eslint/issues/10855","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/10855/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/10855/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/10855/events","html_url":"https://github.com/eslint/eslint/issues/10855","id":359271551,"node_id":"MDU6SXNzdWUzNTkyNzE1NTE=","number":10855,"title":"Additional option for --fix","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":65186530,"node_id":"MDU6TGFiZWw2NTE4NjUzMA==","url":"https://api.github.com/repos/eslint/eslint/labels/cli","name":"cli","color":"eb6420","default":false,"description":"Relates to ESLint's command-line interface"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":19,"created_at":"2018-09-12T00:27:55Z","updated_at":"2019-05-06T08:07:39Z","closed_at":"2018-11-06T17:26:46Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**The problem you want to solve.**\r\n\r\nCurrently, the `--fix` command forces ESLint to apply fixes for all rules that are currently enabled. While this is helpful some of the time, there is a distinct difference between stylistic rules and non-stylistic rules that this command doesn't take into account right now. \r\n\r\nDevelopers tend to like autofixing style rules so they don't have to think about these little details. They tend to get annoyed when ESLint says to insert a space here or there. Non-stylistic rules, on the other hand, might be used as an educational tool. For example, `prefer-const` is arguably a good educational tool and something is lost when `prefer-const` is autofixed. Similarly, rules that enforce best practices are often more useful when *not* autofixed so developers can see the warning and better understand what will happen to their code when autofixed.\r\n\r\n**Your take on the correct solution to problem.**\r\n\r\n~~I'd like to add an option to the `--fix` command, such that you can do:~~\r\n\r\n  * ~~`--fix problems` - fixes only non-stylistic rules~~\r\n  * ~~`--fix styles` - fixes only stylistic rules~~\r\n  * ~~`--fix all` - fixes all rules~~\r\n\r\n~~In each case, *every rule* is executed but only the specifies rule type will apply fixes, so `--fix styles` will also run the non-stylistic rules but will not apply fixes for non-stylistic rules.~~\r\n\r\n~~**Backwards Compatibility:** The `all` option should be the default so `--fix` continues to function as it does right now.~~\r\n\r\nI'd like to add a `--fix-type` flag that is used to specify which types of fixes to apply for both `--fix` and `--fix-dry-run`. The possible values are:\r\n\r\n* `--fix-type problem` only applies fixes for rules that are specified as problems\r\n* `--fix-type suggestion` only applies fixes for rules that are specified as suggestions\r\n* `--fix-type style` only applies fixes for rules that are specified as stylistic\r\n\r\nYou can specify multiple fix types using either commas (`--fix-type problem,suggestion`) or multiple flags (`--fix-type problem --fix-type suggestion`).\r\n\r\nIf you don't use `--fix-type` then all possible fixes are applied (same as current behavior).\r\n\r\n**Rough Implementation Details**\r\n\r\n* Add a `meta.type` property to each rule (both core and plugin) that can be one of these values:\r\n    * **problem** - the rule is flagging a pattern that might cause errors or confusion\r\n    * **suggestion** - the rule is flagging a potentially better way of doing something\r\n    * **style** - the rule is flagging a stylistic error that, when changed, does not change the meaning of the code\r\n* Use the `fix` option of `CLIEngine` to specify a function that uses the `--fix-type` information to filter out fixes that should not be applied.\r\n* When `--fix-type` is specified, all configured rules are executed but only rules matching the `--fix-type` will apply fixes.\r\n \r\n**Concrete Use Case**\r\n\r\nThe primary use case I'm thinking of here is when people want to autofix styles in their code editor but do not want to autofix other problems in order to use ESLint as an educational tool. \r\n\r\n**Are you willing to implement this?**\r\n\r\nYes! I'd love to dive into this as a way to start getting involved a bit more going forward. :) It may take me a while to implement based on my energy levels, but gotta start somewhere!\r\n","closed_by":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/10855/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/10855/timeline","performed_via_github_app":null,"state_reason":"completed"}