{"url":"https://api.github.com/repos/eslint/eslint/issues/11579","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/11579/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/11579/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/11579/events","html_url":"https://github.com/eslint/eslint/issues/11579","id":428345373,"node_id":"MDU6SXNzdWU0MjgzNDUzNzM=","number":11579,"title":"no-unneeded-ternary with arrow function results in parsing error","user":{"login":"noisyscanner","id":627654,"node_id":"MDQ6VXNlcjYyNzY1NA==","avatar_url":"https://avatars.githubusercontent.com/u/627654?v=4","gravatar_id":"","url":"https://api.github.com/users/noisyscanner","html_url":"https://github.com/noisyscanner","followers_url":"https://api.github.com/users/noisyscanner/followers","following_url":"https://api.github.com/users/noisyscanner/following{/other_user}","gists_url":"https://api.github.com/users/noisyscanner/gists{/gist_id}","starred_url":"https://api.github.com/users/noisyscanner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noisyscanner/subscriptions","organizations_url":"https://api.github.com/users/noisyscanner/orgs","repos_url":"https://api.github.com/users/noisyscanner/repos","events_url":"https://api.github.com/users/noisyscanner/events{/privacy}","received_events_url":"https://api.github.com/users/noisyscanner/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-04-02T17:12:23Z","updated_at":"2019-10-17T22:18:18Z","closed_at":"2019-04-19T06:50:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**What version of eslint?**\r\n5.16.0\r\n**What operating system, Node.js, and npm version?**\r\nMac OS X Mojave â¬¢ 8.11.2 ðŸ“¦ 5.6.0\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\nbabel-eslint 9.0.0\r\n\r\nUsing the `no-unneeded-ternary` rule.\r\nWhen formatting code that is using a ternary like below, the function is not wrapped, causing a parse error and fails.\r\n```\r\nconst foo = true\r\nconst bar = foo ? foo : () => {}\r\n```\r\nCauses this error\r\n```\r\n  2:21  error  Parsing error: Unexpected token\r\n\r\n  1 | const foo = true\r\n> 2 | const bar = foo || () => {}\r\n    |                     ^\r\n  3 |\r\n\r\nâœ– 1 problem (1 error, 0 warnings)\r\n```\r\n\r\n*EXPECTED*\r\n```\r\nconst bar = foo || (() => {})\r\n```\r\n\r\n**Please show your full configuration:**\r\nI am using standardJS 12.0.1, which sets the config as follows:\r\n```\r\n{\r\n  \"parserOptions\": {\r\n    \"ecmaVersion\": 2018,\r\n    \"ecmaFeatures\": {\r\n      \"jsx\": true\r\n    },\r\n    \"sourceType\": \"module\"\r\n  },\r\n\r\n  \"env\": {\r\n    \"es6\": true,\r\n    \"node\": true\r\n  },\r\n\r\n  \"plugins\": [\r\n    \"import\",\r\n    \"node\",\r\n    \"promise\",\r\n    \"standard\"\r\n  ],\r\n\r\n  \"globals\": {\r\n    \"document\": false,\r\n    \"navigator\": false,\r\n    \"window\": false\r\n  },\r\n\r\n  \"rules\": {\r\n    \"accessor-pairs\": \"error\",\r\n    \"arrow-spacing\": [\"error\", { \"before\": true, \"after\": true }],\r\n    \"block-spacing\": [\"error\", \"always\"],\r\n    \"brace-style\": [\"error\", \"1tbs\", { \"allowSingleLine\": true }],\r\n    \"camelcase\": [\"error\", { \"properties\": \"never\" }],\r\n    \"comma-dangle\": [\"error\", {\r\n      \"arrays\": \"never\",\r\n      \"objects\": \"never\",\r\n      \"imports\": \"never\",\r\n      \"exports\": \"never\",\r\n      \"functions\": \"never\"\r\n    }],\r\n    \"comma-spacing\": [\"error\", { \"before\": false, \"after\": true }],\r\n    \"comma-style\": [\"error\", \"last\"],\r\n    \"constructor-super\": \"error\",\r\n    \"curly\": [\"error\", \"multi-line\"],\r\n    \"dot-location\": [\"error\", \"property\"],\r\n    \"eol-last\": \"error\",\r\n    \"eqeqeq\": [\"error\", \"always\", { \"null\": \"ignore\" }],\r\n    \"func-call-spacing\": [\"error\", \"never\"],\r\n    \"generator-star-spacing\": [\"error\", { \"before\": true, \"after\": true }],\r\n    \"handle-callback-err\": [\"error\", \"^(err|error)$\" ],\r\n    \"indent\": [\"error\", 2, {\r\n      \"SwitchCase\": 1,\r\n      \"VariableDeclarator\": 1,\r\n      \"outerIIFEBody\": 1,\r\n      \"MemberExpression\": 1,\r\n      \"FunctionDeclaration\": { \"parameters\": 1, \"body\": 1 },\r\n      \"FunctionExpression\": { \"parameters\": 1, \"body\": 1 },\r\n      \"CallExpression\": { \"arguments\": 1 },\r\n      \"ArrayExpression\": 1,\r\n      \"ObjectExpression\": 1,\r\n      \"ImportDeclaration\": 1,\r\n      \"flatTernaryExpressions\": false,\r\n      \"ignoreComments\": false\r\n    }],\r\n    \"key-spacing\": [\"error\", { \"beforeColon\": false, \"afterColon\": true }],\r\n    \"keyword-spacing\": [\"error\", { \"before\": true, \"after\": true }],\r\n    \"new-cap\": [\"error\", { \"newIsCap\": true, \"capIsNew\": false }],\r\n    \"new-parens\": \"error\",\r\n    \"no-array-constructor\": \"error\",\r\n    \"no-caller\": \"error\",\r\n    \"no-class-assign\": \"error\",\r\n    \"no-compare-neg-zero\": \"error\",\r\n    \"no-cond-assign\": \"error\",\r\n    \"no-const-assign\": \"error\",\r\n    \"no-constant-condition\": [\"error\", { \"checkLoops\": false }],\r\n    \"no-control-regex\": \"error\",\r\n    \"no-debugger\": \"error\",\r\n    \"no-delete-var\": \"error\",\r\n    \"no-dupe-args\": \"error\",\r\n    \"no-dupe-class-members\": \"error\",\r\n    \"no-dupe-keys\": \"error\",\r\n    \"no-duplicate-case\": \"error\",\r\n    \"no-empty-character-class\": \"error\",\r\n    \"no-empty-pattern\": \"error\",\r\n    \"no-eval\": \"error\",\r\n    \"no-ex-assign\": \"error\",\r\n    \"no-extend-native\": \"error\",\r\n    \"no-extra-bind\": \"error\",\r\n    \"no-extra-boolean-cast\": \"error\",\r\n    \"no-extra-parens\": [\"error\", \"functions\"],\r\n    \"no-fallthrough\": \"error\",\r\n    \"no-floating-decimal\": \"error\",\r\n    \"no-func-assign\": \"error\",\r\n    \"no-global-assign\": \"error\",\r\n    \"no-implied-eval\": \"error\",\r\n    \"no-inner-declarations\": [\"error\", \"functions\"],\r\n    \"no-invalid-regexp\": \"error\",\r\n    \"no-irregular-whitespace\": \"error\",\r\n    \"no-iterator\": \"error\",\r\n    \"no-label-var\": \"error\",\r\n    \"no-labels\": [\"error\", { \"allowLoop\": false, \"allowSwitch\": false }],\r\n    \"no-lone-blocks\": \"error\",\r\n    \"no-mixed-operators\": [\"error\", {\r\n      \"groups\": [\r\n        [\"==\", \"!=\", \"===\", \"!==\", \">\", \">=\", \"<\", \"<=\"],\r\n        [\"&&\", \"||\"],\r\n        [\"in\", \"instanceof\"]\r\n      ],\r\n      \"allowSamePrecedence\": true\r\n    }],\r\n    \"no-mixed-spaces-and-tabs\": \"error\",\r\n    \"no-multi-spaces\": \"error\",\r\n    \"no-multi-str\": \"error\",\r\n    \"no-multiple-empty-lines\": [\"error\", { \"max\": 1, \"maxEOF\": 0 }],\r\n    \"no-negated-in-lhs\": \"error\",\r\n    \"no-new\": \"error\",\r\n    \"no-new-func\": \"error\",\r\n    \"no-new-object\": \"error\",\r\n    \"no-new-require\": \"error\",\r\n    \"no-new-symbol\": \"error\",\r\n    \"no-new-wrappers\": \"error\",\r\n    \"no-obj-calls\": \"error\",\r\n    \"no-octal\": \"error\",\r\n    \"no-octal-escape\": \"error\",\r\n    \"no-path-concat\": \"error\",\r\n    \"no-proto\": \"error\",\r\n    \"no-redeclare\": \"error\",\r\n    \"no-regex-spaces\": \"error\",\r\n    \"no-return-assign\": [\"error\", \"except-parens\"],\r\n    \"no-return-await\": \"error\",\r\n    \"no-self-assign\": \"error\",\r\n    \"no-self-compare\": \"error\",\r\n    \"no-sequences\": \"error\",\r\n    \"no-shadow-restricted-names\": \"error\",\r\n    \"no-sparse-arrays\": \"error\",\r\n    \"no-tabs\": \"error\",\r\n    \"no-template-curly-in-string\": \"error\",\r\n    \"no-this-before-super\": \"error\",\r\n    \"no-throw-literal\": \"error\",\r\n    \"no-trailing-spaces\": \"error\",\r\n    \"no-undef\": \"error\",\r\n    \"no-undef-init\": \"error\",\r\n    \"no-unexpected-multiline\": \"error\",\r\n    \"no-unmodified-loop-condition\": \"error\",\r\n    \"no-unneeded-ternary\": [\"error\", { \"defaultAssignment\": false }],\r\n    \"no-unreachable\": \"error\",\r\n    \"no-unsafe-finally\": \"error\",\r\n    \"no-unsafe-negation\": \"error\",\r\n    \"no-unused-expressions\": [\"error\", { \"allowShortCircuit\": true, \"allowTernary\": true, \"allowTaggedTemplates\": true }],\r\n    \"no-unused-vars\": [\"error\", { \"vars\": \"all\", \"args\": \"none\", \"ignoreRestSiblings\": true }],\r\n    \"no-use-before-define\": [\"error\", { \"functions\": false, \"classes\": false, \"variables\": false }],\r\n    \"no-useless-call\": \"error\",\r\n    \"no-useless-computed-key\": \"error\",\r\n    \"no-useless-constructor\": \"error\",\r\n    \"no-useless-escape\": \"error\",\r\n    \"no-useless-rename\": \"error\",\r\n    \"no-useless-return\": \"error\",\r\n    \"no-whitespace-before-property\": \"error\",\r\n    \"no-with\": \"error\",\r\n    \"object-curly-spacing\": [\"error\", \"always\"],\r\n    \"object-property-newline\": [\"error\", { \"allowMultiplePropertiesPerLine\": true }],\r\n    \"one-var\": [\"error\", { \"initialized\": \"never\" }],\r\n    \"operator-linebreak\": [\"error\", \"after\", { \"overrides\": { \"?\": \"before\", \":\": \"before\" } }],\r\n    \"padded-blocks\": [\"error\", { \"blocks\": \"never\", \"switches\": \"never\", \"classes\": \"never\" }],\r\n    \"prefer-promise-reject-errors\": \"error\",\r\n    \"quotes\": [\"error\", \"single\", { \"avoidEscape\": true, \"allowTemplateLiterals\": true }],\r\n    \"rest-spread-spacing\": [\"error\", \"never\"],\r\n    \"semi\": [\"error\", \"never\"],\r\n    \"semi-spacing\": [\"error\", { \"before\": false, \"after\": true }],\r\n    \"space-before-blocks\": [\"error\", \"always\"],\r\n    \"space-before-function-paren\": [\"error\", \"always\"],\r\n    \"space-in-parens\": [\"error\", \"never\"],\r\n    \"space-infix-ops\": \"error\",\r\n    \"space-unary-ops\": [\"error\", { \"words\": true, \"nonwords\": false }],\r\n    \"spaced-comment\": [\"error\", \"always\", {\r\n      \"line\": { \"markers\": [\"*package\", \"!\", \"/\", \",\", \"=\"] },\r\n      \"block\": { \"balanced\": true, \"markers\": [\"*package\", \"!\", \",\", \":\", \"::\", \"flow-include\"], \"exceptions\": [\"*\"] }\r\n    }],\r\n    \"symbol-description\": \"error\",\r\n    \"template-curly-spacing\": [\"error\", \"never\"],\r\n    \"template-tag-spacing\": [\"error\", \"never\"],\r\n    \"unicode-bom\": [\"error\", \"never\"],\r\n    \"use-isnan\": \"error\",\r\n    \"valid-typeof\": [\"error\", { \"requireStringLiterals\": true }],\r\n    \"wrap-iife\": [\"error\", \"any\", { \"functionPrototypeMethods\": true }],\r\n    \"yield-star-spacing\": [\"error\", \"both\"],\r\n    \"yoda\": [\"error\", \"never\"],\r\n\r\n    \"import/export\": \"error\",\r\n    \"import/first\": \"error\",\r\n    \"import/no-duplicates\": \"error\",\r\n    \"import/no-named-default\": \"error\",\r\n    \"import/no-webpack-loader-syntax\": \"error\",\r\n\r\n    \"node/no-deprecated-api\": \"error\",\r\n    \"node/process-exit-as-throw\": \"error\",\r\n\r\n    \"promise/param-names\": \"error\",\r\n\r\n    \"standard/array-bracket-even-spacing\": [\"error\", \"either\"],\r\n    \"standard/computed-property-even-spacing\": [\"error\", \"even\"],\r\n    \"standard/no-callback-literal\": \"error\",\r\n    \"standard/object-curly-even-spacing\": [\"error\", \"either\"]\r\n  }\r\n}\r\n```\r\n\r\n<!-- Paste the command you used to run ESLint: -->\r\n```bash\r\nnpx eslint theFile.js\r\n```\r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\nTbh I wouldn't know where to start, sorry.\r\n\r\nOriginally opened this in standardJS repo but seems like an eslint issue so re-opening here.\r\nhttps://github.com/standard/standard/issues/1266","closed_by":{"login":"mysticatea","id":1937871,"node_id":"MDQ6VXNlcjE5Mzc4NzE=","avatar_url":"https://avatars.githubusercontent.com/u/1937871?v=4","gravatar_id":"","url":"https://api.github.com/users/mysticatea","html_url":"https://github.com/mysticatea","followers_url":"https://api.github.com/users/mysticatea/followers","following_url":"https://api.github.com/users/mysticatea/following{/other_user}","gists_url":"https://api.github.com/users/mysticatea/gists{/gist_id}","starred_url":"https://api.github.com/users/mysticatea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mysticatea/subscriptions","organizations_url":"https://api.github.com/users/mysticatea/orgs","repos_url":"https://api.github.com/users/mysticatea/repos","events_url":"https://api.github.com/users/mysticatea/events{/privacy}","received_events_url":"https://api.github.com/users/mysticatea/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/11579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/11579/timeline","performed_via_github_app":null,"state_reason":"completed"}