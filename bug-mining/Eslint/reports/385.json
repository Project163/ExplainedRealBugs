{"url":"https://api.github.com/repos/eslint/eslint/issues/12742","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/12742/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/12742/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/12742/events","html_url":"https://github.com/eslint/eslint/issues/12742","id":545319773,"node_id":"MDU6SXNzdWU1NDUzMTk3NzM=","number":12742,"title":"Prohibiting two consecutive newlines at EOF does not work as expected","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":64004798,"node_id":"MDU6TGFiZWw2NDAwNDc5OA==","url":"https://api.github.com/repos/eslint/eslint/labels/documentation","name":"documentation","color":"5319e7","default":true,"description":"Relates to ESLint's documentation"},{"id":78536425,"node_id":"MDU6TGFiZWw3ODUzNjQyNQ==","url":"https://api.github.com/repos/eslint/eslint/labels/good%20first%20issue","name":"good first issue","color":"006b75","default":true,"description":"Good for people who haven't worked on ESLint before"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":258830633,"node_id":"MDU6TGFiZWwyNTg4MzA2MzM=","url":"https://api.github.com/repos/eslint/eslint/labels/help%20wanted","name":"help wanted","color":"8783db","default":true,"description":"The team would welcome a contribution from the community for this issue"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":12,"created_at":"2020-01-04T19:04:21Z","updated_at":"2021-06-02T00:25:37Z","closed_at":"2020-06-11T18:17:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for bug reports. If you are here for another reason, please see below:\r\n\r\n    1. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    2. To request a rule change: https://eslint.org/docs/developer-guide/contributing/rule-changes\r\n    3. To request a change that is not a bug fix, rule change, or new rule: https://eslint.org/docs/developer-guide/contributing/changes\r\n    4. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**Tell us about your environment**\r\n\r\n<!--\r\n    If you are using ESLint v6.5.0 or later, you can run ESLint with the `--env-info` flag and paste the output here.\r\n-->\r\n\r\n* **ESLint Version:** ^6.8.0\r\n* **Node Version:** 10.0.0\r\n* **npm Version:** 5.6.0\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?** default (?)\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n<!-- Paste your configuration below: -->\r\n```js\r\n{\r\n  \"env\": {\r\n    \"es6\": true,\r\n    \"node\": true\r\n  },\r\n  \"extends\": [\r\n    \"airbnb-base\"\r\n  ],\r\n  \"globals\": {\r\n    \"Atomics\": \"readonly\",\r\n    \"SharedArrayBuffer\": \"readonly\"\r\n  },\r\n  \"parserOptions\": {\r\n    \"ecmaVersion\": 2018,\r\n    \"sourceType\": \"module\"\r\n  },\r\n  \"rules\": {\r\n    \"no-multiple-empty-lines\": [\"error\", { \"max\": 1 }]\r\n  }\r\n}\r\n```\r\n\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\n<!-- Paste the source code below: -->\r\nSource code:\r\n\r\n```js\r\n// Source code of any .js file of the project\r\n```\r\n\r\n<!-- Paste the command you used to run ESLint: -->\r\nCommand:\r\n\r\n```bash\r\nnpx eslint .\r\n```\r\n\r\n**What did you expect to happen? What actually happened?**\r\n\r\nI want to ensure there is *exactly one* newline at the end of each file. Since I am extending the Airbnb style guide, `eol-last` is already enabled, which afaik requires *at least one* newline at the end of the file. So all that's left for me to specify is that *more than one* newlines at the end of the file are disallowed. I thought I might be able to accomplish this like so:\r\n\r\n```json\r\n\"no-multiple-empty-lines\": [\"error\", { \"max\": 1 }]\r\n```\r\n\r\nNow, there should be both\r\n\r\n* the requirement of *at least one* newline at the end of the file, due to `eol-last` being enabled in the Airbnb style guide, as well as\r\n* the requirement of *no more than one* newline at a time (applying to the whole file, not just the end of the file), due to manually setting `no-multiple-empty-lines` to `{ \"max\": 1 }`.\r\n\r\nHowever, this still configuration seems to still allow two consecutive newlines at the end of the file.\r\n\r\nIn the Gitter chat room, it was recommended to set `maxEOF` to `1`. This, however, does not change the fact that two newlines at the end of the file are being accepted. The fact that this does not fix the issue is to be expected, as `max` is already set to `1`, so setting `maxEOF` to `1` also should not have an effect.\r\n\r\nIn the Gitter chat room it was concluded to file a bug report.\r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\n\r\nMaybe. It would be an honor but I'm not sure I can. I'll take a look.","closed_by":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/12742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/12742/timeline","performed_via_github_app":null,"state_reason":"completed"}