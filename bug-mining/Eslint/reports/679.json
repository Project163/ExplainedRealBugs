{"url":"https://api.github.com/repos/eslint/eslint/issues/19513","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/19513/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/19513/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/19513/events","html_url":"https://github.com/eslint/eslint/issues/19513","id":2918075746,"node_id":"I_kwDOAKjKDc6t7k1i","number":19513,"title":"Change Request: Better support plugins with both eslintrc and flat configs","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711352,"node_id":"MDU6TGFiZWw0NTcxMTM1Mg==","url":"https://api.github.com/repos/eslint/eslint/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":"This change enhances an existing feature of ESLint"},{"id":82922548,"node_id":"MDU6TGFiZWw4MjkyMjU0OA==","url":"https://api.github.com/repos/eslint/eslint/labels/core","name":"core","color":"c7def8","default":false,"description":"Relates to ESLint's core APIs and features"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"}],"state":"closed","locked":false,"assignee":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":8,"created_at":"2025-03-13T18:28:18Z","updated_at":"2025-03-18T16:58:08Z","closed_at":"2025-03-18T16:58:08Z","author_association":"MEMBER","type":{"id":508054,"node_id":"IT_kwDOAFvahM4AB8CW","name":"Enhancement","description":"A request, idea, or new functionality","color":"blue","created_at":"2024-01-25T09:57:35Z","updated_at":"2024-07-26T10:11:10Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### ESLint version\n\nHEAD\n\n### What problem do you want to solve?\n\nSplit from https://github.com/eslint/eslint/issues/18095#issuecomment-2718324074\n\nRight now, some plugins are hesitant to use the `legacy-` prefix on their plugin configs for fear of breaking existing users who are still using eslintrc. \n\nI think @niklaswimmer summarized the situation well:\n\n> I will try to summarize how I understand the current situation:\n> \n> * plugins that provide legacy configurations through the `configs` property and flat configurations through direct imports (or other means) do not work with the new string based references in `extends`\n> \n> * ESLint seems to suggest affected plugins should release a new major version that renames the legacy configurations (for example to start with `\"legacy-\"`), which would allow those plugins to move both the legacy and the flat configurations to the `configs` property, making them work with the string based references\n> \n> * some plugins (like tseslint) are reluctant to making this breaking change for various reasons, a main one being that it will force a large part of their userbase to change their configurations\n> \n> * There is also the other, not recommended, option of adding flat configurations to the `configs` property by giving them a different name (for example to start with `flat/`); even though some plugins already do this, it is by far not ideal, because now the essentially same configuration is available under two distinct names and plugins will probably not want to use that modified name for ever, so the breaking change is really just delayed to a later point in time\n> \n> \n> The way I see it, there are two options going forward:\n> \n> * do nothing, plugins currently incompatible with string based references will stay incompatible until they eventually release a major version; this is probably a not so pretty outcome, neither for users (who cannot not write their ESLint configurations the way they like or have to go through the major version change), nor for the plugin authors (who have to deal with users requesting a fix, but not having an actual good option for providing the fix without annoying other users)\n> \n> * find a technical solution that allows plugin authors to support string based references in `extends`, without requiring them to publish a new major version or using a different name for their flat configurations; good for users and plugin authors, but does of course not have zero-cost for ESLint (time needed for design/implementation/... for a solution to a problem that will become obsolete)\n> \n> \n> Ultimately, it is on the ESLint team to decide what they want to do here. I think valid concerns to the way this all currently works have been raised, but if the plan is to \"force\" the ecosystem forward, doing nothing here is also a valid approach.\n> \n> Maybe there is also a third (or fourth) option, which I am missing here?\n\n\n\n\n\n### What do you think is the correct solution?\n\nIf we want to do something, it seems like the easiest path forward would be to have another key on plugins that is just for flat configs. `eslint-plugin-imports` uses `flatConfigs`, so maybe that would be the way to go?\n\nSo given a config name of `foo/recommended`, `defineConfig()` would first look for `foo.flatConfigs.recommended`, and if it's not there, it would then look for `foo.configs.recommended`.\n\nThis would allow both eslintrc and flat configs with the name `foo/recommended` in the same plugin.\n\n### Participation\n\n- [x] I am willing to submit a pull request for this change.\n\n### Additional comments\n\n_No response_","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/19513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/19513/timeline","performed_via_github_app":null,"state_reason":"completed"}