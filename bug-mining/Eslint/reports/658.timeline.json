[{"id":12580268588,"node_id":"LE_lADOAKjKDc6GrjbBzwAAAALt16os","url":"https://api.github.com/repos/eslint/eslint/issues/events/12580268588","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-23T18:53:55Z","label":{"name":"core","color":"c7def8"},"performed_via_github_app":null},{"id":12580268595,"node_id":"LE_lADOAKjKDc6GrjbBzwAAAALt16oz","url":"https://api.github.com/repos/eslint/eslint/issues/events/12580268595","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-23T18:53:55Z","label":{"name":"enhancement","color":"84b6eb"},"performed_via_github_app":null},{"id":14876124061,"node_id":"ATPVTE_lADOAKjKDc6GrjbBzwAAAAN2r6Od","url":"https://api.github.com/repos/eslint/eslint/issues/events/14876124061","actor":{"login":"github-project-automation[bot]","id":113052574,"node_id":"BOT_kgDOBr0Lng","avatar_url":"https://avatars.githubusercontent.com/in/235829?v=4","gravatar_id":"","url":"https://api.github.com/users/github-project-automation%5Bbot%5D","html_url":"https://github.com/apps/github-project-automation","followers_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"added_to_project_v2","commit_id":null,"commit_url":null,"created_at":"2024-04-23T18:53:57Z","performed_via_github_app":null},{"id":15084258497,"node_id":"PVTISC_lADOAKjKDc6GrjbBzwAAAAODF4TB","url":"https://api.github.com/repos/eslint/eslint/issues/events/15084258497","actor":{"login":"github-project-automation[bot]","id":113052574,"node_id":"BOT_kgDOBr0Lng","avatar_url":"https://avatars.githubusercontent.com/in/235829?v=4","gravatar_id":"","url":"https://api.github.com/users/github-project-automation%5Bbot%5D","html_url":"https://github.com/apps/github-project-automation","followers_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-project-automation%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2024-04-23T18:53:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2077921377","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2077921377","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2077921377,"node_id":"IC_kwDOAKjKDc572pBh","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-25T18:35:07Z","updated_at":"2024-04-25T18:35:07Z","body":"Thanks for writing this all up, it's very helpful.\n\nSome followup questions:\n\n* How do you usually run ESLint inside the repo? Is it one `npx eslint .` that lints the entire repo? Or are you always linting inside of one package directory at a time?\n* Are you passing individual filenames or directory names?\n\nAnything else about how you're using ESLint would be helpful in thinking this through.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2077921377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12613633465,"node_id":"LE_lADOAKjKDc6GrjbBzwAAAALv1MW5","url":"https://api.github.com/repos/eslint/eslint/issues/events/12613633465","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-04-25T18:35:21Z","label":{"name":"needs design","color":"f7c6c7"},"performed_via_github_app":null},{"id":14929718399,"node_id":"PVTISC_lADOAKjKDc6GrjbBzwAAAAN54Wx_","url":"https://api.github.com/repos/eslint/eslint/issues/events/14929718399","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2024-04-25T18:35:24Z","performed_via_github_app":null},{"id":15041924568,"node_id":"PVTISC_lADOAKjKDc6GrjbBzwAAAAOAkY3Y","url":"https://api.github.com/repos/eslint/eslint/issues/events/15041924568","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2024-04-25T18:35:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2077998072","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2077998072","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2077998072,"node_id":"IC_kwDOAKjKDc5727v4","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-25T19:09:53Z","updated_at":"2024-04-25T19:09:53Z","body":"Answering directly first:\r\n\r\n> * How do you usually run ESLint inside the repo? Is it one `npx eslint .` that lints the entire repo? Or are you always linting inside of one package directory at a time?\r\n\r\nWe run eslint programmatically via `new ESLint`, or in the editor with `vscode-eslint`.\r\n\r\n> * Are you passing individual filenames or directory names?\r\n\r\nIndividual file names, but this is an artifact of DT's old layout where the _only_ source of config were `tsconfig.json` files.\r\n\r\n---\r\n\r\nGetting into more details:\r\n\r\nDT is sort of weird; we have a wrapper `dtslint` which operates more-or-less per package, doing `new ESLint` and calling it via the API. Then a higher-level tool `dtslint-runner` runs all modified packages in parallel. A large number of our checks are in ESLint, but not all.\r\n\r\nIt's extra weird becuase `dtslint` only runs ESLint on a subset of the files (those that are reachable from a `tsconfig.json`), so some are unlinted, and some have separate overrides applied on top (as our lint rules can actually use more than one TS version at a time and at the moment only `dtslint` knows that info).\r\n\r\nSo, no, we aren't actualy linting all in one go. However, I would like to be able to modify things such that `eslint .` would \"just work\" without that preprocessing, moving that logic down. This would make the editor experience more consistent with running `dtslint`.\r\n\r\nThat being said, downstream tooling that uses ESLint has to manually create new ESLint instances based on where configs are. For example, `vscode-eslint` has to figure out which working directories would be needed, then spin up multiple instances of ESLint to handle that case: https://github.com/microsoft/vscode-eslint/issues/1644#issuecomment-2022836056\r\n\r\n---\r\n\r\nHowever, DT is itself very odd in that we can get away with never running `npx eslint .`; my impression from talking to others is that they have similar issues trying to configure flat ESLint in a monorepo that would benefit from some improvement here.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2077998072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079751517","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2079751517","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2079751517,"node_id":"IC_kwDOAKjKDc579n1d","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-26T16:54:53Z","updated_at":"2024-04-26T16:55:14Z","body":"I also forgot to mention again that one of DT's main features is \"self service\", where a given package can have owners that are allowed to approve PRs to their code, and authors/owners can merge their own code. Moving all config to the top level breaks that model, as any lint rule changes that need to be made will require DT maintainer (so, TS team) approval, as the repo root is considered \"infrastructure\" and cannot be touched by anyone. So, we need to have configs in the subdirs, somehow.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079751517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079797885","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2079797885","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2079797885,"node_id":"IC_kwDOAKjKDc579zJ9","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-26T17:28:39Z","updated_at":"2024-04-26T17:28:39Z","body":"I think that figuring out how to have configs in the subdirectories is our main goal here. :+1:\r\n\r\n> DT is sort of weird; we have a wrapper `dtslint` which operates more-or-less per package, doing `new ESLint` and calling it via the API. Then a higher-level tool `dtslint-runner` runs all modified packages in parallel. A large number of our checks are in ESLint, but not all.\r\n\r\nHow is this initiated? Are people already in the package directory and then run `npm run lint`? Or are they running it from some other location?\r\n\r\nSome possible hypothetical approaches going through my head (none of which have been thoroughly thought through):\r\n\r\n1. `eslint --config-lookup-from=path/to/package` - instead of looking up from the cwd, look up from this other directory regardless of where ESLint is executed.\r\n2. `eslint --config-lookup-mode=file` - instead of looking up from the cwd, look up from the directory of each linted file. This is what eslintrc did (and is what we were trying to avoid with flat config due to the amount of work this entails).\r\n\r\n(Of course, both flags would need to be represented in the `ESLint` class as well, but I think of things in terms of the CLI.)\r\n\r\nDo either of those seem like they'd solve your use case?\r\n\r\n**re: VS Code** - this continues to be a problem, primarily because we don't maintain that extension and therefore have very little control over how it does what it does. We can request changes, but ultimately have zero control. This is something we need to dig into separately on a more holistic level.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079797885/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079837434","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2079837434","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2079837434,"node_id":"IC_kwDOAKjKDc5798z6","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-26T17:57:55Z","updated_at":"2024-04-26T17:57:55Z","body":"> How is this initiated? Are people already in the package directory and then run `npm run lint`? Or are they running it from some other location?\r\n\r\nAt the moment, they run `pnpm test <their package name>` from the repo root. Ideally, they could run `pnpm test` inside their package and that work, but the package.json monorepo layout is fairly new and we haven't improved that tooling. But this difference doesn't much matter because `dtslint` invokes ESLint via its API.\r\n\r\n> Do either of those seem like they'd solve your use case?\r\n\r\nYes and no; right now, we always invoke ESLint ourselves via the API, we can already provide it a `cwd`, and therefore it would \"just work\" already so long as we don't have any other eslint configs that aren't at the package root. This turns out to not be true, as there are `.eslintrc.json` files in nested dirs which would not behave properly with flat configs.\r\n\r\nThe first listed idea is no different than passing in a cwd. The second is what I was suggesting always be on in my original idea, but doesn't handle the more general problem of inheriting parent configs being a challenge due to paths being rooted in the wrong place.\r\n\r\nBut, to be clear, I'm not trying to frame this issue in terms of DefinitelyTyped _only_, but as a more general \"flat config is hard in monorepo\" issue. The only saving grace for us is that we programmatically invoke ESLint and don't yet support running ESLint on its own, except in the editor, which now works at least in VS Code because it reimplemented the config file search algorithm to know when to invoke ESLint more than once.\r\n\r\nSo, I still don't have a good idea, because in addition to the cwd thing, making flat configs work nicely in monorepos when inhereting a parent config is challenging, because:\r\n\r\n- On one hand, you want to inherit the parent config, but only what actually applied to the current dir, so you can extend it\r\n- On the other hand, maybe you're actually inhereting from a shared config in another package which has nothing to do with the monorepo and only contains generic globs.\r\n\r\nNot sure how to distinguish those, and I apologize for the lack of clarity. It's just a bit hard to figure out what the \"right thing\" is, compared to the strictly hierarchical old config system.\r\n\r\n> **re: VS Code** - this continues to be a problem, primarily because we don't maintain that extension and therefore have very little control over how it does what it does. We can request changes, but ultimately have zero control. This is something we need to dig into separately on a more holistic level.\r\n\r\nI'm not sure I follow this; no matter who implements an editor integration, the fact that `eslint packages/foo/index.js` and `cd packages/foo; eslint index.js` differ in behavior makes getting things right a challenge. Before flat config, this distinction didn't matter.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2079837434/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2080147256","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2080147256","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2080147256,"node_id":"IC_kwDOAKjKDc57_Ic4","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-26T21:33:13Z","updated_at":"2024-04-26T21:33:13Z","body":"> But, to be clear, I'm not trying to frame this issue in terms of DefinitelyTyped _only_, but as a more general \"flat config is hard in monorepo\" issue.\r\n\r\nSee, I'm not sure that's true. So far, aside from DT, when maintainers have contacted us about monorepo setup, they almost always end up finding a way to make it work within the confines of flat config. That's part of the benefit of flat config -- you can define your own loading mechanism right in the config file. That's why we were able to externalize the eslintrc loading mechanism in `@eslint/eslintrc`.\r\n\r\nI can see determining where to start the search as an issue, but as you mentioned, you can always set `cwd` on the `ESLint` instance to handle that. As I've been exploring more, I can see how this would useful.\r\n\r\nHowever, I'm unclear on how many monorepos prefer to lint the entire repo, in which case one config file at the root makes a lot of sense, as opposed to monorepos where they prefer to lint just an individual package. That's the first question.\r\n\r\nThe second question is, for those who prefer to lint inside of individual packages only, do they use the cascade to apply shared configs? And is there any reason that the shared configuration can't be moved to a file that is just imported into the package-level config file?\r\n\r\nThat said, it would help to have a concrete example of how you're currently using cascade in DT. Can you point to a package and the config files it relies on?\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2080147256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2080167441","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2080167441","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2080167441,"node_id":"IC_kwDOAKjKDc57_NYR","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-26T21:55:24Z","updated_at":"2024-04-26T21:55:24Z","body":"> However, I'm unclear on how many monorepos prefer to lint the entire repo, in which case one config file at the root makes a lot of sense, as opposed to monorepos where they prefer to lint just an individual package. That's the first question.\r\n\r\nAn example I can think of is those using `lint-staged` or similar to lint only changed files; those tools give path paths, so the easiest method to lint them would be to pass theminto the eslint CLI like `eslint packages/foo/index.js packages/bar/index.js`. But if they have different configs in each directory, you can't lint like that, you need to know that they have different configs and go into their specific directories and then lint them there.\r\n\r\nThe other case is people opening subdirs, where the behavior should match if you opened the entire repo.\r\n\r\n> The second question is, for those who prefer to lint inside of individual packages only, do they use the cascade to apply shared configs? And is there any reason that the shared configuration can't be moved to a file that is just imported into the package-level config file?\r\n\r\nI haven't worked in a repo that didn't use cascades. TS itself isn't a monorepo per se, but did use nested cascading configs, which I had to undo for consistent behavior in my WIP flat config PR: https://github.com/microsoft/TypeScript/pull/57684\r\n\r\nBut nobody else is chiming in here about the problems they're having, so it's not super easy for me to made wider claims.\r\n\r\n> That said, it would help to have a concrete example of how you're currently using cascade in DT. Can you point to a package and the config files it relies on?\r\n\r\nSure, for DT:\r\n\r\n- https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/.eslintrc.cjs\r\n- https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/.eslintrc.json\r\n- https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node/v18/.eslintrc.json\r\n- https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/webrtc/.eslintrc.json\r\n- https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/webrtc/ts5.0/.eslintrc.json\r\n\r\nThere's a root config, then packages or subdirs within those packages override the settings, but within JSON (statically analyzable using our bot infra without executing code).\r\n\r\nI have not yet figured out what we're going to do on DT at all for flat config on the loading front; the fact that the code is exectuable is a security and infra processing gotcha for us (we can't really statically analyze a flat config...), so it's not super clear what to do. It may be the case that we give up on letting anyone write `eslint.config.mjs` files at all, and just invent or own config (not called `.eslintrc.json`) and force the repo root `eslint.config.mjs` file to load everything and eat the perf cost of doing so for packages that aren't referenced. Something like `mergeESlintConfigs` in https://github.com/eslint/eslint/discussions/18353#discussioncomment-9209819 but not loading real configs.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2080167441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2083652772","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2083652772","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2083652772,"node_id":"IC_kwDOAKjKDc58MgSk","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-04-29T20:59:44Z","updated_at":"2024-04-29T20:59:44Z","body":"Thanks, that's helpful. I think there are two things the TSC needs to consider:\r\n\r\n1. **Should we always search for a config file from the files passed to ESLint?** This would be a breaking change. We could ease into this by creating a CLI flag/`ESLint` constructor option that lets people opt-in to this behavior in v9 and then switch to make it the default in v10. I'm not opposed to doing a v10 soonish (later this year) to address this. I am currently in favor of this approach, as I think this helps with both the monorepo and IDE use cases. We will lose some of the perf gains we currently have by only searching for a config file once, but this seems like the right thing to do.\r\n2. **Should we crawl up the directory structure merging config files like in eslintrc?** If we implement item 1, then this might be best implemented by creating a standalone utility that people could use in their config files if they so choose rather than adding it back into the core. I don't think folks should pay the cost of always doing this search if they aren't going to use.\r\n\r\n> I have not yet figured out what we're going to do on DT at all for flat config on the loading front; the fact that the code is exectuable is a security and infra processing gotcha for us (we can't really statically analyze a flat config...), so it's not super clear what to do.\r\n\r\nIt seems like in order to work for your setup, ESLint would need to implement both items 1 and 2 in the core and also allow JSON config files, that is undoing a lot of the simplicity we got with flat config. So yeah, you may need to come up with a custom solution for that.\r\n\r\n@eslint/eslint-tsc would like some other opinions here.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2083652772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12649050200,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAALx8TBY","url":"https://api.github.com/repos/eslint/eslint/issues/events/12649050200","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-29T20:59:46Z","performed_via_github_app":null},{"id":12649050213,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAALx8TBl","url":"https://api.github.com/repos/eslint/eslint/issues/events/12649050213","actor":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-29T20:59:46Z","performed_via_github_app":null},{"id":12649050219,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAALx8TBr","url":"https://api.github.com/repos/eslint/eslint/issues/events/12649050219","actor":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-04-29T20:59:46Z","performed_via_github_app":null},{"id":15027563052,"node_id":"PVTISC_lADOAKjKDc6GrjbBzwAAAAN_tmos","url":"https://api.github.com/repos/eslint/eslint/issues/events/15027563052","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"project_v2_item_status_changed","commit_id":null,"commit_url":null,"created_at":"2024-05-06T16:58:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2096515742","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2096515742","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2096515742,"node_id":"IC_kwDOAKjKDc589kqe","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-06T17:06:25Z","updated_at":"2024-05-06T17:06:25Z","body":"I was thinking about this over the weekend and had the following idea: what if config loading was pluggable?\r\n\r\nHere's a rough outline of what I'm thinking:\r\n\r\n1. We define a `eslint.project.js` file that contains [project-related configuration](https://github.com/eslint/eslint/discussions/16819). The first such configuration would be a config loader. Each project has exactly one `eslint.project.js` file, which is found by searching up the directory structure from the first file ESLint finds to lint, either by what is passed on the command line or the open file in an editor. After that, there is no further searching for `eslint.project.js`.\r\n2. If there is no `eslint.project.js`, then ESLint behaves as it does today. It still looks for `eslint.config.js` in the cwd (in v9.x).\r\n3. ESLint uses the defined config loader from `eslint.project.js` to identify the correct config array for a given file. So for each file ESLint is linting, it will call the config loader to ask for the correct configuration.\r\n\r\n```js\r\n// eslint.project.js\r\nexport default {\r\n    async loadConfig(filePath) {\r\n        return [\r\n            // config objects\r\n        ];\r\n    }\r\n};\r\n```\r\n\r\nI think that this approach would solve both the problem of wanting to merge configs from ancestor directories and the problem of wanting static configuration files for overrides in specific directories. Anyone could create their own config loader to generate exactly the configuration they wanted in whatever way they wanted.\r\n\r\nAs a bonus, we could implement this as non-breaking in v9.x.\r\n\r\nThis would obviously require an RFC, so just looking for some initial thoughts on that to see if it's worth putting in the work on an RFC.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2096515742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2096612207","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2096612207","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2096612207,"node_id":"IC_kwDOAKjKDc5898Nv","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-06T18:01:23Z","updated_at":"2024-05-06T18:01:23Z","body":"I think that's a prety compelling idea, though I'm not 100% certain on having another config file (but I don't know how one could avoid that).\r\n\r\n> 1. We define a `eslint.project.js` file that contains [project-related configuration](https://github.com/eslint/eslint/discussions/16819). The first such configuration would be a config loader. Each project has exactly one `eslint.project.js` file, which is found by searching up the directory structure from the first file ESLint finds to lint, either by what is passed on the command line or the open file in an editor. After that, there is no further searching for `eslint.project.js`.\r\n\r\nOn my last team, we had a monorepo with another monorepo nested within it. The sub-repo was a public repo, while the top-level repo was a closed-source project which built on that public component. This sort of layout would mean that there would actually be multiple `eslint.project.js` files to load the monorepo, so the behavior of eslint would then depend on which file happened to be processed first.\r\n\r\nIn non-flat config, this repo layout works pretty well as both monorepo roots can be marked as `root: true`, and ESLint would correctly load the config for any file no matter how it was run or on which file.\r\n\r\n> I think that this approach would solve both the problem of wanting to merge configs from ancestor directories and the problem of wanting static configuration files for overrides in specific directories.\r\n\r\nI definitely agree that this could be used to load static configs from subdirs, though I think one can already achieve that today with some manual globbing. But building this sort of thing into ESLint has the benefit of preventing needless config loading for files that don't matter. And I assume ESLint would be aware of that path and apply globs, right?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2096612207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2098606023","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2098606023","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2098606023,"node_id":"IC_kwDOAKjKDc59Fi_H","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-07T14:55:34Z","updated_at":"2024-05-07T14:55:34Z","body":"> In non-flat config, this repo layout works pretty well as both monorepo roots can be marked as `root: true`, and ESLint would correctly load the config for any file no matter how it was run or on which file.\r\n\r\nIf we did this for flat config, without doing any of the subdirectory merging, would that work for you? (Meaning, we search for `eslint.config.js` starting from each file being linted.)\r\n\r\n> I definitely agree that this could be used to load static configs from subdirs, though I think one can already achieve that today with some manual globbing. But building this sort of thing into ESLint has the benefit of preventing needless config loading for files that don't matter. And I assume ESLint would be aware of that path and apply globs, right?\r\n\r\nI'm not quite sure what you're saying here. What \"sort of thing\" are you saying should be built into ESLint?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2098606023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2102929890","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2102929890","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2102929890,"node_id":"IC_kwDOAKjKDc59WCni","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-09T15:47:08Z","updated_at":"2024-05-09T15:47:08Z","body":"> If we did this for flat config, without doing any of the subdirectory merging, would that work for you? (Meaning, we search for `eslint.config.js` starting from each file being linted.)\r\n\r\nThat alone would be a net positive, I think, in that it preserves the \"doesn't matter how you invoke ESLint, it behaves the same\". Separately, we could come up with a better way to inherit a parent dir's configuration. Everything else can already be worked around by using helpers to rewrite globs or filter overrides (e.g. that other thread's helpers), it's just that the config file searching is not customizable in the current iteration.\r\n\r\nFor DT, the challenge will continue to be that we don't actually want to let people write `eslint.config.js` files themselves (for previously mentioned reasons), so I'm still hoping to find time in the near future to see how eslint performs when we do the 2000 JSON loads. (That's technically the area your \"config provider\" idea would work well for, given a root config could export a function that can return a config for any path and avoid up-front work.)\r\n\r\n\r\n> I'm not quite sure what you're saying here. What \"sort of thing\" are you saying should be built into ESLint?\r\n\r\nSorry, I have a problem with overusing the word \"thing\" as what I say makes sense in my head but maybe not once it leaves  \r\n\r\nI was referring to your \"config provider\" idea. With flat config, one of the biggest footguns with loading \"someone else's\" config is the globs that they have chosen will be relative to where they were. For shared configs imported from an npm package or something, that's usually not a big deal because they seem to all write like `**/*.{ts,mts,cts}` to match without ever mentioning a root.\r\n\r\nBut, if I'm actually wanting to pull in a child configuration to the root config, all of the paths are going to be relative to the wrong directory. So, \"this sort of thing\" meant the provider idea, and I was looking ahead to what that might mean inside ESLint for rewriting that config to be relative to the right place.\r\n\r\nBut, this is somewhat moot if ESLint will just look at every file and choose the closest config.\r\n\r\nUnfortunately, the two ideas we're discussing are sort of the opposite, since once is saying \"it's acceptable to have more than one `eslint.config.js` in a repo, the tool with handle it\", while the other says \"there's a function/loader that the root config needs to provide if it wants to correctly handle any nested `eslint.config.js` files\".","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2102929890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2104749434","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2104749434","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2104749434,"node_id":"IC_kwDOAKjKDc59c-16","user":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-10T14:51:24Z","updated_at":"2024-05-10T14:51:24Z","body":"Okay, so I think we have three things we need to consider adding into the core (no promises, just summarizing for the rest of the team):\r\n\r\n1. **Search for `eslint.config.js` from the file being linted.** I'm fairly convinced that this is the correct move based on this discussion. While technically a breaking change, I think most non-monorepo users won't see any difference. I think this could be done relatively easily.\r\n2. **Merge ancestor directory configs from the file being linted.** This one hurts my heart a bit but I understand what you're saying. Merging and calculating relative directories for each config would be a pain for anyone who wants to do it, so it may make sense to add back into the core. This would be complicated because flat config's design was expressly to avoid doing this, so there will need to be some rethinking.\r\n3. **Load JSON config files.** We could potentially support a minimal JSON config file format specifically for overrides. This would depend on having the ancestor directory merge in place, so you'd still need an `eslint.config.js` file in the root but you could have `eslint.config.json` that could contain anything that can be defined using arrays/objects/strings/numbers/booleans. This necessarily means that static config files would *not* be able to specify additional plugins.\r\n\r\nSo I think overall my opinion is that while eslintrc had a lot of problems, it also enabled a lot more control of the linting process, and as such, some of these are worth revisiting for flat config.\r\n\r\n@eslint/eslint-tsc I need some feedback here.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2104749434/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12770767163,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAAL5MnE7","url":"https://api.github.com/repos/eslint/eslint/issues/events/12770767163","actor":{"login":"nzakas","id":38546,"node_id":"MDQ6VXNlcjM4NTQ2","avatar_url":"https://avatars.githubusercontent.com/u/38546?v=4","gravatar_id":"","url":"https://api.github.com/users/nzakas","html_url":"https://github.com/nzakas","followers_url":"https://api.github.com/users/nzakas/followers","following_url":"https://api.github.com/users/nzakas/following{/other_user}","gists_url":"https://api.github.com/users/nzakas/gists{/gist_id}","starred_url":"https://api.github.com/users/nzakas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzakas/subscriptions","organizations_url":"https://api.github.com/users/nzakas/orgs","repos_url":"https://api.github.com/users/nzakas/repos","events_url":"https://api.github.com/users/nzakas/events{/privacy}","received_events_url":"https://api.github.com/users/nzakas/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-10T14:51:26Z","performed_via_github_app":null},{"id":12770767174,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAAL5MnFG","url":"https://api.github.com/repos/eslint/eslint/issues/events/12770767174","actor":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-10T14:51:26Z","performed_via_github_app":null},{"id":12770767181,"node_id":"SE_lADOAKjKDc6GrjbBzwAAAAL5MnFN","url":"https://api.github.com/repos/eslint/eslint/issues/events/12770767181","actor":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-10T14:51:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2104813865","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2104813865","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2104813865,"node_id":"IC_kwDOAKjKDc59dOkp","user":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-10T15:32:24Z","updated_at":"2024-05-10T15:32:24Z","body":"Thanks; I think these are compelling changes.\r\n\r\n> Merge ancestor directory configs from the file being linted. This one hurts my heart a bit but I understand what you're saying.\r\n\r\nIf it's any consolation, if merging is reintroduced, I think that it's going to be much easier to implement and explain to users than `.eslintrc` was. For any nested config, it's just \"my parent's config concatenated with my config\" (plus or minus the whole path fixup).\r\n\r\nIf breakage is a concern, a nested config could also do something like:\r\n\r\n```js\r\nexport default [\r\n    { mergeParent: true },\r\n    // ...\r\n]\r\n```\r\n\r\nTo explicitly opt into this. Which is to say, the opposite of `root: true` in the old config system!\r\n\r\n> We could potentially support a minimal JSON config file format specifically for overrides.\r\n\r\nThis is all DT needs; we just want to provide some way for package authors to disable lints. I still intend on trying out the \"load all of the configs\" idea, but I'm just continually bogged down...\r\n\r\n----\r\n\r\nI'd also like to say that flat config will actually _simplify_ some aspect of DT; right now we have tools repo that provides the infrastructure/tooling for DT, and that's who's defining the preset/plugin. But since we also use third-party plugins, we have to duplicitively install them into DT as well as mention them in the preset in the other repo, so they just always end up drifting. Also, we need to be able to call APIs `typescript-eslint` (but the same one as in the _linted_ repo), so we had to do [strange things](https://github.com/microsoft/DefinitelyTyped-tools/blob/2e320afb3de8b6f777dd89166d5038e4291c0679/packages/dtslint/src/lint.ts#L23) to try everywhere that things could live in order to access them. With flat config, I expect to be able to provide all linting configuration from our preset in dt-tools, and then drop all mentions of plugins from DT itself (no more package duplication).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2104813865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2106905511","html_url":"https://github.com/eslint/eslint/issues/18385#issuecomment-2106905511","issue_url":"https://api.github.com/repos/eslint/eslint/issues/18385","id":2106905511,"node_id":"IC_kwDOAKjKDc59lNOn","user":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-13T08:02:42Z","updated_at":"2024-05-13T08:05:24Z","body":"@jakebailey It sounds like you could put a custom .json file in package subdirs to define specific rules to disable. ESLint will always ever load the top-level eslint.config.js file (if there are no other config files), and the top-level config would take care of loading the .json files from the subdirs and applying the rule definitions to the subpaths. I guess the drawback with this approach is that you'd need to load .json files from all subdirs even if  you are only linting just one package?\r\n\r\nI'm asking because this looks like a much simpler problem than merging configs automatically or adding support for .json config files, despite the other advantages these solutions may have.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/comments/2106905511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"fasttime","id":6367844,"node_id":"MDQ6VXNlcjYzNjc4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/6367844?v=4","gravatar_id":"","url":"https://api.github.com/users/fasttime","html_url":"https://github.com/fasttime","followers_url":"https://api.github.com/users/fasttime/followers","following_url":"https://api.github.com/users/fasttime/following{/other_user}","gists_url":"https://api.github.com/users/fasttime/gists{/gist_id}","starred_url":"https://api.github.com/users/fasttime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fasttime/subscriptions","organizations_url":"https://api.github.com/users/fasttime/orgs","repos_url":"https://api.github.com/users/fasttime/repos","events_url":"https://api.github.com/users/fasttime/events{/privacy}","received_events_url":"https://api.github.com/users/fasttime/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12783039994,"node_id":"MEE_lADOAKjKDc6GrjbBzwAAAAL57bX6","url":"https://api.github.com/repos/eslint/eslint/issues/events/12783039994","actor":{"login":"jakebailey","id":5341706,"node_id":"MDQ6VXNlcjUzNDE3MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5341706?v=4","gravatar_id":"","url":"https://api.github.com/users/jakebailey","html_url":"https://github.com/jakebailey","followers_url":"https://api.github.com/users/jakebailey/followers","following_url":"https://api.github.com/users/jakebailey/following{/other_user}","gists_url":"https://api.github.com/users/jakebailey/gists{/gist_id}","starred_url":"https://api.github.com/users/jakebailey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakebailey/subscriptions","organizations_url":"https://api.github.com/users/jakebailey/orgs","repos_url":"https://api.github.com/users/jakebailey/repos","events_url":"https://api.github.com/users/jakebailey/events{/privacy}","received_events_url":"https://api.github.com/users/jakebailey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-05-13T08:02:43Z","performed_via_github_app":null}]