{"url":"https://api.github.com/repos/eslint/eslint/issues/16416","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/16416/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/16416/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/16416/events","html_url":"https://github.com/eslint/eslint/issues/16416","id":1405976642,"node_id":"I_kwDOAKjKDc5TzYBC","number":16416,"title":"Bug: [new config system] Patterns cannot re-ignore","user":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"},{"id":2786804245,"node_id":"MDU6TGFiZWwyNzg2ODA0MjQ1","url":"https://api.github.com/repos/eslint/eslint/labels/repro:needed","name":"repro:needed","color":"136971","default":false,"description":"This issue should include a reproducible example"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-12T10:37:26Z","updated_at":"2023-04-12T19:06:41Z","closed_at":"2022-10-13T19:42:36Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Environment\n\nNode version: v16.14.0\r\nnpm version: v8.3.1\r\nLocal ESLint version: `main` branch\r\nGlobal ESLint version: Not found\r\nOperating System: win32 10.0.19044\n\n### What parser are you using?\n\nDefault (Espree)\n\n### What did you do?\n\n```\r\nmy-app/\r\n├── a.js\r\n└── eslint.config.js\r\n```\r\n\r\n```js\r\n// eslint.config.js\r\nmodule.exports = [{\r\n  ignores: [\r\n      \"*.js\",\r\n      \"!a*.js\",\r\n      \"a.js\"\r\n  ]\r\n}];\r\n```\r\n\r\nCommand:\r\n\r\n```\r\neslint a.js -f tap\r\n```\r\n\n\n### What did you expect to happen?\n\nI'd expect `a.js` to be ignored. It should be possible to re-ignore previously unignored files. In other words, the last pattern that matches the file should determine whether the file is ignored: if it's non-negative then the file is ignored, if it's negative then the file is not ignored, \r\n\r\n(unless the file is in an ignored directory, in which case the file is ignored regardless of patterns that match the file itself).\n\n### What actually happened?\n\n```\r\nTAP version 13\r\n1..1\r\nok 1 - D:\\tmp\\my-app\\a.js\r\n\r\n```\n\n### Participation\n\n- [ ] I am willing to submit a pull request for this issue.\n\n### Additional comments\n\nThe same applies to directories. I believe that the code that determines whether a directory is ignored should be the same as the code that determines whether a file is ignored by ignore patterns, except that we should make sure that the directory path ends with a `/` so that it can match with patterns that end with `/`.","closed_by":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/16416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/16416/timeline","performed_via_github_app":null,"state_reason":"completed"}