{"url":"https://api.github.com/repos/eslint/eslint/issues/12454","repository_url":"https://api.github.com/repos/eslint/eslint","labels_url":"https://api.github.com/repos/eslint/eslint/issues/12454/labels{/name}","comments_url":"https://api.github.com/repos/eslint/eslint/issues/12454/comments","events_url":"https://api.github.com/repos/eslint/eslint/issues/12454/events","html_url":"https://github.com/eslint/eslint/issues/12454","id":508793092,"node_id":"MDU6SXNzdWU1MDg3OTMwOTI=","number":12454,"title":"function-call-argument-newline invalid autofix with a line comment","user":{"login":"mdjermanovic","id":44349756,"node_id":"MDQ6VXNlcjQ0MzQ5NzU2","avatar_url":"https://avatars.githubusercontent.com/u/44349756?v=4","gravatar_id":"","url":"https://api.github.com/users/mdjermanovic","html_url":"https://github.com/mdjermanovic","followers_url":"https://api.github.com/users/mdjermanovic/followers","following_url":"https://api.github.com/users/mdjermanovic/following{/other_user}","gists_url":"https://api.github.com/users/mdjermanovic/gists{/gist_id}","starred_url":"https://api.github.com/users/mdjermanovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mdjermanovic/subscriptions","organizations_url":"https://api.github.com/users/mdjermanovic/orgs","repos_url":"https://api.github.com/users/mdjermanovic/repos","events_url":"https://api.github.com/users/mdjermanovic/events{/privacy}","received_events_url":"https://api.github.com/users/mdjermanovic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":45711350,"node_id":"MDU6TGFiZWw0NTcxMTM1MA==","url":"https://api.github.com/repos/eslint/eslint/labels/bug","name":"bug","color":"fc2929","default":true,"description":"ESLint is working incorrectly"},{"id":45798639,"node_id":"MDU6TGFiZWw0NTc5ODYzOQ==","url":"https://api.github.com/repos/eslint/eslint/labels/rule","name":"rule","color":"fbca04","default":false,"description":"Relates to ESLint's core rules"},{"id":131106229,"node_id":"MDU6TGFiZWwxMzExMDYyMjk=","url":"https://api.github.com/repos/eslint/eslint/labels/accepted","name":"accepted","color":"0052cc","default":false,"description":"There is consensus among the team that this change meets the criteria for inclusion"},{"id":829215248,"node_id":"MDU6TGFiZWw4MjkyMTUyNDg=","url":"https://api.github.com/repos/eslint/eslint/labels/archived%20due%20to%20age","name":"archived due to age","color":"eeeeee","default":false,"description":"This issue has been archived; please open a new issue for any further discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-18T00:50:30Z","updated_at":"2020-05-10T03:39:23Z","closed_at":"2019-11-10T06:49:17Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n    ESLint adheres to the [JS Foundation Code of Conduct](https://js.foundation/community/code-of-conduct).\r\n\r\n    This template is for bug reports. If you are here for another reason, please see below:\r\n\r\n    1. To propose a new rule: https://eslint.org/docs/developer-guide/contributing/new-rules\r\n    2. To request a rule change: https://eslint.org/docs/developer-guide/contributing/rule-changes\r\n    3. To request a change that is not a bug fix, rule change, or new rule: https://eslint.org/docs/developer-guide/contributing/changes\r\n    4. If you have any questions, please stop by our chatroom: https://gitter.im/eslint/eslint\r\n\r\n    Note that leaving sections blank will make it difficult for us to troubleshoot and we may have to close the issue.\r\n-->\r\n\r\n**Tell us about your environment**\r\n\r\n<!--\r\n    If you are using ESLint v6.5.0 or later, you can run ESLint with the `--env-info` flag and paste the output here.\r\n-->\r\n\r\n* **ESLint Version:**  6.5.1\r\n* **Node Version:** 10.16.0\r\n* **npm Version:** 6.9.0\r\n\r\n**What parser (default, Babel-ESLint, etc.) are you using?**\r\n\r\ndefault\r\n\r\n**Please show your full configuration:**\r\n\r\n<details>\r\n<summary>Configuration</summary>\r\n\r\n<!-- Paste your configuration below: -->\r\n```js\r\nmodule.exports = {\r\n  parserOptions: {\r\n    ecmaVersion: 2015,\r\n  }\r\n};\r\n```\r\n\r\n</details>\r\n\r\n**What did you do? Please include the actual source code causing the issue, as well as the command that you used to run ESLint.**\r\n\r\n[Online Demo Link](https://eslint.org/demo#eyJ0ZXh0IjoiLyogZXNsaW50IGZ1bmN0aW9uLWNhbGwtYXJndW1lbnQtbmV3bGluZTogW1wiZXJyb3JcIiwgXCJuZXZlclwiXSAqL1xuXG5mKGEsIC8vIGNvbW1lbnRcbiAgYik7Iiwib3B0aW9ucyI6eyJwYXJzZXJPcHRpb25zIjp7ImVjbWFWZXJzaW9uIjoxMSwic291cmNlVHlwZSI6InNjcmlwdCIsImVjbWFGZWF0dXJlcyI6e319LCJydWxlcyI6e30sImVudiI6e319fQ==)\r\n\r\n<!-- Paste the source code below: -->\r\n```js\r\n/* eslint function-call-argument-newline: [\"error\", \"never\"] */\r\n\r\nf(a, // comment\r\n  b);\r\n```\r\n\r\n<!-- Paste the command you used to run ESLint: -->\r\n```bash\r\neslint index.js --fix\r\n```\r\n\r\n**What did you expect to happen?**\r\n\r\nI'm not sure, maybe an error without autofix.\r\n\r\n**What actually happened? Please include the actual, raw output from ESLint.**\r\n\r\n```js\r\n/* eslint function-call-argument-newline: [\"error\", \"never\"] */\r\n\r\nf(a, // comment b);\r\n```\r\n\r\n**Are you willing to submit a pull request to fix this bug?**\r\n\r\nYes. #12280 should be probably merged first.\r\n\r\nAutofix also doesn't work quite well when a comment or the comma `,` is on the same line with the argument that shouldn't have a linebreak before - [Demo Link](https://eslint.org/demo#eyJ0ZXh0IjoiLyogZXNsaW50IGZ1bmN0aW9uLWNhbGwtYXJndW1lbnQtbmV3bGluZTogW1wiZXJyb3JcIiwgXCJuZXZlclwiXSAqL1xuXG5mKGEgXG4sICBiKTtcblxuZihhIFxuICAsYik7XG5cbmYoYSxcbiAgLyoqLyAgIGIpOyIsIm9wdGlvbnMiOnsicGFyc2VyT3B0aW9ucyI6eyJlY21hVmVyc2lvbiI6MTEsInNvdXJjZVR5cGUiOiJzY3JpcHQiLCJlY21hRmVhdHVyZXMiOnt9fSwicnVsZXMiOnt9LCJlbnYiOnt9fX0=)\r\n\r\nThe reported locations are wrong and autofix just removes whitespace (or even inserts a new space in some cases), but the linebreak and the error are still there.\r\n\r\nMaybe we could do here the same as with `array-element-newline` - [Demo Link](https://eslint.org/demo#eyJ0ZXh0IjoiLyogZXNsaW50IGFycmF5LWVsZW1lbnQtbmV3bGluZTogW1wiZXJyb3JcIiwgXCJuZXZlclwiXSAqL1xuXG5bYSwgLy8gY29tbWVudFxuICBiXTtcblxuW2EsIC8qKi9cbiAgYl07XG5cblthIC8qKi9cbiAgLGJdO1xuXG5bYSxcbiAgLyoqLyAgIGJdO1xuXG5bYSBcbiwgIGJdO1xuXG5bYSBcbiAgLGJdO1xuXG5bYSwgXG4gIGJdO1xuXG4iLCJvcHRpb25zIjp7InBhcnNlck9wdGlvbnMiOnsiZWNtYVZlcnNpb24iOjExLCJzb3VyY2VUeXBlIjoic2NyaXB0IiwiZWNtYUZlYXR1cmVzIjp7fX0sInJ1bGVzIjp7fSwiZW52Ijp7fX19)\r\n\r\nFrom this demo, it looks like the logic is as the following:\r\n\r\n* If there is a comment anywhere between two elements, just report error without any autofixes.\r\n* If there are no comments, then fix the code. If the comma is on the same line as the second element, remove the range between the first element and the comma, instead of between the comma and the second element.\r\n\r\nReported locations are also not correct.\r\n","closed_by":{"login":"kaicataldo","id":7041728,"node_id":"MDQ6VXNlcjcwNDE3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/7041728?v=4","gravatar_id":"","url":"https://api.github.com/users/kaicataldo","html_url":"https://github.com/kaicataldo","followers_url":"https://api.github.com/users/kaicataldo/followers","following_url":"https://api.github.com/users/kaicataldo/following{/other_user}","gists_url":"https://api.github.com/users/kaicataldo/gists{/gist_id}","starred_url":"https://api.github.com/users/kaicataldo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaicataldo/subscriptions","organizations_url":"https://api.github.com/users/kaicataldo/orgs","repos_url":"https://api.github.com/users/kaicataldo/repos","events_url":"https://api.github.com/users/kaicataldo/events{/privacy}","received_events_url":"https://api.github.com/users/kaicataldo/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/eslint/eslint/issues/12454/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/eslint/eslint/issues/12454/timeline","performed_via_github_app":null,"state_reason":"completed"}