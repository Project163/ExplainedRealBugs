diff --git a/src/main/java/org/apache/xmlgraphics/xmp/XMPHandler.java b/src/main/java/org/apache/xmlgraphics/xmp/XMPHandler.java
index 506baf2..b3b918f 100644
--- a/src/main/java/org/apache/xmlgraphics/xmp/XMPHandler.java
+++ b/src/main/java/org/apache/xmlgraphics/xmp/XMPHandler.java
@@ -287,7 +287,9 @@ public class XMPHandler extends DefaultHandler {
             if (prop.getName() == null) {
                 throw new IllegalStateException("No content in XMP property");
             }
-            assert getCurrentProperties() != null : "no current property";
+            if (getCurrentProperties() == null) {
+                startStructure();
+            }
             getCurrentProperties().setProperty(prop);
         }
 
diff --git a/src/test/java/org/apache/xmlgraphics/xmp/XMPParserTestCase.java b/src/test/java/org/apache/xmlgraphics/xmp/XMPParserTestCase.java
index 82e80d6..76ecd81 100644
--- a/src/test/java/org/apache/xmlgraphics/xmp/XMPParserTestCase.java
+++ b/src/test/java/org/apache/xmlgraphics/xmp/XMPParserTestCase.java
@@ -30,6 +30,9 @@ import javax.xml.transform.stream.StreamSource;
 
 import org.junit.Test;
 
+import org.xml.sax.Attributes;
+import org.xml.sax.helpers.DefaultHandler;
+
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.assertNull;
@@ -194,6 +197,30 @@ public class XMPParserTestCase {
         assertNull(title); //Empty value treated same as not existant
     }
 
+    @Test
+    public void testSubproperty() throws Exception {
+        URL url = getClass().getResource("test-subproperty.xmp");
+        Metadata meta = XMPParser.parseXMP(url);
+        final StringBuilder sb = new StringBuilder();
+        meta.toSAX(new DefaultHandler() {
+            public void startElement(String uri, String localName, String qName, Attributes attributes) {
+                sb.append(qName).append("\n");
+            }
+        });
+        assertEquals("x:xmpmeta\n"
+                + "rdf:RDF\n"
+                + "rdf:Description\n"
+                + "pdfaExtension:schemas\n"
+                + "rdf:Bag\n"
+                + "rdf:li\n"
+                + "rdf:Description\n"
+                + "pdfaSchema:property\n"
+                + "rdf:Seq\n"
+                + "rdf:li\n"
+                + "rdf:Description\n"
+                + "pdfaProperty:name\n", sb.toString());
+    }
+
     @Test
     public void testExternalDTD() {
         String payload = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>"
diff --git a/src/test/java/org/apache/xmlgraphics/xmp/test-subproperty.xmp b/src/test/java/org/apache/xmlgraphics/xmp/test-subproperty.xmp
new file mode 100644
index 0000000..2384f54
--- /dev/null
+++ b/src/test/java/org/apache/xmlgraphics/xmp/test-subproperty.xmp
@@ -0,0 +1,21 @@
+<x:xmpmeta xmlns:x="adobe:ns:meta/">
+    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
+        <rdf:Description xmlns:pdfaExtension="http://www.aiim.org/pdfa/ns/extension/"
+                         xmlns:pdfaSchema="http://www.aiim.org/pdfa/ns/schema#"
+                         xmlns:pdfaProperty="http://www.aiim.org/pdfa/ns/property#" rdf:about="">
+            <pdfaExtension:schemas>
+                <rdf:Bag>
+                    <rdf:li rdf:parseType="Resource">
+                        <pdfaSchema:property>
+                            <rdf:Seq>
+                                <rdf:li rdf:parseType="Resource">
+                                    <pdfaProperty:name>DocumentFileName</pdfaProperty:name>
+                                </rdf:li>
+                            </rdf:Seq>
+                        </pdfaSchema:property>
+                    </rdf:li>
+                </rdf:Bag>
+            </pdfaExtension:schemas>
+        </rdf:Description>
+    </rdf:RDF>
+</x:xmpmeta>
\ No newline at end of file
