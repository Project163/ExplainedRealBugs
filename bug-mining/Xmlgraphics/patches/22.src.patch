diff --git a/src/test/java/org/apache/xmlgraphics/image/loader/CorruptImagesTestCase.java b/src/test/java/org/apache/xmlgraphics/image/loader/CorruptImagesTestCase.java
index 5b83cd3..28bad27 100644
--- a/src/test/java/org/apache/xmlgraphics/image/loader/CorruptImagesTestCase.java
+++ b/src/test/java/org/apache/xmlgraphics/image/loader/CorruptImagesTestCase.java
@@ -36,9 +36,14 @@ public class CorruptImagesTestCase {
 
         ImageSessionContext sessionContext = imageContext.newSessionContext();
         ImageManager manager = imageContext.getImageManager();
-
-        ImageInfo imageInfo = manager.preloadImage(uri, sessionContext);
-        assertEquals(imageInfo.getMimeType(), "image/png");
+        try {
+            ImageInfo imageInfo = manager.preloadImage(uri, sessionContext);
+            //IOException should continue to raw png
+            assertEquals(imageInfo.getMimeType(), "image/png");
+        } catch (Exception e) {
+            //Otherwise should throw exception
+            assertEquals(e.getMessage(), "pos < flushedPos!");
+        }
     }
 
 }
