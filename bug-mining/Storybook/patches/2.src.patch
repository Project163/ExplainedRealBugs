diff --git a/code/lib/builder-manager/package.json b/code/lib/builder-manager/package.json
index 00934b102cb..454816ef2bd 100644
--- a/code/lib/builder-manager/package.json
+++ b/code/lib/builder-manager/package.json
@@ -54,6 +54,7 @@
     "ejs": "^3.1.8",
     "esbuild": "^0.16.4",
     "esbuild-plugin-alias": "^0.2.1",
+    "esbuild-plugin-environment": "^0.2.2",
     "express": "^4.17.3",
     "find-cache-dir": "^3.0.0",
     "fs-extra": "^11.1.0",
diff --git a/code/lib/builder-manager/src/index.ts b/code/lib/builder-manager/src/index.ts
index cf34db65a5d..9173deff31e 100644
--- a/code/lib/builder-manager/src/index.ts
+++ b/code/lib/builder-manager/src/index.ts
@@ -7,7 +7,9 @@ import { logger } from '@storybook/node-logger';
 import { globalExternals } from '@fal-works/esbuild-plugin-global-externals';
 import { pnpPlugin } from '@yarnpkg/esbuild-plugin-pnp';
 import aliasPlugin from 'esbuild-plugin-alias';
+import { environmentPlugin } from 'esbuild-plugin-environment';
 
+import { stringifyProcessEnvs } from '@storybook/core-common';
 import { getTemplatePath, renderHTML } from './utils/template';
 import { definitions } from './utils/globals';
 import { wrapManagerEntries } from './utils/managerEntries';
@@ -29,10 +31,11 @@ let compilation: Compilation;
 let asyncIterator: ReturnType<StarterFunction> | ReturnType<BuilderFunction>;
 
 export const getConfig: ManagerBuilder['getConfig'] = async (options) => {
-  const [addonsEntryPoints, customManagerEntryPoint, tsconfigPath] = await Promise.all([
+  const [addonsEntryPoints, customManagerEntryPoint, tsconfigPath, envs] = await Promise.all([
     options.presets.apply('managerEntries', []),
     safeResolve(join(options.configDir, 'manager')),
     getTemplatePath('addon.tsconfig.json'),
+    options.presets.apply<Record<string, string>>('env'),
   ]);
 
   const entryPoints = customManagerEntryPoint
@@ -81,6 +84,10 @@ export const getConfig: ManagerBuilder['getConfig'] = async (options) => {
       }),
       globalExternals(definitions),
       pnpPlugin(),
+      environmentPlugin({
+        ...stringifyProcessEnvs(envs),
+        NODE_ENV: JSON.stringify(process.env.NODE_ENV),
+      }),
     ],
 
     banner: {
diff --git a/code/yarn.lock b/code/yarn.lock
index 74cf315f5cd..2c6358bf230 100644
--- a/code/yarn.lock
+++ b/code/yarn.lock
@@ -5729,6 +5729,7 @@ __metadata:
     ejs: ^3.1.8
     esbuild: ^0.16.4
     esbuild-plugin-alias: ^0.2.1
+    esbuild-plugin-environment: ^0.2.2
     express: ^4.17.3
     find-cache-dir: ^3.0.0
     fs-extra: ^11.1.0
@@ -9497,6 +9498,16 @@ __metadata:
   languageName: node
   linkType: hard
 
+"@webdeveric/utils@npm:^0.25.1":
+  version: 0.25.1
+  resolution: "@webdeveric/utils@npm:0.25.1"
+  dependencies:
+    lodash.clonedeep: ^4.5.0
+    lodash.escaperegexp: ^4.1.2
+  checksum: 3ffbc93d36a5856436716b0275d6c56eb43910c5d0e22c6627414521794d180689b8956aea3800aa7ee72b59899143f1b5d09f3410a1a8f756b9c3d28877f91c
+  languageName: node
+  linkType: hard
+
 "@xtuc/ieee754@npm:^1.2.0":
   version: 1.2.0
   resolution: "@xtuc/ieee754@npm:1.2.0"
@@ -14086,6 +14097,28 @@ __metadata:
   languageName: node
   linkType: hard
 
+"esbuild-plugin-define@npm:^0.2.3":
+  version: 0.2.3
+  resolution: "esbuild-plugin-define@npm:0.2.3"
+  dependencies:
+    "@webdeveric/utils": ^0.25.1
+  peerDependencies:
+    esbuild: ">=0.15"
+  checksum: 9dd913004550a1b129fac8c11ad1b6907940952488fe5fd772299942405235f40892e038c23f6e43df62589d951e6f23fe724dc7243e7d03aab26e9491f7c696
+  languageName: node
+  linkType: hard
+
+"esbuild-plugin-environment@npm:^0.2.2":
+  version: 0.2.2
+  resolution: "esbuild-plugin-environment@npm:0.2.2"
+  dependencies:
+    esbuild-plugin-define: ^0.2.3
+  peerDependencies:
+    esbuild: ">=0.15"
+  checksum: 90c7d6db9400856572eebcaa4c9bf115ceccc31cae0a659368e20cddc041275e7ba95d1f9dfd446cc5b6f60c8b5fa515313263209c69e4fe5b5811d46835741a
+  languageName: node
+  linkType: hard
+
 "esbuild-register@npm:^3.3.3":
   version: 3.4.2
   resolution: "esbuild-register@npm:3.4.2"
@@ -19769,6 +19802,13 @@ __metadata:
   languageName: node
   linkType: hard
 
+"lodash.clonedeep@npm:^4.5.0":
+  version: 4.5.0
+  resolution: "lodash.clonedeep@npm:4.5.0"
+  checksum: 2caf0e4808f319d761d2939ee0642fa6867a4bbf2cfce43276698828380756b99d4c4fa226d881655e6ac298dd453fe12a5ec8ba49861777759494c534936985
+  languageName: node
+  linkType: hard
+
 "lodash.debounce@npm:^4.0.8":
   version: 4.0.8
   resolution: "lodash.debounce@npm:4.0.8"
@@ -19783,6 +19823,13 @@ __metadata:
   languageName: node
   linkType: hard
 
+"lodash.escaperegexp@npm:^4.1.2":
+  version: 4.1.2
+  resolution: "lodash.escaperegexp@npm:4.1.2"
+  checksum: 484ad4067fa9119bb0f7c19a36ab143d0173a081314993fe977bd00cf2a3c6a487ce417a10f6bac598d968364f992153315f0dbe25c9e38e3eb7581dd333e087
+  languageName: node
+  linkType: hard
+
 "lodash.find@npm:^4.6.0":
   version: 4.6.0
   resolution: "lodash.find@npm:4.6.0"
