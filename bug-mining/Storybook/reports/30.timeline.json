[{"id":20035697758,"node_id":"LE_lADOAzqfmc7PDf5GzwAAAASqOHxe","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20035697758","actor":{"login":"rdebeasi","id":1299370,"node_id":"MDQ6VXNlcjEyOTkzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1299370?v=4","gravatar_id":"","url":"https://api.github.com/users/rdebeasi","html_url":"https://github.com/rdebeasi","followers_url":"https://api.github.com/users/rdebeasi/followers","following_url":"https://api.github.com/users/rdebeasi/following{/other_user}","gists_url":"https://api.github.com/users/rdebeasi/gists{/gist_id}","starred_url":"https://api.github.com/users/rdebeasi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdebeasi/subscriptions","organizations_url":"https://api.github.com/users/rdebeasi/orgs","repos_url":"https://api.github.com/users/rdebeasi/repos","events_url":"https://api.github.com/users/rdebeasi/events{/privacy}","received_events_url":"https://api.github.com/users/rdebeasi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-10-01T14:17:37Z","label":{"name":"bug","color":"EB484F"},"performed_via_github_app":null},{"id":20035697838,"node_id":"LE_lADOAzqfmc7PDf5GzwAAAASqOHyu","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20035697838","actor":{"login":"rdebeasi","id":1299370,"node_id":"MDQ6VXNlcjEyOTkzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/1299370?v=4","gravatar_id":"","url":"https://api.github.com/users/rdebeasi","html_url":"https://github.com/rdebeasi","followers_url":"https://api.github.com/users/rdebeasi/followers","following_url":"https://api.github.com/users/rdebeasi/following{/other_user}","gists_url":"https://api.github.com/users/rdebeasi/gists{/gist_id}","starred_url":"https://api.github.com/users/rdebeasi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdebeasi/subscriptions","organizations_url":"https://api.github.com/users/rdebeasi/orgs","repos_url":"https://api.github.com/users/rdebeasi/repos","events_url":"https://api.github.com/users/rdebeasi/events{/privacy}","received_events_url":"https://api.github.com/users/rdebeasi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-10-01T14:17:38Z","label":{"name":"needs triage","color":"D4C5F9"},"performed_via_github_app":null},{"id":20035773631,"node_id":"LE_lADOAzqfmc7PDf5GzwAAAASqOaS_","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20035773631","actor":{"login":"dosubot[bot]","id":131922026,"node_id":"BOT_kgDOB9z4ag","avatar_url":"https://avatars.githubusercontent.com/in/324583?v=4","gravatar_id":"","url":"https://api.github.com/users/dosubot%5Bbot%5D","html_url":"https://github.com/apps/dosubot","followers_url":"https://api.github.com/users/dosubot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dosubot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dosubot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dosubot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dosubot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dosubot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dosubot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dosubot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dosubot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-10-01T14:20:12Z","label":{"name":"react","color":"f9d0c4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361256263","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3361256263","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3361256263,"node_id":"IC_kwDOAzqfmc7IWLNH","user":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-02T13:35:33Z","updated_at":"2025-10-02T13:36:45Z","body":"I found the root cause of the issue,but I‚Äôm not sure whether it‚Äôs something Storybook needs to fix or if it‚Äôs intended behavior.\n\nStorybook globally overrides `HTMLElement.prototype.focus`, changing it from a normal function property into a `getter` accessor property (in `code/core/src/test/preview.ts`).\n\n```ts\nObject.defineProperties(HTMLElement.prototype, {  \n  focus: {  \n    configurable: true,  \n    set: (newFocus: () => void) => {  \n      currentFocus = newFocus;  \n      patchedFocus = true;  \n    },  \n    get: () => {  \n      return currentFocus;  \n    },  \n  },  \n});\n```\n\nWhen a focus event is triggered (via mouse click, keyboard arrow keys, etc.),\nan internal function in the **Cally** library accesses this modified `focus` property, which then triggers its own infinite recursion bug.\n\nIf I add a log in the getter:\n\n```ts\nget: () => {  \n  console.log(\"Event triggering\");  \n  return currentFocus;  \n},\n```\n\nWhen a focus event is triggered, it results in:\n\n```log\n9454 Event triggering              chunk-JMF622MS.js?v=e59c3cb5:17153\nUncaught RangeError: Maximum call stack size exceeded  chunk-JMF622MS.js?v=e59c3cb5:17152\n    at HTMLButtonElement.get [as focus] (chunk-JMF622MS.js?v=e59c3cb5:17152:23)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:54)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n    at HTMLButtonElement.r (cally.js?v=cccb3b49:926:56)\n...\n```\n\nI was able to work around this (though I haven‚Äôt done further tests yet):\nWhen an element‚Äôs `.focus` method is accessed for the first time, I ‚Äúmark‚Äù it using a `Set`. Then, with `setTimeout(..., 0)`, I defer the ‚Äúunmark‚Äù operation until after the current synchronous execution finishes. After doing this, Cally‚Äôs behavior appears to work fine.\n\n\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361256263/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361366220","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3361366220","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3361366220,"node_id":"IC_kwDOAzqfmc7IWmDM","user":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-02T14:02:47Z","updated_at":"2025-10-02T14:02:47Z","body":"Kudos @ia319!\n\nWhere do you set the workaround? Did you modifier the Storybook getter, the code in Cally, or your own event handler? Would you please be able to share some code?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361366220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20060718495,"node_id":"MEE_lADOAzqfmc7PDf5GzwAAAASrtkWf","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20060718495","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:02:48Z","performed_via_github_app":null},{"id":20060718509,"node_id":"SE_lADOAzqfmc7PDf5GzwAAAASrtkWt","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20060718509","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:02:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361460554","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3361460554","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3361460554,"node_id":"IC_kwDOAzqfmc7IW9FK","user":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-02T14:24:17Z","updated_at":"2025-10-02T14:27:57Z","body":"> Kudos [@ia319](https://github.com/ia319)!\n> \n> Where do you set the workaround? Did you modifier the Storybook getter, the code in Cally, or your own event handler? Would you please be able to share some code?\n\nCurrently, the operation component has no errors and the operation behavior is normal.In code/core/src/test/preview.ts\n```ts\n// Must save a real, original `focus` method outside of the patch beforehand\nconst originalFocus = HTMLElement.prototype.focus;\nlet currentFocus = HTMLElement.prototype.focus;\n\n// Use a Set to track elements that are currently undergoing a focus operation\nconst focusingElements = new Set();\n\nif (!patchedFocus) {\n  Object.defineProperties(HTMLElement.prototype, {\n    focus: {\n      configurable: true,\n      set: (newFocus: () => void) => {\n        currentFocus = newFocus;\n        patchedFocus = true;\n      },\n      get() { // 'this' here refers to the DOM element being operated on\n        if (focusingElements.has(this)) {\n          // Recursive call detected; to break the loop, return the original focus method.\n          console.warn('Storybook: Detected a recursive call to the focus getter. Breaking the loop.');\n          return originalFocus;\n        }\n\n        // Add protection marker\n        focusingElements.add(this);\n\n        // Use setTimeout(..., 0) to defer the \"remove marker\" operation to the next event loop.\n        // This ensures the marker persists for the entire synchronous call chain (including all recursive calls).\n        setTimeout(() => focusingElements.delete(this), 0);\n\n        // Return the focus method that should currently be used\n        return currentFocus;\n      },\n    },\n  });\n}\n\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361460554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361572454","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3361572454","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3361572454,"node_id":"IC_kwDOAzqfmc7IXYZm","user":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-02T14:49:31Z","updated_at":"2025-10-02T14:49:31Z","body":"@valentinpalkovic you might be interested in having a look at this one :) Do you reckon @ia319 is on the right track with this workaround? Any advice for them before they open a PR?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3361572454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20061750343,"node_id":"MEE_lADOAzqfmc7PDf5GzwAAAASrxgRH","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20061750343","actor":{"login":"valentinpalkovic","id":5889929,"node_id":"MDQ6VXNlcjU4ODk5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5889929?v=4","gravatar_id":"","url":"https://api.github.com/users/valentinpalkovic","html_url":"https://github.com/valentinpalkovic","followers_url":"https://api.github.com/users/valentinpalkovic/followers","following_url":"https://api.github.com/users/valentinpalkovic/following{/other_user}","gists_url":"https://api.github.com/users/valentinpalkovic/gists{/gist_id}","starred_url":"https://api.github.com/users/valentinpalkovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valentinpalkovic/subscriptions","organizations_url":"https://api.github.com/users/valentinpalkovic/orgs","repos_url":"https://api.github.com/users/valentinpalkovic/repos","events_url":"https://api.github.com/users/valentinpalkovic/events{/privacy}","received_events_url":"https://api.github.com/users/valentinpalkovic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:49:32Z","performed_via_github_app":null},{"id":20061750374,"node_id":"SE_lADOAzqfmc7PDf5GzwAAAASrxgRm","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20061750374","actor":{"login":"valentinpalkovic","id":5889929,"node_id":"MDQ6VXNlcjU4ODk5Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5889929?v=4","gravatar_id":"","url":"https://api.github.com/users/valentinpalkovic","html_url":"https://github.com/valentinpalkovic","followers_url":"https://api.github.com/users/valentinpalkovic/followers","following_url":"https://api.github.com/users/valentinpalkovic/following{/other_user}","gists_url":"https://api.github.com/users/valentinpalkovic/gists{/gist_id}","starred_url":"https://api.github.com/users/valentinpalkovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valentinpalkovic/subscriptions","organizations_url":"https://api.github.com/users/valentinpalkovic/orgs","repos_url":"https://api.github.com/users/valentinpalkovic/repos","events_url":"https://api.github.com/users/valentinpalkovic/events{/privacy}","received_events_url":"https://api.github.com/users/valentinpalkovic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:49:32Z","performed_via_github_app":null},{"id":20061750422,"node_id":"MEE_lADOAzqfmc7PDf5GzwAAAASrxgSW","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20061750422","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:49:32Z","performed_via_github_app":null},{"id":20061750443,"node_id":"SE_lADOAzqfmc7PDf5GzwAAAASrxgSr","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20061750443","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-10-02T14:49:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3372621076","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3372621076","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3372621076,"node_id":"IC_kwDOAzqfmc7JBh0U","user":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-06T16:22:19Z","updated_at":"2025-10-06T16:22:19Z","body":"As Valentin is OOO, let's go ahead with opening a PR and seeing how the CI reacts.\n\nFYI, this code will need to be tested against stories that use Chakra UI and react-aria-components, as those are the two libraries that needed the patched `focus` in the first place.\n\nThe easiest way to do that is to create a local react-vite sandbox and add relevant RAC/Chakra UI code samples to it. Feel free to commit the sandbox to a Git repo or to StackBlitz if you want to share it with your reviewers and save them time!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3372621076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20132862711,"node_id":"REFE_lADOAzqfmc7PDf5GzwAAAASwAxr3","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20132862711","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8b67a74802ab6a8775a3f641e9e60398b5e9db18","commit_url":"https://api.github.com/repos/ia319/storybook/commits/8b67a74802ab6a8775a3f641e9e60398b5e9db18","created_at":"2025-10-07T06:19:43Z","performed_via_github_app":null},{"actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T06:42:22Z","updated_at":"2025-10-07T06:42:22Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/32655","repository_url":"https://api.github.com/repos/storybookjs/storybook","labels_url":"https://api.github.com/repos/storybookjs/storybook/issues/32655/labels{/name}","comments_url":"https://api.github.com/repos/storybookjs/storybook/issues/32655/comments","events_url":"https://api.github.com/repos/storybookjs/storybook/issues/32655/events","html_url":"https://github.com/storybookjs/storybook/pull/32655","id":3490168937,"node_id":"PR_kwDOAzqfmc6sbQWI","number":32655,"title":"Core: Add reentry guard to focus patch","user":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":343576454,"node_id":"MDU6TGFiZWwzNDM1NzY0NTQ=","url":"https://api.github.com/repos/storybookjs/storybook/labels/bug","name":"bug","color":"EB484F","default":true,"description":null},{"id":786624925,"node_id":"MDU6TGFiZWw3ODY2MjQ5MjU=","url":"https://api.github.com/repos/storybookjs/storybook/labels/patch:yes","name":"patch:yes","color":"09e55d","default":false,"description":"Bugfix & documentation PR that need to be picked to main branch"},{"id":857670581,"node_id":"MDU6TGFiZWw4NTc2NzA1ODE=","url":"https://api.github.com/repos/storybookjs/storybook/labels/patch:done","name":"patch:done","color":"9fe050","default":false,"description":"Patch/release PRs already cherry-picked to main/release branch"},{"id":5704274625,"node_id":"LA_kwDOAzqfmc8AAAABVABSwQ","url":"https://api.github.com/repos/storybookjs/storybook/labels/ci:normal","name":"ci:normal","color":"A3FD9A","default":false,"description":""},{"id":6356276807,"node_id":"LA_kwDOAzqfmc8AAAABet0WRw","url":"https://api.github.com/repos/storybookjs/storybook/labels/test%20utilities","name":"test utilities","color":"FBCA04","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"yannbf","id":1671563,"node_id":"MDQ6VXNlcjE2NzE1NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1671563?v=4","gravatar_id":"","url":"https://api.github.com/users/yannbf","html_url":"https://github.com/yannbf","followers_url":"https://api.github.com/users/yannbf/followers","following_url":"https://api.github.com/users/yannbf/following{/other_user}","gists_url":"https://api.github.com/users/yannbf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannbf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannbf/subscriptions","organizations_url":"https://api.github.com/users/yannbf/orgs","repos_url":"https://api.github.com/users/yannbf/repos","events_url":"https://api.github.com/users/yannbf/events{/privacy}","received_events_url":"https://api.github.com/users/yannbf/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"yannbf","id":1671563,"node_id":"MDQ6VXNlcjE2NzE1NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1671563?v=4","gravatar_id":"","url":"https://api.github.com/users/yannbf","html_url":"https://github.com/yannbf","followers_url":"https://api.github.com/users/yannbf/followers","following_url":"https://api.github.com/users/yannbf/following{/other_user}","gists_url":"https://api.github.com/users/yannbf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannbf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannbf/subscriptions","organizations_url":"https://api.github.com/users/yannbf/orgs","repos_url":"https://api.github.com/users/yannbf/repos","events_url":"https://api.github.com/users/yannbf/events{/privacy}","received_events_url":"https://api.github.com/users/yannbf/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2025-10-07T06:42:21Z","updated_at":"2025-11-05T16:37:52Z","closed_at":"2025-11-04T16:43:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":54173593,"node_id":"MDEwOlJlcG9zaXRvcnk1NDE3MzU5Mw==","name":"storybook","full_name":"storybookjs/storybook","private":false,"owner":{"login":"storybookjs","id":22632046,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIyNjMyMDQ2","avatar_url":"https://avatars.githubusercontent.com/u/22632046?v=4","gravatar_id":"","url":"https://api.github.com/users/storybookjs","html_url":"https://github.com/storybookjs","followers_url":"https://api.github.com/users/storybookjs/followers","following_url":"https://api.github.com/users/storybookjs/following{/other_user}","gists_url":"https://api.github.com/users/storybookjs/gists{/gist_id}","starred_url":"https://api.github.com/users/storybookjs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/storybookjs/subscriptions","organizations_url":"https://api.github.com/users/storybookjs/orgs","repos_url":"https://api.github.com/users/storybookjs/repos","events_url":"https://api.github.com/users/storybookjs/events{/privacy}","received_events_url":"https://api.github.com/users/storybookjs/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/storybookjs/storybook","description":"Storybook is the industry standard workshop for building, documenting, and testing UI components in isolation","fork":false,"url":"https://api.github.com/repos/storybookjs/storybook","forks_url":"https://api.github.com/repos/storybookjs/storybook/forks","keys_url":"https://api.github.com/repos/storybookjs/storybook/keys{/key_id}","collaborators_url":"https://api.github.com/repos/storybookjs/storybook/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/storybookjs/storybook/teams","hooks_url":"https://api.github.com/repos/storybookjs/storybook/hooks","issue_events_url":"https://api.github.com/repos/storybookjs/storybook/issues/events{/number}","events_url":"https://api.github.com/repos/storybookjs/storybook/events","assignees_url":"https://api.github.com/repos/storybookjs/storybook/assignees{/user}","branches_url":"https://api.github.com/repos/storybookjs/storybook/branches{/branch}","tags_url":"https://api.github.com/repos/storybookjs/storybook/tags","blobs_url":"https://api.github.com/repos/storybookjs/storybook/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/storybookjs/storybook/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/storybookjs/storybook/git/refs{/sha}","trees_url":"https://api.github.com/repos/storybookjs/storybook/git/trees{/sha}","statuses_url":"https://api.github.com/repos/storybookjs/storybook/statuses/{sha}","languages_url":"https://api.github.com/repos/storybookjs/storybook/languages","stargazers_url":"https://api.github.com/repos/storybookjs/storybook/stargazers","contributors_url":"https://api.github.com/repos/storybookjs/storybook/contributors","subscribers_url":"https://api.github.com/repos/storybookjs/storybook/subscribers","subscription_url":"https://api.github.com/repos/storybookjs/storybook/subscription","commits_url":"https://api.github.com/repos/storybookjs/storybook/commits{/sha}","git_commits_url":"https://api.github.com/repos/storybookjs/storybook/git/commits{/sha}","comments_url":"https://api.github.com/repos/storybookjs/storybook/comments{/number}","issue_comment_url":"https://api.github.com/repos/storybookjs/storybook/issues/comments{/number}","contents_url":"https://api.github.com/repos/storybookjs/storybook/contents/{+path}","compare_url":"https://api.github.com/repos/storybookjs/storybook/compare/{base}...{head}","merges_url":"https://api.github.com/repos/storybookjs/storybook/merges","archive_url":"https://api.github.com/repos/storybookjs/storybook/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/storybookjs/storybook/downloads","issues_url":"https://api.github.com/repos/storybookjs/storybook/issues{/number}","pulls_url":"https://api.github.com/repos/storybookjs/storybook/pulls{/number}","milestones_url":"https://api.github.com/repos/storybookjs/storybook/milestones{/number}","notifications_url":"https://api.github.com/repos/storybookjs/storybook/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/storybookjs/storybook/labels{/name}","releases_url":"https://api.github.com/repos/storybookjs/storybook/releases{/id}","deployments_url":"https://api.github.com/repos/storybookjs/storybook/deployments","created_at":"2016-03-18T04:23:44Z","updated_at":"2025-11-09T19:05:22Z","pushed_at":"2025-11-09T13:10:47Z","git_url":"git://github.com/storybookjs/storybook.git","ssh_url":"git@github.com:storybookjs/storybook.git","clone_url":"https://github.com/storybookjs/storybook.git","svn_url":"https://github.com/storybookjs/storybook","homepage":"https://storybook.js.org","size":1063804,"stargazers_count":88616,"watchers_count":88616,"language":"TypeScript","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":9775,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2245,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["angular","components","design-systems","documentation","html","javascript","react","react-native","stories","storybook","styleguide","svelte","testing","typescript","ui","vite","vue","web-components","webpack","workshop"],"visibility":"public","forks":9775,"open_issues":2245,"watchers":88616,"default_branch":"next","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/storybookjs/storybook/pulls/32655","html_url":"https://github.com/storybookjs/storybook/pull/32655","diff_url":"https://github.com/storybookjs/storybook/pull/32655.diff","patch_url":"https://github.com/storybookjs/storybook/pull/32655.patch","merged_at":"2025-11-04T16:43:38Z"},"body":"Closes #32603\r\n\r\n<!-- If your PR is related to an issue, provide the number(s) above; if it resolves multiple issues, be sure to break them up (e.g. \"closes #1000, closes #1001\"). -->\r\n\r\n<!--\r\n\r\nThank you for contributing to Storybook! Please submit all PRs to the `next` branch unless they are specific to the current release. Storybook maintainers cherry-pick bug and documentation fixes into the `main` branch as part of the release process, so you shouldn't need to worry about this. For additional guidance: https://storybook.js.org/docs/contribute\r\n\r\n-->\r\n\r\n## What I did\r\n\r\n<!-- Briefly describe what your PR does -->\r\n- add a reentrancy protection mechanism to the patched  getter\r\n- use a Set to track active elements within the current call stack and setTimeout to defer cleanup, preventing recursive focus calls.\r\n\r\n## Checklist for Contributors\r\n\r\n### Testing\r\n\r\n<!-- Please check (put an \"x\" inside the \"[ ]\") the applicable items below to communicate how to test your changes -->\r\n\r\n#### The changes in this PR are covered in the following automated tests:\r\n\r\n- [x] stories\r\n- [x] unit tests\r\nThere is an error:\r\n```bash\r\n‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 1 ‚éØ‚éØ‚éØ‚éØ‚éØ\r\n\r\n FAIL   @storybook/cli  test/default/cli.test.cjs > help command\r\nAssertionError: expected '(node:2813) [DEP0190] DeprecationWarn‚Ä¶' to be '' // Object.is equality\r\n\r\n- Expected\r\n+ Received\r\n\r\n+ (node:2813) [DEP0190] DeprecationWarning: Passing args to a child process with shell option true can lead to security vulnerabilities, as the arguments are not escaped, only concatenated.                                           \r\n+ (Use `node --trace-deprecation ...` to show where the warning was created)\r\n+\r\n\r\n ‚ùØ test/default/cli.test.cjs:21:24\r\n     19|   const stdoutString = cleanLog(stdout.toString());\r\n     20| \r\n     21|   expect(stderrString).toBe('');\r\n       |                        ^\r\n     22|   expect(stdoutString).toContain('init');\r\n     23|   expect(stdoutString).toContain('Initialize Storybook into your project');\r\n\r\n\r\n Test Files  1 failed | 473 passed | 17 skipped (491)\r\n      Tests  1 failed | 4450 passed | 45 skipped | 2 todo (4498)\r\nType Errors  no errors\r\n   Start at  14:33:03\r\n   Duration  427.61s (transform 442.96s, setup 3128.87s, collect 1683.45s, tests 369.15s, environment 15.06s, prepare 46724.53s, typecheck 18.95s)\r\n```\r\n- [ ] integration tests\r\n- [ ] end-to-end tests\r\n\r\n#### Manual testing\r\nCreated a sandbox and added stories for the Cally, Chakra, and React Aria Components libraries.\r\nAfter testing the pages, everything worked as expected with no errors.\r\nSandbox link:https://github.com/ia319/storybook-react-vite-focus-sandbox\r\n\r\n<!-- Please include the steps to test your changes here. For example:\r\n\r\n1. Run a sandbox for template, e.g. `yarn task --task sandbox --start-from auto --template react-vite/default-ts`\r\n2. Open Storybook in your browser\r\n3. Access X story\r\n\r\n-->\r\n\r\n### Documentation\r\n\r\n<!-- Please check (put an \"x\" inside the \"[ ]\") the applicable items below to indicate which documentation has been updated. -->\r\n\r\n- [ ] Add or update documentation reflecting your changes\r\n- [ ] If you are deprecating/removing a feature, make sure to update\r\n      [MIGRATION.MD](https://github.com/storybookjs/storybook/blob/next/MIGRATION.md)\r\n\r\n## Checklist for Maintainers\r\n\r\n- [ ] When this PR is ready for testing, make sure to add `ci:normal`, `ci:merged` or `ci:daily` GH label to it to run a specific set of sandboxes. The particular set of sandboxes can be found in `code/lib/cli-storybook/src/sandbox-templates.ts`\r\n- [ ] Make sure this PR contains **one** of the labels below:\r\n   <details>\r\n     <summary>Available labels</summary>\r\n\r\n  - `bug`: Internal changes that fixes incorrect behavior.\r\n  - `maintenance`: User-facing maintenance tasks.\r\n  - `dependencies`: Upgrading (sometimes downgrading) dependencies.\r\n  - `build`: Internal-facing build tooling & test updates. Will not show up in release changelog.\r\n  - `cleanup`: Minor cleanup style change. Will not show up in release changelog.\r\n  - `documentation`: Documentation **only** changes. Will not show up in release changelog.\r\n  - `feature request`: Introducing a new feature.\r\n  - `BREAKING CHANGE`: Changes that break compatibility in some way with current major version.\r\n  - `other`: Changes that don't fit in the above categories.\r\n\r\n   </details>\r\n\r\n### ü¶ã Canary release\r\n\r\n<!-- CANARY_RELEASE_SECTION -->\r\n\r\nThis PR does not have a canary release associated. You can request a canary release of this pull request by mentioning the `@storybookjs/core` team here.\r\n\r\n_core team members can create a canary release [here](https://github.com/storybookjs/storybook/actions/workflows/canary-release-pr.yml) or locally with `gh workflow run --repo storybookjs/storybook canary-release-pr.yml --field pr=<PR_NUMBER>`_\r\n\r\n<!-- CANARY_RELEASE_SECTION -->\r\n\r\n<!-- BENCHMARK_SECTION -->\r\n<!-- BENCHMARK_SECTION -->\r\n\n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n## Summary by CodeRabbit\n\n* **Bug Fixes**\n  * Fixed a rare recursive-focus issue that could cause UI freezes or crashes.\n  * Improved stability of programmatic focus during rapid focus changes.\n  * Prevented focus-related lockups to enhance keyboard navigation and accessibility.\n  * Reduced risk of stack overflows in complex focus chains for smoother behavior in dialogs, modals, and interactive components.\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/32655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/storybookjs/storybook/issues/32655/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3375450625","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3375450625","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3375450625,"node_id":"IC_kwDOAzqfmc7JMUoB","user":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-10-07T06:49:29Z","updated_at":"2025-10-07T06:49:29Z","body":"> As Valentin is OOO, let's go ahead with opening a PR and seeing how the CI reacts.\n> \n> FYI, this code will need to be tested against stories that use Chakra UI and react-aria-components, as those are the two libraries that needed the patched `focus` in the first place.\n> \n> The easiest way to do that is to create a local react-vite sandbox and add relevant RAC/Chakra UI code samples to it. Feel free to commit the sandbox to a Git repo or to StackBlitz if you want to share it with your reviewers and save them time!\n\nI submitted a PR (#32655) and created a sandbox that includes three libraries.\nOne of the unit tests seems to have failed, but it doesn‚Äôt appear to be caused by my changes, and I‚Äôm not sure how to handle it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3375450625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3479593917","html_url":"https://github.com/storybookjs/storybook/issues/32603#issuecomment-3479593917","issue_url":"https://api.github.com/repos/storybookjs/storybook/issues/32603","id":3479593917,"node_id":"IC_kwDOAzqfmc7PZmO9","user":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-11-03T09:20:57Z","updated_at":"2025-11-03T09:20:57Z","body":"> I submitted a PR ([#32655](https://github.com/storybookjs/storybook/pull/32655)) and created a sandbox that includes three libraries. One of the unit tests seems to have failed, but it doesn‚Äôt appear to be caused by my changes, and I‚Äôm not sure how to handle it.\n\nThanks @ia319! üôè\n\nThe team has been very busy with Storybook 10's release, so we're taking a bit longer than usual to review PRs. No action needed on your end.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/storybookjs/storybook/issues/comments/3479593917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":20669763431,"node_id":"MEE_lADOAzqfmc7PDf5GzwAAAATQA49n","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20669763431","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-11-03T09:20:58Z","performed_via_github_app":null},{"id":20669763484,"node_id":"SE_lADOAzqfmc7PDf5GzwAAAATQA4-c","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20669763484","actor":{"login":"ia319","id":160205478,"node_id":"U_kgDOCYyKpg","avatar_url":"https://avatars.githubusercontent.com/u/160205478?v=4","gravatar_id":"","url":"https://api.github.com/users/ia319","html_url":"https://github.com/ia319","followers_url":"https://api.github.com/users/ia319/followers","following_url":"https://api.github.com/users/ia319/following{/other_user}","gists_url":"https://api.github.com/users/ia319/gists{/gist_id}","starred_url":"https://api.github.com/users/ia319/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ia319/subscriptions","organizations_url":"https://api.github.com/users/ia319/orgs","repos_url":"https://api.github.com/users/ia319/repos","events_url":"https://api.github.com/users/ia319/events{/privacy}","received_events_url":"https://api.github.com/users/ia319/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-11-03T09:20:58Z","performed_via_github_app":null},{"id":20669776556,"node_id":"LE_lADOAzqfmc7PDf5GzwAAAATQA8Ks","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20669776556","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-11-03T09:21:37Z","label":{"name":"test utilities","color":"FBCA04"},"performed_via_github_app":null},{"id":20669777801,"node_id":"LE_lADOAzqfmc7PDf5GzwAAAATQA8eJ","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20669777801","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-11-03T09:21:41Z","label":{"name":"addon: pseudo-states","color":"fbca04"},"performed_via_github_app":null},{"id":20669779785,"node_id":"UNLE_lADOAzqfmc7PDf5GzwAAAATQA89J","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20669779785","actor":{"login":"Sidnioulz","id":5108577,"node_id":"MDQ6VXNlcjUxMDg1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5108577?v=4","gravatar_id":"","url":"https://api.github.com/users/Sidnioulz","html_url":"https://github.com/Sidnioulz","followers_url":"https://api.github.com/users/Sidnioulz/followers","following_url":"https://api.github.com/users/Sidnioulz/following{/other_user}","gists_url":"https://api.github.com/users/Sidnioulz/gists{/gist_id}","starred_url":"https://api.github.com/users/Sidnioulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sidnioulz/subscriptions","organizations_url":"https://api.github.com/users/Sidnioulz/orgs","repos_url":"https://api.github.com/users/Sidnioulz/repos","events_url":"https://api.github.com/users/Sidnioulz/events{/privacy}","received_events_url":"https://api.github.com/users/Sidnioulz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2025-11-03T09:21:46Z","label":{"name":"needs triage","color":"D4C5F9"},"performed_via_github_app":null},{"id":20707966986,"node_id":"CE_lADOAzqfmc7PDf5GzwAAAATSSoAK","url":"https://api.github.com/repos/storybookjs/storybook/issues/events/20707966986","actor":{"login":"yannbf","id":1671563,"node_id":"MDQ6VXNlcjE2NzE1NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1671563?v=4","gravatar_id":"","url":"https://api.github.com/users/yannbf","html_url":"https://github.com/yannbf","followers_url":"https://api.github.com/users/yannbf/followers","following_url":"https://api.github.com/users/yannbf/following{/other_user}","gists_url":"https://api.github.com/users/yannbf/gists{/gist_id}","starred_url":"https://api.github.com/users/yannbf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yannbf/subscriptions","organizations_url":"https://api.github.com/users/yannbf/orgs","repos_url":"https://api.github.com/users/yannbf/repos","events_url":"https://api.github.com/users/yannbf/events{/privacy}","received_events_url":"https://api.github.com/users/yannbf/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-11-04T16:43:39Z","state_reason":null,"performed_via_github_app":null}]