{"url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381","repository_url":"https://api.github.com/repos/JodaOrg/joda-time","labels_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381/labels{/name}","comments_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381/comments","events_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381/events","html_url":"https://github.com/JodaOrg/joda-time/issues/381","id":160979875,"node_id":"MDU6SXNzdWUxNjA5Nzk4NzU=","number":381,"title":"Conversion from TimeZone to DateTimeZone fails in Arabic locale","user":{"login":"dalewking","id":346062,"node_id":"MDQ6VXNlcjM0NjA2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/346062?v=4","gravatar_id":"","url":"https://api.github.com/users/dalewking","html_url":"https://github.com/dalewking","followers_url":"https://api.github.com/users/dalewking/followers","following_url":"https://api.github.com/users/dalewking/following{/other_user}","gists_url":"https://api.github.com/users/dalewking/gists{/gist_id}","starred_url":"https://api.github.com/users/dalewking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dalewking/subscriptions","organizations_url":"https://api.github.com/users/dalewking/orgs","repos_url":"https://api.github.com/users/dalewking/repos","events_url":"https://api.github.com/users/dalewking/events{/privacy}","received_events_url":"https://api.github.com/users/dalewking/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":42317739,"node_id":"MDU6TGFiZWw0MjMxNzczOQ==","url":"https://api.github.com/repos/JodaOrg/joda-time/labels/RFE","name":"RFE","color":"006b75","default":false,"description":null},{"id":42318930,"node_id":"MDU6TGFiZWw0MjMxODkzMA==","url":"https://api.github.com/repos/JodaOrg/joda-time/labels/Fixed","name":"Fixed","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-06-17T21:38:58Z","updated_at":"2016-11-18T16:25:34Z","closed_at":"2016-11-10T20:13:53Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Key information\n- Joda-Time version: 2.8.2\n### Problem description\n\nOur code has some verification code to verify that time conversions work correctly. We are getting crashes in the field apparently when the user's phone is set to Arabic language.\n\nThe test case is simply:\n\n```\nTimeZone timeZone = TimeZone.getTimeZone(\"GMT-0800\");\nDateTimeZone dateTimeZone = DateTimeZone.forTimeZone(timeZone);\n```\n\nThis crashes with:\n\n```\nFatal Exception: java.lang.IllegalArgumentException: Invalid format: \"-٠٨:٠٠\" is malformed at \"٠٨:٠٠\"\n       at org.joda.time.format.DateTimeParserBucket.doParseMillis(DateTimeParserBucket.java:187)\n       at org.joda.time.format.DateTimeFormatter.parseMillis(DateTimeFormatter.java:780)\n       at org.joda.time.DateTimeZone.parseOffset(DateTimeZone.java:612)\n       at org.joda.time.DateTimeZone.forTimeZone(DateTimeZone.java:365)\n```\n\n\"٠٨:٠٠\" is 08:00 in Arabic. Apparently TimeZone internally stores the 0800 using the Arabic numerals, which you fail to parse.\n","closed_by":{"login":"jodastephen","id":213212,"node_id":"MDQ6VXNlcjIxMzIxMg==","avatar_url":"https://avatars.githubusercontent.com/u/213212?v=4","gravatar_id":"","url":"https://api.github.com/users/jodastephen","html_url":"https://github.com/jodastephen","followers_url":"https://api.github.com/users/jodastephen/followers","following_url":"https://api.github.com/users/jodastephen/following{/other_user}","gists_url":"https://api.github.com/users/jodastephen/gists{/gist_id}","starred_url":"https://api.github.com/users/jodastephen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jodastephen/subscriptions","organizations_url":"https://api.github.com/users/jodastephen/orgs","repos_url":"https://api.github.com/users/jodastephen/repos","events_url":"https://api.github.com/users/jodastephen/events{/privacy}","received_events_url":"https://api.github.com/users/jodastephen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/381/timeline","performed_via_github_app":null,"state_reason":"completed"}