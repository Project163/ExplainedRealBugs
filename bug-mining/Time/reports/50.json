{"url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227","repository_url":"https://api.github.com/repos/JodaOrg/joda-time","labels_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227/labels{/name}","comments_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227/comments","events_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227/events","html_url":"https://github.com/JodaOrg/joda-time/issues/227","id":54936260,"node_id":"MDU6SXNzdWU1NDkzNjI2MA==","number":227,"title":"Incorrect month-wrapping behavior in MonthDay.plusDays","user":{"login":"dancavallaro","id":44318,"node_id":"MDQ6VXNlcjQ0MzE4","avatar_url":"https://avatars.githubusercontent.com/u/44318?v=4","gravatar_id":"","url":"https://api.github.com/users/dancavallaro","html_url":"https://github.com/dancavallaro","followers_url":"https://api.github.com/users/dancavallaro/followers","following_url":"https://api.github.com/users/dancavallaro/following{/other_user}","gists_url":"https://api.github.com/users/dancavallaro/gists{/gist_id}","starred_url":"https://api.github.com/users/dancavallaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dancavallaro/subscriptions","organizations_url":"https://api.github.com/users/dancavallaro/orgs","repos_url":"https://api.github.com/users/dancavallaro/repos","events_url":"https://api.github.com/users/dancavallaro/events{/privacy}","received_events_url":"https://api.github.com/users/dancavallaro/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":42317690,"node_id":"MDU6TGFiZWw0MjMxNzY5MA==","url":"https://api.github.com/repos/JodaOrg/joda-time/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":null},{"id":42318930,"node_id":"MDU6TGFiZWw0MjMxODkzMA==","url":"https://api.github.com/repos/JodaOrg/joda-time/labels/Fixed","name":"Fixed","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-01-20T20:39:02Z","updated_at":"2015-01-26T21:04:08Z","closed_at":"2015-01-26T20:51:09Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`MonthDay.plusDays` does not return the expected value when adding a number of days that would cause the month to rollover more than once. The following (failing) test case shows the bug:\n\n``` java\npublic void testMonthDayPlusDaysWrapsMonthCorrectly() {\n    MonthDay d = new MonthDay(5,15);\n    assertEquals(d.plusDays(25).plusDays(25), d.plusDays(50));\n}\n```\n\n50 days after 5-15 should be 7-4, but `d.plusDays(50)` gives 6-4 instead. As far as I can tell, the bug is on this line: https://github.com/JodaOrg/joda-time/blob/master/src/main/java/org/joda/time/field/BaseDateTimeField.java#L324. In this example, the problem is on the second iteration of that loop, when the month gets incremented again. It should be incremented from 6 to 7, but the increment is performed on the _original_ month in the `instant` variable, rather than the current month (and `instant` is never updated). Do you agree that this is a bug? \n\nAdditionally, I would like to propose an update to the `MonthDay.plusDays` Javadoc documentation that calls out that calculations that require wrapping past the end of February will be based on an assumption that February has 29 days, which will be incorrect in non-leap years. Calculations that require accuracy in this regard should use a type with a year field. For reference, the `MonthDay` class in the new Java 8 API calls this out in its documentation, and explicitly chose not to support date arithmetic for this very reason: http://docs.oracle.com/javase/8/docs/api/java/time/MonthDay.html.\n\nIf you're amenable to the doc update, I'll go ahead and send a pull request for my proposed change. If you agree the wrapping behavior is a bug, I'm happy to work on a patch (including test cases), but may need some guidance as the fix is not immediately obvious to me. \n","closed_by":{"login":"jodastephen","id":213212,"node_id":"MDQ6VXNlcjIxMzIxMg==","avatar_url":"https://avatars.githubusercontent.com/u/213212?v=4","gravatar_id":"","url":"https://api.github.com/users/jodastephen","html_url":"https://github.com/jodastephen","followers_url":"https://api.github.com/users/jodastephen/followers","following_url":"https://api.github.com/users/jodastephen/following{/other_user}","gists_url":"https://api.github.com/users/jodastephen/gists{/gist_id}","starred_url":"https://api.github.com/users/jodastephen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jodastephen/subscriptions","organizations_url":"https://api.github.com/users/jodastephen/orgs","repos_url":"https://api.github.com/users/jodastephen/repos","events_url":"https://api.github.com/users/jodastephen/events{/privacy}","received_events_url":"https://api.github.com/users/jodastephen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JodaOrg/joda-time/issues/227/timeline","performed_via_github_app":null,"state_reason":"completed"}