[{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459131525","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-459131525","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":459131525,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTEzMTUyNQ==","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-30T22:15:03Z","updated_at":"2019-01-30T22:15:03Z","body":"Go for it! I think we removed that property for some reason, can you investigate?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459131525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459549035","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-459549035","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":459549035,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTU0OTAzNQ==","user":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-31T23:38:15Z","updated_at":"2019-01-31T23:38:15Z","body":"I fixed the problem, PR is coming.\r\n\r\nI'll try to explain the problem as best as I can, because I think could be the start of a discussion:\r\n\r\n1. the `schemas.js#traverse` is executed and all the field with the value that ends with `#` are changed to the shared-schema corresponding\r\n1. all the fields now are pointing to the same object with the `$id` set\r\n1. that `$id` is a fake one, is not regarding the json-schema standard: is only to reference a shared schema with the pattern `<shared-schema-$id>#`\r\n1. so this `$id` is removed, otherwise, the `AJV.checkUnique` will throw an exception if it finds multiple equals `$id`\r\n\r\nSo, this deletion may be done only for those `$id` that are not standard, in other word only for the `$id` used in the shared schema (the PR implement this behaviour)\r\n\r\nâš  Warning:\r\n`$id` and `$ref`, looking the draft07, could be set with a [JSON Pointer](https://www.ietf.org/archive/id/draft-handrews-relative-json-pointer-01.txt). [This is even discouraged](https://tools.ietf.org/html/draft-handrews-json-schema-01#section-8.2.3):\r\n\r\n> Using JSON Pointer fragments requires knowledge of the structure of\r\n   the schema.  When writing schema documents with the intention to\r\n   provide re-usable schemas, it may be preferable to use a plain name\r\n   fragment\r\n\r\nThe warning is due the pattern that JSON pointers could have:\r\n\r\n                   \"0/objects\"                 true\r\n                   \"1/nested/objects\"          true\r\n                   \"2/foo/0\"                   \"bar\"\r\n                   \"0#\"                        \"nested\"\r\n                   \"1#\"                        \"highly\"\r\n\r\nThe lastest would match the fastify `<shared-schema-$id>#` and would break the startup.\r\nSo, at the actual state, we need to know that if some one use JSON Pointers in `$id` or `$ref`, will have issues.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459549035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-31T23:46:52Z","updated_at":"2019-01-31T23:46:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fastify/fastify/issues/1425","repository_url":"https://api.github.com/repos/fastify/fastify","labels_url":"https://api.github.com/repos/fastify/fastify/issues/1425/labels{/name}","comments_url":"https://api.github.com/repos/fastify/fastify/issues/1425/comments","events_url":"https://api.github.com/repos/fastify/fastify/issues/1425/events","html_url":"https://github.com/fastify/fastify/pull/1425","id":405490902,"node_id":"MDExOlB1bGxSZXF1ZXN0MjQ5NDQxMzY1","number":1425,"title":"fix: json schema $ref with $id set in definitions","user":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":750220462,"node_id":"MDU6TGFiZWw3NTAyMjA0NjI=","url":"https://api.github.com/repos/fastify/fastify/labels/bugfix","name":"bugfix","color":"e99695","default":false,"description":"Issue or PR that should land as semver patch"},{"id":1144560389,"node_id":"MDU6TGFiZWwxMTQ0NTYwMzg5","url":"https://api.github.com/repos/fastify/fastify/labels/backport%201.x","name":"backport 1.x","color":"dddddd","default":false,"description":"Issue or pr that should be backported to Fastify v1"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-01-31T23:46:52Z","updated_at":"2022-02-11T00:14:08Z","closed_at":"2019-02-02T15:40:02Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":69495170,"node_id":"MDEwOlJlcG9zaXRvcnk2OTQ5NTE3MA==","name":"fastify","full_name":"fastify/fastify","private":false,"owner":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fastify/fastify","description":"Fast and low overhead web framework, for Node.js","fork":false,"url":"https://api.github.com/repos/fastify/fastify","forks_url":"https://api.github.com/repos/fastify/fastify/forks","keys_url":"https://api.github.com/repos/fastify/fastify/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fastify/fastify/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fastify/fastify/teams","hooks_url":"https://api.github.com/repos/fastify/fastify/hooks","issue_events_url":"https://api.github.com/repos/fastify/fastify/issues/events{/number}","events_url":"https://api.github.com/repos/fastify/fastify/events","assignees_url":"https://api.github.com/repos/fastify/fastify/assignees{/user}","branches_url":"https://api.github.com/repos/fastify/fastify/branches{/branch}","tags_url":"https://api.github.com/repos/fastify/fastify/tags","blobs_url":"https://api.github.com/repos/fastify/fastify/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fastify/fastify/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fastify/fastify/git/refs{/sha}","trees_url":"https://api.github.com/repos/fastify/fastify/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fastify/fastify/statuses/{sha}","languages_url":"https://api.github.com/repos/fastify/fastify/languages","stargazers_url":"https://api.github.com/repos/fastify/fastify/stargazers","contributors_url":"https://api.github.com/repos/fastify/fastify/contributors","subscribers_url":"https://api.github.com/repos/fastify/fastify/subscribers","subscription_url":"https://api.github.com/repos/fastify/fastify/subscription","commits_url":"https://api.github.com/repos/fastify/fastify/commits{/sha}","git_commits_url":"https://api.github.com/repos/fastify/fastify/git/commits{/sha}","comments_url":"https://api.github.com/repos/fastify/fastify/comments{/number}","issue_comment_url":"https://api.github.com/repos/fastify/fastify/issues/comments{/number}","contents_url":"https://api.github.com/repos/fastify/fastify/contents/{+path}","compare_url":"https://api.github.com/repos/fastify/fastify/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fastify/fastify/merges","archive_url":"https://api.github.com/repos/fastify/fastify/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fastify/fastify/downloads","issues_url":"https://api.github.com/repos/fastify/fastify/issues{/number}","pulls_url":"https://api.github.com/repos/fastify/fastify/pulls{/number}","milestones_url":"https://api.github.com/repos/fastify/fastify/milestones{/number}","notifications_url":"https://api.github.com/repos/fastify/fastify/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fastify/fastify/labels{/name}","releases_url":"https://api.github.com/repos/fastify/fastify/releases{/id}","deployments_url":"https://api.github.com/repos/fastify/fastify/deployments","created_at":"2016-09-28T19:10:14Z","updated_at":"2025-11-09T19:27:27Z","pushed_at":"2025-11-09T20:20:24Z","git_url":"git://github.com/fastify/fastify.git","ssh_url":"git@github.com:fastify/fastify.git","clone_url":"https://github.com/fastify/fastify.git","svn_url":"https://github.com/fastify/fastify","homepage":"https://www.fastify.dev","size":9357,"stargazers_count":34974,"watchers_count":34974,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2510,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":100,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["hacktoberfest","nodejs","performance","speed","webframework"],"visibility":"public","forks":2510,"open_issues":100,"watchers":34974,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/fastify/fastify/pulls/1425","html_url":"https://github.com/fastify/fastify/pull/1425","diff_url":"https://github.com/fastify/fastify/pull/1425.diff","patch_url":"https://github.com/fastify/fastify/pull/1425.patch","merged_at":"2019-02-02T15:40:02Z"},"body":"This fixes #1419 \r\n\r\nThe pattern used in the code has been written reading the actual [draft standard](https://tools.ietf.org/html/draft-handrews-json-schema-01#section-8.2.3):\r\n\r\n>    To specify such a subschema identifier, the \"$id\" keyword is set to a\r\n>    URI reference with a plain name fragment (not a JSON Pointer\r\n>    fragment).  This value MUST begin with the number sign that specifies\r\n>    a fragment (\"#\"), then a letter ([A-Za-z]), followed by any number of\r\n>    letters, digits ([0-9]), hyphens (\"-\"), underscores (\"_\"), colons\r\n>    (\":\"), or periods (\".\").\r\n\r\n#### Checklist\r\n\r\n- [x] run `npm run test` and `npm run benchmark`\r\n- [x] tests and/or benchmarks are included\r\n- [ ] documentation is changed or added\r\n- [x] commit message and code follows [Code of conduct](https://github.com/fastify/fastify/blob/master/CODE_OF_CONDUCT.md)\r\n","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/1425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastify/fastify/issues/1425/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459638586","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-459638586","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":459638586,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTYzODU4Ng==","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T08:00:48Z","updated_at":"2019-02-01T08:00:48Z","body":"@Eomm do we support \"plain name fragments\"?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459638586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2111514037,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjExMTUxNDAzNw==","url":"https://api.github.com/repos/fastify/fastify/issues/events/2111514037","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-01T08:00:48Z","performed_via_github_app":null},{"id":2111514038,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxMTE1MTQwMzg=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2111514038","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-01T08:00:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459872495","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-459872495","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":459872495,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTg3MjQ5NQ==","user":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T21:23:58Z","updated_at":"2019-02-01T21:23:58Z","body":"Sorry, false alarm ðŸ˜…\r\n\r\nI would like to explain for the future: reading the json-schema draft 07 the `$id` MUST be a string, and MUST represent a valid URI-reference. \r\nThis value defines a URI for the json-schema itself.\r\n\r\nSo, either the `$id` and the `$ref` field must have a URI value.\r\n\r\nAn URI could be like:\r\n\r\n| Format | Regexp | Example | Note\r\n|---|---|---|---|\r\n| Plain name fragment | `^#[A-Za-z]{1}[\\w-:.]{0,}$` | `#my-id` | In the root schema there is a `$id=#my-id`\r\n| JSON Pointer fragment | [here](https://tools.ietf.org/html/rfc6901#section-6) | `#/definitions/address` | In the `definitions` there is a field `address: { type: 'object' ....etc...}`\r\n| JSON Relative Pointer | [here](https://tools.ietf.org/html/draft-handrews-relative-json-pointer-01#section-6) | `1#` | âŒ WRONG this format can't be used like an URI âŒ\r\n\r\nIn the json-relative-pointer standard is written:\r\n\r\n> Unlike a JSON Pointer, a Relative JSON Pointer can not be used in a URI fragment identifier.\r\n\r\nAnd also in the json-schema draft is written:\r\n\r\n> The effect of using a fragment in \"$id\" that isn't blank or doesn't follow the plain name syntax is undefined\r\n\r\nSo, I don't know why the json-schema site show the link to the json-relative-pointer in the home page if they don't want to use it ðŸ˜…\r\n\r\nAnyway this is perfect because we will never have collision with the shared-schema feature.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459872495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459875877","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-459875877","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":459875877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTg3NTg3Nw==","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T21:36:11Z","updated_at":"2019-02-01T21:36:11Z","body":"Open an issue on the website, I think they should be fixing it.\r\nI don't understand what would be the solution for us.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/459875877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-01T22:22:30Z","updated_at":"2019-02-01T22:22:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255","repository_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io","labels_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255/comments","events_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255/events","html_url":"https://github.com/json-schema-org/json-schema-org.github.io/issues/255","id":405896979,"node_id":"MDU6SXNzdWU0MDU4OTY5Nzk=","number":255,"title":"JSON Relative Pointer confusing link","user":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-02-01T22:22:30Z","updated_at":"2019-02-03T11:14:33Z","closed_at":"2019-02-03T02:35:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":37927074,"node_id":"MDEwOlJlcG9zaXRvcnkzNzkyNzA3NA==","name":"json-schema-org.github.io","full_name":"json-schema-org/json-schema-org.github.io","private":false,"owner":{"login":"json-schema-org","id":13019229,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzMDE5MjI5","avatar_url":"https://avatars.githubusercontent.com/u/13019229?v=4","gravatar_id":"","url":"https://api.github.com/users/json-schema-org","html_url":"https://github.com/json-schema-org","followers_url":"https://api.github.com/users/json-schema-org/followers","following_url":"https://api.github.com/users/json-schema-org/following{/other_user}","gists_url":"https://api.github.com/users/json-schema-org/gists{/gist_id}","starred_url":"https://api.github.com/users/json-schema-org/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/json-schema-org/subscriptions","organizations_url":"https://api.github.com/users/json-schema-org/orgs","repos_url":"https://api.github.com/users/json-schema-org/repos","events_url":"https://api.github.com/users/json-schema-org/events{/privacy}","received_events_url":"https://api.github.com/users/json-schema-org/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/json-schema-org/json-schema-org.github.io","description":"JSON Schema website","fork":false,"url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io","forks_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/forks","keys_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/keys{/key_id}","collaborators_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/teams","hooks_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/hooks","issue_events_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/events{/number}","events_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/events","assignees_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/assignees{/user}","branches_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/branches{/branch}","tags_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/tags","blobs_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/git/refs{/sha}","trees_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/git/trees{/sha}","statuses_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/statuses/{sha}","languages_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/languages","stargazers_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/stargazers","contributors_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/contributors","subscribers_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/subscribers","subscription_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/subscription","commits_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/commits{/sha}","git_commits_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/git/commits{/sha}","comments_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/comments{/number}","issue_comment_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/comments{/number}","contents_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/contents/{+path}","compare_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/compare/{base}...{head}","merges_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/merges","archive_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/downloads","issues_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues{/number}","pulls_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/pulls{/number}","milestones_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/milestones{/number}","notifications_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/labels{/name}","releases_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/releases{/id}","deployments_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/deployments","created_at":"2015-06-23T15:19:04Z","updated_at":"2025-08-07T12:21:00Z","pushed_at":"2023-10-24T14:52:54Z","git_url":"git://github.com/json-schema-org/json-schema-org.github.io.git","ssh_url":"git@github.com:json-schema-org/json-schema-org.github.io.git","clone_url":"https://github.com/json-schema-org/json-schema-org.github.io.git","svn_url":"https://github.com/json-schema-org/json-schema-org.github.io","homepage":"http://json-schema.org","size":2205,"stargazers_count":294,"watchers_count":294,"language":"HTML","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":211,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":0,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ietf","json-schema"],"visibility":"public","forks":211,"open_issues":0,"watchers":294,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi,\r\nin the home page of the site, there is the link to the JSON Relative Pointer.\r\n\r\nAfter reading the standard I understand that this spec is discouraged and not supported as well.\r\n\r\n[the spec core](https://tools.ietf.org/html/draft-handrews-json-schema-01#section-8.2.3) says\r\n\r\n> The effect of using a fragment in \"$id\" that isn't blank or doesn't follow the plain name syntax is undefined\r\n\r\n[the json relative pointer itself](https://tools.ietf.org/html/draft-handrews-relative-json-pointer-01#section-6) says \r\n> Unlike a JSON Pointer, a Relative JSON Pointer can not be used in a URI fragment identifier.\r\n\r\nSo why there is that link in the home page? Could it be consider only confusing? Because it took me in the wrong path ðŸ˜…\r\n\r\nThank you for you help\r\n\r\nhere the source of my consideration that I reported here https://github.com/fastify/fastify/issues/1419#issuecomment-459872495 ","reactions":{"url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/json-schema-org/json-schema-org.github.io/issues/255/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":2113885431,"node_id":"MDExOkNsb3NlZEV2ZW50MjExMzg4NTQzMQ==","url":"https://api.github.com/repos/fastify/fastify/issues/events/2113885431","actor":{"login":"delvedor","id":4865608,"node_id":"MDQ6VXNlcjQ4NjU2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4865608?v=4","gravatar_id":"","url":"https://api.github.com/users/delvedor","html_url":"https://github.com/delvedor","followers_url":"https://api.github.com/users/delvedor/followers","following_url":"https://api.github.com/users/delvedor/following{/other_user}","gists_url":"https://api.github.com/users/delvedor/gists{/gist_id}","starred_url":"https://api.github.com/users/delvedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvedor/subscriptions","organizations_url":"https://api.github.com/users/delvedor/orgs","repos_url":"https://api.github.com/users/delvedor/repos","events_url":"https://api.github.com/users/delvedor/events{/privacy}","received_events_url":"https://api.github.com/users/delvedor/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-02-02T15:40:02Z","state_reason":null,"performed_via_github_app":null},{"id":2113885438,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxMTM4ODU0Mzg=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2113885438","actor":{"login":"delvedor","id":4865608,"node_id":"MDQ6VXNlcjQ4NjU2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4865608?v=4","gravatar_id":"","url":"https://api.github.com/users/delvedor","html_url":"https://github.com/delvedor","followers_url":"https://api.github.com/users/delvedor/followers","following_url":"https://api.github.com/users/delvedor/following{/other_user}","gists_url":"https://api.github.com/users/delvedor/gists{/gist_id}","starred_url":"https://api.github.com/users/delvedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvedor/subscriptions","organizations_url":"https://api.github.com/users/delvedor/orgs","repos_url":"https://api.github.com/users/delvedor/repos","events_url":"https://api.github.com/users/delvedor/events{/privacy}","received_events_url":"https://api.github.com/users/delvedor/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"21f387851137cfc1cfd28afbcfcdbbc024d842f4","commit_url":"https://api.github.com/repos/fastify/fastify/commits/21f387851137cfc1cfd28afbcfcdbbc024d842f4","created_at":"2019-02-02T15:40:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/460017489","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-460017489","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":460017489,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDAxNzQ4OQ==","user":{"login":"handrews","id":2358015,"node_id":"MDQ6VXNlcjIzNTgwMTU=","avatar_url":"https://avatars.githubusercontent.com/u/2358015?v=4","gravatar_id":"","url":"https://api.github.com/users/handrews","html_url":"https://github.com/handrews","followers_url":"https://api.github.com/users/handrews/followers","following_url":"https://api.github.com/users/handrews/following{/other_user}","gists_url":"https://api.github.com/users/handrews/gists{/gist_id}","starred_url":"https://api.github.com/users/handrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handrews/subscriptions","organizations_url":"https://api.github.com/users/handrews/orgs","repos_url":"https://api.github.com/users/handrews/repos","events_url":"https://api.github.com/users/handrews/events{/privacy}","received_events_url":"https://api.github.com/users/handrews/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-03T02:33:22Z","updated_at":"2019-02-03T02:33:22Z","body":"@mcollina @Eomm JSON Relative Pointer is a proposed standard maintained by the JSON Schema project (and it will be re-submitted when we re-submit the others- they are all temporarily expired for reasons not worth going into here).\r\n\r\nIn particular, JSON Relative Pointer is used by JSON Hyper-Schema.  It is not used in the URI Fragment syntax for the `application/schema+json` or `application/schema-instance+json` media types, but it is used elsewhere in the project.\r\n\r\nAs @Eomm notes, the specification for `$id` is quite clear on this already.  JSON Pointer and JSON Relative Pointer are separate specifications, and only JSON Pointer and plain name are allowed.\r\n\r\nIn the original example posted above, `'$id': '#address'` is a valid plain name fragment identifier.  I personally find naming the definition `#address` as well somewhat confusing (because then it looks like they have to match, which they don't), but it's a legal definition name.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/460017489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"handrews","id":2358015,"node_id":"MDQ6VXNlcjIzNTgwMTU=","avatar_url":"https://avatars.githubusercontent.com/u/2358015?v=4","gravatar_id":"","url":"https://api.github.com/users/handrews","html_url":"https://github.com/handrews","followers_url":"https://api.github.com/users/handrews/followers","following_url":"https://api.github.com/users/handrews/following{/other_user}","gists_url":"https://api.github.com/users/handrews/gists{/gist_id}","starred_url":"https://api.github.com/users/handrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handrews/subscriptions","organizations_url":"https://api.github.com/users/handrews/orgs","repos_url":"https://api.github.com/users/handrews/repos","events_url":"https://api.github.com/users/handrews/events{/privacy}","received_events_url":"https://api.github.com/users/handrews/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2114119135,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjExNDExOTEzNQ==","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114119135","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-03T02:33:22Z","performed_via_github_app":null},{"id":2114119136,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxMTQxMTkxMzY=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114119136","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-03T02:33:22Z","performed_via_github_app":null},{"id":2114119137,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjExNDExOTEzNw==","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114119137","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-03T02:33:22Z","performed_via_github_app":null},{"id":2114119138,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxMTQxMTkxMzg=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114119138","actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-03T02:33:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/460033339","html_url":"https://github.com/fastify/fastify/issues/1419#issuecomment-460033339","issue_url":"https://api.github.com/repos/fastify/fastify/issues/1419","id":460033339,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDAzMzMzOQ==","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-03T08:38:11Z","updated_at":"2019-02-03T08:38:11Z","body":"Thanks for joining the discussion @handrews and for the explanation!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/460033339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2114207175,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjExNDIwNzE3NQ==","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114207175","actor":{"login":"handrews","id":2358015,"node_id":"MDQ6VXNlcjIzNTgwMTU=","avatar_url":"https://avatars.githubusercontent.com/u/2358015?v=4","gravatar_id":"","url":"https://api.github.com/users/handrews","html_url":"https://github.com/handrews","followers_url":"https://api.github.com/users/handrews/followers","following_url":"https://api.github.com/users/handrews/following{/other_user}","gists_url":"https://api.github.com/users/handrews/gists{/gist_id}","starred_url":"https://api.github.com/users/handrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handrews/subscriptions","organizations_url":"https://api.github.com/users/handrews/orgs","repos_url":"https://api.github.com/users/handrews/repos","events_url":"https://api.github.com/users/handrews/events{/privacy}","received_events_url":"https://api.github.com/users/handrews/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-02-03T08:38:11Z","performed_via_github_app":null},{"id":2114207176,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxMTQyMDcxNzY=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2114207176","actor":{"login":"handrews","id":2358015,"node_id":"MDQ6VXNlcjIzNTgwMTU=","avatar_url":"https://avatars.githubusercontent.com/u/2358015?v=4","gravatar_id":"","url":"https://api.github.com/users/handrews","html_url":"https://github.com/handrews","followers_url":"https://api.github.com/users/handrews/followers","following_url":"https://api.github.com/users/handrews/following{/other_user}","gists_url":"https://api.github.com/users/handrews/gists{/gist_id}","starred_url":"https://api.github.com/users/handrews/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handrews/subscriptions","organizations_url":"https://api.github.com/users/handrews/orgs","repos_url":"https://api.github.com/users/handrews/repos","events_url":"https://api.github.com/users/handrews/events{/privacy}","received_events_url":"https://api.github.com/users/handrews/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-02-03T08:38:12Z","performed_via_github_app":null},{"id":2115962691,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxMTU5NjI2OTE=","url":"https://api.github.com/repos/fastify/fastify/issues/events/2115962691","actor":{"login":"delvedor","id":4865608,"node_id":"MDQ6VXNlcjQ4NjU2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4865608?v=4","gravatar_id":"","url":"https://api.github.com/users/delvedor","html_url":"https://github.com/delvedor","followers_url":"https://api.github.com/users/delvedor/followers","following_url":"https://api.github.com/users/delvedor/following{/other_user}","gists_url":"https://api.github.com/users/delvedor/gists{/gist_id}","starred_url":"https://api.github.com/users/delvedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvedor/subscriptions","organizations_url":"https://api.github.com/users/delvedor/orgs","repos_url":"https://api.github.com/users/delvedor/repos","events_url":"https://api.github.com/users/delvedor/events{/privacy}","received_events_url":"https://api.github.com/users/delvedor/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f0dacb94d1fb00c265e2deca5e6ee3b05d578ddd","commit_url":"https://api.github.com/repos/fastify/fastify/commits/f0dacb94d1fb00c265e2deca5e6ee3b05d578ddd","created_at":"2019-02-04T15:21:01Z","performed_via_github_app":null},{"actor":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-02-05T08:29:49Z","updated_at":"2019-02-05T08:29:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fastify/fastify/issues/1433","repository_url":"https://api.github.com/repos/fastify/fastify","labels_url":"https://api.github.com/repos/fastify/fastify/issues/1433/labels{/name}","comments_url":"https://api.github.com/repos/fastify/fastify/issues/1433/comments","events_url":"https://api.github.com/repos/fastify/fastify/issues/1433/events","html_url":"https://github.com/fastify/fastify/pull/1433","id":406674708,"node_id":"MDExOlB1bGxSZXF1ZXN0MjUwMzE3NTkw","number":1433,"title":"update fast-json-stringify","user":{"login":"Eomm","id":11404065,"node_id":"MDQ6VXNlcjExNDA0MDY1","avatar_url":"https://avatars.githubusercontent.com/u/11404065?v=4","gravatar_id":"","url":"https://api.github.com/users/Eomm","html_url":"https://github.com/Eomm","followers_url":"https://api.github.com/users/Eomm/followers","following_url":"https://api.github.com/users/Eomm/following{/other_user}","gists_url":"https://api.github.com/users/Eomm/gists{/gist_id}","starred_url":"https://api.github.com/users/Eomm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Eomm/subscriptions","organizations_url":"https://api.github.com/users/Eomm/orgs","repos_url":"https://api.github.com/users/Eomm/repos","events_url":"https://api.github.com/users/Eomm/events{/privacy}","received_events_url":"https://api.github.com/users/Eomm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1103259237,"node_id":"MDU6TGFiZWwxMTAzMjU5MjM3","url":"https://api.github.com/repos/fastify/fastify/labels/test","name":"test","color":"a1e6f4","default":false,"description":"Issue or pr related to our testing infrastructure."}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-02-05T08:29:48Z","updated_at":"2022-02-10T09:22:32Z","closed_at":"2019-02-06T00:32:14Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":69495170,"node_id":"MDEwOlJlcG9zaXRvcnk2OTQ5NTE3MA==","name":"fastify","full_name":"fastify/fastify","private":false,"owner":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fastify/fastify","description":"Fast and low overhead web framework, for Node.js","fork":false,"url":"https://api.github.com/repos/fastify/fastify","forks_url":"https://api.github.com/repos/fastify/fastify/forks","keys_url":"https://api.github.com/repos/fastify/fastify/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fastify/fastify/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fastify/fastify/teams","hooks_url":"https://api.github.com/repos/fastify/fastify/hooks","issue_events_url":"https://api.github.com/repos/fastify/fastify/issues/events{/number}","events_url":"https://api.github.com/repos/fastify/fastify/events","assignees_url":"https://api.github.com/repos/fastify/fastify/assignees{/user}","branches_url":"https://api.github.com/repos/fastify/fastify/branches{/branch}","tags_url":"https://api.github.com/repos/fastify/fastify/tags","blobs_url":"https://api.github.com/repos/fastify/fastify/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fastify/fastify/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fastify/fastify/git/refs{/sha}","trees_url":"https://api.github.com/repos/fastify/fastify/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fastify/fastify/statuses/{sha}","languages_url":"https://api.github.com/repos/fastify/fastify/languages","stargazers_url":"https://api.github.com/repos/fastify/fastify/stargazers","contributors_url":"https://api.github.com/repos/fastify/fastify/contributors","subscribers_url":"https://api.github.com/repos/fastify/fastify/subscribers","subscription_url":"https://api.github.com/repos/fastify/fastify/subscription","commits_url":"https://api.github.com/repos/fastify/fastify/commits{/sha}","git_commits_url":"https://api.github.com/repos/fastify/fastify/git/commits{/sha}","comments_url":"https://api.github.com/repos/fastify/fastify/comments{/number}","issue_comment_url":"https://api.github.com/repos/fastify/fastify/issues/comments{/number}","contents_url":"https://api.github.com/repos/fastify/fastify/contents/{+path}","compare_url":"https://api.github.com/repos/fastify/fastify/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fastify/fastify/merges","archive_url":"https://api.github.com/repos/fastify/fastify/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fastify/fastify/downloads","issues_url":"https://api.github.com/repos/fastify/fastify/issues{/number}","pulls_url":"https://api.github.com/repos/fastify/fastify/pulls{/number}","milestones_url":"https://api.github.com/repos/fastify/fastify/milestones{/number}","notifications_url":"https://api.github.com/repos/fastify/fastify/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fastify/fastify/labels{/name}","releases_url":"https://api.github.com/repos/fastify/fastify/releases{/id}","deployments_url":"https://api.github.com/repos/fastify/fastify/deployments","created_at":"2016-09-28T19:10:14Z","updated_at":"2025-11-09T19:27:27Z","pushed_at":"2025-11-09T20:20:24Z","git_url":"git://github.com/fastify/fastify.git","ssh_url":"git@github.com:fastify/fastify.git","clone_url":"https://github.com/fastify/fastify.git","svn_url":"https://github.com/fastify/fastify","homepage":"https://www.fastify.dev","size":9357,"stargazers_count":34974,"watchers_count":34974,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2510,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":100,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["hacktoberfest","nodejs","performance","speed","webframework"],"visibility":"public","forks":2510,"open_issues":100,"watchers":34974,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/fastify/fastify/pulls/1433","html_url":"https://github.com/fastify/fastify/pull/1433","diff_url":"https://github.com/fastify/fastify/pull/1433.diff","patch_url":"https://github.com/fastify/fastify/pull/1433.patch","merged_at":"2019-02-06T00:32:14Z"},"body":"Hi, this fix this use case https://github.com/fastify/fastify/pull/1425#discussion_r253232364 and it is related to this issue #1419 \r\n\r\n#### Checklist\r\n\r\n- [x] run `npm run test` and `npm run benchmark`\r\n- [x] tests and/or benchmarks are included\r\n- [x] commit message and code follows [Code of conduct](https://github.com/fastify/fastify/blob/master/CODE_OF_CONDUCT.md)\r\n","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/1433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastify/fastify/issues/1433/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"campbebj","id":14897652,"node_id":"MDQ6VXNlcjE0ODk3NjUy","avatar_url":"https://avatars.githubusercontent.com/u/14897652?v=4","gravatar_id":"","url":"https://api.github.com/users/campbebj","html_url":"https://github.com/campbebj","followers_url":"https://api.github.com/users/campbebj/followers","following_url":"https://api.github.com/users/campbebj/following{/other_user}","gists_url":"https://api.github.com/users/campbebj/gists{/gist_id}","starred_url":"https://api.github.com/users/campbebj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/campbebj/subscriptions","organizations_url":"https://api.github.com/users/campbebj/orgs","repos_url":"https://api.github.com/users/campbebj/repos","events_url":"https://api.github.com/users/campbebj/events{/privacy}","received_events_url":"https://api.github.com/users/campbebj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-13T22:18:15Z","updated_at":"2020-04-13T22:18:15Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234","repository_url":"https://api.github.com/repos/fastify/fastify-swagger","labels_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234/labels{/name}","comments_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234/comments","events_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234/events","html_url":"https://github.com/fastify/fastify-swagger/issues/234","id":598381931,"node_id":"MDU6SXNzdWU1OTgzODE5MzE=","number":234,"title":"updating 2.12.1 to 2.13.0 causes Schema par","user":{"login":"campbebj","id":14897652,"node_id":"MDQ6VXNlcjE0ODk3NjUy","avatar_url":"https://avatars.githubusercontent.com/u/14897652?v=4","gravatar_id":"","url":"https://api.github.com/users/campbebj","html_url":"https://github.com/campbebj","followers_url":"https://api.github.com/users/campbebj/followers","following_url":"https://api.github.com/users/campbebj/following{/other_user}","gists_url":"https://api.github.com/users/campbebj/gists{/gist_id}","starred_url":"https://api.github.com/users/campbebj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/campbebj/subscriptions","organizations_url":"https://api.github.com/users/campbebj/orgs","repos_url":"https://api.github.com/users/campbebj/repos","events_url":"https://api.github.com/users/campbebj/events{/privacy}","received_events_url":"https://api.github.com/users/campbebj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":4039875550,"node_id":"LA_kwDOBS3jcc7wy5ve","url":"https://api.github.com/repos/fastify/fastify-swagger/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2020-04-12T00:46:48Z","updated_at":"2022-04-28T08:30:37Z","closed_at":"2022-04-28T08:30:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":86893425,"node_id":"MDEwOlJlcG9zaXRvcnk4Njg5MzQyNQ==","name":"fastify-swagger","full_name":"fastify/fastify-swagger","private":false,"owner":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fastify/fastify-swagger","description":"Swagger documentation generator for Fastify","fork":false,"url":"https://api.github.com/repos/fastify/fastify-swagger","forks_url":"https://api.github.com/repos/fastify/fastify-swagger/forks","keys_url":"https://api.github.com/repos/fastify/fastify-swagger/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fastify/fastify-swagger/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fastify/fastify-swagger/teams","hooks_url":"https://api.github.com/repos/fastify/fastify-swagger/hooks","issue_events_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/events{/number}","events_url":"https://api.github.com/repos/fastify/fastify-swagger/events","assignees_url":"https://api.github.com/repos/fastify/fastify-swagger/assignees{/user}","branches_url":"https://api.github.com/repos/fastify/fastify-swagger/branches{/branch}","tags_url":"https://api.github.com/repos/fastify/fastify-swagger/tags","blobs_url":"https://api.github.com/repos/fastify/fastify-swagger/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fastify/fastify-swagger/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fastify/fastify-swagger/git/refs{/sha}","trees_url":"https://api.github.com/repos/fastify/fastify-swagger/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fastify/fastify-swagger/statuses/{sha}","languages_url":"https://api.github.com/repos/fastify/fastify-swagger/languages","stargazers_url":"https://api.github.com/repos/fastify/fastify-swagger/stargazers","contributors_url":"https://api.github.com/repos/fastify/fastify-swagger/contributors","subscribers_url":"https://api.github.com/repos/fastify/fastify-swagger/subscribers","subscription_url":"https://api.github.com/repos/fastify/fastify-swagger/subscription","commits_url":"https://api.github.com/repos/fastify/fastify-swagger/commits{/sha}","git_commits_url":"https://api.github.com/repos/fastify/fastify-swagger/git/commits{/sha}","comments_url":"https://api.github.com/repos/fastify/fastify-swagger/comments{/number}","issue_comment_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/comments{/number}","contents_url":"https://api.github.com/repos/fastify/fastify-swagger/contents/{+path}","compare_url":"https://api.github.com/repos/fastify/fastify-swagger/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fastify/fastify-swagger/merges","archive_url":"https://api.github.com/repos/fastify/fastify-swagger/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fastify/fastify-swagger/downloads","issues_url":"https://api.github.com/repos/fastify/fastify-swagger/issues{/number}","pulls_url":"https://api.github.com/repos/fastify/fastify-swagger/pulls{/number}","milestones_url":"https://api.github.com/repos/fastify/fastify-swagger/milestones{/number}","notifications_url":"https://api.github.com/repos/fastify/fastify-swagger/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fastify/fastify-swagger/labels{/name}","releases_url":"https://api.github.com/repos/fastify/fastify-swagger/releases{/id}","deployments_url":"https://api.github.com/repos/fastify/fastify-swagger/deployments","created_at":"2017-04-01T07:24:42Z","updated_at":"2025-11-08T10:48:02Z","pushed_at":"2025-11-08T10:48:01Z","git_url":"git://github.com/fastify/fastify-swagger.git","ssh_url":"git@github.com:fastify/fastify-swagger.git","clone_url":"https://github.com/fastify/fastify-swagger.git","svn_url":"https://github.com/fastify/fastify-swagger","homepage":"https://npmjs.com/package/@fastify/swagger","size":4889,"stargazers_count":1049,"watchers_count":1049,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":213,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":39,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["documentation","fastify","fastify-plugin","swagger"],"visibility":"public","forks":213,"open_issues":39,"watchers":1049,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#71  ðŸ› Bug Report\r\n\r\nA clear and concise description of what the bug is.\r\nWhen i update my dependency of fastify to 2.13.0 from 2.12.1 i can no longer start my service.\r\nI get the error \r\n```\r\nTypeError: Cannot create property 'description' on string 'CharacterUpdateResponse#'\r\n[fastify-cli] app crashed - waiting for file changes before starting...\r\n```\r\nif i downgrade to 2.12.1 again it all starts working again.\r\n## To Reproduce\r\n\r\nSteps to reproduce the behavior:\r\nI dont have specific steps to reproduce.\r\n\r\nsome code snippets that seem related to the error\r\n```js\r\n    fastify.addSchema({\r\n        $id: \"CharacterUpdateResponse\",\r\n        title: \"CharacterUpdateResponse\",\r\n        description: \"response\",\r\n        type: \"object\",\r\n        properties: {\r\n            success: {\r\n                type: \"boolean\",\r\n                example: true,\r\n            },\r\n            character: \"Character#\", \r\n            errorMessage: {\r\n                type: \"string\",\r\n                example: \"error\",\r\n            },\r\n            error: {\r\n                type: \"string\",\r\n                example: \"errorDetails\",\r\n            },\r\n        },\r\n    });\r\n```\r\n```js\r\nconst updateSchema = {\r\n        preValidation: [fastify.authenticate],\r\n        schema: {\r\n            description: \"update characters by id\",\r\n            tags: [\"characters\"],\r\n            summary: \"get characters by id\",\r\n            operationId: \"updateCharacter\",\r\n            params: {\r\n                _id:{\r\n                    type: \"string\",\r\n                },\r\n            },\r\n            body: \"Character#\",\r\n            response: {\r\n                200: \"CharacterUpdateResponse#\",\r\n                401: \"CharacterUpdateResponse#\",\r\n            },\r\n            security: [\r\n                {\r\n                    \"apiKey\": [],\r\n                },\r\n            ],\r\n        }\r\n    };\r\n```\r\n```js\r\nfastify.post('/characters/:_id', updateSchema, async function (request, reply) {\r\n        try {\r\n            //Internal logic commented out as its not pertinent\r\n            reply.code(202);\r\n            return {success: true, character: refetchedCharacter};\r\n        } catch (err) {\r\n            fastify.log.error(\"cant update character\", err);\r\n            reply.code(400);\r\n            return {\r\n                success: false,\r\n                errorMessage: \"cant update character\",\r\n                error: err,\r\n            };\r\n        }\r\n    });\r\n```\r\n\r\n## Expected behavior\r\n\r\nA clear and concise description of what you expected to happen.\r\nI expect this error not to happen so my code continues to run as it does with fastify 2.12.1\r\n\r\n## Your Environment\r\n\r\n- *node version*: 12.16.2\r\n- *fastify version*: 2.13.0\r\n- *os*: Windows\r\n","reactions":{"url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastify/fastify-swagger/issues/234/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]