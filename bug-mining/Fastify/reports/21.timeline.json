[{"id":1507529243,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1MDc1MjkyNDM=","url":"https://api.github.com/repos/fastify/fastify/issues/events/1507529243","actor":{"login":"jsumners","id":321201,"node_id":"MDQ6VXNlcjMyMTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/321201?v=4","gravatar_id":"","url":"https://api.github.com/users/jsumners","html_url":"https://github.com/jsumners","followers_url":"https://api.github.com/users/jsumners/followers","following_url":"https://api.github.com/users/jsumners/following{/other_user}","gists_url":"https://api.github.com/users/jsumners/gists{/gist_id}","starred_url":"https://api.github.com/users/jsumners/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsumners/subscriptions","organizations_url":"https://api.github.com/users/jsumners/orgs","repos_url":"https://api.github.com/users/jsumners/repos","events_url":"https://api.github.com/users/jsumners/events{/privacy}","received_events_url":"https://api.github.com/users/jsumners/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-03-06T21:21:06Z","label":{"name":"bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/370934000","html_url":"https://github.com/fastify/fastify/issues/834#issuecomment-370934000","issue_url":"https://api.github.com/repos/fastify/fastify/issues/834","id":370934000,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDkzNDAwMA==","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T21:26:17Z","updated_at":"2018-03-06T21:26:17Z","body":"Would you like to send a PR for this?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/370934000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1507660062,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1MDc2NjAwNjI=","url":"https://api.github.com/repos/fastify/fastify/issues/events/1507660062","actor":{"login":"jsumners","id":321201,"node_id":"MDQ6VXNlcjMyMTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/321201?v=4","gravatar_id":"","url":"https://api.github.com/users/jsumners","html_url":"https://github.com/jsumners","followers_url":"https://api.github.com/users/jsumners/followers","following_url":"https://api.github.com/users/jsumners/following{/other_user}","gists_url":"https://api.github.com/users/jsumners/gists{/gist_id}","starred_url":"https://api.github.com/users/jsumners/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsumners/subscriptions","organizations_url":"https://api.github.com/users/jsumners/orgs","repos_url":"https://api.github.com/users/jsumners/repos","events_url":"https://api.github.com/users/jsumners/events{/privacy}","received_events_url":"https://api.github.com/users/jsumners/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6aaa14abbdd317280af68a032a618984d07c38a3","commit_url":"https://api.github.com/repos/fastify/fastify/commits/6aaa14abbdd317280af68a032a618984d07c38a3","created_at":"2018-03-06T22:30:49Z","performed_via_github_app":null},{"id":1508810033,"node_id":"MDExOkNsb3NlZEV2ZW50MTUwODgxMDAzMw==","url":"https://api.github.com/repos/fastify/fastify/issues/events/1508810033","actor":{"login":"jsumners","id":321201,"node_id":"MDQ6VXNlcjMyMTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/321201?v=4","gravatar_id":"","url":"https://api.github.com/users/jsumners","html_url":"https://github.com/jsumners","followers_url":"https://api.github.com/users/jsumners/followers","following_url":"https://api.github.com/users/jsumners/following{/other_user}","gists_url":"https://api.github.com/users/jsumners/gists{/gist_id}","starred_url":"https://api.github.com/users/jsumners/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsumners/subscriptions","organizations_url":"https://api.github.com/users/jsumners/orgs","repos_url":"https://api.github.com/users/jsumners/repos","events_url":"https://api.github.com/users/jsumners/events{/privacy}","received_events_url":"https://api.github.com/users/jsumners/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"31c5f7e259d1f4bc2deb766a0b2c95912b8ee668","commit_url":"https://api.github.com/repos/fastify/fastify/commits/31c5f7e259d1f4bc2deb766a0b2c95912b8ee668","created_at":"2018-03-07T13:04:21Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"digrich","id":9439420,"node_id":"MDQ6VXNlcjk0Mzk0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9439420?v=4","gravatar_id":"","url":"https://api.github.com/users/digrich","html_url":"https://github.com/digrich","followers_url":"https://api.github.com/users/digrich/followers","following_url":"https://api.github.com/users/digrich/following{/other_user}","gists_url":"https://api.github.com/users/digrich/gists{/gist_id}","starred_url":"https://api.github.com/users/digrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digrich/subscriptions","organizations_url":"https://api.github.com/users/digrich/orgs","repos_url":"https://api.github.com/users/digrich/repos","events_url":"https://api.github.com/users/digrich/events{/privacy}","received_events_url":"https://api.github.com/users/digrich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-29T01:00:29Z","updated_at":"2018-12-29T01:00:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fastify/fastify/issues/1358","repository_url":"https://api.github.com/repos/fastify/fastify","labels_url":"https://api.github.com/repos/fastify/fastify/issues/1358/labels{/name}","comments_url":"https://api.github.com/repos/fastify/fastify/issues/1358/comments","events_url":"https://api.github.com/repos/fastify/fastify/issues/1358/events","html_url":"https://github.com/fastify/fastify/issues/1358","id":394745849,"node_id":"MDU6SXNzdWUzOTQ3NDU4NDk=","number":1358,"title":"Response cookies are not being parsed correctly on browser.","user":{"login":"digrich","id":9439420,"node_id":"MDQ6VXNlcjk0Mzk0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9439420?v=4","gravatar_id":"","url":"https://api.github.com/users/digrich","html_url":"https://github.com/digrich","followers_url":"https://api.github.com/users/digrich/followers","following_url":"https://api.github.com/users/digrich/following{/other_user}","gists_url":"https://api.github.com/users/digrich/gists{/gist_id}","starred_url":"https://api.github.com/users/digrich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digrich/subscriptions","organizations_url":"https://api.github.com/users/digrich/orgs","repos_url":"https://api.github.com/users/digrich/repos","events_url":"https://api.github.com/users/digrich/events{/privacy}","received_events_url":"https://api.github.com/users/digrich/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":451588686,"node_id":"MDU6TGFiZWw0NTE1ODg2ODY=","url":"https://api.github.com/repos/fastify/fastify/labels/bug","name":"bug","color":"ee0701","default":true,"description":"Confirmed bug"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-12-29T01:00:29Z","updated_at":"2019-01-03T09:22:49Z","closed_at":"2019-01-02T18:42:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":69495170,"node_id":"MDEwOlJlcG9zaXRvcnk2OTQ5NTE3MA==","name":"fastify","full_name":"fastify/fastify","private":false,"owner":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fastify/fastify","description":"Fast and low overhead web framework, for Node.js","fork":false,"url":"https://api.github.com/repos/fastify/fastify","forks_url":"https://api.github.com/repos/fastify/fastify/forks","keys_url":"https://api.github.com/repos/fastify/fastify/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fastify/fastify/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fastify/fastify/teams","hooks_url":"https://api.github.com/repos/fastify/fastify/hooks","issue_events_url":"https://api.github.com/repos/fastify/fastify/issues/events{/number}","events_url":"https://api.github.com/repos/fastify/fastify/events","assignees_url":"https://api.github.com/repos/fastify/fastify/assignees{/user}","branches_url":"https://api.github.com/repos/fastify/fastify/branches{/branch}","tags_url":"https://api.github.com/repos/fastify/fastify/tags","blobs_url":"https://api.github.com/repos/fastify/fastify/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fastify/fastify/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fastify/fastify/git/refs{/sha}","trees_url":"https://api.github.com/repos/fastify/fastify/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fastify/fastify/statuses/{sha}","languages_url":"https://api.github.com/repos/fastify/fastify/languages","stargazers_url":"https://api.github.com/repos/fastify/fastify/stargazers","contributors_url":"https://api.github.com/repos/fastify/fastify/contributors","subscribers_url":"https://api.github.com/repos/fastify/fastify/subscribers","subscription_url":"https://api.github.com/repos/fastify/fastify/subscription","commits_url":"https://api.github.com/repos/fastify/fastify/commits{/sha}","git_commits_url":"https://api.github.com/repos/fastify/fastify/git/commits{/sha}","comments_url":"https://api.github.com/repos/fastify/fastify/comments{/number}","issue_comment_url":"https://api.github.com/repos/fastify/fastify/issues/comments{/number}","contents_url":"https://api.github.com/repos/fastify/fastify/contents/{+path}","compare_url":"https://api.github.com/repos/fastify/fastify/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fastify/fastify/merges","archive_url":"https://api.github.com/repos/fastify/fastify/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fastify/fastify/downloads","issues_url":"https://api.github.com/repos/fastify/fastify/issues{/number}","pulls_url":"https://api.github.com/repos/fastify/fastify/pulls{/number}","milestones_url":"https://api.github.com/repos/fastify/fastify/milestones{/number}","notifications_url":"https://api.github.com/repos/fastify/fastify/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fastify/fastify/labels{/name}","releases_url":"https://api.github.com/repos/fastify/fastify/releases{/id}","deployments_url":"https://api.github.com/repos/fastify/fastify/deployments","created_at":"2016-09-28T19:10:14Z","updated_at":"2025-11-09T19:27:27Z","pushed_at":"2025-11-09T20:20:24Z","git_url":"git://github.com/fastify/fastify.git","ssh_url":"git@github.com:fastify/fastify.git","clone_url":"https://github.com/fastify/fastify.git","svn_url":"https://github.com/fastify/fastify","homepage":"https://www.fastify.dev","size":9357,"stargazers_count":34974,"watchers_count":34974,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2510,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":100,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["hacktoberfest","nodejs","performance","speed","webframework"],"visibility":"public","forks":2510,"open_issues":100,"watchers":34974,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## ðŸ› Bug Report\r\n\r\nIn my case, the browser is not able to parse response cookies correctly.  When I set multiple cookies, following line of 'Reply.header' function is combining the cookies into one header ('set-cookie') with comma separated cookies. \r\n\r\n```\r\nthis._headers[_key] = [this._headers[_key]].concat(value)\r\n````\r\nChrome browser is not able to parse all cookies except the first one. \r\n\r\n## To Reproduce\r\n\r\nI am using fastify-http-proxy and in beforeHandler, trying to set multiple cookies on reply like \r\n\r\n```\r\nreply.setCookie(\"cookie1\", \"\", {httpOnly: true})\r\nreply.setCookie(\"cookie2\", \"\", {httpOnly: true})\r\nreply.setCookie(\"cookie3\", \"\", {httpOnly: true})\r\nreply.setCookie(\"cookie4\", \"\", {httpOnly: true})\r\n\r\n```\r\n\r\n## Expected behavior\r\n\r\nNot sure if it's a bug but it seems we should have multiple header entries for each cookie if we are calling Reply.header multiple times for setting the cookies.\r\n\r\nMore details are given in this link.\r\nhttps://stackoverflow.com/questions/11533867/set-cookie-header-with-multiple-cookies\r\n\r\nThis may fix the issue.\r\n\r\n```\r\nthis._headers[_key] = this._headers[_key].concat(value)\r\n````\r\n\r\n## Your Environment\r\n\r\n- *node version*: 8.9.1\r\n- *fastify version*: >=1.13.0\r\n- *os*: Mac\r\n- *browser*: Chrome: 71.0.3578.98\r\n\r\ncc @jsumners  as he submitted the PR and made changes to this area.\r\nhttps://github.com/fastify/fastify/issues/834\r\n","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/1358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastify/fastify/issues/1358/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/2211541237","html_url":"https://github.com/fastify/fastify/issues/834#issuecomment-2211541237","issue_url":"https://api.github.com/repos/fastify/fastify/issues/834","id":2211541237,"node_id":"IC_kwDOBCRpgs6D0XD1","user":{"login":"vegerot","id":5297725,"node_id":"MDQ6VXNlcjUyOTc3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/5297725?v=4","gravatar_id":"","url":"https://api.github.com/users/vegerot","html_url":"https://github.com/vegerot","followers_url":"https://api.github.com/users/vegerot/followers","following_url":"https://api.github.com/users/vegerot/following{/other_user}","gists_url":"https://api.github.com/users/vegerot/gists{/gist_id}","starred_url":"https://api.github.com/users/vegerot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vegerot/subscriptions","organizations_url":"https://api.github.com/users/vegerot/orgs","repos_url":"https://api.github.com/users/vegerot/repos","events_url":"https://api.github.com/users/vegerot/events{/privacy}","received_events_url":"https://api.github.com/users/vegerot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-06T00:35:31Z","updated_at":"2024-07-06T00:35:31Z","body":"As of 31c5f7e this works for `Set-Cookie`, but I want to add multiple [Server-Timing](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Server-Timing) headers.  How would I add multiple `Server-Timing` headers?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/2211541237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vegerot","id":5297725,"node_id":"MDQ6VXNlcjUyOTc3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/5297725?v=4","gravatar_id":"","url":"https://api.github.com/users/vegerot","html_url":"https://github.com/vegerot","followers_url":"https://api.github.com/users/vegerot/followers","following_url":"https://api.github.com/users/vegerot/following{/other_user}","gists_url":"https://api.github.com/users/vegerot/gists{/gist_id}","starred_url":"https://api.github.com/users/vegerot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vegerot/subscriptions","organizations_url":"https://api.github.com/users/vegerot/orgs","repos_url":"https://api.github.com/users/vegerot/repos","events_url":"https://api.github.com/users/vegerot/events{/privacy}","received_events_url":"https://api.github.com/users/vegerot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/2211560699","html_url":"https://github.com/fastify/fastify/issues/834#issuecomment-2211560699","issue_url":"https://api.github.com/repos/fastify/fastify/issues/834","id":2211560699,"node_id":"IC_kwDOBCRpgs6D0bz7","user":{"login":"jsumners","id":321201,"node_id":"MDQ6VXNlcjMyMTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/321201?v=4","gravatar_id":"","url":"https://api.github.com/users/jsumners","html_url":"https://github.com/jsumners","followers_url":"https://api.github.com/users/jsumners/followers","following_url":"https://api.github.com/users/jsumners/following{/other_user}","gists_url":"https://api.github.com/users/jsumners/gists{/gist_id}","starred_url":"https://api.github.com/users/jsumners/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsumners/subscriptions","organizations_url":"https://api.github.com/users/jsumners/orgs","repos_url":"https://api.github.com/users/jsumners/repos","events_url":"https://api.github.com/users/jsumners/events{/privacy}","received_events_url":"https://api.github.com/users/jsumners/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-06T01:20:38Z","updated_at":"2024-07-06T01:20:38Z","body":"Please open a new issue. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/2211560699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jsumners","id":321201,"node_id":"MDQ6VXNlcjMyMTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/321201?v=4","gravatar_id":"","url":"https://api.github.com/users/jsumners","html_url":"https://github.com/jsumners","followers_url":"https://api.github.com/users/jsumners/followers","following_url":"https://api.github.com/users/jsumners/following{/other_user}","gists_url":"https://api.github.com/users/jsumners/gists{/gist_id}","starred_url":"https://api.github.com/users/jsumners/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsumners/subscriptions","organizations_url":"https://api.github.com/users/jsumners/orgs","repos_url":"https://api.github.com/users/jsumners/repos","events_url":"https://api.github.com/users/jsumners/events{/privacy}","received_events_url":"https://api.github.com/users/jsumners/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13410274357,"node_id":"LOE_lADOBCRpgs4SDW9GzwAAAAMfUIw1","url":"https://api.github.com/repos/fastify/fastify/issues/events/13410274357","actor":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2024-07-06T01:20:41Z","lock_reason":null,"performed_via_github_app":null}]