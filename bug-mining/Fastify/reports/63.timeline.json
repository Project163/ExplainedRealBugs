[{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141687000","html_url":"https://github.com/fastify/fastify/issues/3953#issuecomment-1141687000","issue_url":"https://api.github.com/repos/fastify/fastify/issues/3953","id":1141687000,"node_id":"IC_kwDOBCRpgs5EDMLY","user":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T05:38:32Z","updated_at":"2022-05-31T05:38:32Z","body":"I can reproduce the problem with plain JavaScript\r\n\r\n```js\r\nimport Fastify from \"fastify\";\r\nimport FP from \"fastify-plugin\";\r\n\r\nconst fastify = Fastify();\r\nfastify.register(\r\n  FP(function (fastify, _, done) {\r\n    fastify.decorateRequest(\"foo\", \"toto\");\r\n    fastify.decorateRequest(\"bar\", () => \"tata\");\r\n    done();\r\n  })\r\n);\r\nfastify.get(\"/foo\", function (request, reply) {\r\n  reply.send(request.foo);\r\n});\r\nfastify.get(\"/bar\", function (request, reply) {\r\n  reply.send(request.bar());\r\n});\r\nfastify.register(\r\n  function (fastify, _, done) {\r\n    fastify.get(\"/foo\", function (request, reply) {\r\n      reply.send(request.foo);\r\n    });\r\n    fastify.get(\"/bar\", function (request, reply) {\r\n      reply.send(request.bar());\r\n    });\r\n    fastify.register(function (fastify, _, done) {\r\n      fastify.get(\"/plugin3/foo\", function (request, reply) {\r\n        reply.send(request.foo);\r\n      });\r\n      fastify.get(\"/plugin3/bar\", function (request, reply) {\r\n        reply.send(request.bar());\r\n      });\r\n      done();\r\n    });\r\n    fastify.register(\r\n      FP(function (fastify, _, done) {\r\n        fastify.decorateRequest(\"fooB\", \"toto\");\r\n        fastify.decorateRequest(\"barB\", () => \"tata\");\r\n        done();\r\n      })\r\n    );\r\n    done();\r\n  },\r\n  { prefix: \"/plugin2\" }\r\n);\r\n\r\nawait fastify.ready();\r\n\r\n{\r\n  const response = await fastify.inject(\"/foo\");\r\n  console.log(\"/foo\", response.body);\r\n}\r\n{\r\n  const response = await fastify.inject(\"/bar\");\r\n  console.log(\"/bar\", response.body);\r\n}\r\n{\r\n  const response = await fastify.inject(\"/plugin2/foo\");\r\n  console.log(\"/plugin2/foo\", response.body);\r\n}\r\n{\r\n  const response = await fastify.inject(\"/plugin2/bar\");\r\n  console.log(\"/plugin2/bar\", response.body);\r\n}\r\n\r\n{\r\n  const response = await fastify.inject(\"/plugin2/plugin3/foo\");\r\n  console.log(\"/plugin2/plugin3/foo\", response.body);\r\n}\r\n{\r\n  const response = await fastify.inject(\"/plugin2/plugin3/bar\");\r\n  console.log(\"/plugin2/plugin3/bar\", response.body);\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141687000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141692061","html_url":"https://github.com/fastify/fastify/issues/3953#issuecomment-1141692061","issue_url":"https://api.github.com/repos/fastify/fastify/issues/3953","id":1141692061,"node_id":"IC_kwDOBCRpgs5EDNad","user":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T05:48:02Z","updated_at":"2022-05-31T05:50:58Z","body":"This PR is causing the unexpected behavior.\r\nhttps://github.com/fastify/fastify/pull/3479\r\n\r\ncc @mcollina ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141692061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6706522966,"node_id":"MEE_lADOBCRpgs5KsJ4_zwAAAAGPvWtW","url":"https://api.github.com/repos/fastify/fastify/issues/events/6706522966","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T05:50:58Z","performed_via_github_app":null},{"id":6706522970,"node_id":"SE_lADOBCRpgs5KsJ4_zwAAAAGPvWta","url":"https://api.github.com/repos/fastify/fastify/issues/events/6706522970","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-05-31T05:50:58Z","performed_via_github_app":null},{"id":6706550661,"node_id":"AE_lADOBCRpgs5KsJ4_zwAAAAGPvdeF","url":"https://api.github.com/repos/fastify/fastify/issues/events/6706550661","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T05:58:20Z","assignee":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141697634","html_url":"https://github.com/fastify/fastify/issues/3953#issuecomment-1141697634","issue_url":"https://api.github.com/repos/fastify/fastify/issues/3953","id":1141697634,"node_id":"IC_kwDOBCRpgs5EDOxi","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T05:59:01Z","updated_at":"2022-05-31T05:59:01Z","body":"I'll work on a fix.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141697634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6706556953,"node_id":"MIE_lADOBCRpgs5KsJ4_zwAAAAGPvfAZ","url":"https://api.github.com/repos/fastify/fastify/issues/events/6706556953","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-05-31T05:59:52Z","milestone":{"title":"v4.0.0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141703821","html_url":"https://github.com/fastify/fastify/issues/3953#issuecomment-1141703821","issue_url":"https://api.github.com/repos/fastify/fastify/issues/3953","id":1141703821,"node_id":"IC_kwDOBCRpgs5EDQSN","user":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T06:09:42Z","updated_at":"2022-05-31T06:09:42Z","body":"It also affect the `getter / setter` decorator.\r\n\r\n```js\r\nfastify.decorateRequest(\"baz\", {\r\n  getter: () => \"baba\",\r\n})\r\n```\r\n\r\nInformation of `prototype` is losing.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141703821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"climba03003","id":23028015,"node_id":"MDQ6VXNlcjIzMDI4MDE1","avatar_url":"https://avatars.githubusercontent.com/u/23028015?v=4","gravatar_id":"","url":"https://api.github.com/users/climba03003","html_url":"https://github.com/climba03003","followers_url":"https://api.github.com/users/climba03003/followers","following_url":"https://api.github.com/users/climba03003/following{/other_user}","gists_url":"https://api.github.com/users/climba03003/gists{/gist_id}","starred_url":"https://api.github.com/users/climba03003/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/climba03003/subscriptions","organizations_url":"https://api.github.com/users/climba03003/orgs","repos_url":"https://api.github.com/users/climba03003/repos","events_url":"https://api.github.com/users/climba03003/events{/privacy}","received_events_url":"https://api.github.com/users/climba03003/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141737718","html_url":"https://github.com/fastify/fastify/issues/3953#issuecomment-1141737718","issue_url":"https://api.github.com/repos/fastify/fastify/issues/3953","id":1141737718,"node_id":"IC_kwDOBCRpgs5EDYj2","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T06:57:46Z","updated_at":"2022-05-31T06:57:46Z","body":"found the bug, PR incoming.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/comments/1141737718/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":3,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6706905850,"node_id":"REFE_lADOBCRpgs5KsJ4_zwAAAAGPw0L6","url":"https://api.github.com/repos/fastify/fastify/issues/events/6706905850","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c537ed980e78f1dcb7025f175b41f483825c3c29","commit_url":"https://api.github.com/repos/fastify/fastify/commits/c537ed980e78f1dcb7025f175b41f483825c3c29","created_at":"2022-05-31T07:08:10Z","performed_via_github_app":null},{"actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-31T07:08:37Z","updated_at":"2022-05-31T07:08:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fastify/fastify/issues/3954","repository_url":"https://api.github.com/repos/fastify/fastify","labels_url":"https://api.github.com/repos/fastify/fastify/issues/3954/labels{/name}","comments_url":"https://api.github.com/repos/fastify/fastify/issues/3954/comments","events_url":"https://api.github.com/repos/fastify/fastify/issues/3954/events","html_url":"https://github.com/fastify/fastify/pull/3954","id":1253425713,"node_id":"PR_kwDOBCRpgs44uASi","number":3954,"title":"fix: preserve chain of proptotypes in multiple nested plugins","user":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-05-31T07:08:37Z","updated_at":"2023-06-01T00:29:25Z","closed_at":"2022-05-31T07:59:56Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":69495170,"node_id":"MDEwOlJlcG9zaXRvcnk2OTQ5NTE3MA==","name":"fastify","full_name":"fastify/fastify","private":false,"owner":{"login":"fastify","id":24939410,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI0OTM5NDEw","avatar_url":"https://avatars.githubusercontent.com/u/24939410?v=4","gravatar_id":"","url":"https://api.github.com/users/fastify","html_url":"https://github.com/fastify","followers_url":"https://api.github.com/users/fastify/followers","following_url":"https://api.github.com/users/fastify/following{/other_user}","gists_url":"https://api.github.com/users/fastify/gists{/gist_id}","starred_url":"https://api.github.com/users/fastify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fastify/subscriptions","organizations_url":"https://api.github.com/users/fastify/orgs","repos_url":"https://api.github.com/users/fastify/repos","events_url":"https://api.github.com/users/fastify/events{/privacy}","received_events_url":"https://api.github.com/users/fastify/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fastify/fastify","description":"Fast and low overhead web framework, for Node.js","fork":false,"url":"https://api.github.com/repos/fastify/fastify","forks_url":"https://api.github.com/repos/fastify/fastify/forks","keys_url":"https://api.github.com/repos/fastify/fastify/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fastify/fastify/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fastify/fastify/teams","hooks_url":"https://api.github.com/repos/fastify/fastify/hooks","issue_events_url":"https://api.github.com/repos/fastify/fastify/issues/events{/number}","events_url":"https://api.github.com/repos/fastify/fastify/events","assignees_url":"https://api.github.com/repos/fastify/fastify/assignees{/user}","branches_url":"https://api.github.com/repos/fastify/fastify/branches{/branch}","tags_url":"https://api.github.com/repos/fastify/fastify/tags","blobs_url":"https://api.github.com/repos/fastify/fastify/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fastify/fastify/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fastify/fastify/git/refs{/sha}","trees_url":"https://api.github.com/repos/fastify/fastify/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fastify/fastify/statuses/{sha}","languages_url":"https://api.github.com/repos/fastify/fastify/languages","stargazers_url":"https://api.github.com/repos/fastify/fastify/stargazers","contributors_url":"https://api.github.com/repos/fastify/fastify/contributors","subscribers_url":"https://api.github.com/repos/fastify/fastify/subscribers","subscription_url":"https://api.github.com/repos/fastify/fastify/subscription","commits_url":"https://api.github.com/repos/fastify/fastify/commits{/sha}","git_commits_url":"https://api.github.com/repos/fastify/fastify/git/commits{/sha}","comments_url":"https://api.github.com/repos/fastify/fastify/comments{/number}","issue_comment_url":"https://api.github.com/repos/fastify/fastify/issues/comments{/number}","contents_url":"https://api.github.com/repos/fastify/fastify/contents/{+path}","compare_url":"https://api.github.com/repos/fastify/fastify/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fastify/fastify/merges","archive_url":"https://api.github.com/repos/fastify/fastify/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fastify/fastify/downloads","issues_url":"https://api.github.com/repos/fastify/fastify/issues{/number}","pulls_url":"https://api.github.com/repos/fastify/fastify/pulls{/number}","milestones_url":"https://api.github.com/repos/fastify/fastify/milestones{/number}","notifications_url":"https://api.github.com/repos/fastify/fastify/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fastify/fastify/labels{/name}","releases_url":"https://api.github.com/repos/fastify/fastify/releases{/id}","deployments_url":"https://api.github.com/repos/fastify/fastify/deployments","created_at":"2016-09-28T19:10:14Z","updated_at":"2025-11-09T19:27:27Z","pushed_at":"2025-11-09T20:20:24Z","git_url":"git://github.com/fastify/fastify.git","ssh_url":"git@github.com:fastify/fastify.git","clone_url":"https://github.com/fastify/fastify.git","svn_url":"https://github.com/fastify/fastify","homepage":"https://www.fastify.dev","size":9357,"stargazers_count":34974,"watchers_count":34974,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2510,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":100,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["hacktoberfest","nodejs","performance","speed","webframework"],"visibility":"public","forks":2510,"open_issues":100,"watchers":34974,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/fastify/fastify/pulls/3954","html_url":"https://github.com/fastify/fastify/pull/3954","diff_url":"https://github.com/fastify/fastify/pull/3954.diff","patch_url":"https://github.com/fastify/fastify/pull/3954.patch","merged_at":"2022-05-31T07:59:56Z"},"body":"Fixes #3953\r\n\r\n<!--\r\nThank you for your pull request. Please provide a description above and review\r\nthe requirements below.\r\n\r\nBug fixes and new features should include tests and possibly benchmarks.\r\n\r\nContributors guide: https://github.com/fastify/fastify/blob/master/CONTRIBUTING.md\r\n\r\nBy making a contribution to this project, I certify that:\r\n\r\n* (a) The contribution was created in whole or in part by me and I\r\n  have the right to submit it under the open source license\r\n  indicated in the file; or\r\n\r\n* (b) The contribution is based upon previous work that, to the best\r\n  of my knowledge, is covered under an appropriate open source\r\n  license and I have the right under that license to submit that\r\n  work with modifications, whether created in whole or in part\r\n  by me, under the same open source license (unless I am\r\n  permitted to submit under a different license), as indicated\r\n  in the file; or\r\n\r\n* (c) The contribution was provided directly to me by some other\r\n  person who certified (a), (b) or (c) and I have not modified\r\n  it.\r\n\r\n* (d) I understand and agree that this project and the contribution\r\n  are public and that a record of the contribution (including all\r\n  personal information I submit with it, including my sign-off) is\r\n  maintained indefinitely and may be redistributed consistent with\r\n  this project or the open source license(s) involved.\r\n-->\r\n\r\n#### Checklist\r\n\r\n- [x] run `npm run test` and `npm run benchmark`\r\n- [x] tests and/or benchmarks are included\r\n- [x] commit message and code follows the [Developer's Certification of Origin](https://github.com/fastify/.github/blob/master/CONTRIBUTING.md#developers-certificate-of-origin-11)\r\n      and the [Code of conduct](https://github.com/fastify/.github/blob/master/CODE_OF_CONDUCT.md)\r\n","reactions":{"url":"https://api.github.com/repos/fastify/fastify/issues/3954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fastify/fastify/issues/3954/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6707253054,"node_id":"CE_lADOBCRpgs5KsJ4_zwAAAAGPyI8-","url":"https://api.github.com/repos/fastify/fastify/issues/events/6707253054","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-05-31T07:59:56Z","state_reason":null,"performed_via_github_app":null},{"id":6707253408,"node_id":"REFE_lADOBCRpgs5KsJ4_zwAAAAGPyJCg","url":"https://api.github.com/repos/fastify/fastify/issues/events/6707253408","actor":{"login":"mcollina","id":52195,"node_id":"MDQ6VXNlcjUyMTk1","avatar_url":"https://avatars.githubusercontent.com/u/52195?v=4","gravatar_id":"","url":"https://api.github.com/users/mcollina","html_url":"https://github.com/mcollina","followers_url":"https://api.github.com/users/mcollina/followers","following_url":"https://api.github.com/users/mcollina/following{/other_user}","gists_url":"https://api.github.com/users/mcollina/gists{/gist_id}","starred_url":"https://api.github.com/users/mcollina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcollina/subscriptions","organizations_url":"https://api.github.com/users/mcollina/orgs","repos_url":"https://api.github.com/users/mcollina/repos","events_url":"https://api.github.com/users/mcollina/events{/privacy}","received_events_url":"https://api.github.com/users/mcollina/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"bdcfd60f39b9299c6b74e0e14aa8e482e1cf630b","commit_url":"https://api.github.com/repos/fastify/fastify/commits/bdcfd60f39b9299c6b74e0e14aa8e482e1cf630b","created_at":"2022-05-31T08:00:00Z","performed_via_github_app":null}]