diff --git a/docs/Reference/Server.md b/docs/Reference/Server.md
index 20c3375a..a068676c 100644
--- a/docs/Reference/Server.md
+++ b/docs/Reference/Server.md
@@ -527,8 +527,8 @@ Defines the label used for the request identifier when logging the request.
 ### `genReqId`
 <a id="factory-gen-request-id"></a>
 
-Function for generating the request-id. It will receive the incoming request as
-a parameter. This function is expected to be error-free.
+Function for generating the request-id. It will receive the _raw_ incoming
+request as a parameter. This function is expected to be error-free.
 
 + Default: `value of 'request-id' header if provided or monotonically increasing
   integers`
diff --git a/fastify.d.ts b/fastify.d.ts
index 5f261620..750ebc3c 100644
--- a/fastify.d.ts
+++ b/fastify.d.ts
@@ -109,7 +109,7 @@ declare namespace fastify {
     requestIdHeader?: string | false,
     requestIdLogLabel?: string;
     jsonShorthand?: boolean;
-    genReqId?: <RequestGeneric extends RequestGenericInterface = RequestGenericInterface, TypeProvider extends FastifyTypeProvider = FastifyTypeProviderDefault>(req: FastifyRequest<RequestGeneric, RawServer, RawRequestDefaultExpression<RawServer>, FastifySchema, TypeProvider>) => string,
+    genReqId?: (req: RawRequestDefaultExpression<RawServer>) => string,
     trustProxy?: boolean | string | string[] | number | TrustProxyFunction,
     querystringParser?: (str: string) => { [key: string]: unknown },
     /**
diff --git a/test/genReqId.test.js b/test/genReqId.test.js
index 74ab442f..7dce2b8a 100644
--- a/test/genReqId.test.js
+++ b/test/genReqId.test.js
@@ -1,5 +1,6 @@
 'use strict'
 
+const { Readable } = require('stream')
 const { test } = require('tap')
 const Fastify = require('..')
 
@@ -30,3 +31,44 @@ test('Should accept a custom genReqId function', t => {
     })
   })
 })
+
+test('Custom genReqId function gets raw request as argument', t => {
+  t.plan(9)
+
+  const REQUEST_ID = 'REQ-1234'
+
+  const fastify = Fastify({
+    genReqId: function (req) {
+      t.notOk('id' in req)
+      t.notOk('raw' in req)
+      t.ok(req instanceof Readable)
+      // http.IncomingMessage does have `rawHeaders` property, but FastifyRequest does not
+      const index = req.rawHeaders.indexOf('x-request-id')
+      const xReqId = req.rawHeaders[index + 1]
+      t.equal(xReqId, REQUEST_ID)
+      t.equal(req.headers['x-request-id'], REQUEST_ID)
+      return xReqId
+    }
+  })
+
+  fastify.get('/', (req, reply) => {
+    t.equal(req.id, REQUEST_ID)
+    reply.send({ id: req.id })
+  })
+
+  fastify.listen({ port: 0 }, err => {
+    t.error(err)
+    fastify.inject({
+      method: 'GET',
+      headers: {
+        'x-request-id': REQUEST_ID
+      },
+      url: 'http://localhost:' + fastify.server.address().port
+    }, (err, res) => {
+      t.error(err)
+      const payload = JSON.parse(res.payload)
+      t.equal(payload.id, REQUEST_ID)
+      fastify.close()
+    })
+  })
+})
diff --git a/test/types/fastify.test-d.ts b/test/types/fastify.test-d.ts
index ca99d902..6264fb78 100644
--- a/test/types/fastify.test-d.ts
+++ b/test/types/fastify.test-d.ts
@@ -8,6 +8,7 @@ import fastify, {
   LightMyRequestResponse,
   LightMyRequestCallback,
   InjectOptions, FastifyBaseLogger,
+  RawRequestDefaultExpression,
   RouteGenericInterface,
   ValidationResult,
   FastifyErrorCodes,
@@ -127,7 +128,12 @@ expectAssignable<FastifyInstance>(fastify({ serverFactory: () => http.createServ
 expectAssignable<FastifyInstance>(fastify({ caseSensitive: true }))
 expectAssignable<FastifyInstance>(fastify({ requestIdHeader: 'request-id' }))
 expectAssignable<FastifyInstance>(fastify({ requestIdHeader: false }))
-expectAssignable<FastifyInstance>(fastify({ genReqId: () => 'request-id' }))
+expectAssignable<FastifyInstance>(fastify({
+  genReqId: (req) => {
+    expectType<RawRequestDefaultExpression>(req)
+    return 'foo'
+  }
+}))
 expectAssignable<FastifyInstance>(fastify({ trustProxy: true }))
 expectAssignable<FastifyInstance>(fastify({ querystringParser: () => ({ foo: 'bar' }) }))
 expectAssignable<FastifyInstance>(fastify({ querystringParser: () => ({ foo: { bar: 'fuzz' } }) }))
