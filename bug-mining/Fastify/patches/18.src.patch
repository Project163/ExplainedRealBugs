diff --git a/fastify.js b/fastify.js
index 0c3f39d7..32a0a9f5 100644
--- a/fastify.js
+++ b/fastify.js
@@ -272,7 +272,8 @@ function build (options) {
     this.context = context
   }
 
-  function hookIterator (fn, state, next) {
+  function hookIterator (fn, state, next, release) {
+    if (state.res.finished === true) return release()
     return fn(state.req, state.res, next)
   }
 
diff --git a/lib/handleRequest.js b/lib/handleRequest.js
index 2edc9097..10ea645c 100644
--- a/lib/handleRequest.js
+++ b/lib/handleRequest.js
@@ -148,7 +148,8 @@ function handler (reply) {
   }
 }
 
-function hookIterator (fn, reply, next) {
+function hookIterator (fn, reply, next, release) {
+  if (reply.sent === true) return release()
   return fn(reply.request, reply, next)
 }
 
