[{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/22056323","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-22056323","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":22056323,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDU2MzIz","user":{"login":"c1b3rh4ck","id":409180,"node_id":"MDQ6VXNlcjQwOTE4MA==","avatar_url":"https://avatars.githubusercontent.com/u/409180?v=4","gravatar_id":"","url":"https://api.github.com/users/c1b3rh4ck","html_url":"https://github.com/c1b3rh4ck","followers_url":"https://api.github.com/users/c1b3rh4ck/followers","following_url":"https://api.github.com/users/c1b3rh4ck/following{/other_user}","gists_url":"https://api.github.com/users/c1b3rh4ck/gists{/gist_id}","starred_url":"https://api.github.com/users/c1b3rh4ck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c1b3rh4ck/subscriptions","organizations_url":"https://api.github.com/users/c1b3rh4ck/orgs","repos_url":"https://api.github.com/users/c1b3rh4ck/repos","events_url":"https://api.github.com/users/c1b3rh4ck/events{/privacy}","received_events_url":"https://api.github.com/users/c1b3rh4ck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-08-03T15:12:12Z","updated_at":"2013-08-03T15:12:12Z","body":"i can't reproduce that,Does anyone have the same trouble ?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/22056323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"c1b3rh4ck","id":409180,"node_id":"MDQ6VXNlcjQwOTE4MA==","avatar_url":"https://avatars.githubusercontent.com/u/409180?v=4","gravatar_id":"","url":"https://api.github.com/users/c1b3rh4ck","html_url":"https://github.com/c1b3rh4ck","followers_url":"https://api.github.com/users/c1b3rh4ck/followers","following_url":"https://api.github.com/users/c1b3rh4ck/following{/other_user}","gists_url":"https://api.github.com/users/c1b3rh4ck/gists{/gist_id}","starred_url":"https://api.github.com/users/c1b3rh4ck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c1b3rh4ck/subscriptions","organizations_url":"https://api.github.com/users/c1b3rh4ck/orgs","repos_url":"https://api.github.com/users/c1b3rh4ck/repos","events_url":"https://api.github.com/users/c1b3rh4ck/events{/privacy}","received_events_url":"https://api.github.com/users/c1b3rh4ck/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/25497023","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-25497023","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":25497023,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDk3MDIz","user":{"login":"pswaminathan","id":2104106,"node_id":"MDQ6VXNlcjIxMDQxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2104106?v=4","gravatar_id":"","url":"https://api.github.com/users/pswaminathan","html_url":"https://github.com/pswaminathan","followers_url":"https://api.github.com/users/pswaminathan/followers","following_url":"https://api.github.com/users/pswaminathan/following{/other_user}","gists_url":"https://api.github.com/users/pswaminathan/gists{/gist_id}","starred_url":"https://api.github.com/users/pswaminathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pswaminathan/subscriptions","organizations_url":"https://api.github.com/users/pswaminathan/orgs","repos_url":"https://api.github.com/users/pswaminathan/repos","events_url":"https://api.github.com/users/pswaminathan/events{/privacy}","received_events_url":"https://api.github.com/users/pswaminathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-10-01T22:24:02Z","updated_at":"2013-10-01T22:24:02Z","body":"I am having the same trouble, with a GZipped file. Looking at other people on Stack Overflow, etc having this problem (https://groups.google.com/forum/#!msg/pysftp/ReEdm1tbFgs/OigomtMYtXAJ, http://stackoverflow.com/questions/18028440/paramiko-sftp-get-error), the problem seems like it might be with gzipped files (like the first), or binary files in general (I can't tell what type of file is in the second).\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/25497023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pswaminathan","id":2104106,"node_id":"MDQ6VXNlcjIxMDQxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2104106?v=4","gravatar_id":"","url":"https://api.github.com/users/pswaminathan","html_url":"https://github.com/pswaminathan","followers_url":"https://api.github.com/users/pswaminathan/followers","following_url":"https://api.github.com/users/pswaminathan/following{/other_user}","gists_url":"https://api.github.com/users/pswaminathan/gists{/gist_id}","starred_url":"https://api.github.com/users/pswaminathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pswaminathan/subscriptions","organizations_url":"https://api.github.com/users/pswaminathan/orgs","repos_url":"https://api.github.com/users/pswaminathan/repos","events_url":"https://api.github.com/users/pswaminathan/events{/privacy}","received_events_url":"https://api.github.com/users/pswaminathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/26470877","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-26470877","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":26470877,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDcwODc3","user":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-10-17T00:29:13Z","updated_at":"2013-10-17T00:29:13Z","body":"Kinda-sorta related to #187 (though I think that is asking for a value-add, whereas this here implies simply downloading a gzipped file is outright broken.)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/26470877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/26523041","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-26523041","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":26523041,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTIzMDQx","user":{"login":"pswaminathan","id":2104106,"node_id":"MDQ6VXNlcjIxMDQxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2104106?v=4","gravatar_id":"","url":"https://api.github.com/users/pswaminathan","html_url":"https://github.com/pswaminathan","followers_url":"https://api.github.com/users/pswaminathan/followers","following_url":"https://api.github.com/users/pswaminathan/following{/other_user}","gists_url":"https://api.github.com/users/pswaminathan/gists{/gist_id}","starred_url":"https://api.github.com/users/pswaminathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pswaminathan/subscriptions","organizations_url":"https://api.github.com/users/pswaminathan/orgs","repos_url":"https://api.github.com/users/pswaminathan/repos","events_url":"https://api.github.com/users/pswaminathan/events{/privacy}","received_events_url":"https://api.github.com/users/pswaminathan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-10-17T16:17:08Z","updated_at":"2013-10-17T16:17:08Z","body":"After investigating this more, I don't think it's strictly a gzip-file issue. On the same server where I was getting that error on a gzip-file, I've also started getting it on text files. I'm getting the same issues when using PHP's standard SSH2 library as well. I have a feeling it's server-specific, and I'm working with that particular server admin to figure it out.\n\nIf/when we figure out what's going on, hopefully that'll lead us to a good check for it.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/26523041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pswaminathan","id":2104106,"node_id":"MDQ6VXNlcjIxMDQxMDY=","avatar_url":"https://avatars.githubusercontent.com/u/2104106?v=4","gravatar_id":"","url":"https://api.github.com/users/pswaminathan","html_url":"https://github.com/pswaminathan","followers_url":"https://api.github.com/users/pswaminathan/followers","following_url":"https://api.github.com/users/pswaminathan/following{/other_user}","gists_url":"https://api.github.com/users/pswaminathan/gists{/gist_id}","starred_url":"https://api.github.com/users/pswaminathan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pswaminathan/subscriptions","organizations_url":"https://api.github.com/users/pswaminathan/orgs","repos_url":"https://api.github.com/users/pswaminathan/repos","events_url":"https://api.github.com/users/pswaminathan/events{/privacy}","received_events_url":"https://api.github.com/users/pswaminathan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-21T19:19:46Z","updated_at":"2015-05-21T19:19:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/530","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/530/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/530/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/530/events","html_url":"https://github.com/paramiko/paramiko/issues/530","id":79109803,"node_id":"MDU6SXNzdWU3OTEwOTgwMw==","number":530,"title":"'The message [...] is not extractable!' on calls to getfo","user":{"login":"ryanahall","id":448356,"node_id":"MDQ6VXNlcjQ0ODM1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/448356?v=4","gravatar_id":"","url":"https://api.github.com/users/ryanahall","html_url":"https://github.com/ryanahall","followers_url":"https://api.github.com/users/ryanahall/followers","following_url":"https://api.github.com/users/ryanahall/following{/other_user}","gists_url":"https://api.github.com/users/ryanahall/gists{/gist_id}","starred_url":"https://api.github.com/users/ryanahall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ryanahall/subscriptions","organizations_url":"https://api.github.com/users/ryanahall/orgs","repos_url":"https://api.github.com/users/ryanahall/repos","events_url":"https://api.github.com/users/ryanahall/events{/privacy}","received_events_url":"https://api.github.com/users/ryanahall/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60522311,"node_id":"MDU6TGFiZWw2MDUyMjMxMQ==","url":"https://api.github.com/repos/paramiko/paramiko/labels/Needs%20investigation","name":"Needs investigation","color":"fad8c7","default":false,"description":null},{"id":120561399,"node_id":"MDU6TGFiZWwxMjA1NjEzOTk=","url":"https://api.github.com/repos/paramiko/paramiko/labels/Bug","name":"Bug","color":"a04040","default":false,"description":null},{"id":120584130,"node_id":"MDU6TGFiZWwxMjA1ODQxMzA=","url":"https://api.github.com/repos/paramiko/paramiko/labels/SFTP","name":"SFTP","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-21T18:26:45Z","updated_at":"2015-05-21T19:19:46Z","closed_at":"2015-05-21T19:19:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm currently running into this error when calling getfo on files that exist on the remote server. It seems to fail during CMD_STAT requests when the file is already opened for reading, but the same CMD_STAT will work if I manually call it without opening the file first. I imagine this is probably related to the configuration of the sftp server I'm connecting to, but I figured I should file an issue ayway.\n\nHere's two manual calls of CMD_STAT on the same server/file, one with it already opened and the other not. getfo() uses the first approach of opening and then calling stat() seen here: https://github.com/paramiko/paramiko/blob/master/paramiko/sftp_client.py#L688-L689\n\n```\nIn [43]: with sftpc.open('[removed]', 'rb') as fr:\n   ....:     sftpc._request(CMD_STAT, '[removed]')\n   ....:\n---------------------------------------------------------------------------\nIOError                                   Traceback (most recent call last)\n<ipython-input-43-b71244708fe4> in <module>()\n      1 with sftpc.open('[removed]', 'rb') as fr:\n----> 2     sftpc._request(CMD_STAT, '[removed]')\n      3\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _request(self, t, *arg)\n    727     def _request(self, t, *arg):\n    728         num = self._async_request(type(None), t, *arg)\n--> 729         return self._read_response(num)\n    730\n    731     def _async_request(self, fileobj, t, *arg):\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _read_response(self, waitfor)\n    774                 # synchronous\n    775                 if t == CMD_STATUS:\n--> 776                     self._convert_status(msg)\n    777                 return t, msg\n    778             if fileobj is not type(None):\n\n/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/paramiko/sftp_client.pyc in _convert_status(self, msg)\n    800         elif code == SFTP_NO_SUCH_FILE:\n    801             # clever idea from john a. meinel: map the error codes to errno\n--> 802             raise IOError(errno.ENOENT, text)\n    803         elif code == SFTP_PERMISSION_DENIED:\n    804             raise IOError(errno.EACCES, text)\n\nIOError: [Errno 2] The message [[removed]] is not extractable!\n\nIn [44]: sftpc._request(CMD_STAT, '[removed]')\nOut[44]:\n(105,\n paramiko.Message('\\x00\\x00\\x00.....'))\n```\n","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/530/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/104393486","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-104393486","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":104393486,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNDM5MzQ4Ng==","user":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-21T19:20:12Z","updated_at":"2015-05-21T19:20:12Z","body":"See #530 which _feels like_ the same issue, and indicates it may be a problem with open file handles on the server side.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/104393486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/123215391","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-123215391","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":123215391,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzIxNTM5MQ==","user":{"login":"torkil","id":186161,"node_id":"MDQ6VXNlcjE4NjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/186161?v=4","gravatar_id":"","url":"https://api.github.com/users/torkil","html_url":"https://github.com/torkil","followers_url":"https://api.github.com/users/torkil/followers","following_url":"https://api.github.com/users/torkil/following{/other_user}","gists_url":"https://api.github.com/users/torkil/gists{/gist_id}","starred_url":"https://api.github.com/users/torkil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torkil/subscriptions","organizations_url":"https://api.github.com/users/torkil/orgs","repos_url":"https://api.github.com/users/torkil/repos","events_url":"https://api.github.com/users/torkil/events{/privacy}","received_events_url":"https://api.github.com/users/torkil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T08:41:14Z","updated_at":"2015-07-21T08:41:14Z","body":"I second that #530 feels like the same issue, and I think it's a case of paramiko not working well with IBM Sterling, most likely due to a bug/config issue. This may be related http://www-01.ibm.com/support/docview.wss?uid=swg1IT02065\n\nLike others in this and related threads I have been able to get around it by modifying the getfo-call. The files I care about is only \"extractable\" once so right now I am out of files to fetch, but I will return to this later in the week.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/123215391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"torkil","id":186161,"node_id":"MDQ6VXNlcjE4NjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/186161?v=4","gravatar_id":"","url":"https://api.github.com/users/torkil","html_url":"https://github.com/torkil","followers_url":"https://api.github.com/users/torkil/followers","following_url":"https://api.github.com/users/torkil/following{/other_user}","gists_url":"https://api.github.com/users/torkil/gists{/gist_id}","starred_url":"https://api.github.com/users/torkil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torkil/subscriptions","organizations_url":"https://api.github.com/users/torkil/orgs","repos_url":"https://api.github.com/users/torkil/repos","events_url":"https://api.github.com/users/torkil/events{/privacy}","received_events_url":"https://api.github.com/users/torkil/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"torkil","id":186161,"node_id":"MDQ6VXNlcjE4NjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/186161?v=4","gravatar_id":"","url":"https://api.github.com/users/torkil","html_url":"https://github.com/torkil","followers_url":"https://api.github.com/users/torkil/followers","following_url":"https://api.github.com/users/torkil/following{/other_user}","gists_url":"https://api.github.com/users/torkil/gists{/gist_id}","starred_url":"https://api.github.com/users/torkil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torkil/subscriptions","organizations_url":"https://api.github.com/users/torkil/orgs","repos_url":"https://api.github.com/users/torkil/repos","events_url":"https://api.github.com/users/torkil/events{/privacy}","received_events_url":"https://api.github.com/users/torkil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-30T19:20:41Z","updated_at":"2015-07-30T19:20:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/562","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/562/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/562/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/562/events","html_url":"https://github.com/paramiko/paramiko/pull/562","id":96794997,"node_id":"MDExOlB1bGxSZXF1ZXN0NDA2NjMyMDQ=","number":562,"title":"Call stat before opening file for reading","user":{"login":"torkil","id":186161,"node_id":"MDQ6VXNlcjE4NjE2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/186161?v=4","gravatar_id":"","url":"https://api.github.com/users/torkil","html_url":"https://github.com/torkil","followers_url":"https://api.github.com/users/torkil/followers","following_url":"https://api.github.com/users/torkil/following{/other_user}","gists_url":"https://api.github.com/users/torkil/gists{/gist_id}","starred_url":"https://api.github.com/users/torkil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torkil/subscriptions","organizations_url":"https://api.github.com/users/torkil/orgs","repos_url":"https://api.github.com/users/torkil/repos","events_url":"https://api.github.com/users/torkil/events{/privacy}","received_events_url":"https://api.github.com/users/torkil/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":60520372,"node_id":"MDU6TGFiZWw2MDUyMDM3Mg==","url":"https://api.github.com/repos/paramiko/paramiko/labels/Ready%20for%20review","name":"Ready for review","color":"bfe5bf","default":false,"description":null},{"id":120561399,"node_id":"MDU6TGFiZWwxMjA1NjEzOTk=","url":"https://api.github.com/repos/paramiko/paramiko/labels/Bug","name":"Bug","color":"a04040","default":false,"description":null},{"id":120584130,"node_id":"MDU6TGFiZWwxMjA1ODQxMzA=","url":"https://api.github.com/repos/paramiko/paramiko/labels/SFTP","name":"SFTP","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-07-23T11:48:02Z","updated_at":"2015-11-04T22:53:56Z","closed_at":"2015-11-04T22:53:56Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/paramiko/paramiko/pulls/562","html_url":"https://github.com/paramiko/paramiko/pull/562","diff_url":"https://github.com/paramiko/paramiko/pull/562.diff","patch_url":"https://github.com/paramiko/paramiko/pull/562.patch","merged_at":"2015-11-04T22:53:56Z"},"body":"Calling stat after opening a file for reading will in some server\nconfigurations(?) lead to IOError: The message 'filename' is\nnot extractable.\n","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/562/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/146911309","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-146911309","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":146911309,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjkxMTMwOQ==","user":{"login":"bufke","id":739307,"node_id":"MDQ6VXNlcjczOTMwNw==","avatar_url":"https://avatars.githubusercontent.com/u/739307?v=4","gravatar_id":"","url":"https://api.github.com/users/bufke","html_url":"https://github.com/bufke","followers_url":"https://api.github.com/users/bufke/followers","following_url":"https://api.github.com/users/bufke/following{/other_user}","gists_url":"https://api.github.com/users/bufke/gists{/gist_id}","starred_url":"https://api.github.com/users/bufke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bufke/subscriptions","organizations_url":"https://api.github.com/users/bufke/orgs","repos_url":"https://api.github.com/users/bufke/repos","events_url":"https://api.github.com/users/bufke/events{/privacy}","received_events_url":"https://api.github.com/users/bufke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-09T16:01:05Z","updated_at":"2015-10-09T16:01:27Z","body":"I had to comment out two lines to work around this. I assume this will break the callback feature.\n\n```\nclass HorribleIBM_SFTPClient(paramiko.SFTPClient):\n    def getfo(self, remotepath, fl, callback=None):\n        with self.open(remotepath, 'rb') as fr:\n            #file_size = self.stat(remotepath).st_size\n            #fr.prefetch()\n            size = 0\n            while True:\n                data = fr.read(32768)\n                fl.write(data)\n                size += len(data)\n                if callback is not None:\n                    callback(size, file_size)\n                if len(data) == 0:\n                    break\n        return size\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/146911309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bufke","id":739307,"node_id":"MDQ6VXNlcjczOTMwNw==","avatar_url":"https://avatars.githubusercontent.com/u/739307?v=4","gravatar_id":"","url":"https://api.github.com/users/bufke","html_url":"https://github.com/bufke","followers_url":"https://api.github.com/users/bufke/followers","following_url":"https://api.github.com/users/bufke/following{/other_user}","gists_url":"https://api.github.com/users/bufke/gists{/gist_id}","starred_url":"https://api.github.com/users/bufke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bufke/subscriptions","organizations_url":"https://api.github.com/users/bufke/orgs","repos_url":"https://api.github.com/users/bufke/repos","events_url":"https://api.github.com/users/bufke/events{/privacy}","received_events_url":"https://api.github.com/users/bufke/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-03T20:39:52Z","updated_at":"2015-11-03T20:39:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/576","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/576/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/576/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/576/events","html_url":"https://github.com/paramiko/paramiko/issues/576","id":101575537,"node_id":"MDU6SXNzdWUxMDE1NzU1Mzc=","number":576,"title":"Problem downloading files from SFTP Servers that have a \"one time download\" mechanism","user":{"login":"mwarnes","id":13145311,"node_id":"MDQ6VXNlcjEzMTQ1MzEx","avatar_url":"https://avatars.githubusercontent.com/u/13145311?v=4","gravatar_id":"","url":"https://api.github.com/users/mwarnes","html_url":"https://github.com/mwarnes","followers_url":"https://api.github.com/users/mwarnes/followers","following_url":"https://api.github.com/users/mwarnes/following{/other_user}","gists_url":"https://api.github.com/users/mwarnes/gists{/gist_id}","starred_url":"https://api.github.com/users/mwarnes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwarnes/subscriptions","organizations_url":"https://api.github.com/users/mwarnes/orgs","repos_url":"https://api.github.com/users/mwarnes/repos","events_url":"https://api.github.com/users/mwarnes/events{/privacy}","received_events_url":"https://api.github.com/users/mwarnes/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-08-18T05:38:20Z","updated_at":"2015-11-03T20:41:01Z","closed_at":"2015-11-03T20:39:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi\n\nWe ran into an issue downloading files from an IBM Sterling Integrator SFTPmailbox, which has a one time download flag (Extractable count=1) set on the file.\n\nWithout the Extractable count set to 1 file downloads work as expected\n\nINFO:paramiko.transport.sftp:[chan 0] Opened sftp connection (server version 3)\nDEBUG:paramiko.transport.sftp:[chan 0] listdir('/Testa')\nDEBUG:paramiko.transport.sftp:[chan 0] stat('/Testa/scc.pk7')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb') -> 31\nDEBUG:paramiko.transport.sftp:[chan 0] stat('/Testa/scc.pk7')\nDEBUG:paramiko.transport.sftp:[chan 0] close(31)\nINFO:paramiko.transport.sftp:[chan 0] sftp session closed.\nDEBUG:paramiko.transport:[chan 0] EOF sent (0)\nDEBUG:paramiko.transport:EOF in transport thread\n\nThe problem is that when a file has an Extractable count of 1 the moment it is opened the extractable count is set to zero to prevent any further downloads (if the original download attemt fails the count is reet). What we've see is that after the file is opened an additonal SSH_FXP_STAT command is issued but be cause the Extractable count is zero the IBM Sterling Integrator SFTP Server returns a file not found error=2 and the transfer fails.\n\nINFO:paramiko.transport.sftp:[chan 0] Opened sftp connection (server version 3)\nDEBUG:paramiko.transport.sftp:[chan 0] listdir('/Testa')\nDEBUG:paramiko.transport.sftp:[chan 0] stat('/Testa/scc.pk7')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb') -> 31\nDEBUG:paramiko.transport.sftp:[chan 0] stat('/Testa/scc.pk7')\nDEBUG:paramiko.transport.sftp:[chan 0] close(31)\nTraceback (most recent call last):\n  File \"testsftp.py\", line 71, in <module>\n    main()\n  File \"testsftp.py\", line 24, in main\n    ftp.retrieve_files(remote_location)\n  File \"testsftp.py\", line 61, in retrieve_files\n    self._retrieve_files(file_list)\n  File \"testsftp.py\", line 57, in _retrieve_files\n    self.ftp.get(remote_file_path, file_location)\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 720, in get\n    size = self.getfo(remotepath, fl, callback)\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 689, in getfo\n    file_size = self.stat(remotepath).st_size\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 413, in stat\n    t, msg = self._request(CMD_STAT, path)\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 729, in _request\n    return self._read_response(num)\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 776, in _read_response\n    self._convert_status(msg)\n  File \"/usr/local/lib/python2.7/site-packages/paramiko/sftp_client.py\", line 802, in _convert_status\n    raise IOError(errno.ENOENT, text)\nIOError: [Errno 2] The message [/Testa/scc.pk7] is not extractable!\nDEBUG:paramiko.transport:EOF in transport thread\nINFO:paramiko.transport.sftp:[chan 0] sftp session closed.\n\nUpon investigation we found that the STAT command was issued in get() to obatin the file size and again in getfo() and prefetch() which does not work if the SFTP Server is flagging as not available after the initial open.\n\nI made a small modification to use the file size returned from the initial STAT command in get() and pass it to getfo() and prefretch() as a parameter so that further STAT commands are not issued for the remote file.\n\nINFO:paramiko.transport.sftp:[chan 0] Opened sftp connection (server version 3)\nDEBUG:paramiko.transport.sftp:[chan 0] listdir('/Testa')\nDEBUG:paramiko.transport.sftp:[chan 0] stat('/Testa/scc.pk7')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb')\nDEBUG:paramiko.transport.sftp:[chan 0] open('/Testa/scc.pk7', 'rb') -> 31\nDEBUG:paramiko.transport.sftp:[chan 0] close(31)\nINFO:paramiko.transport.sftp:[chan 0] sftp session closed.\nDEBUG:paramiko.transport:[chan 0] EOF sent (0)\nDEBUG:paramiko.transport:EOF in transport thread\n\nPatch against current repository below:\n\nCheers .. Martin Warnes\n\ndiff --git a/paramiko/sftp_client.py b/paramiko/sftp_client.py\nindex 6d48e69..eb0ac99 100644\n--- a/paramiko/sftp_client.py\n+++ b/paramiko/sftp_client.py\n@@ -669,7 +669,7 @@ class SFTPClient(BaseSFTP, ClosingContextManager):\n         with open(localpath, 'rb') as fl:\n             return self.putfo(fl, remotepath, file_size, callback, confirm)\n-    def getfo(self, remotepath, fl, callback=None):\n-    def getfo(self, remotepath, fl, file_size=0, callback=None):\n       \"\"\"\n       Copy a remote file (`remotepath`) from the SFTP server and write to\n       an open file or file-like object, `fl`.  Any exception raised by\n  @@ -679,6 +679,9 @@ class SFTPClient(BaseSFTP, ClosingContextManager):\n       :param object remotepath: opened file or file-like object to copy to\n       :param str fl:\n           the destination path on the local host or open file object\n-        :param int file_size:\n-                    optional size parameter passed to callback. If none is specified,\n-                    size defaults to 0\n       :param callable callback:\n           optional callback function (form: `func(int, int)`) that accepts\n           the bytes transferred so far and the total bytes to be transferred\n  @@ -687,8 +690,7 @@ class SFTPClient(BaseSFTP, ClosingContextManager):\n       .. versionadded:: 1.10\n       \"\"\"\n       with self.open(remotepath, 'rb') as fr:\n-            file_size = self.stat(remotepath).st_size\n-            fr.prefetch()\n-            fr.prefetch(file_size)\n           size = 0\n           while True:\n               data = fr.read(32768)\n  @@ -716,9 +718,10 @@ class SFTPClient(BaseSFTP, ClosingContextManager):\n       .. versionchanged:: 1.7.4\n           Added the `callback` param\n       \"\"\"\n       file_size = self.stat(remotepath).st_size\n       with open(localpath, 'wb') as fl:\n-            size = self.getfo(remotepath, fl, callback)\n- ```\n         size = self.getfo(remotepath, fl, file_size,callback)\n   s = os.stat(localpath)\n   if s.st_size != size:\n       raise IOError('size mismatch in get!  %d != %d' % (s.st_size, size))\n  ```\n  \n  diff --git a/paramiko/sftp_file.py b/paramiko/sftp_file.py\n  index d0a37da..29e9ca4 100644\n  --- a/paramiko/sftp_file.py\n  +++ b/paramiko/sftp_file.py\n  @@ -379,7 +379,7 @@ class SFTPFile (BufferedFile):\n       \"\"\"\n       self.pipelined = pipelined\n-    def prefetch(self):\n-    def prefetch(self, size):\n       \"\"\"\n       Pre-fetch the remaining contents of this file in anticipation of future\n       `.read` calls.  If reading the entire file, pre-fetching can\n  @@ -393,7 +393,6 @@ class SFTPFile (BufferedFile):\n  \n  ```\n   .. versionadded:: 1.5.1\n   \"\"\"\n  ```\n-        size = self.stat().st_size\n       # queue up async reads for the rest of the file\n       chunks = []\n       n = self._realpos\n","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/576/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/153481658","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-153481658","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":153481658,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MzQ4MTY1OA==","user":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-03T20:41:49Z","updated_at":"2015-11-03T20:41:49Z","body":"@bufke Did you get a chance to try the changes from #562 or #579? They seem to be less-disruptive modifications achieving a similar end.\n\nRolling other open tickets (hi #576) into this one. Leaving both of those mentioned PRs open for now, they appear to accomplish the same goal in similar but distinct ways, need to take a closer look and compare pros/cons.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/153481658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":453668532,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDUzNjY4NTMy","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453668532","actor":{"login":"bufke","id":739307,"node_id":"MDQ6VXNlcjczOTMwNw==","avatar_url":"https://avatars.githubusercontent.com/u/739307?v=4","gravatar_id":"","url":"https://api.github.com/users/bufke","html_url":"https://github.com/bufke","followers_url":"https://api.github.com/users/bufke/followers","following_url":"https://api.github.com/users/bufke/following{/other_user}","gists_url":"https://api.github.com/users/bufke/gists{/gist_id}","starred_url":"https://api.github.com/users/bufke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bufke/subscriptions","organizations_url":"https://api.github.com/users/bufke/orgs","repos_url":"https://api.github.com/users/bufke/repos","events_url":"https://api.github.com/users/bufke/events{/privacy}","received_events_url":"https://api.github.com/users/bufke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:41:49Z","performed_via_github_app":null},{"id":453668533,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ1MzY2ODUzMw==","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453668533","actor":{"login":"bufke","id":739307,"node_id":"MDQ6VXNlcjczOTMwNw==","avatar_url":"https://avatars.githubusercontent.com/u/739307?v=4","gravatar_id":"","url":"https://api.github.com/users/bufke","html_url":"https://github.com/bufke","followers_url":"https://api.github.com/users/bufke/followers","following_url":"https://api.github.com/users/bufke/following{/other_user}","gists_url":"https://api.github.com/users/bufke/gists{/gist_id}","starred_url":"https://api.github.com/users/bufke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bufke/subscriptions","organizations_url":"https://api.github.com/users/bufke/orgs","repos_url":"https://api.github.com/users/bufke/repos","events_url":"https://api.github.com/users/bufke/events{/privacy}","received_events_url":"https://api.github.com/users/bufke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:41:49Z","performed_via_github_app":null},{"id":453669370,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDUzNjY5Mzcw","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453669370","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:42:38Z","rename":{"from":"Getting error on SFTP","to":"\"Message is not extractable\" errors from offspec SFTP servers (possibly all IBM)"},"performed_via_github_app":null},{"id":453670135,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1MzY3MDEzNQ==","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453670135","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:43:26Z","label":{"name":"Ready for review","color":"bfe5bf"},"performed_via_github_app":null},{"id":453670136,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1MzY3MDEzNg==","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453670136","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:43:26Z","label":{"name":"Bug","color":"a04040"},"performed_via_github_app":null},{"id":453670137,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ1MzY3MDEzNw==","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453670137","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:43:26Z","label":{"name":"SFTP","color":"fbca04"},"performed_via_github_app":null},{"id":453670162,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ1MzY3MDE2Mg==","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/453670162","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-11-03T20:43:29Z","milestone":{"title":"1.16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/153893100","html_url":"https://github.com/paramiko/paramiko/issues/194#issuecomment-153893100","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/194","id":153893100,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Mzg5MzEwMA==","user":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:42:44Z","updated_at":"2015-11-04T22:43:42Z","body":"Comparing the two PRs:\n- First, in reading them and the current version of the code, I note the following things:\n  - In a regular `SFTPClient.get(path)` call, `stat` is called not once, not twice, but _three_ times!\n    - Once within `get()` (but the result isn't used; guessing it's cruft.)\n    - Once within `getfo()` (handed to the callback if `callback` is given)\n    - Once within `SFTPFile.prefetch()` (which is always called, within `getfo()`) (within `prefetch`, the resulting file size is used to do the actual prefetching)\n  - There is confusion as to the true cause of the errors in question, as seen below.\n    - So either this is still masking multiple similar but distinct issues, or one of the PRs is \"wrong\" (tho I assume both authors tested their PRs, so...`\\_()_/`)\n- #579 notices the multi-stat-calling I mentioned above, and updates `getfo` and `prefetch` so a single initial `stat` result is passed around.\n  - It's not explicitly stated in the PR but this also happens to make `get`/`getfo` consistent with `put`/`putfo`, which apparently already did this in exactly the same fashion.\n  - Unfortunately, the change is backwards incompatible re: `getfo`'s signature, and `getfo` is technically public (I know some users use it directly instead of `get`) so we'd need to swap that around (and then it'll be inconsistent with `putfo`...something to probably fix in 2.0 if possible).\n  - Further, the change means that users of `getfo` are now responsible for running the initial passed-in `stat` themselves if they want callback functionality to work correctly (& if they don't it's probably a confusing bug to troubleshoot since it just silently ends up 0).\n    - Since the initial `stat` in `get()` is unused, I see no reason not to just push it into `getfo` anyways, which would fix this.\n    - Because `putfo` already does this, anybody directly using it also has the same potential problem. (And we can probably fix that the same way as in previous bullet point.)\n  - Not a fan of a few other minor things in that PR like the pointless log line :( but those can be easily tweaked.\n- #562 seems to think the issue is the calling of `stat` within the `open` contextmanager, and opts to move the `stat` call in `getfo` above the contextmanager block.\n  - It then, like #579, reuses that result inside `prefetch`.\n  - It does not nix the useless `stat` in `get()`, but if its diagnosis is accurate (the problem is calling `stat` after `open`, not the number of `stat` calls) it's irrelevant.\n  - This approach doesn't have the side effect of semi-unifying `getfo` and `putfo` but as stated earlier that's not actually possible w/o breaking backwards compat, so I'm going to ignore it for now; it's not a big deal.\n- Given all the above, I'm going to opt to start with #562 and then modify it a bit to nuke the vestigial first `stat`.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/153893100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-04T22:49:23Z","updated_at":"2015-11-04T22:49:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/579","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/579/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/579/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/579/events","html_url":"https://github.com/paramiko/paramiko/pull/579","id":103204336,"node_id":"MDExOlB1bGxSZXF1ZXN0NDMzNzQ0OTY=","number":579,"title":"Update sftp_client.py and sftp_file.py so that STAT on a file is only","user":{"login":"mwarnes","id":13145311,"node_id":"MDQ6VXNlcjEzMTQ1MzEx","avatar_url":"https://avatars.githubusercontent.com/u/13145311?v=4","gravatar_id":"","url":"https://api.github.com/users/mwarnes","html_url":"https://github.com/mwarnes","followers_url":"https://api.github.com/users/mwarnes/followers","following_url":"https://api.github.com/users/mwarnes/following{/other_user}","gists_url":"https://api.github.com/users/mwarnes/gists{/gist_id}","starred_url":"https://api.github.com/users/mwarnes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwarnes/subscriptions","organizations_url":"https://api.github.com/users/mwarnes/orgs","repos_url":"https://api.github.com/users/mwarnes/repos","events_url":"https://api.github.com/users/mwarnes/events{/privacy}","received_events_url":"https://api.github.com/users/mwarnes/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":120561399,"node_id":"MDU6TGFiZWwxMjA1NjEzOTk=","url":"https://api.github.com/repos/paramiko/paramiko/labels/Bug","name":"Bug","color":"a04040","default":false,"description":null},{"id":120584130,"node_id":"MDU6TGFiZWwxMjA1ODQxMzA=","url":"https://api.github.com/repos/paramiko/paramiko/labels/SFTP","name":"SFTP","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-26T08:06:18Z","updated_at":"2015-11-04T22:49:23Z","closed_at":"2015-11-04T22:49:23Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/paramiko/paramiko/pulls/579","html_url":"https://github.com/paramiko/paramiko/pull/579","diff_url":"https://github.com/paramiko/paramiko/pull/579.diff","patch_url":"https://github.com/paramiko/paramiko/pull/579.patch","merged_at":null},"body":" called once and the value passed to any required subroutines.\n\nThis is to allow support for the IBM Sterling Integrator SFTP Server when files are defined with an extractability count of 1.\n\nFiles with an extractability count of 1 will become unavailable once the GET request has started and any subsequent STAT commands to obtain the file size will fail with a file not found error.\n","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/579/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":455105040,"node_id":"MDExOkNsb3NlZEV2ZW50NDU1MTA1MDQw","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/455105040","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"935711b5a17370494a7b2b8b4587f5466badf1e8","commit_url":"https://api.github.com/repos/paramiko/paramiko/commits/935711b5a17370494a7b2b8b4587f5466badf1e8","created_at":"2015-11-04T22:53:57Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-25T00:34:35Z","updated_at":"2016-04-25T00:34:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/29","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/29/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/29/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/29/events","html_url":"https://github.com/paramiko/paramiko/issues/29","id":1348695,"node_id":"MDU6SXNzdWUxMzQ4Njk1","number":29,"title":"SFTPClient.get raise IOError","user":{"login":"eight","id":145639,"node_id":"MDQ6VXNlcjE0NTYzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/145639?v=4","gravatar_id":"","url":"https://api.github.com/users/eight","html_url":"https://github.com/eight","followers_url":"https://api.github.com/users/eight/followers","following_url":"https://api.github.com/users/eight/following{/other_user}","gists_url":"https://api.github.com/users/eight/gists{/gist_id}","starred_url":"https://api.github.com/users/eight/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eight/subscriptions","organizations_url":"https://api.github.com/users/eight/orgs","repos_url":"https://api.github.com/users/eight/repos","events_url":"https://api.github.com/users/eight/events{/privacy}","received_events_url":"https://api.github.com/users/eight/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-08-05T01:27:32Z","updated_at":"2016-04-25T00:34:35Z","closed_at":"2016-04-25T00:34:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I' had same problem with this.\n  IOError, can not run sftp.get\n  https://bugs.launchpad.net/paramiko/+bug/689903\n\nAnd the problem is fixed by this patch.\n  paramiko.SFTPClient get prefetch() raises \"Operation unsupported\" error\n  https://bugs.launchpad.net/paramiko/+bug/510867\n\nSo, please include this patch into the official package.\n","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/29/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/29/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"wardn","id":23034,"node_id":"MDQ6VXNlcjIzMDM0","avatar_url":"https://avatars.githubusercontent.com/u/23034?v=4","gravatar_id":"","url":"https://api.github.com/users/wardn","html_url":"https://github.com/wardn","followers_url":"https://api.github.com/users/wardn/followers","following_url":"https://api.github.com/users/wardn/following{/other_user}","gists_url":"https://api.github.com/users/wardn/gists{/gist_id}","starred_url":"https://api.github.com/users/wardn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wardn/subscriptions","organizations_url":"https://api.github.com/users/wardn/orgs","repos_url":"https://api.github.com/users/wardn/repos","events_url":"https://api.github.com/users/wardn/events{/privacy}","received_events_url":"https://api.github.com/users/wardn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-01T23:15:23Z","updated_at":"2017-12-01T23:15:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pkg/sftp/issues/206","repository_url":"https://api.github.com/repos/pkg/sftp","labels_url":"https://api.github.com/repos/pkg/sftp/issues/206/labels{/name}","comments_url":"https://api.github.com/repos/pkg/sftp/issues/206/comments","events_url":"https://api.github.com/repos/pkg/sftp/issues/206/events","html_url":"https://github.com/pkg/sftp/pull/206","id":278624717,"node_id":"MDExOlB1bGxSZXF1ZXN0MTU1OTc4Njgw","number":206,"title":"Call stat before opening file for reading","user":{"login":"wardn","id":23034,"node_id":"MDQ6VXNlcjIzMDM0","avatar_url":"https://avatars.githubusercontent.com/u/23034?v=4","gravatar_id":"","url":"https://api.github.com/users/wardn","html_url":"https://github.com/wardn","followers_url":"https://api.github.com/users/wardn/followers","following_url":"https://api.github.com/users/wardn/following{/other_user}","gists_url":"https://api.github.com/users/wardn/gists{/gist_id}","starred_url":"https://api.github.com/users/wardn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wardn/subscriptions","organizations_url":"https://api.github.com/users/wardn/orgs","repos_url":"https://api.github.com/users/wardn/repos","events_url":"https://api.github.com/users/wardn/events{/privacy}","received_events_url":"https://api.github.com/users/wardn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-01T23:15:23Z","updated_at":"2017-12-04T16:48:58Z","closed_at":"2017-12-04T16:48:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14132192,"node_id":"MDEwOlJlcG9zaXRvcnkxNDEzMjE5Mg==","name":"sftp","full_name":"pkg/sftp","private":false,"owner":{"login":"pkg","id":5497984,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0OTc5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5497984?v=4","gravatar_id":"","url":"https://api.github.com/users/pkg","html_url":"https://github.com/pkg","followers_url":"https://api.github.com/users/pkg/followers","following_url":"https://api.github.com/users/pkg/following{/other_user}","gists_url":"https://api.github.com/users/pkg/gists{/gist_id}","starred_url":"https://api.github.com/users/pkg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkg/subscriptions","organizations_url":"https://api.github.com/users/pkg/orgs","repos_url":"https://api.github.com/users/pkg/repos","events_url":"https://api.github.com/users/pkg/events{/privacy}","received_events_url":"https://api.github.com/users/pkg/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pkg/sftp","description":"SFTP support for the go.crypto/ssh package","fork":false,"url":"https://api.github.com/repos/pkg/sftp","forks_url":"https://api.github.com/repos/pkg/sftp/forks","keys_url":"https://api.github.com/repos/pkg/sftp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pkg/sftp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pkg/sftp/teams","hooks_url":"https://api.github.com/repos/pkg/sftp/hooks","issue_events_url":"https://api.github.com/repos/pkg/sftp/issues/events{/number}","events_url":"https://api.github.com/repos/pkg/sftp/events","assignees_url":"https://api.github.com/repos/pkg/sftp/assignees{/user}","branches_url":"https://api.github.com/repos/pkg/sftp/branches{/branch}","tags_url":"https://api.github.com/repos/pkg/sftp/tags","blobs_url":"https://api.github.com/repos/pkg/sftp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pkg/sftp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pkg/sftp/git/refs{/sha}","trees_url":"https://api.github.com/repos/pkg/sftp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pkg/sftp/statuses/{sha}","languages_url":"https://api.github.com/repos/pkg/sftp/languages","stargazers_url":"https://api.github.com/repos/pkg/sftp/stargazers","contributors_url":"https://api.github.com/repos/pkg/sftp/contributors","subscribers_url":"https://api.github.com/repos/pkg/sftp/subscribers","subscription_url":"https://api.github.com/repos/pkg/sftp/subscription","commits_url":"https://api.github.com/repos/pkg/sftp/commits{/sha}","git_commits_url":"https://api.github.com/repos/pkg/sftp/git/commits{/sha}","comments_url":"https://api.github.com/repos/pkg/sftp/comments{/number}","issue_comment_url":"https://api.github.com/repos/pkg/sftp/issues/comments{/number}","contents_url":"https://api.github.com/repos/pkg/sftp/contents/{+path}","compare_url":"https://api.github.com/repos/pkg/sftp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pkg/sftp/merges","archive_url":"https://api.github.com/repos/pkg/sftp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pkg/sftp/downloads","issues_url":"https://api.github.com/repos/pkg/sftp/issues{/number}","pulls_url":"https://api.github.com/repos/pkg/sftp/pulls{/number}","milestones_url":"https://api.github.com/repos/pkg/sftp/milestones{/number}","notifications_url":"https://api.github.com/repos/pkg/sftp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pkg/sftp/labels{/name}","releases_url":"https://api.github.com/repos/pkg/sftp/releases{/id}","deployments_url":"https://api.github.com/repos/pkg/sftp/deployments","created_at":"2013-11-05T04:36:00Z","updated_at":"2025-11-07T13:57:04Z","pushed_at":"2025-10-27T19:03:31Z","git_url":"git://github.com/pkg/sftp.git","ssh_url":"git@github.com:pkg/sftp.git","clone_url":"https://github.com/pkg/sftp.git","svn_url":"https://github.com/pkg/sftp","homepage":null,"size":2811,"stargazers_count":1623,"watchers_count":1623,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":389,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":47,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","sftp"],"visibility":"public","forks":389,"open_issues":47,"watchers":1623,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pkg/sftp/pulls/206","html_url":"https://github.com/pkg/sftp/pull/206","diff_url":"https://github.com/pkg/sftp/pull/206.diff","patch_url":"https://github.com/pkg/sftp/pull/206.patch","merged_at":null},"body":"Calls .Stat() during .open() rather than during .WriteTo() and .Seek(). This is to address the an issue present in IBM instances with Extractability <= 1. The server doesn't allow Stat() to be called after a file descriptor has been opened.\r\n\r\nFor reference:\r\nparamiko/paramiko#194\r\nparamiko/paramiko#562\r\nparamiko/paramiko#579","reactions":{"url":"https://api.github.com/repos/pkg/sftp/issues/206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pkg/sftp/issues/206/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"newdayrising","id":19381608,"node_id":"MDQ6VXNlcjE5MzgxNjA4","avatar_url":"https://avatars.githubusercontent.com/u/19381608?v=4","gravatar_id":"","url":"https://api.github.com/users/newdayrising","html_url":"https://github.com/newdayrising","followers_url":"https://api.github.com/users/newdayrising/followers","following_url":"https://api.github.com/users/newdayrising/following{/other_user}","gists_url":"https://api.github.com/users/newdayrising/gists{/gist_id}","starred_url":"https://api.github.com/users/newdayrising/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/newdayrising/subscriptions","organizations_url":"https://api.github.com/users/newdayrising/orgs","repos_url":"https://api.github.com/users/newdayrising/repos","events_url":"https://api.github.com/users/newdayrising/events{/privacy}","received_events_url":"https://api.github.com/users/newdayrising/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-12T22:55:36Z","updated_at":"2020-03-12T22:55:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pkg/sftp/issues/339","repository_url":"https://api.github.com/repos/pkg/sftp","labels_url":"https://api.github.com/repos/pkg/sftp/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/pkg/sftp/issues/339/comments","events_url":"https://api.github.com/repos/pkg/sftp/issues/339/events","html_url":"https://github.com/pkg/sftp/issues/339","id":567708890,"node_id":"MDU6SXNzdWU1Njc3MDg4OTA=","number":339,"title":"\"File does not exist\" when copying remote file - SFTP client","user":{"login":"newdayrising","id":19381608,"node_id":"MDQ6VXNlcjE5MzgxNjA4","avatar_url":"https://avatars.githubusercontent.com/u/19381608?v=4","gravatar_id":"","url":"https://api.github.com/users/newdayrising","html_url":"https://github.com/newdayrising","followers_url":"https://api.github.com/users/newdayrising/followers","following_url":"https://api.github.com/users/newdayrising/following{/other_user}","gists_url":"https://api.github.com/users/newdayrising/gists{/gist_id}","starred_url":"https://api.github.com/users/newdayrising/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/newdayrising/subscriptions","organizations_url":"https://api.github.com/users/newdayrising/orgs","repos_url":"https://api.github.com/users/newdayrising/repos","events_url":"https://api.github.com/users/newdayrising/events{/privacy}","received_events_url":"https://api.github.com/users/newdayrising/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":64261252,"node_id":"MDU6TGFiZWw2NDI2MTI1Mg==","url":"https://api.github.com/repos/pkg/sftp/labels/question","name":"question","color":"cc317c","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":26,"created_at":"2020-02-19T17:13:41Z","updated_at":"2020-03-20T18:10:56Z","closed_at":"2020-03-20T18:10:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14132192,"node_id":"MDEwOlJlcG9zaXRvcnkxNDEzMjE5Mg==","name":"sftp","full_name":"pkg/sftp","private":false,"owner":{"login":"pkg","id":5497984,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0OTc5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5497984?v=4","gravatar_id":"","url":"https://api.github.com/users/pkg","html_url":"https://github.com/pkg","followers_url":"https://api.github.com/users/pkg/followers","following_url":"https://api.github.com/users/pkg/following{/other_user}","gists_url":"https://api.github.com/users/pkg/gists{/gist_id}","starred_url":"https://api.github.com/users/pkg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkg/subscriptions","organizations_url":"https://api.github.com/users/pkg/orgs","repos_url":"https://api.github.com/users/pkg/repos","events_url":"https://api.github.com/users/pkg/events{/privacy}","received_events_url":"https://api.github.com/users/pkg/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pkg/sftp","description":"SFTP support for the go.crypto/ssh package","fork":false,"url":"https://api.github.com/repos/pkg/sftp","forks_url":"https://api.github.com/repos/pkg/sftp/forks","keys_url":"https://api.github.com/repos/pkg/sftp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pkg/sftp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pkg/sftp/teams","hooks_url":"https://api.github.com/repos/pkg/sftp/hooks","issue_events_url":"https://api.github.com/repos/pkg/sftp/issues/events{/number}","events_url":"https://api.github.com/repos/pkg/sftp/events","assignees_url":"https://api.github.com/repos/pkg/sftp/assignees{/user}","branches_url":"https://api.github.com/repos/pkg/sftp/branches{/branch}","tags_url":"https://api.github.com/repos/pkg/sftp/tags","blobs_url":"https://api.github.com/repos/pkg/sftp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pkg/sftp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pkg/sftp/git/refs{/sha}","trees_url":"https://api.github.com/repos/pkg/sftp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pkg/sftp/statuses/{sha}","languages_url":"https://api.github.com/repos/pkg/sftp/languages","stargazers_url":"https://api.github.com/repos/pkg/sftp/stargazers","contributors_url":"https://api.github.com/repos/pkg/sftp/contributors","subscribers_url":"https://api.github.com/repos/pkg/sftp/subscribers","subscription_url":"https://api.github.com/repos/pkg/sftp/subscription","commits_url":"https://api.github.com/repos/pkg/sftp/commits{/sha}","git_commits_url":"https://api.github.com/repos/pkg/sftp/git/commits{/sha}","comments_url":"https://api.github.com/repos/pkg/sftp/comments{/number}","issue_comment_url":"https://api.github.com/repos/pkg/sftp/issues/comments{/number}","contents_url":"https://api.github.com/repos/pkg/sftp/contents/{+path}","compare_url":"https://api.github.com/repos/pkg/sftp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pkg/sftp/merges","archive_url":"https://api.github.com/repos/pkg/sftp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pkg/sftp/downloads","issues_url":"https://api.github.com/repos/pkg/sftp/issues{/number}","pulls_url":"https://api.github.com/repos/pkg/sftp/pulls{/number}","milestones_url":"https://api.github.com/repos/pkg/sftp/milestones{/number}","notifications_url":"https://api.github.com/repos/pkg/sftp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pkg/sftp/labels{/name}","releases_url":"https://api.github.com/repos/pkg/sftp/releases{/id}","deployments_url":"https://api.github.com/repos/pkg/sftp/deployments","created_at":"2013-11-05T04:36:00Z","updated_at":"2025-11-07T13:57:04Z","pushed_at":"2025-10-27T19:03:31Z","git_url":"git://github.com/pkg/sftp.git","ssh_url":"git@github.com:pkg/sftp.git","clone_url":"https://github.com/pkg/sftp.git","svn_url":"https://github.com/pkg/sftp","homepage":null,"size":2811,"stargazers_count":1623,"watchers_count":1623,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":389,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":47,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","sftp"],"visibility":"public","forks":389,"open_issues":47,"watchers":1623,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I really wanted this to be a last resort, but I'm at my wits end trying to figure this out. My code is at the bottom. The main error I keep getting when using the typical configuration is \"file does not exist.\" WinSCP has no issues.\r\n\r\nThings I've tried:\r\n\r\n1. Attempted the same operation using RClone to make sure my code is not the issue (see https://forum.rclone.org/t/sftp-remote-to-local-copy-failed-to-copy-file-does-not-exist/14414/2). RClone fails with the \"File does not exist\" error.\r\n\r\n2. sftp.NewClient(conn) with sftpClient.Open(srcInvPath) - Received the error: \"File does not exist\"\r\n\r\n3. sftp.NewClient(conn, sftp.MaxPacket(20480)) with sftpClient.OpenFile(srcInvPath, os.O_WRONLY|os.O_CREATE|os.O_TRUNC) - Received the error: \"read from 13 for 20480 from 20497 not supported. (SSH_FX_FAILURE)\"\r\n\r\n4. sftp.NewClient(conn) with sftpClient.OpenFile(srcInvPath, os.O_WRONLY|os.O_CREATE|os.O_TRUNC) - Received the error: \"read from 13 for 32768 from 32785 not supported. (SSH_FX_FAILURE)\"\r\n\r\n5. sftp.NewClient(conn) with sftpClient.OpenFile(srcInvPath, 0700)  - Received the error : \"EOF\". Have no idea why I tried this.\r\n\r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"bufio\"\r\n\t\"fmt\"\r\n\t\"io\"\r\n\t\"log\"\r\n\t\"os\"\r\n\t\"path\"\r\n\t\"path/filepath\"\r\n\t\"regexp\"\r\n\t\"strings\"\r\n\r\n\t\"github.com/pkg/sftp\"\r\n\t\"golang.org/x/crypto/ssh\"\r\n)\r\n\r\nvar invImpRootPath = \"C:\\\\Invoices\\\\\"\r\nvar invImpErrPath = filepath.Join(invImpRootPath, \"Errors\")\r\nvar invImpProcPath = filepath.Join(invImpRootPath, \"Processed\")\r\nvar invRegExp = regexp.MustCompile(`(?m)^(Invoice)\\.([0-9]*)\\.([0-9]*)\\.([0-9]{1,5})\\.xml$`)\r\nvar sftpInvPath = \"/Invoices/outbound\"\r\n\r\nfunc main() {\r\n\terr := os.MkdirAll(invImpRootPath, os.ModeDir)\r\n\tif err != nil {\r\n\t\tfmt.Printf(\"Error creating Invoices directory: %s\", err.Error())\r\n\t\tpanic(err)\r\n\t}\r\n\r\n\terr = os.MkdirAll(invImpErrPath, os.ModeDir)\r\n\tif err != nil {\r\n\t\tfmt.Printf(\"Error creating Errors directory: %s\", err.Error())\r\n\t\tpanic(err)\r\n\t}\r\n\r\n\terr = os.MkdirAll(invImpProcPath, os.ModeDir)\r\n\tif err != nil {\r\n\t\tfmt.Printf(\"Error creating Processed directory: %s\", err.Error())\r\n\t\tpanic(err)\r\n\t}\r\n\r\n\tuser := {removed}\r\n\tpass := {removed}\r\n\thost := {removed}\r\n\tport := \"22\"\r\n\r\n\thostKey := getHostKey(host)\r\n\tconfig := &ssh.ClientConfig{\r\n\t\tUser: user,\r\n\t\tAuth: []ssh.AuthMethod{\r\n\t\t\tssh.Password(pass),\r\n\t\t},\r\n\t\tHostKeyCallback: ssh.FixedHostKey(hostKey),\r\n\t}\r\n\r\n\tconn, err := ssh.Dial(\"tcp\", host+\":\"+port, config)\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\tdefer conn.Close()\r\n\r\n\tsftpClient, err := sftp.NewClient(conn, sftp.MaxPacket(20480))\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\tdefer sftpClient.Close()\r\n\r\n\tfiles, err := sftpClient.ReadDir(sftpInvPath)\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\r\n\tfor _, file := range files {\r\n\t\tsrcInvPath := path.Join(sftpInvPath, file.Name())\r\n\t\tdstInvPath := filepath.Join(invImpRootPath, file.Name())\r\n\r\n\t\tdstFile, err := os.Create(dstInvPath)\r\n\t\tif err != nil {\r\n\t\t\tlog.Fatal(err)\r\n\t\t}\r\n\t\tdefer dstFile.Close()\r\n\r\n\t\tsrcFile, err := sftpClient.OpenFile(srcInvPath, os.O_WRONLY|os.O_CREATE|os.O_TRUNC)\r\n\t\tif err != nil {\r\n\t\t\tlog.Fatal(err) \r\n\t\t}\r\n\r\n\t\tbytes, err := io.Copy(dstFile, srcFile)\r\n\t\tif err != nil {\r\n\t\t\tlog.Fatal(err)\r\n\t\t}\r\n\t\tfmt.Printf(\"%d bytes copied\\n\", bytes)\r\n\r\n\t\terr = dstFile.Sync()\r\n\t\tif err != nil {\r\n\t\t\tlog.Fatal(err)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunc getHostKey(host string) ssh.PublicKey {\r\n\t// parse OpenSSH known_hosts file\r\n\t// ssh or use ssh-keyscan to get initial key\r\n\tfile, err := os.Open(\"known_hosts\")\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\tdefer file.Close()\r\n\r\n\tscanner := bufio.NewScanner(file)\r\n\tvar hostKey ssh.PublicKey\r\n\tfor scanner.Scan() {\r\n\t\tfields := strings.Split(scanner.Text(), \" \")\r\n\t\tif len(fields) != 3 {\r\n\t\t\tcontinue\r\n\t\t}\r\n\t\tif strings.Contains(fields[0], host) {\r\n\t\t\tvar err error\r\n\t\t\thostKey, _, _, _, err = ssh.ParseAuthorizedKey(scanner.Bytes())\r\n\t\t\tif err != nil {\r\n\t\t\t\tlog.Fatalf(\"error parsing %q: %v\", fields[2], err)\r\n\t\t\t}\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\tif hostKey == nil {\r\n\t\tlog.Fatalf(\"no hostkey found for %s\", host)\r\n\t}\r\n\r\n\treturn hostKey\r\n}\r\n```\r\nServer information from WinSCP:\r\n\r\n![Snipaste_2020-02-19_12-34-59](https://user-images.githubusercontent.com/19381608/74859221-986db780-5314-11ea-8fae-8a65a17ee8cd.png)\r\n\r\n![Snipaste_2020-02-19_12-34-15](https://user-images.githubusercontent.com/19381608/74859233-9c99d500-5314-11ea-8cb0-c3f3da20dbb2.png)\r\n\r\n![Snipaste_2020-02-19_12-33-41](https://user-images.githubusercontent.com/19381608/74859244-a0c5f280-5314-11ea-8e19-ab75df62d082.png)\r\n\r\nThank you!\r\n","reactions":{"url":"https://api.github.com/repos/pkg/sftp/issues/339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pkg/sftp/issues/339/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"eikenb","id":722663,"node_id":"MDQ6VXNlcjcyMjY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/722663?v=4","gravatar_id":"","url":"https://api.github.com/users/eikenb","html_url":"https://github.com/eikenb","followers_url":"https://api.github.com/users/eikenb/followers","following_url":"https://api.github.com/users/eikenb/following{/other_user}","gists_url":"https://api.github.com/users/eikenb/gists{/gist_id}","starred_url":"https://api.github.com/users/eikenb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eikenb/subscriptions","organizations_url":"https://api.github.com/users/eikenb/orgs","repos_url":"https://api.github.com/users/eikenb/repos","events_url":"https://api.github.com/users/eikenb/events{/privacy}","received_events_url":"https://api.github.com/users/eikenb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-28T19:18:41Z","updated_at":"2020-03-28T19:18:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pkg/sftp/issues/345","repository_url":"https://api.github.com/repos/pkg/sftp","labels_url":"https://api.github.com/repos/pkg/sftp/issues/345/labels{/name}","comments_url":"https://api.github.com/repos/pkg/sftp/issues/345/comments","events_url":"https://api.github.com/repos/pkg/sftp/issues/345/events","html_url":"https://github.com/pkg/sftp/issues/345","id":589641222,"node_id":"MDU6SXNzdWU1ODk2NDEyMjI=","number":345,"title":"Feature: Deal with Read-Once SFTP servers","user":{"login":"eikenb","id":722663,"node_id":"MDQ6VXNlcjcyMjY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/722663?v=4","gravatar_id":"","url":"https://api.github.com/users/eikenb","html_url":"https://github.com/eikenb","followers_url":"https://api.github.com/users/eikenb/followers","following_url":"https://api.github.com/users/eikenb/following{/other_user}","gists_url":"https://api.github.com/users/eikenb/gists{/gist_id}","starred_url":"https://api.github.com/users/eikenb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eikenb/subscriptions","organizations_url":"https://api.github.com/users/eikenb/orgs","repos_url":"https://api.github.com/users/eikenb/repos","events_url":"https://api.github.com/users/eikenb/events{/privacy}","received_events_url":"https://api.github.com/users/eikenb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":64261250,"node_id":"MDU6TGFiZWw2NDI2MTI1MA==","url":"https://api.github.com/repos/pkg/sftp/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":829161557,"node_id":"MDU6TGFiZWw4MjkxNjE1NTc=","url":"https://api.github.com/repos/pkg/sftp/labels/documentation","name":"documentation","color":"f4df42","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2020-03-28T19:18:41Z","updated_at":"2021-03-13T15:02:59Z","closed_at":"2021-03-05T21:40:26Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14132192,"node_id":"MDEwOlJlcG9zaXRvcnkxNDEzMjE5Mg==","name":"sftp","full_name":"pkg/sftp","private":false,"owner":{"login":"pkg","id":5497984,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0OTc5ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5497984?v=4","gravatar_id":"","url":"https://api.github.com/users/pkg","html_url":"https://github.com/pkg","followers_url":"https://api.github.com/users/pkg/followers","following_url":"https://api.github.com/users/pkg/following{/other_user}","gists_url":"https://api.github.com/users/pkg/gists{/gist_id}","starred_url":"https://api.github.com/users/pkg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkg/subscriptions","organizations_url":"https://api.github.com/users/pkg/orgs","repos_url":"https://api.github.com/users/pkg/repos","events_url":"https://api.github.com/users/pkg/events{/privacy}","received_events_url":"https://api.github.com/users/pkg/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pkg/sftp","description":"SFTP support for the go.crypto/ssh package","fork":false,"url":"https://api.github.com/repos/pkg/sftp","forks_url":"https://api.github.com/repos/pkg/sftp/forks","keys_url":"https://api.github.com/repos/pkg/sftp/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pkg/sftp/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pkg/sftp/teams","hooks_url":"https://api.github.com/repos/pkg/sftp/hooks","issue_events_url":"https://api.github.com/repos/pkg/sftp/issues/events{/number}","events_url":"https://api.github.com/repos/pkg/sftp/events","assignees_url":"https://api.github.com/repos/pkg/sftp/assignees{/user}","branches_url":"https://api.github.com/repos/pkg/sftp/branches{/branch}","tags_url":"https://api.github.com/repos/pkg/sftp/tags","blobs_url":"https://api.github.com/repos/pkg/sftp/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pkg/sftp/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pkg/sftp/git/refs{/sha}","trees_url":"https://api.github.com/repos/pkg/sftp/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pkg/sftp/statuses/{sha}","languages_url":"https://api.github.com/repos/pkg/sftp/languages","stargazers_url":"https://api.github.com/repos/pkg/sftp/stargazers","contributors_url":"https://api.github.com/repos/pkg/sftp/contributors","subscribers_url":"https://api.github.com/repos/pkg/sftp/subscribers","subscription_url":"https://api.github.com/repos/pkg/sftp/subscription","commits_url":"https://api.github.com/repos/pkg/sftp/commits{/sha}","git_commits_url":"https://api.github.com/repos/pkg/sftp/git/commits{/sha}","comments_url":"https://api.github.com/repos/pkg/sftp/comments{/number}","issue_comment_url":"https://api.github.com/repos/pkg/sftp/issues/comments{/number}","contents_url":"https://api.github.com/repos/pkg/sftp/contents/{+path}","compare_url":"https://api.github.com/repos/pkg/sftp/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pkg/sftp/merges","archive_url":"https://api.github.com/repos/pkg/sftp/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pkg/sftp/downloads","issues_url":"https://api.github.com/repos/pkg/sftp/issues{/number}","pulls_url":"https://api.github.com/repos/pkg/sftp/pulls{/number}","milestones_url":"https://api.github.com/repos/pkg/sftp/milestones{/number}","notifications_url":"https://api.github.com/repos/pkg/sftp/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pkg/sftp/labels{/name}","releases_url":"https://api.github.com/repos/pkg/sftp/releases{/id}","deployments_url":"https://api.github.com/repos/pkg/sftp/deployments","created_at":"2013-11-05T04:36:00Z","updated_at":"2025-11-07T13:57:04Z","pushed_at":"2025-10-27T19:03:31Z","git_url":"git://github.com/pkg/sftp.git","ssh_url":"git@github.com:pkg/sftp.git","clone_url":"https://github.com/pkg/sftp.git","svn_url":"https://github.com/pkg/sftp","homepage":null,"size":2811,"stargazers_count":1623,"watchers_count":1623,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":389,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":47,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["go","sftp"],"visibility":"public","forks":389,"open_issues":47,"watchers":1623,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"There is a type of SFTP server that is termed a \"mailbox\" style, where you can only download/read each file one time. The current library doesn't work well with these servers as fstat/stat calls are made in the downloading code and that triggers the read and deletes the file before you can actually download it.\r\n\r\nA couple related issues in this project: #339  #206 \r\nHere's where Paramiko project (python ssh/sftp lib) dealt with it: https://github.com/paramiko/paramiko/issues/194\r\n\r\nThe main (only?) SFTP server that behaves like this is IBM Sterling B2B Integrator (SB2Bi). Here is their [troubleshooting page](https://www.ibm.com/support/pages/troubleshooting-guide-why-does-sb2bi-sftp-server-adapter-reports-message-not-extractable-error-when-extractabilitycount1).\r\n\r\nThe symptom is generally getting a \"File does not exist\" error when downloading the file as the stat call is interpreted as a read and the file gets deleted before the actual download occurs.\r\n\r\nThe user (@newdayrising) from #339 dealt with this by writing a custom `WriteTo` method that takes the size of the file as an argument. This works as you are able to call `stat` on a file (on one of these servers) as many times as you like **before** you open the file for reading, but not after.\r\n\r\nWe should document this and possibly come up with a better way to deal with this situation as these servers seem to be fairly common.","reactions":{"url":"https://api.github.com/repos/pkg/sftp/issues/345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pkg/sftp/issues/345/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"dsedivec","id":95333,"node_id":"MDQ6VXNlcjk1MzMz","avatar_url":"https://avatars.githubusercontent.com/u/95333?v=4","gravatar_id":"","url":"https://api.github.com/users/dsedivec","html_url":"https://github.com/dsedivec","followers_url":"https://api.github.com/users/dsedivec/followers","following_url":"https://api.github.com/users/dsedivec/following{/other_user}","gists_url":"https://api.github.com/users/dsedivec/gists{/gist_id}","starred_url":"https://api.github.com/users/dsedivec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsedivec/subscriptions","organizations_url":"https://api.github.com/users/dsedivec/orgs","repos_url":"https://api.github.com/users/dsedivec/repos","events_url":"https://api.github.com/users/dsedivec/events{/privacy}","received_events_url":"https://api.github.com/users/dsedivec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T19:19:33Z","updated_at":"2024-09-30T19:19:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/2460","repository_url":"https://api.github.com/repos/paramiko/paramiko","labels_url":"https://api.github.com/repos/paramiko/paramiko/issues/2460/labels{/name}","comments_url":"https://api.github.com/repos/paramiko/paramiko/issues/2460/comments","events_url":"https://api.github.com/repos/paramiko/paramiko/issues/2460/events","html_url":"https://github.com/paramiko/paramiko/issues/2460","id":2557430874,"node_id":"I_kwDOAAHTOc6Yb0xa","number":2460,"title":"[BUG] - A SFTPFile.seek can cause SFTPFile.tell to lie","user":{"login":"dsedivec","id":95333,"node_id":"MDQ6VXNlcjk1MzMz","avatar_url":"https://avatars.githubusercontent.com/u/95333?v=4","gravatar_id":"","url":"https://api.github.com/users/dsedivec","html_url":"https://github.com/dsedivec","followers_url":"https://api.github.com/users/dsedivec/followers","following_url":"https://api.github.com/users/dsedivec/following{/other_user}","gists_url":"https://api.github.com/users/dsedivec/gists{/gist_id}","starred_url":"https://api.github.com/users/dsedivec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsedivec/subscriptions","organizations_url":"https://api.github.com/users/dsedivec/orgs","repos_url":"https://api.github.com/users/dsedivec/repos","events_url":"https://api.github.com/users/dsedivec/events{/privacy}","received_events_url":"https://api.github.com/users/dsedivec/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":120561399,"node_id":"MDU6TGFiZWwxMjA1NjEzOTk=","url":"https://api.github.com/repos/paramiko/paramiko/labels/Bug","name":"Bug","color":"a04040","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-09-30T18:59:10Z","updated_at":"2024-09-30T19:19:34Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":119609,"node_id":"MDEwOlJlcG9zaXRvcnkxMTk2MDk=","name":"paramiko","full_name":"paramiko/paramiko","private":false,"owner":{"login":"paramiko","id":1108455,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMDg0NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1108455?v=4","gravatar_id":"","url":"https://api.github.com/users/paramiko","html_url":"https://github.com/paramiko","followers_url":"https://api.github.com/users/paramiko/followers","following_url":"https://api.github.com/users/paramiko/following{/other_user}","gists_url":"https://api.github.com/users/paramiko/gists{/gist_id}","starred_url":"https://api.github.com/users/paramiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paramiko/subscriptions","organizations_url":"https://api.github.com/users/paramiko/orgs","repos_url":"https://api.github.com/users/paramiko/repos","events_url":"https://api.github.com/users/paramiko/events{/privacy}","received_events_url":"https://api.github.com/users/paramiko/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/paramiko/paramiko","description":"The leading native Python SSHv2 protocol library.","fork":false,"url":"https://api.github.com/repos/paramiko/paramiko","forks_url":"https://api.github.com/repos/paramiko/paramiko/forks","keys_url":"https://api.github.com/repos/paramiko/paramiko/keys{/key_id}","collaborators_url":"https://api.github.com/repos/paramiko/paramiko/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/paramiko/paramiko/teams","hooks_url":"https://api.github.com/repos/paramiko/paramiko/hooks","issue_events_url":"https://api.github.com/repos/paramiko/paramiko/issues/events{/number}","events_url":"https://api.github.com/repos/paramiko/paramiko/events","assignees_url":"https://api.github.com/repos/paramiko/paramiko/assignees{/user}","branches_url":"https://api.github.com/repos/paramiko/paramiko/branches{/branch}","tags_url":"https://api.github.com/repos/paramiko/paramiko/tags","blobs_url":"https://api.github.com/repos/paramiko/paramiko/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/paramiko/paramiko/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/paramiko/paramiko/git/refs{/sha}","trees_url":"https://api.github.com/repos/paramiko/paramiko/git/trees{/sha}","statuses_url":"https://api.github.com/repos/paramiko/paramiko/statuses/{sha}","languages_url":"https://api.github.com/repos/paramiko/paramiko/languages","stargazers_url":"https://api.github.com/repos/paramiko/paramiko/stargazers","contributors_url":"https://api.github.com/repos/paramiko/paramiko/contributors","subscribers_url":"https://api.github.com/repos/paramiko/paramiko/subscribers","subscription_url":"https://api.github.com/repos/paramiko/paramiko/subscription","commits_url":"https://api.github.com/repos/paramiko/paramiko/commits{/sha}","git_commits_url":"https://api.github.com/repos/paramiko/paramiko/git/commits{/sha}","comments_url":"https://api.github.com/repos/paramiko/paramiko/comments{/number}","issue_comment_url":"https://api.github.com/repos/paramiko/paramiko/issues/comments{/number}","contents_url":"https://api.github.com/repos/paramiko/paramiko/contents/{+path}","compare_url":"https://api.github.com/repos/paramiko/paramiko/compare/{base}...{head}","merges_url":"https://api.github.com/repos/paramiko/paramiko/merges","archive_url":"https://api.github.com/repos/paramiko/paramiko/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/paramiko/paramiko/downloads","issues_url":"https://api.github.com/repos/paramiko/paramiko/issues{/number}","pulls_url":"https://api.github.com/repos/paramiko/paramiko/pulls{/number}","milestones_url":"https://api.github.com/repos/paramiko/paramiko/milestones{/number}","notifications_url":"https://api.github.com/repos/paramiko/paramiko/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/paramiko/paramiko/labels{/name}","releases_url":"https://api.github.com/repos/paramiko/paramiko/releases{/id}","deployments_url":"https://api.github.com/repos/paramiko/paramiko/deployments","created_at":"2009-02-02T03:41:08Z","updated_at":"2025-11-10T08:04:35Z","pushed_at":"2025-10-20T02:50:05Z","git_url":"git://github.com/paramiko/paramiko.git","ssh_url":"git@github.com:paramiko/paramiko.git","clone_url":"https://github.com/paramiko/paramiko.git","svn_url":"https://github.com/paramiko/paramiko","homepage":"http://paramiko.org","size":8237,"stargazers_count":9558,"watchers_count":9558,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2033,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1138,"license":{"key":"lgpl-2.1","name":"GNU Lesser General Public License v2.1","spdx_id":"LGPL-2.1","url":"https://api.github.com/licenses/lgpl-2.1","node_id":"MDc6TGljZW5zZTEx"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2033,"open_issues":1138,"watchers":9558,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Are you using paramiko as a client or server?\r\n\r\nClient\r\n\r\n### What feature(s) aren't working right?\r\n\r\nSFTP\r\n\r\n### What version(s) of paramiko are you using?\r\n\r\n3.3.0\r\n\r\n### What version(s) of Python are you using?\r\n\r\n3.11.5\r\n\r\n### What operating system and version are you using?\r\n\r\nDebian bullseye\r\n\r\n### If you're connecting as a client, which SSH server are you connecting to?\r\n\r\nNot 100% sure, but the banner reports \"Maverick_SSHD\", so maybe something from https://jadaptive.com/\r\n\r\n### If you're using paramiko as part of another tool, which tool/version?\r\n\r\n_No response_\r\n\r\n### Expected/desired behavior\r\n\r\nStart with a poorly-behaved \"Maverick\" SFTP server that has a `test_file.txt` that is non-empty.  Say, for example, it's 12345 bytes long.\r\n\r\n```python\r\nimport os\r\nimport paramiko\r\n\r\nclient = paramiko.SSHClient()\r\nclient.load_system_host_keys()\r\nclient.connect(hostname=\"example.com\", username=\"foo\", password=\"bar\")\r\nsftp = client.open_sftp()\r\nfh = sftp.open(\"test_file.txt\", \"rb\")\r\nfh.seek(0, os.SEEK_END)\r\nprint(fh.tell())\r\n```\r\n\r\nExpected: Prints 12345\r\n\r\n### Actual behavior\r\n\r\nActual: Prints 0 (zero)\r\n\r\n### How to reproduce\r\n\r\nSee code to reproduce in expected behavior, above.  I'm guessing the hardest part will be getting an SFTP server to reproduce this.\r\n\r\n### Anything else?\r\n\r\nIf you call `SFTPFile.stat` directly using an open file from this particular SFTP server, you'll see that you get an exception:\r\n\r\n```\r\nOSError: The message [test_file.txt] is not extractable!\r\n```\r\n\r\n(This error message makes no sense to me, BTW.)\r\n\r\nSo, CMD_FSTAT raises an error.  FYI calling `SFTPClient.stat` (which does CMD_STAT instead) does return a proper result, including the file size.\r\n\r\nIMHO, I think the problem is that [`stat` with `SEEK_END` tries to update `_realpos` using `self._get_size()`](https://github.com/paramiko/paramiko/blob/23f92003898b060df0e2b8b1d889455264e63a3e/paramiko/sftp_file.py#L271), but [`SFTPFile._get_size` swallows exceptions and returns 0](https://github.com/paramiko/paramiko/blob/23f92003898b060df0e2b8b1d889455264e63a3e/paramiko/sftp_file.py#L531-L535).  If you seek to the end then you just set `_realpos` to 0.\r\n\r\nObviously I wish this SFTP server would make CMD_FSTAT work.  In the absence of a working server, though, I'd rather get an exception from Paramiko, not incorrect information.  If you, for example, pass an `SFTPFile` to boto3's [`S3Client.upload_fileobj`](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3/client/upload_fileobj.html), in order to transfer a file from SFTP to S3, boto3 will silently truncate the file after it determines the file is 0 bytes long according to `SFTPFile.tell`.\r\n\r\nMy first suggestion is that `_get_size` shouldn't eat exceptions, but after reading #2050, does it _need_ to eat exceptions?  I hope not!\r\n\r\nIf `_get_size` can't raise exceptions, then maybe Paramiko should do some kind of test before `SFTPFile.seekable` returns true, to find out whether CMD_FSTAT works?\r\n\r\nThank you to all the authors and maintainers of Paramiko!","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/2460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/paramiko/paramiko/issues/2460/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]