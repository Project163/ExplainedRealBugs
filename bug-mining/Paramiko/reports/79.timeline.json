[{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/1064296784","html_url":"https://github.com/paramiko/paramiko/issues/2000#issuecomment-1064296784","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/2000","id":1064296784,"node_id":"IC_kwDOAAHTOc4_b-FQ","user":{"login":"josephfemia","id":71358484,"node_id":"MDQ6VXNlcjcxMzU4NDg0","avatar_url":"https://avatars.githubusercontent.com/u/71358484?v=4","gravatar_id":"","url":"https://api.github.com/users/josephfemia","html_url":"https://github.com/josephfemia","followers_url":"https://api.github.com/users/josephfemia/followers","following_url":"https://api.github.com/users/josephfemia/following{/other_user}","gists_url":"https://api.github.com/users/josephfemia/gists{/gist_id}","starred_url":"https://api.github.com/users/josephfemia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephfemia/subscriptions","organizations_url":"https://api.github.com/users/josephfemia/orgs","repos_url":"https://api.github.com/users/josephfemia/repos","events_url":"https://api.github.com/users/josephfemia/events{/privacy}","received_events_url":"https://api.github.com/users/josephfemia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-10T17:08:15Z","updated_at":"2022-03-10T17:08:15Z","body":"Weird, I was experiencing the same problem. Thank you for pointing it out. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/1064296784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"josephfemia","id":71358484,"node_id":"MDQ6VXNlcjcxMzU4NDg0","avatar_url":"https://avatars.githubusercontent.com/u/71358484?v=4","gravatar_id":"","url":"https://api.github.com/users/josephfemia","html_url":"https://github.com/josephfemia","followers_url":"https://api.github.com/users/josephfemia/followers","following_url":"https://api.github.com/users/josephfemia/following{/other_user}","gists_url":"https://api.github.com/users/josephfemia/gists{/gist_id}","starred_url":"https://api.github.com/users/josephfemia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/josephfemia/subscriptions","organizations_url":"https://api.github.com/users/josephfemia/orgs","repos_url":"https://api.github.com/users/josephfemia/repos","events_url":"https://api.github.com/users/josephfemia/events{/privacy}","received_events_url":"https://api.github.com/users/josephfemia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6226092273,"node_id":"CE_lADOAAHTOc5FdobIzwAAAAFzGqDx","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/6226092273","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"58b56875e77be6c2b6b65bbec7300a16c6fd5573","commit_url":"https://api.github.com/repos/paramiko/paramiko/commits/58b56875e77be6c2b6b65bbec7300a16c6fd5573","created_at":"2022-03-11T16:38:03Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/1065287297","html_url":"https://github.com/paramiko/paramiko/issues/2000#issuecomment-1065287297","issue_url":"https://api.github.com/repos/paramiko/paramiko/issues/2000","id":1065287297,"node_id":"IC_kwDOAAHTOc4_fv6B","user":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-11T16:41:53Z","updated_at":"2022-03-11T16:42:37Z","body":"Thanks. Looks like this has been in here for 15 years (all relevant bits are Robey originals)!\r\n\r\nI suspect it goes mostly unnoticed because the most common method of interacting with these file objects is actually `SFTPClient.(get|put)(fo)?` and those inherently enable prefetch/pipelining, which in turn perform their own buffering/chunking.\r\n\r\nInterestingly, I've just recently merged an unrelated patch with the same problem of \"this went unnoticed because this code path is rarely used\" - reads/writes on the FLOs yielded by open() were extremely slow for large files, again unless one knew to manually enable prefetch/pipelining (as buffering/chunking avoids the root problem there).\r\n\r\nI updated the docs to correctly describe the existing implementation (should appear in the docs for 2.8+). I could see us changing the actual behavior in a backwards incompatible release later but not worthwhile for now IMHO.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/paramiko/paramiko/issues/comments/1065287297/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bitprophet","id":6088,"node_id":"MDQ6VXNlcjYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/6088?v=4","gravatar_id":"","url":"https://api.github.com/users/bitprophet","html_url":"https://github.com/bitprophet","followers_url":"https://api.github.com/users/bitprophet/followers","following_url":"https://api.github.com/users/bitprophet/following{/other_user}","gists_url":"https://api.github.com/users/bitprophet/gists{/gist_id}","starred_url":"https://api.github.com/users/bitprophet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitprophet/subscriptions","organizations_url":"https://api.github.com/users/bitprophet/orgs","repos_url":"https://api.github.com/users/bitprophet/repos","events_url":"https://api.github.com/users/bitprophet/events{/privacy}","received_events_url":"https://api.github.com/users/bitprophet/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12362619146,"node_id":"REFE_lADOAAHTOc5FdobIzwAAAALg3pkK","url":"https://api.github.com/repos/paramiko/paramiko/issues/events/12362619146","actor":{"login":"mlec1","id":42201667,"node_id":"MDQ6VXNlcjQyMjAxNjY3","avatar_url":"https://avatars.githubusercontent.com/u/42201667?v=4","gravatar_id":"","url":"https://api.github.com/users/mlec1","html_url":"https://github.com/mlec1","followers_url":"https://api.github.com/users/mlec1/followers","following_url":"https://api.github.com/users/mlec1/following{/other_user}","gists_url":"https://api.github.com/users/mlec1/gists{/gist_id}","starred_url":"https://api.github.com/users/mlec1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mlec1/subscriptions","organizations_url":"https://api.github.com/users/mlec1/orgs","repos_url":"https://api.github.com/users/mlec1/repos","events_url":"https://api.github.com/users/mlec1/events{/privacy}","received_events_url":"https://api.github.com/users/mlec1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"58b56875e77be6c2b6b65bbec7300a16c6fd5573","commit_url":"https://api.github.com/repos/offensity/paramiko/commits/58b56875e77be6c2b6b65bbec7300a16c6fd5573","created_at":"2024-04-04T18:02:46Z","performed_via_github_app":null}]