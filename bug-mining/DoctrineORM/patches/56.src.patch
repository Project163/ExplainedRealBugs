diff --git a/src/Query/SqlWalker.php b/src/Query/SqlWalker.php
index f3d0ab794..709714593 100644
--- a/src/Query/SqlWalker.php
+++ b/src/Query/SqlWalker.php
@@ -471,6 +471,10 @@ class SqlWalker implements TreeWalker
                 continue;
             }
 
+            $sqlTableAlias = $this->useSqlTableAliases
+                ? $this->getSQLTableAlias($class->getTableName(), $dqlAlias) . '.'
+                : '';
+
             $conn   = $this->em->getConnection();
             $values = [];
 
@@ -479,14 +483,22 @@ class SqlWalker implements TreeWalker
             }
 
             foreach ($class->subClasses as $subclassName) {
-                $values[] = $conn->quote($this->em->getClassMetadata($subclassName)->discriminatorValue);
-            }
+                $subclassMetadata = $this->em->getClassMetadata($subclassName);
 
-            $sqlTableAlias = $this->useSqlTableAliases
-                ? $this->getSQLTableAlias($class->getTableName(), $dqlAlias) . '.'
-                : '';
+                // Abstract entity classes show up in the list of subClasses, but may be omitted
+                // from the discriminator map. In that case, they have a null discriminator value.
+                if ($subclassMetadata->discriminatorValue === null) {
+                    continue;
+                }
 
-            $sqlParts[] = $sqlTableAlias . $class->getDiscriminatorColumn()['name'] . ' IN (' . implode(', ', $values) . ')';
+                $values[] = $conn->quote($subclassMetadata->discriminatorValue);
+            }
+
+            if ($values !== []) {
+                $sqlParts[] = $sqlTableAlias . $class->getDiscriminatorColumn()['name'] . ' IN (' . implode(', ', $values) . ')';
+            } else {
+                $sqlParts[] = '1=0'; // impossible condition
+            }
         }
 
         $sql = implode(' AND ', $sqlParts);
diff --git a/tests/Tests/ORM/Functional/Ticket/GH11199Test.php b/tests/Tests/ORM/Functional/Ticket/GH11199Test.php
new file mode 100644
index 000000000..cac299e12
--- /dev/null
+++ b/tests/Tests/ORM/Functional/Ticket/GH11199Test.php
@@ -0,0 +1,96 @@
+<?php
+
+declare(strict_types=1);
+
+namespace Doctrine\Tests\ORM\Functional\Ticket;
+
+use Doctrine\ORM\Mapping as ORM;
+use Doctrine\Tests\OrmFunctionalTestCase;
+use Generator;
+
+class GH11199Test extends OrmFunctionalTestCase
+{
+    protected function setUp(): void
+    {
+        parent::setUp();
+
+        $this->setUpEntitySchema([
+            GH11199Root::class,
+            GH11199Parent::class,
+            GH11199Foo::class,
+            GH11199Baz::class,
+            GH11199AbstractLeaf::class,
+        ]);
+    }
+
+    public function dqlStatements(): Generator
+    {
+        yield ['SELECT e FROM ' . GH11199Root::class . ' e', "/WHERE g0_.asset_type IN \('root', 'foo', 'baz'\)$/"];
+        yield ['SELECT e FROM ' . GH11199Parent::class . ' e', "/WHERE g0_.asset_type IN \('foo'\)$/"];
+        yield ['SELECT e FROM ' . GH11199Foo::class . ' e', "/WHERE g0_.asset_type IN \('foo'\)$/"];
+        yield ['SELECT e FROM ' . GH11199Baz::class . ' e', "/WHERE g0_.asset_type IN \('baz'\)$/"];
+        yield ['SELECT e FROM ' . GH11199AbstractLeaf::class . ' e', '/WHERE 1=0/'];
+    }
+
+    /**
+     * @dataProvider dqlStatements
+     */
+    public function testGH11199(string $dql, string $expectedDiscriminatorValues): void
+    {
+        $query = $this->_em->createQuery($dql);
+        $sql   = $query->getSQL();
+
+        self::assertMatchesRegularExpression($expectedDiscriminatorValues, $sql);
+    }
+}
+
+/**
+ * @ORM\Entity()
+ * @ORM\Table(name="gh11199")
+ * @ORM\InheritanceType("SINGLE_TABLE")
+ * @ORM\DiscriminatorColumn(name="asset_type", type="string")
+ * @ORM\DiscriminatorMap({
+ *     "root" = "\Doctrine\Tests\ORM\Functional\Ticket\GH11199Root",
+ *     "foo"  = "\Doctrine\Tests\ORM\Functional\Ticket\GH11199Foo",
+ *     "baz"  = "\Doctrine\Tests\ORM\Functional\Ticket\GH11199Baz",
+ * })
+ */
+class GH11199Root
+{
+    /**
+     * @ORM\Id
+     * @ORM\GeneratedValue(strategy="IDENTITY")
+     * @ORM\Column(type="integer")
+     *
+     * @var int|null
+     */
+    private $id = null;
+}
+
+/**
+ * @ORM\Entity()
+ */
+abstract class GH11199Parent extends GH11199Root
+{
+}
+
+/**
+ * @ORM\Entity()
+ */
+class GH11199Foo extends GH11199Parent
+{
+}
+
+/**
+ * @ORM\Entity()
+ */
+class GH11199Baz extends GH11199Root
+{
+}
+
+/**
+ * @ORM\Entity()
+ */
+abstract class GH11199AbstractLeaf extends GH11199Root
+{
+}
