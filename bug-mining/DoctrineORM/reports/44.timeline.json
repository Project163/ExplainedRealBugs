[{"url":"https://api.github.com/repos/doctrine/orm/issues/comments/1407716487","html_url":"https://github.com/doctrine/orm/issues/10471#issuecomment-1407716487","issue_url":"https://api.github.com/repos/doctrine/orm/issues/10471","id":1407716487,"node_id":"IC_kwDOAAkff85T6AyH","user":{"login":"simonberger","id":7163526,"node_id":"MDQ6VXNlcjcxNjM1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/7163526?v=4","gravatar_id":"","url":"https://api.github.com/users/simonberger","html_url":"https://github.com/simonberger","followers_url":"https://api.github.com/users/simonberger/followers","following_url":"https://api.github.com/users/simonberger/following{/other_user}","gists_url":"https://api.github.com/users/simonberger/gists{/gist_id}","starred_url":"https://api.github.com/users/simonberger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonberger/subscriptions","organizations_url":"https://api.github.com/users/simonberger/orgs","repos_url":"https://api.github.com/users/simonberger/repos","events_url":"https://api.github.com/users/simonberger/events{/privacy}","received_events_url":"https://api.github.com/users/simonberger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-29T17:02:16Z","updated_at":"2023-01-29T18:18:37Z","body":"This is a duplicate of #10334  It seemed to work in 2.14.0 just better because it introduced a different error.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/doctrine/orm/issues/comments/1407716487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simonberger","id":7163526,"node_id":"MDQ6VXNlcjcxNjM1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/7163526?v=4","gravatar_id":"","url":"https://api.github.com/users/simonberger","html_url":"https://github.com/simonberger","followers_url":"https://api.github.com/users/simonberger/followers","following_url":"https://api.github.com/users/simonberger/following{/other_user}","gists_url":"https://api.github.com/users/simonberger/gists{/gist_id}","starred_url":"https://api.github.com/users/simonberger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonberger/subscriptions","organizations_url":"https://api.github.com/users/simonberger/orgs","repos_url":"https://api.github.com/users/simonberger/repos","events_url":"https://api.github.com/users/simonberger/events{/privacy}","received_events_url":"https://api.github.com/users/simonberger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T09:31:51Z","updated_at":"2023-02-08T09:31:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/doctrine/orm/issues/10508","repository_url":"https://api.github.com/repos/doctrine/orm","labels_url":"https://api.github.com/repos/doctrine/orm/issues/10508/labels{/name}","comments_url":"https://api.github.com/repos/doctrine/orm/issues/10508/comments","events_url":"https://api.github.com/repos/doctrine/orm/issues/10508/events","html_url":"https://github.com/doctrine/orm/pull/10508","id":1575781833,"node_id":"PR_kwDOAAkff85JgfLr","number":10508,"title":"Fix id hash of entity with enum as identifier","user":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":296201252,"node_id":"MDU6TGFiZWwyOTYyMDEyNTI=","url":"https://api.github.com/repos/doctrine/orm/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/doctrine/orm/milestones/128","html_url":"https://github.com/doctrine/orm/milestone/128","labels_url":"https://api.github.com/repos/doctrine/orm/milestones/128/labels","id":9369630,"node_id":"MI_kwDOAAkff84Ajvge","number":128,"title":"2.15.2","description":"2.15.x bugfix release (patch)","creator":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2023-05-07T18:57:56Z","updated_at":"2023-06-01T09:36:40Z","due_on":null,"closed_at":"2023-06-01T09:36:40Z"},"comments":10,"created_at":"2023-02-08T09:31:50Z","updated_at":"2023-05-31T07:04:50Z","closed_at":"2023-05-11T22:00:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":597887,"node_id":"MDEwOlJlcG9zaXRvcnk1OTc4ODc=","name":"orm","full_name":"doctrine/orm","private":false,"owner":{"login":"doctrine","id":209254,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwOTI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/209254?v=4","gravatar_id":"","url":"https://api.github.com/users/doctrine","html_url":"https://github.com/doctrine","followers_url":"https://api.github.com/users/doctrine/followers","following_url":"https://api.github.com/users/doctrine/following{/other_user}","gists_url":"https://api.github.com/users/doctrine/gists{/gist_id}","starred_url":"https://api.github.com/users/doctrine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doctrine/subscriptions","organizations_url":"https://api.github.com/users/doctrine/orgs","repos_url":"https://api.github.com/users/doctrine/repos","events_url":"https://api.github.com/users/doctrine/events{/privacy}","received_events_url":"https://api.github.com/users/doctrine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/doctrine/orm","description":"Doctrine Object Relational Mapper (ORM)","fork":false,"url":"https://api.github.com/repos/doctrine/orm","forks_url":"https://api.github.com/repos/doctrine/orm/forks","keys_url":"https://api.github.com/repos/doctrine/orm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/doctrine/orm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/doctrine/orm/teams","hooks_url":"https://api.github.com/repos/doctrine/orm/hooks","issue_events_url":"https://api.github.com/repos/doctrine/orm/issues/events{/number}","events_url":"https://api.github.com/repos/doctrine/orm/events","assignees_url":"https://api.github.com/repos/doctrine/orm/assignees{/user}","branches_url":"https://api.github.com/repos/doctrine/orm/branches{/branch}","tags_url":"https://api.github.com/repos/doctrine/orm/tags","blobs_url":"https://api.github.com/repos/doctrine/orm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/doctrine/orm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/doctrine/orm/git/refs{/sha}","trees_url":"https://api.github.com/repos/doctrine/orm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/doctrine/orm/statuses/{sha}","languages_url":"https://api.github.com/repos/doctrine/orm/languages","stargazers_url":"https://api.github.com/repos/doctrine/orm/stargazers","contributors_url":"https://api.github.com/repos/doctrine/orm/contributors","subscribers_url":"https://api.github.com/repos/doctrine/orm/subscribers","subscription_url":"https://api.github.com/repos/doctrine/orm/subscription","commits_url":"https://api.github.com/repos/doctrine/orm/commits{/sha}","git_commits_url":"https://api.github.com/repos/doctrine/orm/git/commits{/sha}","comments_url":"https://api.github.com/repos/doctrine/orm/comments{/number}","issue_comment_url":"https://api.github.com/repos/doctrine/orm/issues/comments{/number}","contents_url":"https://api.github.com/repos/doctrine/orm/contents/{+path}","compare_url":"https://api.github.com/repos/doctrine/orm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/doctrine/orm/merges","archive_url":"https://api.github.com/repos/doctrine/orm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/doctrine/orm/downloads","issues_url":"https://api.github.com/repos/doctrine/orm/issues{/number}","pulls_url":"https://api.github.com/repos/doctrine/orm/pulls{/number}","milestones_url":"https://api.github.com/repos/doctrine/orm/milestones{/number}","notifications_url":"https://api.github.com/repos/doctrine/orm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/doctrine/orm/labels{/name}","releases_url":"https://api.github.com/repos/doctrine/orm/releases{/id}","deployments_url":"https://api.github.com/repos/doctrine/orm/deployments","created_at":"2010-04-06T21:42:59Z","updated_at":"2025-11-10T09:26:15Z","pushed_at":"2025-11-10T13:35:45Z","git_url":"git://github.com/doctrine/orm.git","ssh_url":"git@github.com:doctrine/orm.git","clone_url":"https://github.com/doctrine/orm.git","svn_url":"https://github.com/doctrine/orm","homepage":"https://www.doctrine-project.org/projects/orm.html","size":54667,"stargazers_count":10115,"watchers_count":10115,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2553,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1301,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest"],"visibility":"public","forks":2553,"open_issues":1301,"watchers":10115,"default_branch":"3.5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/doctrine/orm/pulls/10508","html_url":"https://github.com/doctrine/orm/pull/10508","diff_url":"https://github.com/doctrine/orm/pull/10508.diff","patch_url":"https://github.com/doctrine/orm/pull/10508.patch","merged_at":"2023-05-11T22:00:20Z"},"body":"**Current situation**\r\nWhen an entity have a backed enum as identifier, Unit Of Work tries to cast to string when generating the hash of the id.\r\n\r\n`Error \"Object of class MyEnum could not be converted to string\"`\r\n\r\n**Suggested fix**\r\nThis PR fixes the problem by adding function to get id of entity with backed enum check.\r\n\r\n**Tests added**\r\nIt seems tests for this feature were completely missing, so I added them.\r\n\r\nFixes https://github.com/doctrine/orm/issues/10471 \r\nFixes https://github.com/doctrine/orm/issues/10334","reactions":{"url":"https://api.github.com/repos/doctrine/orm/issues/10508/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doctrine/orm/issues/10508/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8490721594,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6FiE6","url":"https://api.github.com/repos/doctrine/orm/issues/events/8490721594","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"993441e0220b4b088df6fdda13a8fd01ae4ee31b","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/993441e0220b4b088df6fdda13a8fd01ae4ee31b","created_at":"2023-02-10T14:52:59Z","performed_via_github_app":null},{"id":8490731923,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6FkmT","url":"https://api.github.com/repos/doctrine/orm/issues/events/8490731923","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"24c12f1fe6fe0afc153e01659be3a4c023079c5e","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/24c12f1fe6fe0afc153e01659be3a4c023079c5e","created_at":"2023-02-10T14:53:55Z","performed_via_github_app":null},{"id":8491508598,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6IiN2","url":"https://api.github.com/repos/doctrine/orm/issues/events/8491508598","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f7949ba7838c4ebace75919e16e3c279440716d6","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/f7949ba7838c4ebace75919e16e3c279440716d6","created_at":"2023-02-10T16:11:07Z","performed_via_github_app":null},{"id":8491557477,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6IuJl","url":"https://api.github.com/repos/doctrine/orm/issues/events/8491557477","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5f1444dbb6d7040e5e2979e8f8502ca272625178","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/5f1444dbb6d7040e5e2979e8f8502ca272625178","created_at":"2023-02-10T16:16:06Z","performed_via_github_app":null},{"id":8491669003,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6JJYL","url":"https://api.github.com/repos/doctrine/orm/issues/events/8491669003","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0280b46008503b9de621c6df921e7e023dead62d","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/0280b46008503b9de621c6df921e7e023dead62d","created_at":"2023-02-10T16:28:31Z","performed_via_github_app":null},{"id":8491686429,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6JNod","url":"https://api.github.com/repos/doctrine/orm/issues/events/8491686429","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c7ddd5bfeed916a8482b8fbfc2bf2bde101165a6","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/c7ddd5bfeed916a8482b8fbfc2bf2bde101165a6","created_at":"2023-02-10T16:30:31Z","performed_via_github_app":null},{"id":8496437864,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH6bVpo","url":"https://api.github.com/repos/doctrine/orm/issues/events/8496437864","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"63afbeb56694c10642cfb39f98f42bae485533e4","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/63afbeb56694c10642cfb39f98f42bae485533e4","created_at":"2023-02-11T12:58:47Z","performed_via_github_app":null},{"id":8520646352,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH73r7Q","url":"https://api.github.com/repos/doctrine/orm/issues/events/8520646352","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"91ede87ea58af6fe0df821466d4a8524000da2e9","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/91ede87ea58af6fe0df821466d4a8524000da2e9","created_at":"2023-02-14T23:24:17Z","performed_via_github_app":null},{"id":8563924679,"node_id":"REFE_lADOAAkff85c72GIzwAAAAH-cx7H","url":"https://api.github.com/repos/doctrine/orm/issues/events/8563924679","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c4df297fd9ba4aa98ee2bbbc977f8388a3d65dce","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/c4df297fd9ba4aa98ee2bbbc977f8388a3d65dce","created_at":"2023-02-20T17:34:17Z","performed_via_github_app":null},{"id":8914318862,"node_id":"REFE_lADOAAkff85c72GIzwAAAAITVbYO","url":"https://api.github.com/repos/doctrine/orm/issues/events/8914318862","actor":{"login":"Gwemox","id":9432727,"node_id":"MDQ6VXNlcjk0MzI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9432727?v=4","gravatar_id":"","url":"https://api.github.com/users/Gwemox","html_url":"https://github.com/Gwemox","followers_url":"https://api.github.com/users/Gwemox/followers","following_url":"https://api.github.com/users/Gwemox/following{/other_user}","gists_url":"https://api.github.com/users/Gwemox/gists{/gist_id}","starred_url":"https://api.github.com/users/Gwemox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gwemox/subscriptions","organizations_url":"https://api.github.com/users/Gwemox/orgs","repos_url":"https://api.github.com/users/Gwemox/repos","events_url":"https://api.github.com/users/Gwemox/events{/privacy}","received_events_url":"https://api.github.com/users/Gwemox/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"09b4a75ed3ec3d67f805f6ccc22399997c31f022","commit_url":"https://api.github.com/repos/Gwemox/orm/commits/09b4a75ed3ec3d67f805f6ccc22399997c31f022","created_at":"2023-04-03T15:20:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/doctrine/orm/issues/comments/1500135129","html_url":"https://github.com/doctrine/orm/issues/10471#issuecomment-1500135129","issue_url":"https://api.github.com/repos/doctrine/orm/issues/10471","id":1500135129,"node_id":"IC_kwDOAAkff85Zaj7Z","user":{"login":"andersongtk","id":13487288,"node_id":"MDQ6VXNlcjEzNDg3Mjg4","avatar_url":"https://avatars.githubusercontent.com/u/13487288?v=4","gravatar_id":"","url":"https://api.github.com/users/andersongtk","html_url":"https://github.com/andersongtk","followers_url":"https://api.github.com/users/andersongtk/followers","following_url":"https://api.github.com/users/andersongtk/following{/other_user}","gists_url":"https://api.github.com/users/andersongtk/gists{/gist_id}","starred_url":"https://api.github.com/users/andersongtk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersongtk/subscriptions","organizations_url":"https://api.github.com/users/andersongtk/orgs","repos_url":"https://api.github.com/users/andersongtk/repos","events_url":"https://api.github.com/users/andersongtk/events{/privacy}","received_events_url":"https://api.github.com/users/andersongtk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T09:56:00Z","updated_at":"2023-04-07T09:56:00Z","body":"fix https://i.imgur.com/Rytjkfq.png","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/doctrine/orm/issues/comments/1500135129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"andersongtk","id":13487288,"node_id":"MDQ6VXNlcjEzNDg3Mjg4","avatar_url":"https://avatars.githubusercontent.com/u/13487288?v=4","gravatar_id":"","url":"https://api.github.com/users/andersongtk","html_url":"https://github.com/andersongtk","followers_url":"https://api.github.com/users/andersongtk/followers","following_url":"https://api.github.com/users/andersongtk/following{/other_user}","gists_url":"https://api.github.com/users/andersongtk/gists{/gist_id}","starred_url":"https://api.github.com/users/andersongtk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andersongtk/subscriptions","organizations_url":"https://api.github.com/users/andersongtk/orgs","repos_url":"https://api.github.com/users/andersongtk/repos","events_url":"https://api.github.com/users/andersongtk/events{/privacy}","received_events_url":"https://api.github.com/users/andersongtk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9227253054,"node_id":"CE_lADOAAkff85c72GIzwAAAAIl_LU-","url":"https://api.github.com/repos/doctrine/orm/issues/events/9227253054","actor":{"login":"greg0ire","id":657779,"node_id":"MDQ6VXNlcjY1Nzc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/657779?v=4","gravatar_id":"","url":"https://api.github.com/users/greg0ire","html_url":"https://github.com/greg0ire","followers_url":"https://api.github.com/users/greg0ire/followers","following_url":"https://api.github.com/users/greg0ire/following{/other_user}","gists_url":"https://api.github.com/users/greg0ire/gists{/gist_id}","starred_url":"https://api.github.com/users/greg0ire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greg0ire/subscriptions","organizations_url":"https://api.github.com/users/greg0ire/orgs","repos_url":"https://api.github.com/users/greg0ire/repos","events_url":"https://api.github.com/users/greg0ire/events{/privacy}","received_events_url":"https://api.github.com/users/greg0ire/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-05-11T22:00:21Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"wmouwen","id":13197752,"node_id":"MDQ6VXNlcjEzMTk3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/13197752?v=4","gravatar_id":"","url":"https://api.github.com/users/wmouwen","html_url":"https://github.com/wmouwen","followers_url":"https://api.github.com/users/wmouwen/followers","following_url":"https://api.github.com/users/wmouwen/following{/other_user}","gists_url":"https://api.github.com/users/wmouwen/gists{/gist_id}","starred_url":"https://api.github.com/users/wmouwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmouwen/subscriptions","organizations_url":"https://api.github.com/users/wmouwen/orgs","repos_url":"https://api.github.com/users/wmouwen/repos","events_url":"https://api.github.com/users/wmouwen/events{/privacy}","received_events_url":"https://api.github.com/users/wmouwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-22T14:27:26Z","updated_at":"2023-06-22T14:27:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/doctrine/orm/issues/10788","repository_url":"https://api.github.com/repos/doctrine/orm","labels_url":"https://api.github.com/repos/doctrine/orm/issues/10788/labels{/name}","comments_url":"https://api.github.com/repos/doctrine/orm/issues/10788/comments","events_url":"https://api.github.com/repos/doctrine/orm/issues/10788/events","html_url":"https://github.com/doctrine/orm/issues/10788","id":1769801947,"node_id":"I_kwDOAAkff85pfQjb","number":10788,"title":"BackedEnum primary key fails to convert for association using proxy classes","user":{"login":"wmouwen","id":13197752,"node_id":"MDQ6VXNlcjEzMTk3NzUy","avatar_url":"https://avatars.githubusercontent.com/u/13197752?v=4","gravatar_id":"","url":"https://api.github.com/users/wmouwen","html_url":"https://github.com/wmouwen","followers_url":"https://api.github.com/users/wmouwen/followers","following_url":"https://api.github.com/users/wmouwen/following{/other_user}","gists_url":"https://api.github.com/users/wmouwen/gists{/gist_id}","starred_url":"https://api.github.com/users/wmouwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmouwen/subscriptions","organizations_url":"https://api.github.com/users/wmouwen/orgs","repos_url":"https://api.github.com/users/wmouwen/repos","events_url":"https://api.github.com/users/wmouwen/events{/privacy}","received_events_url":"https://api.github.com/users/wmouwen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2023-06-22T14:27:25Z","updated_at":"2025-07-14T06:31:53Z","closed_at":"2025-07-14T06:31:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":597887,"node_id":"MDEwOlJlcG9zaXRvcnk1OTc4ODc=","name":"orm","full_name":"doctrine/orm","private":false,"owner":{"login":"doctrine","id":209254,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwOTI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/209254?v=4","gravatar_id":"","url":"https://api.github.com/users/doctrine","html_url":"https://github.com/doctrine","followers_url":"https://api.github.com/users/doctrine/followers","following_url":"https://api.github.com/users/doctrine/following{/other_user}","gists_url":"https://api.github.com/users/doctrine/gists{/gist_id}","starred_url":"https://api.github.com/users/doctrine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doctrine/subscriptions","organizations_url":"https://api.github.com/users/doctrine/orgs","repos_url":"https://api.github.com/users/doctrine/repos","events_url":"https://api.github.com/users/doctrine/events{/privacy}","received_events_url":"https://api.github.com/users/doctrine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/doctrine/orm","description":"Doctrine Object Relational Mapper (ORM)","fork":false,"url":"https://api.github.com/repos/doctrine/orm","forks_url":"https://api.github.com/repos/doctrine/orm/forks","keys_url":"https://api.github.com/repos/doctrine/orm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/doctrine/orm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/doctrine/orm/teams","hooks_url":"https://api.github.com/repos/doctrine/orm/hooks","issue_events_url":"https://api.github.com/repos/doctrine/orm/issues/events{/number}","events_url":"https://api.github.com/repos/doctrine/orm/events","assignees_url":"https://api.github.com/repos/doctrine/orm/assignees{/user}","branches_url":"https://api.github.com/repos/doctrine/orm/branches{/branch}","tags_url":"https://api.github.com/repos/doctrine/orm/tags","blobs_url":"https://api.github.com/repos/doctrine/orm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/doctrine/orm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/doctrine/orm/git/refs{/sha}","trees_url":"https://api.github.com/repos/doctrine/orm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/doctrine/orm/statuses/{sha}","languages_url":"https://api.github.com/repos/doctrine/orm/languages","stargazers_url":"https://api.github.com/repos/doctrine/orm/stargazers","contributors_url":"https://api.github.com/repos/doctrine/orm/contributors","subscribers_url":"https://api.github.com/repos/doctrine/orm/subscribers","subscription_url":"https://api.github.com/repos/doctrine/orm/subscription","commits_url":"https://api.github.com/repos/doctrine/orm/commits{/sha}","git_commits_url":"https://api.github.com/repos/doctrine/orm/git/commits{/sha}","comments_url":"https://api.github.com/repos/doctrine/orm/comments{/number}","issue_comment_url":"https://api.github.com/repos/doctrine/orm/issues/comments{/number}","contents_url":"https://api.github.com/repos/doctrine/orm/contents/{+path}","compare_url":"https://api.github.com/repos/doctrine/orm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/doctrine/orm/merges","archive_url":"https://api.github.com/repos/doctrine/orm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/doctrine/orm/downloads","issues_url":"https://api.github.com/repos/doctrine/orm/issues{/number}","pulls_url":"https://api.github.com/repos/doctrine/orm/pulls{/number}","milestones_url":"https://api.github.com/repos/doctrine/orm/milestones{/number}","notifications_url":"https://api.github.com/repos/doctrine/orm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/doctrine/orm/labels{/name}","releases_url":"https://api.github.com/repos/doctrine/orm/releases{/id}","deployments_url":"https://api.github.com/repos/doctrine/orm/deployments","created_at":"2010-04-06T21:42:59Z","updated_at":"2025-11-10T09:26:15Z","pushed_at":"2025-11-10T13:35:45Z","git_url":"git://github.com/doctrine/orm.git","ssh_url":"git@github.com:doctrine/orm.git","clone_url":"https://github.com/doctrine/orm.git","svn_url":"https://github.com/doctrine/orm","homepage":"https://www.doctrine-project.org/projects/orm.html","size":54667,"stargazers_count":10115,"watchers_count":10115,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2553,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1301,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest"],"visibility":"public","forks":2553,"open_issues":1301,"watchers":10115,"default_branch":"3.5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Bug Report\r\n\r\n<!-- Fill in the relevant information below to help triage your issue. -->\r\n\r\n|    Q        |   A\r\n|------------ | ------\r\n| BC Break    | unsure\r\n| Version     | 2.15.3\r\n\r\n#### Summary\r\n\r\nFor a while BackedEnums were allowed as primary keys, where Doctrine would happily convert them to their scalar value. There has been some back and forth about this in previous issues/PRs where the functionality was repaired and broken again.\r\n\r\nhttps://github.com/doctrine/orm/issues/10334\r\nhttps://github.com/doctrine/orm/issues/10471\r\nhttps://github.com/doctrine/orm/pull/10508\r\n\r\nMost recent events:\r\nhttps://github.com/doctrine/orm/issues/10745\r\nhttps://github.com/doctrine/orm/pull/10758\r\n\r\n#### Current behavior\r\n\r\nSetting a BackedEnum as primary key on an entity, using that entity in an association and trying to save it with a proxy class, will throw an error as the BackedEnum is no longer converted to a scalar value.\r\n\r\n```\r\nUncaught Error: Object of class Enum\\LocaleCode could not be converted to string in /app/vendor/doctrine/dbal/src/Driver/PDO/Statement.php:43\r\nStack trace:\r\n#0 /app/vendor/doctrine/dbal/src/Driver/PDO/Statement.php(43): PDOStatement->bindValue(1, Object(Enum\\LocaleCode), 2)\r\n#1 /app/vendor/doctrine/dbal/src/Statement.php(115): Doctrine\\DBAL\\Driver\\PDO\\Statement->bindValue(1, Object(Enum\\LocaleCode), 2)\r\n#2 /app/vendor/doctrine/orm/lib/Doctrine/ORM/Persisters/Entity/BasicEntityPersister.php(276): Doctrine\\DBAL\\Statement->bindValue(1, Object(Enum\\LocaleCode), Object(Doctrine\\DBAL\\Types\\StringType))\r\n#3 /app/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(1172): Doctrine\\ORM\\Persisters\\Entity\\BasicEntityPersister->executeInserts()\r\n#4 /app/vendor/doctrine/orm/lib/Doctrine/ORM/UnitOfWork.php(441): Doctrine\\ORM\\UnitOfWork->executeInserts(Object(Doctrine\\ORM\\Mapping\\ClassMetadata))\r\n#5 /app/vendor/doctrine/orm/lib/Doctrine/ORM/EntityManager.php(403): Doctrine\\ORM\\UnitOfWork->commit(NULL)\r\n#6 /app/trigger_error.php(23): Doctrine\\ORM\\EntityManager->flush()\r\n#7 {main}\r\n  thrown in /app/vendor/doctrine/dbal/src/Driver/PDO/Statement.php on line 43\r\n```\r\n\r\n#### How to reproduce\r\n\r\nSee https://github.com/wmouwen/doctrine-orm-10788 for a minimal setup throwing the error.\r\n\r\n<details>\r\n<summary>Code snippet copy ðŸ‘‡</summary>\r\n\r\n```php\r\n<?php\r\n\r\nenum LocaleCode: string\r\n{\r\n    case Dutch = 'nl_NL';\r\n}\r\n\r\n#[ORM\\Entity, ORM\\Table]\r\nclass Locale\r\n{\r\n    #[ORM\\Id]\r\n    #[ORM\\Column(name: 'code', type: Types::STRING, enumType: LocaleCode::class)]\r\n    public LocaleCode $code;\r\n}\r\n\r\n#[ORM\\Entity, ORM\\Table]\r\nclass CategoryLocale\r\n{\r\n    #[ORM\\Id]\r\n    #[ORM\\GeneratedValue]\r\n    #[ORM\\Column(name: 'id', type: Types::INTEGER)]\r\n    public int $id;\r\n\r\n    #[ORM\\ManyToOne(targetEntity: \\Entity\\Locale::class, cascade: ['persist'])]\r\n    #[ORM\\JoinColumn(name: 'locale_code', referencedColumnName: 'code', nullable: false)]\r\n    public Locale $locale;\r\n}\r\n```\r\n\r\n```php\r\n\r\nglobal $entityManager;\r\n\r\n// Create entity with BackedEnum as primary key.\r\n$locale = new \\Entity\\Locale();\r\n$locale->code = \\Enum\\LocaleCode::Dutch;\r\n\r\n// Persist entity, clear manager.\r\n$entityManager->persist($locale);\r\n$entityManager->flush();\r\n$entityManager->clear();\r\n\r\n// Create entity with an association to the entity with BackedEnum key.\r\n// Note that the use of a proxy class is required for the error to show.\r\n$categoryLocale = new \\Entity\\CategoryLocale();\r\n$categoryLocale->locale = $entityManager->getReference(\\Entity\\Locale::class, \\Enum\\LocaleCode::Dutch);\r\n\r\n// Attempt to persist, throws an error.\r\n$entityManager->persist($categoryLocale);\r\n$entityManager->flush();\r\n```\r\n</details>\r\n\r\n#### Expected behavior\r\n\r\nThe BackedEnum is converted and the save succeeds, as it did in version `2.15.2`.\r\n\r\n\r\n_-edit- Added the stack trace, made the code snippet collapse, added reference to repository with minimal setup._","reactions":{"url":"https://api.github.com/repos/doctrine/orm/issues/10788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doctrine/orm/issues/10788/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]