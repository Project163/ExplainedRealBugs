diff --git a/.github/workflows/automation.yml b/.github/workflows/automation.yml
index d9cb2e98..a02f5338 100644
--- a/.github/workflows/automation.yml
+++ b/.github/workflows/automation.yml
@@ -8,6 +8,9 @@ jobs:
     steps:
       - uses: actions/checkout@v2
 
+      - name: Setup Node
+        uses: actions/setup-node@v3
+
       - name: Install pnpm
         uses: pnpm/action-setup@v2
         with:
@@ -17,5 +20,5 @@ jobs:
         uses: cypress-io/github-action@v4
         with:
           start: pnpm start
-          wait-on: 'http://localhost:3000'
+          wait-on: 'http://ip6-localhost:3000'
           wait-on-timeout: 120
diff --git a/cypress/e2e/useFieldArray.cy.ts b/cypress/e2e/useFieldArray.cy.ts
index 3dde2cc0..005c6900 100644
--- a/cypress/e2e/useFieldArray.cy.ts
+++ b/cypress/e2e/useFieldArray.cy.ts
@@ -460,7 +460,7 @@ describe('useFieldArray', () => {
     cy.get('#update').click();
     cy.get('#dirtyFields').should(($state) =>
       expect(JSON.parse($state.text())).to.be.deep.equal({
-        data: [{ name: true }, {}, {}],
+        data: [{ name: true }, { name: false }, { name: false }],
       }),
     );
     cy.get('#dirty').contains('yes');
@@ -472,7 +472,7 @@ describe('useFieldArray', () => {
     cy.get('#delete2').click();
     cy.get('#dirtyFields').should(($state) =>
       expect(JSON.parse($state.text())).to.be.deep.equal({
-        data: [{ name: true }, { name: true }, {}, { name: true }],
+        data: [{ name: true }, { name: true }, { name: false }, { name: true }],
       }),
     );
     cy.get('#delete2').click();
diff --git a/cypress/e2e/useFieldArrayNested.cy.ts b/cypress/e2e/useFieldArrayNested.cy.ts
index 2cfae49a..3865b8b8 100644
--- a/cypress/e2e/useFieldArrayNested.cy.ts
+++ b/cypress/e2e/useFieldArrayNested.cy.ts
@@ -34,6 +34,8 @@ describe('useFieldArrayNested', () => {
       expect(JSON.parse($state.text())).to.be.deep.equal({
         test: [
           {
+            firstName: false,
+            lastName: false,
             keyValue: [
               { name: true },
               { name: true },
diff --git a/cypress/e2e/useFieldArrayUnregister.cy.ts b/cypress/e2e/useFieldArrayUnregister.cy.ts
index ddc64669..ea6ce8aa 100644
--- a/cypress/e2e/useFieldArrayUnregister.cy.ts
+++ b/cypress/e2e/useFieldArrayUnregister.cy.ts
@@ -54,7 +54,7 @@ describe('useFieldArrayUnregister', () => {
       expect(JSON.parse($state.text())).to.be.deep.equal({
         data: [
           { name: true },
-          {},
+          { name: false },
           { name: true, conditional: true },
           { name: true },
         ],
diff --git a/reports/api-extractor.md b/reports/api-extractor.md
index 38b693b9..3c51366f 100644
--- a/reports/api-extractor.md
+++ b/reports/api-extractor.md
@@ -41,7 +41,7 @@ export type Control<TFieldValues extends FieldValues = FieldValues, TContext = a
     _subjects: Subjects<TFieldValues>;
     _removeUnmounted: Noop;
     _names: Names;
-    _stateFlags: {
+    _state: {
         mount: boolean;
         action: boolean;
         watch: boolean;
diff --git a/src/__tests__/useForm/reset.test.tsx b/src/__tests__/useForm/reset.test.tsx
index 93f15cc9..d95e216d 100644
--- a/src/__tests__/useForm/reset.test.tsx
+++ b/src/__tests__/useForm/reset.test.tsx
@@ -1102,7 +1102,7 @@ describe('reset', () => {
     const App = () => {
       const { control, reset } = useForm();
 
-      mounted.push(control._stateFlags.mount);
+      mounted.push(control._state.mount);
 
       React.useEffect(() => {
         reset({});
@@ -1127,7 +1127,7 @@ describe('reset', () => {
         formState: { isValid },
       } = useForm();
 
-      mounted.push(control._stateFlags.mount);
+      mounted.push(control._state.mount);
       tempControl = control;
 
       React.useEffect(() => {
@@ -1147,7 +1147,7 @@ describe('reset', () => {
 
     expect(mounted).toEqual([false, false]);
 
-    expect(tempControl._stateFlags.mount).toBeTruthy();
+    expect(tempControl._state.mount).toBeTruthy();
   });
 
   it('should reset values but keep defaultValues', async () => {
diff --git a/src/logic/createFormControl.ts b/src/logic/createFormControl.ts
index f16d83fe..283b3fe4 100644
--- a/src/logic/createFormControl.ts
+++ b/src/logic/createFormControl.ts
@@ -119,7 +119,7 @@ export function createFormControl<
   let _formValues = _options.shouldUnregister
     ? {}
     : cloneObject(_defaultValues);
-  let _stateFlags = {
+  let _state = {
     action: false,
     mount: false,
     watch: false,
@@ -132,8 +132,6 @@ export function createFormControl<
   };
   let delayErrorCallback: DelayCallback | null;
   let timer = 0;
-  const shouldCaptureDirtyFields =
-    props.resetOptions && props.resetOptions.keepDirtyValues;
   const _proxyFormState = {
     isDirty: false,
     dirtyFields: false,
@@ -147,6 +145,8 @@ export function createFormControl<
     array: createSubject(),
     state: createSubject(),
   };
+  const shouldCaptureDirtyFields =
+    props.resetOptions && props.resetOptions.keepDirtyValues;
   const validationModeBeforeSubmit = getValidationModes(_options.mode);
   const validationModeAfterSubmit = getValidationModes(_options.reValidateMode);
   const shouldDisplayAllAssociatedErrors =
@@ -188,7 +188,7 @@ export function createFormControl<
     shouldUpdateFieldsAndState = true,
   ) => {
     if (args && method) {
-      _stateFlags.action = true;
+      _state.action = true;
       if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {
         const fieldValues = method(get(_fields, name), args.argA, args.argB);
         shouldSetValues && set(_fields, name, fieldValues);
@@ -268,7 +268,7 @@ export function createFormControl<
           )
         : setFieldValue(name, defaultValue);
 
-      _stateFlags.mount && _updateValid();
+      _state.mount && _updateValid();
     }
   };
 
@@ -379,7 +379,7 @@ export function createFormControl<
   };
 
   const _executeSchema = async (name?: InternalFieldName[]) =>
-    await _options.resolver!(
+    _options.resolver!(
       _formValues as TFieldValues,
       _options.context,
       getResolverOptions(
@@ -491,7 +491,7 @@ export function createFormControl<
       names,
       _names,
       {
-        ...(_stateFlags.mount
+        ...(_state.mount
           ? _formValues
           : isUndefined(defaultValue)
           ? _defaultValues
@@ -508,7 +508,7 @@ export function createFormControl<
   ): Partial<TFieldArrayValues>[] =>
     compact(
       get(
-        _stateFlags.mount ? _formValues : _defaultValues,
+        _state.mount ? _formValues : _defaultValues,
         name,
         props.shouldUnregister ? get(_defaultValues, name, []) : [],
       ),
@@ -649,7 +649,7 @@ export function createFormControl<
       name,
       values: { ..._formValues },
     });
-    !_stateFlags.mount && flushRootRender();
+    !_state.mount && flushRootRender();
   };
 
   const onChange: ChangeHandler = async (event) => {
@@ -819,7 +819,7 @@ export function createFormControl<
   ) => {
     const values = {
       ..._defaultValues,
-      ...(_stateFlags.mount ? _formValues : {}),
+      ...(_state.mount ? _formValues : {}),
     };
 
     return isUndefined(fieldNames)
@@ -1011,7 +1011,7 @@ export function createFormControl<
           }
 
           (_options.shouldUnregister || options.shouldUnregister) &&
-            !(isNameInFieldArray(_names.array, name) && _stateFlags.action) &&
+            !(isNameInFieldArray(_names.array, name) && _state.action) &&
             _names.unMount.add(name);
         }
       },
@@ -1171,12 +1171,11 @@ export function createFormControl<
       focus: '',
     };
 
-    !_stateFlags.mount && flushRootRender();
+    !_state.mount && flushRootRender();
 
-    _stateFlags.mount =
-      !_proxyFormState.isValid || !!keepStateOptions.keepIsValid;
+    _state.mount = !_proxyFormState.isValid || !!keepStateOptions.keepIsValid;
 
-    _stateFlags.watch = !!props.shouldUnregister;
+    _state.watch = !!props.shouldUnregister;
 
     _subjects.state.next({
       submitCount: keepStateOptions.keepSubmitCount
@@ -1269,11 +1268,11 @@ export function createFormControl<
       get _formValues() {
         return _formValues;
       },
-      get _stateFlags() {
-        return _stateFlags;
+      get _state() {
+        return _state;
       },
-      set _stateFlags(value) {
-        _stateFlags = value;
+      set _state(value) {
+        _state = value;
       },
       get _defaultValues() {
         return _defaultValues;
diff --git a/src/types/form.ts b/src/types/form.ts
index de9ca17d..65fb78cf 100644
--- a/src/types/form.ts
+++ b/src/types/form.ts
@@ -741,7 +741,7 @@ export type Control<
   _subjects: Subjects<TFieldValues>;
   _removeUnmounted: Noop;
   _names: Names;
-  _stateFlags: {
+  _state: {
     mount: boolean;
     action: boolean;
     watch: boolean;
diff --git a/src/useController.ts b/src/useController.ts
index 1439f42a..a67a1f15 100644
--- a/src/useController.ts
+++ b/src/useController.ts
@@ -90,7 +90,7 @@ export function useController<
 
       (
         isArrayField
-          ? _shouldUnregisterField && !control._stateFlags.action
+          ? _shouldUnregisterField && !control._state.action
           : _shouldUnregisterField
       )
         ? control.unregister(name)
diff --git a/src/useFieldArray.ts b/src/useFieldArray.ts
index 97660d68..d8aa0f4c 100644
--- a/src/useFieldArray.ts
+++ b/src/useFieldArray.ts
@@ -308,7 +308,7 @@ export function useFieldArray<
   };
 
   React.useEffect(() => {
-    control._stateFlags.action = false;
+    control._state.action = false;
 
     isWatched(name, control._names) &&
       control._subjects.state.next({
diff --git a/src/useForm.ts b/src/useForm.ts
index 06b9037f..b7fd0073 100644
--- a/src/useForm.ts
+++ b/src/useForm.ts
@@ -106,13 +106,13 @@ export function useForm<
   }, [props.values, control]);
 
   React.useEffect(() => {
-    if (!control._stateFlags.mount) {
+    if (!control._state.mount) {
       control._updateValid();
-      control._stateFlags.mount = true;
+      control._state.mount = true;
     }
 
-    if (control._stateFlags.watch) {
-      control._stateFlags.watch = false;
+    if (control._state.watch) {
+      control._state.watch = false;
       control._subjects.state.next({ ...control._formState });
     }
 
diff --git a/src/utils/createSubject.ts b/src/utils/createSubject.ts
index 212f6ee8..cbc729a9 100644
--- a/src/utils/createSubject.ts
+++ b/src/utils/createSubject.ts
@@ -18,12 +18,8 @@ export default function createSubject<T>(): Subject<T> {
   let _observers: Observer<T>[] = [];
 
   const next = (value: T) => {
-    let x = 0;
-    const l = _observers.length;
-
-    while (x < l) {
-      _observers[x].next(value);
-      ++x;
+    for (const observer of _observers) {
+      observer.next && observer.next(value);
     }
   };
 
