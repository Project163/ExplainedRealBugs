diff --git a/src/__tests__/useFieldArray.test.tsx b/src/__tests__/useFieldArray.test.tsx
index 28f0d15b..f14362b5 100644
--- a/src/__tests__/useFieldArray.test.tsx
+++ b/src/__tests__/useFieldArray.test.tsx
@@ -2609,9 +2609,9 @@ describe('useFieldArray', () => {
           names: [{ name: 'will' }, { name: 'Mike' }],
         },
       });
-      const { setValue } = methods;
+      const { setValue, watch } = methods;
 
-      result.push(methods.watch());
+      result.push(watch());
 
       return (
         <form>
@@ -2677,6 +2677,16 @@ describe('useFieldArray', () => {
           },
         ],
       },
+      {
+        names: [
+          {
+            name: 'will',
+          },
+          {
+            name: 'Mike',
+          },
+        ],
+      },
       {
         names: [],
       },
@@ -2773,6 +2783,16 @@ describe('useFieldArray', () => {
           },
         ],
       },
+      {
+        test: [
+          {
+            value: 'test',
+          },
+          {
+            value: 'test1',
+          },
+        ],
+      },
       {},
     ]);
   });
diff --git a/src/__tests__/useForm/setError.test.tsx b/src/__tests__/useForm/setError.test.tsx
index 3801f081..f43a29b1 100644
--- a/src/__tests__/useForm/setError.test.tsx
+++ b/src/__tests__/useForm/setError.test.tsx
@@ -10,6 +10,7 @@ import {
 
 import { DeepMap, ErrorOption, FieldError, GlobalError } from '../../types';
 import { useForm } from '../../useForm';
+import { FormProvider, useFormContext } from '../../useFormContext';
 
 describe('setError', () => {
   const tests: [string, ErrorOption, DeepMap<any, FieldError>][] = [
@@ -258,3 +259,49 @@ describe('setError', () => {
     });
   });
 });
+
+it('should update error state in FormProvider when setError is called in useEffect', async () => {
+  type FormValues = {
+    firstname: string;
+    lastname: string;
+  };
+
+  const MyForm = () => {
+    const {
+      register,
+      setError,
+      formState: { errors },
+    } = useFormContext<FormValues>();
+
+    React.useEffect(() => {
+      setError('firstname', { type: 'manual', message: 'This is an error' });
+    }, [setError]);
+
+    return (
+      <form>
+        <div>
+          <input {...register('firstname')} placeholder="firstname" />
+          {errors.firstname && <p>{errors.firstname.message}</p>}
+        </div>
+        <div>
+          <input {...register('lastname')} placeholder="lastname" />
+        </div>
+      </form>
+    );
+  };
+
+  const App = () => {
+    const methods = useForm<FormValues>();
+    return (
+      <FormProvider {...methods}>
+        <MyForm />
+      </FormProvider>
+    );
+  };
+
+  render(<App />);
+
+  await waitFor(() => {
+    expect(screen.getByText('This is an error')).toBeInTheDocument();
+  });
+});
diff --git a/src/useForm.ts b/src/useForm.ts
index 7d8238c6..6e571fa5 100644
--- a/src/useForm.ts
+++ b/src/useForm.ts
@@ -76,7 +76,7 @@ export function useForm<
   const control = _formControl.current.control;
   control._options = props;
 
-  React.useEffect(
+  React.useLayoutEffect(
     () =>
       control._subscribe({
         formState: control._proxyFormState,
