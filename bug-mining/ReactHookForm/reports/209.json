{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/3508","id":748669997,"node_id":"MDU6SXNzdWU3NDg2Njk5OTc=","number":3508,"title":"`append` function of `useFieldArray` and `isDirty` on form state does not work as expected when nesting forms","user":{"login":"delijah","id":237739,"node_id":"MDQ6VXNlcjIzNzczOQ==","avatar_url":"https://avatars.githubusercontent.com/u/237739?v=4","gravatar_id":"","url":"https://api.github.com/users/delijah","html_url":"https://github.com/delijah","followers_url":"https://api.github.com/users/delijah/followers","following_url":"https://api.github.com/users/delijah/following{/other_user}","gists_url":"https://api.github.com/users/delijah/gists{/gist_id}","starred_url":"https://api.github.com/users/delijah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delijah/subscriptions","organizations_url":"https://api.github.com/users/delijah/orgs","repos_url":"https://api.github.com/users/delijah/repos","events_url":"https://api.github.com/users/delijah/events{/privacy}","received_events_url":"https://api.github.com/users/delijah/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145696,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2020-11-23T10:22:19Z","updated_at":"2022-10-13T18:07:06Z","closed_at":"2020-11-24T07:19:16Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nWhen having nested forms, it looks like the context of the `append` function of `useFieldArray` gets messed up. Therefore `isDirty` on the form state stays false after appending a field to the field array, even though `dirtyFields` have been populated (Example 1).\r\n\r\nIf i wait for the nested form to get removed from the dom, the `append` function works as expected again (Example 2).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\nFor Example 1:\r\n1. Type any string into the text field in the modal on the bottom right\r\n2. Press 'Submit' in the modal on the bottom right\r\n3. Now you see in the dumped form state, that `isDirty` is still false, but there are `dirtyFields`\r\n\r\n**Codesandbox link (Required)**\r\nExample 1 (bug): https://codesandbox.io/s/react-hook-form-useform-template-forked-4lnku?file=/src/index.js\r\nExample 2 (workaround): https://codesandbox.io/s/react-hook-form-useform-template-forked-pyuy6?file=/src/index.js\r\n\r\n**Expected behavior**\r\n1. `append` should work correctly, even in nested forms\r\n2. `isDirty` must be true, when there are dirty fields / when a field has been added to a field array\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: macOS Mojave Version 10.14.6 (18G5033)\r\n- Browser: Google Chrome Version 87.0.4280.67 (Official Build) (x86_64)\r\n","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3508/timeline","performed_via_github_app":null,"state_reason":"completed"}