{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/9621","id":1502807116,"node_id":"I_kwDOCl-cD85ZkwRM","number":9621,"title":"Different controller behaviour in v7.41.0","user":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2439417295,"node_id":"MDU6TGFiZWwyNDM5NDE3Mjk1","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/regression","name":"regression","color":"e04ebe","default":false,"description":"Regression with code change"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-19T11:48:10Z","updated_at":"2023-02-19T18:00:25Z","closed_at":"2022-12-19T12:39:52Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"      Hi guys,\n\ni just stumbled across some weird behaviour with the new version v7.41.0.\nIt seems like the defaultValue of the controller can no longer be accessed with the field.value property.\n\nin my project, i have a function, which renders my form fields depending on the settings i get from the database:\n```jsx\nconst ReturnAndRenderSettings = (): ReactNode[] => {\n        return availableSettings.map((s) => {\n            return (\n                <div className={\"field\"}>\n                    <Controller name={s.Name} control={settingsControl}\n                                defaultValue={userSettings.find(\n                                    us => us.SettingId == s.ID)?.IsEnabled ?? false}\n                                render={({field, fieldState}) => (\n\n                                    <Setting name={s.Name}\n                                             disabled={inSubmit}\n                                             defaultValue={field.value}\n                                             onChange={setSettingsValue}/>\n                                )}/>\n                </div>\n            );\n        })\n    };\n```\n\nAs you can see here, iÂ´m searching for the matching setting which i get from the server, and then i get the actual value from the ```IsEnabled``` property. As fallback iÂ´m using false.\n\nThis code worked fine till v7.41.0 and the result looked like this:\n![Screenshot_1](https://user-images.githubusercontent.com/46539758/208323938-08ec0c5e-7457-447e-838e-87afc5f1d3f1.png)\n\nHowever with the newst version ```field.value``` is always ```undefined```.\nThe result, as expected, looks like this:\n![Screenshot_2](https://user-images.githubusercontent.com/46539758/208324053-df5ef5dc-7225-47eb-8d50-43c354c71cef.png)\n\nIt seems like in version <7.41.0 field.value was identical with the controller default value, and since 7.41.0 this is not the case anymore.\n\nIÂ´ve read about the new values and defaultValues things in the new versions but found no connection to the controller, so this makes me wonder if iÂ´m missing something hereðŸ¤”\n\n_Originally posted by @manuelpoelzl in https://github.com/react-hook-form/react-hook-form/discussions/9613_\n    ","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/9621/timeline","performed_via_github_app":null,"state_reason":"completed"}