{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/5611","id":921166026,"node_id":"MDU6SXNzdWU5MjExNjYwMjY=","number":5611,"title":"Field using `setValueAs` deemed dirty even though no user interaction has changed it","user":{"login":"larrifax","id":144189,"node_id":"MDQ6VXNlcjE0NDE4OQ==","avatar_url":"https://avatars.githubusercontent.com/u/144189?v=4","gravatar_id":"","url":"https://api.github.com/users/larrifax","html_url":"https://github.com/larrifax","followers_url":"https://api.github.com/users/larrifax/followers","following_url":"https://api.github.com/users/larrifax/following{/other_user}","gists_url":"https://api.github.com/users/larrifax/gists{/gist_id}","starred_url":"https://api.github.com/users/larrifax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/larrifax/subscriptions","organizations_url":"https://api.github.com/users/larrifax/orgs","repos_url":"https://api.github.com/users/larrifax/repos","events_url":"https://api.github.com/users/larrifax/events{/privacy}","received_events_url":"https://api.github.com/users/larrifax/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145696,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-15T08:55:07Z","updated_at":"2022-10-11T18:02:03Z","closed_at":"2021-06-15T10:23:42Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nI'm using `setValueAs` in combination with `<input type=\"date\" />` in order to use `Date` objects both in and out of my forms.\r\n\r\nWhen focusing and subsequently blurring such an input, it is incorrectly marked as \"dirty\".\r\nThis may be due to [updateTouchAndDirtyState ](https://github.com/react-hook-form/react-hook-form/blob/master/src/useForm.ts#L317-L320) using `inputValue` directly instead of using `getFieldValueAs` on the value.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Go to 'https://codesandbox.io/s/infallible-haze-xgf1i?file=/src/App.tsx'\r\n2. Click on 'Submit' and look in the console. Verify that both `touched` and `dirty` are empty - as they should be.\r\n3. Focus the input field and blur it without making any changes to it\r\n4. Click on 'Submit' and look in the console. Now the input is shown as both `touched` and `dirty` - even though it's only been touched.\r\n\r\n**Codesandbox link (Required)**\r\nhttps://codesandbox.io/s/infallible-haze-xgf1i?file=/src/App.tsx\r\n\r\n**Expected behavior**\r\nThe input should only be marked as dirty when the user has actually changed the field","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/5611/timeline","performed_via_github_app":null,"state_reason":"completed"}