{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/3257","id":728834092,"node_id":"MDU6SXNzdWU3Mjg4MzQwOTI=","number":3257,"title":"React Native / Metro bundler shows warning and ignores package due to change in rules about package.json's exports section","user":{"login":"cabiad","id":840172,"node_id":"MDQ6VXNlcjg0MDE3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/840172?v=4","gravatar_id":"","url":"https://api.github.com/users/cabiad","html_url":"https://github.com/cabiad","followers_url":"https://api.github.com/users/cabiad/followers","following_url":"https://api.github.com/users/cabiad/following{/other_user}","gists_url":"https://api.github.com/users/cabiad/gists{/gist_id}","starred_url":"https://api.github.com/users/cabiad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cabiad/subscriptions","organizations_url":"https://api.github.com/users/cabiad/orgs","repos_url":"https://api.github.com/users/cabiad/repos","events_url":"https://api.github.com/users/cabiad/events{/privacy}","received_events_url":"https://api.github.com/users/cabiad/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1873997318,"node_id":"MDU6TGFiZWwxODczOTk3MzE4","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/react-native","name":"react-native","color":"0052cc","default":false,"description":"React Native issue"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-10-24T17:16:24Z","updated_at":"2022-10-14T00:03:04Z","closed_at":"2020-10-25T21:22:21Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nReact native's metro bundler ignores `react-hook-form` and shows a warning.\r\n\r\nSimilar issues have been reported in many other projects as listed in [this react native cli issue](https://github.com/react-native-community/cli/issues/1168#issue-617427926) and [the fix used by those projects is quite simple and seemingly low risk](https://github.com/i18next/i18next-http-backend/commit/1d8da7909425eb33ab286cd73ee53bb48a1a3dc4#diff-b9cfc7f2cdf78a7f4b91a753d10865a2R8).\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\nWith node 15.0.1 and yarn 1.22.10 installed (as of this writing, the latest available in homebrew)...\r\n\r\n1. Create a new react native app with `npx react-native init DummyProj`\r\n2. `cd DummyProj/`\r\n2. Install `react-hook-form` with `yarn add react-hook-form`\r\n3. Start the metro bundler with `yarn start`\r\n4. Observe the following error output:\r\n\r\n```\r\n$ yarn start\r\nyarn run v1.22.10\r\n$ react-native start\r\nwarn Package react-hook-form has been ignored because it contains invalid configuration. Reason: Package subpath './package.json' is not defined by \"exports\" in /Users/cabiad/src/DummyProj/node_modules/react-hook-form/package.json\r\n```\r\n\r\n**Codesandbox link (Required)**\r\n(Not applicable for this build issue.)\r\n\r\n**Expected behavior**\r\nThe package is not ignored in react native\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: MacOS\r\n- Browser N/A\r\n- Version 6.9.6\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257/reactions","total_count":16,"+1":11,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":1,"eyes":2},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3257/timeline","performed_via_github_app":null,"state_reason":"completed"}