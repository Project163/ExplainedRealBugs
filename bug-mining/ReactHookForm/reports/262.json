{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/4895","id":863580158,"node_id":"MDU6SXNzdWU4NjM1ODAxNTg=","number":4895,"title":"V7 4.2.1: Field validation doesn't work when custom validate function returns Message[]","user":{"login":"svntime","id":42152930,"node_id":"MDQ6VXNlcjQyMTUyOTMw","avatar_url":"https://avatars.githubusercontent.com/u/42152930?v=4","gravatar_id":"","url":"https://api.github.com/users/svntime","html_url":"https://github.com/svntime","followers_url":"https://api.github.com/users/svntime/followers","following_url":"https://api.github.com/users/svntime/following{/other_user}","gists_url":"https://api.github.com/users/svntime/gists{/gist_id}","starred_url":"https://api.github.com/users/svntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svntime/subscriptions","organizations_url":"https://api.github.com/users/svntime/orgs","repos_url":"https://api.github.com/users/svntime/repos","events_url":"https://api.github.com/users/svntime/events{/privacy}","received_events_url":"https://api.github.com/users/svntime/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1572915165,"node_id":"MDU6TGFiZWwxNTcyOTE1MTY1","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/not%20valid","name":"not valid","color":"d3026e","default":false,"description":"not valid issue, question or suggestion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-21T08:19:59Z","updated_at":"2021-04-21T10:08:54Z","closed_at":"2021-04-21T08:24:35Z","author_association":"NONE","type":null,"active_lock_reason":"off-topic","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\n\r\n[V7 4.2.1]\r\n\r\nWhen custom validate function returns the array of messages, field's validation is not working. \r\nI found that ValidateResult = Message | Message[] | boolean | undefined.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Go to the below Codesandbox\r\n2. Click on the 'Submit' button\r\n3. Go to the Console tab\r\n4. 'firstName' is not present in errors, field was not validated.\r\n5. 'city' was validated with maxLength and errors has object with key 'city' and its messages equal to [\"city-1\", \"city-2\"].\r\n\r\n**Codesandbox link (Required)**\r\nhttps://codesandbox.io/s/react-hook-form-custom-validation-forked-vm4wm?file=/src/index.js\r\n\r\n**Expected behavior**\r\nValidation should work if field's custom validate function returns the array of messages (allowed by ValidateResult type and working when using maxLength)\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/42152930/115520723-be7d4780-a28a-11eb-8b01-db563a393f1b.png)\r\n![image](https://user-images.githubusercontent.com/42152930/115516919-e66aac00-a286-11eb-855f-cf7291a25136.png)\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: Win10\r\n- Browser: Chrome\r\n- Version: 89.0.4389.128\r\n","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4895/timeline","performed_via_github_app":null,"state_reason":"completed"}