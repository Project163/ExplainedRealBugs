{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/3651","id":761420854,"node_id":"MDU6SXNzdWU3NjE0MjA4NTQ=","number":3651,"title":"setValue mutates second parameter when used with nested fields","user":{"login":"DamianPereira","id":17646954,"node_id":"MDQ6VXNlcjE3NjQ2OTU0","avatar_url":"https://avatars.githubusercontent.com/u/17646954?v=4","gravatar_id":"","url":"https://api.github.com/users/DamianPereira","html_url":"https://github.com/DamianPereira","followers_url":"https://api.github.com/users/DamianPereira/followers","following_url":"https://api.github.com/users/DamianPereira/following{/other_user}","gists_url":"https://api.github.com/users/DamianPereira/gists{/gist_id}","starred_url":"https://api.github.com/users/DamianPereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DamianPereira/subscriptions","organizations_url":"https://api.github.com/users/DamianPereira/orgs","repos_url":"https://api.github.com/users/DamianPereira/repos","events_url":"https://api.github.com/users/DamianPereira/events{/privacy}","received_events_url":"https://api.github.com/users/DamianPereira/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145702,"node_id":"MDU6TGFiZWwxMjYwMTQ1NzAy","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/question","name":"question","color":"2729a3","default":true,"description":"Further information is requested"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-12-10T17:06:58Z","updated_at":"2022-10-13T18:06:48Z","closed_at":"2020-12-10T22:15:15Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nI'm having a problem where I'm trying to use setValue to return an input to it's defaultValue.\r\n\r\n**To Reproduce**\r\nGo to [this](https://codesandbox.io/s/react-hook-form-example-58h4o?file=/src/App.js) codepen. And do the following:\r\n\r\n1. Select a person from the dropdown\r\n2. Uncheck the something checkbox\r\n3. Switch the person selected\r\n\r\nAt this point, \"something\" checkbox remains unchecked, even though the code is supposed to set nested to defaultValue.nested. The intended behavior is to return everything under nested to defaults when the input changes. With the included console.log, you can see that the actual defaultValue defined outside of the react component is getting mutated, so setValue ends up re-setting the something input as unchecked.\r\n\r\n**Codesandbox link (Required)**\r\nhttps://codesandbox.io/s/react-hook-form-example-58h4o?file=/src/App.js\r\n\r\n**Expected behavior**\r\nI'd expect setValue to not mutate a parameter given, or at least to be explicitely stated in the documentation, so I can do a workaround like the one commented out in the code sandbox (clone the object that is sent to setValue).\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: Manjaro\r\n- Browser Chrome\r\n- Version 83","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/3651/timeline","performed_via_github_app":null,"state_reason":"completed"}