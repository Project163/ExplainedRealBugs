{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/4762","id":856778325,"node_id":"MDU6SXNzdWU4NTY3NzgzMjU=","number":4762,"title":"useWatch() does not always catch changes","user":{"login":"serg-prasolov","id":1804538,"node_id":"MDQ6VXNlcjE4MDQ1Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/1804538?v=4","gravatar_id":"","url":"https://api.github.com/users/serg-prasolov","html_url":"https://github.com/serg-prasolov","followers_url":"https://api.github.com/users/serg-prasolov/followers","following_url":"https://api.github.com/users/serg-prasolov/following{/other_user}","gists_url":"https://api.github.com/users/serg-prasolov/gists{/gist_id}","starred_url":"https://api.github.com/users/serg-prasolov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serg-prasolov/subscriptions","organizations_url":"https://api.github.com/users/serg-prasolov/orgs","repos_url":"https://api.github.com/users/serg-prasolov/repos","events_url":"https://api.github.com/users/serg-prasolov/events{/privacy}","received_events_url":"https://api.github.com/users/serg-prasolov/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145696,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-13T09:34:14Z","updated_at":"2022-10-12T18:05:38Z","closed_at":"2021-04-13T10:55:23Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nTwo components, in the second one I set a value to the registered input field, in the first one I watch the values and want to re-render the component. I use setValue(). It works when called from a button onClick(). It does NOT when called from the component body. \r\n\r\n**To Reproduce**\r\n1. Create two components, Component1 and Component2 inside a FormProvider. Component1 watches for a value using useWatch() and displays the value. Component2 registers a field, then sets the value, then displays the field and buttons.\r\n2. In the component1 default value is displayed: 111.\r\n3. setValue(222) in the component body is ignored, disregarding shouldDirty parameter.\r\n3a. however if I run setValue(222) from useEffect() in component2, it works\r\n3b. registering the field before both components are called does not help.\r\n4. clicking on \"SET\" button changes Component1 display to 444.\r\n5. clicking on \"SET DEEP\" button has no effect on Component1 display (is it correct? would be great if it worked).\r\n\r\n**Codesandbox link (Required)**\r\nhttps://codesandbox.io/s/react-hook-form-usewatch-forked-m7iiy\r\n\r\n**Expected behavior**\r\nI expect useWatch() to re-render the component ANY TIME the watched value changes.\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: win10\r\n- Browser FF\r\n- Version 87\r\n","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/4762/timeline","performed_via_github_app":null,"state_reason":"completed"}