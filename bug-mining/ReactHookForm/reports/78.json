{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/1276","id":587995609,"node_id":"MDU6SXNzdWU1ODc5OTU2MDk=","number":1276,"title":"Uncaught SyntaxError: Invalid destructuring assignment target","user":{"login":"kerosan","id":10149363,"node_id":"MDQ6VXNlcjEwMTQ5MzYz","avatar_url":"https://avatars.githubusercontent.com/u/10149363?v=4","gravatar_id":"","url":"https://api.github.com/users/kerosan","html_url":"https://github.com/kerosan","followers_url":"https://api.github.com/users/kerosan/followers","following_url":"https://api.github.com/users/kerosan/following{/other_user}","gists_url":"https://api.github.com/users/kerosan/gists{/gist_id}","starred_url":"https://api.github.com/users/kerosan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kerosan/subscriptions","organizations_url":"https://api.github.com/users/kerosan/orgs","repos_url":"https://api.github.com/users/kerosan/repos","events_url":"https://api.github.com/users/kerosan/events{/privacy}","received_events_url":"https://api.github.com/users/kerosan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145698,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk4","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-03-25T21:15:09Z","updated_at":"2022-10-15T12:01:13Z","closed_at":"2020-03-25T22:25:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Found bug when trying run testcafe\r\nUncaught SyntaxError: Invalid destructuring assignment target\r\n\r\nSteps to reproduce the behavior:\r\n1. prepare react app with react-hook-form FormContext \r\n2. write test on testcafe\r\n3. try to run test\r\n\r\nhttps://codesandbox.io/s/wizardly-volhard-hpqsw\r\n\r\n![image](https://user-images.githubusercontent.com/10149363/77572415-98467600-6ed7-11ea-89c6-c1bdee75e437.png)\r\n\r\ni believe  this is problem of testcafe-hammerhead but what if rewrite swapAtArray function?\r\n\r\n```\r\nexport default (fields: any, indexA: number, indexB: number) => {\r\n  if (isArray(fields)) {\r\n    const temp = [fields[indexB], fields[indexA]];\r\n    fields[indexA] = temp[0];\r\n    fields[indexB] = temp[1];\r\n  }\r\n}\r\n\r\n```\r\n\r\npatch file:\r\n```\r\nIndex: src/utils/swap.ts\r\nIDEA additional info:\r\nSubsystem: com.intellij.openapi.diff.impl.patch.CharsetEP\r\n<+>UTF-8\r\n===================================================================\r\n--- src/utils/swap.ts\t(revision f9183f465775a9c4e0d905cdd2cacfcb314c6a77)\r\n+++ src/utils/swap.ts\t(date 1585168551683)\r\n@@ -1,5 +1,9 @@\r\n import isArray from './isArray';\r\n \r\n-export default (fields: any, indexA: number, indexB: number) =>\r\n-  isArray(fields) &&\r\n-  ([fields[indexA], fields[indexB]] = [fields[indexB], fields[indexA]]);\r\n+export default (fields: any, indexA: number, indexB: number) => {\r\n+  if (isArray(fields)) {\r\n+    const temp = [fields[indexB], fields[indexA]];\r\n+    fields[indexA] = temp[0];\r\n+    fields[indexB] = temp[1];\r\n+  }\r\n+}\r\n```","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/1276/timeline","performed_via_github_app":null,"state_reason":"completed"}