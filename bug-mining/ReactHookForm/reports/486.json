{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/12873","id":3124599969,"node_id":"I_kwDOCl-cD866PZyh","number":12873,"title":"issue: Submit works differently between 7.54.2 and 7.56.4","user":{"login":"Jarzka","id":5528061,"node_id":"MDQ6VXNlcjU1MjgwNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5528061?v=4","gravatar_id":"","url":"https://api.github.com/users/Jarzka","html_url":"https://github.com/Jarzka","followers_url":"https://api.github.com/users/Jarzka/followers","following_url":"https://api.github.com/users/Jarzka/following{/other_user}","gists_url":"https://api.github.com/users/Jarzka/gists{/gist_id}","starred_url":"https://api.github.com/users/Jarzka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jarzka/subscriptions","organizations_url":"https://api.github.com/users/Jarzka/orgs","repos_url":"https://api.github.com/users/Jarzka/repos","events_url":"https://api.github.com/users/Jarzka/events{/privacy}","received_events_url":"https://api.github.com/users/Jarzka/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1853898636,"node_id":"MDU6TGFiZWwxODUzODk4NjM2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/status:%20under%20investigation","name":"status: under investigation","color":"fbca04","default":false,"description":"aware of this issue and pending for investigation"},{"id":2439417295,"node_id":"MDU6TGFiZWwyNDM5NDE3Mjk1","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/regression","name":"regression","color":"e04ebe","default":false,"description":"Regression with code change"}],"state":"closed","locked":true,"assignee":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":8,"created_at":"2025-06-06T12:11:29Z","updated_at":"2025-08-28T00:00:34Z","closed_at":"2025-06-21T00:47:07Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version Number\n\n7.56.4\n\n### Codesandbox/Expo snack\n\nhttps://codesandbox.io/p/devbox/rhf-submit-default-value-754-forked-r77xx3?workspaceId=ws_Aw1xaaGRKNw2v27euU6aAp\n\n### Steps to reproduce\n\nHi\n\nI tried upgrading RHF from version 7.54.2 to 7.56.4 and noticed one test failure. It seems that the behavior of the library has unexpectedly changed between these versions. Here is how:\n\nI have a Form with a single field `firstName`. It has a default value of `\"Seppo\"`. If I reset `firstName` to `undefined` using `reset`, it becomes `undefined` in the form state. Then I submit this data.\n\nWhat happens next works differently between versions.\n\n---\n\nIn version **7.54.2**, the following data is submitted:\n\n`{firstName: \"Seppo\"`}\n\nEven if the data in form state is `undefined`, it seems that React Hook Form automatically replaces the value from `defaultValues` when submitting the form.\n\nHere is an example: https://codesandbox.io/p/devbox/rhf-test1-forked-tkn7rs?file=%2Fsrc%2FApp.tsx&workspaceId=ws_Aw1xaaGRKNw2v27euU6aAp\n\nClick \"Clear Seppo\" and then \"Submit query\". You get:\n```\nForm state: {\"firstName\":\"seppo\"}\nSubmitted data: {\"firstName\":\"seppo\"}\n```\n\n---\n\nIn version **77.56.4**, the following data is submitted:\n\n`{firstName: undefined`}\n\nIn this version, the Form does not fill `firstName` from `defaultValues` but submits the value as it is in form state.\n\nHere is an example: https://codesandbox.io/p/devbox/rhf-submit-default-value-754-forked-r77xx3?workspaceId=ws_Aw1xaaGRKNw2v27euU6aAp\n\nAgain, click \"Clear Seppo\" and then \"Submit query\". You get:\n```\nForm state: {}\nSubmitted data: {}\n```\n\n\n### Expected behaviour\n\nNo functional changes between patch/minor versions. I.e. we should get:\n```\nForm state: {\"firstName\":\"seppo\"}\nSubmitted data: {\"firstName\":\"seppo\"}\n```\n\n### What browsers are you seeing the problem on?\n\nChrome\n\n### Relevant log output\n\n```shell\n\n```\n\n### Code of Conduct\n\n- [x] I agree to follow this project's Code of Conduct","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/12873/timeline","performed_via_github_app":null,"state_reason":"completed"}