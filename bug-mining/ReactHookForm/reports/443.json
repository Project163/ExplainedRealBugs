{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/11386","id":2076985349,"node_id":"I_kwDOCl-cD857zEgF","number":11386,"title":"issue: dirtyFields is incorrect when reset() with `keepDefaultValues` and `keepDirtyValues`","user":{"login":"IanVS","id":4616705,"node_id":"MDQ6VXNlcjQ2MTY3MDU=","avatar_url":"https://avatars.githubusercontent.com/u/4616705?v=4","gravatar_id":"","url":"https://api.github.com/users/IanVS","html_url":"https://github.com/IanVS","followers_url":"https://api.github.com/users/IanVS/followers","following_url":"https://api.github.com/users/IanVS/following{/other_user}","gists_url":"https://api.github.com/users/IanVS/gists{/gist_id}","starred_url":"https://api.github.com/users/IanVS/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IanVS/subscriptions","organizations_url":"https://api.github.com/users/IanVS/orgs","repos_url":"https://api.github.com/users/IanVS/repos","events_url":"https://api.github.com/users/IanVS/events{/privacy}","received_events_url":"https://api.github.com/users/IanVS/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1853898636,"node_id":"MDU6TGFiZWwxODUzODk4NjM2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/status:%20under%20investigation","name":"status: under investigation","color":"fbca04","default":false,"description":"aware of this issue and pending for investigation"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-01-11T15:37:42Z","updated_at":"2024-03-17T00:00:26Z","closed_at":"2024-01-16T20:08:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version Number\r\n\r\n7.49.3\r\n\r\n### Codesandbox/Expo snack\r\n\r\nhttps://codesandbox.io/p/github/IanVS/reproduction-keep-dirty-and-default/main\r\n\r\n### Steps to reproduce\r\n\r\n1. Go to  https://codesandbox.io/p/github/IanVS/reproduction-keep-dirty-and-default/main\r\n2. Click on the first button ('Reset with keepDirtyValues')\r\n3. Notice that the first field was updated, but is not considered dirty, even though it does not match the defaultValue\r\n4. Click on the first button ('Reset')\r\n5. This works correctly, the field is updated again, and now it is considered to be dirty\r\n\r\n\r\n### Expected behaviour\r\n\r\nSorry, I've got another sneaky potential `keepDefaultValues` bug.\r\n\r\nI think I should be able to update the value of non-dirty fields in the form without changing the defaultValue, and dirty tracking should continue to work correctly.\r\n\r\nI did notice that controlled form elements work correctly as I expect, but not uncontrolled as shown in the reproduction.\r\n\r\n### What browsers are you seeing the problem on?\r\n\r\n_No response_\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's Code of Conduct","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11386/timeline","performed_via_github_app":null,"state_reason":"completed"}