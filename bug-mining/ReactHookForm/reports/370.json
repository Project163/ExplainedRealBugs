{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/7282","id":1079600509,"node_id":"I_kwDOCl-cD85AWWV9","number":7282,"title":"Fire a warning when reset is invoked inside the onSubmit callback","user":{"login":"gdorsi","id":6529568,"node_id":"MDQ6VXNlcjY1Mjk1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/6529568?v=4","gravatar_id":"","url":"https://api.github.com/users/gdorsi","html_url":"https://github.com/gdorsi","followers_url":"https://api.github.com/users/gdorsi/followers","following_url":"https://api.github.com/users/gdorsi/following{/other_user}","gists_url":"https://api.github.com/users/gdorsi/gists{/gist_id}","starred_url":"https://api.github.com/users/gdorsi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gdorsi/subscriptions","organizations_url":"https://api.github.com/users/gdorsi/orgs","repos_url":"https://api.github.com/users/gdorsi/repos","events_url":"https://api.github.com/users/gdorsi/events{/privacy}","received_events_url":"https://api.github.com/users/gdorsi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145696,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2021-12-14T10:47:03Z","updated_at":"2022-10-11T18:01:49Z","closed_at":"2021-12-15T00:59:18Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nI have a form that uses `formState.isDirty` (via `useFormState`) to enable/disable the submit button and needs to update the defaultValues after the submit.\r\n\r\nOn my first iteration what i did was something similar to this:\r\n```js\r\n<form onSumbit={handleSubmit(async (values) => {\r\n  await onSave(values)\r\n  reset(values)\r\n})}>\r\n```\r\n\r\nbut after the first save `formState.isDirty` wasn't updating.\r\n\r\nReading more carefully the `reset` documentation i found:\r\n\r\n> Because onSubmit callback is async and includes its validation when reset inside the callback it will intercept the result of formState update. This will be problematic when you subscribed to the formState.\r\n\r\nSo i solved my issue moving the `reset` inside an `useEffect`\r\n\r\n**Describe the solution you'd like**\r\n\r\nI didn't know what I was doing wrong until I carefully read all the `reset` rules. \r\n\r\nSince the rule \"Don't call reset inside onSubmit\" is non-obvious, I think that would be cool to trigger a warning when the user breaks this rule\r\n","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/7282/timeline","performed_via_github_app":null,"state_reason":"completed"}