{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842","repository_url":"https://api.github.com/repos/react-hook-form/react-hook-form","labels_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842/labels{/name}","comments_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842/comments","events_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842/events","html_url":"https://github.com/react-hook-form/react-hook-form/issues/11842","id":2277652070,"node_id":"I_kwDOCl-cD86HwjZm","number":11842,"title":"issue: disabled property in useForm applied to Form Provider does not apply to all radio inputs","user":{"login":"singhshemona","id":12305528,"node_id":"MDQ6VXNlcjEyMzA1NTI4","avatar_url":"https://avatars.githubusercontent.com/u/12305528?v=4","gravatar_id":"","url":"https://api.github.com/users/singhshemona","html_url":"https://github.com/singhshemona","followers_url":"https://api.github.com/users/singhshemona/followers","following_url":"https://api.github.com/users/singhshemona/following{/other_user}","gists_url":"https://api.github.com/users/singhshemona/gists{/gist_id}","starred_url":"https://api.github.com/users/singhshemona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhshemona/subscriptions","organizations_url":"https://api.github.com/users/singhshemona/orgs","repos_url":"https://api.github.com/users/singhshemona/repos","events_url":"https://api.github.com/users/singhshemona/events{/privacy}","received_events_url":"https://api.github.com/users/singhshemona/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1260145696,"node_id":"MDU6TGFiZWwxMjYwMTQ1Njk2","url":"https://api.github.com/repos/react-hook-form/react-hook-form/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-05-03T13:09:27Z","updated_at":"2024-07-17T12:00:19Z","closed_at":"2024-05-18T06:10:39Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version Number\r\n\r\n7.51.3\r\n\r\n### Codesandbox/Expo snack\r\n\r\n[Link to Codesandbox](https://codesandbox.io/p/sandbox/radio-input-example-d5th5j?layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clvqlm9if00063b6hxu3skfpy%2522%252C%2522sizes%2522%253A%255B100%252C0%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clvqlm9ie00023b6h2aehlmdb%2522%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clvqlm9ie00033b6h8fp2zyxs%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clvqlm9ie00053b6h3qge1zd9%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clvqlm9ie00023b6h2aehlmdb%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clvqlm9ie00013b6hyk0rqcw5%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fsrc%252Findex.tsx%2522%257D%255D%252C%2522id%2522%253A%2522clvqlm9ie00023b6h2aehlmdb%2522%252C%2522activeTabId%2522%253A%2522clvqlm9ie00013b6hyk0rqcw5%2522%257D%252C%2522clvqlm9ie00053b6h3qge1zd9%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clvqlm9ie00043b6hz7lsdku3%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522UNASSIGNED_PORT%2522%252C%2522port%2522%253A0%252C%2522path%2522%253A%2522%252F%2522%257D%255D%252C%2522id%2522%253A%2522clvqlm9ie00053b6h3qge1zd9%2522%252C%2522activeTabId%2522%253A%2522clvqlm9ie00043b6hz7lsdku3%2522%257D%252C%2522clvqlm9ie00033b6h8fp2zyxs%2522%253A%257B%2522tabs%2522%253A%255B%255D%252C%2522id%2522%253A%2522clvqlm9ie00033b6h8fp2zyxs%2522%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Afalse%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D)\r\n\r\n### Steps to reproduce\r\n\r\n1. Go to [Codesandbox link](https://codesandbox.io/p/sandbox/radio-input-example-d5th5j?layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clvqlm9if00063b6hxu3skfpy%2522%252C%2522sizes%2522%253A%255B100%252C0%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clvqlm9ie00023b6h2aehlmdb%2522%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clvqlm9ie00033b6h8fp2zyxs%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clvqlm9ie00053b6h3qge1zd9%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clvqlm9ie00023b6h2aehlmdb%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clvqlm9ie00013b6hyk0rqcw5%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fsrc%252Findex.tsx%2522%257D%255D%252C%2522id%2522%253A%2522clvqlm9ie00023b6h2aehlmdb%2522%252C%2522activeTabId%2522%253A%2522clvqlm9ie00013b6hyk0rqcw5%2522%257D%252C%2522clvqlm9ie00053b6h3qge1zd9%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clvqlm9ie00043b6hz7lsdku3%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522UNASSIGNED_PORT%2522%252C%2522port%2522%253A0%252C%2522path%2522%253A%2522%252F%2522%257D%255D%252C%2522id%2522%253A%2522clvqlm9ie00053b6h3qge1zd9%2522%252C%2522activeTabId%2522%253A%2522clvqlm9ie00043b6hz7lsdku3%2522%257D%252C%2522clvqlm9ie00033b6h8fp2zyxs%2522%253A%257B%2522tabs%2522%253A%255B%255D%252C%2522id%2522%253A%2522clvqlm9ie00033b6h8fp2zyxs%2522%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Afalse%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D)\r\n2. Uncomment line 8 in App.tsx\r\n3. Notice how only the first radio input gets disabled\r\n\r\n### Expected behaviour\r\n\r\nBoth radio inputs should be disabled. \r\n\r\nFrom my understanding, this is happening because both radio inputs are registered with the same name so it only applies the disabled validation to the first one occurring with that name. However, grouped radio inputs are [supposed to share the same name and it's their id that differentiates them](https://www.w3schools.com/tags/att_input_type_radio.asp).\r\n\r\n**This is my workaround for now:**\r\n\r\n```\r\n// Shared Form component\r\n\r\nexport const Form = <T extends FieldValues>({\r\n    children,\r\n    defaultValues,\r\n    disabled,\r\n    onSubmit,\r\n}: FormProps<T>): JSX.Element {\r\n    const methods = useForm<T>({\r\n        defaultValues,\r\n        mode: 'onChange',\r\n        disabled,\r\n    });\r\n\r\n    const { handleSubmit, reset } = methods;\r\n\r\n    useEffect(() => {\r\n        reset(defaultValues);\r\n    }, [JSON.stringify(defaultValues)]);\r\n\r\n    return (\r\n        <FormProvider {...methods}>\r\n            <form onSubmit={onSubmit && handleSubmit(onSubmit)}>{children}</form>\r\n        </FormProvider>\r\n    );\r\n};\r\n```\r\n\r\n```\r\n// How Form is being used, where disabled state is set\r\n\r\nexport const Page = (): JSX.Element => {\r\n    const canEdit = hasPermission(some_permissions_rule);\r\n\r\n    return (\r\n        <Form\r\n                onSubmit={handleSubmit}\r\n                defaultValues={irrigationControlSettings}\r\n                disabled={!canEdit}\r\n            >\r\n                <SomeInputs canEdit={canEdit} />\r\n                {canEdit && (\r\n                    <FormActions />\r\n                )}\r\n          </Form>\r\n    );\r\n};\r\n```\r\n\r\n```\r\n// SomeInputs.tsx, where I have to pass the disabled state into the radio inputs explicitly\r\n\r\ntype SomeInputsProps = {\r\n    canEdit: boolean;\r\n};\r\n\r\nexport const SomeInputs = ({ canEdit }: SomeInputsProps): JSX.Element => {\r\n    const fruits = [\r\n        {\r\n            label:  'Orange',\r\n            id: 'orange',\r\n        },\r\n        {\r\n            label: 'Apple',\r\n            id: 'apple',\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <RadioInput\r\n                labelForAllInputs=\"Fruits\"\r\n                name=\"fruits\"\r\n                options={fruits}\r\n                validationRules={!canEdit ? { disabled: true } : {}}\r\n            />\r\n           ...remaining form inputs\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n```\r\n\r\n```\r\n// RadioInput.tsx, uses a shared Input component\r\n\r\nexport const RadioInput = ({\r\n    labelForAllInputs,\r\n    options,\r\n    name,\r\n    validationRules\r\n}): JSX.Element => {\r\n    return (\r\n        <div>\r\n            <p>{labelForAllInputs}</p>}\r\n            <div>\r\n                {options.map((optionProps) => (\r\n                    <Input\r\n                        key={optionProps.id}\r\n                        name={name}\r\n                        type=\"radio\"\r\n                        validationRules={validationRules}\r\n                        {...optionProps}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n```\r\n\r\nI've also tried the following:\r\n\r\n1. Using the `disabled` property from `useFormState`\r\n2. Using the Controller component\r\n\r\nBut neither worked. Might there be a better or suggested way for radio inputs to pick up on the whole form being set to disabled? I'd like to avoid having to pass down the `canEdit` prop all the way to the radio inputs, especially because I thought the purpose of setting the disabled state in the `FormProvider` was so that all the inputs could pick up on it and there would be no prop drilling needed.\r\n\r\n### What browsers are you seeing the problem on?\r\n\r\nChrome\r\n\r\n### Relevant log output\r\n\r\n_No response_\r\n\r\n### Code of Conduct\r\n\r\n- [X] I agree to follow this project's Code of Conduct","closed_by":{"login":"bluebill1049","id":10513364,"node_id":"MDQ6VXNlcjEwNTEzMzY0","avatar_url":"https://avatars.githubusercontent.com/u/10513364?v=4","gravatar_id":"","url":"https://api.github.com/users/bluebill1049","html_url":"https://github.com/bluebill1049","followers_url":"https://api.github.com/users/bluebill1049/followers","following_url":"https://api.github.com/users/bluebill1049/following{/other_user}","gists_url":"https://api.github.com/users/bluebill1049/gists{/gist_id}","starred_url":"https://api.github.com/users/bluebill1049/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluebill1049/subscriptions","organizations_url":"https://api.github.com/users/bluebill1049/orgs","repos_url":"https://api.github.com/users/bluebill1049/repos","events_url":"https://api.github.com/users/bluebill1049/events{/privacy}","received_events_url":"https://api.github.com/users/bluebill1049/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/react-hook-form/react-hook-form/issues/11842/timeline","performed_via_github_app":null,"state_reason":"completed"}