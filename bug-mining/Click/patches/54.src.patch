diff --git a/docs/clickdoctools.py b/docs/clickdoctools.py
index 36723fa..c3db195 100644
--- a/docs/clickdoctools.py
+++ b/docs/clickdoctools.py
@@ -17,6 +17,13 @@ from docutils.statemachine import ViewList
 from sphinx.domains import Domain
 from sphinx.util.compat import Directive
 
+PY2 = sys.version_info[0] == 2
+
+if PY2:
+    text_type = unicode
+else:
+    text_type = str
+    
 
 class EchoingStdin(object):
 
@@ -70,7 +77,7 @@ def fake_modules():
 
 @contextlib.contextmanager
 def isolation(input=None, env=None):
-    if isinstance(input, unicode):
+    if isinstance(input, text_type):
         input = input.encode('utf-8')
     input = StringIO(input or '')
     output = StringIO()
