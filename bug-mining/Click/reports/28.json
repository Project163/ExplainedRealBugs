{"url":"https://api.github.com/repos/pallets/click/issues/418","repository_url":"https://api.github.com/repos/pallets/click","labels_url":"https://api.github.com/repos/pallets/click/issues/418/labels{/name}","comments_url":"https://api.github.com/repos/pallets/click/issues/418/comments","events_url":"https://api.github.com/repos/pallets/click/issues/418/events","html_url":"https://github.com/pallets/click/issues/418","id":103935265,"node_id":"MDU6SXNzdWUxMDM5MzUyNjU=","number":418,"title":"ProgressBar should flush only when necessary","user":{"login":"ohwang","id":861036,"node_id":"MDQ6VXNlcjg2MTAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/861036?v=4","gravatar_id":"","url":"https://api.github.com/users/ohwang","html_url":"https://github.com/ohwang","followers_url":"https://api.github.com/users/ohwang/followers","following_url":"https://api.github.com/users/ohwang/following{/other_user}","gists_url":"https://api.github.com/users/ohwang/gists{/gist_id}","starred_url":"https://api.github.com/users/ohwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ohwang/subscriptions","organizations_url":"https://api.github.com/users/ohwang/orgs","repos_url":"https://api.github.com/users/ohwang/repos","events_url":"https://api.github.com/users/ohwang/events{/privacy}","received_events_url":"https://api.github.com/users/ohwang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-08-30T17:22:14Z","updated_at":"2020-11-13T10:45:40Z","closed_at":"2015-09-15T23:26:59Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Current ProgressBar implementation enforces the output is flushed in every iteration step, regardless of whether the bar UI needs to be updated. This can result in significantly high IO overhead.\n\nFor example, the following code takes up to minutes to run while the same iteration without using a progress bar takes milliseconds.\n\n``` python\nwith click.progressbar(xrange(10 ** 6)) as pb:\n    for i in pb:\n        # do the work\n        pass\n```\n\nThe issue is worse in a remote ssh session, in which case bandwidth is also wasted.\n","closed_by":{"login":"mitsuhiko","id":7396,"node_id":"MDQ6VXNlcjczOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7396?v=4","gravatar_id":"","url":"https://api.github.com/users/mitsuhiko","html_url":"https://github.com/mitsuhiko","followers_url":"https://api.github.com/users/mitsuhiko/followers","following_url":"https://api.github.com/users/mitsuhiko/following{/other_user}","gists_url":"https://api.github.com/users/mitsuhiko/gists{/gist_id}","starred_url":"https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitsuhiko/subscriptions","organizations_url":"https://api.github.com/users/mitsuhiko/orgs","repos_url":"https://api.github.com/users/mitsuhiko/repos","events_url":"https://api.github.com/users/mitsuhiko/events{/privacy}","received_events_url":"https://api.github.com/users/mitsuhiko/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pallets/click/issues/418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/click/issues/418/timeline","performed_via_github_app":null,"state_reason":"completed"}