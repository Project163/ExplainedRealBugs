[{"id":1510514803,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTUxMDUxNDgwMw==","url":"https://api.github.com/repos/pallets/click/issues/events/1510514803","actor":{"login":"ncraike","id":1109269,"node_id":"MDQ6VXNlcjExMDkyNjk=","avatar_url":"https://avatars.githubusercontent.com/u/1109269?v=4","gravatar_id":"","url":"https://api.github.com/users/ncraike","html_url":"https://github.com/ncraike","followers_url":"https://api.github.com/users/ncraike/followers","following_url":"https://api.github.com/users/ncraike/following{/other_user}","gists_url":"https://api.github.com/users/ncraike/gists{/gist_id}","starred_url":"https://api.github.com/users/ncraike/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncraike/subscriptions","organizations_url":"https://api.github.com/users/ncraike/orgs","repos_url":"https://api.github.com/users/ncraike/repos","events_url":"https://api.github.com/users/ncraike/events{/privacy}","received_events_url":"https://api.github.com/users/ncraike/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-03-08T06:52:26Z","rename":{"from":"Documentation doesn't describe \"lazy load","to":"Documentation doesn't describe \"lazy loading of subcommands at runtime\""},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pallets/click/issues/comments/371398084","html_url":"https://github.com/pallets/click/issues/945#issuecomment-371398084","issue_url":"https://api.github.com/repos/pallets/click/issues/945","id":371398084,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MTM5ODA4NA==","user":{"login":"ThiefMaster","id":179599,"node_id":"MDQ6VXNlcjE3OTU5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/179599?v=4","gravatar_id":"","url":"https://api.github.com/users/ThiefMaster","html_url":"https://github.com/ThiefMaster","followers_url":"https://api.github.com/users/ThiefMaster/followers","following_url":"https://api.github.com/users/ThiefMaster/following{/other_user}","gists_url":"https://api.github.com/users/ThiefMaster/gists{/gist_id}","starred_url":"https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThiefMaster/subscriptions","organizations_url":"https://api.github.com/users/ThiefMaster/orgs","repos_url":"https://api.github.com/users/ThiefMaster/repos","events_url":"https://api.github.com/users/ThiefMaster/events{/privacy}","received_events_url":"https://api.github.com/users/ThiefMaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-08T06:58:34Z","updated_at":"2018-03-08T06:58:34Z","body":"I think so. Another way do do lazy loading would be something like this: https://github.com/indico/indico/blob/master/indico/cli/util.py#L95 / https://github.com/indico/indico/blob/master/indico/cli/core.py#L68","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/comments/371398084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ThiefMaster","id":179599,"node_id":"MDQ6VXNlcjE3OTU5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/179599?v=4","gravatar_id":"","url":"https://api.github.com/users/ThiefMaster","html_url":"https://github.com/ThiefMaster","followers_url":"https://api.github.com/users/ThiefMaster/followers","following_url":"https://api.github.com/users/ThiefMaster/following{/other_user}","gists_url":"https://api.github.com/users/ThiefMaster/gists{/gist_id}","starred_url":"https://api.github.com/users/ThiefMaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThiefMaster/subscriptions","organizations_url":"https://api.github.com/users/ThiefMaster/orgs","repos_url":"https://api.github.com/users/ThiefMaster/repos","events_url":"https://api.github.com/users/ThiefMaster/events{/privacy}","received_events_url":"https://api.github.com/users/ThiefMaster/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"blueyed","id":9766,"node_id":"MDQ6VXNlcjk3NjY=","avatar_url":"https://avatars.githubusercontent.com/u/9766?v=4","gravatar_id":"","url":"https://api.github.com/users/blueyed","html_url":"https://github.com/blueyed","followers_url":"https://api.github.com/users/blueyed/followers","following_url":"https://api.github.com/users/blueyed/following{/other_user}","gists_url":"https://api.github.com/users/blueyed/gists{/gist_id}","starred_url":"https://api.github.com/users/blueyed/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blueyed/subscriptions","organizations_url":"https://api.github.com/users/blueyed/orgs","repos_url":"https://api.github.com/users/blueyed/repos","events_url":"https://api.github.com/users/blueyed/events{/privacy}","received_events_url":"https://api.github.com/users/blueyed/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-27T22:09:44Z","updated_at":"2018-03-27T22:09:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pallets/click/issues/904","repository_url":"https://api.github.com/repos/pallets/click","labels_url":"https://api.github.com/repos/pallets/click/issues/904/labels{/name}","comments_url":"https://api.github.com/repos/pallets/click/issues/904/comments","events_url":"https://api.github.com/repos/pallets/click/issues/904/events","html_url":"https://github.com/pallets/click/issues/904","id":283162365,"node_id":"MDU6SXNzdWUyODMxNjIzNjU=","number":904,"title":"Explicit list of sub-commands; only import when needed","user":{"login":"cdeil","id":852409,"node_id":"MDQ6VXNlcjg1MjQwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/852409?v=4","gravatar_id":"","url":"https://api.github.com/users/cdeil","html_url":"https://github.com/cdeil","followers_url":"https://api.github.com/users/cdeil/followers","following_url":"https://api.github.com/users/cdeil/following{/other_user}","gists_url":"https://api.github.com/users/cdeil/gists{/gist_id}","starred_url":"https://api.github.com/users/cdeil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdeil/subscriptions","organizations_url":"https://api.github.com/users/cdeil/orgs","repos_url":"https://api.github.com/users/cdeil/repos","events_url":"https://api.github.com/users/cdeil/events{/privacy}","received_events_url":"https://api.github.com/users/cdeil/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-12-19T09:43:42Z","updated_at":"2020-11-13T07:18:57Z","closed_at":"2020-08-09T17:35:30Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":19103692,"node_id":"MDEwOlJlcG9zaXRvcnkxOTEwMzY5Mg==","name":"click","full_name":"pallets/click","private":false,"owner":{"login":"pallets","id":16748505,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzQ4NTA1","avatar_url":"https://avatars.githubusercontent.com/u/16748505?v=4","gravatar_id":"","url":"https://api.github.com/users/pallets","html_url":"https://github.com/pallets","followers_url":"https://api.github.com/users/pallets/followers","following_url":"https://api.github.com/users/pallets/following{/other_user}","gists_url":"https://api.github.com/users/pallets/gists{/gist_id}","starred_url":"https://api.github.com/users/pallets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallets/subscriptions","organizations_url":"https://api.github.com/users/pallets/orgs","repos_url":"https://api.github.com/users/pallets/repos","events_url":"https://api.github.com/users/pallets/events{/privacy}","received_events_url":"https://api.github.com/users/pallets/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pallets/click","description":"Python composable command line interface toolkit","fork":false,"url":"https://api.github.com/repos/pallets/click","forks_url":"https://api.github.com/repos/pallets/click/forks","keys_url":"https://api.github.com/repos/pallets/click/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pallets/click/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pallets/click/teams","hooks_url":"https://api.github.com/repos/pallets/click/hooks","issue_events_url":"https://api.github.com/repos/pallets/click/issues/events{/number}","events_url":"https://api.github.com/repos/pallets/click/events","assignees_url":"https://api.github.com/repos/pallets/click/assignees{/user}","branches_url":"https://api.github.com/repos/pallets/click/branches{/branch}","tags_url":"https://api.github.com/repos/pallets/click/tags","blobs_url":"https://api.github.com/repos/pallets/click/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pallets/click/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pallets/click/git/refs{/sha}","trees_url":"https://api.github.com/repos/pallets/click/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pallets/click/statuses/{sha}","languages_url":"https://api.github.com/repos/pallets/click/languages","stargazers_url":"https://api.github.com/repos/pallets/click/stargazers","contributors_url":"https://api.github.com/repos/pallets/click/contributors","subscribers_url":"https://api.github.com/repos/pallets/click/subscribers","subscription_url":"https://api.github.com/repos/pallets/click/subscription","commits_url":"https://api.github.com/repos/pallets/click/commits{/sha}","git_commits_url":"https://api.github.com/repos/pallets/click/git/commits{/sha}","comments_url":"https://api.github.com/repos/pallets/click/comments{/number}","issue_comment_url":"https://api.github.com/repos/pallets/click/issues/comments{/number}","contents_url":"https://api.github.com/repos/pallets/click/contents/{+path}","compare_url":"https://api.github.com/repos/pallets/click/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pallets/click/merges","archive_url":"https://api.github.com/repos/pallets/click/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pallets/click/downloads","issues_url":"https://api.github.com/repos/pallets/click/issues{/number}","pulls_url":"https://api.github.com/repos/pallets/click/pulls{/number}","milestones_url":"https://api.github.com/repos/pallets/click/milestones{/number}","notifications_url":"https://api.github.com/repos/pallets/click/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pallets/click/labels{/name}","releases_url":"https://api.github.com/repos/pallets/click/releases{/id}","deployments_url":"https://api.github.com/repos/pallets/click/deployments","created_at":"2014-04-24T09:52:19Z","updated_at":"2025-11-10T02:59:28Z","pushed_at":"2025-10-30T02:19:25Z","git_url":"git://github.com/pallets/click.git","ssh_url":"git@github.com:pallets/click.git","clone_url":"https://github.com/pallets/click.git","svn_url":"https://github.com/pallets/click","homepage":"https://click.palletsprojects.com","size":4385,"stargazers_count":16984,"watchers_count":16984,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1501,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":137,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","click","pallets","python"],"visibility":"public","forks":1501,"open_issues":137,"watchers":16984,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I love click and want to use it to construct a command line interface that has a lot of sub-commands. I want to maintain those sub-commands in separate files and, to have fast `--help` for the main command, as well as fast execution of the sub-commands, I would like to only import the file containing a sub-command if needed. This is for speed, importing my whole analysis package takes a few seconds, and I'd like to have `--help` on the main command be fast.\r\n\r\nI've seen http://click.pocoo.org/5/commands/#custom-multi-commands but that doesn't do what I want, it imports all files containing sub-commands even if I just do `--help` on the main command.\r\n\r\nSo what I want is to have an explicitly list of sub-commands like e.g.\r\n```\r\nsub_commands = [\r\n    dict(name='cmd1', module='cmd1_package.cmd1_module', func='cmd1_cli', description='Sub-command 1'),\r\n    dict(name='cmd2', module='cmd1_package.cmd2_module', func='cmd2_cli', description='Sub-command 2'),\r\n]\r\n\r\n```\r\nand use that to make the list of available sub-commands on the help of the main command, and then if a given sub-command is in the args, import and execute that.\r\n\r\nI've looked a bit at `MultiCommand` (see https://github.com/cdeil/python-cli-examples/blob/master/click/greet/cli_mc.py), but I couldn't figure out how to achieve the lazy-loading yet.","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/click/issues/904/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1633356267,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2MzMzNTYyNjc=","url":"https://api.github.com/repos/pallets/click/issues/events/1633356267","actor":{"login":"fdavis","id":2244065,"node_id":"MDQ6VXNlcjIyNDQwNjU=","avatar_url":"https://avatars.githubusercontent.com/u/2244065?v=4","gravatar_id":"","url":"https://api.github.com/users/fdavis","html_url":"https://github.com/fdavis","followers_url":"https://api.github.com/users/fdavis/followers","following_url":"https://api.github.com/users/fdavis/following{/other_user}","gists_url":"https://api.github.com/users/fdavis/gists{/gist_id}","starred_url":"https://api.github.com/users/fdavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fdavis/subscriptions","organizations_url":"https://api.github.com/users/fdavis/orgs","repos_url":"https://api.github.com/users/fdavis/repos","events_url":"https://api.github.com/users/fdavis/events{/privacy}","received_events_url":"https://api.github.com/users/fdavis/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-05-18T02:41:18Z","label":{"name":"documentation","color":"207de5"},"performed_via_github_app":null},{"id":2378516334,"node_id":"MDEyOkxhYmVsZWRFdmVudDIzNzg1MTYzMzQ=","url":"https://api.github.com/repos/pallets/click/issues/events/2378516334","actor":{"login":"jab","id":64992,"node_id":"MDQ6VXNlcjY0OTky","avatar_url":"https://avatars.githubusercontent.com/u/64992?v=4","gravatar_id":"","url":"https://api.github.com/users/jab","html_url":"https://github.com/jab","followers_url":"https://api.github.com/users/jab/followers","following_url":"https://api.github.com/users/jab/following{/other_user}","gists_url":"https://api.github.com/users/jab/gists{/gist_id}","starred_url":"https://api.github.com/users/jab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jab/subscriptions","organizations_url":"https://api.github.com/users/jab/orgs","repos_url":"https://api.github.com/users/jab/repos","events_url":"https://api.github.com/users/jab/events{/privacy}","received_events_url":"https://api.github.com/users/jab/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-05-30T15:51:19Z","label":{"name":"save-for-sprint","color":"b644d6"},"performed_via_github_app":null},{"actor":{"login":"mvidalgarcia","id":8863238,"node_id":"MDQ6VXNlcjg4NjMyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/8863238?v=4","gravatar_id":"","url":"https://api.github.com/users/mvidalgarcia","html_url":"https://github.com/mvidalgarcia","followers_url":"https://api.github.com/users/mvidalgarcia/followers","following_url":"https://api.github.com/users/mvidalgarcia/following{/other_user}","gists_url":"https://api.github.com/users/mvidalgarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/mvidalgarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvidalgarcia/subscriptions","organizations_url":"https://api.github.com/users/mvidalgarcia/orgs","repos_url":"https://api.github.com/users/mvidalgarcia/repos","events_url":"https://api.github.com/users/mvidalgarcia/events{/privacy}","received_events_url":"https://api.github.com/users/mvidalgarcia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T20:11:48Z","updated_at":"2020-01-17T20:11:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/reanahub/reana-client/issues/354","repository_url":"https://api.github.com/repos/reanahub/reana-client","labels_url":"https://api.github.com/repos/reanahub/reana-client/issues/354/labels{/name}","comments_url":"https://api.github.com/repos/reanahub/reana-client/issues/354/comments","events_url":"https://api.github.com/repos/reanahub/reana-client/issues/354/events","html_url":"https://github.com/reanahub/reana-client/issues/354","id":551265327,"node_id":"MDU6SXNzdWU1NTEyNjUzMjc=","number":354,"title":"cli: improve start up time","user":{"login":"diegodelemos","id":9035606,"node_id":"MDQ6VXNlcjkwMzU2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9035606?v=4","gravatar_id":"","url":"https://api.github.com/users/diegodelemos","html_url":"https://github.com/diegodelemos","followers_url":"https://api.github.com/users/diegodelemos/followers","following_url":"https://api.github.com/users/diegodelemos/following{/other_user}","gists_url":"https://api.github.com/users/diegodelemos/gists{/gist_id}","starred_url":"https://api.github.com/users/diegodelemos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegodelemos/subscriptions","organizations_url":"https://api.github.com/users/diegodelemos/orgs","repos_url":"https://api.github.com/users/diegodelemos/repos","events_url":"https://api.github.com/users/diegodelemos/events{/privacy}","received_events_url":"https://api.github.com/users/diegodelemos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":605571095,"node_id":"MDU6TGFiZWw2MDU1NzEwOTU=","url":"https://api.github.com/repos/reanahub/reana-client/labels/type/enhancement","name":"type/enhancement","color":"ff5500","default":false,"description":null},{"id":1595247044,"node_id":"MDU6TGFiZWwxNTk1MjQ3MDQ0","url":"https://api.github.com/repos/reanahub/reana-client/labels/cli/general","name":"cli/general","color":"5fa7e2","default":false,"description":null},{"id":1600013753,"node_id":"MDU6TGFiZWwxNjAwMDEzNzUz","url":"https://api.github.com/repos/reanahub/reana-client/labels/system/scalability","name":"system/scalability","color":"e6e6e6","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"mvidalgarcia","id":8863238,"node_id":"MDQ6VXNlcjg4NjMyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/8863238?v=4","gravatar_id":"","url":"https://api.github.com/users/mvidalgarcia","html_url":"https://github.com/mvidalgarcia","followers_url":"https://api.github.com/users/mvidalgarcia/followers","following_url":"https://api.github.com/users/mvidalgarcia/following{/other_user}","gists_url":"https://api.github.com/users/mvidalgarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/mvidalgarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvidalgarcia/subscriptions","organizations_url":"https://api.github.com/users/mvidalgarcia/orgs","repos_url":"https://api.github.com/users/mvidalgarcia/repos","events_url":"https://api.github.com/users/mvidalgarcia/events{/privacy}","received_events_url":"https://api.github.com/users/mvidalgarcia/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mvidalgarcia","id":8863238,"node_id":"MDQ6VXNlcjg4NjMyMzg=","avatar_url":"https://avatars.githubusercontent.com/u/8863238?v=4","gravatar_id":"","url":"https://api.github.com/users/mvidalgarcia","html_url":"https://github.com/mvidalgarcia","followers_url":"https://api.github.com/users/mvidalgarcia/followers","following_url":"https://api.github.com/users/mvidalgarcia/following{/other_user}","gists_url":"https://api.github.com/users/mvidalgarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/mvidalgarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvidalgarcia/subscriptions","organizations_url":"https://api.github.com/users/mvidalgarcia/orgs","repos_url":"https://api.github.com/users/mvidalgarcia/repos","events_url":"https://api.github.com/users/mvidalgarcia/events{/privacy}","received_events_url":"https://api.github.com/users/mvidalgarcia/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-01-17T08:06:05Z","updated_at":"2020-01-22T12:34:00Z","closed_at":"2020-01-22T12:34:00Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":91350919,"node_id":"MDEwOlJlcG9zaXRvcnk5MTM1MDkxOQ==","name":"reana-client","full_name":"reanahub/reana-client","private":false,"owner":{"login":"reanahub","id":25082830,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI1MDgyODMw","avatar_url":"https://avatars.githubusercontent.com/u/25082830?v=4","gravatar_id":"","url":"https://api.github.com/users/reanahub","html_url":"https://github.com/reanahub","followers_url":"https://api.github.com/users/reanahub/followers","following_url":"https://api.github.com/users/reanahub/following{/other_user}","gists_url":"https://api.github.com/users/reanahub/gists{/gist_id}","starred_url":"https://api.github.com/users/reanahub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reanahub/subscriptions","organizations_url":"https://api.github.com/users/reanahub/orgs","repos_url":"https://api.github.com/users/reanahub/repos","events_url":"https://api.github.com/users/reanahub/events{/privacy}","received_events_url":"https://api.github.com/users/reanahub/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/reanahub/reana-client","description":"REANA command-line client","fork":false,"url":"https://api.github.com/repos/reanahub/reana-client","forks_url":"https://api.github.com/repos/reanahub/reana-client/forks","keys_url":"https://api.github.com/repos/reanahub/reana-client/keys{/key_id}","collaborators_url":"https://api.github.com/repos/reanahub/reana-client/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/reanahub/reana-client/teams","hooks_url":"https://api.github.com/repos/reanahub/reana-client/hooks","issue_events_url":"https://api.github.com/repos/reanahub/reana-client/issues/events{/number}","events_url":"https://api.github.com/repos/reanahub/reana-client/events","assignees_url":"https://api.github.com/repos/reanahub/reana-client/assignees{/user}","branches_url":"https://api.github.com/repos/reanahub/reana-client/branches{/branch}","tags_url":"https://api.github.com/repos/reanahub/reana-client/tags","blobs_url":"https://api.github.com/repos/reanahub/reana-client/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/reanahub/reana-client/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/reanahub/reana-client/git/refs{/sha}","trees_url":"https://api.github.com/repos/reanahub/reana-client/git/trees{/sha}","statuses_url":"https://api.github.com/repos/reanahub/reana-client/statuses/{sha}","languages_url":"https://api.github.com/repos/reanahub/reana-client/languages","stargazers_url":"https://api.github.com/repos/reanahub/reana-client/stargazers","contributors_url":"https://api.github.com/repos/reanahub/reana-client/contributors","subscribers_url":"https://api.github.com/repos/reanahub/reana-client/subscribers","subscription_url":"https://api.github.com/repos/reanahub/reana-client/subscription","commits_url":"https://api.github.com/repos/reanahub/reana-client/commits{/sha}","git_commits_url":"https://api.github.com/repos/reanahub/reana-client/git/commits{/sha}","comments_url":"https://api.github.com/repos/reanahub/reana-client/comments{/number}","issue_comment_url":"https://api.github.com/repos/reanahub/reana-client/issues/comments{/number}","contents_url":"https://api.github.com/repos/reanahub/reana-client/contents/{+path}","compare_url":"https://api.github.com/repos/reanahub/reana-client/compare/{base}...{head}","merges_url":"https://api.github.com/repos/reanahub/reana-client/merges","archive_url":"https://api.github.com/repos/reanahub/reana-client/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/reanahub/reana-client/downloads","issues_url":"https://api.github.com/repos/reanahub/reana-client/issues{/number}","pulls_url":"https://api.github.com/repos/reanahub/reana-client/pulls{/number}","milestones_url":"https://api.github.com/repos/reanahub/reana-client/milestones{/number}","notifications_url":"https://api.github.com/repos/reanahub/reana-client/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/reanahub/reana-client/labels{/name}","releases_url":"https://api.github.com/repos/reanahub/reana-client/releases{/id}","deployments_url":"https://api.github.com/repos/reanahub/reana-client/deployments","created_at":"2017-05-15T15:01:35Z","updated_at":"2025-11-07T11:13:00Z","pushed_at":"2025-11-07T11:13:23Z","git_url":"git://github.com/reanahub/reana-client.git","ssh_url":"git@github.com:reanahub/reana-client.git","clone_url":"https://github.com/reanahub/reana-client.git","svn_url":"https://github.com/reanahub/reana-client","homepage":"http://reana-client.readthedocs.io/","size":1124,"stargazers_count":11,"watchers_count":11,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":52,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":48,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":52,"open_issues":48,"watchers":11,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Profile `reana-client` start up time, looking for ways of improving its performance (note that this problem is especially noticeable in CERN's `lxplus`).\r\n\r\nHints:\r\n- Prefer lazy loading\r\n- Check projects which power their CLI's with Click","reactions":{"url":"https://api.github.com/repos/reanahub/reana-client/issues/354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/reanahub/reana-client/issues/354/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":3447094513,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzQ0NzA5NDUxMw==","url":"https://api.github.com/repos/pallets/click/issues/events/3447094513","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-06-16T03:54:34Z","label":{"name":"save-for-sprint","color":"b644d6"},"performed_via_github_app":null},{"actor":{"login":"kvablack","id":12429600,"node_id":"MDQ6VXNlcjEyNDI5NjAw","avatar_url":"https://avatars.githubusercontent.com/u/12429600?v=4","gravatar_id":"","url":"https://api.github.com/users/kvablack","html_url":"https://github.com/kvablack","followers_url":"https://api.github.com/users/kvablack/followers","following_url":"https://api.github.com/users/kvablack/following{/other_user}","gists_url":"https://api.github.com/users/kvablack/gists{/gist_id}","starred_url":"https://api.github.com/users/kvablack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvablack/subscriptions","organizations_url":"https://api.github.com/users/kvablack/orgs","repos_url":"https://api.github.com/users/kvablack/repos","events_url":"https://api.github.com/users/kvablack/events{/privacy}","received_events_url":"https://api.github.com/users/kvablack/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T06:13:23Z","updated_at":"2020-07-17T06:13:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/autognc/ravenML/issues/43","repository_url":"https://api.github.com/repos/autognc/ravenML","labels_url":"https://api.github.com/repos/autognc/ravenML/issues/43/labels{/name}","comments_url":"https://api.github.com/repos/autognc/ravenML/issues/43/comments","events_url":"https://api.github.com/repos/autognc/ravenML/issues/43/events","html_url":"https://github.com/autognc/ravenML/pull/43","id":656108660,"node_id":"MDExOlB1bGxSZXF1ZXN0NDQ4NDY1MTgx","number":43,"title":"Implement lazy plugin loading","user":{"login":"kvablack","id":12429600,"node_id":"MDQ6VXNlcjEyNDI5NjAw","avatar_url":"https://avatars.githubusercontent.com/u/12429600?v=4","gravatar_id":"","url":"https://api.github.com/users/kvablack","html_url":"https://github.com/kvablack","followers_url":"https://api.github.com/users/kvablack/followers","following_url":"https://api.github.com/users/kvablack/following{/other_user}","gists_url":"https://api.github.com/users/kvablack/gists{/gist_id}","starred_url":"https://api.github.com/users/kvablack/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvablack/subscriptions","organizations_url":"https://api.github.com/users/kvablack/orgs","repos_url":"https://api.github.com/users/kvablack/repos","events_url":"https://api.github.com/users/kvablack/events{/privacy}","received_events_url":"https://api.github.com/users/kvablack/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"cSchubes","id":16281063,"node_id":"MDQ6VXNlcjE2MjgxMDYz","avatar_url":"https://avatars.githubusercontent.com/u/16281063?v=4","gravatar_id":"","url":"https://api.github.com/users/cSchubes","html_url":"https://github.com/cSchubes","followers_url":"https://api.github.com/users/cSchubes/followers","following_url":"https://api.github.com/users/cSchubes/following{/other_user}","gists_url":"https://api.github.com/users/cSchubes/gists{/gist_id}","starred_url":"https://api.github.com/users/cSchubes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cSchubes/subscriptions","organizations_url":"https://api.github.com/users/cSchubes/orgs","repos_url":"https://api.github.com/users/cSchubes/repos","events_url":"https://api.github.com/users/cSchubes/events{/privacy}","received_events_url":"https://api.github.com/users/cSchubes/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"cSchubes","id":16281063,"node_id":"MDQ6VXNlcjE2MjgxMDYz","avatar_url":"https://avatars.githubusercontent.com/u/16281063?v=4","gravatar_id":"","url":"https://api.github.com/users/cSchubes","html_url":"https://github.com/cSchubes","followers_url":"https://api.github.com/users/cSchubes/followers","following_url":"https://api.github.com/users/cSchubes/following{/other_user}","gists_url":"https://api.github.com/users/cSchubes/gists{/gist_id}","starred_url":"https://api.github.com/users/cSchubes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cSchubes/subscriptions","organizations_url":"https://api.github.com/users/cSchubes/orgs","repos_url":"https://api.github.com/users/cSchubes/repos","events_url":"https://api.github.com/users/cSchubes/events{/privacy}","received_events_url":"https://api.github.com/users/cSchubes/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2020-07-13T20:13:48Z","updated_at":"2020-07-17T06:13:58Z","closed_at":"2020-07-17T06:13:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":178313161,"node_id":"MDEwOlJlcG9zaXRvcnkxNzgzMTMxNjE=","name":"ravenML","full_name":"autognc/ravenML","private":false,"owner":{"login":"autognc","id":48295817,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ4Mjk1ODE3","avatar_url":"https://avatars.githubusercontent.com/u/48295817?v=4","gravatar_id":"","url":"https://api.github.com/users/autognc","html_url":"https://github.com/autognc","followers_url":"https://api.github.com/users/autognc/followers","following_url":"https://api.github.com/users/autognc/following{/other_user}","gists_url":"https://api.github.com/users/autognc/gists{/gist_id}","starred_url":"https://api.github.com/users/autognc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/autognc/subscriptions","organizations_url":"https://api.github.com/users/autognc/orgs","repos_url":"https://api.github.com/users/autognc/repos","events_url":"https://api.github.com/users/autognc/events{/privacy}","received_events_url":"https://api.github.com/users/autognc/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/autognc/ravenML","description":"Training CLI","fork":false,"url":"https://api.github.com/repos/autognc/ravenML","forks_url":"https://api.github.com/repos/autognc/ravenML/forks","keys_url":"https://api.github.com/repos/autognc/ravenML/keys{/key_id}","collaborators_url":"https://api.github.com/repos/autognc/ravenML/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/autognc/ravenML/teams","hooks_url":"https://api.github.com/repos/autognc/ravenML/hooks","issue_events_url":"https://api.github.com/repos/autognc/ravenML/issues/events{/number}","events_url":"https://api.github.com/repos/autognc/ravenML/events","assignees_url":"https://api.github.com/repos/autognc/ravenML/assignees{/user}","branches_url":"https://api.github.com/repos/autognc/ravenML/branches{/branch}","tags_url":"https://api.github.com/repos/autognc/ravenML/tags","blobs_url":"https://api.github.com/repos/autognc/ravenML/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/autognc/ravenML/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/autognc/ravenML/git/refs{/sha}","trees_url":"https://api.github.com/repos/autognc/ravenML/git/trees{/sha}","statuses_url":"https://api.github.com/repos/autognc/ravenML/statuses/{sha}","languages_url":"https://api.github.com/repos/autognc/ravenML/languages","stargazers_url":"https://api.github.com/repos/autognc/ravenML/stargazers","contributors_url":"https://api.github.com/repos/autognc/ravenML/contributors","subscribers_url":"https://api.github.com/repos/autognc/ravenML/subscribers","subscription_url":"https://api.github.com/repos/autognc/ravenML/subscription","commits_url":"https://api.github.com/repos/autognc/ravenML/commits{/sha}","git_commits_url":"https://api.github.com/repos/autognc/ravenML/git/commits{/sha}","comments_url":"https://api.github.com/repos/autognc/ravenML/comments{/number}","issue_comment_url":"https://api.github.com/repos/autognc/ravenML/issues/comments{/number}","contents_url":"https://api.github.com/repos/autognc/ravenML/contents/{+path}","compare_url":"https://api.github.com/repos/autognc/ravenML/compare/{base}...{head}","merges_url":"https://api.github.com/repos/autognc/ravenML/merges","archive_url":"https://api.github.com/repos/autognc/ravenML/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/autognc/ravenML/downloads","issues_url":"https://api.github.com/repos/autognc/ravenML/issues{/number}","pulls_url":"https://api.github.com/repos/autognc/ravenML/pulls{/number}","milestones_url":"https://api.github.com/repos/autognc/ravenML/milestones{/number}","notifications_url":"https://api.github.com/repos/autognc/ravenML/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/autognc/ravenML/labels{/name}","releases_url":"https://api.github.com/repos/autognc/ravenML/releases{/id}","deployments_url":"https://api.github.com/repos/autognc/ravenML/deployments","created_at":"2019-03-29T01:56:35Z","updated_at":"2024-04-03T09:54:36Z","pushed_at":"2024-03-01T20:54:06Z","git_url":"git://github.com/autognc/ravenML.git","ssh_url":"git@github.com:autognc/ravenML.git","clone_url":"https://github.com/autognc/ravenML.git","svn_url":"https://github.com/autognc/ravenML","homepage":null,"size":199932,"stargazers_count":5,"watchers_count":5,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":1,"open_issues":3,"watchers":5,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/autognc/ravenML/pulls/43","html_url":"https://github.com/autognc/ravenML/pull/43","diff_url":"https://github.com/autognc/ravenML/pull/43.diff","patch_url":"https://github.com/autognc/ravenML/pull/43.patch","merged_at":"2020-07-17T06:13:54Z"},"body":"Waiting 5 seconds to run a base ravenml command sucks, but so does having to copy-and-paste dynamic_import into every single plugin. This implementation completely replaces `click-plugins` and doesn't load the plugin code until an actual plugin command is invoked, e.g. `ravenml train tf-keypoints`.\r\n\r\nThis also fixes the unintuitive behavior of `click-plugins` where if a plugin failed to load, your command would fail with the error `No such command tf-keypoints` and you would have to run `ravenml train tf_keypoints --help` to see what happened. Now, the command will just crash if it tries to load a bad plugin.\r\n\r\nThe only downside, as far as I can tell, is that the base group can no longer render the help text for each plugin subgroup. For example, if you ran `ravenml train` or `ravenml train --help`, the output used to look like: \r\n\r\n```\r\nUsage: ravenml train [OPTIONS] COMMAND [ARGS]...\r\n\r\n  Training commands.\r\n\r\nOptions:\r\n  -c, --config TEXT  Path to config file. Defaults to\r\n                     ~/ravenML_configs/config.yaml\r\n\r\n  --help             Show this message and exit.\r\n\r\nCommands:\r\n  tf-keypoints  TensorFlow Keypoints Regression.\r\n  tf-bbox          TensorFlow Bbox Detection.\r\n```\r\n\r\nNow, it looks like:\r\n```\r\nUsage: ravenml train [OPTIONS] COMMAND [ARGS]...\r\n\r\n  Training commands.\r\n\r\nOptions:\r\n  -c, --config TEXT  Path to config file. Defaults to\r\n                     ~/ravenML_configs/config.yaml\r\n\r\n  --help             Show this message and exit.\r\n\r\nCommands:\r\n  tf-keypoints\r\n  tf-bbox\r\n```\r\n\r\nThis is because the help text is defined inside the plugin code, so the plugin has to be imported before it can be accessed.","reactions":{"url":"https://api.github.com/repos/autognc/ravenML/issues/43/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/autognc/ravenML/issues/43/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"KonstantinaStoikou","id":33685068,"node_id":"MDQ6VXNlcjMzNjg1MDY4","avatar_url":"https://avatars.githubusercontent.com/u/33685068?v=4","gravatar_id":"","url":"https://api.github.com/users/KonstantinaStoikou","html_url":"https://github.com/KonstantinaStoikou","followers_url":"https://api.github.com/users/KonstantinaStoikou/followers","following_url":"https://api.github.com/users/KonstantinaStoikou/following{/other_user}","gists_url":"https://api.github.com/users/KonstantinaStoikou/gists{/gist_id}","starred_url":"https://api.github.com/users/KonstantinaStoikou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonstantinaStoikou/subscriptions","organizations_url":"https://api.github.com/users/KonstantinaStoikou/orgs","repos_url":"https://api.github.com/users/KonstantinaStoikou/repos","events_url":"https://api.github.com/users/KonstantinaStoikou/events{/privacy}","received_events_url":"https://api.github.com/users/KonstantinaStoikou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T08:38:52Z","updated_at":"2020-08-27T08:38:52Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043","repository_url":"https://api.github.com/repos/inveniosoftware/invenio","labels_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043/labels{/name}","comments_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043/comments","events_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043/events","html_url":"https://github.com/inveniosoftware/invenio/issues/4043","id":681752312,"node_id":"MDU6SXNzdWU2ODE3NTIzMTI=","number":4043,"title":"cli: investigate Invenio CLI speed-up","user":{"login":"diegodelemos","id":9035606,"node_id":"MDQ6VXNlcjkwMzU2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/9035606?v=4","gravatar_id":"","url":"https://api.github.com/users/diegodelemos","html_url":"https://github.com/diegodelemos","followers_url":"https://api.github.com/users/diegodelemos/followers","following_url":"https://api.github.com/users/diegodelemos/following{/other_user}","gists_url":"https://api.github.com/users/diegodelemos/gists{/gist_id}","starred_url":"https://api.github.com/users/diegodelemos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diegodelemos/subscriptions","organizations_url":"https://api.github.com/users/diegodelemos/orgs","repos_url":"https://api.github.com/users/diegodelemos/repos","events_url":"https://api.github.com/users/diegodelemos/events{/privacy}","received_events_url":"https://api.github.com/users/diegodelemos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"topless","id":230805,"node_id":"MDQ6VXNlcjIzMDgwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/230805?v=4","gravatar_id":"","url":"https://api.github.com/users/topless","html_url":"https://github.com/topless","followers_url":"https://api.github.com/users/topless/followers","following_url":"https://api.github.com/users/topless/following{/other_user}","gists_url":"https://api.github.com/users/topless/gists{/gist_id}","starred_url":"https://api.github.com/users/topless/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/topless/subscriptions","organizations_url":"https://api.github.com/users/topless/orgs","repos_url":"https://api.github.com/users/topless/repos","events_url":"https://api.github.com/users/topless/events{/privacy}","received_events_url":"https://api.github.com/users/topless/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"topless","id":230805,"node_id":"MDQ6VXNlcjIzMDgwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/230805?v=4","gravatar_id":"","url":"https://api.github.com/users/topless","html_url":"https://github.com/topless","followers_url":"https://api.github.com/users/topless/followers","following_url":"https://api.github.com/users/topless/following{/other_user}","gists_url":"https://api.github.com/users/topless/gists{/gist_id}","starred_url":"https://api.github.com/users/topless/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/topless/subscriptions","organizations_url":"https://api.github.com/users/topless/orgs","repos_url":"https://api.github.com/users/topless/repos","events_url":"https://api.github.com/users/topless/events{/privacy}","received_events_url":"https://api.github.com/users/topless/received_events","type":"User","user_view_type":"public","site_admin":false},{"login":"KonstantinaStoikou","id":33685068,"node_id":"MDQ6VXNlcjMzNjg1MDY4","avatar_url":"https://avatars.githubusercontent.com/u/33685068?v=4","gravatar_id":"","url":"https://api.github.com/users/KonstantinaStoikou","html_url":"https://github.com/KonstantinaStoikou","followers_url":"https://api.github.com/users/KonstantinaStoikou/followers","following_url":"https://api.github.com/users/KonstantinaStoikou/following{/other_user}","gists_url":"https://api.github.com/users/KonstantinaStoikou/gists{/gist_id}","starred_url":"https://api.github.com/users/KonstantinaStoikou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KonstantinaStoikou/subscriptions","organizations_url":"https://api.github.com/users/KonstantinaStoikou/orgs","repos_url":"https://api.github.com/users/KonstantinaStoikou/repos","events_url":"https://api.github.com/users/KonstantinaStoikou/events{/privacy}","received_events_url":"https://api.github.com/users/KonstantinaStoikou/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-08-19T11:04:48Z","updated_at":"2020-11-26T13:58:10Z","closed_at":"2020-11-26T13:58:10Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2665618,"node_id":"MDEwOlJlcG9zaXRvcnkyNjY1NjE4","name":"invenio","full_name":"inveniosoftware/invenio","private":false,"owner":{"login":"inveniosoftware","id":1157480,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExNTc0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1157480?v=4","gravatar_id":"","url":"https://api.github.com/users/inveniosoftware","html_url":"https://github.com/inveniosoftware","followers_url":"https://api.github.com/users/inveniosoftware/followers","following_url":"https://api.github.com/users/inveniosoftware/following{/other_user}","gists_url":"https://api.github.com/users/inveniosoftware/gists{/gist_id}","starred_url":"https://api.github.com/users/inveniosoftware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inveniosoftware/subscriptions","organizations_url":"https://api.github.com/users/inveniosoftware/orgs","repos_url":"https://api.github.com/users/inveniosoftware/repos","events_url":"https://api.github.com/users/inveniosoftware/events{/privacy}","received_events_url":"https://api.github.com/users/inveniosoftware/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/inveniosoftware/invenio","description":"Invenio digital library framework","fork":false,"url":"https://api.github.com/repos/inveniosoftware/invenio","forks_url":"https://api.github.com/repos/inveniosoftware/invenio/forks","keys_url":"https://api.github.com/repos/inveniosoftware/invenio/keys{/key_id}","collaborators_url":"https://api.github.com/repos/inveniosoftware/invenio/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/inveniosoftware/invenio/teams","hooks_url":"https://api.github.com/repos/inveniosoftware/invenio/hooks","issue_events_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/events{/number}","events_url":"https://api.github.com/repos/inveniosoftware/invenio/events","assignees_url":"https://api.github.com/repos/inveniosoftware/invenio/assignees{/user}","branches_url":"https://api.github.com/repos/inveniosoftware/invenio/branches{/branch}","tags_url":"https://api.github.com/repos/inveniosoftware/invenio/tags","blobs_url":"https://api.github.com/repos/inveniosoftware/invenio/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/inveniosoftware/invenio/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/inveniosoftware/invenio/git/refs{/sha}","trees_url":"https://api.github.com/repos/inveniosoftware/invenio/git/trees{/sha}","statuses_url":"https://api.github.com/repos/inveniosoftware/invenio/statuses/{sha}","languages_url":"https://api.github.com/repos/inveniosoftware/invenio/languages","stargazers_url":"https://api.github.com/repos/inveniosoftware/invenio/stargazers","contributors_url":"https://api.github.com/repos/inveniosoftware/invenio/contributors","subscribers_url":"https://api.github.com/repos/inveniosoftware/invenio/subscribers","subscription_url":"https://api.github.com/repos/inveniosoftware/invenio/subscription","commits_url":"https://api.github.com/repos/inveniosoftware/invenio/commits{/sha}","git_commits_url":"https://api.github.com/repos/inveniosoftware/invenio/git/commits{/sha}","comments_url":"https://api.github.com/repos/inveniosoftware/invenio/comments{/number}","issue_comment_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/comments{/number}","contents_url":"https://api.github.com/repos/inveniosoftware/invenio/contents/{+path}","compare_url":"https://api.github.com/repos/inveniosoftware/invenio/compare/{base}...{head}","merges_url":"https://api.github.com/repos/inveniosoftware/invenio/merges","archive_url":"https://api.github.com/repos/inveniosoftware/invenio/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/inveniosoftware/invenio/downloads","issues_url":"https://api.github.com/repos/inveniosoftware/invenio/issues{/number}","pulls_url":"https://api.github.com/repos/inveniosoftware/invenio/pulls{/number}","milestones_url":"https://api.github.com/repos/inveniosoftware/invenio/milestones{/number}","notifications_url":"https://api.github.com/repos/inveniosoftware/invenio/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/inveniosoftware/invenio/labels{/name}","releases_url":"https://api.github.com/repos/inveniosoftware/invenio/releases{/id}","deployments_url":"https://api.github.com/repos/inveniosoftware/invenio/deployments","created_at":"2011-10-28T14:33:51Z","updated_at":"2025-10-27T01:54:58Z","pushed_at":"2025-09-04T15:45:24Z","git_url":"git://github.com/inveniosoftware/invenio.git","ssh_url":"git@github.com:inveniosoftware/invenio.git","clone_url":"https://github.com/inveniosoftware/invenio.git","svn_url":"https://github.com/inveniosoftware/invenio","homepage":"https://invenio.readthedocs.io","size":89788,"stargazers_count":646,"watchers_count":646,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":293,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":239,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["angularjs","digital-library","digital-repository","elasticsearch","flask","institutional-repository","invenio","inveniosoftware","json-schema","multimedia-library","multimedia-repository","postgresql","python","rabbitmq","redis"],"visibility":"public","forks":293,"open_issues":239,"watchers":646,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Currently, the Invenio CLI runs very slowly, we should:\r\n- [x] Profile it, find the bottleneck document how to speed it up\r\n- [ ] Implement the speed up implementation (only if time permits)\r\n\r\nNote that:\r\n- The CLI referenced here is `invenio` not [`invenio-cli`](https://github.com/inveniosoftware/invenio-cli).\r\n- A similar investigation/job has been done in REANA, the outputs can be consulted [here](https://github.com/reanahub/reana-client/issues/354).\r\n- Documenting the process is very important as the lessons learned could be applied to other repos such as https://github.com/inveniosoftware/invenio-cli.","reactions":{"url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/inveniosoftware/invenio/issues/4043/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/pallets/click/issues/comments/1013916203","html_url":"https://github.com/pallets/click/issues/945#issuecomment-1013916203","issue_url":"https://api.github.com/repos/pallets/click/issues/945","id":1013916203,"node_id":"IC_kwDOASN_zM48byIr","user":{"login":"scoopex","id":288876,"node_id":"MDQ6VXNlcjI4ODg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/288876?v=4","gravatar_id":"","url":"https://api.github.com/users/scoopex","html_url":"https://github.com/scoopex","followers_url":"https://api.github.com/users/scoopex/followers","following_url":"https://api.github.com/users/scoopex/following{/other_user}","gists_url":"https://api.github.com/users/scoopex/gists{/gist_id}","starred_url":"https://api.github.com/users/scoopex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scoopex/subscriptions","organizations_url":"https://api.github.com/users/scoopex/orgs","repos_url":"https://api.github.com/users/scoopex/repos","events_url":"https://api.github.com/users/scoopex/events{/privacy}","received_events_url":"https://api.github.com/users/scoopex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-16T17:18:08Z","updated_at":"2022-01-16T17:18:08Z","body":"Yes this would be a good thing.\r\nIn larger implementation long import times especially effect the snappiness of shell completion.\r\n(my project with 16 command groups, takes 2.5 seconds for a completion step....)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/comments/1013916203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"scoopex","id":288876,"node_id":"MDQ6VXNlcjI4ODg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/288876?v=4","gravatar_id":"","url":"https://api.github.com/users/scoopex","html_url":"https://github.com/scoopex","followers_url":"https://api.github.com/users/scoopex/followers","following_url":"https://api.github.com/users/scoopex/following{/other_user}","gists_url":"https://api.github.com/users/scoopex/gists{/gist_id}","starred_url":"https://api.github.com/users/scoopex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scoopex/subscriptions","organizations_url":"https://api.github.com/users/scoopex/orgs","repos_url":"https://api.github.com/users/scoopex/repos","events_url":"https://api.github.com/users/scoopex/events{/privacy}","received_events_url":"https://api.github.com/users/scoopex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pallets/click/issues/comments/1054689375","html_url":"https://github.com/pallets/click/issues/945#issuecomment-1054689375","issue_url":"https://api.github.com/repos/pallets/click/issues/945","id":1054689375,"node_id":"IC_kwDOASN_zM4-3Uhf","user":{"login":"BernardZhao","id":12194331,"node_id":"MDQ6VXNlcjEyMTk0MzMx","avatar_url":"https://avatars.githubusercontent.com/u/12194331?v=4","gravatar_id":"","url":"https://api.github.com/users/BernardZhao","html_url":"https://github.com/BernardZhao","followers_url":"https://api.github.com/users/BernardZhao/followers","following_url":"https://api.github.com/users/BernardZhao/following{/other_user}","gists_url":"https://api.github.com/users/BernardZhao/gists{/gist_id}","starred_url":"https://api.github.com/users/BernardZhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BernardZhao/subscriptions","organizations_url":"https://api.github.com/users/BernardZhao/orgs","repos_url":"https://api.github.com/users/BernardZhao/repos","events_url":"https://api.github.com/users/BernardZhao/events{/privacy}","received_events_url":"https://api.github.com/users/BernardZhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-28T21:37:55Z","updated_at":"2022-02-28T21:37:55Z","body":"I also found this quite misleading, can this third point be removed from the docs? There doesn't seem to be anything in Click that does this out of the box","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/comments/1054689375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BernardZhao","id":12194331,"node_id":"MDQ6VXNlcjEyMTk0MzMx","avatar_url":"https://avatars.githubusercontent.com/u/12194331?v=4","gravatar_id":"","url":"https://api.github.com/users/BernardZhao","html_url":"https://github.com/BernardZhao","followers_url":"https://api.github.com/users/BernardZhao/followers","following_url":"https://api.github.com/users/BernardZhao/following{/other_user}","gists_url":"https://api.github.com/users/BernardZhao/gists{/gist_id}","starred_url":"https://api.github.com/users/BernardZhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BernardZhao/subscriptions","organizations_url":"https://api.github.com/users/BernardZhao/orgs","repos_url":"https://api.github.com/users/BernardZhao/repos","events_url":"https://api.github.com/users/BernardZhao/events{/privacy}","received_events_url":"https://api.github.com/users/BernardZhao/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pallets/click/issues/comments/1086891323","html_url":"https://github.com/pallets/click/issues/945#issuecomment-1086891323","issue_url":"https://api.github.com/repos/pallets/click/issues/945","id":1086891323,"node_id":"IC_kwDOASN_zM5AyKU7","user":{"login":"wonderbeyond","id":228361,"node_id":"MDQ6VXNlcjIyODM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/228361?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderbeyond","html_url":"https://github.com/wonderbeyond","followers_url":"https://api.github.com/users/wonderbeyond/followers","following_url":"https://api.github.com/users/wonderbeyond/following{/other_user}","gists_url":"https://api.github.com/users/wonderbeyond/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderbeyond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderbeyond/subscriptions","organizations_url":"https://api.github.com/users/wonderbeyond/orgs","repos_url":"https://api.github.com/users/wonderbeyond/repos","events_url":"https://api.github.com/users/wonderbeyond/events{/privacy}","received_events_url":"https://api.github.com/users/wonderbeyond/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-03T15:26:14Z","updated_at":"2022-04-03T15:40:18Z","body":"I've implemented lazy sub-commands in my way, FYI.\r\n\r\n```python\r\n\r\nimport sys\r\nfrom importlib import import_module\r\n\r\nfrom my_project.db import alembic\r\nimport click\r\n\r\n\r\ndef import_from_string(spec):\r\n    \"\"\"\r\n    Thanks to https://github.com/encode/django-rest-framework/blob/master/rest_framework/settings.py#L170\r\n    Example:\r\n        import_from_string('django_filters.rest_framework.DjangoFilterBackend')\r\n        engine = conf['ENGINE']\r\n        engine = import_from_string(engine) if isinstance(engine, six.string_types) else engine\r\n    \"\"\"\r\n    try:\r\n        # Nod to tastypie's use of importlib.\r\n        parts = spec.split('.')\r\n        module_path, class_name = '.'.join(parts[:-1]), parts[-1]\r\n        module = import_module(module_path)\r\n        return getattr(module, class_name)\r\n    except (ImportError, AttributeError) as e:\r\n        msg = \"Could not import '%s'. %s: %s.\" % (spec, e.__class__.__name__, e)\r\n        raise ImportError(msg)\r\n\r\n\r\n@click.group()\r\ndef manager():\r\n    \"\"\"MyProject Management Tools.\"\"\"\r\n\r\n\r\ndef get_db_cmd():\r\n    db_cmd = alembic.get_click_cli(\"db\")\r\n    db_cmd.help = 'Design database schema with confidence.'\r\n    return db_cmd\r\n\r\n\r\ncmd_factories = dict((\r\n    ('db', get_db_cmd),\r\n    ('dev', lambda: import_from_string('my_project.commands.dev.dev')),\r\n    ('shell', lambda: import_from_string('my_project.commands.shell.shell')),\r\n    ('psql', lambda: import_from_string('my_project.commands.psql.psql')),\r\n    ('protoc', lambda: import_from_string('my_project.commands.protoc.protoc')),\r\n    ('cache', lambda: import_from_string('my_project.commands.cache.cache')),\r\n    ('test', lambda: import_from_string('my_project.commands.testing.test')),\r\n    ...\r\n))\r\n\r\nif __name__ == '__main__':\r\n    if len(sys.argv) > 1 and (cmd_name := sys.argv[1]) in cmd_factories:\r\n        # Construct sub-command only as needed.\r\n        manager.add_command(cmd_factories[cmd_name](), name=cmd_name)\r\n    else:\r\n        # For user can list all sub-commands.\r\n        for cmd_name, fct in cmd_factories.items():\r\n            manager.add_command(fct(), name=cmd_name)\r\n\r\n    manager()\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/comments/1086891323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wonderbeyond","id":228361,"node_id":"MDQ6VXNlcjIyODM2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/228361?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderbeyond","html_url":"https://github.com/wonderbeyond","followers_url":"https://api.github.com/users/wonderbeyond/followers","following_url":"https://api.github.com/users/wonderbeyond/following{/other_user}","gists_url":"https://api.github.com/users/wonderbeyond/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderbeyond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderbeyond/subscriptions","organizations_url":"https://api.github.com/users/wonderbeyond/orgs","repos_url":"https://api.github.com/users/wonderbeyond/repos","events_url":"https://api.github.com/users/wonderbeyond/events{/privacy}","received_events_url":"https://api.github.com/users/wonderbeyond/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T11:20:03Z","updated_at":"2022-06-29T11:20:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/apache/airflow/issues/24591","repository_url":"https://api.github.com/repos/apache/airflow","labels_url":"https://api.github.com/repos/apache/airflow/issues/24591/labels{/name}","comments_url":"https://api.github.com/repos/apache/airflow/issues/24591/comments","events_url":"https://api.github.com/repos/apache/airflow/issues/24591/events","html_url":"https://github.com/apache/airflow/pull/24591","id":1279247835,"node_id":"PR_kwDOAgUK2846EpfJ","number":24591,"title":"Rewrite the 'version' command to use Click","user":{"login":"blag","id":597113,"node_id":"MDQ6VXNlcjU5NzExMw==","avatar_url":"https://avatars.githubusercontent.com/u/597113?v=4","gravatar_id":"","url":"https://api.github.com/users/blag","html_url":"https://github.com/blag","followers_url":"https://api.github.com/users/blag/followers","following_url":"https://api.github.com/users/blag/following{/other_user}","gists_url":"https://api.github.com/users/blag/gists{/gist_id}","starred_url":"https://api.github.com/users/blag/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blag/subscriptions","organizations_url":"https://api.github.com/users/blag/orgs","repos_url":"https://api.github.com/users/blag/repos","events_url":"https://api.github.com/users/blag/events{/privacy}","received_events_url":"https://api.github.com/users/blag/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1672279581,"node_id":"MDU6TGFiZWwxNjcyMjc5NTgx","url":"https://api.github.com/repos/apache/airflow/labels/area:CLI","name":"area:CLI","color":"e99695","default":false,"description":""},{"id":2458345138,"node_id":"MDU6TGFiZWwyNDU4MzQ1MTM4","url":"https://api.github.com/repos/apache/airflow/labels/okay%20to%20merge","name":"okay to merge","color":"64e05c","default":false,"description":"It's ok to merge this PR as it does not require more tests"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-06-21T23:48:06Z","updated_at":"2022-07-01T22:53:09Z","closed_at":"2022-07-01T21:08:54Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":33884891,"node_id":"MDEwOlJlcG9zaXRvcnkzMzg4NDg5MQ==","name":"airflow","full_name":"apache/airflow","private":false,"owner":{"login":"apache","id":47359,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ3MzU5","avatar_url":"https://avatars.githubusercontent.com/u/47359?v=4","gravatar_id":"","url":"https://api.github.com/users/apache","html_url":"https://github.com/apache","followers_url":"https://api.github.com/users/apache/followers","following_url":"https://api.github.com/users/apache/following{/other_user}","gists_url":"https://api.github.com/users/apache/gists{/gist_id}","starred_url":"https://api.github.com/users/apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apache/subscriptions","organizations_url":"https://api.github.com/users/apache/orgs","repos_url":"https://api.github.com/users/apache/repos","events_url":"https://api.github.com/users/apache/events{/privacy}","received_events_url":"https://api.github.com/users/apache/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/apache/airflow","description":"Apache Airflow - A platform to programmatically author, schedule, and monitor workflows","fork":false,"url":"https://api.github.com/repos/apache/airflow","forks_url":"https://api.github.com/repos/apache/airflow/forks","keys_url":"https://api.github.com/repos/apache/airflow/keys{/key_id}","collaborators_url":"https://api.github.com/repos/apache/airflow/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/apache/airflow/teams","hooks_url":"https://api.github.com/repos/apache/airflow/hooks","issue_events_url":"https://api.github.com/repos/apache/airflow/issues/events{/number}","events_url":"https://api.github.com/repos/apache/airflow/events","assignees_url":"https://api.github.com/repos/apache/airflow/assignees{/user}","branches_url":"https://api.github.com/repos/apache/airflow/branches{/branch}","tags_url":"https://api.github.com/repos/apache/airflow/tags","blobs_url":"https://api.github.com/repos/apache/airflow/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/apache/airflow/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/apache/airflow/git/refs{/sha}","trees_url":"https://api.github.com/repos/apache/airflow/git/trees{/sha}","statuses_url":"https://api.github.com/repos/apache/airflow/statuses/{sha}","languages_url":"https://api.github.com/repos/apache/airflow/languages","stargazers_url":"https://api.github.com/repos/apache/airflow/stargazers","contributors_url":"https://api.github.com/repos/apache/airflow/contributors","subscribers_url":"https://api.github.com/repos/apache/airflow/subscribers","subscription_url":"https://api.github.com/repos/apache/airflow/subscription","commits_url":"https://api.github.com/repos/apache/airflow/commits{/sha}","git_commits_url":"https://api.github.com/repos/apache/airflow/git/commits{/sha}","comments_url":"https://api.github.com/repos/apache/airflow/comments{/number}","issue_comment_url":"https://api.github.com/repos/apache/airflow/issues/comments{/number}","contents_url":"https://api.github.com/repos/apache/airflow/contents/{+path}","compare_url":"https://api.github.com/repos/apache/airflow/compare/{base}...{head}","merges_url":"https://api.github.com/repos/apache/airflow/merges","archive_url":"https://api.github.com/repos/apache/airflow/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/apache/airflow/downloads","issues_url":"https://api.github.com/repos/apache/airflow/issues{/number}","pulls_url":"https://api.github.com/repos/apache/airflow/pulls{/number}","milestones_url":"https://api.github.com/repos/apache/airflow/milestones{/number}","notifications_url":"https://api.github.com/repos/apache/airflow/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/apache/airflow/labels{/name}","releases_url":"https://api.github.com/repos/apache/airflow/releases{/id}","deployments_url":"https://api.github.com/repos/apache/airflow/deployments","created_at":"2015-04-13T18:04:58Z","updated_at":"2025-11-10T09:51:22Z","pushed_at":"2025-11-10T09:51:15Z","git_url":"git://github.com/apache/airflow.git","ssh_url":"git@github.com:apache/airflow.git","clone_url":"https://github.com/apache/airflow.git","svn_url":"https://github.com/apache/airflow","homepage":"https://airflow.apache.org/","size":495951,"stargazers_count":43144,"watchers_count":43144,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":15915,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1712,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["airflow","apache","apache-airflow","automation","dag","data-engineering","data-integration","data-orchestrator","data-pipelines","data-science","elt","etl","machine-learning","mlops","orchestration","python","scheduler","workflow","workflow-engine","workflow-orchestration"],"visibility":"public","forks":15915,"open_issues":1712,"watchers":43144,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/apache/airflow/pulls/24591","html_url":"https://github.com/apache/airflow/pull/24591","diff_url":"https://github.com/apache/airflow/pull/24591.diff","patch_url":"https://github.com/apache/airflow/pull/24591.patch","merged_at":null},"body":"This is part of a series of PRs breaking up #22613 into smaller, more reviewable chunks. The end result will be rewriting the existing `airflow` CLI to use Click instead of argparse. For motivation, please see #22708.\r\n\r\nThis PR adds `airflow version` subcommand to the `airflow-ng` command. It's exactly the same as the `airflow version` command, it's just implemented with Click. This PR also adds an additional test module for the new command. I opted to copy/add a new test module instead of keeping a single module and making it compatible with both argparse and Click, because that way it will be easier to remove the tests that rely on argparse once all commands are rewritten, the CLI is completely converted to utilize Click, and the `airflow-ng` command replaces the `airflow` command.\r\n\r\n~While this incorporates the changes from #24590, I will rebase this once that PR is merged to make the relevant changes in this PR smaller and easier to separate out and review. Until then, you can use GitHub's [compare view](https://github.com/astronomer/airflow/compare/convert-to-click-cli-pr...astronomer:convert-version-command-to-click) to compare this branch to `astronomer:convert-to-click-cli-pr` to see just the diff for this PR.~ I have rebased this against `main`.\r\n\r\nFor comparison to the modules this supersedes:\r\n* [`airflow/cli/commands/version_command.py`](https://github.com/apache/airflow/blob/main/airflow/cli/commands/version_command.py)\r\n* [`tests/cli/commands/test_version_command.py`](https://github.com/apache/airflow/blob/main/tests/cli/commands/test_version_command.py)","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/24591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/apache/airflow/issues/24591/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T15:25:20Z","updated_at":"2022-07-06T15:25:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pallets/click/issues/2318","repository_url":"https://api.github.com/repos/pallets/click","labels_url":"https://api.github.com/repos/pallets/click/issues/2318/labels{/name}","comments_url":"https://api.github.com/repos/pallets/click/issues/2318/comments","events_url":"https://api.github.com/repos/pallets/click/issues/2318/events","html_url":"https://github.com/pallets/click/issues/2318","id":1295994334,"node_id":"I_kwDOASN_zM5NP03e","number":2318,"title":"Official support and or documentation for auto discovery of (sub-)commands.","user":{"login":"tback","id":83432,"node_id":"MDQ6VXNlcjgzNDMy","avatar_url":"https://avatars.githubusercontent.com/u/83432?v=4","gravatar_id":"","url":"https://api.github.com/users/tback","html_url":"https://github.com/tback","followers_url":"https://api.github.com/users/tback/followers","following_url":"https://api.github.com/users/tback/following{/other_user}","gists_url":"https://api.github.com/users/tback/gists{/gist_id}","starred_url":"https://api.github.com/users/tback/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tback/subscriptions","organizations_url":"https://api.github.com/users/tback/orgs","repos_url":"https://api.github.com/users/tback/repos","events_url":"https://api.github.com/users/tback/events{/privacy}","received_events_url":"https://api.github.com/users/tback/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-06T15:18:46Z","updated_at":"2022-07-22T00:17:40Z","closed_at":"2022-07-06T15:25:20Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":19103692,"node_id":"MDEwOlJlcG9zaXRvcnkxOTEwMzY5Mg==","name":"click","full_name":"pallets/click","private":false,"owner":{"login":"pallets","id":16748505,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzQ4NTA1","avatar_url":"https://avatars.githubusercontent.com/u/16748505?v=4","gravatar_id":"","url":"https://api.github.com/users/pallets","html_url":"https://github.com/pallets","followers_url":"https://api.github.com/users/pallets/followers","following_url":"https://api.github.com/users/pallets/following{/other_user}","gists_url":"https://api.github.com/users/pallets/gists{/gist_id}","starred_url":"https://api.github.com/users/pallets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallets/subscriptions","organizations_url":"https://api.github.com/users/pallets/orgs","repos_url":"https://api.github.com/users/pallets/repos","events_url":"https://api.github.com/users/pallets/events{/privacy}","received_events_url":"https://api.github.com/users/pallets/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pallets/click","description":"Python composable command line interface toolkit","fork":false,"url":"https://api.github.com/repos/pallets/click","forks_url":"https://api.github.com/repos/pallets/click/forks","keys_url":"https://api.github.com/repos/pallets/click/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pallets/click/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pallets/click/teams","hooks_url":"https://api.github.com/repos/pallets/click/hooks","issue_events_url":"https://api.github.com/repos/pallets/click/issues/events{/number}","events_url":"https://api.github.com/repos/pallets/click/events","assignees_url":"https://api.github.com/repos/pallets/click/assignees{/user}","branches_url":"https://api.github.com/repos/pallets/click/branches{/branch}","tags_url":"https://api.github.com/repos/pallets/click/tags","blobs_url":"https://api.github.com/repos/pallets/click/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pallets/click/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pallets/click/git/refs{/sha}","trees_url":"https://api.github.com/repos/pallets/click/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pallets/click/statuses/{sha}","languages_url":"https://api.github.com/repos/pallets/click/languages","stargazers_url":"https://api.github.com/repos/pallets/click/stargazers","contributors_url":"https://api.github.com/repos/pallets/click/contributors","subscribers_url":"https://api.github.com/repos/pallets/click/subscribers","subscription_url":"https://api.github.com/repos/pallets/click/subscription","commits_url":"https://api.github.com/repos/pallets/click/commits{/sha}","git_commits_url":"https://api.github.com/repos/pallets/click/git/commits{/sha}","comments_url":"https://api.github.com/repos/pallets/click/comments{/number}","issue_comment_url":"https://api.github.com/repos/pallets/click/issues/comments{/number}","contents_url":"https://api.github.com/repos/pallets/click/contents/{+path}","compare_url":"https://api.github.com/repos/pallets/click/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pallets/click/merges","archive_url":"https://api.github.com/repos/pallets/click/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pallets/click/downloads","issues_url":"https://api.github.com/repos/pallets/click/issues{/number}","pulls_url":"https://api.github.com/repos/pallets/click/pulls{/number}","milestones_url":"https://api.github.com/repos/pallets/click/milestones{/number}","notifications_url":"https://api.github.com/repos/pallets/click/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pallets/click/labels{/name}","releases_url":"https://api.github.com/repos/pallets/click/releases{/id}","deployments_url":"https://api.github.com/repos/pallets/click/deployments","created_at":"2014-04-24T09:52:19Z","updated_at":"2025-11-10T02:59:28Z","pushed_at":"2025-10-30T02:19:25Z","git_url":"git://github.com/pallets/click.git","ssh_url":"git@github.com:pallets/click.git","clone_url":"https://github.com/pallets/click.git","svn_url":"https://github.com/pallets/click","homepage":"https://click.palletsprojects.com","size":4385,"stargazers_count":16984,"watchers_count":16984,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1501,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":137,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","click","pallets","python"],"visibility":"public","forks":1501,"open_issues":137,"watchers":16984,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Support and documentation for auto discovery of (sub-)commands.\r\nI'd like to be able start a  ToolboxCLI in just a few lines of code.\r\n\r\nI'd like official support for a toolbox scenario: Developer teams tend to create tool collections over time. Those collections tend to get messy because they lack a convention (language, documentation, argument parsing, online help) how to implement commands. I've seen teams working on django applications collecting their toolbox in management commands and not facing this challenge.\r\nI'd like something that is close to django management commands, but based on click. And without django obviously. I think it's a common usage scenario for click that is currently harder to implement than needs to be.\r\n\r\nMy current solution looks somewhat like this. I had to delete and rename some stuff and I didn't run this anonymized code. It's most obvious shortcoming is that it doesn't show global options on the subcommand help page.\r\n\r\n```python\r\n#toolbox_cli.py\r\nimport pathlib\r\nimport click\r\nimport os\r\nimport typing\r\n\r\n\r\nclass ToolboxCLI(click.MultiCommand):\r\n    commands_folder = pathlib.Path.joinpath(\r\n        pathlib.Path(__file__).parent, \"commands\"\r\n    ).resolve()\r\n\r\n    def list_commands(self, ctx: click.Context) -> typing.List[str]:\r\n        rv = []\r\n        for filename in os.listdir(self.commands_folder):\r\n            if filename.endswith(\".py\") and not filename.startswith(\"__init__\"):\r\n                rv.append(filename[:-3])\r\n        rv.sort()\r\n        return rv\r\n\r\n    def get_command(\r\n        self, ctx: click.Context, cmd_name: str\r\n    ) -> typing.Optional[click.Command]:\r\n        ns = {}\r\n        fn = pathlib.Path.joinpath(self.commands_folder, cmd_name + \".py\")\r\n        with open(fn) as f:\r\n            code = compile(f.read(), fn, \"exec\")\r\n            eval(code, ns, ns)\r\n        return ns[\"cli\"]\r\n\r\n#__init__.py\r\n@click.group(\r\n    cls=ToolboxCLI,\r\n    context_settings={\r\n        \"allow_interspersed_args\": True,\r\n    },\r\n)\r\n@click.option(\r\n    \"--log-level\",\r\n    #...\r\n    help=\"Set log level.\",\r\n)\r\ndef cli(log_level):\r\n    \"\"\"Toolbox CLI\"\"\"\r\n\r\n#commands/admin.py\r\n@click.group()\r\ndef cli():\r\n    pass\r\n\r\n\r\n@cli.command()\r\ndef create_admin():\r\n    pass\r\n\r\n@cli.command()\r\ndef delete_admin():\r\n    pass\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/2318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/click/issues/2318/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":7305914301,"node_id":"REFE_lADOASN_zM4SFSJazwAAAAGzd2e9","url":"https://api.github.com/repos/pallets/click/issues/events/7305914301","actor":{"login":"sirosen","id":1300022,"node_id":"MDQ6VXNlcjEzMDAwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1300022?v=4","gravatar_id":"","url":"https://api.github.com/users/sirosen","html_url":"https://github.com/sirosen","followers_url":"https://api.github.com/users/sirosen/followers","following_url":"https://api.github.com/users/sirosen/following{/other_user}","gists_url":"https://api.github.com/users/sirosen/gists{/gist_id}","starred_url":"https://api.github.com/users/sirosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirosen/subscriptions","organizations_url":"https://api.github.com/users/sirosen/orgs","repos_url":"https://api.github.com/users/sirosen/repos","events_url":"https://api.github.com/users/sirosen/events{/privacy}","received_events_url":"https://api.github.com/users/sirosen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"09bbfa9f9277458af8fe4aa7bd632b9a6bb81dd1","commit_url":"https://api.github.com/repos/sirosen/click/commits/09bbfa9f9277458af8fe4aa7bd632b9a6bb81dd1","created_at":"2022-09-01T14:36:07Z","performed_via_github_app":null},{"id":7305932940,"node_id":"REFE_lADOASN_zM4SFSJazwAAAAGzd7CM","url":"https://api.github.com/repos/pallets/click/issues/events/7305932940","actor":{"login":"sirosen","id":1300022,"node_id":"MDQ6VXNlcjEzMDAwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1300022?v=4","gravatar_id":"","url":"https://api.github.com/users/sirosen","html_url":"https://github.com/sirosen","followers_url":"https://api.github.com/users/sirosen/followers","following_url":"https://api.github.com/users/sirosen/following{/other_user}","gists_url":"https://api.github.com/users/sirosen/gists{/gist_id}","starred_url":"https://api.github.com/users/sirosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirosen/subscriptions","organizations_url":"https://api.github.com/users/sirosen/orgs","repos_url":"https://api.github.com/users/sirosen/repos","events_url":"https://api.github.com/users/sirosen/events{/privacy}","received_events_url":"https://api.github.com/users/sirosen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6654ee96114c66957f147a3ec405a531b5db8f5c","commit_url":"https://api.github.com/repos/sirosen/click/commits/6654ee96114c66957f147a3ec405a531b5db8f5c","created_at":"2022-09-01T14:38:07Z","performed_via_github_app":null},{"actor":{"login":"sirosen","id":1300022,"node_id":"MDQ6VXNlcjEzMDAwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1300022?v=4","gravatar_id":"","url":"https://api.github.com/users/sirosen","html_url":"https://github.com/sirosen","followers_url":"https://api.github.com/users/sirosen/followers","following_url":"https://api.github.com/users/sirosen/following{/other_user}","gists_url":"https://api.github.com/users/sirosen/gists{/gist_id}","starred_url":"https://api.github.com/users/sirosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirosen/subscriptions","organizations_url":"https://api.github.com/users/sirosen/orgs","repos_url":"https://api.github.com/users/sirosen/repos","events_url":"https://api.github.com/users/sirosen/events{/privacy}","received_events_url":"https://api.github.com/users/sirosen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-01T14:58:28Z","updated_at":"2022-09-01T14:58:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pallets/click/issues/2348","repository_url":"https://api.github.com/repos/pallets/click","labels_url":"https://api.github.com/repos/pallets/click/issues/2348/labels{/name}","comments_url":"https://api.github.com/repos/pallets/click/issues/2348/comments","events_url":"https://api.github.com/repos/pallets/click/issues/2348/events","html_url":"https://github.com/pallets/click/pull/2348","id":1358987718,"node_id":"PR_kwDOASN_zM4-OAAo","number":2348,"title":"Extend Complex Application docs with Lazy Loading","user":{"login":"sirosen","id":1300022,"node_id":"MDQ6VXNlcjEzMDAwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1300022?v=4","gravatar_id":"","url":"https://api.github.com/users/sirosen","html_url":"https://github.com/sirosen","followers_url":"https://api.github.com/users/sirosen/followers","following_url":"https://api.github.com/users/sirosen/following{/other_user}","gists_url":"https://api.github.com/users/sirosen/gists{/gist_id}","starred_url":"https://api.github.com/users/sirosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirosen/subscriptions","organizations_url":"https://api.github.com/users/sirosen/orgs","repos_url":"https://api.github.com/users/sirosen/repos","events_url":"https://api.github.com/users/sirosen/events{/privacy}","received_events_url":"https://api.github.com/users/sirosen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":104560051,"node_id":"MDU6TGFiZWwxMDQ1NjAwNTE=","url":"https://api.github.com/repos/pallets/click/labels/docs","name":"docs","color":"207de5","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pallets/click/milestones/19","html_url":"https://github.com/pallets/click/milestone/19","labels_url":"https://api.github.com/repos/pallets/click/milestones/19/labels","id":8945901,"node_id":"MI_kwDOASN_zM4AiIDt","number":19,"title":"8.1.4","description":"","creator":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":72,"state":"closed","created_at":"2023-01-20T00:35:03Z","updated_at":"2025-08-12T12:41:06Z","due_on":null,"closed_at":"2023-07-06T18:28:05Z"},"comments":1,"created_at":"2022-09-01T14:58:28Z","updated_at":"2025-08-12T12:36:25Z","closed_at":"2023-06-30T19:35:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":19103692,"node_id":"MDEwOlJlcG9zaXRvcnkxOTEwMzY5Mg==","name":"click","full_name":"pallets/click","private":false,"owner":{"login":"pallets","id":16748505,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2NzQ4NTA1","avatar_url":"https://avatars.githubusercontent.com/u/16748505?v=4","gravatar_id":"","url":"https://api.github.com/users/pallets","html_url":"https://github.com/pallets","followers_url":"https://api.github.com/users/pallets/followers","following_url":"https://api.github.com/users/pallets/following{/other_user}","gists_url":"https://api.github.com/users/pallets/gists{/gist_id}","starred_url":"https://api.github.com/users/pallets/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pallets/subscriptions","organizations_url":"https://api.github.com/users/pallets/orgs","repos_url":"https://api.github.com/users/pallets/repos","events_url":"https://api.github.com/users/pallets/events{/privacy}","received_events_url":"https://api.github.com/users/pallets/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pallets/click","description":"Python composable command line interface toolkit","fork":false,"url":"https://api.github.com/repos/pallets/click","forks_url":"https://api.github.com/repos/pallets/click/forks","keys_url":"https://api.github.com/repos/pallets/click/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pallets/click/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pallets/click/teams","hooks_url":"https://api.github.com/repos/pallets/click/hooks","issue_events_url":"https://api.github.com/repos/pallets/click/issues/events{/number}","events_url":"https://api.github.com/repos/pallets/click/events","assignees_url":"https://api.github.com/repos/pallets/click/assignees{/user}","branches_url":"https://api.github.com/repos/pallets/click/branches{/branch}","tags_url":"https://api.github.com/repos/pallets/click/tags","blobs_url":"https://api.github.com/repos/pallets/click/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pallets/click/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pallets/click/git/refs{/sha}","trees_url":"https://api.github.com/repos/pallets/click/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pallets/click/statuses/{sha}","languages_url":"https://api.github.com/repos/pallets/click/languages","stargazers_url":"https://api.github.com/repos/pallets/click/stargazers","contributors_url":"https://api.github.com/repos/pallets/click/contributors","subscribers_url":"https://api.github.com/repos/pallets/click/subscribers","subscription_url":"https://api.github.com/repos/pallets/click/subscription","commits_url":"https://api.github.com/repos/pallets/click/commits{/sha}","git_commits_url":"https://api.github.com/repos/pallets/click/git/commits{/sha}","comments_url":"https://api.github.com/repos/pallets/click/comments{/number}","issue_comment_url":"https://api.github.com/repos/pallets/click/issues/comments{/number}","contents_url":"https://api.github.com/repos/pallets/click/contents/{+path}","compare_url":"https://api.github.com/repos/pallets/click/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pallets/click/merges","archive_url":"https://api.github.com/repos/pallets/click/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pallets/click/downloads","issues_url":"https://api.github.com/repos/pallets/click/issues{/number}","pulls_url":"https://api.github.com/repos/pallets/click/pulls{/number}","milestones_url":"https://api.github.com/repos/pallets/click/milestones{/number}","notifications_url":"https://api.github.com/repos/pallets/click/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pallets/click/labels{/name}","releases_url":"https://api.github.com/repos/pallets/click/releases{/id}","deployments_url":"https://api.github.com/repos/pallets/click/deployments","created_at":"2014-04-24T09:52:19Z","updated_at":"2025-11-10T02:59:28Z","pushed_at":"2025-10-30T02:19:25Z","git_url":"git://github.com/pallets/click.git","ssh_url":"git@github.com:pallets/click.git","clone_url":"https://github.com/pallets/click.git","svn_url":"https://github.com/pallets/click","homepage":"https://click.palletsprojects.com","size":4385,"stargazers_count":16984,"watchers_count":16984,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1501,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":137,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cli","click","pallets","python"],"visibility":"public","forks":1501,"open_issues":137,"watchers":16984,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pallets/click/pulls/2348","html_url":"https://github.com/pallets/click/pull/2348","diff_url":"https://github.com/pallets/click/pull/2348.diff","patch_url":"https://github.com/pallets/click/pull/2348.patch","merged_at":"2023-06-30T19:35:24Z"},"body":"Some meta/background about this PR:\r\n\r\nWe've been using `click` extremely happily at my work for years now (6 years, I think?). At time of writing, we have [a CLI package](https://github.com/globus/globus-cli/) built with `click` with 94 commands and 26 groups. Perhaps unsurprisingly, it has become pretty slow to start because so much work happens just to import all of the commands.\r\n\r\nWe did a body of work around lazy-loading of libraries, especially `requests`, which cut down import times a lot. But when I timed our `--help` invocations, I found they were _still_ taking 0.3s. i.e. Fast enough to be satisfactory, but slow enough that a human can notice the lag. Introducing lazy importing of subcommands cut the time down to 0.1s, which is fast enough that it qualifies anecdotally as \"instantaneous\". Assuming the times are comparable for completions, that meant we still had laggy completion support until we introduced the lazy subcommand loader.\r\n\r\nI've read the solutions in #945 , and I never felt comfortable with them for our usage. With the caveat that there's obviously some strong authorship bias here, I decided to open this PR with a slightly simplified version of our solution as a doc addition in the Complex Applications section. The \"important\" example part is ~30 LOC, but of course it needs a lot of explanation, prose, and usage examples.\r\n\r\nI've tried to keep this small and readable, without placing an unfair burden on `click` to put too much example code into the docs. Arguably, this could have been shown in an even simpler way (without the `lazy_subcommands` dict, and just some static data). But at the same time, it seems better to have a more general solution documented to make it clear that you just need to hook logic into `get_command` and `list_commands`.\r\n\r\nI'm open to feedback, including possibly rejecting this PR in favor of something smaller and more targeted.\r\nThe only thing I don't want to do is produce an extension library which provides this for people to use -- I'm already stretched pretty thin and simply can't commit to supporting such a thing.\r\n\r\n---\r\n\r\nResolves #945\r\n\r\nThe goal of this example is to show how one might subclass Group, overriding `get_command` and `list_commands` with some importlib usage and a dict, and produce a viable lazy-loading solution.\r\n\r\nOne significant benefit of offering an example is that it provides space to explain how and when `get_command` is invoked. i.e. Users might be surprised to realize that subcommands are resolved during completion scenarios.\r\n\r\nAt the risk of diverging a small amount into what some would consider \"general deferred import semantics in python\", the section closes out with an example of a `click.command` decorated function which contains a deferred import. For codebases which have significant at-import-time work (e.g. importing `requests` or `urllib3`), this strategy is probably *more* useful than lazy loading of subcommands.\r\n\r\nOther variations on this same solution are possible, e.g. using `importlib.load_module(module_name, self.callback.__module__)` to handle imports relative to the definition of the callback function. However, any further work in this space is left as an exercise to readers of the doc.\r\n\r\nImportantly, unlike some solutions already discussed in #945, nothing about this is application-specific. The example LazyGroup implementation does not encode any knowledge about the structure of the codebase in which it is used, which means that users can copy-paste the example and expect it to work (within reason). Because this also introduces the risk of reckless copy-paste by novice users, a warning is included in the doc that is meant to point at a certain level of application maturity which should be reached before this strategy can be safely applied.","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/2348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/click/issues/2348/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7306304364,"node_id":"REFE_lADOASN_zM4SFSJazwAAAAGzfVts","url":"https://api.github.com/repos/pallets/click/issues/events/7306304364","actor":{"login":"sirosen","id":1300022,"node_id":"MDQ6VXNlcjEzMDAwMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1300022?v=4","gravatar_id":"","url":"https://api.github.com/users/sirosen","html_url":"https://github.com/sirosen","followers_url":"https://api.github.com/users/sirosen/followers","following_url":"https://api.github.com/users/sirosen/following{/other_user}","gists_url":"https://api.github.com/users/sirosen/gists{/gist_id}","starred_url":"https://api.github.com/users/sirosen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirosen/subscriptions","organizations_url":"https://api.github.com/users/sirosen/orgs","repos_url":"https://api.github.com/users/sirosen/repos","events_url":"https://api.github.com/users/sirosen/events{/privacy}","received_events_url":"https://api.github.com/users/sirosen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"96b0d99e18468c6ed5e4150d69be97d9c95e39ee","commit_url":"https://api.github.com/repos/sirosen/click/commits/96b0d99e18468c6ed5e4150d69be97d9c95e39ee","created_at":"2022-09-01T15:18:33Z","performed_via_github_app":null},{"id":9691251263,"node_id":"REFE_lADOASN_zM4SFSJazwAAAAJBpMI_","url":"https://api.github.com/repos/pallets/click/issues/events/9691251263","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0e9c98ac06ea3fafaf6be8b01f981da626a9e7d6","commit_url":"https://api.github.com/repos/sirosen/click/commits/0e9c98ac06ea3fafaf6be8b01f981da626a9e7d6","created_at":"2023-06-30T19:33:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pallets/click/issues/comments/1615115319","html_url":"https://github.com/pallets/click/issues/945#issuecomment-1615115319","issue_url":"https://api.github.com/repos/pallets/click/issues/945","id":1615115319,"node_id":"IC_kwDOASN_zM5gRLQ3","user":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-30T19:36:51Z","updated_at":"2023-06-30T19:36:51Z","body":"Fixed by https://github.com/pallets/click/pull/2348, can be found at https://click.palletsprojects.com/complex/#lazily-loading-subcommands","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pallets/click/issues/comments/1615115319/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":1,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9691269770,"node_id":"CE_lADOASN_zM4SFSJazwAAAAJBpQqK","url":"https://api.github.com/repos/pallets/click/issues/events/9691269770","actor":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-06-30T19:36:51Z","state_reason":null,"performed_via_github_app":null},{"id":9826905773,"node_id":"LOE_lADOASN_zM4SFSJazwAAAAJJuq6t","url":"https://api.github.com/repos/pallets/click/issues/events/9826905773","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2023-07-15T00:16:16Z","lock_reason":"resolved","performed_via_github_app":null},{"id":19111560776,"node_id":"MIE_lADOASN_zM4SFSJazwAAAARzI0ZI","url":"https://api.github.com/repos/pallets/click/issues/events/19111560776","actor":{"login":"kdeldycke","id":159718,"node_id":"MDQ6VXNlcjE1OTcxOA==","avatar_url":"https://avatars.githubusercontent.com/u/159718?v=4","gravatar_id":"","url":"https://api.github.com/users/kdeldycke","html_url":"https://github.com/kdeldycke","followers_url":"https://api.github.com/users/kdeldycke/followers","following_url":"https://api.github.com/users/kdeldycke/following{/other_user}","gists_url":"https://api.github.com/users/kdeldycke/gists{/gist_id}","starred_url":"https://api.github.com/users/kdeldycke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdeldycke/subscriptions","organizations_url":"https://api.github.com/users/kdeldycke/orgs","repos_url":"https://api.github.com/users/kdeldycke/repos","events_url":"https://api.github.com/users/kdeldycke/events{/privacy}","received_events_url":"https://api.github.com/users/kdeldycke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-08-12T12:36:34Z","milestone":{"title":"8.1.4"},"performed_via_github_app":null}]