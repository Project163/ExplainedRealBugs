{"url":"https://api.github.com/repos/pallets/click/issues/1338","repository_url":"https://api.github.com/repos/pallets/click","labels_url":"https://api.github.com/repos/pallets/click/issues/1338/labels{/name}","comments_url":"https://api.github.com/repos/pallets/click/issues/1338/comments","events_url":"https://api.github.com/repos/pallets/click/issues/1338/events","html_url":"https://github.com/pallets/click/issues/1338","id":454387388,"node_id":"MDU6SXNzdWU0NTQzODczODg=","number":1338,"title":"OSError on MinGW64 with MSYS2 on Windows 8.1","user":{"login":"victorliu","id":115174,"node_id":"MDQ6VXNlcjExNTE3NA==","avatar_url":"https://avatars.githubusercontent.com/u/115174?v=4","gravatar_id":"","url":"https://api.github.com/users/victorliu","html_url":"https://github.com/victorliu","followers_url":"https://api.github.com/users/victorliu/followers","following_url":"https://api.github.com/users/victorliu/following{/other_user}","gists_url":"https://api.github.com/users/victorliu/gists{/gist_id}","starred_url":"https://api.github.com/users/victorliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victorliu/subscriptions","organizations_url":"https://api.github.com/users/victorliu/orgs","repos_url":"https://api.github.com/users/victorliu/repos","events_url":"https://api.github.com/users/victorliu/events{/privacy}","received_events_url":"https://api.github.com/users/victorliu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":932642518,"node_id":"MDU6TGFiZWw5MzI2NDI1MTg=","url":"https://api.github.com/repos/pallets/click/labels/windows","name":"windows","color":"30e8c9","default":false,"description":"Issues pertaining to the Windows environment"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pallets/click/milestones/4","html_url":"https://github.com/pallets/click/milestone/4","labels_url":"https://api.github.com/repos/pallets/click/milestones/4/labels","id":3655023,"node_id":"MDk6TWlsZXN0b25lMzY1NTAyMw==","number":4,"title":"7.1","description":"","creator":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":85,"state":"closed","created_at":"2018-09-14T14:59:39Z","updated_at":"2020-03-09T15:22:28Z","due_on":null,"closed_at":"2020-03-09T15:22:28Z"},"comments":3,"created_at":"2019-06-10T21:44:12Z","updated_at":"2020-11-13T08:02:06Z","closed_at":"2019-10-09T19:29:30Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"A most basic script containing:\r\n\r\n    import click\r\n    click.echo('run')\r\n\r\nProduces the following stacktrace:\r\n\r\n    Traceback (most recent call last):\r\n      File \"t.py\", line 3, in <module>\r\n        click.echo('run')\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\click\\utils.py\", line 260, in echo\r\n        file.write(message)\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\click\\_compat.py\", line 630, in _safe_write\r\n        return _write(s)\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\colorama\\ansitowin32.py\", line 41, in write\r\n        self.__convertor.write(text)\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\colorama\\ansitowin32.py\", line 164, in write\r\n        self.wrapped.write(text)\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\click\\_winconsole.py\", line 180, in write\r\n        return self._text_stream.write(x)\r\n      File \"C:/msys64/mingw64/lib/python3.7/site-packages\\click\\_winconsole.py\", line 164, in write\r\n        raise OSError(self._get_error_message(GetLastError()))\r\n    OSError: Windows error 1\r\n\r\n\r\nI am running under a MinGW64 bash shell installed through MSYS2 on a Windows 8.1 machine. \r\nThis is with Python 3.7, colorama 0.4.1, and Click 7.0, but the error goes back to 6.0, whereas it does not occur on 5.1. Python 2 does not exhibit the error.","closed_by":{"login":"davidism","id":1242887,"node_id":"MDQ6VXNlcjEyNDI4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/1242887?v=4","gravatar_id":"","url":"https://api.github.com/users/davidism","html_url":"https://github.com/davidism","followers_url":"https://api.github.com/users/davidism/followers","following_url":"https://api.github.com/users/davidism/following{/other_user}","gists_url":"https://api.github.com/users/davidism/gists{/gist_id}","starred_url":"https://api.github.com/users/davidism/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidism/subscriptions","organizations_url":"https://api.github.com/users/davidism/orgs","repos_url":"https://api.github.com/users/davidism/repos","events_url":"https://api.github.com/users/davidism/events{/privacy}","received_events_url":"https://api.github.com/users/davidism/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pallets/click/issues/1338/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pallets/click/issues/1338/timeline","performed_via_github_app":null,"state_reason":"completed"}