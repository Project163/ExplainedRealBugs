[{"id":11561949378,"node_id":"LE_lADOAPphoM582z7azwAAAAKxJVjC","url":"https://api.github.com/repos/neovim/neovim/issues/events/11561949378","actor":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-22T21:00:39Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904810068","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1904810068","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1904810068,"node_id":"IC_kwDOAPphoM5xiRhU","user":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T21:01:35Z","updated_at":"2024-01-22T21:01:35Z","body":"@bfredl @luukvbaal ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904810068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11561959613,"node_id":"MEE_lADOAPphoM582z7azwAAAAKxJYC9","url":"https://api.github.com/repos/neovim/neovim/issues/events/11561959613","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T21:01:36Z","performed_via_github_app":null},{"id":11561959630,"node_id":"SE_lADOAPphoM582z7azwAAAAKxJYDO","url":"https://api.github.com/repos/neovim/neovim/issues/events/11561959630","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T21:01:36Z","performed_via_github_app":null},{"id":11561959653,"node_id":"MEE_lADOAPphoM582z7azwAAAAKxJYDl","url":"https://api.github.com/repos/neovim/neovim/issues/events/11561959653","actor":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T21:01:36Z","performed_via_github_app":null},{"id":11561959664,"node_id":"SE_lADOAPphoM582z7azwAAAAKxJYDw","url":"https://api.github.com/repos/neovim/neovim/issues/events/11561959664","actor":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T21:01:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904813291","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1904813291","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1904813291,"node_id":"IC_kwDOAPphoM5xiSTr","user":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T21:03:51Z","updated_at":"2024-01-22T21:03:51Z","body":"Additional info: statuscol in branch 0.10 with\r\n\r\n```lua\r\nlocal builtin = require('statuscol.builtin')\r\nrequire('statuscol').setup({\r\n  relculright = true,\r\n  segments = {\r\n    {\r\n      text = {builtin.foldfunc},\r\n      condition = {true},\r\n      click = 'v:lua.ScFa',\r\n    },\r\n    {\r\n      sign = {namespace = {'gitsigns*'}, maxwidth = 1, colwidth = 1, auto = true},\r\n      click = 'v:lua.ScSa',\r\n    },\r\n    {\r\n      sign = {namespace = {'arctgx.diagnostic.signs/diagnostic/signs'}, maxwidth = 2, colwidth = 2, auto = true},\r\n      click = 'v:lua.ScSa'\r\n    },\r\n    {\r\n      sign = {name = {'Dap.*'}, maxwidth = 2, colwidth = 2, auto = true},\r\n      click = 'v:lua.ScLa'\r\n    },\r\n    {\r\n      sign = {name = {'.*'}, maxwidth = 1, colwidth = 1, auto = true},\r\n      click = 'v:lua.ScSa'\r\n    },\r\n    {text = {builtin.lnumfunc, ' '}, click = 'v:lua.ScLa',},\r\n  },\r\n  ft_ignore = {\r\n    'NvimTree',\r\n  },\r\n})\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904813291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11562527728,"node_id":"UNLE_lADOAPphoM582z7azwAAAAKxLivw","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562527728","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:04:58Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":11562527736,"node_id":"LE_lADOAPphoM582z7azwAAAAKxLiv4","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562527736","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:04:58Z","label":{"name":"bug-crash","color":"F9D0C4"},"performed_via_github_app":null},{"id":11562527745,"node_id":"LE_lADOAPphoM582z7azwAAAAKxLiwB","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562527745","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:04:58Z","label":{"name":"extmarks","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904952493","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1904952493","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1904952493,"node_id":"IC_kwDOAPphoM5xi0St","user":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T22:38:00Z","updated_at":"2024-01-22T23:02:14Z","body":"This reproduces the crash @bfredl (`itr->x->s->i_ptr[itr->i] == NULL`):\r\n```lua\r\nlocal ns = vim.api.nvim_create_namespace('')\r\nvim.api.nvim_buf_set_lines(0, 0, 0, 0, {'a'})\r\nfor i = 0, 104 do\r\n  vim.api.nvim_buf_set_extmark(0, ns, 0, 0, {hl_group = 'Error', end_col = 1})\r\nend\r\nvim.api.nvim_buf_set_extmark(0, ns, 0, 0, {sign_text = 'S1'})\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904952493/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":3,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11562805775,"node_id":"MEE_lADOAPphoM582z7azwAAAAKxMmoP","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562805775","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:38:00Z","performed_via_github_app":null},{"id":11562805789,"node_id":"SE_lADOAPphoM582z7azwAAAAKxMmod","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562805789","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:38:00Z","performed_via_github_app":null},{"id":11562819143,"node_id":"LE_lADOAPphoM582z7azwAAAAKxMp5H","url":"https://api.github.com/repos/neovim/neovim/issues/events/11562819143","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-22T22:39:48Z","label":{"name":"has:backtrace","color":"0E8A16"},"performed_via_github_app":null},{"actor":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T22:45:08Z","updated_at":"2024-01-22T22:45:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27011","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27011/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27011/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27011/events","html_url":"https://github.com/neovim/neovim/pull/27011","id":2080689941,"node_id":"PR_kwDOAPphoM5kBW8D","number":27011,"title":"perf(extmarks): add metadata for efficient filtering of special decorations","user":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1680119719,"node_id":"MDU6TGFiZWwxNjgwMTE5NzE5","url":"https://api.github.com/repos/neovim/neovim/labels/marks","name":"marks","color":"c5def5","default":false,"description":"marks, extmarks, decorations, virtual text"},{"id":2962322085,"node_id":"MDU6TGFiZWwyOTYyMzIyMDg1","url":"https://api.github.com/repos/neovim/neovim/labels/column","name":"column","color":"c5def5","default":false,"description":"sign/number column"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-01-14T11:31:45Z","updated_at":"2024-01-23T21:48:11Z","closed_at":"2024-01-22T20:05:12Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/27011","html_url":"https://github.com/neovim/neovim/pull/27011","diff_url":"https://github.com/neovim/neovim/pull/27011.diff","patch_url":"https://github.com/neovim/neovim/pull/27011.patch","merged_at":"2024-01-22T20:05:12Z"},"body":"This expands on the global \"don't pay for what you don't use\" rules for these special extmark decorations:\r\n\r\n- inline virtual text, which needs to be processed in plines.c when we calculate the size of text on screen\r\n- virtual lines, which are needed when calculating \"filler\" lines\r\n- signs, with text and/or highlights, both of which needs to be processed for the entire line already at the beginning of a line.\r\n\r\nThis adds a count to each node of the marktree, for how many special marks of each kind can be found in the subtree for this node. This makes it possible to quickly handle extra checks, when working in regions of the buffer not containing these kind of marks, instead of before where this could just be skipped if the entire _buffer_ didn't contain such marks.\r\n\r\nNote: this PR only covers some of the places where this extra information is useful. For instance I haven't touched the the \"b_signcols\" code yet as there is ongoing work #26898 by @luukvbaal and it would benefit from some discussion.","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27011/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":3,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27011/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T23:10:04Z","updated_at":"2024-01-22T23:10:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27127","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27127/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27127/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27127/events","html_url":"https://github.com/neovim/neovim/issues/27127","id":2093744206,"node_id":"I_kwDOAPphoM58zABO","number":27127,"title":"Crash in sign column calculation","user":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":435851959,"node_id":"MDU6TGFiZWw0MzU4NTE5NTk=","url":"https://api.github.com/repos/neovim/neovim/labels/has:repro","name":"has:repro","color":"0E8A16","default":false,"description":"issue contains minimal reproducing steps"},{"id":435854234,"node_id":"MDU6TGFiZWw0MzU4NTQyMzQ=","url":"https://api.github.com/repos/neovim/neovim/labels/bug-crash","name":"bug-crash","color":"F9D0C4","default":false,"description":"issue reporting a crash or segfault"}],"state":"closed","locked":false,"assignee":{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"luukvbaal","id":31730729,"node_id":"MDQ6VXNlcjMxNzMwNzI5","avatar_url":"https://avatars.githubusercontent.com/u/31730729?v=4","gravatar_id":"","url":"https://api.github.com/users/luukvbaal","html_url":"https://github.com/luukvbaal","followers_url":"https://api.github.com/users/luukvbaal/followers","following_url":"https://api.github.com/users/luukvbaal/following{/other_user}","gists_url":"https://api.github.com/users/luukvbaal/gists{/gist_id}","starred_url":"https://api.github.com/users/luukvbaal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luukvbaal/subscriptions","organizations_url":"https://api.github.com/users/luukvbaal/orgs","repos_url":"https://api.github.com/users/luukvbaal/repos","events_url":"https://api.github.com/users/luukvbaal/events{/privacy}","received_events_url":"https://api.github.com/users/luukvbaal/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":7,"created_at":"2024-01-22T11:53:10Z","updated_at":"2024-01-22T23:10:05Z","closed_at":"2024-01-22T23:10:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Problem\r\n\r\nNvim crashes sometimes when calling `nvim_buf_set_lines()`\r\n\r\n```\r\n0   nvim                          \t       0x102bc3890 marktree_itr_step_overlap + 84 (marktree.c:1547)\r\n1   nvim                          \t       0x102ad8c90 buf_signcols_count_range + 212 (decoration.c:816)\r\n2   nvim                          \t       0x102b65170 extmark_splice_impl + 276 (extmark.c:523)\r\n3   nvim                          \t       0x102b656a0 extmark_splice + 156 (extmark.c:494)\r\n4   nvim                          \t       0x102a84f04 nvim_buf_set_lines + 1300 (buffer.c:460)\r\n5   nvim                          \t       0x102a703d0 nlua_api_nvim_buf_set_lines + 608 (lua_api_c_bindings.generated.c:574)\r\n6   nvim                          \t       0x102d8455c lj_BC_FUNCC + 44\r\n7   nvim                          \t       0x102d9a970 lua_pcall + 228 (lj_api.c:1150)\r\n8   nvim                          \t       0x102ba2e48 nlua_call_ref + 196 (executor.c:1610)\r\n9   nvim                          \t       0x102b7a4b8 map_execute_lua + 288 (getchar.c:3030)\r\n10  nvim                          \t       0x102bf7240 nv_colon + 208 (normal.c:3220)\r\n11  nvim                          \t       0x102bf4918 normal_execute + 5380 (normal.c:1227)\r\n12  nvim                          \t       0x102ca03a4 state_enter + 148 (state.c:101)\r\n13  nvim                          \t       0x102bf0d20 normal_enter + 160 (normal.c:516)\r\n14  nvim                          \t       0x102baeeb0 main + 9536 (main.c:651)\r\n15  dyld                          \t       0x186d350e0 start + 2360\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n`min.lua`:\r\n```lua\r\nvim.opt.signcolumn = 'auto:3'\r\n\r\nvim.schedule(function()\r\n  local ns = vim.api.nvim_create_namespace('')\r\n  local buf = vim.api.nvim_get_current_buf()\r\n  vim.api.nvim_buf_set_extmark(buf, ns, 0, 0, { sign_text = 'h' })\r\n  vim.api.nvim_win_set_buf(0, vim.api.nvim_create_buf(false, true))\r\n  vim.api.nvim_buf_delete(buf, {unload=true, force=true})\r\n  vim.api.nvim_buf_set_lines(buf, 0, -1, false, {''})\r\nend)\r\n```\r\n\r\n`nvim --clean -u min.lua`\r\n\r\n### Expected behavior\r\n\r\nNo crash\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.10.0-dev-2153+g1233ac46\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nNA\r\n\r\n### Operating system/version\r\n\r\nmacOS 14.2.1\r\n\r\n### Terminal name/version\r\n\r\nwezterm\r\n\r\n### $TERM environment variable\r\n\r\nwezterm\r\n\r\n### Installation\r\n\r\nSource","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27127/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904992130","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1904992130","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1904992130,"node_id":"IC_kwDOAPphoM5xi9-C","user":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T23:10:20Z","updated_at":"2024-01-22T23:10:20Z","body":"> This reproduces the crash @bfredl (`itr->x->s->i_ptr[itr->i] == NULL`):\r\n> \r\n> ```lua\r\n> local ns = vim.api.nvim_create_namespace('')\r\n> vim.cmd.call(\"setline(1, ['aaa', 'bbb', 'ccc']->repeat(12))\")\r\n> for i = 0, 35 do\r\n>   vim.api.nvim_buf_set_extmark(0, ns, i, 0, {hl_group = 'Error', end_col = 1})\r\n>   vim.api.nvim_buf_set_extmark(0, ns, i, 1, {hl_group = 'Error', end_col = 2})\r\n>   vim.api.nvim_buf_set_extmark(0, ns, i, 2, {hl_group = 'Error', end_col = 3})\r\n> end\r\n> vim.api.nvim_buf_set_extmark(0, ns, 0, 0, {sign_text = 'S1'})\r\n> ```\r\nThat's it!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1904992130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"przepompownia","id":11404453,"node_id":"MDQ6VXNlcjExNDA0NDUz","avatar_url":"https://avatars.githubusercontent.com/u/11404453?v=4","gravatar_id":"","url":"https://api.github.com/users/przepompownia","html_url":"https://github.com/przepompownia","followers_url":"https://api.github.com/users/przepompownia/followers","following_url":"https://api.github.com/users/przepompownia/following{/other_user}","gists_url":"https://api.github.com/users/przepompownia/gists{/gist_id}","starred_url":"https://api.github.com/users/przepompownia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przepompownia/subscriptions","organizations_url":"https://api.github.com/users/przepompownia/orgs","repos_url":"https://api.github.com/users/przepompownia/repos","events_url":"https://api.github.com/users/przepompownia/events{/privacy}","received_events_url":"https://api.github.com/users/przepompownia/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11563039466,"node_id":"MEE_lADOAPphoM582z7azwAAAAKxNfrq","url":"https://api.github.com/repos/neovim/neovim/issues/events/11563039466","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T23:10:20Z","performed_via_github_app":null},{"id":11563039472,"node_id":"SE_lADOAPphoM582z7azwAAAAKxNfrw","url":"https://api.github.com/repos/neovim/neovim/issues/events/11563039472","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T23:10:20Z","performed_via_github_app":null},{"id":11566304166,"node_id":"REFE_lADOAPphoM582z7azwAAAAKxZ8um","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566304166","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"87c7e0945acd42f8e4adb555efa17d0df8b4542b","commit_url":"https://api.github.com/repos/bfredl/neovim/commits/87c7e0945acd42f8e4adb555efa17d0df8b4542b","created_at":"2024-01-23T08:13:09Z","performed_via_github_app":null},{"id":11566315922,"node_id":"REFE_lADOAPphoM582z7azwAAAAKxZ_mS","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566315922","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"220a8f45b0ac8bf472917d7246c284161d7d78bc","commit_url":"https://api.github.com/repos/bfredl/neovim/commits/220a8f45b0ac8bf472917d7246c284161d7d78bc","created_at":"2024-01-23T08:14:18Z","performed_via_github_app":null},{"actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-23T08:14:26Z","updated_at":"2024-01-23T08:14:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27145","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27145/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27145/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27145/events","html_url":"https://github.com/neovim/neovim/pull/27145","id":2095492587,"node_id":"PR_kwDOAPphoM5kzjFA","number":27145,"title":"fix(extmarks): crash with sign after many marks","user":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1680119719,"node_id":"MDU6TGFiZWwxNjgwMTE5NzE5","url":"https://api.github.com/repos/neovim/neovim/labels/marks","name":"marks","color":"c5def5","default":false,"description":"marks, extmarks, decorations, virtual text"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-01-23T08:14:26Z","updated_at":"2024-01-23T08:38:53Z","closed_at":"2024-01-23T08:38:53Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/27145","html_url":"https://github.com/neovim/neovim/pull/27145","diff_url":"https://github.com/neovim/neovim/pull/27145.diff","patch_url":"https://github.com/neovim/neovim/pull/27145.patch","merged_at":"2024-01-23T08:38:53Z"},"body":"fixes #27137","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27145/reactions","total_count":4,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":2,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27145/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11566454104,"node_id":"REFE_lADOAPphoM582z7azwAAAAKxahVY","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566454104","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"54225bdb021e64d09f98201bc0a610e2600b6473","commit_url":"https://api.github.com/repos/bfredl/neovim/commits/54225bdb021e64d09f98201bc0a610e2600b6473","created_at":"2024-01-23T08:19:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905542346","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1905542346","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1905542346,"node_id":"IC_kwDOAPphoM5xlETK","user":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-23T08:27:14Z","updated_at":"2024-01-23T08:28:56Z","body":"I'm able to reproduce a similar crash by opening a ~400 line file, and spamming `gg` and `GG` in normal mode. \r\n\r\n```\r\n$ nvim --version\r\nNVIM v0.10.0-dev-2164+gdc466f9a6\r\nBuild type: Debug\r\nLuaJIT 2.1.1705947465\r\nRun \"nvim -V1 -v\" for more info\r\n```\r\n\r\n```\r\n$ sudo gdb -p 380014\r\nGNU gdb (Ubuntu 14.0.50.20230907-0ubuntu1) 14.0.50.20230907-git\r\n...\r\nAttaching to process 380014\r\n[New LWP 380015]\r\n[New LWP 381211]\r\n[New LWP 381348]\r\n[New LWP 381349]\r\n[New LWP 381350]\r\n[New LWP 381351]\r\n--Type <RET> for more, q to quit, c to continue without paging--\r\n[New LWP 381352]\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n0x00007ff861b28726 in __GI_epoll_pwait (epfd=epfd@entry=4, events=events@entry=0x7ffd64fac9e0, maxevents=maxevents@entry=1024, timeout=timeout@entry=19, set=set@entry=0x0)\r\n    at ../sysdeps/unix/sysv/linux/epoll_pwait.c:40\r\n40      ../sysdeps/unix/sysv/linux/epoll_pwait.c: No such file or directory.\r\n(gdb)\r\n(gdb) c\r\nContinuing.\r\n\r\nThread 1 \"nvim\" received signal SIGSEGV, Segmentation fault.\r\n0x0000558f300f76c9 in marktree_itr_next_skip (b=0x558f30e35970, itr=0x7ffd64faf900, skip=false, preload=false, oldbase=0x0, meta_filter=0x0) at /opt/neovim/src/nvim/marktree.c:1529\r\n1529          assert(itr->x->ptr[itr->i]->parent == itr->x);\r\n(gdb) bt\r\n#0  0x0000558f300f76c9 in marktree_itr_next_skip (b=0x558f30e35970, itr=0x7ffd64faf900, skip=false, preload=false, oldbase=0x0, meta_filter=0x0) at /opt/neovim/src/nvim/marktree.c:1529\r\n#1  0x0000558f300f73f7 in marktree_itr_next (b=0x558f30e35970, itr=0x7ffd64faf900) at /opt/neovim/src/nvim/marktree.c:1479\r\n#2  0x0000558f300f7133 in marktree_itr_get_ext (b=0x558f30e35970, p=..., itr=0x7ffd64faf900, last=false, gravity=false, oldbase=0x0, meta_filter=0x558f304b1c50 <lines_filter>)\r\n    at /opt/neovim/src/nvim/marktree.c:1422\r\n#3  0x0000558f300f7857 in marktree_itr_get_filter (b=0x558f30e35970, row=326, col=0, stop_row=328, stop_col=0, meta_filter=0x558f304b1c50 <lines_filter>, itr=0x7ffd64faf900)\r\n    at /opt/neovim/src/nvim/marktree.c:1554\r\n#4  0x0000558f2ffba716 in decor_virt_lines (wp=0x558f30e2fd70, lnum=328, lines=0x0, has_fold=kFalse) at /opt/neovim/src/nvim/decoration.c:879\r\n#5  0x0000558f301804cd in win_get_fill (wp=0x558f30e2fd70, lnum=328) at /opt/neovim/src/nvim/plines.c:678\r\n#6  0x0000558f30127918 in topline_back_winheight (wp=0x558f30e2fd70, lp=0x7ffd64fafab0, winheight=0) at /opt/neovim/src/nvim/move.c:1660\r\n#7  0x0000558f30128b42 in scroll_cursor_halfway (atend=false, prefer_above=false) at /opt/neovim/src/nvim/move.c:2127\r\n#8  0x0000558f30124000 in update_topline (wp=0x558f30e2fd70) at /opt/neovim/src/nvim/move.c:394\r\n#9  0x0000558f30135193 in normal_check (state=0x7ffd64fafbf0) at /opt/neovim/src/nvim/normal.c:1426\r\n#10 0x0000558f30215e5e in state_enter (s=0x7ffd64fafbf0) at /opt/neovim/src/nvim/state.c:40\r\n#11 0x0000558f30132e24 in normal_enter (cmdwin=false, noexmode=false) at /opt/neovim/src/nvim/normal.c:516\r\n#12 0x0000558f300d61ae in main (argc=3, argv=0x7ffd64faffd8) at /opt/neovim/src/nvim/main.c:651\r\n(gdb)\r\n\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905542346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11566746862,"node_id":"CE_lADOAPphoM582z7azwAAAAKxbozu","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566746862","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-01-23T08:38:54Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905576303","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1905576303","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1905576303,"node_id":"IC_kwDOAPphoM5xlMlv","user":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-23T08:47:52Z","updated_at":"2024-01-23T08:47:52Z","body":"@alichtman Please try latest master with the pushed fix (#27145)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905576303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11566851251,"node_id":"MEE_lADOAPphoM582z7azwAAAAKxcCSz","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566851251","actor":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-23T08:47:53Z","performed_via_github_app":null},{"id":11566851278,"node_id":"SE_lADOAPphoM582z7azwAAAAKxcCTO","url":"https://api.github.com/repos/neovim/neovim/issues/events/11566851278","actor":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-23T08:47:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905588619","html_url":"https://github.com/neovim/neovim/issues/27137#issuecomment-1905588619","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27137","id":1905588619,"node_id":"IC_kwDOAPphoM5xlPmL","user":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-23T08:55:54Z","updated_at":"2024-01-23T08:55:54Z","body":"I didn't have a debugger attached this time, but it crashed on the same line\r\n\r\n![image](https://github.com/neovim/neovim/assets/20600565/92e09ca2-48f9-482c-8f9e-18324b9aa5b7)\r\n\r\n```\r\n$  nvim --version\r\nNVIM v0.10.0-dev-2165+gd3fa8adea\r\nBuild type: Debug\r\nLuaJIT 2.1.1705947465\r\nRun \"nvim -V1 -v\" for more info\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/1905588619/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alichtman","id":20600565,"node_id":"MDQ6VXNlcjIwNjAwNTY1","avatar_url":"https://avatars.githubusercontent.com/u/20600565?v=4","gravatar_id":"","url":"https://api.github.com/users/alichtman","html_url":"https://github.com/alichtman","followers_url":"https://api.github.com/users/alichtman/followers","following_url":"https://api.github.com/users/alichtman/following{/other_user}","gists_url":"https://api.github.com/users/alichtman/gists{/gist_id}","starred_url":"https://api.github.com/users/alichtman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alichtman/subscriptions","organizations_url":"https://api.github.com/users/alichtman/orgs","repos_url":"https://api.github.com/users/alichtman/repos","events_url":"https://api.github.com/users/alichtman/events{/privacy}","received_events_url":"https://api.github.com/users/alichtman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-23T09:15:28Z","updated_at":"2024-01-23T09:15:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27147","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27147/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27147/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27147/events","html_url":"https://github.com/neovim/neovim/pull/27147","id":2095609713,"node_id":"PR_kwDOAPphoM5kz7vw","number":27147,"title":"fix(extmark): another \"step out\" case","user":{"login":"bfredl","id":1363104,"node_id":"MDQ6VXNlcjEzNjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/1363104?v=4","gravatar_id":"","url":"https://api.github.com/users/bfredl","html_url":"https://github.com/bfredl","followers_url":"https://api.github.com/users/bfredl/followers","following_url":"https://api.github.com/users/bfredl/following{/other_user}","gists_url":"https://api.github.com/users/bfredl/gists{/gist_id}","starred_url":"https://api.github.com/users/bfredl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bfredl/subscriptions","organizations_url":"https://api.github.com/users/bfredl/orgs","repos_url":"https://api.github.com/users/bfredl/repos","events_url":"https://api.github.com/users/bfredl/events{/privacy}","received_events_url":"https://api.github.com/users/bfredl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-01-23T09:15:27Z","updated_at":"2024-01-23T10:56:17Z","closed_at":"2024-01-23T10:56:16Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/27147","html_url":"https://github.com/neovim/neovim/pull/27147","diff_url":"https://github.com/neovim/neovim/pull/27147.diff","patch_url":"https://github.com/neovim/neovim/pull/27147.patch","merged_at":"2024-01-23T10:56:16Z"},"body":"ref https://github.com/neovim/neovim/issues/27137#issuecomment-1905542346","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27147/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]