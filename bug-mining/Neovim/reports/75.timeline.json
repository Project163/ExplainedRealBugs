[{"id":18085612549,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_IwF","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612549","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:57Z","label":{"name":"needs:repro","color":"FBCA04"},"performed_via_github_app":null},{"id":18085612560,"node_id":"ITAE_lADOAPphoM664RMGzwAAAAQ1_IwQ","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612560","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"issue_type_added","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:57Z","performed_via_github_app":null},{"id":18085612568,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_IwY","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612568","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:57Z","label":{"name":"has:backtrace","color":"0E8A16"},"performed_via_github_app":null},{"id":18085612578,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_Iwi","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612578","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:58Z","label":{"name":"bug-crash","color":"F9D0C4"},"performed_via_github_app":null},{"id":18085612588,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_Iws","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612588","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:58Z","label":{"name":"has:bisected","color":"0E8A16"},"performed_via_github_app":null},{"id":18085612611,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_IxD","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085612611","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:47:58Z","label":{"name":"editor-state","color":"C5DEF5"},"performed_via_github_app":null},{"id":18085630710,"node_id":"MIE_lADOAPphoM664RMGzwAAAAQ1_NL2","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085630710","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:49:14Z","milestone":{"title":"0.12"},"performed_via_github_app":null},{"id":18085631439,"node_id":"LE_lADOAPphoM664RMGzwAAAAQ1_NXP","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085631439","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2025-06-11T02:49:19Z","label":{"name":"bug-regression","color":"f9d0c4"},"performed_via_github_app":null},{"id":18085985022,"node_id":"SE_lADOAPphoM664RMGzwAAAAQ2Ajr-","url":"https://api.github.com/repos/neovim/neovim/issues/events/18085985022","actor":{"login":"quebn","id":93438531,"node_id":"U_kgDOBZHCQw","avatar_url":"https://avatars.githubusercontent.com/u/93438531?v=4","gravatar_id":"","url":"https://api.github.com/users/quebn","html_url":"https://github.com/quebn","followers_url":"https://api.github.com/users/quebn/followers","following_url":"https://api.github.com/users/quebn/following{/other_user}","gists_url":"https://api.github.com/users/quebn/gists{/gist_id}","starred_url":"https://api.github.com/users/quebn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quebn/subscriptions","organizations_url":"https://api.github.com/users/quebn/orgs","repos_url":"https://api.github.com/users/quebn/repos","events_url":"https://api.github.com/users/quebn/events{/privacy}","received_events_url":"https://api.github.com/users/quebn/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-06-11T03:36:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961472054","html_url":"https://github.com/neovim/neovim/issues/34440#issuecomment-2961472054","issue_url":"https://api.github.com/repos/neovim/neovim/issues/34440","id":2961472054,"node_id":"IC_kwDOAPphoM6whHo2","user":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T06:58:38Z","updated_at":"2025-06-11T06:58:38Z","body":"If just add `buf->b_p_bl` at 2492 instead using `ignore_buf`, will it also happen? I haven't reproduced this crash yet. need tried some times ...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961472054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961546707","html_url":"https://github.com/neovim/neovim/issues/34440#issuecomment-2961546707","issue_url":"https://api.github.com/repos/neovim/neovim/issues/34440","id":2961546707,"node_id":"IC_kwDOAPphoM6whZ3T","user":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T07:28:20Z","updated_at":"2025-06-11T07:33:13Z","body":"The crash still happens if I revert the first `ignore_buf()`:\n```diff\ndiff --git a/src/nvim/shada.c b/src/nvim/shada.c\nindex 2e887fab10..961152b71d 100644\n--- a/src/nvim/shada.c\n+++ b/src/nvim/shada.c\n@@ -2489,7 +2489,8 @@ static ShaDaWriteResult shada_write(FileDescriptor *const sd_writer,\n         fname = fm.fname;\n       } else {\n         const buf_T *const buf = buflist_findnr(fm.fmark.fnum);\n-        if (ignore_buf(buf, &removable_bufs)) {\n+        if (buf == NULL || buf->b_ffname == NULL\n+            || set_has(ptr_t, &removable_bufs, (ptr_t)buf)) {\n           continue;\n         }\n         fname = buf->b_ffname;\n```\n\nIf I revert the second `ignore_buf()`, the crash doesn't happen:\n```diff\ndiff --git a/src/nvim/shada.c b/src/nvim/shada.c\nindex 2e887fab10..051324cd6c 100644\n--- a/src/nvim/shada.c\n+++ b/src/nvim/shada.c\n@@ -2525,7 +2525,7 @@ static ShaDaWriteResult shada_write(FileDescriptor *const sd_writer,\n   // Initialize buffers\n   if (num_marked_files > 0) {\n     FOR_ALL_BUFFERS(buf) {\n-      if (ignore_buf(buf, &removable_bufs)) {\n+      if (buf->b_ffname == NULL || set_has(ptr_t, &removable_bufs, buf)) {\n         continue;\n       }\n       const void *local_marks_iter = NULL;\n```\n\nIf I revert the second `ignore_buf()` and then add `!buf->p_b_bl`, the crash also happens:\n```diff\ndiff --git a/src/nvim/shada.c b/src/nvim/shada.c\nindex 2e887fab10..4209a416e2 100644\n--- a/src/nvim/shada.c\n+++ b/src/nvim/shada.c\n@@ -2525,7 +2525,7 @@ static ShaDaWriteResult shada_write(FileDescriptor *const sd_writer,\n   // Initialize buffers\n   if (num_marked_files > 0) {\n     FOR_ALL_BUFFERS(buf) {\n-      if (ignore_buf(buf, &removable_bufs)) {\n+      if (buf->b_ffname == NULL || !buf->b_p_bl || set_has(ptr_t, &removable_bufs, buf)) {\n         continue;\n       }\n       const void *local_marks_iter = NULL;\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961546707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961735801","html_url":"https://github.com/neovim/neovim/issues/34440#issuecomment-2961735801","issue_url":"https://api.github.com/repos/neovim/neovim/issues/34440","id":2961735801,"node_id":"IC_kwDOAPphoM6wiIB5","user":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T08:36:19Z","updated_at":"2025-06-11T08:36:31Z","body":"does this still crash ðŸ¤”\n\n```diff\ndiff --git a/src/nvim/shada.c b/src/nvim/shada.c\nindex 2e887fab10..7414c9f5f5 100644\n--- a/src/nvim/shada.c\n+++ b/src/nvim/shada.c\n@@ -1906,7 +1906,11 @@ static inline ShaDaWriteResult shada_read_when_writing(FileDescriptor *const sd_\n       }\n       const char *const fname = entry.data.filemark.fname;\n       cstr_t *key = NULL;\n-      ptr_t *val = pmap_put_ref(cstr_t)(&wms->file_marks, fname, &key, NULL);\n+      bool new_item = false;\n+      ptr_t *val = pmap_put_ref(cstr_t)(&wms->file_marks, fname, &key, &new_item);\n+      if (new_item) {\n+        *key = xstrdup(fname);\n+      }\n       if (*val == NULL) {\n         *val = xcalloc(1, sizeof(FileMarks));\n       }\n@@ -2530,7 +2534,12 @@ static ShaDaWriteResult shada_write(FileDescriptor *const sd_writer,\n       }\n       const void *local_marks_iter = NULL;\n       const char *const fname = buf->b_ffname;\n-      ptr_t *val = pmap_put_ref(cstr_t)(&wms->file_marks, fname, NULL, NULL);\n+      cstr_t *map_key = NULL;\n+      bool new_item = false;\n+      ptr_t *val = pmap_put_ref(cstr_t)(&wms->file_marks, fname, &map_key, &new_item);\n+      if (new_item) {\n+        *map_key = xstrdup(fname);\n+      }\n       if (*val == NULL) {\n         *val = xcalloc(1, sizeof(FileMarks));\n       }\n@@ -2714,6 +2723,10 @@ shada_write_exit:\n   map_foreach_value(&wms->file_marks, val, {\n     xfree(val);\n   })\n+  const char *stored_key = NULL;\n+  map_foreach_key(&wms->file_marks, stored_key, {\n+      xfree((char *)stored_key);\n+  })\n   map_destroy(cstr_t, &wms->file_marks);\n   set_destroy(ptr_t, &removable_bufs);\n   packer.packer_flush(&packer);\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2961735801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2962132446","html_url":"https://github.com/neovim/neovim/issues/34440#issuecomment-2962132446","issue_url":"https://api.github.com/repos/neovim/neovim/issues/34440","id":2962132446,"node_id":"IC_kwDOAPphoM6wjo3e","user":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T10:29:50Z","updated_at":"2025-06-11T10:30:03Z","body":"this seems like work. i don't get crash report.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2962132446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18091556415,"node_id":"REFE_lADOAPphoM664RMGzwAAAAQ2Vz4_","url":"https://api.github.com/repos/neovim/neovim/issues/events/18091556415","actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cb3a7478dd7a5e10485f824208a833d217ac5525","commit_url":"https://api.github.com/repos/glepnir/neovim/commits/cb3a7478dd7a5e10485f824208a833d217ac5525","created_at":"2025-06-11T10:31:52Z","performed_via_github_app":null},{"id":18091568668,"node_id":"REFE_lADOAPphoM664RMGzwAAAAQ2V24c","url":"https://api.github.com/repos/neovim/neovim/issues/events/18091568668","actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d6d00eb3eec572ca89883d2478e0df973d1e5909","commit_url":"https://api.github.com/repos/glepnir/neovim/commits/d6d00eb3eec572ca89883d2478e0df973d1e5909","created_at":"2025-06-11T10:32:40Z","performed_via_github_app":null},{"actor":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T10:33:03Z","updated_at":"2025-06-11T10:33:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/34446","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/34446/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/34446/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/34446/events","html_url":"https://github.com/neovim/neovim/pull/34446","id":3136321426,"node_id":"PR_kwDOAPphoM6aAY5h","number":34446,"title":"fix(shada): prevent use-after-free when mapping file marks","user":{"login":"glepnir","id":41671631,"node_id":"MDQ6VXNlcjQxNjcxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/41671631?v=4","gravatar_id":"","url":"https://api.github.com/users/glepnir","html_url":"https://github.com/glepnir","followers_url":"https://api.github.com/users/glepnir/followers","following_url":"https://api.github.com/users/glepnir/following{/other_user}","gists_url":"https://api.github.com/users/glepnir/gists{/gist_id}","starred_url":"https://api.github.com/users/glepnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glepnir/subscriptions","organizations_url":"https://api.github.com/users/glepnir/orgs","repos_url":"https://api.github.com/users/glepnir/repos","events_url":"https://api.github.com/users/glepnir/events{/privacy}","received_events_url":"https://api.github.com/users/glepnir/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-11T10:33:02Z","updated_at":"2025-06-12T08:26:39Z","closed_at":"2025-06-11T22:31:48Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/34446","html_url":"https://github.com/neovim/neovim/pull/34446","diff_url":"https://github.com/neovim/neovim/pull/34446.diff","patch_url":"https://github.com/neovim/neovim/pull/34446.patch","merged_at":"2025-06-11T22:31:48Z"},"body":"Problem: When ignore_buf skips buffers during initialization, shada_read_when_writing uses entry.data.filemark.fname directly as map key, but later frees the entry, leaving dangling pointers.\r\n\r\nSolution: Always create independent copies of filenames as map keys using xstrdup() for new items, and free all keys during cleanup.\r\n\r\nFix #34440\r\n\r\n<!--\r\n  Thank you for contributing to Neovim!\r\n  If this is your first time, check out https://github.com/neovim/neovim/blob/master/CONTRIBUTING.md#pull-requests-prs\r\n  for our PR guidelines.\r\n-->\r\n","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/34446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/34446/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2962454926","html_url":"https://github.com/neovim/neovim/issues/34440#issuecomment-2962454926","issue_url":"https://api.github.com/repos/neovim/neovim/issues/34440","id":2962454926,"node_id":"IC_kwDOAPphoM6wk3mO","user":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-06-11T12:14:24Z","updated_at":"2025-06-11T12:14:24Z","body":"Sorry I forgot to reply. It did fix the problem.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2962454926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":18102782982,"node_id":"CE_lADOAPphoM664RMGzwAAAAQ3AowG","url":"https://api.github.com/repos/neovim/neovim/issues/events/18102782982","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-06-11T22:31:49Z","state_reason":null,"performed_via_github_app":null},{"id":18102782993,"node_id":"REFE_lADOAPphoM664RMGzwAAAAQ3AowR","url":"https://api.github.com/repos/neovim/neovim/issues/events/18102782993","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6bee2f686fcfd190e7017fc08115de247ac9afe9","commit_url":"https://api.github.com/repos/neovim/neovim/commits/6bee2f686fcfd190e7017fc08115de247ac9afe9","created_at":"2025-06-11T22:31:49Z","performed_via_github_app":null},{"actor":{"login":"justinmk","id":1359421,"node_id":"MDQ6VXNlcjEzNTk0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1359421?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmk","html_url":"https://github.com/justinmk","followers_url":"https://api.github.com/users/justinmk/followers","following_url":"https://api.github.com/users/justinmk/following{/other_user}","gists_url":"https://api.github.com/users/justinmk/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmk/subscriptions","organizations_url":"https://api.github.com/users/justinmk/orgs","repos_url":"https://api.github.com/users/justinmk/repos","events_url":"https://api.github.com/users/justinmk/events{/privacy}","received_events_url":"https://api.github.com/users/justinmk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-09-21T03:22:02Z","updated_at":"2025-09-21T03:22:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/35846","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/35846/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/35846/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/35846/events","html_url":"https://github.com/neovim/neovim/issues/35846","id":3437065476,"node_id":"I_kwDOAPphoM7M3XUE","number":35846,"title":"crash on exit in shada_write_file","user":{"login":"wxutopia","id":43340555,"node_id":"MDQ6VXNlcjQzMzQwNTU1","avatar_url":"https://avatars.githubusercontent.com/u/43340555?v=4","gravatar_id":"","url":"https://api.github.com/users/wxutopia","html_url":"https://github.com/wxutopia","followers_url":"https://api.github.com/users/wxutopia/followers","following_url":"https://api.github.com/users/wxutopia/following{/other_user}","gists_url":"https://api.github.com/users/wxutopia/gists{/gist_id}","starred_url":"https://api.github.com/users/wxutopia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxutopia/subscriptions","organizations_url":"https://api.github.com/users/wxutopia/orgs","repos_url":"https://api.github.com/users/wxutopia/repos","events_url":"https://api.github.com/users/wxutopia/events{/privacy}","received_events_url":"https://api.github.com/users/wxutopia/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":109461219,"node_id":"MDU6TGFiZWwxMDk0NjEyMTk=","url":"https://api.github.com/repos/neovim/neovim/labels/platform:windows","name":"platform:windows","color":"d4c5f9","default":false,"description":null},{"id":435854234,"node_id":"MDU6TGFiZWw0MzU4NTQyMzQ=","url":"https://api.github.com/repos/neovim/neovim/labels/bug-crash","name":"bug-crash","color":"F9D0C4","default":false,"description":"issue reporting a crash or segfault"},{"id":4449264023,"node_id":"LA_kwDOAPphoM8AAAABCTJhlw","url":"https://api.github.com/repos/neovim/neovim/labels/editor-state","name":"editor-state","color":"C5DEF5","default":false,"description":"save/restore editor state: shada, context, ctx, sessions, mksession, undo, swap"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2025-09-20T11:49:27Z","updated_at":"2025-09-21T03:22:01Z","closed_at":null,"author_association":"NONE","type":{"id":597163,"node_id":"IT_kwDOAGK_Pc4ACRyr","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T10:10:19Z","updated_at":"2024-07-26T10:12:30Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Problem\n\nNeovim crashes after qutting, leaving its UI on terminal screen.\n\n<img width=\"726\" height=\"185\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b5bd3c44-f37e-4838-ac22-70545501d38d\" />\n\nEach time it crashes, I find there is a \"main.shada.tmp.a\" file in directory \"nvim-data\\shada\". After deleting this file, its UI disappears from terminal screen.\n\nWhere can I find neovim log files to find what caused the crash?\n\n### Steps to reproduce\n\nNone.\n\n### Expected behavior\n\nNone.\n\n### Nvim version (nvim -v)\n\nv0.11.4\n\n### Vim (not Nvim) behaves the same?\n\nVim is not installed.\n\n### Operating system/version\n\nWindows 11 26100.6584.\n\n### Terminal name/version\n\nWindows terminal 1.22.12111.0.\n\n### $TERM environment variable\n\nNot set.\n\n### Installation\n\nScop.","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/35846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/35846/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]