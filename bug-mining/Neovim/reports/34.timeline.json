[{"id":13790275524,"node_id":"LE_lADOAPphoM6SN-X6zwAAAAM19ufE","url":"https://api.github.com/repos/neovim/neovim/issues/events/13790275524","actor":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-07T10:27:36Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":13790275529,"node_id":"LE_lADOAPphoM6SN-X6zwAAAAM19ufJ","url":"https://api.github.com/repos/neovim/neovim/issues/events/13790275529","actor":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-07T10:27:36Z","label":{"name":"lsp","color":"c5def5"},"performed_via_github_app":null},{"id":13790366656,"node_id":"REFE_lADOAPphoM6SN-X6zwAAAAM1-EvA","url":"https://api.github.com/repos/neovim/neovim/issues/events/13790366656","actor":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"212e9e4138aefbc300e4c6645cebe8f7880a9cfe","commit_url":"https://api.github.com/repos/Gelio/neovim/commits/212e9e4138aefbc300e4c6645cebe8f7880a9cfe","created_at":"2024-08-07T10:35:16Z","performed_via_github_app":null},{"actor":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-07T10:37:49Z","updated_at":"2024-08-07T10:37:49Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/30002","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/30002/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/30002/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/30002/events","html_url":"https://github.com/neovim/neovim/pull/30002","id":2453156229,"node_id":"PR_kwDOAPphoM53se9m","number":30002,"title":"fix(lsp): avoid reusing diagnostics from different servers in actions","user":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":662566370,"node_id":"MDU6TGFiZWw2NjI1NjYzNzA=","url":"https://api.github.com/repos/neovim/neovim/labels/lsp","name":"lsp","color":"c5def5","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-08-07T10:37:48Z","updated_at":"2024-08-07T18:23:52Z","closed_at":"2024-08-07T15:28:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/30002","html_url":"https://github.com/neovim/neovim/pull/30002","diff_url":"https://github.com/neovim/neovim/pull/30002.diff","patch_url":"https://github.com/neovim/neovim/pull/30002.patch","merged_at":"2024-08-07T15:28:01Z"},"body":"Problem: When preparing the parameters for a code actions LSP request, the code set `context.diagnostics` when processing the first LSP client, and then reused those `context.diagnostics` for subsequent LSP clients.\r\n\r\nThis meant that the second and next LSP clients got diagnostics that did not originate from them. Moreover, they did not get the diagnostics that they sent. This prevented those servers from sending back the correct code actions.\r\n\r\nSolution: Avoid setting `context.diagnostics` (which is referenced by all clients). Instead, set `params.context.diagnostics` directly, which is specific to a single client.\r\n\r\nSee #30001 for reproduction steps.\r\n\r\nFixes #30001\r\nCaused by #29501\r\n\r\n## Before (on `master`)\r\n\r\n<img width=\"727\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4022eede-cc4d-438f-b0ff-b2e455bdff67\">\r\n\r\nNo code actions from ESLint.\r\n\r\n## After (on this PR)\r\n\r\n<img width=\"777\" alt=\"image\" src=\"https://github.com/user-attachments/assets/3e404803-fc5d-4dff-9acc-34a35f27c84d\">\r\n\r\nContains code actions from both ESLint and tsserver","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/30002/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/30002/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2273163026","html_url":"https://github.com/neovim/neovim/issues/30001#issuecomment-2273163026","issue_url":"https://api.github.com/repos/neovim/neovim/issues/30001","id":2273163026,"node_id":"IC_kwDOAPphoM6HfbcS","user":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-07T10:38:18Z","updated_at":"2024-08-07T10:38:18Z","body":"Since I already found the root cause, I created a PR with a fix: https://github.com/neovim/neovim/pull/30002","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2273163026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Gelio","id":889383,"node_id":"MDQ6VXNlcjg4OTM4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/889383?v=4","gravatar_id":"","url":"https://api.github.com/users/Gelio","html_url":"https://github.com/Gelio","followers_url":"https://api.github.com/users/Gelio/followers","following_url":"https://api.github.com/users/Gelio/following{/other_user}","gists_url":"https://api.github.com/users/Gelio/gists{/gist_id}","starred_url":"https://api.github.com/users/Gelio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gelio/subscriptions","organizations_url":"https://api.github.com/users/Gelio/orgs","repos_url":"https://api.github.com/users/Gelio/repos","events_url":"https://api.github.com/users/Gelio/events{/privacy}","received_events_url":"https://api.github.com/users/Gelio/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13794297924,"node_id":"CE_lADOAPphoM6SN-X6zwAAAAM2NEhE","url":"https://api.github.com/repos/neovim/neovim/issues/events/13794297924","actor":{"login":"mfussenegger","id":38700,"node_id":"MDQ6VXNlcjM4NzAw","avatar_url":"https://avatars.githubusercontent.com/u/38700?v=4","gravatar_id":"","url":"https://api.github.com/users/mfussenegger","html_url":"https://github.com/mfussenegger","followers_url":"https://api.github.com/users/mfussenegger/followers","following_url":"https://api.github.com/users/mfussenegger/following{/other_user}","gists_url":"https://api.github.com/users/mfussenegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mfussenegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfussenegger/subscriptions","organizations_url":"https://api.github.com/users/mfussenegger/orgs","repos_url":"https://api.github.com/users/mfussenegger/repos","events_url":"https://api.github.com/users/mfussenegger/events{/privacy}","received_events_url":"https://api.github.com/users/mfussenegger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-08-07T15:28:02Z","state_reason":null,"performed_via_github_app":null},{"id":13794297963,"node_id":"CE_lADOAPphoM6SN-X6zwAAAAM2NEhr","url":"https://api.github.com/repos/neovim/neovim/issues/events/13794297963","actor":{"login":"mfussenegger","id":38700,"node_id":"MDQ6VXNlcjM4NzAw","avatar_url":"https://avatars.githubusercontent.com/u/38700?v=4","gravatar_id":"","url":"https://api.github.com/users/mfussenegger","html_url":"https://github.com/mfussenegger","followers_url":"https://api.github.com/users/mfussenegger/followers","following_url":"https://api.github.com/users/mfussenegger/following{/other_user}","gists_url":"https://api.github.com/users/mfussenegger/gists{/gist_id}","starred_url":"https://api.github.com/users/mfussenegger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mfussenegger/subscriptions","organizations_url":"https://api.github.com/users/mfussenegger/orgs","repos_url":"https://api.github.com/users/mfussenegger/repos","events_url":"https://api.github.com/users/mfussenegger/events{/privacy}","received_events_url":"https://api.github.com/users/mfussenegger/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"7031949be065870f0daf74a9f1be3df47f83312c","commit_url":"https://api.github.com/repos/neovim/neovim/commits/7031949be065870f0daf74a9f1be3df47f83312c","created_at":"2024-08-07T15:28:02Z","state_reason":null,"performed_via_github_app":null},{"id":13794302805,"node_id":"REFE_lADOAPphoM6SN-X6zwAAAAM2NFtV","url":"https://api.github.com/repos/neovim/neovim/issues/events/13794302805","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"487b73b68e2d42e3b0761b7e6249d1543623274f","commit_url":"https://api.github.com/repos/neovim/neovim/commits/487b73b68e2d42e3b0761b7e6249d1543623274f","created_at":"2024-08-07T15:28:26Z","performed_via_github_app":null},{"id":13794767721,"node_id":"REFE_lADOAPphoM6SN-X6zwAAAAM2O3Np","url":"https://api.github.com/repos/neovim/neovim/issues/events/13794767721","actor":{"login":"silvercircle","id":815360,"node_id":"MDQ6VXNlcjgxNTM2MA==","avatar_url":"https://avatars.githubusercontent.com/u/815360?v=4","gravatar_id":"","url":"https://api.github.com/users/silvercircle","html_url":"https://github.com/silvercircle","followers_url":"https://api.github.com/users/silvercircle/followers","following_url":"https://api.github.com/users/silvercircle/following{/other_user}","gists_url":"https://api.github.com/users/silvercircle/gists{/gist_id}","starred_url":"https://api.github.com/users/silvercircle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silvercircle/subscriptions","organizations_url":"https://api.github.com/users/silvercircle/orgs","repos_url":"https://api.github.com/users/silvercircle/repos","events_url":"https://api.github.com/users/silvercircle/events{/privacy}","received_events_url":"https://api.github.com/users/silvercircle/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7031949be065870f0daf74a9f1be3df47f83312c","commit_url":"https://api.github.com/repos/silvercircle/neovim/commits/7031949be065870f0daf74a9f1be3df47f83312c","created_at":"2024-08-07T16:05:02Z","performed_via_github_app":null},{"id":13794819209,"node_id":"REFE_lADOAPphoM6SN-X6zwAAAAM2PDyJ","url":"https://api.github.com/repos/neovim/neovim/issues/events/13794819209","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"339067ab7e6388542778d5124d0b652a9f7bb439","commit_url":"https://api.github.com/repos/neovim/neovim/commits/339067ab7e6388542778d5124d0b652a9f7bb439","created_at":"2024-08-07T16:09:28Z","performed_via_github_app":null}]