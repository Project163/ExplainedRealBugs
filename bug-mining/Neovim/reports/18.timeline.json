[{"id":12298872329,"node_id":"LE_lADOAPphoM6EFqK9zwAAAALdEeYJ","url":"https://api.github.com/repos/neovim/neovim/issues/events/12298872329","actor":{"login":"TheBlob42","id":6849129,"node_id":"MDQ6VXNlcjY4NDkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/6849129?v=4","gravatar_id":"","url":"https://api.github.com/users/TheBlob42","html_url":"https://github.com/TheBlob42","followers_url":"https://api.github.com/users/TheBlob42/followers","following_url":"https://api.github.com/users/TheBlob42/following{/other_user}","gists_url":"https://api.github.com/users/TheBlob42/gists{/gist_id}","starred_url":"https://api.github.com/users/TheBlob42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheBlob42/subscriptions","organizations_url":"https://api.github.com/users/TheBlob42/orgs","repos_url":"https://api.github.com/users/TheBlob42/repos","events_url":"https://api.github.com/users/TheBlob42/events{/privacy}","received_events_url":"https://api.github.com/users/TheBlob42/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-29T23:10:18Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":12298880516,"node_id":"LE_lADOAPphoM6EFqK9zwAAAALdEgYE","url":"https://api.github.com/repos/neovim/neovim/issues/events/12298880516","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-29T23:13:27Z","label":{"name":"extmarks","color":"c5def5"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2027817595","html_url":"https://github.com/neovim/neovim/issues/28107#issuecomment-2027817595","issue_url":"https://api.github.com/repos/neovim/neovim/issues/28107","id":2027817595,"node_id":"IC_kwDOAPphoM543gp7","user":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-29T23:24:01Z","updated_at":"2024-03-29T23:31:07Z","body":"Related #26364 #26499 #26501","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2027817595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12298931102,"node_id":"REFE_lADOAPphoM6EFqK9zwAAAALdEsue","url":"https://api.github.com/repos/neovim/neovim/issues/events/12298931102","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3235c4ac447f24637e217d1b7723f07b297ecf50","commit_url":"https://api.github.com/repos/zeertzjq/neovim/commits/3235c4ac447f24637e217d1b7723f07b297ecf50","created_at":"2024-03-29T23:32:36Z","performed_via_github_app":null},{"actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-29T23:32:43Z","updated_at":"2024-03-29T23:32:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/28108","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/28108/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/28108/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/28108/events","html_url":"https://github.com/neovim/neovim/pull/28108","id":2216086009,"node_id":"PR_kwDOAPphoM5rNM5q","number":28108,"title":"fix(extmarks): splice earlier when opening new line","user":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1680119719,"node_id":"MDU6TGFiZWwxNjgwMTE5NzE5","url":"https://api.github.com/repos/neovim/neovim/labels/marks","name":"marks","color":"c5def5","default":false,"description":"marks, extmarks, decorations, virtual text"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-03-29T23:32:42Z","updated_at":"2024-03-30T00:08:51Z","closed_at":"2024-03-30T00:05:37Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/28108","html_url":"https://github.com/neovim/neovim/pull/28108","diff_url":"https://github.com/neovim/neovim/pull/28108.diff","patch_url":"https://github.com/neovim/neovim/pull/28108.patch","merged_at":"2024-03-30T00:05:37Z"},"body":"Related #26364 #26499 #26501\nFix #28107\n","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/28108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/28108/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12298967652,"node_id":"REFE_lADOAPphoM6EFqK9zwAAAALdE1pk","url":"https://api.github.com/repos/neovim/neovim/issues/events/12298967652","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ae5b2ad1ab5de26168c1782aa9cf5ebf8c76390c","commit_url":"https://api.github.com/repos/zeertzjq/neovim/commits/ae5b2ad1ab5de26168c1782aa9cf5ebf8c76390c","created_at":"2024-03-29T23:48:40Z","performed_via_github_app":null},{"id":12298969209,"node_id":"REFE_lADOAPphoM6EFqK9zwAAAALdE2B5","url":"https://api.github.com/repos/neovim/neovim/issues/events/12298969209","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f92f9d99f38225ba282ab3529942f057a7e4866f","commit_url":"https://api.github.com/repos/zeertzjq/neovim/commits/f92f9d99f38225ba282ab3529942f057a7e4866f","created_at":"2024-03-29T23:49:27Z","performed_via_github_app":null},{"id":12299013831,"node_id":"CE_lADOAPphoM6EFqK9zwAAAALdFA7H","url":"https://api.github.com/repos/neovim/neovim/issues/events/12299013831","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-30T00:05:38Z","state_reason":null,"performed_via_github_app":null},{"id":12299013913,"node_id":"REFE_lADOAPphoM6EFqK9zwAAAALdFA8Z","url":"https://api.github.com/repos/neovim/neovim/issues/events/12299013913","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"19d63563e1cceabbf8603d0abb2e88fae5bd3626","commit_url":"https://api.github.com/repos/neovim/neovim/commits/19d63563e1cceabbf8603d0abb2e88fae5bd3626","created_at":"2024-03-30T00:05:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2028001506","html_url":"https://github.com/neovim/neovim/issues/28107#issuecomment-2028001506","issue_url":"https://api.github.com/repos/neovim/neovim/issues/28107","id":2028001506,"node_id":"IC_kwDOAPphoM544Nji","user":{"login":"TheBlob42","id":6849129,"node_id":"MDQ6VXNlcjY4NDkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/6849129?v=4","gravatar_id":"","url":"https://api.github.com/users/TheBlob42","html_url":"https://github.com/TheBlob42","followers_url":"https://api.github.com/users/TheBlob42/followers","following_url":"https://api.github.com/users/TheBlob42/following{/other_user}","gists_url":"https://api.github.com/users/TheBlob42/gists{/gist_id}","starred_url":"https://api.github.com/users/TheBlob42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheBlob42/subscriptions","organizations_url":"https://api.github.com/users/TheBlob42/orgs","repos_url":"https://api.github.com/users/TheBlob42/repos","events_url":"https://api.github.com/users/TheBlob42/events{/privacy}","received_events_url":"https://api.github.com/users/TheBlob42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-30T10:10:26Z","updated_at":"2024-03-30T10:10:26Z","body":"Thank you for the super fast fix :heart:\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2028001506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheBlob42","id":6849129,"node_id":"MDQ6VXNlcjY4NDkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/6849129?v=4","gravatar_id":"","url":"https://api.github.com/users/TheBlob42","html_url":"https://github.com/TheBlob42","followers_url":"https://api.github.com/users/TheBlob42/followers","following_url":"https://api.github.com/users/TheBlob42/following{/other_user}","gists_url":"https://api.github.com/users/TheBlob42/gists{/gist_id}","starred_url":"https://api.github.com/users/TheBlob42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheBlob42/subscriptions","organizations_url":"https://api.github.com/users/TheBlob42/orgs","repos_url":"https://api.github.com/users/TheBlob42/repos","events_url":"https://api.github.com/users/TheBlob42/events{/privacy}","received_events_url":"https://api.github.com/users/TheBlob42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"TheBlob42","id":6849129,"node_id":"MDQ6VXNlcjY4NDkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/6849129?v=4","gravatar_id":"","url":"https://api.github.com/users/TheBlob42","html_url":"https://github.com/TheBlob42","followers_url":"https://api.github.com/users/TheBlob42/followers","following_url":"https://api.github.com/users/TheBlob42/following{/other_user}","gists_url":"https://api.github.com/users/TheBlob42/gists{/gist_id}","starred_url":"https://api.github.com/users/TheBlob42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheBlob42/subscriptions","organizations_url":"https://api.github.com/users/TheBlob42/orgs","repos_url":"https://api.github.com/users/TheBlob42/repos","events_url":"https://api.github.com/users/TheBlob42/events{/privacy}","received_events_url":"https://api.github.com/users/TheBlob42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-17T12:05:38Z","updated_at":"2024-05-17T12:05:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/28811","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/28811/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/28811/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/28811/events","html_url":"https://github.com/neovim/neovim/issues/28811","id":2302571587,"node_id":"I_kwDOAPphoM6JPnRD","number":28811,"title":"Extmarks not updated correctly in nvim_buf_attach on_lines event when using `:m`","user":{"login":"TheBlob42","id":6849129,"node_id":"MDQ6VXNlcjY4NDkxMjk=","avatar_url":"https://avatars.githubusercontent.com/u/6849129?v=4","gravatar_id":"","url":"https://api.github.com/users/TheBlob42","html_url":"https://github.com/TheBlob42","followers_url":"https://api.github.com/users/TheBlob42/followers","following_url":"https://api.github.com/users/TheBlob42/following{/other_user}","gists_url":"https://api.github.com/users/TheBlob42/gists{/gist_id}","starred_url":"https://api.github.com/users/TheBlob42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheBlob42/subscriptions","organizations_url":"https://api.github.com/users/TheBlob42/orgs","repos_url":"https://api.github.com/users/TheBlob42/repos","events_url":"https://api.github.com/users/TheBlob42/events{/privacy}","received_events_url":"https://api.github.com/users/TheBlob42/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1680119719,"node_id":"MDU6TGFiZWwxNjgwMTE5NzE5","url":"https://api.github.com/repos/neovim/neovim/labels/marks","name":"marks","color":"c5def5","default":false,"description":"marks, extmarks, decorations, virtual text"},{"id":3341085842,"node_id":"MDU6TGFiZWwzMzQxMDg1ODQy","url":"https://api.github.com/repos/neovim/neovim/labels/events","name":"events","color":"C5DEF5","default":false,"description":"events, autocommands"},{"id":4449264023,"node_id":"LA_kwDOAPphoM8AAAABCTJhlw","url":"https://api.github.com/repos/neovim/neovim/labels/editor-state","name":"editor-state","color":"C5DEF5","default":false,"description":"save/restore editor state: shada, context, ctx, sessions, mksession, undo, swap"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-05-17T12:05:38Z","updated_at":"2025-08-30T16:11:28Z","closed_at":null,"author_association":"CONTRIBUTOR","type":{"id":597163,"node_id":"IT_kwDOAGK_Pc4ACRyr","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T10:10:19Z","updated_at":"2024-07-26T10:12:30Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Problem\n\nSetting extmarks in the `on_lines` event of `nvim_buf_attach` for the updated lines results in wrong results when lines are moved via the `:m` command (e.g. `:m .+2`). When \"moving\" the line by cutting and pasting these problems do not occur, so it seems like specifically related to the `:m` command.\r\n\r\nWrapping the code for clearing the namespace and setting the extmarks into `vim.schedule(...)` makes it work.\r\n\r\nMaybe this is related to #28107 \n\n### Steps to reproduce\n\nUse the following `minimal.lua` file:\r\n\r\n```lua\r\nlocal ns = vim.api.nvim_create_namespace('test')\r\nvim.api.nvim_buf_attach(0, false, {\r\n        on_lines = function(_,_,_,fl,_,llu)\r\n            vim.print(fl .. ':' .. llu)\r\n\r\n            vim.api.nvim_buf_clear_namespace(0, ns, fl, llu)\r\n\r\n            for i = fl, llu - 1 do\r\n                local first_char = vim.api.nvim_buf_get_lines(0, i, i + 1, false)[1]:sub(1, 1)\r\n                vim.api.nvim_buf_set_extmark(0, ns, i, 0, {\r\n                    virt_text = {{ first_char, 'WarningMsg' }},\r\n                })\r\n            end\r\n        end\r\n    }\r\n)\r\n\r\n```\r\n\r\n- start neovim using `nvim -u NONE minimal.lua`\r\n- source the `minimal.lua` file using `source %`\r\n- add a few new rows\r\n    - every new row contains an extmark displaying first char of the line (only for demonstration purposes)\r\n- move one of the new lines up or down using the `:m` command (e.g. `:m .+3`)\r\n    - the adjacent line to the moved line has the same (incorrect) extmark\r\n    - the others have been updated accordingly\r\n\r\n![nvim_extmarks](https://github.com/neovim/neovim/assets/6849129/22d0c2dc-acfd-4f57-9eca-129662e7eaaa)\r\n\n\n### Expected behavior\n\nThe extmarks are all updated correctly even when using the `:m` command\n\n### Neovim version (nvim -v)\n\n0.10.0\n\n### Vim (not Nvim) behaves the same?\n\nnot applicable\n\n### Operating system/version\n\nUbuntu 20.04.6 LTS\n\n### Terminal name/version\n\nGNOME Terminal 3.36.2\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nappimage","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/28811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/28811/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12995287866,"node_id":"REFE_lADOAPphoM6EFqK9zwAAAAMGlFs6","url":"https://api.github.com/repos/neovim/neovim/issues/events/12995287866","actor":{"login":"huangyingw","id":91757,"node_id":"MDQ6VXNlcjkxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/91757?v=4","gravatar_id":"","url":"https://api.github.com/users/huangyingw","html_url":"https://github.com/huangyingw","followers_url":"https://api.github.com/users/huangyingw/followers","following_url":"https://api.github.com/users/huangyingw/following{/other_user}","gists_url":"https://api.github.com/users/huangyingw/gists{/gist_id}","starred_url":"https://api.github.com/users/huangyingw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangyingw/subscriptions","organizations_url":"https://api.github.com/users/huangyingw/orgs","repos_url":"https://api.github.com/users/huangyingw/repos","events_url":"https://api.github.com/users/huangyingw/events{/privacy}","received_events_url":"https://api.github.com/users/huangyingw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"601ce2edacc0f11906f925ad5035041306234ccf","commit_url":"https://api.github.com/repos/huangyingw/neovim/commits/601ce2edacc0f11906f925ad5035041306234ccf","created_at":"2024-05-31T06:18:23Z","performed_via_github_app":null}]