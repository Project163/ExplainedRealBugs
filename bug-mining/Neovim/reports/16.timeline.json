[{"id":12142107086,"node_id":"LE_lADOAPphoM6CkJSYzwAAAALTudnO","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142107086","actor":{"login":"amaanq","id":29718261,"node_id":"MDQ6VXNlcjI5NzE4MjYx","avatar_url":"https://avatars.githubusercontent.com/u/29718261?v=4","gravatar_id":"","url":"https://api.github.com/users/amaanq","html_url":"https://github.com/amaanq","followers_url":"https://api.github.com/users/amaanq/followers","following_url":"https://api.github.com/users/amaanq/following{/other_user}","gists_url":"https://api.github.com/users/amaanq/gists{/gist_id}","starred_url":"https://api.github.com/users/amaanq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amaanq/subscriptions","organizations_url":"https://api.github.com/users/amaanq/orgs","repos_url":"https://api.github.com/users/amaanq/repos","events_url":"https://api.github.com/users/amaanq/events{/privacy}","received_events_url":"https://api.github.com/users/amaanq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:01:18Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":12142109579,"node_id":"UNLE_lADOAPphoM6CkJSYzwAAAALTueOL","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142109579","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:03:16Z","label":{"name":"bug","color":"f9d0c4"},"performed_via_github_app":null},{"id":12142109583,"node_id":"LE_lADOAPphoM6CkJSYzwAAAALTueOP","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142109583","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:03:16Z","label":{"name":"bug-regression","color":"f9d0c4"},"performed_via_github_app":null},{"id":12142109587,"node_id":"LE_lADOAPphoM6CkJSYzwAAAALTueOT","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142109587","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:03:16Z","label":{"name":"treesitter","color":"c5def5"},"performed_via_github_app":null},{"id":12142109986,"node_id":"AE_lADOAPphoM6CkJSYzwAAAALTueUi","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142109986","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:03:27Z","assignee":{"login":"gpanders","id":8965202,"node_id":"MDQ6VXNlcjg5NjUyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8965202?v=4","gravatar_id":"","url":"https://api.github.com/users/gpanders","html_url":"https://github.com/gpanders","followers_url":"https://api.github.com/users/gpanders/followers","following_url":"https://api.github.com/users/gpanders/following{/other_user}","gists_url":"https://api.github.com/users/gpanders/gists{/gist_id}","starred_url":"https://api.github.com/users/gpanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpanders/subscriptions","organizations_url":"https://api.github.com/users/gpanders/orgs","repos_url":"https://api.github.com/users/gpanders/repos","events_url":"https://api.github.com/users/gpanders/events{/privacy}","received_events_url":"https://api.github.com/users/gpanders/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":12142109991,"node_id":"AE_lADOAPphoM6CkJSYzwAAAALTueUn","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142109991","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:03:27Z","assignee":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":12142117738,"node_id":"LE_lADOAPphoM6CkJSYzwAAAALTugNq","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142117738","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:08:00Z","label":{"name":"has:bisected","color":"0E8A16"},"performed_via_github_app":null},{"id":12142117791,"node_id":"MIE_lADOAPphoM6CkJSYzwAAAALTugOf","url":"https://api.github.com/repos/neovim/neovim/issues/events/12142117791","actor":{"login":"zeertzjq","id":35768171,"node_id":"MDQ6VXNlcjM1NzY4MTcx","avatar_url":"https://avatars.githubusercontent.com/u/35768171?v=4","gravatar_id":"","url":"https://api.github.com/users/zeertzjq","html_url":"https://github.com/zeertzjq","followers_url":"https://api.github.com/users/zeertzjq/followers","following_url":"https://api.github.com/users/zeertzjq/following{/other_user}","gists_url":"https://api.github.com/users/zeertzjq/gists{/gist_id}","starred_url":"https://api.github.com/users/zeertzjq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeertzjq/subscriptions","organizations_url":"https://api.github.com/users/zeertzjq/orgs","repos_url":"https://api.github.com/users/zeertzjq/repos","events_url":"https://api.github.com/users/zeertzjq/events{/privacy}","received_events_url":"https://api.github.com/users/zeertzjq/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2024-03-17T07:08:03Z","milestone":{"title":"0.10"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002385786","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002385786","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002385786,"node_id":"IC_kwDOAPphoM53Wft6","user":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T09:50:03Z","updated_at":"2024-03-17T09:52:32Z","body":"This is most definitely because we've switched from iter_captures to iter_matches.\n\n\nI don't think this is intended. We can add the repro steps as a testcase to prevent this happening again, but I'm surprised our current tests don't capture this in some way.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002385786/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002396465","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002396465","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002396465,"node_id":"IC_kwDOAPphoM53WiUx","user":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T10:23:55Z","updated_at":"2024-03-17T10:23:55Z","body":"- \"Mom, can we get more treesitter tests?\"\r\n- \"We have treesitter tests at home\".\r\n\r\n[treesitter tests at home](https://github.com/nvim-treesitter/nvim-treesitter)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002396465/reactions","total_count":3,"+1":0,"-1":0,"laugh":3,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002517908","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002517908","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002517908,"node_id":"IC_kwDOAPphoM53W_-U","user":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T15:56:43Z","updated_at":"2024-03-17T15:56:43Z","body":"> - \"Mom, can we get more treesitter tests?\"\n> - \"We have treesitter tests at home\".\n> \n> [treesitter tests at home](https://github.com/nvim-treesitter/nvim-treesitter)\n\nIn that case, would it be worth adding nvim-treesitters CI to Neovim's CI? It would certainly boost coverage.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002517908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002522085","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002522085","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002522085,"node_id":"IC_kwDOAPphoM53XA_l","user":{"login":"gpanders","id":8965202,"node_id":"MDQ6VXNlcjg5NjUyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8965202?v=4","gravatar_id":"","url":"https://api.github.com/users/gpanders","html_url":"https://github.com/gpanders","followers_url":"https://api.github.com/users/gpanders/followers","following_url":"https://api.github.com/users/gpanders/following{/other_user}","gists_url":"https://api.github.com/users/gpanders/gists{/gist_id}","starred_url":"https://api.github.com/users/gpanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpanders/subscriptions","organizations_url":"https://api.github.com/users/gpanders/orgs","repos_url":"https://api.github.com/users/gpanders/repos","events_url":"https://api.github.com/users/gpanders/events{/privacy}","received_events_url":"https://api.github.com/users/gpanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T16:00:20Z","updated_at":"2024-03-17T16:00:20Z","body":"How did this even work before with `iter_captures`? Does `ts_query_cursor_next_capture` order iterated nodes based on \"specificity\"? As far as I can tell, we are not doing anything on the Neovim side to do this ordering. The old highlighter that use `iter_captures` just applied extmarks in the exact order returned from the iterator.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002522085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gpanders","id":8965202,"node_id":"MDQ6VXNlcjg5NjUyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8965202?v=4","gravatar_id":"","url":"https://api.github.com/users/gpanders","html_url":"https://github.com/gpanders","followers_url":"https://api.github.com/users/gpanders/followers","following_url":"https://api.github.com/users/gpanders/following{/other_user}","gists_url":"https://api.github.com/users/gpanders/gists{/gist_id}","starred_url":"https://api.github.com/users/gpanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpanders/subscriptions","organizations_url":"https://api.github.com/users/gpanders/orgs","repos_url":"https://api.github.com/users/gpanders/repos","events_url":"https://api.github.com/users/gpanders/events{/privacy}","received_events_url":"https://api.github.com/users/gpanders/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002522840","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002522840","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002522840,"node_id":"IC_kwDOAPphoM53XBLY","user":{"login":"gpanders","id":8965202,"node_id":"MDQ6VXNlcjg5NjUyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8965202?v=4","gravatar_id":"","url":"https://api.github.com/users/gpanders","html_url":"https://github.com/gpanders","followers_url":"https://api.github.com/users/gpanders/followers","following_url":"https://api.github.com/users/gpanders/following{/other_user}","gists_url":"https://api.github.com/users/gpanders/gists{/gist_id}","starred_url":"https://api.github.com/users/gpanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpanders/subscriptions","organizations_url":"https://api.github.com/users/gpanders/orgs","repos_url":"https://api.github.com/users/gpanders/repos","events_url":"https://api.github.com/users/gpanders/events{/privacy}","received_events_url":"https://api.github.com/users/gpanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T16:01:53Z","updated_at":"2024-03-17T16:01:53Z","body":">It'd also be fine to just not consider specificity anymore, that's totally fine but some queries need to be reworked then (e.g. some of C's highlights) and this should be documented to avoid further confusion\r\n\r\nI do think we should do this too and make the order defined in the query the only thing that influences priority. Having two separate metrics that influence priority is confusing. But in the interest of supporting BWC we should still fix this in the meantime.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002522840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gpanders","id":8965202,"node_id":"MDQ6VXNlcjg5NjUyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8965202?v=4","gravatar_id":"","url":"https://api.github.com/users/gpanders","html_url":"https://github.com/gpanders","followers_url":"https://api.github.com/users/gpanders/followers","following_url":"https://api.github.com/users/gpanders/following{/other_user}","gists_url":"https://api.github.com/users/gpanders/gists{/gist_id}","starred_url":"https://api.github.com/users/gpanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gpanders/subscriptions","organizations_url":"https://api.github.com/users/gpanders/orgs","repos_url":"https://api.github.com/users/gpanders/repos","events_url":"https://api.github.com/users/gpanders/events{/privacy}","received_events_url":"https://api.github.com/users/gpanders/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002529090","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002529090","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002529090,"node_id":"IC_kwDOAPphoM53XCtC","user":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T16:23:09Z","updated_at":"2024-03-17T16:23:09Z","body":"> In that case, would it be worth adding nvim-treesitters CI to Neovim's CI? It would certainly boost coverage.\r\n\r\nActually, I'd claim we should do the converse: add a treesitter highlight test suite (mirroring `tree-sitter test`, but using our highlighter instead of the Rust crate -- either tree-sitter's or theHamsta's) exercising the bundled queries and expose it in a way that nvim-treesitter can ~~steal~~ leverage.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002529090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"clason","id":2361214,"node_id":"MDQ6VXNlcjIzNjEyMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2361214?v=4","gravatar_id":"","url":"https://api.github.com/users/clason","html_url":"https://github.com/clason","followers_url":"https://api.github.com/users/clason/followers","following_url":"https://api.github.com/users/clason/following{/other_user}","gists_url":"https://api.github.com/users/clason/gists{/gist_id}","starred_url":"https://api.github.com/users/clason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clason/subscriptions","organizations_url":"https://api.github.com/users/clason/orgs","repos_url":"https://api.github.com/users/clason/repos","events_url":"https://api.github.com/users/clason/events{/privacy}","received_events_url":"https://api.github.com/users/clason/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002545855","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002545855","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002545855,"node_id":"IC_kwDOAPphoM53XGy_","user":{"login":"lucario387","id":29790821,"node_id":"MDQ6VXNlcjI5NzkwODIx","avatar_url":"https://avatars.githubusercontent.com/u/29790821?v=4","gravatar_id":"","url":"https://api.github.com/users/lucario387","html_url":"https://github.com/lucario387","followers_url":"https://api.github.com/users/lucario387/followers","following_url":"https://api.github.com/users/lucario387/following{/other_user}","gists_url":"https://api.github.com/users/lucario387/gists{/gist_id}","starred_url":"https://api.github.com/users/lucario387/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucario387/subscriptions","organizations_url":"https://api.github.com/users/lucario387/orgs","repos_url":"https://api.github.com/users/lucario387/repos","events_url":"https://api.github.com/users/lucario387/events{/privacy}","received_events_url":"https://api.github.com/users/lucario387/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T17:23:30Z","updated_at":"2024-03-17T17:23:30Z","body":"> How did this even work before with iter_captures\n\niter_captures return the results based on the order of a node in the tree, so the outer appears before the inner and so on ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002545855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucario387","id":29790821,"node_id":"MDQ6VXNlcjI5NzkwODIx","avatar_url":"https://avatars.githubusercontent.com/u/29790821?v=4","gravatar_id":"","url":"https://api.github.com/users/lucario387","html_url":"https://github.com/lucario387","followers_url":"https://api.github.com/users/lucario387/followers","following_url":"https://api.github.com/users/lucario387/following{/other_user}","gists_url":"https://api.github.com/users/lucario387/gists{/gist_id}","starred_url":"https://api.github.com/users/lucario387/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucario387/subscriptions","organizations_url":"https://api.github.com/users/lucario387/orgs","repos_url":"https://api.github.com/users/lucario387/repos","events_url":"https://api.github.com/users/lucario387/events{/privacy}","received_events_url":"https://api.github.com/users/lucario387/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12143596277,"node_id":"REFE_lADOAPphoM6CkJSYzwAAAALT0JL1","url":"https://api.github.com/repos/neovim/neovim/issues/events/12143596277","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e87bda57e0a6963a2cbf53700b18305b0df5659a","commit_url":"https://api.github.com/repos/lewis6991/neovim/commits/e87bda57e0a6963a2cbf53700b18305b0df5659a","created_at":"2024-03-17T18:05:35Z","performed_via_github_app":null},{"actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T18:05:35Z","updated_at":"2024-03-17T18:05:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27901","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27901/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27901/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27901/events","html_url":"https://github.com/neovim/neovim/pull/27901","id":2190789628,"node_id":"PR_kwDOAPphoM5p3doG","number":27901,"title":"fix(treesitter): revert to using iter_captures in highlighter","user":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1799626557,"node_id":"MDU6TGFiZWwxNzk5NjI2NTU3","url":"https://api.github.com/repos/neovim/neovim/labels/treesitter","name":"treesitter","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-03-17T18:05:34Z","updated_at":"2024-07-29T09:29:12Z","closed_at":"2024-03-17T20:37:15Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/27901","html_url":"https://github.com/neovim/neovim/pull/27901","diff_url":"https://github.com/neovim/neovim/pull/27901.diff","patch_url":"https://github.com/neovim/neovim/pull/27901.patch","merged_at":"2024-03-17T20:37:15Z"},"body":"Fixes #27895\n","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27901/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27901/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":12143609294,"node_id":"REFE_lADOAPphoM6CkJSYzwAAAALT0MXO","url":"https://api.github.com/repos/neovim/neovim/issues/events/12143609294","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b8fbb53581476e4a5d304240b595d4c4c2dbc122","commit_url":"https://api.github.com/repos/lewis6991/neovim/commits/b8fbb53581476e4a5d304240b595d4c4c2dbc122","created_at":"2024-03-17T18:11:36Z","performed_via_github_app":null},{"id":12143670153,"node_id":"REFE_lADOAPphoM6CkJSYzwAAAALT0bOJ","url":"https://api.github.com/repos/neovim/neovim/issues/events/12143670153","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"23ae10d4a615ba84ed7534b8caf217845922671f","commit_url":"https://api.github.com/repos/lewis6991/neovim/commits/23ae10d4a615ba84ed7534b8caf217845922671f","created_at":"2024-03-17T18:37:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002573317","html_url":"https://github.com/neovim/neovim/issues/27895#issuecomment-2002573317","issue_url":"https://api.github.com/repos/neovim/neovim/issues/27895","id":2002573317,"node_id":"IC_kwDOAPphoM53XNgF","user":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T18:38:53Z","updated_at":"2024-03-17T18:39:15Z","body":"The repro in the OP actually caused the highlighter to error when I added it as a testcase. Haven't got time to debug, but using `iter_captures` as before works fine.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/comments/2002573317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":12143986100,"node_id":"CE_lADOAPphoM6CkJSYzwAAAALT1oW0","url":"https://api.github.com/repos/neovim/neovim/issues/events/12143986100","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-03-17T20:37:17Z","state_reason":null,"performed_via_github_app":null},{"id":12143986104,"node_id":"REFE_lADOAPphoM6CkJSYzwAAAALT1oW4","url":"https://api.github.com/repos/neovim/neovim/issues/events/12143986104","actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3b29b39e6deb212456eba691bc79b17edaa8717b","commit_url":"https://api.github.com/repos/neovim/neovim/commits/3b29b39e6deb212456eba691bc79b17edaa8717b","created_at":"2024-03-17T20:37:17Z","performed_via_github_app":null},{"actor":{"login":"lewis6991","id":7904185,"node_id":"MDQ6VXNlcjc5MDQxODU=","avatar_url":"https://avatars.githubusercontent.com/u/7904185?v=4","gravatar_id":"","url":"https://api.github.com/users/lewis6991","html_url":"https://github.com/lewis6991","followers_url":"https://api.github.com/users/lewis6991/followers","following_url":"https://api.github.com/users/lewis6991/following{/other_user}","gists_url":"https://api.github.com/users/lewis6991/gists{/gist_id}","starred_url":"https://api.github.com/users/lewis6991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lewis6991/subscriptions","organizations_url":"https://api.github.com/users/lewis6991/orgs","repos_url":"https://api.github.com/users/lewis6991/repos","events_url":"https://api.github.com/users/lewis6991/events{/privacy}","received_events_url":"https://api.github.com/users/lewis6991/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-17T22:47:02Z","updated_at":"2024-03-17T22:47:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/neovim/neovim/issues/27274","repository_url":"https://api.github.com/repos/neovim/neovim","labels_url":"https://api.github.com/repos/neovim/neovim/issues/27274/labels{/name}","comments_url":"https://api.github.com/repos/neovim/neovim/issues/27274/comments","events_url":"https://api.github.com/repos/neovim/neovim/issues/27274/events","html_url":"https://github.com/neovim/neovim/pull/27274","id":2109383558,"node_id":"PR_kwDOAPphoM5liGOb","number":27274,"title":"fix(treesitter): make iter_captures() return a correct match table","user":{"login":"wookayin","id":1009873,"node_id":"MDQ6VXNlcjEwMDk4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1009873?v=4","gravatar_id":"","url":"https://api.github.com/users/wookayin","html_url":"https://github.com/wookayin","followers_url":"https://api.github.com/users/wookayin/followers","following_url":"https://api.github.com/users/wookayin/following{/other_user}","gists_url":"https://api.github.com/users/wookayin/gists{/gist_id}","starred_url":"https://api.github.com/users/wookayin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wookayin/subscriptions","organizations_url":"https://api.github.com/users/wookayin/orgs","repos_url":"https://api.github.com/users/wookayin/repos","events_url":"https://api.github.com/users/wookayin/events{/privacy}","received_events_url":"https://api.github.com/users/wookayin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1799626557,"node_id":"MDU6TGFiZWwxNzk5NjI2NTU3","url":"https://api.github.com/repos/neovim/neovim/labels/treesitter","name":"treesitter","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-01-31T06:30:42Z","updated_at":"2024-05-03T04:50:50Z","closed_at":"2024-05-03T04:49:44Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":true,"repository":{"id":16408992,"node_id":"MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==","name":"neovim","full_name":"neovim/neovim","private":false,"owner":{"login":"neovim","id":6471485,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=","avatar_url":"https://avatars.githubusercontent.com/u/6471485?v=4","gravatar_id":"","url":"https://api.github.com/users/neovim","html_url":"https://github.com/neovim","followers_url":"https://api.github.com/users/neovim/followers","following_url":"https://api.github.com/users/neovim/following{/other_user}","gists_url":"https://api.github.com/users/neovim/gists{/gist_id}","starred_url":"https://api.github.com/users/neovim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neovim/subscriptions","organizations_url":"https://api.github.com/users/neovim/orgs","repos_url":"https://api.github.com/users/neovim/repos","events_url":"https://api.github.com/users/neovim/events{/privacy}","received_events_url":"https://api.github.com/users/neovim/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/neovim/neovim","description":"Vim-fork focused on extensibility and usability","fork":false,"url":"https://api.github.com/repos/neovim/neovim","forks_url":"https://api.github.com/repos/neovim/neovim/forks","keys_url":"https://api.github.com/repos/neovim/neovim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/neovim/neovim/teams","hooks_url":"https://api.github.com/repos/neovim/neovim/hooks","issue_events_url":"https://api.github.com/repos/neovim/neovim/issues/events{/number}","events_url":"https://api.github.com/repos/neovim/neovim/events","assignees_url":"https://api.github.com/repos/neovim/neovim/assignees{/user}","branches_url":"https://api.github.com/repos/neovim/neovim/branches{/branch}","tags_url":"https://api.github.com/repos/neovim/neovim/tags","blobs_url":"https://api.github.com/repos/neovim/neovim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/neovim/neovim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/neovim/neovim/git/refs{/sha}","trees_url":"https://api.github.com/repos/neovim/neovim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/neovim/neovim/statuses/{sha}","languages_url":"https://api.github.com/repos/neovim/neovim/languages","stargazers_url":"https://api.github.com/repos/neovim/neovim/stargazers","contributors_url":"https://api.github.com/repos/neovim/neovim/contributors","subscribers_url":"https://api.github.com/repos/neovim/neovim/subscribers","subscription_url":"https://api.github.com/repos/neovim/neovim/subscription","commits_url":"https://api.github.com/repos/neovim/neovim/commits{/sha}","git_commits_url":"https://api.github.com/repos/neovim/neovim/git/commits{/sha}","comments_url":"https://api.github.com/repos/neovim/neovim/comments{/number}","issue_comment_url":"https://api.github.com/repos/neovim/neovim/issues/comments{/number}","contents_url":"https://api.github.com/repos/neovim/neovim/contents/{+path}","compare_url":"https://api.github.com/repos/neovim/neovim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/neovim/neovim/merges","archive_url":"https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/neovim/neovim/downloads","issues_url":"https://api.github.com/repos/neovim/neovim/issues{/number}","pulls_url":"https://api.github.com/repos/neovim/neovim/pulls{/number}","milestones_url":"https://api.github.com/repos/neovim/neovim/milestones{/number}","notifications_url":"https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/neovim/neovim/labels{/name}","releases_url":"https://api.github.com/repos/neovim/neovim/releases{/id}","deployments_url":"https://api.github.com/repos/neovim/neovim/deployments","created_at":"2014-01-31T13:39:22Z","updated_at":"2025-11-10T01:49:31Z","pushed_at":"2025-11-10T01:49:25Z","git_url":"git://github.com/neovim/neovim.git","ssh_url":"git@github.com:neovim/neovim.git","clone_url":"https://github.com/neovim/neovim.git","svn_url":"https://github.com/neovim/neovim","homepage":"https://neovim.io","size":350662,"stargazers_count":94128,"watchers_count":94128,"language":"Vim Script","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6408,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2074,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api","c","lua","neovim","nvim","text-editor","vim"],"visibility":"public","forks":6408,"open_issues":2074,"watchers":94128,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/neovim/neovim/pulls/27274","html_url":"https://github.com/neovim/neovim/pull/27274","diff_url":"https://github.com/neovim/neovim/pull/27274.diff","patch_url":"https://github.com/neovim/neovim/pull/27274.patch","merged_at":null},"body":"Should fix #27239, and fix #23664.\r\n\r\n### Problem\r\n\r\n- When a predicate filters out a match, non-first captures may not be\r\n  correctly excluded (#27239).\r\n- `Query:iter_captures()` does not yield correct a metadata table for\r\n  non-first captures (#23664).\r\n\r\n### Analysis & Solution\r\n\r\nThis PR is still a very early draft and will be rewritten several times.\r\nUntil things are settled down, please refer to the commit message for\r\ndetails and remaining TODOs: \r\n\r\n> \"fix(treesitter): make iter_captures() return a correct match table\"\r\n\r\n### Current Status\r\n\r\n* ~~was blocked by #27194~~: will rebase\r\n* I realized that correctness and identity of `match` table are non-trivial. See https://github.com/neovim/neovim/pull/27274#discussion_r1473335027\r\n\r\n### Related issues\r\n\r\n- #27194 needs to be merged first to avoid a conflict.\r\n\r\n- #17099, #24738: rewrites iter_matches() to correctly handle quantifiers.\r\n  - The scope is different: this PR fixes `iter_captures()` whereas 24738 fixes `iter_matches()`, correcting `match` table to contain a list of `TSNode`s instead of a single `TSNode` (see `set_match()`)\r\n  - But a part 24738 make a similar change: `match` should return a different table for each distinct match.\r\n\r\n- #27132 can also benefit from this fix if it decides to use `iter_captures()` instead of `iter_matches()`.","reactions":{"url":"https://api.github.com/repos/neovim/neovim/issues/27274/reactions","total_count":6,"+1":1,"-1":0,"laugh":1,"hooray":2,"confused":0,"heart":0,"rocket":2,"eyes":0},"timeline_url":"https://api.github.com/repos/neovim/neovim/issues/27274/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]