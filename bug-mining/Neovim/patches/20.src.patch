diff --git a/.github/workflows/test.yml b/.github/workflows/test.yml
index d7af975748..d0ee18ab73 100644
--- a/.github/workflows/test.yml
+++ b/.github/workflows/test.yml
@@ -114,8 +114,6 @@ jobs:
             build: { flavor: tsan }
           - test: unittest
             build: { flavor: puc-lua }
-          - test: unittest
-            build: { runner: macos-14 } # unittests don't work on M1 #26145
           - test: oldtest
             build: { flavor: tsan }
     runs-on: ${{ matrix.build.runner }}
diff --git a/test/unit/testutil.lua b/test/unit/testutil.lua
index c90859581d..bea08b69e8 100644
--- a/test/unit/testutil.lua
+++ b/test/unit/testutil.lua
@@ -146,6 +146,9 @@ local function filter_complex_blocks(body)
         or string.find(line, 'value_init_')
         or string.find(line, 'UUID_NULL') -- static const uuid_t UUID_NULL = {...}
         or string.find(line, 'inline _Bool')
+        -- used by macOS headers
+        or string.find(line, 'typedef enum : ')
+        or string.find(line, 'mach_vm_range_recipe')
       )
     then
       result[#result + 1] = line
