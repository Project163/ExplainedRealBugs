[{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940854","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-441940854","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":441940854,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk0MDg1NA==","user":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T21:04:33Z","updated_at":"2018-11-27T06:18:57Z","body":"**Michael Bayer ([@zzzeek](https://github.com/zzzeek)) wrote:**\n\nAdd notes regarding flat=True\n\nStart documenting that flat=True and aliased=True don't work\nwith selectable particularly when selectable is an aliased select\nalready.  References #4212\n\nChange-Id: I6e576165f06387350ae97e43ad979e575a4912b9\n\n\n→ 39d7dfa08acc\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940858","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-441940858","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":441940858,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk0MDg1OA==","user":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T21:04:33Z","updated_at":"2018-11-27T06:18:57Z","body":"**Michael Bayer ([@zzzeek](https://github.com/zzzeek)) wrote:**\n\nAdd notes regarding flat=True\n\nStart documenting that flat=True and aliased=True don't work\nwith selectable particularly when selectable is an aliased select\nalready.  References #4212\n\nChange-Id: I6e576165f06387350ae97e43ad979e575a4912b9\n(cherry picked from commit 39d7dfa08accf6cce6d53b0807603bf43d580791)\n\n\n→ c4fcf556528e\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940860","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-441940860","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":441940860,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk0MDg2MA==","user":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-07T21:04:33Z","updated_at":"2018-11-27T06:18:57Z","body":"**Michael Bayer ([@zzzeek](https://github.com/zzzeek)) wrote:**\n\nAdd notes regarding flat=True\n\nStart documenting that flat=True and aliased=True don't work\nwith selectable particularly when selectable is an aliased select\nalready.  References #4212\n\nChange-Id: I6e576165f06387350ae97e43ad979e575a4912b9\n(cherry picked from commit 39d7dfa08accf6cce6d53b0807603bf43d580791)\n\n\n→ 2ae99b671ced\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940861","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-441940861","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":441940861,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk0MDg2MQ==","user":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T21:45:38Z","updated_at":"2018-11-27T06:18:58Z","body":"**Changes by Michael Bayer ([@zzzeek](https://github.com/zzzeek)):**\n\n* changed **milestone** from \"1.3\" to \"1.6\"\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/441940861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1988665254,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5ODg2NjUyNTQ=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/1988665254","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-11-27T06:18:57Z","label":{"name":"bug","color":"d73a4a"},"performed_via_github_app":null},{"id":1988665255,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5ODg2NjUyNTU=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/1988665255","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-11-27T06:18:57Z","label":{"name":"orm","color":"20C0B0"},"performed_via_github_app":null},{"id":1988665257,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE5ODg2NjUyNTc=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/1988665257","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-11-27T06:18:57Z","milestone":{"title":"1.6"},"performed_via_github_app":null},{"id":1999635511,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5OTk2MzU1MTE=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/1999635511","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-01T19:02:46Z","label":{"name":"easy","color":"76f799"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/443449756","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-443449756","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":443449756,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzQ0OTc1Ng==","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-12-01T19:03:58Z","updated_at":"2018-12-01T19:04:09Z","body":"just to note, we're talking about checking if two keyword arguments `selectable` and `flat` are present at the same time to `with_polymorphic()` and then raising a `TypeError`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/443449756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2045189795,"node_id":"MDEyOkxhYmVsZWRFdmVudDIwNDUxODk3OTU=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/2045189795","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-12-27T01:25:41Z","label":{"name":"inheritance","color":"fcd071"},"performed_via_github_app":null},{"id":3105290422,"node_id":"MDEyOkxhYmVsZWRFdmVudDMxMDUyOTA0MjI=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3105290422","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-03-06T13:10:57Z","label":{"name":"good first issue","color":"9df9a8"},"performed_via_github_app":null},{"id":3105309832,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzEwNTMwOTgzMg==","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3105309832","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-03-06T13:16:59Z","label":{"name":"good first issue","color":"9df9a8"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/604627661","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-604627661","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":604627661,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDYyNzY2MQ==","user":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T19:08:09Z","updated_at":"2020-03-26T19:12:16Z","body":"Hi @zzzeek ,\r\nI would like to start making contributions to OpenSource projects, can i work on this particular issue?\r\n\r\nForgive me in advance if i have over complicated the issue, i would just like to understand it a bit more. I've done some digging into the code and came to the below conclusion, it would be great to know your thoughts on this.\r\n\r\nUsing the code you provided in the original post\r\nIf i print order_items where selectable=pjoin and **flat=True**\r\ni get the following output:\r\n```\r\nSELECT \"order\".id AS order_id, \"order\".user_id AS order_user_id \r\nFROM \"order\" JOIN (SELECT order_test_item.order_id AS order_id, order_test_item.test_id AS test_id, 'order_test_item' AS type \r\nFROM order_test_item) AS pjoin_1 ON \"order\".id = pjoin.order_id\r\n```\r\n\r\n\r\nIf i print order_items where selectable=pjoin and **flat=False**\r\n```\r\nSELECT \"order\".id AS order_id, \"order\".user_id AS order_user_id \r\nFROM \"order\" JOIN (SELECT order_test_item.order_id AS order_id, order_test_item.test_id AS test_id, 'order_test_item' AS type \r\nFROM order_test_item) AS pjoin ON \"order\".id = pjoin.order_id\r\n```\r\nThe alias in the first case is pjoin_1 and in the second case (where flat=False) it is pjoin.\r\n\r\nCurrently in the source code for with_polymorphic(), if flat=True then the following condition is ran:\r\n```\r\nif aliased or flat:\r\n    selectable = selectable._anonymous_fromclause(flat=flat)\r\n```\r\nThis returns an Alias object that generates an anonymous name because the default argument for name is None. This causes the anonymous name pjoin_1 to override the initial selectable name \"pjoin\". Which breaks the code.\r\n\r\nIf I amend the code for with_polymorphic() to something like the below. It works even if flat=True\r\n```\r\nif aliased or flat:\r\n    if selectable is not None:\r\n        name = selectable.name\r\n        selectable = selectable._anonymous_fromclause(name=name, flat=flat)\r\n    else:\r\n        selectable = selectable._anonymous_fromclause(flat=flat)\r\n```\r\n\r\nIn the documentation for Alias it says\r\n\r\n> The standalone alias() function as well as the base FromClause.alias() method also support the flat=True argument as a **no-op**, so that the argument can be passed to the alias() method of any selectable.\r\n\r\nSo with all this being said would the solution still be to raise a TypeError or would the code need to be amended slightly to set the selectable name as the name argument in the _anonymous_fromclause() method.\r\n\r\nKind Regards,\r\nRamon","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/604627661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3169686492,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE2OTY4NjQ5Mg==","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3169686492","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-26T19:08:09Z","performed_via_github_app":null},{"id":3169686493,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxNjk2ODY0OTM=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3169686493","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-26T19:08:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/604780148","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-604780148","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":604780148,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDc4MDE0OA==","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T02:19:36Z","updated_at":"2020-03-27T02:19:59Z","body":"hi there-\r\n\r\nI see with that change you can make it so \"flat\" doesn't break the query, but why would someone pass both parameters at the same time if \"flat\" does not apply in that case?   the TypeError (which for SQLAlchemy should be ArgumentError) is to eliminate ambiguity in determining the user's intent.\r\n\r\nthe presence of the \"flat\" keyword for alias() is to support the standalone alias() function, which passes through \"flat\" to the underlying alias() method on the target object.   this keyword could be removed from all of those alias() methods if we did something more like this:\r\n\r\n```\r\ndiff --git a/lib/sqlalchemy/sql/coercions.py b/lib/sqlalchemy/sql/coercions.py\r\nindex 679d9c6e9..31e08a38f 100644\r\n--- a/lib/sqlalchemy/sql/coercions.py\r\n+++ b/lib/sqlalchemy/sql/coercions.py\r\n@@ -652,7 +652,10 @@ class AnonymizedFromClauseImpl(\r\n     StrictFromClauseImpl, roles.AnonymizedFromClauseRole\r\n ):\r\n     def _post_coercion(self, element, flat=False, name=None, **kw):\r\n-        return element.alias(name=name, flat=flat)\r\n+        alias_kw = {'name': name}\r\n+        if flat:\r\n+            alias_kw['flat'] = True\r\n+        return element.alias(**alias_kw)\r\n \r\n \r\n class DMLSelectImpl(_NoTextCoercion, RoleImpl, roles.DMLSelectRole):\r\ndiff --git a/lib/sqlalchemy/sql/selectable.py b/lib/sqlalchemy/sql/selectable.py\r\nindex d6af42d08..c1323f223 100644\r\n--- a/lib/sqlalchemy/sql/selectable.py\r\n+++ b/lib/sqlalchemy/sql/selectable.py\r\n@@ -492,7 +492,7 @@ class FromClause(HasMemoized, roles.AnonymizedFromClauseRole, Selectable):\r\n \r\n         return Join(self, right, onclause, True, full)\r\n \r\n-    def alias(self, name=None, flat=False):\r\n+    def alias(self, name=None):\r\n         \"\"\"return an alias of this :class:`.FromClause`.\r\n \r\n         E.g.::\r\n@@ -1328,9 +1328,14 @@ class Alias(AliasedReturnsRows):\r\n          for details.\r\n \r\n         \"\"\"\r\n+\r\n+        kw = {\"name\": name}\r\n+        if flat:\r\n+            kw['flat'] = True\r\n+\r\n         return coercions.expect(\r\n             roles.FromClauseRole, selectable, allow_select=True\r\n-        ).alias(name=name, flat=flat)\r\n+        ).alias(**kw)\r\n \r\n \r\n class Lateral(AliasedReturnsRows):\r\n@@ -1522,7 +1527,7 @@ class CTE(Generative, HasPrefixes, HasSuffixes, AliasedReturnsRows):\r\n             [clone(elem, **kw) for elem in self._restates]\r\n         )\r\n \r\n-    def alias(self, name=None, flat=False):\r\n+    def alias(self, name=None):\r\n         \"\"\"Return an :class:`.Alias` of this :class:`.CTE`.\r\n \r\n         This method is a CTE-specific specialization of the\r\n@@ -2378,7 +2383,7 @@ class SelectBase(\r\n         \"\"\"\r\n         return Subquery._construct(self, name)\r\n \r\n-    def alias(self, name=None, flat=False):\r\n+    def alias(self, name=None):\r\n         \"\"\"Return a named subquery against this :class:`.SelectBase`.\r\n \r\n         For a :class:`.SelectBase` (as opposed to a :class:`.FromClause`),\r\n\r\n```\r\n\r\nif you'd prefer, you can make all of those alias() methods that ignore the \"flat\" argument also raise a TypeError (which also should be ArgumentError for SQLAlchemy) if it is passed as True.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/604780148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/605379558","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-605379558","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":605379558,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTM3OTU1OA==","user":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-28T02:06:59Z","updated_at":"2020-03-28T02:06:59Z","body":"hey @zzzeek ,\r\n\r\nMuch appreciated for the explanation I understand now.\r\n\r\nSo are the potential approaches to this as follows?\r\n1. I can do what you mentioned in 2018 and raise the ArgumentError inside with_polymorphic(),  in addition to those git diff snippets you posted in your most recent message (since flat is ignored in those anyway)\r\n or\r\n2. I can raise the ArgumentError inside the underlying def alias() methods if Flat is passed as True, as per your most recent message assuming those git diff snippets are not going to be commited.\r\n\r\nWhat would be best practice in this case?\r\n\r\nJust to clarify as well are those git diff snippets you posted in your prior message going to be committed by yourself or is that just an illustration for my understanding?\r\n\r\nThanks again,\r\nRamon","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/605379558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3174549655,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzE3NDU0OTY1NQ==","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3174549655","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-03-28T02:06:59Z","performed_via_github_app":null},{"id":3174549656,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMxNzQ1NDk2NTY=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3174549656","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-03-28T02:06:59Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/606655185","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-606655185","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":606655185,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjY1NTE4NQ==","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-31T14:15:20Z","updated_at":"2020-03-31T14:15:20Z","body":"I would start with #1.  that's a much more specific method which is why passing the wrong arguments should be noted.     the diffs I posted here are examples of what you would work on if you were interested.  all patches to SQLAlchemy have to come with tests that assert that the changes to the code do what is intended.\r\n\r\nthis is not on the website yet but we also have a dev hangout at https://gitter.im/sqlalchemy/devel and we do dev meetings on thursdays at 11AM EDT you are welcome to join both.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/606655185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/609109039","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-609109039","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":609109039,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTEwOTAzOQ==","user":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-05T00:27:14Z","updated_at":"2020-04-05T00:27:14Z","body":"Hey zzzeek,\r\n\r\nMuch appreciated for the help and patience, I checked out/joined the gitter page too.\r\n\r\nThe below addition to the code passes all of the tests as well as fixes the original issue. I have also included the test for it  (which is your first post rewritten). Shall i create a PR for these additions?\r\n\r\nIn regards to those git diff snippets in your previous messages. It seems that removing flat as a parameter for the alias method causes 25 or more tests to fail.  Even though flat is effectively ignored. For example 6 eq_assert tests fail in test/orm/test_of_type.py. Any advice on this? \r\n\r\nsqlalchemy\\orm\\util.py\r\n```diff\r\n@@ -932,6 +932,10 @@ def with_polymorphic(\r\n       only be specified if querying for one specific subtype only\r\n    \"\"\"\r\n    primary_mapper = _class_to_mapper(base)\r\n+\r\n+    if selectable not in (None, False) and flat:\r\n+       raise sa_exc.ArgumentError(\"Can't be selectable and flat\")\r\n+\r\n    if _existing_alias:\r\n        assert _existing_alias.mapper is primary_mapper\r\n        classes = util.to_set(classes)\r\n```\r\n\r\ntest\\orm\\test_utils.py\r\n```diff\r\nclass polymorphicTEST(fixtures.DeclarativeMappedTest):\r\n    @classmethod\r\n    def setup_classes(cls):\r\n        Base = cls.DeclarativeBasic\r\n\r\n        class OrderItem(AbstractConcreteBase, Base):\r\n            pass\r\n\r\n        class OrderTestItem(OrderItem):\r\n            __tablename__ = 'order_test_item'\r\n\r\n            order_id = Column(Integer, ForeignKey(\"order.id\"),\r\n                              primary_key=True)\r\n            test_id = Column(Integer, ForeignKey(\"test.id\"),\r\n                             primary_key=True)\r\n\r\n            test = relationship('Test')\r\n            order = relationship('Order')\r\n\r\n            __mapper_args__ = {\r\n                'polymorphic_identity': 'order_test_item',\r\n                'concrete': True\r\n            }\r\n\r\n        class User(Base):\r\n            __tablename__ = 'user'\r\n            id = Column(Integer, primary_key=True)\r\n\r\n        class Order(Base):\r\n            __tablename__ = 'order'\r\n            id = Column(Integer, primary_key=True)\r\n            user_id = Column(Integer, ForeignKey('user.id'))\r\n            user = relationship('User')\r\n            items = relationship('OrderItem')\r\n\r\n        class Test(Base):\r\n            __tablename__ = 'test'\r\n            id = Column(Integer, primary_key=True)\r\n\r\n    def test_with_poly_selectable_and_flat(self):\r\n\r\n        OrderItem, OrderTestItem, Order, Test = self.classes(\"OrderItem\",\r\n                                                             \"OrderTestItem\",\r\n                                                             \"Order\",\r\n                                                             \"Test\")\r\n        s = Session()\r\n\r\n        t1, t2 = Test(), Test()\r\n        s.add(Order(items=[OrderTestItem(test=t1), OrderTestItem(test=t2)]))\r\n        s.commit()\r\n\r\n        pjoin = polymorphic_union({\r\n            'order_test_item': OrderTestItem.__table__,\r\n        }, 'type', 'pjoin')\r\n\r\n        def go():\r\n            with_polymorphic(\r\n                OrderItem, [OrderTestItem], selectable=pjoin,\r\n                flat=True\r\n            )\r\n        assert_raises_message(\r\n            exc.ArgumentError,\r\n            \"Can't be selected and flat\",\r\n            go\r\n        )\r\n```\r\n\r\nOnce again many thanks,\r\n\r\nRamon","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/609109039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/609426003","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-609426003","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":609426003,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTQyNjAwMw==","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-05T14:36:00Z","updated_at":"2020-04-05T14:36:00Z","body":"> Hey zzzeek,\r\n> \r\n> Much appreciated for the help and patience, I checked out/joined the gitter page too.\r\n> \r\n> The below addition to the code passes all of the tests as well as fixes the original issue. I have also included the test for it (which is your first post rewritten). Shall i create a PR for these additions?\r\n\r\nabsolutely, that's where we can review code and I can leave comments for changes.\r\n\r\n> \r\n> In regards to those git diff snippets in your previous messages. It seems that removing flat as a parameter for the alias method causes 25 or more tests to fail. Even though flat is effectively ignored. For example 6 eq_assert tests fail in test/orm/test_of_type.py. Any advice on this?\r\n\r\nThe scope of this issue does not include actually removing the \"flat\" parameter from alias() methods as mentioned above there are interdependencies between different objects internally that makes removing this parameter a challenge so I would disregard trying to change this now.\r\n\r\n> \r\n> sqlalchemy\\orm\\util.py\r\n> \r\n> ```diff\r\n> @@ -932,6 +932,10 @@ def with_polymorphic(\r\n>        only be specified if querying for one specific subtype only\r\n>     \"\"\"\r\n>     primary_mapper = _class_to_mapper(base)\r\n> +\r\n> +    if selectable not in (None, False) and flat:\r\n> +       raise sa_exc.ArgumentError(\"Can't be selectable and flat\")\r\n> +\r\n>     if _existing_alias:\r\n>         assert _existing_alias.mapper is primary_mapper\r\n>         classes = util.to_set(classes)\r\n> ```\r\n> \r\n> test\\orm\\test_utils.py\r\n> \r\n> ```diff\r\n> class polymorphicTEST(fixtures.DeclarativeMappedTest):\r\n>     @classmethod\r\n>     def setup_classes(cls):\r\n>         Base = cls.DeclarativeBasic\r\n> \r\n>         class OrderItem(AbstractConcreteBase, Base):\r\n>             pass\r\n> \r\n>         class OrderTestItem(OrderItem):\r\n>             __tablename__ = 'order_test_item'\r\n> \r\n>             order_id = Column(Integer, ForeignKey(\"order.id\"),\r\n>                               primary_key=True)\r\n>             test_id = Column(Integer, ForeignKey(\"test.id\"),\r\n>                              primary_key=True)\r\n> \r\n>             test = relationship('Test')\r\n>             order = relationship('Order')\r\n> \r\n>             __mapper_args__ = {\r\n>                 'polymorphic_identity': 'order_test_item',\r\n>                 'concrete': True\r\n>             }\r\n> \r\n>         class User(Base):\r\n>             __tablename__ = 'user'\r\n>             id = Column(Integer, primary_key=True)\r\n> \r\n>         class Order(Base):\r\n>             __tablename__ = 'order'\r\n>             id = Column(Integer, primary_key=True)\r\n>             user_id = Column(Integer, ForeignKey('user.id'))\r\n>             user = relationship('User')\r\n>             items = relationship('OrderItem')\r\n> \r\n>         class Test(Base):\r\n>             __tablename__ = 'test'\r\n>             id = Column(Integer, primary_key=True)\r\n> \r\n>     def test_with_poly_selectable_and_flat(self):\r\n> \r\n>         OrderItem, OrderTestItem, Order, Test = self.classes(\"OrderItem\",\r\n>                                                              \"OrderTestItem\",\r\n>                                                              \"Order\",\r\n>                                                              \"Test\")\r\n>         s = Session()\r\n> \r\n>         t1, t2 = Test(), Test()\r\n>         s.add(Order(items=[OrderTestItem(test=t1), OrderTestItem(test=t2)]))\r\n>         s.commit()\r\n> \r\n>         pjoin = polymorphic_union({\r\n>             'order_test_item': OrderTestItem.__table__,\r\n>         }, 'type', 'pjoin')\r\n> \r\n>         def go():\r\n>             with_polymorphic(\r\n>                 OrderItem, [OrderTestItem], selectable=pjoin,\r\n>                 flat=True\r\n>             )\r\n>         assert_raises_message(\r\n>             exc.ArgumentError,\r\n>             \"Can't be selected and flat\",\r\n>             go\r\n>         )\r\n> ```\r\n> \r\n> Once again many thanks,\r\n> \r\n> Ramon\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/609426003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-05T19:22:29Z","updated_at":"2020-04-05T19:22:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232","repository_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy","labels_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232/labels{/name}","comments_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232/comments","events_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232/events","html_url":"https://github.com/sqlalchemy/sqlalchemy/pull/5232","id":594605044,"node_id":"MDExOlB1bGxSZXF1ZXN0Mzk5MjA5ODYz","number":5232,"title":"fixes #4212 raise an error if selectable and flat/aliased are sent to with_polymorphic simultaenously","user":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2020-04-05T19:22:29Z","updated_at":"2020-06-19T14:24:14Z","closed_at":"2020-05-06T14:22:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":159271175,"node_id":"MDEwOlJlcG9zaXRvcnkxNTkyNzExNzU=","name":"sqlalchemy","full_name":"sqlalchemy/sqlalchemy","private":false,"owner":{"login":"sqlalchemy","id":6043126,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYwNDMxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/6043126?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy","html_url":"https://github.com/sqlalchemy","followers_url":"https://api.github.com/users/sqlalchemy/followers","following_url":"https://api.github.com/users/sqlalchemy/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy/orgs","repos_url":"https://api.github.com/users/sqlalchemy/repos","events_url":"https://api.github.com/users/sqlalchemy/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sqlalchemy/sqlalchemy","description":"The Database Toolkit for Python","fork":false,"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy","forks_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/forks","keys_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/teams","hooks_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/hooks","issue_events_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events{/number}","events_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/events","assignees_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/assignees{/user}","branches_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/branches{/branch}","tags_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/tags","blobs_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/git/refs{/sha}","trees_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/statuses/{sha}","languages_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/languages","stargazers_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/stargazers","contributors_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/contributors","subscribers_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/subscribers","subscription_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/subscription","commits_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/commits{/sha}","git_commits_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/git/commits{/sha}","comments_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/comments{/number}","issue_comment_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments{/number}","contents_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/contents/{+path}","compare_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/merges","archive_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/downloads","issues_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues{/number}","pulls_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/pulls{/number}","milestones_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/milestones{/number}","notifications_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/labels{/name}","releases_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/releases{/id}","deployments_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/deployments","created_at":"2018-11-27T03:35:03Z","updated_at":"2025-11-10T08:14:59Z","pushed_at":"2025-11-09T19:21:36Z","git_url":"git://github.com/sqlalchemy/sqlalchemy.git","ssh_url":"git@github.com:sqlalchemy/sqlalchemy.git","clone_url":"https://github.com/sqlalchemy/sqlalchemy.git","svn_url":"https://github.com/sqlalchemy/sqlalchemy","homepage":"https://www.sqlalchemy.org","size":97110,"stargazers_count":11107,"watchers_count":11107,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":1596,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":219,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["python","sql","sqlalchemy"],"visibility":"public","forks":1596,"open_issues":219,"watchers":11107,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/pulls/5232","html_url":"https://github.com/sqlalchemy/sqlalchemy/pull/5232","diff_url":"https://github.com/sqlalchemy/sqlalchemy/pull/5232.diff","patch_url":"https://github.com/sqlalchemy/sqlalchemy/pull/5232.patch","merged_at":null},"body":"<!-- Provide a general summary of your proposed changes in the Title field above -->\r\nHi, \r\nThis is a proposed fix for Issue #4212 \r\n\r\nWhen the selectable argument is passed to with_polymorphic it is already aliased. Therefore an argument error should be raised if flat is also True. I have added an if statement to the with_polymorphic function, that raises an Argument Error if selectable is none/False AND if flat=True. I have also included a test.\r\n\r\n### Checklist\r\n<!-- go over following points. check them with an `x` if they do apply, (they turn into clickable checkboxes once the PR is submitted, so no need to do everything at once)\r\n\r\n-->\r\n\r\nThis pull request is:\r\n\r\n- [ ] A documentation / typographical error fix\r\n\t- Good to go, no issue or tests are needed\r\n- [X ] A short code fix\r\n\t- please include the issue number, and create an issue if none exists, which\r\n\t  must include a complete example of the issue.  one line code fixes without an\r\n\t  issue and demonstration will not be accepted.\r\n\t- Please include: `Fixes: #<issue number>` in the commit message\r\n\t- please include tests.   one line code fixes without tests will not be accepted.\r\n- [ ] A new feature implementation\r\n\t- please include the issue number, and create an issue if none exists, which must\r\n\t  include a complete example of how the feature would look.\r\n\t- Please include: `Fixes: #<issue number>` in the commit message\r\n\t- please include tests.\r\n\r\nKind Regards,\r\n\r\nRamon\r\n","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/5232/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/610568727","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-610568727","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":610568727,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDU2ODcyNw==","user":{"login":"sqla-tester","id":8250554,"node_id":"MDQ6VXNlcjgyNTA1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8250554?v=4","gravatar_id":"","url":"https://api.github.com/users/sqla-tester","html_url":"https://github.com/sqla-tester","followers_url":"https://api.github.com/users/sqla-tester/followers","following_url":"https://api.github.com/users/sqla-tester/following{/other_user}","gists_url":"https://api.github.com/users/sqla-tester/gists{/gist_id}","starred_url":"https://api.github.com/users/sqla-tester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqla-tester/subscriptions","organizations_url":"https://api.github.com/users/sqla-tester/orgs","repos_url":"https://api.github.com/users/sqla-tester/repos","events_url":"https://api.github.com/users/sqla-tester/events{/privacy}","received_events_url":"https://api.github.com/users/sqla-tester/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T19:09:55Z","updated_at":"2020-04-07T19:09:55Z","body":"**RamonWill** has proposed a fix for this issue in the **master** branch:\n\n**fixes #4212 raise an error if selectable and flat/aliased are sent to with_polymorphic simultaenously** https://gerrit.sqlalchemy.org/c/sqlalchemy/sqlalchemy/+/1849","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/610568727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sqla-tester","id":8250554,"node_id":"MDQ6VXNlcjgyNTA1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8250554?v=4","gravatar_id":"","url":"https://api.github.com/users/sqla-tester","html_url":"https://github.com/sqla-tester","followers_url":"https://api.github.com/users/sqla-tester/followers","following_url":"https://api.github.com/users/sqla-tester/following{/other_user}","gists_url":"https://api.github.com/users/sqla-tester/gists{/gist_id}","starred_url":"https://api.github.com/users/sqla-tester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqla-tester/subscriptions","organizations_url":"https://api.github.com/users/sqla-tester/orgs","repos_url":"https://api.github.com/users/sqla-tester/repos","events_url":"https://api.github.com/users/sqla-tester/events{/privacy}","received_events_url":"https://api.github.com/users/sqla-tester/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3308738239,"node_id":"MDExOkNsb3NlZEV2ZW50MzMwODczODIzOQ==","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3308738239","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"f554209ebd676fd7c30e4c494a42a049d8afd3f0","commit_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/commits/f554209ebd676fd7c30e4c494a42a049d8afd3f0","created_at":"2020-05-06T14:22:12Z","state_reason":null,"performed_via_github_app":null},{"id":3308738288,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMzMDg3MzgyODg=","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/3308738288","actor":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"00928a1cf041762e846c4cb2bde4f0650d79ee5c","commit_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/commits/00928a1cf041762e846c4cb2bde4f0650d79ee5c","created_at":"2020-05-06T14:22:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/624679241","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-624679241","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":624679241,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDY3OTI0MQ==","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T14:22:20Z","updated_at":"2020-05-06T14:22:20Z","body":"thank you!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/624679241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/624684948","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/4212#issuecomment-624684948","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/4212","id":624684948,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDY4NDk0OA==","user":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-06T14:32:35Z","updated_at":"2020-05-06T14:32:35Z","body":"Much appreciated for the guidance Mike, hopefully i will make more contributions when i get time.\r\nRamon","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/624684948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"RamonWill","id":56896136,"node_id":"MDQ6VXNlcjU2ODk2MTM2","avatar_url":"https://avatars.githubusercontent.com/u/56896136?v=4","gravatar_id":"","url":"https://api.github.com/users/RamonWill","html_url":"https://github.com/RamonWill","followers_url":"https://api.github.com/users/RamonWill/followers","following_url":"https://api.github.com/users/RamonWill/following{/other_user}","gists_url":"https://api.github.com/users/RamonWill/gists{/gist_id}","starred_url":"https://api.github.com/users/RamonWill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RamonWill/subscriptions","organizations_url":"https://api.github.com/users/RamonWill/orgs","repos_url":"https://api.github.com/users/RamonWill/repos","events_url":"https://api.github.com/users/RamonWill/events{/privacy}","received_events_url":"https://api.github.com/users/RamonWill/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8344941692,"node_id":"DEME_lADOCX5JB84W7SmozwAAAAHxZbR8","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/8344941692","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-01-24T14:35:09Z","milestone":{"title":"1.6"},"performed_via_github_app":null},{"id":8344941699,"node_id":"MIE_lADOCX5JB84W7SmozwAAAAHxZbSD","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/8344941699","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-01-24T14:35:09Z","milestone":{"title":"1.4.x"},"performed_via_github_app":null}]