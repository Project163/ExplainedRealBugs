[{"id":6945357288,"node_id":"LE_lADOCX5JB85NQwKfzwAAAAGd-b3o","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945357288","actor":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-06T18:51:49Z","label":{"name":"requires triage","color":"ffff00"},"performed_via_github_app":null},{"id":6945357290,"node_id":"LE_lADOCX5JB85NQwKfzwAAAAGd-b3q","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945357290","actor":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-06T18:51:49Z","label":{"name":"use case","color":"b54650"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176572546","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176572546","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176572546,"node_id":"IC_kwDOCX5JB85GIRKC","user":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:04:10Z","updated_at":"2022-07-06T19:04:10Z","body":"This is on the radar. There is a workaround you may be able to use now described in #7783","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176572546/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176585838","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176585838","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176585838,"node_id":"IC_kwDOCX5JB85GIUZu","user":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:19:31Z","updated_at":"2022-07-06T19:20:21Z","body":"@jvanasco Thanks for the quick response! That is awesome that it is on the radar, glad to hear. Is there a rough timeline on this feature that you can potentially share?\r\n\r\nUnfortunately the workaround doesn't really work for our use case, we would be looking to have the code sample like the one pasted above referenced within the official [Google Cloud docs](https://cloud.google.com/sql/docs/postgres/connect-connectors#python) for our customers to use as reference material. Showing a workaround isn't something that we feel comfortable publishing to our customers at this time. \r\n\r\nLet me know if there is anyway in which I can help with the feature? More than happy to provide a helping hand and try to assist if need be.\r\n\r\nThanks so much!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176585838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6945528596,"node_id":"MEE_lADOCX5JB85NQwKfzwAAAAGd_FsU","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945528596","actor":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:19:31Z","performed_via_github_app":null},{"id":6945528605,"node_id":"SE_lADOCX5JB85NQwKfzwAAAAGd_Fsd","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945528605","actor":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:19:31Z","performed_via_github_app":null},{"id":6945653616,"node_id":"UNLE_lADOCX5JB85NQwKfzwAAAAGd_kNw","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945653616","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:38:55Z","label":{"name":"requires triage","color":"ffff00"},"performed_via_github_app":null},{"id":6945653618,"node_id":"LE_lADOCX5JB85NQwKfzwAAAAGd_kNy","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945653618","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:38:55Z","label":{"name":"asyncio","color":"ef7fac"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176622306","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176622306","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176622306,"node_id":"IC_kwDOCX5JB85GIdTi","user":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:43:13Z","updated_at":"2022-07-06T19:43:13Z","body":"Sadly it's not as straight forward as the normal creator, since async drivers do not follow the dpapi specification, so what's actually used by sqlalchemy is a proxy to the real driver connection.\r\n\r\nThis means that a different implementation would be required. Not impossible, but not as straight forward to just wrapping async_creator in an `await_only`","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176622306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176625818","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176625818","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176625818,"node_id":"IC_kwDOCX5JB85GIeKa","user":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T19:45:48Z","updated_at":"2022-07-06T19:45:48Z","body":"No one is currently working on this and it is not currently scheduled (see @CaselIT's comment above).  It's just known as a deficiency and future support is planned, along with countless other features and tickets.  PRs are always welcome for review. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176625818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jvanasco","id":204779,"node_id":"MDQ6VXNlcjIwNDc3OQ==","avatar_url":"https://avatars.githubusercontent.com/u/204779?v=4","gravatar_id":"","url":"https://api.github.com/users/jvanasco","html_url":"https://github.com/jvanasco","followers_url":"https://api.github.com/users/jvanasco/followers","following_url":"https://api.github.com/users/jvanasco/following{/other_user}","gists_url":"https://api.github.com/users/jvanasco/gists{/gist_id}","starred_url":"https://api.github.com/users/jvanasco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvanasco/subscriptions","organizations_url":"https://api.github.com/users/jvanasco/orgs","repos_url":"https://api.github.com/users/jvanasco/repos","events_url":"https://api.github.com/users/jvanasco/events{/privacy}","received_events_url":"https://api.github.com/users/jvanasco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6945707763,"node_id":"MEE_lADOCX5JB85NQwKfzwAAAAGd_xbz","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945707763","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:45:48Z","performed_via_github_app":null},{"id":6945707769,"node_id":"SE_lADOCX5JB85NQwKfzwAAAAGd_xb5","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945707769","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-06T19:45:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176665750","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176665750","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176665750,"node_id":"IC_kwDOCX5JB85GIn6W","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T20:13:24Z","updated_at":"2022-07-06T20:13:24Z","body":"there's a second workaround that is not as conspicuous which is [here](https://github.com/sqlalchemy/sqlalchemy/discussions/7783#discussioncomment-2284510)\r\n\r\nthis is an example, which would also point the way to a PR for this.\r\n\r\n```py\r\nimport asyncio\r\n\r\nimport asyncpg\r\n\r\nfrom sqlalchemy import text\r\nfrom sqlalchemy.ext.asyncio import create_async_engine\r\nfrom sqlalchemy.util import await_only\r\n\r\n\r\nasync def async_creator():\r\n    kw = {\r\n        \"host\": \"127.0.0.1\",\r\n        \"database\": \"test\",\r\n        \"user\": \"scott\",\r\n        \"password\": \"tiger\",\r\n        \"port\": 5432,\r\n    }\r\n    conn = await asyncpg.connect(**kw)\r\n    return conn\r\n\r\n\r\nasync def async_main():\r\n    def adapted_creator():\r\n        dbapi = engine.dialect.dbapi\r\n        from sqlalchemy.dialects.postgresql.asyncpg import (\r\n            AsyncAdapt_asyncpg_connection,\r\n)\r\n        return AsyncAdapt_asyncpg_connection(\r\n            dbapi,\r\n            await_only(async_creator()),\r\n            prepared_statement_cache_size=100,\r\n        )\r\n\r\n    engine = create_async_engine(\r\n        \"postgresql+asyncpg://\",\r\n        echo=True,\r\n        creator=adapted_creator,\r\n    )\r\n\r\n    async with engine.connect() as conn:\r\n        await conn.scalar(text(\"select 1\"))\r\n\r\n\r\nasyncio.run(async_main())\r\n\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176665750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6945926304,"node_id":"LE_lADOCX5JB85NQwKfzwAAAAGeAmyg","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945926304","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-07-06T20:13:33Z","label":{"name":"PRs welcome","color":"b8e0f9"},"performed_via_github_app":null},{"id":6945926922,"node_id":"MIE_lADOCX5JB85NQwKfzwAAAAGeAm8K","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945926922","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-07-06T20:13:37Z","milestone":{"title":"2.0"},"performed_via_github_app":null},{"id":6945927809,"node_id":"DEME_lADOCX5JB85NQwKfzwAAAAGeAnKB","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945927809","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2022-07-06T20:13:44Z","milestone":{"title":"2.0"},"performed_via_github_app":null},{"id":6945927813,"node_id":"MIE_lADOCX5JB85NQwKfzwAAAAGeAnKF","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6945927813","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-07-06T20:13:44Z","milestone":{"title":"2.x.x"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176667268","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176667268","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176667268,"node_id":"IC_kwDOCX5JB85GIoSE","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T20:14:19Z","updated_at":"2022-07-06T20:14:19Z","body":"this is likely OK for a 1.4 backport if something is being contributed soon.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176667268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176721725","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176721725","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176721725,"node_id":"IC_kwDOCX5JB85GI1k9","user":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T20:49:10Z","updated_at":"2022-07-06T22:05:59Z","body":"Do you actually want to expose the proxy (AsyncAdapt_asyncpg_connection in this case) ?\r\n\r\nor should `create_async_engine` handle that?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176721725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176838651","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1176838651","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1176838651,"node_id":"IC_kwDOCX5JB85GJSH7","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T23:02:22Z","updated_at":"2022-07-06T23:02:22Z","body":"I think async_creator should return the driver level connection and the DBAPI wrapping thing we should keep doing that part internally.  so that means all the async DBAPI wrappers have to change a little bit","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1176838651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1181767257","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1181767257","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1181767257,"node_id":"IC_kwDOCX5JB85GcFZZ","user":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T13:33:50Z","updated_at":"2022-07-12T13:33:50Z","body":"@zzzeek so if I were to attempt a first pass at trying to implement this ... I would just want to add internally an `adapted_creator` (from your sample above) style wrapper for each async driver? Is that what I should be taking away from this?\r\n\r\nAny other guidance you can provide or files to point me at that will need updating would be super helpful as I start to look into this feature a bit more.\r\n\r\nThanks so much in advance :)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1181767257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jackwotherspoon","id":32113413,"node_id":"MDQ6VXNlcjMyMTEzNDEz","avatar_url":"https://avatars.githubusercontent.com/u/32113413?v=4","gravatar_id":"","url":"https://api.github.com/users/jackwotherspoon","html_url":"https://github.com/jackwotherspoon","followers_url":"https://api.github.com/users/jackwotherspoon/followers","following_url":"https://api.github.com/users/jackwotherspoon/following{/other_user}","gists_url":"https://api.github.com/users/jackwotherspoon/gists{/gist_id}","starred_url":"https://api.github.com/users/jackwotherspoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackwotherspoon/subscriptions","organizations_url":"https://api.github.com/users/jackwotherspoon/orgs","repos_url":"https://api.github.com/users/jackwotherspoon/repos","events_url":"https://api.github.com/users/jackwotherspoon/events{/privacy}","received_events_url":"https://api.github.com/users/jackwotherspoon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6977705998,"node_id":"MEE_lADOCX5JB85NQwKfzwAAAAGf51gO","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6977705998","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-12T13:33:50Z","performed_via_github_app":null},{"id":6977706008,"node_id":"SE_lADOCX5JB85NQwKfzwAAAAGf51gY","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6977706008","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-12T13:33:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1181791539","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1181791539","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1181791539,"node_id":"IC_kwDOCX5JB85GcLUz","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T13:55:00Z","updated_at":"2022-07-12T13:55:00Z","body":"> @zzzeek so if I were to attempt a first pass at trying to implement this ... I would just want to add internally an `adapted_creator` (from your sample above) style wrapper for each async driver? Is that what I should be taking away from this?\r\n\r\nit looks like, something like that, yes.     I think something that maintains the args will give us some future wiggle room, so try this:\r\n\r\n```diff\r\ndiff --git a/lib/sqlalchemy/dialects/postgresql/asyncpg.py b/lib/sqlalchemy/dialects/postgresql/asyncpg.py\r\nindex d6385a5d61..6fcb3a7391 100644\r\n--- a/lib/sqlalchemy/dialects/postgresql/asyncpg.py\r\n+++ b/lib/sqlalchemy/dialects/postgresql/asyncpg.py\r\n@@ -122,6 +122,7 @@ client using this setting passed to :func:`_asyncio.create_async_engine`::\r\n import collections\r\n import collections.abc as collections_abc\r\n import decimal\r\n+import functools\r\n import json as _py_json\r\n import re\r\n import time\r\n@@ -709,19 +710,21 @@ class AsyncAdapt_asyncpg_dbapi:\r\n \r\n     def connect(self, *arg, **kw):\r\n         async_fallback = kw.pop(\"async_fallback\", False)\r\n+        creator_fn = kw.pop(\"async_creator_fn\", functools.partial(self.asyncpg.connect))\r\n+\r\n         prepared_statement_cache_size = kw.pop(\r\n             \"prepared_statement_cache_size\", 100\r\n         )\r\n         if util.asbool(async_fallback):\r\n             return AsyncAdaptFallback_asyncpg_connection(\r\n                 self,\r\n-                await_fallback(self.asyncpg.connect(*arg, **kw)),\r\n+                await_fallback(creator_fn(*arg, **kw)),\r\n                 prepared_statement_cache_size=prepared_statement_cache_size,\r\n             )\r\n         else:\r\n             return AsyncAdapt_asyncpg_connection(\r\n                 self,\r\n-                await_only(self.asyncpg.connect(*arg, **kw)),\r\n+                await_only(creator_fn(*arg, **kw)),\r\n                 prepared_statement_cache_size=prepared_statement_cache_size,\r\n             )\r\n \r\ndiff --git a/lib/sqlalchemy/ext/asyncio/engine.py b/lib/sqlalchemy/ext/asyncio/engine.py\r\nindex 97d69fcbd2..728594d459 100644\r\n--- a/lib/sqlalchemy/ext/asyncio/engine.py\r\n+++ b/lib/sqlalchemy/ext/asyncio/engine.py\r\n@@ -80,6 +80,21 @@ def create_async_engine(url: Union[str, URL], **kw: Any) -> AsyncEngine:\r\n         )\r\n     kw[\"future\"] = True\r\n     kw[\"_is_async\"] = True\r\n+\r\n+    async_creator = kw.pop(\"async_creator\", None)\r\n+    if async_creator:\r\n+        async def wrap_async_creator(*arg, **kw):\r\n+            return await async_creator()\r\n+\r\n+        def creator():\r\n+            # note that to send adapted arguments like\r\n+            # prepared_statement_cache_size, the end user would use\r\n+            # \"creator\" and emulate this form here\r\n+            return sync_engine.dialect.dbapi.connect(\r\n+                async_creator_fn=wrap_async_creator\r\n+            )\r\n+        kw[\"creator\"] = creator\r\n+\r\n     sync_engine = _create_engine(url, **kw)\r\n     return AsyncEngine(sync_engine)\r\n \r\n\r\n```\r\n\r\n\r\n> \r\n> Any other guidance you can provide or files to point me at that will need updating would be super helpful as I start to look into this feature a bit more.\r\n\r\nso note that async_creator eliminates the ability to send the \"prepared_statement_cache_size\" argument that's specific to the asyncpg dialect.  if you wanted a creator which also controls this, then use \"creator\" instead of \"async_creator\" when passing to async_create_engine - then inside that creator, use the async_creator_fn for the asyncpg part.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1181791539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6977887530,"node_id":"MEE_lADOCX5JB85NQwKfzwAAAAGf6h0q","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6977887530","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-07-12T13:55:01Z","performed_via_github_app":null},{"id":6977887536,"node_id":"SE_lADOCX5JB85NQwKfzwAAAAGf6h0w","url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/events/6977887536","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-07-12T13:55:01Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182135850","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1182135850","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1182135850,"node_id":"IC_kwDOCX5JB85GdfYq","user":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T17:58:41Z","updated_at":"2022-07-12T17:58:41Z","body":"I had a different idea on how to implement this, but I guess that works too.\r\nThe plan is v2.x for this right?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182135850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182171636","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1182171636","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1182171636,"node_id":"IC_kwDOCX5JB85GdoH0","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T18:13:53Z","updated_at":"2022-07-12T18:13:53Z","body":"re: 2.0 i think so yes.\r\n\r\nif you mean that \"creator\" should accept the connect args, sure.  that's what the [do_connect](https://docs.sqlalchemy.org/en/14/core/engines.html#fully-replacing-the-dbapi-connect-function) event is for.  this event can be used with an async db as well, and if you want \"creator\" for the async part you'd use just this new ``async_creator`` parameter.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182171636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182243595","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1182243595","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1182243595,"node_id":"IC_kwDOCX5JB85Gd5sL","user":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T18:43:48Z","updated_at":"2022-07-12T18:43:48Z","body":"My idea is to have a way of asking for a wrapper to the dialect and have it work the same for sync and async dialects (where sync dialect would use no wrapper, while async dialects would create the proxy.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182243595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"CaselIT","id":16175304,"node_id":"MDQ6VXNlcjE2MTc1MzA0","avatar_url":"https://avatars.githubusercontent.com/u/16175304?v=4","gravatar_id":"","url":"https://api.github.com/users/CaselIT","html_url":"https://github.com/CaselIT","followers_url":"https://api.github.com/users/CaselIT/followers","following_url":"https://api.github.com/users/CaselIT/following{/other_user}","gists_url":"https://api.github.com/users/CaselIT/gists{/gist_id}","starred_url":"https://api.github.com/users/CaselIT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaselIT/subscriptions","organizations_url":"https://api.github.com/users/CaselIT/orgs","repos_url":"https://api.github.com/users/CaselIT/repos","events_url":"https://api.github.com/users/CaselIT/events{/privacy}","received_events_url":"https://api.github.com/users/CaselIT/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182502589","html_url":"https://github.com/sqlalchemy/sqlalchemy/issues/8215#issuecomment-1182502589","issue_url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/8215","id":1182502589,"node_id":"IC_kwDOCX5JB85Ge469","user":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-12T21:08:40Z","updated_at":"2022-07-12T21:08:40Z","body":"I might have been thinking the same thing but I didn't try to do it so feel free to implement","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/sqlalchemy/sqlalchemy/issues/comments/1182502589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zzzeek","id":128223,"node_id":"MDQ6VXNlcjEyODIyMw==","avatar_url":"https://avatars.githubusercontent.com/u/128223?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzeek","html_url":"https://github.com/zzzeek","followers_url":"https://api.github.com/users/zzzeek/followers","following_url":"https://api.github.com/users/zzzeek/following{/other_user}","gists_url":"https://api.github.com/users/zzzeek/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzeek/subscriptions","organizations_url":"https://api.github.com/users/zzzeek/orgs","repos_url":"https://api.github.com/users/zzzeek/repos","events_url":"https://api.github.com/users/zzzeek/events{/privacy}","received_events_url":"https://api.github.com/users/zzzeek/received_events","type":"User","user_view_type":"public","site_admin":false}}]