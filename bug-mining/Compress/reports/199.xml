<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:31:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-336] Extended Standard TAR format prefix is 130 characters</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-336</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;A TAR archive created with star having an artype of &quot;xstar&quot; apparently limits the PREFIX to 130 characters to accommodate an access time and a creation time (this much I was able to learn from the star man page). I wasn&apos;t able to track down any specifics about the format, but in at least the first example I found, it appears that the access and creation time are stored as two space terminated ASCII numbers at the end of what would otherwise be the prefix.&lt;/p&gt;

&lt;p&gt;Currently, the code will read this type of archive and assume the prefix is 131 NULs followed by the two ASCII time stamps. Needless to say, it makes a mess of the entry names.&lt;/p&gt;

&lt;p&gt;I&apos;m not 100% sure of the implementation, but perhaps something like (with &lt;tt&gt;XSTAR_PREFIXLEN&lt;/tt&gt; == 130):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;: {
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; prefixlen = header[offset + XSTAR_PREFIXLEN + 1] == 0 ? XSTAR_PREFIXLEN : PREFIXLEN;
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; prefix = oldStyle
    ? TarUtils.parseName(header, offset, prefixlen)
    : TarUtils.parseName(header, offset, prefixlen, encoding);
  &lt;span class=&quot;code-comment&quot;&gt;// ...
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe a separate feature request would be appropriate for capturing and exposing the additional timestamps?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12937568">COMPRESS-336</key>
            <summary>Extended Standard TAR format prefix is 130 characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jgustie">Jeremy Gustie</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Feb 2016 17:12:47 +0000</created>
                <updated>Sun, 14 Feb 2016 11:20:00 +0000</updated>
                            <resolved>Sun, 14 Feb 2016 11:04:27 +0000</resolved>
                                    <version>1.10</version>
                                    <fixVersion>1.11</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15137274" author="jgustie" created="Mon, 8 Feb 2016 17:21:15 +0000"  >&lt;p&gt;The first example I found is actually a bit of a manufactured one: the Python &lt;tt&gt;testtar.tar&lt;/tt&gt; file has a single entry (&lt;tt&gt;misc/regtype-xstar&lt;/tt&gt;) with the format described in the ticket. The man page I found describing the 130 character prefix limit was &lt;a href=&quot;http://linux.die.net/man/1/star&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;star(1)&lt;/a&gt; (second text match for &quot;xstar&quot;).&lt;/p&gt;</comment>
                            <comment id="15137448" author="jgustie" created="Mon, 8 Feb 2016 18:41:31 +0000"  >&lt;p&gt;Also, I don&apos;t think this would have been an issue if &lt;tt&gt;TarUtils.parseName&lt;/tt&gt; read from the front instead of the back, was that done because most fields are more likely to contain more valid bytes then padding? If that is an important optimization, perhaps a sort of modified binary search for the first NUL would still be resilient to issues like this (where a field was split less then 50/50 in some format of TAR) while still avoiding the full linear search for the terminator.&lt;/p&gt;</comment>
                            <comment id="15146483" author="bodewig" created="Sun, 14 Feb 2016 10:32:37 +0000"  >&lt;p&gt;I think we should be able to detect xstar - either by checking for the tar\0 signature or looking for a \0 at the proper place inside prefix like you suggest (and maybe verify there is a atime and ctime in octal format at the right places).&lt;/p&gt;

&lt;p&gt;Right now we don&apos;t provide atime/ctime for GNU or PAX entries either, even if we could. So this would be a good separate enhancement request.&lt;/p&gt;</comment>
                            <comment id="15146491" author="bodewig" created="Sun, 14 Feb 2016 10:45:15 +0000"  >&lt;p&gt;I&apos;m working on identifying xstar and parsing the name properly.&lt;/p&gt;</comment>
                            <comment id="15146495" author="bodewig" created="Sun, 14 Feb 2016 11:04:27 +0000"  >&lt;p&gt;should be fixed with commit 32633c3&lt;/p&gt;

&lt;p&gt;Many thanks for the analysis.&lt;/p&gt;</comment>
                            <comment id="15146501" author="bodewig" created="Sun, 14 Feb 2016 11:20:00 +0000"  >&lt;p&gt;The test archive is pretty nice as it shows a few shortcomings we have when compared to GNU tar (and probably the Python lib that uses this for tests) -&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-338&quot; title=&quot;fill some gaps in tar implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-338&quot;&gt;&lt;del&gt;COMPRESS-338&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2skfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>