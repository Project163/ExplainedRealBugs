<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:35:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-660] OSGi Manifest requires optional dependency commons-codec</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-660</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Since version 1.26, commons-compress &lt;b&gt;optionally&lt;/b&gt; &lt;a href=&quot;https://github.com/apache/commons-compress/blob/09a271dfd73e3ce01815f3f65057f92b5b7009bb/pom.xml#L134&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;requires commons-codec&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the OSGi-Manifest, the Import-Package declaration for org.apache.commons.codec does not have the resolution:=optional attribute.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In our case, we have commons-compress as maven dependency. Since commons-codec is an optional dependency, it is not downloaded automatically. But when we start our application, we get an OSGi error that commons-codec cannot be resolved.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;To fix this issue, the Import-Package delcaration to all apache.commons.compress packages has to be marked with resolution:=optional in META-INF/MANIFEST.MF.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13569083">COMPRESS-660</key>
            <summary>OSGi Manifest requires optional dependency commons-codec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cloy_vector">Christoph Loy</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Feb 2024 14:55:09 +0000</created>
                <updated>Wed, 21 Feb 2024 15:30:53 +0000</updated>
                            <resolved>Wed, 21 Feb 2024 15:30:53 +0000</resolved>
                                    <version>1.26.0</version>
                                    <fixVersion>1.26.1</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17818511" author="garydgregory" created="Mon, 19 Feb 2024 15:45:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloy_vector&quot; class=&quot;user-hover&quot; rel=&quot;cloy_vector&quot;&gt;cloy_vector&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;The POM says:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;commons.osgi.import&amp;gt;&lt;/span&gt;
      org.tukaani.xz;resolution:=optional,
      org.brotli.dec;resolution:=optional,
      com.github.luben.zstd;resolution:=optional,
      org.objectweb.asm;resolution:=optional,
      javax.crypto.*;resolution:=optional,
      org.apache.commons.commons-codec;resolution:=optional,
      org.apache.commons.commons-io;resolution:=optional,
      org.apache.commons.lang3.reflect;resolution:=optional,
      *
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/commons.osgi.import&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and if I unzip the jar I see:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Manifest-Version: 1.0
Created-By: Apache Maven Bundle Plugin 5.1.9
Build-Jdk-Spec: 17
Automatic-Module-Name: org.apache.commons.compress
Extension-Name: org.apache.commons.compress
Implementation-Title: Apache Commons Compress
Implementation-Vendor: The Apache Software Foundation
Implementation-Vendor-Id: org.apache
Implementation-Version: 1.26.0
Main-Class: org.apache.commons.compress.archivers.Lister
Specification-Title: Apache Commons Compress
Specification-Vendor: The Apache Software Foundation
Specification-Version: 1.26.0
X-Compile-Source-JDK: 1.8
X-Compile-Target-JDK: 1.8
Bundle-Description: Apache Commons Compress defines an API for working w
 ithcompression and archive formats. These include bzip2, gzip, pack200,
 LZMA, XZ, Snappy, traditional Unix Compress, DEFLATE, DEFLATE64, LZ4,Br
 otli, Zstandard and ar, cpio, jar, tar, zip, dump, 7z, arj.
Bundle-DocURL: https://commons.apache.org/proper/commons-compress/
Bundle-License: https://www.apache.org/licenses/LICENSE-2.0.txt
Bundle-ManifestVersion: 2
Bundle-Name: Apache Commons Compress
Bundle-SymbolicName: org.apache.commons.commons-compress
Bundle-Vendor: The Apache Software Foundation
Bundle-Version: 1.26.0
Export-Package: org.apache.commons.compress;version=&quot;1.26.0&quot;,org.apache.
 commons.compress.archivers;version=&quot;1.26.0&quot;,org.apache.commons.compress
 .archivers.ar;version=&quot;1.26.0&quot;,org.apache.commons.compress.archivers.ar
 j;version=&quot;1.26.0&quot;,org.apache.commons.compress.archivers.cpio;version=&quot;
 1.26.0&quot;,org.apache.commons.compress.archivers.dump;version=&quot;1.26.0&quot;,org
 .apache.commons.compress.archivers.examples;version=&quot;1.26.0&quot;,org.apache
 .commons.compress.archivers.jar;version=&quot;1.26.0&quot;,org.apache.commons.com
 press.archivers.sevenz;version=&quot;1.26.0&quot;,org.apache.commons.compress.arc
 hivers.tar;version=&quot;1.26.0&quot;,org.apache.commons.compress.archivers.zip;v
 ersion=&quot;1.26.0&quot;,org.apache.commons.compress.changes;version=&quot;1.26.0&quot;,or
 g.apache.commons.compress.compressors;version=&quot;1.26.0&quot;,org.apache.commo
 ns.compress.compressors.brotli;version=&quot;1.26.0&quot;,org.apache.commons.comp
 ress.compressors.bzip2;version=&quot;1.26.0&quot;,org.apache.commons.compress.com
 pressors.deflate;version=&quot;1.26.0&quot;,org.apache.commons.compress.compresso
 rs.deflate64;version=&quot;1.26.0&quot;,org.apache.commons.compress.compressors.g
 zip;version=&quot;1.26.0&quot;,org.apache.commons.compress.compressors.lz4;versio
 n=&quot;1.26.0&quot;,org.apache.commons.compress.compressors.lz77support;version=
 &quot;1.26.0&quot;,org.apache.commons.compress.compressors.lzma;version=&quot;1.26.0&quot;,
 org.apache.commons.compress.compressors.lzw;version=&quot;1.26.0&quot;,org.apache
 .commons.compress.compressors.pack200;version=&quot;1.26.0&quot;,org.apache.commo
 ns.compress.compressors.snappy;version=&quot;1.26.0&quot;,org.apache.commons.comp
 ress.compressors.xz;version=&quot;1.26.0&quot;,org.apache.commons.compress.compre
 ssors.z;version=&quot;1.26.0&quot;,org.apache.commons.compress.compressors.zstand
 ard;version=&quot;1.26.0&quot;,org.apache.commons.compress.harmony;version=&quot;1.26.
 0&quot;,org.apache.commons.compress.harmony.archive.internal.nls;version=&quot;1.
 26.0&quot;,org.apache.commons.compress.harmony.pack200;version=&quot;1.26.0&quot;,org.
 apache.commons.compress.harmony.unpack200;version=&quot;1.26.0&quot;,org.apache.c
 ommons.compress.harmony.unpack200.bytecode;version=&quot;1.26.0&quot;,org.apache.
 commons.compress.harmony.unpack200.bytecode.forms;version=&quot;1.26.0&quot;,org.
 apache.commons.compress.java.util.jar;version=&quot;1.26.0&quot;,org.apache.commo
 ns.compress.parallel;version=&quot;1.26.0&quot;,org.apache.commons.compress.utils
 ;version=&quot;1.26.0&quot;
Import-Package: org.tukaani.xz;resolution:=optional,org.brotli.dec;resol
 ution:=optional,com.github.luben.zstd;resolution:=optional,org.objectwe
 b.asm;resolution:=optional,javax.crypto;resolution:=optional,javax.cryp
 to.spec;resolution:=optional,org.apache.commons.lang3.reflect;resolutio
 n:=optional,org.apache.commons.codec,org.apache.commons.codec.digest,or
 g.apache.commons.io,org.apache.commons.io.build,org.apache.commons.io.f
 ile.attribute,org.apache.commons.io.input,org.apache.commons.io.output,
 org.apache.commons.commons-codec;resolution:=optional,org.apache.common
 s.commons-io;resolution:=optional
Include-Resource: META-INF/LICENSE.txt=LICENSE.txt,META-INF/NOTICE.txt=N
 OTICE.txt
Originally-Created-By: Apache Maven Bundle Plugin 5.1.9
Require-Capability: osgi.ee;filter:=&quot;(&amp;amp;(osgi.ee=JavaSE)(version=1.8))&quot;
Tool: Bnd-6.4.1.202306080939
Multi-Release: true
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which includes&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.commons.commons-codec;resolution:=optional
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which instead should be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.commons.codec;resolution:=optional
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;?&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17818517" author="JIRAUSER281815" created="Mon, 19 Feb 2024 15:55:24 +0000"  >&lt;p&gt;Thanks for the quick response!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The change you suggest would unfortunately not fix the issue. What I need is that every package import that comes from org.apache.commons.codec also has a resolution:=optional attribute. So in your concrete example, I need to replace this:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.commons.codec,org.apache.commons.codec.digest&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;with this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.commons.codec;resolution:=optional,org.apache.commons.codec.digest;resolution:=optional&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I almost have a PR ready for this change, I guess I&apos;ll be able to submit it by tomorrow.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Regarding the &quot;org.apache.commons.commons-codec;resolution:=optional&quot; line: I don&apos;t really understand what it means and what it references, since such a package doesnt exist as far as I know. It doesn&apos;t hurt us though, since it&apos;s optional anyways and I don&apos;t understand the implications of removing it. So if it was my decision, I&apos;d just leave it in there.&lt;/p&gt;</comment>
                            <comment id="17818521" author="garydgregory" created="Mon, 19 Feb 2024 16:07:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloy_vector&quot; class=&quot;user-hover&quot; rel=&quot;cloy_vector&quot;&gt;cloy_vector&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;K, we&apos;ll wait for the PR. TY! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17818718" author="JIRAUSER281815" created="Tue, 20 Feb 2024 09:40:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&#160; Done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; See the linked PR&lt;/p&gt;</comment>
                            <comment id="17819294" author="garydgregory" created="Wed, 21 Feb 2024 15:30:53 +0000"  >&lt;p&gt;In git master and snapshot builds https: &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-compress/1.26.1-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-compress/1.26.1-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nhmo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>