<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:31:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-286] Error while expanding 7z java.io.EOFException</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-286</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>
&lt;p&gt;Using 7zip (9.2) able to extract these downloaded files&lt;br/&gt;
&lt;a href=&quot;http://downloads.sourceforge.net/sourceforge/wxwindows/3.0.0/binaries/wxMSW-3.0.0_vc120_Dev.7z&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://downloads.sourceforge.net/sourceforge/wxwindows/3.0.0/binaries/wxMSW-3.0.0_vc120_Dev.7z&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://downloads.sourceforge.net/sourceforge/wxwindows/3.0.0/binaries/wxMSW-3.0.0_vc120_ReleaseDLL.7z&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://downloads.sourceforge.net/sourceforge/wxwindows/3.0.0/binaries/wxMSW-3.0.0_vc120_ReleaseDLL.7z&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Commons-compress 1.6 had issues with these files that seemed related to &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-257&quot; title=&quot;7z should support the BCJ filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-257&quot;&gt;&lt;del&gt;COMPRESS-257&lt;/del&gt;&lt;/a&gt;  so tried to use 1.8 as identified fixed in version. Some issues where fixed.&lt;/p&gt;

&lt;p&gt;Using maven + antrun&lt;br/&gt;
				&amp;lt;plugin&amp;gt;&lt;br/&gt;
					&amp;lt;artifactId&amp;gt;maven-antrun-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
					&amp;lt;version&amp;gt;1.7&amp;lt;/version&amp;gt;&lt;br/&gt;
					&amp;lt;dependencies&amp;gt;&lt;br/&gt;
						&amp;lt;dependency&amp;gt;&lt;br/&gt;
							&amp;lt;groupId&amp;gt;ant-contrib&amp;lt;/groupId&amp;gt;&lt;br/&gt;
							&amp;lt;artifactId&amp;gt;ant-contrib&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
							&amp;lt;version&amp;gt;1.0b3&amp;lt;/version&amp;gt;&lt;br/&gt;
							&amp;lt;exclusions&amp;gt;&lt;br/&gt;
								&amp;lt;exclusion&amp;gt;&lt;br/&gt;
									&amp;lt;groupId&amp;gt;ant&amp;lt;/groupId&amp;gt;&lt;br/&gt;
									&amp;lt;artifactId&amp;gt;ant&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
								&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
							&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
						&amp;lt;/dependency&amp;gt;&lt;br/&gt;
						&amp;lt;dependency&amp;gt;&lt;br/&gt;
							&amp;lt;groupId&amp;gt;org.apache.ant&amp;lt;/groupId&amp;gt;&lt;br/&gt;
							&amp;lt;artifactId&amp;gt;ant-nodeps&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
							&amp;lt;version&amp;gt;1.8.1&amp;lt;/version&amp;gt;&lt;br/&gt;
						&amp;lt;/dependency&amp;gt;&lt;br/&gt;
						&amp;lt;dependency&amp;gt;&lt;br/&gt;
							&amp;lt;groupId&amp;gt;org.apache.commons&amp;lt;/groupId&amp;gt;&lt;br/&gt;
							&amp;lt;artifactId&amp;gt;commons-compress&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
							&amp;lt;version&amp;gt;1.8&amp;lt;/version&amp;gt;&lt;br/&gt;
						&amp;lt;/dependency&amp;gt;&lt;br/&gt;
						&amp;lt;dependency&amp;gt;&lt;br/&gt;
							&amp;lt;groupId&amp;gt;org.apache.ant&amp;lt;/groupId&amp;gt;&lt;br/&gt;
							&amp;lt;artifactId&amp;gt;ant-compress&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
							&amp;lt;version&amp;gt;1.4&amp;lt;/version&amp;gt;&lt;br/&gt;
						&amp;lt;/dependency&amp;gt;&lt;br/&gt;
					&amp;lt;/dependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.maven.plugin.MojoExecutionException: An Ant BuildException has occured: Error while expanding Z:\download\wxMSW-3.0.0_vc120_Dev.7z&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
around Ant part ...&amp;lt;un7z dest=&quot;C:\target/x86&quot; overwrite=&quot;false&quot; sr&lt;br/&gt;
c=&quot;z:\download/wxMSW-3.0.0_vc120_Dev.7z&quot;/&amp;gt;... @ 26:237 in C:\target\antrun\build-download.xml&lt;br/&gt;
        at org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:355)&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)&lt;br/&gt;
        ... 17 more&lt;br/&gt;
Caused by: c:\target\antrun\build-download.xml:26: Error while expand&lt;br/&gt;
ing c:\download\wxMSW-3.0.0_vc120_Dev.7z&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z.expandFile(Un7z.java:92)&lt;br/&gt;
        at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:132)&lt;br/&gt;
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
        at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
        at org.apache.tools.ant.Target.execute(Target.java:390)&lt;br/&gt;
        at org.apache.tools.ant.Target.performTasks(Target.java:411)&lt;br/&gt;
        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)&lt;br/&gt;
        at org.apache.tools.ant.Project.executeTarget(Project.java:1368)&lt;br/&gt;
        at org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:327)&lt;br/&gt;
        ... 19 more&lt;br/&gt;
Caused by: java.io.EOFException&lt;br/&gt;
        at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:273)&lt;br/&gt;
        at org.tukaani.xz.rangecoder.RangeDecoderFromStream.normalize(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.rangecoder.RangeDecoder.decodeBit(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder$LiteralDecoder$LiteralSubdecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder$LiteralDecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.LZMAInputStream.read(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.SimpleInputStream.read(Unknown Source)&lt;br/&gt;
        at org.apache.commons.compress.utils.BoundedInputStream.read(BoundedInputStream.java:62)&lt;br/&gt;
        at org.apache.commons.compress.utils.ChecksumVerifyingInputStream.read(ChecksumVerifyingInputStream.java:85)&lt;br/&gt;
        at org.apache.commons.compress.archivers.sevenz.SevenZFile.read(SevenZFile.java:900)&lt;br/&gt;
        at org.apache.commons.compress.archivers.sevenz.SevenZFile.read(SevenZFile.java:886)&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z$1.read(Un7z.java:77)&lt;br/&gt;
        at org.apache.tools.ant.taskdefs.Expand.extractFile(Expand.java:343)&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z.expandFile(Un7z.java:71)&lt;br/&gt;
        ... 32 more&lt;/p&gt;


&lt;p&gt;I noticed while raising this that there is a newer 1.8.1 version, which still seems to have the same issue, now in a different location.&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.maven.plugin.MojoExecutionException: An Ant BuildException has occured: Error while expanding Z:\download\wxMSW-3.0.0_vc120_ReleaseDLL.7z&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
around Ant part ...&amp;lt;un7z dest=&quot;C:\Data/x86&quot; overwrite=&quot;false&quot; sr&lt;br/&gt;
c=&quot;Z:/download/wxMSW-3.0.0_vc120_ReleaseDLL.7z&quot;/&amp;gt;... @ 27:244 in C:\target\antrun\build-download.xml&lt;br/&gt;
        at org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:355)&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)&lt;br/&gt;
        ... 17 more&lt;br/&gt;
Caused by: c:\target\antrun\build-download.xml:27: Error while expanding Z:\download\wxMSW-3.0.0_vc120_ReleaseDLL.7z&lt;br/&gt;
java.io.EOFException&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z.expandFile(Un7z.java:92)&lt;br/&gt;
        at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:132)&lt;br/&gt;
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)&lt;br/&gt;
        at org.apache.tools.ant.Task.perform(Task.java:348)&lt;br/&gt;
        at org.apache.tools.ant.Target.execute(Target.java:390)&lt;br/&gt;
        at org.apache.tools.ant.Target.performTasks(Target.java:411)&lt;br/&gt;
        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)&lt;br/&gt;
        at org.apache.tools.ant.Project.executeTarget(Project.java:1368)&lt;br/&gt;
        at org.apache.maven.plugin.antrun.AntRunMojo.execute(AntRunMojo.java:327)&lt;br/&gt;
        ... 19 more&lt;br/&gt;
Caused by: java.io.EOFException&lt;br/&gt;
        at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:273)&lt;br/&gt;
        at org.tukaani.xz.rangecoder.RangeDecoderFromStream.normalize(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.rangecoder.RangeDecoder.decodeBit(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder$LiteralDecoder$LiteralSubdecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder$LiteralDecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.lzma.LZMADecoder.decode(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.LZMAInputStream.read(Unknown Source)&lt;br/&gt;
        at org.tukaani.xz.SimpleInputStream.read(Unknown Source)&lt;br/&gt;
        at org.apache.commons.compress.utils.BoundedInputStream.read(BoundedInputStream.java:62)&lt;br/&gt;
        at org.apache.commons.compress.utils.ChecksumVerifyingInputStream.read(ChecksumVerifyingInputStream.java:85)&lt;br/&gt;
        at org.apache.commons.compress.archivers.sevenz.SevenZFile.read(SevenZFile.java:906)&lt;br/&gt;
        at org.apache.commons.compress.archivers.sevenz.SevenZFile.read(SevenZFile.java:889)&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z$1.read(Un7z.java:77)&lt;br/&gt;
        at org.apache.tools.ant.taskdefs.Expand.extractFile(Expand.java:343)&lt;br/&gt;
        at org.apache.ant.compress.taskdefs.Un7z.expandFile(Un7z.java:71)&lt;br/&gt;
        ... 32 more&lt;/p&gt;


&lt;p&gt;The last file appears to be intact but has an incorrect (current) timestamp.&lt;br/&gt;
If the file is already present then the exception doesn&apos;t get raised.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows8, Java6&lt;/p&gt;</environment>
        <key id="12733000">COMPRESS-286</key>
            <summary>Error while expanding 7z java.io.EOFException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gdomjan">Greg Domjan</reporter>
                        <labels>
                            <label>7z</label>
                            <label>XZ</label>
                            <label>ant</label>
                            <label>maven2</label>
                            <label>newbie</label>
                    </labels>
                <created>Sat, 9 Aug 2014 02:27:22 +0000</created>
                <updated>Mon, 25 Aug 2014 18:03:55 +0000</updated>
                            <resolved>Thu, 21 Aug 2014 18:40:43 +0000</resolved>
                                    <version>1.8</version>
                    <version>1.8.1</version>
                                    <fixVersion>1.9</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14092470" author="bodewig" created="Mon, 11 Aug 2014 05:50:16 +0000"  >&lt;p&gt;The stack trace looks like something deep into XZ, we may need some help from the XZ for Java project, I&apos;ll look into it.&lt;/p&gt;

&lt;p&gt;When you say &quot;The last file appears to be intact but has an incorrect (current) timestamp.&quot; what exactly do you mean with &quot;last file&quot; - the last entry of the &lt;tt&gt;Release&lt;/tt&gt; archive?&lt;/p&gt;</comment>
                            <comment id="14093370" author="gdomjan" created="Mon, 11 Aug 2014 21:49:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bodewig&quot; class=&quot;user-hover&quot; rel=&quot;bodewig&quot;&gt;bodewig&lt;/a&gt; To clarify &quot;The last file appears to be intact&quot; - the last file extracted from the archive by commons-compress is a binary match with an extract using 7z but in the windows filesystem it has not had the date set to match the archive.&lt;br/&gt;
Both of the example archives have an EOF and the last file extracted is treated the same way.&lt;/p&gt;</comment>
                            <comment id="14093740" author="bodewig" created="Tue, 12 Aug 2014 05:00:10 +0000"  >&lt;p&gt;Thanks, Greg.&lt;/p&gt;

&lt;p&gt;I can reproduce the issue without the layers of Maven/Ant and the Compress Antlib in between.  I&apos;ll try to extract the raw LZMA stream in order to see whether the problem is Compress&apos; handling of the streams or XZ for Java&apos;s LZMA decompression.&lt;/p&gt;</comment>
                            <comment id="14103406" author="bodewig" created="Wed, 20 Aug 2014 05:28:47 +0000"  >&lt;p&gt;Thanks to Lasse Collin I now know where the problem is (for LZMA streams we need to pass the uncompressed size to the constructor).  We&apos;ll need to modify some internal APIs, but it at least we now know how to fix it.&lt;/p&gt;</comment>
                            <comment id="14105747" author="bodewig" created="Thu, 21 Aug 2014 18:40:43 +0000"  >&lt;p&gt;should be fixed with svn revision 1619505&lt;/p&gt;</comment>
                            <comment id="14109417" author="gdomjan" created="Mon, 25 Aug 2014 18:03:55 +0000"  >&lt;p&gt;Thanks Stefan.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ypr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>