<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:32:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-411] TarUtils.formatLongOctalOrBinaryBytes never uses result of formatLongBinary</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-411</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;if the length &amp;lt; 9, formatLongBinary is executed, then overwritten by the results of formatBigIntegerBinary. &lt;/p&gt;

&lt;p&gt;If the results are not ignored, a unit test would fail.&lt;/p&gt;

&lt;p&gt;Also, do the binary hacks  need to support negative numbers? &lt;/p&gt;</description>
                <environment></environment>
        <key id="13079596">COMPRESS-411</key>
            <summary>TarUtils.formatLongOctalOrBinaryBytes never uses result of formatLongBinary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sesuncedu">Simon Spero</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jun 2017 23:10:49 +0000</created>
                <updated>Thu, 21 Sep 2017 06:22:24 +0000</updated>
                            <resolved>Thu, 21 Sep 2017 06:22:24 +0000</resolved>
                                    <version>1.14</version>
                                    <fixVersion>1.15</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16052382" author="sesuncedu" created="Fri, 16 Jun 2017 20:56:25 +0000"  >&lt;p&gt;I have fixed various issues in the handling of base256 encoded long numbers (I saw that negative numbers are used for STAR timestamps from before the epoch).&lt;/p&gt;

&lt;p&gt;One of the issues involved the maximum size of a number.  The number of bits available to represent the number is one less than the total number of bits available.  Thus, an eight byte field can hold up to a 63 bit 2&apos;s-complement integer.  &lt;br/&gt;
Further, the range of such a number is from -2 &lt;sup&gt;n-1&lt;/sup&gt; to 2 &lt;sup&gt;n-1&lt;/sup&gt; -1 , which can cause range overflows.  &lt;/p&gt;</comment>
                            <comment id="16052967" author="bodewig" created="Sat, 17 Jun 2017 19:44:27 +0000"  >&lt;p&gt;We deliberately store negative numbers in binary fields, yes.&lt;/p&gt;

&lt;p&gt;You are certainly correct the code looks weird, &lt;tt&gt;formatBigIntegerBinary&lt;/tt&gt; should probably be executed inside an &lt;tt&gt;else&lt;/tt&gt; branch.&lt;/p&gt;

&lt;p&gt;It&apos;s been a long time since I&apos;ve last looked at the way binary numbers are stored, but looking at the code we don&apos;t use the most significant bit to signal negative numbers but the first byte - which is 0xff for negative numbers and only the remaining 7 bytes are used. But we can use all 56 bits of these 7 bytes (assuming length is 8). &lt;/p&gt;

&lt;p&gt;As we are calculating the twos-complement in &lt;tt&gt;formatLongBinary&lt;/tt&gt; I think we should be safe, if we did it correctly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Fix will be available soon.&lt;/p&gt;

&lt;p&gt;Also&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; val = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs(value);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is going to result in a negative value for &lt;tt&gt;Long.MIN_VALUE&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16052974" author="bodewig" created="Sat, 17 Jun 2017 19:49:53 +0000"  >&lt;p&gt;I think the binary encoding should now be correct, the major problem was using &lt;tt&gt;0xff&amp;lt;&amp;lt;bits&lt;/tt&gt; rather than &lt;tt&gt;0xffl&amp;lt;&amp;lt;bits&lt;/tt&gt; when we wanted to set the most significant byte.&lt;/p&gt;</comment>
                            <comment id="16053045" author="sesuncedu" created="Sun, 18 Jun 2017 01:46:35 +0000"  >&lt;p&gt;I have a full set of fixes (apart from checking when decoding  that for base256 values the most significant bytes for lengths &amp;gt; 8 octets are just sign extension (i.e. 0x080 + 0x00&lt;/p&gt;
{p} or 0xff + 0xff{p}
&lt;p&gt;.&lt;/p&gt;

&lt;p&gt;The changes are mixed in with a bunch of other changes to TarUtils that are needed for direct encoding/decoding to ByteBuffers. I needed to make sure the byte array versions were behaving correctly as they are needed for tests.  Unfortunately most of the methods in TarUtils are declared public, as is the class, so the API has to be maintained, but my plan is to deprecate them, move their bodies into a package private class in test, and delegate the functionality to the new methods, which can remain package private (I doubt there is any especially pressing need for classes outside of the tar implementation to call these methods. &lt;/p&gt;</comment>
                            <comment id="16053047" author="sesuncedu" created="Sun, 18 Jun 2017 02:10:37 +0000"  >&lt;p&gt;Can you grant me &lt;tt&gt;Assign issues&lt;/tt&gt;, &lt;tt&gt;Assignable user&lt;/tt&gt;, &lt;tt&gt;Transition issues&lt;/tt&gt;, and &lt;tt&gt;Resolve issues&lt;/tt&gt; on the project (assuming that the review and commit/merge phase of the workflow take place  starting in RESOLVED). This doesn&apos;t include  &lt;tt&gt;Close issues&lt;/tt&gt;.  &lt;br/&gt;
&lt;a href=&quot;https://confluence.atlassian.com/adminjiraserver073/managing-project-permissions-861253293.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://confluence.atlassian.com/adminjiraserver073/managing-project-permissions-861253293.html&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;I keep wanting  to self assign and mark &quot;IN PROGRESS&quot;, so that effort isn&apos;t duplicated. &lt;br/&gt;
I &lt;em&gt;thing&lt;/em&gt; that  requires assign,assignable &amp;amp;  transition, though it depends on how the  workflow is set up. &lt;/p&gt;</comment>
                            <comment id="16053067" author="bodewig" created="Sun, 18 Jun 2017 03:56:52 +0000"  >&lt;p&gt;I agree that &lt;tt&gt;TarUtils&lt;/tt&gt; and all its methods being public is more of a historical accident than something that was really required. It&apos;s been that way since the very first version of the tar package I&apos;m aware of: &lt;a href=&quot;https://github.com/apache/ant/commit/bf94e2fb091644d9c249322d9574ab6bb1e6a3d8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/ant/commit/bf94e2fb091644d9c249322d9574ab6bb1e6a3d8&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We&apos;ve never used JIRA workflows in any structured way for this project. In particular we almost never assign issues. And RESOLVED is the state when the code has reached the ASF repo, not when a patch is available. Usually effort isn&apos;t duplicated by virtue of not enough people being around who would work on an issue anyway. If you intend to work on an issue, just leave a comment.&lt;/p&gt;</comment>
                            <comment id="16053266" author="sesuncedu" created="Sun, 18 Jun 2017 17:26:51 +0000"  >&lt;p&gt;Everything I&apos;ve opened so far has been something I&apos;m working on, or will be shortly  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Annoyingly, JIRA doesn&apos;t support workflow triggers from github integration until a Pull-Request is created (which the examples discuss as being suitable for moving into an &quot;In Review&quot; state  (merging a PR is the closeout state).  I&apos;m not sure if that works if the merge is done wrt the asf git (I&apos;ve always just assumed the github repository is a one-way mirror). &lt;/p&gt;

&lt;p&gt;What I really want is some way to only not receive a billion different notifications for every commit or comment -  I really wish I hadn&apos;t found the rat issue that was breaking coveralls &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://confluence.atlassian.com/adminjiraserver071/configuring-workflow-triggers-802592811.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://confluence.atlassian.com/adminjiraserver071/configuring-workflow-triggers-802592811.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16053527" author="bodewig" created="Mon, 19 Jun 2017 06:39:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Everything I&apos;ve opened so far has been something I&apos;m working on, or will be shortly &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This may be true in your case but for most JIRAs the reporter is not the one who&apos;s going to provide the changes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The issue of where to discuss things is bothering me as well. github is a read-only mirror but PRs are becoming more important than patches attached to JIRA lately. Comments on PRs get reflected in JIRA but not the other way around, so for review comments I prefer to use github. For discussion about the content of the issue itself - what is the problem, is there a problem at all? - I prefer JIRA. And then there are things that may need a bigger audience than two people involved in a single JIRA ticket in order to get them resolved, this where I really prefer the mailing list over any tracker.&lt;/p&gt;</comment>
                            <comment id="16053720" author="sesuncedu" created="Mon, 19 Jun 2017 09:48:00 +0000"  >&lt;p&gt;The mailing list suffers from the billions of duplicated emails from jira&lt;br/&gt;
vs github (featuring coveralls).&lt;br/&gt;
Wait  - I think I see your point. The volume is such that I have missed&lt;br/&gt;
important emails that need reply (eg I need to reply to an email of yours&lt;br/&gt;
about how users would identify versions to report in OSGI situations (it&lt;br/&gt;
really needs illustration from Kafka /Felix (which in turn requires a faux&lt;br/&gt;
compress to add multi versions, and multi issues.)&lt;/p&gt;

&lt;p&gt;The conclusolory statement that &quot;its not a problem&quot; is not helpful. Showing&lt;br/&gt;
what would be sent is.&lt;br/&gt;
The real confusion comes from bad declarations ; other issues comes from&lt;br/&gt;
failed resolution. This former can be pom tracing hell ; the latter is&lt;br/&gt;
interpreting constraint satisfaction problem errors. Both get better with&lt;br/&gt;
more precise versions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; But that&apos;s just me saying that.&lt;/p&gt;

</comment>
                            <comment id="16053800" author="bodewig" created="Mon, 19 Jun 2017 10:58:02 +0000"  >&lt;p&gt;I&apos;m afraid this is the wrong place to discuss the meta question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I had not noticed how dev@ had become, see &lt;a href=&quot;https://lists.apache.org/thread.html/16e6144c52c8639aca9da1b2be0acc40e6b29469c21a64d062b4c39c@%3Cdev.commons.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/16e6144c52c8639aca9da1b2be0acc40e6b29469c21a64d062b4c39c@%3Cdev.commons.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m not saying &quot;its not a problem&quot; would be a helpful response, but &quot;I don&apos;t see the problem, please explain it to me, convince me&quot; is.&lt;/p&gt;</comment>
                            <comment id="16097647" author="bodewig" created="Sun, 23 Jul 2017 14:36:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sesuncedu&quot; class=&quot;user-hover&quot; rel=&quot;sesuncedu&quot;&gt;sesuncedu&lt;/a&gt; are you still planning to add anything on top of my fix or can we close this?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g8fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>