<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:29:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-28] CPIO reports unexpected EOF</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-28</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;When unpacking an CPIO archive (made with the compress classes or even made with OSX cpio comandline tool) an EOF exception is thrown.&lt;br/&gt;
Here is the testcode:&lt;/p&gt;

&lt;p&gt;        final File input = getFile(&quot;cmdcreated.cpio&quot;);&lt;/p&gt;

&lt;p&gt;        final InputStream in = new FileInputStream(input);&lt;br/&gt;
        CpioArchiveInputStream cin = new CpioArchiveInputStream(in);&lt;/p&gt;

&lt;p&gt;        CpioArchiveEntry entry = null;&lt;/p&gt;

&lt;p&gt;        while ((entry = (CpioArchiveEntry) cin.getNextCPIOEntry()) != null) &lt;/p&gt;
{
            File target = new File(dir, entry.getName());
            final OutputStream out = new FileOutputStream(target);
            IOUtils.copy(in, out);
            out.close();
        }

&lt;p&gt;        cin.close();&lt;/p&gt;

&lt;p&gt;Stacktrace is here:&lt;/p&gt;

&lt;p&gt;java.io.EOFException&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.readFully(CpioArchiveInputStream.java:293)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStream.getNextCPIOEntry(CpioArchiveInputStream.java:168)&lt;br/&gt;
	at org.apache.commons.compress.archivers.cpio.CpioArchiveInputStreamTest.testCpioUnpack(CpioArchiveInputStreamTest.java:26)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;This happens with the first read access to the archive. It occured while my try to improve the testcases.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12417353">COMPRESS-28</key>
            <summary>CPIO reports unexpected EOF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="grobmeier">Christian Grobmeier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Mar 2009 06:36:55 +0000</created>
                <updated>Tue, 2 May 2023 17:11:25 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 10:58:34 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12683773" author="grobmeier" created="Fri, 20 Mar 2009 07:01:31 +0000"  >&lt;p&gt;In my cpio are two xml files, test1.xml and test2.xml.&lt;br/&gt;
test1.xml&apos;s header can be read. The file is written to the disc from the correct start point. But it looks like cpio cannot find the end of my file. It simply writes the rest of the archive too into test1.xml till the stream ended. After that the EOF raises.&lt;/p&gt;

&lt;p&gt;To make it more clear. test1.xml contains something like that:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version = &apos;1.0&apos;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE connections&amp;gt;&lt;br/&gt;
&amp;lt;connections&amp;gt;&lt;br/&gt;
&amp;lt;/connections&amp;gt;&lt;br/&gt;
07070200042db5000081a4000001f5000001f50000000149c1df900000004e0000000e0000000500&lt;br/&gt;
000000000000000000000a00001802test2.xml^@&amp;lt;?xml version = &apos;1.0&apos;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE connections&amp;gt;&lt;br/&gt;
&amp;lt;meinxml&amp;gt;&lt;br/&gt;
        &amp;lt;leer /&amp;gt;&lt;br/&gt;
&amp;lt;/meinxml&amp;gt;&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@0707020000000000000000000000000000000000000001000000000000000000000000000000&lt;br/&gt;
0000000000000000000000000b00000000TRAILER!!!&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;br/&gt;
&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@&lt;sup&gt;@&lt;/sup&gt;@^@&lt;/p&gt;</comment>
                            <comment id="12688231" author="grobmeier" created="Mon, 23 Mar 2009 07:09:53 +0000"  >&lt;p&gt;This patch improves the javadoc of the CPIO classes - it has been done due to analysis of this issue&lt;/p&gt;</comment>
                            <comment id="12688236" author="grobmeier" created="Mon, 23 Mar 2009 08:07:21 +0000"  >&lt;p&gt;This is a bug in the testcases &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I provide the patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="12688250" author="bodewig" created="Mon, 23 Mar 2009 09:11:22 +0000"  >&lt;p&gt;Javadoc patch committed with some minor cosmetic changes to make it look more readable.&lt;/p&gt;</comment>
                            <comment id="12689362" author="grobmeier" created="Thu, 26 Mar 2009 05:13:40 +0000"  >&lt;p&gt;This patch includes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Improvment of Testcases&lt;/li&gt;
	&lt;li&gt;Small changes on CpioOutstream: to work correctly with this Streams, you had to call a finish() method besides the usually closeEntry. Now its working as all the other Stream classes in compress&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When applied, this issue should be resolved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12403416" name="patch-improvedcpiodocs.txt" size="11093" author="cgrobmeier" created="Mon, 23 Mar 2009 07:09:53 +0000"/>
                            <attachment id="12403687" name="patch_cpiotestcases_closing.txt" size="7926" author="cgrobmeier" created="Thu, 26 Mar 2009 05:13:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>