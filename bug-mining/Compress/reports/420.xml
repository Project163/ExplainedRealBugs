<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:34:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-582] Pack200CompressorOutputStream fails at runtime in 1.21 if ASM 4.0+ is used</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-582</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;I just tried to upgrade an existing codebase to commons-compress 1.21 (from 1.20, which was working correctly) and encountered the following error in code trying to use the Pack200CompressorOutputStream:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IncompatibleClassChangeError: class 
org.apache.commons.compress.harmony.pack200.Segment can not implement 
org.objectweb.asm.ClassVisitor, because it is not an &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; 
(org.objectweb.asm.ClassVisitor is in unnamed module of loader &lt;span class=&quot;code-quote&quot;&gt;&apos;app&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The Segment class &lt;tt&gt;implements&lt;/tt&gt; rather than &lt;tt&gt;extends&lt;/tt&gt; ClassVisitor. It looks like commons-compress is built against asm 3.2. Per &lt;a href=&quot;https://asm.ow2.io/versions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://asm.ow2.io/versions.html&lt;/a&gt;, ClassVisitor was converted from an interface to an abstract class in asm 4.0, which was released in 2011, &quot;in order to ensure backward binary compatibility in future ASM versions&quot;. To be clear, our project needs a more recent asm version on the classpath to support other libraries.&lt;/p&gt;

&lt;p&gt;I have a repro of the error here, in case it helps: &lt;a href=&quot;https://github.com/AlexLandau/commons-compress-asm-error&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/AlexLandau/commons-compress-asm-error&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I want to add that I appreciate the effort you are making to support pack200 in a way that will outlast the JDK&apos;s native support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13389709">COMPRESS-582</key>
            <summary>Pack200CompressorOutputStream fails at runtime in 1.21 if ASM 4.0+ is used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="AlexLandau">Alex Landau</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jul 2021 21:26:53 +0000</created>
                <updated>Sat, 14 Aug 2021 04:24:19 +0000</updated>
                            <resolved>Tue, 10 Aug 2021 14:52:07 +0000</resolved>
                                    <version>1.21</version>
                                    <fixVersion>1.22</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17380873" author="garydgregory" created="Wed, 14 Jul 2021 21:36:25 +0000"  >&lt;p&gt;Feel free to provide a PR on GitHub &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I see the current version of asm is 9.2 which I think we should target as opposed to whatever antique version we inherited from the Harmony port.&lt;/p&gt;</comment>
                            <comment id="17394987" author="garydgregory" created="Fri, 6 Aug 2021 20:42:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=AlexLandau&quot; class=&quot;user-hover&quot; rel=&quot;AlexLandau&quot;&gt;AlexLandau&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Patches welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17396657" author="blecher-at" created="Tue, 10 Aug 2021 12:49:41 +0000"  >&lt;p&gt;patch for this &lt;a href=&quot;https://github.com/apache/commons-compress/pull/216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-compress/pull/216&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;unfortunately&lt;/em&gt; the fix only works for asm7.0 and above, but this should cover most usecases.&lt;/p&gt;</comment>
                            <comment id="17396720" author="garydgregory" created="Tue, 10 Aug 2021 14:52:07 +0000"  >&lt;p&gt;Please see git master.&lt;/p&gt;</comment>
                            <comment id="17399086" author="alexlandau" created="Sat, 14 Aug 2021 04:24:19 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=blecher-at&quot; class=&quot;user-hover&quot; rel=&quot;blecher-at&quot;&gt;blecher-at&lt;/a&gt; for the fix!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0syi8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>