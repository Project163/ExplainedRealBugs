<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:30:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-244] 7z reading of UINT64 data type is wrong for big values</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-244</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;h2&gt;&lt;a name=&quot;Briefdescription&quot;&gt;&lt;/a&gt;Brief description&lt;/h2&gt;
&lt;p&gt;large values with a first byte indicating at least 4 additional bytes shift an integer by at least 32bits thus leading to an overflow and an incorrect value - the value needs to be casted to long before the bitshift!&lt;br/&gt;
(see the attached patch)&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Detailsfromthe7zdocumentation&quot;&gt;&lt;/a&gt;Details from the 7z documentation&lt;/h2&gt;
&lt;blockquote&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;UINT64 means real UINT64 encoded with the following scheme:
  Size of encoding sequence depends from first byte:
  First_Byte  Extra_Bytes        Value
  (binary)   
  0xxxxxxx               : ( xxxxxxx           )
  10xxxxxx    BYTE y[1]  : (  xxxxxx &amp;lt;&amp;lt; (8 * 1)) + y
  110xxxxx    BYTE y[2]  : (   xxxxx &amp;lt;&amp;lt; (8 * 2)) + y
  ...
  1111110x    BYTE y[6]  : (       x &amp;lt;&amp;lt; (8 * 6)) + y
  11111110    BYTE y[7]  :                         y
  11111111    BYTE y[8]  :                         y
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12681022">COMPRESS-244</key>
            <summary>7z reading of UINT64 data type is wrong for big values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nkruber">Nico Kruber</reporter>
                        <labels>
                            <label>7z</label>
                            <label>easyfix</label>
                            <label>patch</label>
                    </labels>
                <created>Mon, 25 Nov 2013 12:36:51 +0000</created>
                <updated>Tue, 10 Aug 2021 13:16:46 +0000</updated>
                            <resolved>Wed, 27 Nov 2013 05:36:33 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13831425" author="nkruber" created="Mon, 25 Nov 2013 12:42:31 +0000"  >&lt;p&gt;patch for readUint64 in SevenZFile.java&lt;/p&gt;</comment>
                            <comment id="13833484" author="bodewig" created="Wed, 27 Nov 2013 05:36:33 +0000"  >&lt;p&gt;Thanks, I&apos;ve taken a slightly different approach with svn revision 1545928&lt;/p&gt;

&lt;p&gt;Could you please verify I didn&apos;t make some dumb mistake?&lt;/p&gt;</comment>
                            <comment id="13833613" author="nkruber" created="Wed, 27 Nov 2013 09:46:41 +0000"  >&lt;p&gt;looks good - having the firstByte as long in the first place is, of course, also ok&lt;/p&gt;

&lt;p&gt;maybe add a comment on why the value which is obviously containing only a single byte needs to be &quot;long&quot; so that it is not changed back by mistake in the future?&lt;/p&gt;</comment>
                            <comment id="13833617" author="bodewig" created="Wed, 27 Nov 2013 09:57:31 +0000"  >&lt;p&gt;well, nextByte defined just a few lines later has always been a long, so it&apos;s been an oversight.&lt;/p&gt;

&lt;p&gt;Will add a comment, thanks.&lt;/p&gt;</comment>
                            <comment id="13833619" author="nkruber" created="Wed, 27 Nov 2013 09:59:25 +0000"  >&lt;p&gt;ok, thank you, too&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615586" name="fix-readUint64-for-large-values.diff" size="922" author="nkruber-old" created="Mon, 25 Nov 2013 12:42:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q3x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>