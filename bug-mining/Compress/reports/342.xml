<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:33:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-509] The ambiguous behavior of the TarArchiveEntry.getName() method</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-509</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Scenario: To tar an empty directory and then to untar it. When the name is longer than 100 characters, no ending slash appears.&lt;/p&gt;

&lt;p&gt;Example: see attachment&lt;/p&gt;

&lt;p&gt;Part of the output:&lt;/p&gt;

&lt;p&gt;..&lt;br/&gt;
dir/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/&lt;br/&gt;
dir/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/&lt;br/&gt;
dir/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;br/&gt;
dir/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;br/&gt;
..&lt;/p&gt;</description>
                <environment></environment>
        <key id="13296837">COMPRESS-509</key>
            <summary>The ambiguous behavior of the TarArchiveEntry.getName() method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="peterlee">Peter Lee</assignee>
                                    <reporter username="petr.vasak">Petr Vasak</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2020 14:10:11 +0000</created>
                <updated>Sat, 21 Nov 2020 07:39:11 +0000</updated>
                            <resolved>Sat, 21 Nov 2020 07:39:11 +0000</resolved>
                                    <version>1.18</version>
                    <version>1.20</version>
                                    <fixVersion>1.21</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17082805" author="peterlee" created="Tue, 14 Apr 2020 02:58:57 +0000"  >&lt;p&gt;Seems we have add a &apos;/&apos; for a directory name if it&apos;s not ended with a &apos;/&apos; - but we didn&apos;t do it for the gnu long name entry.&lt;/p&gt;

&lt;p&gt;I will try to figure this out and dig it a little deeper before fixing it in case I didn&apos;t make any mistake.&lt;/p&gt;

&lt;p&gt;Will update this issue later.&lt;/p&gt;</comment>
                            <comment id="17082974" author="peterlee" created="Tue, 14 Apr 2020 08:07:59 +0000"  >&lt;p&gt;Looks like we have added a &apos;/&apos; for a directory if its name is not ended with &apos;/&apos; - and this will only work for POSIX. And this will not happen if it&apos;s a OLD GNU or XSTAR tar.&lt;/p&gt;

&lt;p&gt;Basing on the comment in code, the adding of &apos;/&apos; for directory in POSIX looks like a fix for &lt;em&gt;SunOS tar -E.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Note that currently we are not adding &apos;/&apos; for a GNU long name entry - no matter it&apos;s POSIX, OLDGNU or XSTAR.&lt;/p&gt;

&lt;p&gt;Seems we have 2 options :&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Just adding a &apos;/&apos; for a GNU long name entry if it&apos;s a directory(when the name is not ended with &apos;/&apos;). This seems to cause another similiar problem like this issue : for OLD GNU or XSTAR entries, the name of directories will not automatically add a &apos;/&apos; - on the other hand the &apos;/&apos; will be automatically if the entry is a GNU long name entry.&lt;/li&gt;
	&lt;li&gt;Adding a &apos;/&apos; for a GNU long name entry and the OLD GNU (maybe including XSTART?) entry. This will make OLD GNU entry and GNU long name entry work consistently.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I prefer the second one. WDYT?&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bodewig&quot; class=&quot;user-hover&quot; rel=&quot;bodewig&quot;&gt;bodewig&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17100588" author="peterlee" created="Wed, 6 May 2020 08:38:16 +0000"  >&lt;p&gt;I have pushed a fix for this - just add a &apos;/&apos; for directories with long file name.&lt;/p&gt;

&lt;p&gt;And the attached Java test is also included.&lt;/p&gt;</comment>
                            <comment id="17114667" author="bodewig" created="Sat, 23 May 2020 10:23:04 +0000"  >&lt;p&gt;I&apos;m fine with always adding a / at the end for directories. We should probably record the change before closing this issue.&lt;/p&gt;</comment>
                            <comment id="17231330" author="peterlee" created="Fri, 13 Nov 2020 09:45:27 +0000"  >&lt;p&gt;&lt;em&gt;&amp;gt;&#160;I&apos;m fine with always adding a / at the end for directories. We should probably record the change before closing this issue.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Darn. I forgot to record this and I missed this issue. Thanks for the suggestion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12999242" name="Main.java" size="2331" author="petr.vasak" created="Tue, 7 Apr 2020 14:09:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dd9s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>