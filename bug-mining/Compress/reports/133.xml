<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:30:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-245] TarArchiveInputStream#getNextTarEntry returns null prematurely</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-245</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;The attached archive decompressed with 1.6 only extracts part of the archive. This does not happen with version 1.5&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FileInputStream fin = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;exampletar.tar.gz&quot;&lt;/span&gt;);
GZIPInputStream gin = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GZIPInputStream(fin);
TarArchiveInputStream tin = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TarArchiveInputStream(gin);            TarArchiveEntry entry;
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((entry = tin.getNextTarEntry()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The file is created with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;tar cvzf&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; in RHEL 6.5 and the contents look like this when extracted with the same tool:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;topdirectory/
topdirectory/about.html
topdirectory/.eclipseproduct
topdirectory/plugins/
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/about.html
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/eclipse.inf
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/ECLIPSEF.SF
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/MANIFEST.MF
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/ECLIPSEF.RSA
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/launcher.gtk.linux.x86_64.properties
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/eclipse_1206.so
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/about.html
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/fragment.properties
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/.api_description
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF/
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF/eclipse.inf
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF/ECLIPSEF.SF
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF/MANIFEST.MF
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF/ECLIPSEF.RSA
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/runtime_registry_compatibility.jar
topdirectory/configuration/
topdirectory/configuration/config.ini
topdirectory/icon.xpm
topdirectory/about_files/
topdirectory/about_files/pixman-licenses.txt
topdirectory/about_files/mpl-v11.txt
topdirectory/about_files/about_cairo.html
topdirectory/libcairo-swt.so
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;with commons-compress-1.6 it looks like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;topdirectory/
topdirectory/about.html
topdirectory/.eclipseproduct
topdirectory/plugins
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/about.html
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/eclipse.inf
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/ECLIPSEF.SF
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/MANIFEST.MF
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/META-INF/ECLIPSEF.RSA
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/launcher.gtk.linux.x86_64.properties
topdirectory/plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.0.200.v20090519/eclipse_1206.so
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/about.html
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/fragment.properties
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/.api_description
topdirectory/plugins/org.eclipse.core.runtime.compatibility.registry_3.2.200.v20090429-1800/META-INF
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12682878">COMPRESS-245</key>
            <summary>TarArchiveInputStream#getNextTarEntry returns null prematurely</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andreas.aronsson">Andreas Aronsson</reporter>
                        <labels>
                            <label>tar</label>
                    </labels>
                <created>Thu, 5 Dec 2013 11:01:39 +0000</created>
                <updated>Thu, 22 May 2014 14:00:29 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 05:23:51 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13840520" author="bodewig" created="Thu, 5 Dec 2013 20:18:02 +0000"  >&lt;p&gt;interesting, and a workaround for you: I get all 31 entries when using GzipCompressorInputStream from Commons Compress and only 18 when using GZIPInputStream - so the problem seems to be related to what happens during decompression.&lt;/p&gt;</comment>
                            <comment id="13840531" author="bodewig" created="Thu, 5 Dec 2013 20:25:24 +0000"  >&lt;p&gt;Just to be clear, there is a bug in Commons Compress.  If I uncompress your example archive using java.util.zip&apos;s code, I get a proper and complete tar archive.  Somehow GZIPInputStream&apos;s read must behave different from GzipCompressorInputStream and the later should work for you.&lt;/p&gt;</comment>
                            <comment id="13840994" author="bodewig" created="Fri, 6 Dec 2013 05:23:51 +0000"  >&lt;p&gt;fixed with svn revision 1548380&lt;/p&gt;

&lt;p&gt;Does your example tarball contain anything sensitive or can I add it to Compress&apos; testcases?&lt;/p&gt;</comment>
                            <comment id="13841037" author="andreas.aronsson" created="Fri, 6 Dec 2013 06:49:28 +0000"  >&lt;p&gt;I can confirm that the suggested workaround indeed solves the provided test case as well as two more I have in my setup. &lt;/p&gt;</comment>
                            <comment id="13841038" author="andreas.aronsson" created="Fri, 6 Dec 2013 06:50:46 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Does your example tarball contain anything sensitive or can I add it to Compress&apos; testcases?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I tried to make sure to remove anything sensitive. Most, if not all of it are files from an old eclipse distributin. &lt;/p&gt;</comment>
                            <comment id="13841048" author="andreas.aronsson" created="Fri, 6 Dec 2013 07:10:29 +0000"  >&lt;p&gt;A patch already. That was fast!&lt;br/&gt;
I am curious, are you editing changes.xml manually or is there some way to automate it? Even if it is only adding the date it would help. &lt;/p&gt;</comment>
                            <comment id="13841064" author="bodewig" created="Fri, 6 Dec 2013 07:38:27 +0000"  >&lt;p&gt;great, I added a testcase.&lt;/p&gt;

&lt;p&gt;As the bug stands another likely workaround would be to put a BufferedInputStream between gzip and tar if you&apos;d prefer to stick with java.util.zip.&lt;/p&gt;

&lt;p&gt;And no, unfortunately I edit changes,xml manually.&lt;/p&gt;</comment>
                            <comment id="13841129" author="andreas.aronsson" created="Fri, 6 Dec 2013 09:38:47 +0000"  >&lt;p&gt;Good stuff. &lt;br/&gt;
What is the normal workflow, I close the issue after 1.7 is released and I verified with that build? &lt;/p&gt;</comment>
                            <comment id="13841147" author="bodewig" created="Fri, 6 Dec 2013 10:14:05 +0000"  >&lt;p&gt;That would be nice, yes.&lt;/p&gt;

&lt;p&gt;The &quot;normal workflow&quot; is more like &quot;nobody cares whether the ticket gets closed once it has been resolved&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14005932" author="andreas.aronsson" created="Thu, 22 May 2014 14:00:29 +0000"  >&lt;p&gt;Works!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12683825">COMPRESS-249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617150" name="exampletar.tar.gz" size="239255" author="andreas.aronsson" created="Thu, 5 Dec 2013 11:02:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qf9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>