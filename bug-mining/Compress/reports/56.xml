<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:29:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-119] TarArchiveOutputStream#finish doesn&apos;t flush content to underlying stream</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-119</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Originally reported against Ant &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=50014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=50014&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The finish() method of TarOutputStream does not flush the TarBuffer to the&lt;br/&gt;
underlying output stream. A subsequent flush() on the TarOutputStream&lt;br/&gt;
unexpectedly does not flush all written data to the underlying stream.&lt;/p&gt;

&lt;p&gt;Case: If an outputStream is tied to a Socket OutputStream, the receiving server&lt;br/&gt;
can be notified that the stream has finished by calling the&lt;br/&gt;
Socket.shutdownOutput() method while still allowing the server to respond to&lt;br/&gt;
the client e.g. for sending a status report of the finished data transfer. This&lt;br/&gt;
is in particular usefull if the size of the stream is not known in advance such&lt;br/&gt;
as for a tar stream generated on the fly at the client side.&lt;/p&gt;

&lt;p&gt;The above case relies on all data being sent to the server before invoking&lt;br/&gt;
Socket.shutdownOutput(). The TarOutputStream finish() method suggests to be&lt;br/&gt;
doing just this but in practice does not send any remaining data in the&lt;br/&gt;
TarBuffer. Calling the TarOutputStream close() method is not an option in this&lt;br/&gt;
case since this also closes the Socket connection.&lt;/p&gt;

&lt;p&gt;Quick fix: insert a buffer.flushBlock() statement at the end of the&lt;br/&gt;
TarOutputStream.finish() method.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12475758">COMPRESS-119</key>
            <summary>TarArchiveOutputStream#finish doesn&apos;t flush content to underlying stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bodewig">Stefan Bodewig</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Oct 2010 12:28:53 +0000</created>
                <updated>Tue, 26 Oct 2010 09:46:00 +0000</updated>
                            <resolved>Tue, 26 Oct 2010 09:46:00 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12924908" author="bodewig" created="Tue, 26 Oct 2010 09:46:00 +0000"  >&lt;p&gt;fixed with svn revision 1027427&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>