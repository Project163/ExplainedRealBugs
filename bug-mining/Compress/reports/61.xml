<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:29:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-137] TarArchiveEntry.getFile() always returns null + no way to get an InputStream from TarArchiveInputStream similar to what you do with (java.util.zip.ZipFile())..getInputStream(ZipEntry);</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-137</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;~ &lt;br/&gt;
 this is a test run using httpd-2.2.19.tar&lt;span class=&quot;error&quot;&gt;&amp;#91;.gz,bz2&amp;#93;&lt;/span&gt; to show what I mean&lt;br/&gt;
~ &lt;br/&gt;
 lbrtchx&lt;br/&gt;
~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ &lt;br/&gt;
$ wget &lt;a href=&quot;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.gz&lt;/a&gt;&lt;br/&gt;
-&lt;del&gt;2011-06-27 11:21:46&lt;/del&gt;-  &lt;a href=&quot;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.gz&lt;/a&gt;&lt;br/&gt;
Resolving apache.cyberuse.com... 174.132.149.89&lt;br/&gt;
Connecting to apache.cyberuse.com|174.132.149.89|:80... connected.&lt;br/&gt;
HTTP request sent, awaiting response... 200 OK&lt;br/&gt;
Length: 7113418 (6.8M) &lt;span class=&quot;error&quot;&gt;&amp;#91;application/x-gzip&amp;#93;&lt;/span&gt;&lt;br/&gt;
Saving to: `httpd-2.2.19.tar.gz&apos;&lt;/p&gt;

&lt;p&gt;100%&lt;span class=&quot;error&quot;&gt;&amp;#91;===...===&amp;gt;&amp;#93;&lt;/span&gt; 7,113,418    296K/s   in 24s     &lt;/p&gt;

&lt;p&gt;2011-06-27 11:22:10 (285 KB/s) - `httpd-2.2.19.tar.gz&apos; saved &lt;span class=&quot;error&quot;&gt;&amp;#91;7113418/7113418&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ wget &lt;a href=&quot;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.bz2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.bz2&lt;/a&gt;&lt;br/&gt;
-&lt;del&gt;2011-06-27 11:22:19&lt;/del&gt;-  &lt;a href=&quot;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.bz2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://apache.cyberuse.com//httpd/httpd-2.2.19.tar.bz2&lt;/a&gt;&lt;br/&gt;
Resolving apache.cyberuse.com... 174.132.149.89&lt;br/&gt;
Connecting to apache.cyberuse.com|174.132.149.89|:80... connected.&lt;br/&gt;
HTTP request sent, awaiting response... 200 OK&lt;br/&gt;
Length: 5322082 (5.1M) &lt;span class=&quot;error&quot;&gt;&amp;#91;application/x-bzip2&amp;#93;&lt;/span&gt;&lt;br/&gt;
Saving to: `httpd-2.2.19.tar.bz2&apos;&lt;/p&gt;

&lt;p&gt;100%&lt;span class=&quot;error&quot;&gt;&amp;#91;===...===&amp;gt;&amp;#93;&lt;/span&gt; 5,322,082    256K/s   in 25s     &lt;/p&gt;

&lt;p&gt;2011-06-27 11:22:44 (207 KB/s) - `httpd-2.2.19.tar.bz2&apos; saved &lt;span class=&quot;error&quot;&gt;&amp;#91;5322082/5322082&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ wget &lt;a href=&quot;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.gz.md5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.gz.md5&lt;/a&gt;&lt;br/&gt;
-&lt;del&gt;2011-06-27 11:22:51&lt;/del&gt;-  &lt;a href=&quot;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.gz.md5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.gz.md5&lt;/a&gt;&lt;br/&gt;
Resolving www.apache.org... 140.211.11.131&lt;br/&gt;
Connecting to www.apache.org|140.211.11.131|:80... connected.&lt;br/&gt;
HTTP request sent, awaiting response... 200 OK&lt;br/&gt;
Length: 54 &lt;span class=&quot;error&quot;&gt;&amp;#91;text/plain&amp;#93;&lt;/span&gt;&lt;br/&gt;
Saving to: `httpd-2.2.19.tar.gz.md5&apos;&lt;/p&gt;

&lt;p&gt;100%&lt;span class=&quot;error&quot;&gt;&amp;#91;===...===&amp;gt;&amp;#93;&lt;/span&gt; 54          --.-K/s   in 0s      &lt;/p&gt;

&lt;p&gt;2011-06-27 11:22:51 (4.23 MB/s) - `httpd-2.2.19.tar.gz.md5&apos; saved &lt;span class=&quot;error&quot;&gt;&amp;#91;54/54&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ wget &lt;a href=&quot;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.bz2.md5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.bz2.md5&lt;/a&gt;&lt;br/&gt;
-&lt;del&gt;2011-06-27 11:23:02&lt;/del&gt;-  &lt;a href=&quot;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.bz2.md5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/dist/httpd/httpd-2.2.19.tar.bz2.md5&lt;/a&gt;&lt;br/&gt;
Resolving www.apache.org... 140.211.11.131&lt;br/&gt;
Connecting to www.apache.org|140.211.11.131|:80... connected.&lt;br/&gt;
HTTP request sent, awaiting response... 200 OK&lt;br/&gt;
Length: 55 &lt;span class=&quot;error&quot;&gt;&amp;#91;text/plain&amp;#93;&lt;/span&gt;&lt;br/&gt;
Saving to: `httpd-2.2.19.tar.bz2.md5&apos;&lt;/p&gt;

&lt;p&gt;100%&lt;span class=&quot;error&quot;&gt;&amp;#91;===...===&amp;gt;&amp;#93;&lt;/span&gt; 55          --.-K/s   in 0s      &lt;/p&gt;

&lt;p&gt;2011-06-27 11:23:02 (4.91 MB/s) - `httpd-2.2.19.tar.bz2.md5&apos; saved &lt;span class=&quot;error&quot;&gt;&amp;#91;55/55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;$ ls -l httpd-2.2.19.tar.*&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 knoppix knoppix 5322082 May 21 18:58 httpd-2.2.19.tar.bz2&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 knoppix knoppix      55 May 21 18:58 httpd-2.2.19.tar.bz2.md5&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 knoppix knoppix 7113418 May 21 18:58 httpd-2.2.19.tar.gz&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 knoppix knoppix      54 May 21 18:58 httpd-2.2.19.tar.gz.md5&lt;br/&gt;
$ md5sum -b httpd-2.2.19.tar.bz2&lt;br/&gt;
832f96a6ec4b8fc7cf49b9efd4e89060 *httpd-2.2.19.tar.bz2&lt;br/&gt;
$ md5sum -b httpd-2.2.19.tar.gz&lt;br/&gt;
e9f5453e1e4d7aeb0e7ec7184c6784b5 *httpd-2.2.19.tar.gz&lt;br/&gt;
$ cat *.md5&lt;br/&gt;
832f96a6ec4b8fc7cf49b9efd4e89060 *httpd-2.2.19.tar.bz2&lt;br/&gt;
e9f5453e1e4d7aeb0e7ec7184c6784b5 *httpd-2.2.19.tar.gz&lt;/p&gt;

&lt;p&gt;~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ &lt;/p&gt;


&lt;p&gt;/*&lt;br/&gt;
 TarArchiveEntry.getFile() always returns null + no way to get an InputStream from TarArchiveInputStream similar to what you do with (java.util.zip.ZipFile())..getInputStream(ZipEntry);&lt;br/&gt;
*/&lt;/p&gt;

&lt;p&gt;import org.apache.commons.compress.compressors.bzip2.*;&lt;br/&gt;
import org.apache.commons.compress.compressors.gzip.*;&lt;br/&gt;
import org.apache.commons.compress.archivers.tar.*;&lt;br/&gt;
import org.apache.commons.compress.utils.*;&lt;br/&gt;
import org.apache.commons.compress.archivers.*;&lt;/p&gt;

&lt;p&gt;import java.io.*;&lt;br/&gt;
import java.util.*;&lt;br/&gt;
import java.text.*;&lt;/p&gt;

&lt;p&gt;// __ &lt;br/&gt;
public class TAR00Test{&lt;br/&gt;
// __ &lt;br/&gt;
 public static void main(String[] args){&lt;br/&gt;
// __ &lt;br/&gt;
  TarArchiveInputStream TArkIS = null;&lt;br/&gt;
  TarArchiveEntry TArkEntry = null;&lt;/p&gt;

&lt;p&gt;  File TARFl, IFl, IDir = new File(&quot;/media/sda1/prjx/sw/text_synch/XML_Fls/test&quot;);&lt;br/&gt;
  String[] aIFl = new String[]&lt;/p&gt;
{&quot;httpd-2.2.19.tar.bz2&quot;, &quot;httpd-2.2.19.tar.gz&quot;}
&lt;p&gt;;&lt;/p&gt;

&lt;p&gt;  String aFlPth;&lt;br/&gt;
// __ &lt;br/&gt;
  try{&lt;br/&gt;
   for(int i = 0; (i &amp;lt; aIFl.length); ++i){&lt;br/&gt;
    IFl = new File(IDir, aIFl&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);&lt;br/&gt;
    aFlPth = IFl.getCanonicalPath();&lt;br/&gt;
    if(IFl.exists()){&lt;br/&gt;
     aFlPth = aFlPth.toLowerCase();&lt;br/&gt;
// __ &lt;br/&gt;
     if(aFlPth.endsWith(&quot;.tar.bz2&quot;))&lt;/p&gt;
{
      TArkIS = new TarArchiveInputStream(new BZip2CompressorInputStream(new FileInputStream(IFl)));
     }
&lt;p&gt;     else if(aFlPth.endsWith(&quot;.tar.gz&quot;))&lt;/p&gt;
{
      TArkIS = new TarArchiveInputStream(new GzipCompressorInputStream(new FileInputStream(IFl)));
     }
&lt;p&gt;     else{} // ...&lt;br/&gt;
// __ &lt;br/&gt;
     TArkEntry = (TarArchiveEntry)TArkIS.getNextEntry();&lt;br/&gt;
     while(TArkEntry != null){&lt;br/&gt;
      if(!TArkEntry.isDirectory()){&lt;br/&gt;
       System.err.println(TArkEntry);&lt;br/&gt;
// __ org/apache/commons/compress/archivers/tar/TarArchiveEntry.html&lt;br/&gt;
       System.err.println(&quot;// __ getName: |&quot; + TArkEntry.getName() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ getSize: |&quot; + TArkEntry.getSize() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ getUserId: |&quot; + TArkEntry.getUserId() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ GroupId: |&quot; + TArkEntry.getGroupId() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ GroupName: |&quot; + TArkEntry.getGroupName() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ LastModifiedDate: |&quot; + TArkEntry.getLastModifiedDate() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ LinkName: |&quot; + TArkEntry.getLinkName() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ Mode: |&quot; + TArkEntry.getMode() + &quot;|&quot;);&lt;br/&gt;
       System.err.println(&quot;// __ ModTime: |&quot; + TArkEntry.getModTime() + &quot;|&quot;);&lt;br/&gt;
       TARFl = TArkEntry.getFile();&lt;br/&gt;
       System.err.println(&quot;// __ File: |&quot; + TARFl + &quot;|&quot;);&lt;/p&gt;

&lt;p&gt;       if(TARFl != null)&lt;/p&gt;
{ System.err.println(&quot;~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~ * ~&quot;); }
&lt;p&gt;       else&lt;/p&gt;
{ System.err.println(&quot;~&quot;); }

&lt;p&gt;      }&lt;br/&gt;
      TArkEntry = (TarArchiveEntry)TArkIS.getNextEntry();&lt;br/&gt;
     }&lt;br/&gt;
// __ &lt;br/&gt;
     TArkIS.close();&lt;br/&gt;
    }// (IFl.exists())&lt;br/&gt;
    else&lt;/p&gt;
{ System.err.println(&quot;// __ File not found! |&quot; + aFlPth + &quot;|&quot;); }
&lt;p&gt;   }// i [0, aIFl.length)&lt;br/&gt;
  }catch(FileNotFoundException FlNFX)&lt;/p&gt;
{ FlNFX.printStackTrace(System.err); }
&lt;p&gt;    catch(IOException IOX)&lt;/p&gt;
{ IOX.printStackTrace(System.err); }
&lt;p&gt; }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;$ uname -a&lt;br/&gt;
Linux Microknoppix 2.6.31.6 #4 SMP PREEMPT Tue Nov 10 19:11:11 CET 2009 i686 GNU/Linux&lt;/p&gt;

&lt;p&gt;$ java -version&lt;br/&gt;
java version &quot;1.6.0_16&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_16-b01)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 14.2-b01, mixed mode, sharing)&lt;/p&gt;

&lt;p&gt;$ echo $CLASSPATH&lt;br/&gt;
/media/sdb3/prjx/Java/JUtils:/media/sdb3/prjx/Java/JUtils/jars/commons-compress-1.1.jar:.&lt;/p&gt;</environment>
        <key id="12511665">COMPRESS-137</key>
            <summary>TarArchiveEntry.getFile() always returns null + no way to get an InputStream from TarArchiveInputStream similar to what you do with (java.util.zip.ZipFile())..getInputStream(ZipEntry);</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="tcurdt">Torsten Curdt</assignee>
                                    <reporter username="lbrtchx">Albretch Mueller</reporter>
                        <labels>
                            <label>zip_through_XMLReader</label>
                    </labels>
                <created>Mon, 27 Jun 2011 17:01:23 +0000</created>
                <updated>Fri, 25 Nov 2011 14:49:17 +0000</updated>
                            <resolved>Mon, 27 Jun 2011 23:53:11 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.1</fixVersion>
                                    <component>Compressors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13055662" author="lbrtchx" created="Mon, 27 Jun 2011 17:06:58 +0000"  >&lt;p&gt; Let me add that my goal (as explained in user@commons.apache.org: &lt;span class=&quot;error&quot;&gt;&amp;#91;compress&amp;#93;&lt;/span&gt; trying to feed data from tar.gz and tar.bz2 files directly to an XMLReader ...) is being able to do something like this:&lt;br/&gt;
~ &lt;br/&gt;
  BufferedReader BfrRdr = null;&lt;br/&gt;
  XMLReader XMLRdr = null;&lt;br/&gt;
  FileInputStream FIS = null;&lt;br/&gt;
  ZipInputStream ZIS = null;&lt;br/&gt;
  ZipFile ZFl = null;&lt;br/&gt;
  int OPEN_READ = 0x1;&lt;br/&gt;
  ZipEntry ZEntry;&lt;br/&gt;
// __ &lt;/p&gt;

&lt;p&gt;  try{&lt;br/&gt;
   SAXParserFactory SAXFctry = SAXParserFactory.newInstance();&lt;br/&gt;
   SAXFctry.setValidating(false); // stop standard validation to allow custom schema&lt;br/&gt;
   SAXFctry.setNamespaceAware(true);&lt;/p&gt;

&lt;p&gt;   SchemaFactory SchmFctry = SchemaFactory.newInstance(javax.xml.XMLConstants.W3C_XML_SCHEMA_NS_URI);&lt;br/&gt;
   SAXFctry.setSchema(SchmFctry.newSchema(new Source[] &lt;/p&gt;
{new StreamSource(aIXSDFl)}
&lt;p&gt;));&lt;br/&gt;
   SAXParser SAXPrsr = SAXFctry.newSAXParser();&lt;/p&gt;

&lt;p&gt;// __ Create and register the content handler&lt;br/&gt;
   XMLRdr = SAXPrsr.getXMLReader();&lt;br/&gt;
   XMLRdr.setContentHandler(new DefaultHandler2());&lt;/p&gt;

&lt;p&gt;// __ &lt;br/&gt;
   File IZFl = new File(aIXMLFl);&lt;br/&gt;
   ZFl = new ZipFile(IZFl, OPEN_READ);&lt;br/&gt;
// __ &lt;br/&gt;
   Enumeration&amp;lt;? extends ZipEntry&amp;gt; ZENum = ZFl.entries();&lt;br/&gt;
   while(ZENum.hasMoreElements())&lt;/p&gt;
{
    ZEntry = (ZipEntry)ZENum.nextElement();
    System.out.println(&quot;// __ XML Scanning: |&quot; + ZEntry.getName() + &quot;|&quot;);
    InputStream IS = ZFl.getInputStream(ZEntry);
    BfrRdr = new BufferedReader(new InputStreamReader(IS, &quot;UTF-8&quot;));
// __ 
    XMLRdr.parse(new InputSource(BfrRdr)); // XMLReader is directly fed the InputStream from the zip file
// __ 
    IS.close();
   }
&lt;p&gt;// __ &lt;br/&gt;
  }catch(FileNotFoundException FNFX)&lt;/p&gt;
{ FNFX.printStackTrace(System.err); }
&lt;p&gt;    catch(IOException IOX)&lt;/p&gt;
{ IOX.printStackTrace(System.err); }
&lt;p&gt;   catch(ParserConfigurationException PrsConfX)&lt;/p&gt;
{ PrsConfX.printStackTrace(System.err); }
&lt;p&gt;    catch(SAXException SAXX)&lt;/p&gt;
{ SAXX.printStackTrace(System.err); }</comment>
                            <comment id="13056213" author="tcurdt" created="Mon, 27 Jun 2011 23:52:38 +0000"  >&lt;p&gt;As demonstrated in &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/commons/proper/compress/trunk/src/test/java/org/apache/commons/compress/ChainingTestCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/commons/proper/compress/trunk/src/test/java/org/apache/commons/compress/ChainingTestCase.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;chaining works just fine.&lt;/p&gt;

&lt;p&gt;You misunderstood the meaning of &quot;getFile&quot; (TBH I think that method should not exist at all) and are using the API the wrong way. Compress uses the same approach as the standard JDK classes.&lt;/p&gt;

&lt;p&gt;In your case this means you need to find your ArchiveEntry and then the InputStream is positioned right where you need it. Search for &quot;testTarUnarchive&quot; to see an example.&lt;/p&gt;</comment>
                            <comment id="13056898" author="lbrtchx" created="Tue, 28 Jun 2011 23:51:17 +0000"  >&lt;p&gt; OK, let me put it this way. There is:&lt;br/&gt;
~ &lt;br/&gt;
 java/util/zip/ZipFile.html#getInputStream(java.util.zip.ZipEntry)&lt;br/&gt;
~ &lt;br/&gt;
 Where is (something (even a hack!) like):&lt;br/&gt;
~ &lt;br/&gt;
 final BZip2CompressorInputStream BZ2KIS = new BZip2CompressorInputStream(new FileInputStream(IFlBZ2));&lt;br/&gt;
 final TarArchiveInputStream TArkIS = new TarArchiveInputStream(BZ2KIS);&lt;br/&gt;
 TarArchiveEntry entry = (TarArchiveEntry)is.getNextEntry();&lt;br/&gt;
 InputStream EntryIS = TArkIS.getInputStream(entry);&lt;br/&gt;
~ &lt;br/&gt;
 so that you may go then, may go:&lt;br/&gt;
~ &lt;br/&gt;
 XMLReader XMLRdr = SAXPrsr.getXMLReader();&lt;br/&gt;
 BufferedReader BfrRdr = new BufferedReader(new InputStreamReader(EntryIS, &quot;UTF-8&quot;));&lt;br/&gt;
 XMLRdr.parse(new InputSource(BfrRdr));&lt;br/&gt;
~ &lt;br/&gt;
 I am not sure if your answer to my question/request was that &quot;getFile shouldn&apos;t be there to begin with&quot; &lt;br/&gt;
~ &lt;br/&gt;
 Why do you have to untar the whole thing in order to get what you want?&lt;br/&gt;
~ &lt;br/&gt;
 Why can&apos;t you get a grip just on the InputStream relating to one entry inside or a tarball? That was/is my question.&lt;br/&gt;
~ &lt;br/&gt;
 Thanks&lt;br/&gt;
 lbrtchx&lt;/p&gt;</comment>
                            <comment id="13154255" author="adranale" created="Mon, 21 Nov 2011 15:42:55 +0000"  >&lt;p&gt;I think what Torsten meant is that you should use the original TarArchiveInputStream to read the data of the next file, as shown here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;			
is = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream(tarfilename);
debInputStream = (TarArchiveInputStream) &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArchiveStreamFactory().createArchiveInputStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;tar&quot;&lt;/span&gt;, is);
TarArchiveEntry entry;
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((entry = (TarArchiveEntry) debInputStream.getNextEntry()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File entryFile = (entry).getFile();
	&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; entryName = entry.getName();
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!entry.isDirectory()) {
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;consuming file: &quot;&lt;/span&gt; + entryName);
                Document doc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SAXBuilder().build(debInputStream); 
	} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
		&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;consuming folder: &quot;&lt;/span&gt; + entryName);
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem with this is that the &lt;cite&gt;depInputStream&lt;/cite&gt; is closed by the &lt;cite&gt;SAXBuilder&lt;/cite&gt;, so the second call to &lt;cite&gt;debInputStream.getNextEntry()&lt;/cite&gt; will throw &lt;cite&gt;java.io.IOException: input buffer is closed&lt;/cite&gt;&lt;/p&gt;
</comment>
                            <comment id="13157177" author="bodewig" created="Fri, 25 Nov 2011 14:49:17 +0000"  >&lt;p&gt;You can wrap the stream in something like the BoundedInputStream found as nested class in ZipFile or more conveniently in commons-io.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0th8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>