<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:30:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-267] ArchiveStreamFactory throws &quot;No Archiver found for the stream signature&quot; on 7z files</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-267</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Apache Tika makes use of ArchiveStreamFactory to handle a wide range of archive formats (Zip, AR, CPIO, Tar etc)&lt;/p&gt;

&lt;p&gt;We&apos;ve just upgraded to Commons Compress 1.7, and tried to make use of the new 7z support to add in 7z handling too. However, when you try to call:&lt;/p&gt;

&lt;p&gt;            ArchiveStreamFactory factory = new ArchiveStreamFactory();&lt;br/&gt;
            ArchiveInputStream ais = factory.createArchiveInputStream(stream);&lt;/p&gt;

&lt;p&gt;With a 7z file it fails with:&lt;/p&gt;

&lt;p&gt;    new ArchiveException(&quot;No Archiver found for the stream signature&quot;);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12696732">COMPRESS-267</key>
            <summary>ArchiveStreamFactory throws &quot;No Archiver found for the stream signature&quot; on 7z files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nick">Nick Burch</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Feb 2014 15:52:38 +0000</created>
                <updated>Sat, 22 Feb 2014 19:19:49 +0000</updated>
                            <resolved>Sat, 22 Feb 2014 19:19:49 +0000</resolved>
                                    <version>1.7</version>
                                    <fixVersion>1.8</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13909423" author="bodewig" created="Sat, 22 Feb 2014 16:18:14 +0000"  >&lt;p&gt;The reason is we don&apos;t provide any ArchiveInputStream for 7z, it can only work on Files (it needs RandomAccessFile under the covers).&lt;/p&gt;

&lt;p&gt;In the absence of a streaming implementation I don&apos;t see any way to resolve this.&lt;/p&gt;

&lt;p&gt;The current sketch for Compress2 would cover such a case but is still a long way to go.&lt;/p&gt;</comment>
                            <comment id="13909437" author="gagravarr" created="Sat, 22 Feb 2014 16:56:15 +0000"  >&lt;p&gt;Ah, pesky. Any chance of a specific exception for this, which we could catch in Tika, eg NoStreamingSupportException(&quot;7z&quot;) ?&lt;/p&gt;</comment>
                            <comment id="13909464" author="bodewig" created="Sat, 22 Feb 2014 18:33:47 +0000"  >&lt;p&gt;I&apos;m not sure I follow you here.&lt;/p&gt;

&lt;p&gt;You&apos;d catch the NoStreamingSupportException and then use SevenZFile because you know it is a 7z archive?  If so you&apos;d be writing special case code for 7z anyway in which case I think it would be cleaner to add a static matches method to SevenZFile and make Tika check that method in a case where ArchiveStreamFactory doesn&apos;t recognize the format.&lt;/p&gt;</comment>
                            <comment id="13909471" author="gagravarr" created="Sat, 22 Feb 2014 18:41:41 +0000"  >&lt;p&gt;I think for general users, it&apos;d be good to get a more detailed exception that lets them know that Compress knows what it is and can&apos;t help, as opposed to Compress not knowing what it is&lt;/p&gt;

&lt;p&gt;For Tika, we can either catch a 7z specific exception and call the File, or use our own magic string, or catch a general exception + check a helper method, any could work!&lt;/p&gt;</comment>
                            <comment id="13909477" author="bodewig" created="Sat, 22 Feb 2014 18:46:46 +0000"  >&lt;p&gt;Good point.&lt;/p&gt;</comment>
                            <comment id="13909485" author="bodewig" created="Sat, 22 Feb 2014 19:19:49 +0000"  >&lt;p&gt;implemented with svn revision 1570885&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sno7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>375505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>