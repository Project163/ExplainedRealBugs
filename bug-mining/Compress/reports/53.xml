<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:29:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-113] TarArchiveEntry.parseTarHeader() includes the trailing space/NUL when parsing the octal size</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-113</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;TarArchiveEntry.parseTarHeader() includes the trailing space/NUL when parsing the octal size.&lt;/p&gt;

&lt;p&gt;Although the size field in the header is 12 bytes, the last byte is supposed to be space or NUL - i.e. only 11 octal digits are allowed for the size.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12464437">COMPRESS-113</key>
            <summary>TarArchiveEntry.parseTarHeader() includes the trailing space/NUL when parsing the octal size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sebb">Sebb</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 May 2010 15:30:40 +0000</created>
                <updated>Tue, 2 May 2023 17:11:26 +0000</updated>
                            <resolved>Wed, 2 Jun 2010 11:02:35 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12867156" author="sebb@apache.org" created="Thu, 13 May 2010 15:40:08 +0000"  >&lt;p&gt;The code will work OK for valid input, but an invalid file could have 12 octal digits.&lt;/p&gt;

&lt;p&gt;Possible solutions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ignore the trailing byte when converting&lt;/li&gt;
	&lt;li&gt;change the parsing routine to insist on a trailing space or NUL for all numeric fields.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12873610" author="grobmeier" created="Mon, 31 May 2010 10:13:24 +0000"  >&lt;p&gt;Christian Grobmeier:&lt;br/&gt;
&amp;gt;  &amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-113&quot; title=&quot;TarArchiveEntry.parseTarHeader() includes the trailing space/NUL when parsing the octal size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-113&quot;&gt;&lt;del&gt;COMPRESS-113&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&amp;gt;  &amp;gt; TarArchiveEntry.parseTarHeader() includes the trailing space/NUL when&lt;br/&gt;
&amp;gt;  &amp;gt; parsing the octal&lt;br/&gt;
&amp;gt;  &amp;gt; Suggestion from Sebb available. If a trailing NUL is in the tar specs,&lt;br/&gt;
&amp;gt;  &amp;gt; I wold go for option 2 otherwise 1.&lt;br/&gt;
&amp;gt;&lt;/p&gt;

&lt;p&gt;Stefan Bodewig&lt;br/&gt;
&amp;gt; If only there was &lt;b&gt;the&lt;/b&gt; tar spec.  The best source I know is the FreeBSD&lt;br/&gt;
&amp;gt;  man page&lt;br/&gt;
&amp;gt;  &amp;lt;&lt;a href=&quot;http://www.freebsd.org/cgi/man.cgi?query=tar&amp;amp;sektion=5&amp;amp;manpath=FreeBSD+8-current&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.freebsd.org/cgi/man.cgi?query=tar&amp;amp;sektion=5&amp;amp;manpath=FreeBSD+8-current&lt;/a&gt;&amp;gt;&lt;br/&gt;
&amp;gt;  and it says &quot;must end in a space&quot; for &apos;old archives&apos; and &quot;allows&lt;br/&gt;
&amp;gt;  &lt;span class=&quot;error&quot;&gt;&amp;#91;numeric fields&amp;#93;&lt;/span&gt; to be terminated with either space or NUL&quot;.  Similar&lt;br/&gt;
&amp;gt;  rules (slightly twisted for &apos;old archives&apos;) apply to other fields than&lt;br/&gt;
&amp;gt;  size as well, like mode or uid.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;  I&apos;d go with &quot;insist on a trailing space or NUL&quot;.&lt;/p&gt;

&lt;p&gt;It seems that there is a strong preference for option 2.&lt;/p&gt;</comment>
                            <comment id="12873995" author="sebb@apache.org" created="Tue, 1 Jun 2010 13:29:26 +0000"  >&lt;p&gt;TarUtils.parseOctal() currently stops processing when it detects a non-leading space or null, so &quot;0777 7 &quot; is not rejected.&lt;/p&gt;

&lt;p&gt;It also ignores both leading &apos;0&apos; and spaces, so &quot;0 0 0777 &quot; is not rejected.&lt;/p&gt;

&lt;p&gt;AFAICT, there is no format that allows embedded space or NUL, so it seems to me that these should also be rejected.&lt;/p&gt;

&lt;p&gt;Looks like there are several conventions for terminating numeric fields:&lt;/p&gt;

&lt;p&gt;space,NUL - mode, uid, and gid&lt;br/&gt;
NUL, space - checksum&lt;br/&gt;
space - size and mtime; POSIX&lt;br/&gt;
NUL - POSIX&lt;/p&gt;

&lt;p&gt;Maybe the most portable approach for parsing octal numbers would be to allow:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;leading spaces&lt;/li&gt;
	&lt;li&gt;1 or 2 trailing space or NUL characters.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12874038" author="sebb@apache.org" created="Tue, 1 Jun 2010 14:49:08 +0000"  >&lt;p&gt;Just discovered that one also needs to allow for fields which are not in the original tar formats.&lt;br/&gt;
For example devmajor, devminor - these fields will be all null.&lt;/p&gt;</comment>
                            <comment id="12874536" author="sebb@apache.org" created="Wed, 2 Jun 2010 11:02:35 +0000"  >&lt;p&gt;Fixed in r950489.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b4in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>