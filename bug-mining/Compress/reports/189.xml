<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:31:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-325] Unable to uncompress bzip2 dbPedia files</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-325</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Sample code :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;URL url = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//downloads.dbpedia.org/current/core-i18n/en/labels_en.nt.bz2&quot;&lt;/span&gt;);
&lt;/span&gt;InputStream input = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BZip2CompressorInputStream(url.openConnection().getInputStream());
BufferedReader reader = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedReader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InputStreamReader(input, &lt;span class=&quot;code-quote&quot;&gt;&quot;US-ASCII&quot;&lt;/span&gt;));
			
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count = 0;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; line = reader.readLine(); line != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; line = reader.readLine()) {
	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(++count &amp;gt; 10000) &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
	&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(count + &lt;span class=&quot;code-quote&quot;&gt;&quot;: &quot;&lt;/span&gt; + line);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It stops at line 7801 (EOF) :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;7799: &amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//dbpedia.org/resource/Gamemaster&amp;gt; &amp;lt;http://www.w3.org/2000/01/rdf-schema#label&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Gamemaster&quot;&lt;/span&gt;@en .
&lt;/span&gt;7800: &amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//dbpedia.org/resource/Genetic_engineering&amp;gt; &amp;lt;http://www.w3.org/2000/01/rdf-schema#label&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Genetic engineering&quot;&lt;/span&gt;@en .
&lt;/span&gt;7801: &amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//dbpedia.org/resource/Gradius_(video_game)&amp;gt; &amp;lt;http://www.w3.org/2000/01/rdf-s&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12904156">COMPRESS-325</key>
            <summary>Unable to uncompress bzip2 dbPedia files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fbilhaut">Fr&#233;d&#233;rik Bilhaut</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Oct 2015 12:16:17 +0000</created>
                <updated>Wed, 14 Oct 2015 04:15:52 +0000</updated>
                            <resolved>Tue, 13 Oct 2015 06:49:38 +0000</resolved>
                                    <version>1.10</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14953054" author="fbilhaut" created="Mon, 12 Oct 2015 12:23:02 +0000"  >&lt;p&gt;It seems that files were packed with pbzip2. Is it related to &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-185&quot; title=&quot;BZip2CompressorInputStream truncates files compressed with pbzip2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-185&quot;&gt;&lt;del&gt;COMPRESS-185&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14953059" author="fbilhaut" created="Mon, 12 Oct 2015 12:32:24 +0000"  >&lt;p&gt;Actually, re-compressing the same file with another tool (&quot;bzip2&quot; command under macos) renders a file that&apos;s properly readable with BZip2CompressorInputStream.&lt;/p&gt;</comment>
                            <comment id="14954329" author="bodewig" created="Tue, 13 Oct 2015 03:55:15 +0000"  >&lt;p&gt;I haven&apos;t tried to decompress your example, yet.  If this is a case of concatenated streams (as &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-185&quot; title=&quot;BZip2CompressorInputStream truncates files compressed with pbzip2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-185&quot;&gt;&lt;del&gt;COMPRESS-185&lt;/del&gt;&lt;/a&gt; is), then you need to tell &lt;tt&gt;BZip2CompressorInputStream&lt;/tt&gt; explicitly to concatenate the streams - i.e. use the two-arg constructor and &lt;tt&gt;true&lt;/tt&gt; as its second argument.&lt;/p&gt;</comment>
                            <comment id="14954501" author="fbilhaut" created="Tue, 13 Oct 2015 06:49:00 +0000"  >&lt;p&gt;OK it works that way !&lt;/p&gt;

&lt;p&gt;Thank you very much, and sorry for the irrelevant ticket ! My plain fault, I should have better read the doc.&lt;/p&gt;

&lt;p&gt;However, it may be not possible to know in advance if a given bzip is concatenated, and I suppose that, by default, one expects to get the full content of the compressed file as will happen with most tools/apis I know. So:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Either there is no circumstance where having this parameter set to &lt;tt&gt;true&lt;/tt&gt; is inappropriate. In this case why not making it &lt;tt&gt;true&lt;/tt&gt; by default ?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Either setting it to &lt;tt&gt;true&lt;/tt&gt; may be harmful in some circumstances, but in this case there should be a test to detect the fact that the stream is concatenated ?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I understand the backward compatibility concerns, but I think that changing the default behavior would make it more consistent with the general InputStream contract where there is only one EOF. Just my cents, and maybe there are some other problems I don&apos;t have in mind...&lt;/p&gt;

&lt;p&gt;Anyway thanks again for your help !!&lt;/p&gt;</comment>
                            <comment id="14956221" author="bodewig" created="Wed, 14 Oct 2015 04:15:52 +0000"  >&lt;p&gt;&lt;tt&gt;true&lt;/tt&gt; probably always is what you want for the flag - as it is in the cases of gzip and lzma2 as well.  The reason we&apos;ve chosen to use &lt;tt&gt;false&lt;/tt&gt; as a default for Compress 1.4 has purely been backwards compatibility, no other reason.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mvtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>