<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:30:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-228] ZipException on reading valid zip64 file</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-228</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;ZipFile zip = new ZipFile(new File(&quot;ordertest-64.zip&quot;)); throws ZipException &quot;central directory zip64 extended information extra field&apos;s length doesn&apos;t match central directory data.  Expected length 16 but is 28&quot;.&lt;/p&gt;

&lt;p&gt;The archive was created by using DotNetZip-WinFormsTool uzing zip64 flag (forces always to make zip64 archives).&lt;/p&gt;

&lt;p&gt;Zip file is tested from the console: $zip -T ordertest-64.zip&lt;/p&gt;

&lt;p&gt;Output:&lt;br/&gt;
test of ordertest-64.zip OK&lt;/p&gt;

&lt;p&gt;I can open the archive with FileRoller without problem on my machine, browse and extract it.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java.runtime.name=OpenJDK Runtime Environment&lt;br/&gt;
java.home=/usr/lib/jvm/java-6-openjdk-amd64/jre&lt;br/&gt;
java.runtime.version=1.6.0_27-b27&lt;/p&gt;

&lt;p&gt;commons-compress-1.5&lt;/p&gt;</environment>
        <key id="12649414">COMPRESS-228</key>
            <summary>ZipException on reading valid zip64 file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bancer">Valerij Bancer</reporter>
                        <labels>
                            <label>zip</label>
                            <label>zip64</label>
                    </labels>
                <created>Fri, 24 May 2013 23:06:30 +0000</created>
                <updated>Sun, 26 May 2013 17:43:33 +0000</updated>
                            <resolved>Sun, 26 May 2013 17:37:18 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13667144" author="bodewig" created="Sat, 25 May 2013 17:59:17 +0000"  >&lt;p&gt;&lt;del&gt;Can we include your test archive in Compress&apos; source distribution or does it contain sensitive data?&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;should have looked inside the archive first &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13667353" author="bodewig" created="Sun, 26 May 2013 17:06:37 +0000"  >&lt;p&gt;To me it is quite clear that the archive you&apos;ve attached violates the spec of &lt;a href=&quot;http://www.pkware.com/documents/casestudies/APPNOTE.TXT&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.pkware.com/documents/casestudies/APPNOTE.TXT&lt;/a&gt; section 4.5.3&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The order of the fields in the zip64 extended &lt;br/&gt;
information record is fixed, but the fields MUST&lt;br/&gt;
only appear if the corresponding Local or Central&lt;br/&gt;
directory record field is set to 0xFFFF or 0xFFFFFFFF.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;offset and disk number in the central directory entry are not set to all-1 values but the corresponding fields inside the extra information field are present - and make up for the 12 unexpected bytes.&lt;/p&gt;

&lt;p&gt;It is also obvious that InfoZIP based implementations can deal with this kind of violation.  I&apos;ll dig into their source code to see what sort of heuristic they use.&lt;/p&gt;</comment>
                            <comment id="13667355" author="bodewig" created="Sun, 26 May 2013 17:24:25 +0000"  >&lt;p&gt;well, maybe the non-native speaker in me is the problem here.  To me &quot;MUST only appear if&quot; translates to &quot;must not be present unless&quot;, but maybe it means &quot;can be there, but if the record field is set to all-1s, then it must be present&quot;.&lt;/p&gt;

&lt;p&gt;Anyway, unzip 6.10 simply ignores excess data, we can do so as well.&lt;/p&gt;</comment>
                            <comment id="13667356" author="bancer" created="Sun, 26 May 2013 17:35:20 +0000"  >&lt;p&gt;Yes, you are welcome. I believe you are right. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Deal with it as you think it is appropriate.&lt;/p&gt;</comment>
                            <comment id="13667357" author="bodewig" created="Sun, 26 May 2013 17:37:18 +0000"  >&lt;p&gt;fixed with svn revision 1486437&lt;/p&gt;</comment>
                            <comment id="13667359" author="bancer" created="Sun, 26 May 2013 17:43:05 +0000"  >&lt;p&gt;From zip specification: &quot;Use of the term MUST or SHALL indicates a required element.&quot; &lt;br/&gt;
So, &quot;MUST only appear if&quot; could be read as &quot;required only appear if&quot;. As I understand the fields may be present in any case, but are &lt;ins&gt;required&lt;/ins&gt; &quot;if the corresponding Local or Central directory record field is set to 0xFFFF or 0xFFFFFFFF&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12584781" name="ordertest-64.zip" size="61212" author="bancer" created="Fri, 24 May 2013 23:08:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kw07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>