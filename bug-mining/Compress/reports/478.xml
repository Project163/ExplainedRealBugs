<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:36:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[COMPRESS-675] Regression in pack200&apos;s Archive class -- underlying InputStream is now closed </title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-675</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;On &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4221&quot; title=&quot;Regression in pack200 parsing in commons-compress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4221&quot;&gt;&lt;del&gt;TIKA-4221&lt;/del&gt;&lt;/a&gt;, on our recent regression tests, we noticed a change in the behavior of Pack200&apos;s Archive class. In 1.26.0, the unwrapping of the FilterInputStreams (&lt;a href=&quot;https://github.com/apache/commons-compress/blob/68cd2e7fb488b4ad8a9fdc81cae97ae6e8248ea5/src/main/java/org/apache/commons/compress/harmony/unpack200/Pack200UnpackerAdapter.java#L66&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-compress/blob/68cd2e7fb488b4ad8a9fdc81cae97ae6e8248ea5/src/main/java/org/apache/commons/compress/harmony/unpack200/Pack200UnpackerAdapter.java#L66&lt;/a&gt;) effectively disables CloseShieldInputStreams, which means that the underlying stream is closed after the parse.&lt;/p&gt;

&lt;p&gt;This causes problems when a Pack200 file is inside of an ArchiveInputStream.&lt;/p&gt;

&lt;p&gt;Not sure of the best solution. There&apos;s a triggering file on the Tika issue. We can implement a crude workaround until this is fixed in commons-compress.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13573224">COMPRESS-675</key>
            <summary>Regression in pack200&apos;s Archive class -- underlying InputStream is now closed </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Mar 2024 16:08:47 +0000</created>
                <updated>Mon, 29 Jul 2024 19:48:01 +0000</updated>
                            <resolved>Thu, 16 May 2024 11:53:20 +0000</resolved>
                                    <version>1.26.0</version>
                    <version>1.26.1</version>
                                    <fixVersion>1.26.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17830676" author="garydgregory" created="Mon, 25 Mar 2024 19:41:54 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Do you have a file and a simple test I can run to reproduce this?&lt;/p&gt;

&lt;p&gt;TY!&lt;/p&gt;</comment>
                            <comment id="17830917" author="tallison@mitre.org" created="Tue, 26 Mar 2024 12:44:03 +0000"  >&lt;p&gt;Y, sorry. Minimal example on the way. Thank you!&lt;/p&gt;</comment>
                            <comment id="17830923" author="garydgregory" created="Tue, 26 Mar 2024 13:06:20 +0000"  >&lt;p&gt;No need to apologize &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17831572" author="garydgregory" created="Wed, 27 Mar 2024 22:44:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt; ping &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17834395" author="tallison@mitre.org" created="Fri, 5 Apr 2024 16:44:48 +0000"  >&lt;p&gt;Added a PR for a unit test. Happy to add more. Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;The basic problem, I think, is that the pack200 inputstream does not play well with the outer archive inputstream.&lt;/p&gt;</comment>
                            <comment id="17841174" author="garydgregory" created="Fri, 26 Apr 2024 11:37:32 +0000"  >&lt;p&gt;Note: I added a WIP disabled test &lt;tt&gt;Pack200UtilsTest.testCompress675()&lt;/tt&gt; a while back and finally pushed it. I will take a deeper look soon.&lt;/p&gt;</comment>
                            <comment id="17841215" author="tallison@mitre.org" created="Fri, 26 Apr 2024 13:05:44 +0000"  >&lt;p&gt;Fantastic! Let me know if I can help. Thank you!&lt;/p&gt;</comment>
                            <comment id="17844682" author="hudson" created="Wed, 8 May 2024 14:44:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk11 #1623 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk11/1623/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk11/1623/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4221&quot; title=&quot;Regression in pack200 parsing in commons-compress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4221&quot;&gt;&lt;del&gt;TIKA-4221&lt;/del&gt;&lt;/a&gt; &amp;#8211; temporary workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-675&quot; title=&quot;Regression in pack200&amp;#39;s Archive class -- underlying InputStream is now closed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-675&quot;&gt;&lt;del&gt;COMPRESS-675&lt;/del&gt;&lt;/a&gt; (#1686) &amp;#8211; fix merge conflicts (#1750) (github: &lt;a href=&quot;https://github.com/apache/tika/commit/84d05ad4ad7754735f8d7de9449ec52767ba1689&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/84d05ad4ad7754735f8d7de9449ec52767ba1689&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-pkg-module/src/main/java/org/apache/tika/parser/pkg/CompressorParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17846926" author="garydgregory" created="Thu, 16 May 2024 11:53:20 +0000"  >&lt;p&gt;Fixed in git master and snapshot builds. Would you mind validating this addresses your issue?&lt;br/&gt;
TY for your patience!&lt;/p&gt;</comment>
                            <comment id="17846960" author="tallison@mitre.org" created="Thu, 16 May 2024 13:43:07 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;, I should have time later today or tomorrow to take a look!&lt;/p&gt;</comment>
                            <comment id="17850690" author="tallison@mitre.org" created="Thu, 30 May 2024 11:33:25 +0000"  >&lt;p&gt;Where tomorrow in open source time = two weeks by most calendars...&lt;/p&gt;

&lt;p&gt;We upgraded with the last release on Tika, and the problematic file is fixed. We haven&apos;t run full regression tests, but I&apos;ll let you know if I find anything.&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13574363">IO-853</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13573066">TIKA-4221</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1o77c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>