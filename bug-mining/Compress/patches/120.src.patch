diff --git a/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java b/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java
index 401698d15..e4d17a18a 100644
--- a/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java
+++ b/src/test/java/org/apache/commons/compress/archivers/zip/ZipFileTest.java
@@ -217,8 +217,11 @@ public void testDuplicateEntry() throws Exception {
         assertNotNull(zf.getInputStream(ze));
 
         int numberOfEntries = 0;
-        for (Iterator it = zf.getEntries("test1.txt"); it.hasNext(); it.next()) {
+        for (Iterator<ZipArchiveEntry> it = zf.getEntries("test1.txt");
+             it.hasNext(); ) {
             numberOfEntries++;
+            ze = it.next();
+            assertNotNull(zf.getInputStream(ze));
         }
         assertEquals(2, numberOfEntries);
     }
