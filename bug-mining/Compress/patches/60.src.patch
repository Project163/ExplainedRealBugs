diff --git a/src/test/java/org/apache/commons/compress/DetectArchiverTestCase.java b/src/test/java/org/apache/commons/compress/DetectArchiverTestCase.java
index 003fddf3f..14bc27175 100644
--- a/src/test/java/org/apache/commons/compress/DetectArchiverTestCase.java
+++ b/src/test/java/org/apache/commons/compress/DetectArchiverTestCase.java
@@ -38,6 +38,21 @@ public DetectArchiverTestCase(String name) {
 
     final ClassLoader classLoader = getClass().getClassLoader();
 
+    public void testDetectionNotArchive() throws FileNotFoundException {
+        try {
+            getStreamFor("test.txt");
+            fail("Expected ArchiveException");
+        } catch (ArchiveException e) {
+            // expected
+        }
+    }
+
+    public void testCOMPRESS117() throws Exception {
+        final ArchiveInputStream tar = getStreamFor("COMPRESS-117.tar");
+        assertNotNull(tar);
+        assertTrue(tar instanceof TarArchiveInputStream);
+    }
+
     public void testDetection() throws Exception {
 
         final ArchiveInputStream ar = getStreamFor("bla.ar"); 
diff --git a/src/test/resources/COMPRESS-117.tar b/src/test/resources/COMPRESS-117.tar
new file mode 100644
index 000000000..d42ebeb8e
Binary files /dev/null and b/src/test/resources/COMPRESS-117.tar differ
