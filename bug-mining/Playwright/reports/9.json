{"url":"https://api.github.com/repos/microsoft/playwright/issues/28630","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/28630/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/28630/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/28630/events","html_url":"https://github.com/microsoft/playwright/issues/28630","id":2040446855,"node_id":"I_kwDODTssw855nr-H","number":28630,"title":"[REGRESSION]: VSCode Playwright extension doesn't highlight matching css locators ","user":{"login":"381181295","id":78950093,"node_id":"MDQ6VXNlcjc4OTUwMDkz","avatar_url":"https://avatars.githubusercontent.com/u/78950093?v=4","gravatar_id":"","url":"https://api.github.com/users/381181295","html_url":"https://github.com/381181295","followers_url":"https://api.github.com/users/381181295/followers","following_url":"https://api.github.com/users/381181295/following{/other_user}","gists_url":"https://api.github.com/users/381181295/gists{/gist_id}","starred_url":"https://api.github.com/users/381181295/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/381181295/subscriptions","organizations_url":"https://api.github.com/users/381181295/orgs","repos_url":"https://api.github.com/users/381181295/repos","events_url":"https://api.github.com/users/381181295/events{/privacy}","received_events_url":"https://api.github.com/users/381181295/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6122462219,"node_id":"LA_kwDODTssw88AAAABbO1cCw","url":"https://api.github.com/repos/microsoft/playwright/labels/v1.42","name":"v1.42","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2023-12-13T20:49:16Z","updated_at":"2024-01-17T00:06:04Z","closed_at":"2024-01-17T00:06:04Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Context:**\r\n- GOOD Playwright Version: 1.39.0\r\n- BAD Playwright Version: 1.40.1\r\n- Operating System: Windows\r\n- Extra:N/A\r\n\r\n**Code Snippet**\r\n\r\nConsider this `html` file that just renders a label and input:\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Document</title>\r\n    </head>\r\n    <body>\r\n        <div\r\n            class=\"x-container x-form-fieldcontainer x-form-item x-form-item-default x-box-item x-window-item x-container-default x-vbox-form-item\"\r\n            role=\"presentation\"\r\n            id=\"freetext-field-1213\"\r\n        >\r\n            <label\r\n                id=\"freetext-field-1213-labelEl\"\r\n                data-ref=\"labelEl\"\r\n                class=\"x-form-item-label x-form-item-label-default x-unselectable\"\r\n                ><span\r\n                    class=\"x-form-item-label-inner x-form-item-label-inner-default\"\r\n                    ><span\r\n                        id=\"freetext-field-1213-labelTextEl\"\r\n                        data-ref=\"labelTextEl\"\r\n                        class=\"x-form-item-label-text\"\r\n                        >Assigned Number:</span\r\n                    ></span\r\n                ></label\r\n            >\r\n            <div\r\n                id=\"freetext-field-1213-bodyEl\"\r\n                data-ref=\"bodyEl\"\r\n                role=\"presentation\"\r\n                class=\"x-form-item-body x-form-item-body-default x-field-container-body-vertical\"\r\n            >\r\n                <div\r\n                    id=\"freetext-field-1213-containerEl\"\r\n                    data-ref=\"containerEl\"\r\n                    class=\"x-box-layout-ct\"\r\n                    role=\"presentation\"\r\n                >\r\n                    <div\r\n                        id=\"freetext-field-1213-innerCt\"\r\n                        data-ref=\"innerCt\"\r\n                        role=\"presentation\"\r\n                        class=\"x-box-inner\"\r\n                    >\r\n                        <div\r\n                            id=\"freetext-field-1213-targetEl\"\r\n                            data-ref=\"targetEl\"\r\n                            class=\"x-box-target\"\r\n                            role=\"presentation\"\r\n                        >\r\n                            <div\r\n                                class=\"x-field x-form-item x-form-item-default x-form-type-text x-box-item x-field-default x-hbox-form-item x-form-item-no-label x-form-dirty\"\r\n                                role=\"presentation\"\r\n                                id=\"textfield-1214\"\r\n                            >\r\n                                <label\r\n                                    id=\"textfield-1214-labelEl\"\r\n                                    data-ref=\"labelEl\"\r\n                                    class=\"x-form-item-label x-form-item-label-default x-unselectable\"\r\n                                    for=\"textfield-1214-inputEl\"\r\n                                    ><span\r\n                                        class=\"x-form-item-label-inner x-form-item-label-inner-default\"\r\n                                        ><span\r\n                                            id=\"textfield-1214-labelTextEl\"\r\n                                            data-ref=\"labelTextEl\"\r\n                                            class=\"x-form-item-label-text\"\r\n                                        ></span></span\r\n                                ></label>\r\n                                <div\r\n                                    id=\"textfield-1214-bodyEl\"\r\n                                    data-ref=\"bodyEl\"\r\n                                    role=\"presentation\"\r\n                                    class=\"x-form-item-body x-form-item-body-default x-form-text-field-body x-form-text-field-body-default\"\r\n                                >\r\n                                    <div\r\n                                        id=\"textfield-1214-triggerWrap\"\r\n                                        data-ref=\"triggerWrap\"\r\n                                        role=\"presentation\"\r\n                                        class=\"x-form-trigger-wrap x-form-trigger-wrap-default\"\r\n                                    >\r\n                                        <div\r\n                                            id=\"textfield-1214-inputWrap\"\r\n                                            data-ref=\"inputWrap\"\r\n                                            role=\"presentation\"\r\n                                            class=\"x-form-text-wrap x-form-text-wrap-default\"\r\n                                        >\r\n                                            <input\r\n                                                id=\"textfield-1214-inputEl\"\r\n                                                data-ref=\"inputEl\"\r\n                                                type=\"text\"\r\n                                                size=\"1\"\r\n                                                name=\"textfield-1214-inputEl\"\r\n                                                aria-hidden=\"false\"\r\n                                                aria-disabled=\"false\"\r\n                                                role=\"textbox\"\r\n                                                aria-invalid=\"false\"\r\n                                                aria-readonly=\"false\"\r\n                                                aria-describedby=\"textfield-1214-ariaStatusEl\"\r\n                                                aria-required=\"false\"\r\n                                                class=\"x-form-field x-form-text x-form-text-default\"\r\n                                                autocomplete=\"off\"\r\n                                                data-componentid=\"textfield-1214\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <span\r\n                                        id=\"textfield-1214-ariaStatusEl\"\r\n                                        data-ref=\"ariaStatusEl\"\r\n                                        aria-hidden=\"true\"\r\n                                        class=\"x-hidden-offsets\"\r\n                                    ></span\r\n                                    ><span\r\n                                        id=\"textfield-1214-ariaErrorEl\"\r\n                                        data-ref=\"ariaErrorEl\"\r\n                                        aria-hidden=\"true\"\r\n                                        aria-live=\"assertive\"\r\n                                        class=\"x-hidden-clip\"\r\n                                    ></span>\r\n                                </div>\r\n                                <div\r\n                                    id=\"textfield-1214-errorWrapEl\"\r\n                                    data-ref=\"errorWrapEl\"\r\n                                    class=\"x-form-error-wrap x-form-error-wrap-default x-form-error-wrap-under\"\r\n                                >\r\n                                    <div\r\n                                        role=\"presentation\"\r\n                                        id=\"textfield-1214-errorEl\"\r\n                                        data-ref=\"errorEl\"\r\n                                        class=\"x-form-error-msg x-form-invalid-under x-form-invalid-under-default\"\r\n                                        data-anchortarget=\"textfield-1214-inputEl\"\r\n                                    ></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div\r\n                id=\"freetext-field-1213-errorWrapEl\"\r\n                data-ref=\"errorWrapEl\"\r\n                class=\"x-form-error-wrap x-form-error-wrap-default x-form-error-wrap-under x-form-error-wrap-under-side-label\"\r\n            >\r\n                <div\r\n                    role=\"presentation\"\r\n                    id=\"freetext-field-1213-errorEl\"\r\n                    data-ref=\"errorEl\"\r\n                    class=\"x-form-error-msg x-form-invalid-under x-form-invalid-under-default\"\r\n                    data-anchortarget=\"freetext-field-1213-containerEl\"\r\n                ></div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</html>\r\n\r\n```\r\n\r\nAttempting to select the input with css pseudo class with the following code:\r\n```javascript\r\npage.locator(\"[id*=freetext-field]\")\r\n        .locator('input:below(:text(\"Assigned Number:\"))')\r\n        .locator(\"visible=true\");\r\n```\r\n\r\n**Describe the bug**\r\n\r\nThe input element is not highlighted when opening the playwright browser from the vscode extension (using v 1.40.0).\r\n(This is only a visual bug, since the locator is still identified and interacted with during the test execution)\r\n\r\n![image](https://github.com/microsoft/playwright/assets/78950093/8f4387d5-9f8c-420b-b09e-68319b0f1125)\r\n\r\n","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/28630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/28630/timeline","performed_via_github_app":null,"state_reason":"completed"}