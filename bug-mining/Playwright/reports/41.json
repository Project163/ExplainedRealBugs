{"url":"https://api.github.com/repos/microsoft/playwright/issues/30236","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/30236/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/30236/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/30236/events","html_url":"https://github.com/microsoft/playwright/issues/30236","id":2224441290,"node_id":"I_kwDODTssw86ElkfK","number":30236,"title":"[Bug]: Middle clicking link not going to page","user":{"login":"SamStephens","id":1034921,"node_id":"MDQ6VXNlcjEwMzQ5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1034921?v=4","gravatar_id":"","url":"https://api.github.com/users/SamStephens","html_url":"https://github.com/SamStephens","followers_url":"https://api.github.com/users/SamStephens/followers","following_url":"https://api.github.com/users/SamStephens/following{/other_user}","gists_url":"https://api.github.com/users/SamStephens/gists{/gist_id}","starred_url":"https://api.github.com/users/SamStephens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SamStephens/subscriptions","organizations_url":"https://api.github.com/users/SamStephens/orgs","repos_url":"https://api.github.com/users/SamStephens/repos","events_url":"https://api.github.com/users/SamStephens/events{/privacy}","received_events_url":"https://api.github.com/users/SamStephens/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6122462953,"node_id":"LA_kwDODTssw88AAAABbO1e6Q","url":"https://api.github.com/repos/microsoft/playwright/labels/v1.44","name":"v1.44","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":7,"created_at":"2024-04-04T04:14:31Z","updated_at":"2024-04-23T22:11:34Z","closed_at":"2024-04-23T16:22:59Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Version\n\n1.42.0\n\n### Steps to reproduce\n\nI'm trying to use middle click to open links in a new tab. When I navigate to https://researchglobal0.bmocapitalmarkets.com/library/ , the report titles in the list look like normal links, and they behave like normal links in Chrome, with left click navigating to the report page, and middle click opening the report in a new page.\r\n\r\nHowever, with Playwright, left click navigation is working, but middle click results in a blank tab.\r\n\r\nThe following demonstrates:\r\n\r\n`Dockerfile`\r\n```\r\nFROM --platform=linux/amd64 python:3.11-slim-bookworm\r\n\r\nRUN apt-get update --fix-missing && apt-get upgrade -y && apt-get dist-upgrade -y\r\n\r\nRUN pip install playwright==1.42.0\r\nRUN playwright install --with-deps chromium\r\n\r\nCOPY run.py .\r\n\r\nENTRYPOINT ./run.py\r\n```\r\n\r\n`run.py`\r\n```\r\n#!/usr/bin/env python3\r\n\r\nfrom playwright.sync_api import sync_playwright\r\n\r\ndef main():\r\n    with sync_playwright() as p:\r\n        browser = p.chromium.launch()\r\n        try:\r\n            page = browser.new_page()\r\n            page.goto(\"https://researchglobal0.bmocapitalmarkets.com/library/\")\r\n            page.locator(\"css=#cookieAcknowledgementPopup .button-close\").click()\r\n            page.locator('css=.result-count').wait_for()\r\n            row = page.get_by_role('list').get_by_role('listitem').filter(\r\n                has_not_text=\"Load More Results\"\r\n            ).first\r\n\r\n            row = page.get_by_role('list').get_by_role('listitem').filter(\r\n                has_not_text=\"Load More Results\"\r\n            ).first\r\n            with page.context.expect_page() as new_page_info:\r\n                row.locator('css=.subject ').get_by_role('link').click(button='middle')\r\n\r\n            new_page = new_page_info.value\r\n            try:\r\n                new_page.wait_for_load_state()\r\n                print(\"Middle click brings up a new tab with a blank page\")\r\n                print(f\"{new_page.url} - {new_page.title()}\")\r\n            finally:\r\n                new_page.close()\r\n\r\n            row.locator('css=.subject ').get_by_role('link').click()\r\n            print(\"Normal click navigates successfully\")\r\n            print(f\"{page.url} - {page.title()}\")\r\n        finally:\r\n            browser.close()\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\n\n### Expected behavior\n\nReports open in a new tab.\n\n### Actual behavior\n\nThe new tab points to about:blank.\n\n### Additional context\n\n_No response_\n\n### Environment\n\n```shell\nSystem:\r\n    OS: Linux 5.15 Ubuntu 20.04.6 LTS (Focal Fossa)\r\n    CPU: (24) x64 AMD Ryzen 9 5900X 12-Core Processor\r\n    Memory: 12.82 GB / 15.57 GB\r\n    Container: Yes\r\n  Binaries:\r\n    Node: 18.17.1 - ~/.nvm/versions/node/v18.17.1/bin/node\r\n    Yarn: 1.22.21 - ~/.nvm/versions/node/v18.17.1/bin/yarn\r\n    npm: 9.6.7 - ~/.nvm/versions/node/v18.17.1/bin/npm\r\n  IDEs:\r\n    VSCode: 1.85.1 - /mnt/c/Users/sam/AppData/Local/Programs/Microsoft VS Code/bin/code\r\n  Languages:\r\n    Bash: 5.0.17 - /bin/bash\n```\n","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/30236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/30236/timeline","performed_via_github_app":null,"state_reason":"completed"}