{"url":"https://api.github.com/repos/microsoft/playwright/issues/28989","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/28989/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/28989/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/28989/events","html_url":"https://github.com/microsoft/playwright/issues/28989","id":2080720595,"node_id":"I_kwDODTssw858BUbT","number":28989,"title":"[BUG]The mobile mode setting in Playwright is not taking effect.","user":{"login":"Hacktivist668","id":155813188,"node_id":"U_kgDOCUmFRA","avatar_url":"https://avatars.githubusercontent.com/u/155813188?v=4","gravatar_id":"","url":"https://api.github.com/users/Hacktivist668","html_url":"https://github.com/Hacktivist668","followers_url":"https://api.github.com/users/Hacktivist668/followers","following_url":"https://api.github.com/users/Hacktivist668/following{/other_user}","gists_url":"https://api.github.com/users/Hacktivist668/gists{/gist_id}","starred_url":"https://api.github.com/users/Hacktivist668/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hacktivist668/subscriptions","organizations_url":"https://api.github.com/users/Hacktivist668/orgs","repos_url":"https://api.github.com/users/Hacktivist668/repos","events_url":"https://api.github.com/users/Hacktivist668/events{/privacy}","received_events_url":"https://api.github.com/users/Hacktivist668/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6122462219,"node_id":"LA_kwDODTssw88AAAABbO1cCw","url":"https://api.github.com/repos/microsoft/playwright/labels/v1.42","name":"v1.42","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":13,"created_at":"2024-01-14T13:03:29Z","updated_at":"2024-04-08T09:55:23Z","closed_at":"2024-01-25T15:34:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### System info\r\n- Playwright Version: [v1.40]\r\n- Operating System: [All, Windows 11, Ubuntu 20, macOS 13.2, etc.]\r\n- Browser: [All, Chromium, Firefox, WebKit]\r\n- Other info:\r\nAfter switching from Selenium to Playwright, I encountered a scenario where Playwright couldn't handle it. The product includes a canvas drawing board that can only be used for drawing on mobile devices. In Playwright, I switched the browser to mobile mode, but it only changed the page size. However, when I inspected window.navigator, I noticed that userAgentData.mobile remained false. This prevented me from performing operations on the canvas drawing board. In contrast, when I used Selenium and set mobileEmulation, window.navigator.userAgentData.mobile was true, allowing me to interact with the canvas drawing board as expected. I would like to know if this limitation is specific to Playwright's lack of support for this mobile device scenario or if there are other settings that need to be configured.\r\n### Source code\r\n    with sync_playwright() as playwright:\r\n        iphone = playwright.devices[\"iPhone 12 Pro\"]\r\n        browser = playwright.chromium.launch(headless=False)\r\n        context = browser.new_context(**iphone)\r\n        page=context.new_page()\r\n        page.goto(\"https://twitter.com/playwrightweb\")\r\n\r\n\r\n\r\n**Steps**\r\n- [Running the test]\r\n- [Browser appears for one second]\r\n- [Open the developer mode by pressing F12 and check the navigator.userAgentData.mobile property in the console.]\r\n\r\n**Expected**\r\nWhen setting the device to mobile mode, not only the browser window size changes, but also the desired outcome is for the actual userAgentData.mobile property to be changed to true.\r\n\r\n\r\n**Actual**\r\nEven though you have set the device in Playwright, it seems that only the browser window size is changing to match the mobile mode, while the browser's mobile property (userAgentData.mobile) remains false.\r\n\r\n![image](https://github.com/microsoft/playwright/assets/155813188/e0982371-7240-4d2e-9202-6060c2e4398f)\r\n\r\n\r\n","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/28989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/28989/timeline","performed_via_github_app":null,"state_reason":"completed"}