{"url":"https://api.github.com/repos/microsoft/playwright/issues/30457","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/30457/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/30457/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/30457/events","html_url":"https://github.com/microsoft/playwright/issues/30457","id":2255816703,"node_id":"I_kwDODTssw86GdQf_","number":30457,"title":"[Feature]: Add Configuration Option to Mark Test Suite as Failed When Containing Flaky Tests","user":{"login":"TomerBin","id":13377822,"node_id":"MDQ6VXNlcjEzMzc3ODIy","avatar_url":"https://avatars.githubusercontent.com/u/13377822?v=4","gravatar_id":"","url":"https://api.github.com/users/TomerBin","html_url":"https://github.com/TomerBin","followers_url":"https://api.github.com/users/TomerBin/followers","following_url":"https://api.github.com/users/TomerBin/following{/other_user}","gists_url":"https://api.github.com/users/TomerBin/gists{/gist_id}","starred_url":"https://api.github.com/users/TomerBin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomerBin/subscriptions","organizations_url":"https://api.github.com/users/TomerBin/orgs","repos_url":"https://api.github.com/users/TomerBin/repos","events_url":"https://api.github.com/users/TomerBin/events{/privacy}","received_events_url":"https://api.github.com/users/TomerBin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":5070007614,"node_id":"LA_kwDODTssw88AAAABLjItPg","url":"https://api.github.com/repos/microsoft/playwright/labels/open-to-a-pull-request","name":"open-to-a-pull-request","color":"C2E0C6","default":false,"description":"The feature request looks good, we are open to reviewing a PR"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-04-22T07:40:05Z","updated_at":"2024-07-17T21:09:25Z","closed_at":"2024-05-15T16:10:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### ðŸš€ Feature Request\n\n### Feature Description\r\nCurrently, Playwright supports a \"retries\" configuration where tests that initially fail but subsequently pass are marked as \"flaky\". When such flaky tests exist, the overall test suite is considered successful. I propose adding a configuration option that allows marking the entire test suite as failed if it contains any flaky tests.\r\n\r\n### Proposed Solution\r\nIntroduce a new configuration parameter, such as `failOnFlakyTests`, which when set to `true`, will cause the entire test suite to fail if any tests are marked as flaky. This will help teams differentiate between suites with consistent test failures and those with flaky tests, promoting more robust testing practices.\r\n\r\n### Impact\r\nThis enhancement will allow developers and QA teams to enforce stricter quality controls by treating flaky tests as critical errors, ensuring that they receive immediate attention.\r\n\r\nThank you for considering this feature.\n\n### Example\n\n```json\r\n{\r\n  \"failOnFlakyTests\": true,\r\n  \"retries\": 2\r\n}\r\n```\n\n### Motivation\n\nThis feature would be beneficial for maintaining high code quality in continuous integration (CI) environments. By enabling this option, teams can ensure that flaky tests are highlighted and addressed promptly, rather than allowing them to degrade the reliability of the test suite over time.","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/30457/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/30457/timeline","performed_via_github_app":null,"state_reason":"completed"}