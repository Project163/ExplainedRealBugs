{"url":"https://api.github.com/repos/microsoft/playwright/issues/29378","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/29378/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/29378/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/29378/events","html_url":"https://github.com/microsoft/playwright/issues/29378","id":2119784522,"node_id":"I_kwDODTssw85-WVhK","number":29378,"title":"[Docs]: Assertions - custom \"error\" message","user":{"login":"mstepin","id":22974324,"node_id":"MDQ6VXNlcjIyOTc0MzI0","avatar_url":"https://avatars.githubusercontent.com/u/22974324?v=4","gravatar_id":"","url":"https://api.github.com/users/mstepin","html_url":"https://github.com/mstepin","followers_url":"https://api.github.com/users/mstepin/followers","following_url":"https://api.github.com/users/mstepin/following{/other_user}","gists_url":"https://api.github.com/users/mstepin/gists{/gist_id}","starred_url":"https://api.github.com/users/mstepin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mstepin/subscriptions","organizations_url":"https://api.github.com/users/mstepin/orgs","repos_url":"https://api.github.com/users/mstepin/repos","events_url":"https://api.github.com/users/mstepin/events{/privacy}","received_events_url":"https://api.github.com/users/mstepin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-02-06T01:55:54Z","updated_at":"2024-02-06T22:25:29Z","closed_at":"2024-02-06T20:12:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Page(s)\r\n\r\nhttps://playwright.dev/docs/test-assertions#custom-expect-message\r\n\r\n### Description\r\n\r\nPerhaps this is actually a bug in the HTML reporter as opposed to a gap in the documentation, however I'll start with it being a doco issue first and we can convert to bug if required.\r\n\r\nPlaywrights expect assertion provide a 2nd argument `messageOrOptions` to which the user can supply a \"custom error message\" according to the documentation.\r\n\r\nMy understanding of what an \"error message\" is, would be that it is some text displayed if it errors or fails. Indeed if it does actually fail you WILL see the custom error message in the terminal output. And no terminal output if it passes.\r\n\r\nThe HTML report, on the other hand, behaves slightly differently.\r\n\r\nSo to provide an example one might be:\r\n```\r\nconst responseCode = 200;\r\nexpect(responseCode, \"Incorrect response code\").toBe(200);\r\n```\r\n\r\nI would interpret that as: if the assertion fails, spit out error text, otherwise do not.\r\n\r\nIn the HTML report, if you do an assertion as per above, and the assertion does **not** fail, the report will have:\r\n\r\n> âœ…  Incorrect response code ../file/located/here.ts\r\n\r\nThis reads rather strangely for something that has passed. So in essence it is not a custom \"error\" message.\r\n\r\nSo is the documentation wrong here and should be updated to just be \"custom message\" (omitting \"error\") , or, is this indeed a bug in the HTML report which should actually not show the error message?\r\n","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/29378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/29378/timeline","performed_via_github_app":null,"state_reason":"completed"}