{"url":"https://api.github.com/repos/microsoft/playwright/issues/28320","repository_url":"https://api.github.com/repos/microsoft/playwright","labels_url":"https://api.github.com/repos/microsoft/playwright/issues/28320/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/playwright/issues/28320/comments","events_url":"https://api.github.com/repos/microsoft/playwright/issues/28320/events","html_url":"https://github.com/microsoft/playwright/issues/28320","id":2008749602,"node_id":"I_kwDODTssw853uxYi","number":28320,"title":"[BUG]Object with guid ${arg.guid} was not bound in the connection","user":{"login":"mat926","id":46114199,"node_id":"MDQ6VXNlcjQ2MTE0MTk5","avatar_url":"https://avatars.githubusercontent.com/u/46114199?v=4","gravatar_id":"","url":"https://api.github.com/users/mat926","html_url":"https://github.com/mat926","followers_url":"https://api.github.com/users/mat926/followers","following_url":"https://api.github.com/users/mat926/following{/other_user}","gists_url":"https://api.github.com/users/mat926/gists{/gist_id}","starred_url":"https://api.github.com/users/mat926/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mat926/subscriptions","organizations_url":"https://api.github.com/users/mat926/orgs","repos_url":"https://api.github.com/users/mat926/repos","events_url":"https://api.github.com/users/mat926/events{/privacy}","received_events_url":"https://api.github.com/users/mat926/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6122461918,"node_id":"LA_kwDODTssw88AAAABbO1a3g","url":"https://api.github.com/repos/microsoft/playwright/labels/v1.41","name":"v1.41","color":"000000","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2023-11-23T20:13:32Z","updated_at":"2024-02-03T07:36:32Z","closed_at":"2023-12-14T18:42:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- âš ï¸âš ï¸ Do not delete this template âš ï¸âš ï¸ -->\r\n\r\n<!-- ðŸ”Ž Search existing issues to avoid creating duplicates. -->\r\n<!-- ðŸ§ª Test using the latest Playwright release to see if your issue has already been fixed -->\r\n<!-- ðŸ’¡ Provide enough information for us to be able to reproduce your issue locally -->\r\n\r\n### System info\r\n- Playwright Version: 1.40.0\r\n- Operating System: Windows, Ubuntu\r\n- Browser: Chromium\r\n- Other info:\r\n\r\n### Source code\r\ntest.js\r\n```\r\nconst { chromium } = require('playwright')\r\nchromium.launch({ headless: false}).then(async (/** @type {import(\"playwright-core\").Browser } */ browser) => {\r\n        let page = await browser.newPage()\r\n        for(let i = 0; i < 10000; i++) {\r\n            console.log(`Running ${i + 1}`)\r\n            await page.goto('https://youtube.com', { waitUntil: 'domcontentloaded', timeout: 60000 })\r\n        }\r\n        await browser.close()\r\n})\r\n```\r\n\r\n- [x] I provided exact source code that allows reproducing the issue locally.\r\n\r\n<!-- For simple cases, please provide a self-contained test file along with the config file -->\r\n<!-- For larger cases, you can provide a GitHub repo you created for this issue -->\r\n<!-- If we can not reproduce the problem locally, we won't be able to act on it -->\r\n<!-- You can still file without the exact code and we will try to help, but if we can't repro, it will be closed -->\r\n\r\n**Link to the GitHub repository with the repro**\r\n\r\n[https://github.com/your_profile/playwright_issue_title]\r\n\r\nor\r\n\r\n**Config file**\r\n\r\n\r\n\r\n// playwright.config.ts\r\n\r\n```\r\n// @ts-check\r\nconst { defineConfig, devices } = require('@playwright/test');\r\n\r\n/**\r\n * Read environment variables from file.\r\n * https://github.com/motdotla/dotenv\r\n */\r\n// require('dotenv').config();\r\n\r\n/**\r\n * @see https://playwright.dev/docs/test-configuration\r\n */\r\nmodule.exports = defineConfig({\r\n  testDir: './tests',\r\n  /* Run tests in files in parallel */\r\n  fullyParallel: true,\r\n  /* Fail the build on CI if you accidentally left test.only in the source code. */\r\n  forbidOnly: !!process.env.CI,\r\n  /* Retry on CI only */\r\n  retries: process.env.CI ? 2 : 0,\r\n  /* Opt out of parallel tests on CI. */\r\n  workers: process.env.CI ? 1 : undefined,\r\n  /* Reporter to use. See https://playwright.dev/docs/test-reporters */\r\n  reporter: 'html',\r\n  /* Shared settings for all the projects below. See https://playwright.dev/docs/api/class-testoptions. */\r\n  use: {\r\n    /* Base URL to use in actions like `await page.goto('/')`. */\r\n    // baseURL: 'http://127.0.0.1:3000',\r\n\r\n    /* Collect trace when retrying the failed test. See https://playwright.dev/docs/trace-viewer */\r\n    trace: 'on-first-retry',\r\n  },\r\n\r\n  /* Configure projects for major browsers */\r\n  projects: [\r\n    {\r\n      name: 'chromium',\r\n      use: { ...devices['Desktop Chrome'] },\r\n    },\r\n\r\n    {\r\n      name: 'firefox',\r\n      use: { ...devices['Desktop Firefox'] },\r\n    },\r\n\r\n    {\r\n      name: 'webkit',\r\n      use: { ...devices['Desktop Safari'] },\r\n    },\r\n\r\n    /* Test against mobile viewports. */\r\n    // {\r\n    //   name: 'Mobile Chrome',\r\n    //   use: { ...devices['Pixel 5'] },\r\n    // },\r\n    // {\r\n    //   name: 'Mobile Safari',\r\n    //   use: { ...devices['iPhone 12'] },\r\n    // },\r\n\r\n    /* Test against branded browsers. */\r\n    // {\r\n    //   name: 'Microsoft Edge',\r\n    //   use: { ...devices['Desktop Edge'], channel: 'msedge' },\r\n    // },\r\n    // {\r\n    //   name: 'Google Chrome',\r\n    //   use: { ...devices['Desktop Chrome'], channel: 'chrome' },\r\n    // },\r\n  ],\r\n\r\n  /* Run your local dev server before starting the tests */\r\n  // webServer: {\r\n  //   command: 'npm run start',\r\n  //   url: 'http://127.0.0.1:3000',\r\n  //   reuseExistingServer: !process.env.CI,\r\n  // },\r\n});\r\n```\r\n\r\n\r\n\r\n**Steps**\r\n- Run node test.js\r\n- Wait for the loop to reach about 1000\r\n\r\n**Expected**\r\n\r\nI shouldn't get any errors. \r\n\r\n\r\n**Actual**\r\n\r\nI get this error\r\n\r\nUncaught Error Error: Object with guid frame@deace9a6164e8df96a984cda471e3c88 was not bound in the connection\r\n    at _tChannelImplFromWire (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/client/connection.js:207:26)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/protocol/validatorPrimitives.js:129:20)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/protocol/validatorPrimitives.js:91:12)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/protocol/validatorPrimitives.js:108:21)\r\n    at _createRemoteObject (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/client/connection.js:218:19)\r\n    at dispatch (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/client/connection.js:175:12)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/inProcessFactory.js:48:83)\r\n    at processImmediate (node:internal/timers:471:21)\r\n    at callbackTrampoline (node:internal/async_hooks:130:17)\r\n    --- Immediate ---\r\n    at init (node:internal/inspector_async_hook:25:19)\r\n    at emitInitNative (node:internal/async_hooks:202:43)\r\n    at emitInitScript (node:internal/async_hooks:505:3)\r\n    at initAsyncResource (node:internal/timers:159:5)\r\n    at Immediate (node:internal/timers:615:5)\r\n    at setImmediate (node:timers:302:10)\r\n    at dispatcherConnection.onmessage (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/inProcessFactory.js:48:47)\r\n    at _sendMessageToClient (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/dispatcher.js:201:10)\r\n    at sendCreate (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/dispatcher.js:172:10)\r\n    at Dispatcher (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/dispatcher.js:70:40)\r\n    at FrameDispatcher (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js:42:5)\r\n    at from (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/frameDispatcher.js:34:22)\r\n    at _onFrameAttached (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js:280:47)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/dispatchers/pageDispatcher.js:76:75)\r\n    at emit (node:events:513:28)\r\n    at frameAttached (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/frames.js:107:18)\r\n    at _onFrameAttached (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/chromium/crPage.js:549:30)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/chromium/crPage.js:380:373)\r\n    at emit (node:events:513:28)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/chromium/crConnection.js:166:14)\r\n    at runNextTicks (node:internal/process/task_queues:60:5)\r\n    at processImmediate (node:internal/timers:442:9)\r\n    at callbackTrampoline (node:internal/async_hooks:130:17)\r\n    --- Promise.then ---\r\n    at _onMessage (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/chromium/crConnection.js:164:25)\r\n    at _onMessage (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/chromium/crConnection.js:76:26)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/pipeTransport.js:77:44)\r\n    at processImmediate (node:internal/timers:471:21)\r\n    at callbackTrampoline (node:internal/async_hooks:130:17)\r\n    --- Immediate ---\r\n    at init (node:internal/inspector_async_hook:25:19)\r\n    at emitInitNative (node:internal/async_hooks:202:43)\r\n    at emitInitScript (node:internal/async_hooks:505:3)\r\n    at initAsyncResource (node:internal/timers:159:5)\r\n    at Immediate (node:internal/timers:615:5)\r\n    at setImmediate (node:timers:302:10)\r\n    at _dispatch (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/pipeTransport.js:76:12)\r\n    at <anonymous> (file:///C:/Users/matte/Repos/playwright/node_modules/playwright-core/lib/server/pipeTransport.js:37:40)\r\n    at emit (node:events:513:28)\r\n    at addChunk (node:internal/streams/readable:324:12)\r\n    at readableAddChunk (node:internal/streams/readable:297:9)\r\n    at Readable.push (node:internal/streams/readable:234:10)\r\n    at onStreamRead (node:internal/stream_base_commons:190:23)\r\n    at callbackTrampoline (node:internal/async_hooks:130:17)\r\n\r\n","closed_by":{"login":"dgozman","id":9881434,"node_id":"MDQ6VXNlcjk4ODE0MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9881434?v=4","gravatar_id":"","url":"https://api.github.com/users/dgozman","html_url":"https://github.com/dgozman","followers_url":"https://api.github.com/users/dgozman/followers","following_url":"https://api.github.com/users/dgozman/following{/other_user}","gists_url":"https://api.github.com/users/dgozman/gists{/gist_id}","starred_url":"https://api.github.com/users/dgozman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dgozman/subscriptions","organizations_url":"https://api.github.com/users/dgozman/orgs","repos_url":"https://api.github.com/users/dgozman/repos","events_url":"https://api.github.com/users/dgozman/events{/privacy}","received_events_url":"https://api.github.com/users/dgozman/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/microsoft/playwright/issues/28320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/playwright/issues/28320/timeline","performed_via_github_app":null,"state_reason":"completed"}