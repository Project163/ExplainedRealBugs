diff --git a/src/main/java/org/apache/maven/jxr/CodeTransform.java b/src/main/java/org/apache/maven/jxr/CodeTransform.java
index 595323c..a99793e 100644
--- a/src/main/java/org/apache/maven/jxr/CodeTransform.java
+++ b/src/main/java/org/apache/maven/jxr/CodeTransform.java
@@ -834,7 +834,7 @@ public class CodeTransform
 
             overview.append( "<div id=\"overview\">" );
             //get the URI to get Javadoc info.
-            StringBuffer javadocURI = new StringBuffer().append( getPackageRoot() ).append( javadocLinkDir );
+            StringBuffer javadocURI = new StringBuffer().append( javadocLinkDir );
 
             try
             {
diff --git a/src/main/java/org/apache/maven/jxr/JXR.java b/src/main/java/org/apache/maven/jxr/JXR.java
index 020566e..39ee60e 100644
--- a/src/main/java/org/apache/maven/jxr/JXR.java
+++ b/src/main/java/org/apache/maven/jxr/JXR.java
@@ -191,8 +191,8 @@ public class JXR
         log.debug( source + " -> " + dest );
 
         // get a relative link to the javadocs
-        String javadocLinkDir = this.javadocLinkDir != null ? getRelativeLink( dest, this.javadocLinkDir ) : null;
-        transformer.transform( source, dest, locale, inputEncoding, outputEncoding, javadocLinkDir, this.revision );
+        String javadoc = javadocLinkDir != null ? getRelativeLink( dest, javadocLinkDir ) : null;
+        transformer.transform( source, dest, locale, inputEncoding, outputEncoding, javadoc, this.revision );
     }
 
     /**
@@ -278,6 +278,10 @@ public class JXR
 
         // walk up fromDir to find the common parent
         f = new File( fromDir );
+		if ( !f.isDirectory() ) {
+			// Passed in a fromDir with a filename on the end - strip it
+			f = f.getParentFile();
+		}
         f = f.getCanonicalFile();
         f = f.getParentFile();
         boolean found = false;
