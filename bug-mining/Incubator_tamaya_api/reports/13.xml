<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:31:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TAMAYA-383] Problem with ServiceContext in ServiceContextManager</title>
                <link>https://issues.apache.org/jira/browse/TAMAYA-383</link>
                <project id="12315925" key="TAMAYA">Tamaya</project>
                    <description>&lt;p&gt;After a longer period I updated my tamaya sources from master&#160;and deployed them into my existing karaf project. After that the core tamaya-core bundle fails to start the OSGIActivator because of ConfigException&#160;&quot;No ServiceContext found&quot;.&lt;br/&gt;
The exception comes from&#160;ServiceContextManager::loadDefaultServiceProvider which always try to get a new(best) Service Provider instead of using the one got from&#160;ServiceContextManager::set method like in older implementations. The problem is that&#160;ServiceLoader.load(ServiceContext.class, classLoader) doesn&apos;t find anything and I ask myself if it shouldn&apos;t be a OSGIServiceLoader do find the service declaration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13214132">TAMAYA-383</key>
            <summary>Problem with ServiceContext in ServiceContextManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cniehues">Christian Niehues</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Feb 2019 11:02:39 +0000</created>
                <updated>Tue, 12 Feb 2019 09:26:04 +0000</updated>
                            <resolved>Tue, 12 Feb 2019 09:26:04 +0000</resolved>
                                    <version>0.4-incubating</version>
                                    <fixVersion>0.4-incubating</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16765306" author="jira-bot" created="Mon, 11 Feb 2019 19:16:41 +0000"  >&lt;p&gt;Commit ceb848ab2b14b1422688218afa668b4b4742c857 in incubator-tamaya&apos;s branch refs/heads/master from William Lieurance&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=ceb848a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=ceb848a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/TAMAYA-383&quot; title=&quot;Problem with ServiceContext in ServiceContextManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TAMAYA-383&quot;&gt;&lt;del&gt;TAMAYA-383&lt;/del&gt;&lt;/a&gt; Let OSGi skip thread classloader key&lt;/p&gt;

&lt;p&gt;We use the thread&apos;s classloader as a key into a hashmap to find the&lt;br/&gt;
serviceloader for a given configuration.  In OSGi, we have separate&lt;br/&gt;
classloaders for the CoreConfigurationBuilder,&lt;br/&gt;
DefaultConfigurationBuilder, and ServiceContextManager.  That confusion&lt;br/&gt;
prevents the simple case from finding a match in the hashmap that can&lt;br/&gt;
load a particular ServiceContext.  Since&lt;br/&gt;
CoreConfiguation/DefaultConfiguration already uses the static class&apos;s&lt;br/&gt;
classloader during &amp;lt;init&amp;gt;, this PR allows the OSGIActivator to point&lt;br/&gt;
that classloader at the relevant OSGIServiceContext.&lt;/p&gt;</comment>
                            <comment id="16765307" author="jira-bot" created="Mon, 11 Feb 2019 19:16:42 +0000"  >&lt;p&gt;Commit 8615fa4224f3119a9816d4e70021a839b97e7aa3 in incubator-tamaya&apos;s branch refs/heads/master from P. Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=8615fa4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=8615fa4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #42 from peculater/&lt;a href=&quot;https://issues.apache.org/jira/browse/TAMAYA-383&quot; title=&quot;Problem with ServiceContext in ServiceContextManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TAMAYA-383&quot;&gt;&lt;del&gt;TAMAYA-383&lt;/del&gt;&lt;/a&gt;-serviceloader-key-by-static-class-loader&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/TAMAYA-383&quot; title=&quot;Problem with ServiceContext in ServiceContextManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TAMAYA-383&quot;&gt;&lt;del&gt;TAMAYA-383&lt;/del&gt;&lt;/a&gt; Let OSGi skip thread classloader key&lt;/p&gt;</comment>
                            <comment id="16765308" author="jira-bot" created="Mon, 11 Feb 2019 19:16:42 +0000"  >&lt;p&gt;Commit 8615fa4224f3119a9816d4e70021a839b97e7aa3 in incubator-tamaya&apos;s branch refs/heads/master from P. Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=8615fa4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=incubator-tamaya.git;h=8615fa4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #42 from peculater/&lt;a href=&quot;https://issues.apache.org/jira/browse/TAMAYA-383&quot; title=&quot;Problem with ServiceContext in ServiceContextManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TAMAYA-383&quot;&gt;&lt;del&gt;TAMAYA-383&lt;/del&gt;&lt;/a&gt;-serviceloader-key-by-static-class-loader&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/TAMAYA-383&quot; title=&quot;Problem with ServiceContext in ServiceContextManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TAMAYA-383&quot;&gt;&lt;del&gt;TAMAYA-383&lt;/del&gt;&lt;/a&gt; Let OSGi skip thread classloader key&lt;/p&gt;</comment>
                            <comment id="16765309" author="hugo.hirsch" created="Mon, 11 Feb 2019 19:17:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cniehues&quot; class=&quot;user-hover&quot; rel=&quot;cniehues&quot;&gt;cniehues&lt;/a&gt; could you recheck with the current SNAPSHOT with changes applied via the PR - thanks.&lt;/p&gt;</comment>
                            <comment id="16765855" author="cniehues" created="Tue, 12 Feb 2019 09:21:48 +0000"  >&lt;p&gt;seems to work now, at least I can see no exceptions anymore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0pi0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>