{"url":"https://api.github.com/repos/mockito/mockito/issues/3443","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/3443/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/3443/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/3443/events","html_url":"https://github.com/mockito/mockito/issues/3443","id":2531313920,"node_id":"I_kwDOAF62v86W4MkA","number":3443,"title":"Separate extensions from integration tests","user":{"login":"bric3","id":803621,"node_id":"MDQ6VXNlcjgwMzYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/803621?v=4","gravatar_id":"","url":"https://api.github.com/users/bric3","html_url":"https://github.com/bric3","followers_url":"https://api.github.com/users/bric3/followers","following_url":"https://api.github.com/users/bric3/following{/other_user}","gists_url":"https://api.github.com/users/bric3/gists{/gist_id}","starred_url":"https://api.github.com/users/bric3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bric3/subscriptions","organizations_url":"https://api.github.com/users/bric3/orgs","repos_url":"https://api.github.com/users/bric3/repos","events_url":"https://api.github.com/users/bric3/events{/privacy}","received_events_url":"https://api.github.com/users/bric3/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"bric3","id":803621,"node_id":"MDQ6VXNlcjgwMzYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/803621?v=4","gravatar_id":"","url":"https://api.github.com/users/bric3","html_url":"https://github.com/bric3","followers_url":"https://api.github.com/users/bric3/followers","following_url":"https://api.github.com/users/bric3/following{/other_user}","gists_url":"https://api.github.com/users/bric3/gists{/gist_id}","starred_url":"https://api.github.com/users/bric3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bric3/subscriptions","organizations_url":"https://api.github.com/users/bric3/orgs","repos_url":"https://api.github.com/users/bric3/repos","events_url":"https://api.github.com/users/bric3/events{/privacy}","received_events_url":"https://api.github.com/users/bric3/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"bric3","id":803621,"node_id":"MDQ6VXNlcjgwMzYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/803621?v=4","gravatar_id":"","url":"https://api.github.com/users/bric3","html_url":"https://github.com/bric3","followers_url":"https://api.github.com/users/bric3/followers","following_url":"https://api.github.com/users/bric3/following{/other_user}","gists_url":"https://api.github.com/users/bric3/gists{/gist_id}","starred_url":"https://api.github.com/users/bric3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bric3/subscriptions","organizations_url":"https://api.github.com/users/bric3/orgs","repos_url":"https://api.github.com/users/bric3/repos","events_url":"https://api.github.com/users/bric3/events{/privacy}","received_events_url":"https://api.github.com/users/bric3/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2024-09-17T14:25:01Z","updated_at":"2024-09-27T14:10:13Z","closed_at":"2024-09-27T14:10:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently, the `subprojects` host both Mockito extensions and integration-tests.\nBoth should be separated in their own hierarchy to improve the visual understanding of what is what. This would also help improve to apply different Gradle configurations for each kind of project.\n\nThere are other improvements trickling down\n\n* This structure led to a programmatic setup in `settings.gradle.kts`, that injects the location of the project, this should be avoided by using the parent, e.g. `mockito-integration-tests:inline-mocks-tests` :\n\n    ```diff\n    - rootProject.children.forEach { project ->\n    -     val projectDirName = \"subprojects/${project.name}\"\n    -     project.projectDir = File(settingsDir, projectDirName)\n    -     project.buildFileName = \"${project.name}.gradle\"\n    -     require(project.projectDir.isDirectory) {\n    -         \"Project directory ${project.projectDir} for project ${project.name} does not exist.\"\n    -     }\n    -     require(project.buildFile.isFile) {\n    -         \"Build file ${project.buildFile} for project ${project.name} does not exist.\"\n    -     }\n    - }\n    ```\n\n* The `bom` project needs to filter which project has to figure out be included. Right now it uses a heuristic based on whether the project name ends with `test`. This can be simplified:\n\n    ```diff\n    - project.rootProject.subprojects.forEach { subproject ->\n    -     if (!subproject.name.endsWith(\"Test\") &&\n    -         !subproject.name.endsWith(\"-test\") &&\n    -         subproject.name != \"bom\") {\n    -         api(subproject)\n    -     }\n    + project(\":mockito-extensions\").subprojects.forEach {\n    +     api(it)\n      }\n    ```\n\n* Moreover the subproject build scripts have a non conventional name, e.g. `androidTest.gradle`, rather than `build.gradle`. This needs to be changed.","closed_by":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/3443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/3443/timeline","performed_via_github_app":null,"state_reason":"completed"}