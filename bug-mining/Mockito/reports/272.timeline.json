[{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1492272510","html_url":"https://github.com/mockito/mockito/issues/2958#issuecomment-1492272510","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2958","id":1492272510,"node_id":"IC_kwDOAF62v85Y8kV-","user":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T17:03:06Z","updated_at":"2023-03-31T17:03:06Z","body":"Probably a regression introduced in #2923. @jfrantzius can you please take a look?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1492272510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8900165052,"node_id":"MEE_lADOAF62v85iUbZLzwAAAAISfb28","url":"https://api.github.com/repos/mockito/mockito/issues/events/8900165052","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-03-31T17:03:07Z","performed_via_github_app":null},{"id":8900165064,"node_id":"SE_lADOAF62v85iUbZLzwAAAAISfb3I","url":"https://api.github.com/repos/mockito/mockito/issues/events/8900165064","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-03-31T17:03:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1493006706","html_url":"https://github.com/mockito/mockito/issues/2958#issuecomment-1493006706","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2958","id":1493006706,"node_id":"IC_kwDOAF62v85Y_Xly","user":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T15:33:50Z","updated_at":"2023-04-01T15:33:50Z","body":"Looking at it...","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1493006706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1493130452","html_url":"https://github.com/mockito/mockito/issues/2958#issuecomment-1493130452","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2958","id":1493130452,"node_id":"IC_kwDOAF62v85Y_1zU","user":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T21:34:43Z","updated_at":"2023-04-01T21:37:27Z","body":"That's an interesting somehow recursive construct  that I'm surprised the compiler accepts, but then there surely shouldn't be a `ClassCastException` anyway ...\r\n```java\r\npublic class ConcreteJob extends AbstractJob<ConcreteJob>\r\n```\r\n(a class that uses itself as a type parameter for its superclass? ðŸ¤¯ )","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1493130452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8907218493,"node_id":"REFE_lADOAF62v85iUbZLzwAAAAIS6V49","url":"https://api.github.com/repos/mockito/mockito/issues/events/8907218493","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f3599d2aef12fc5d5742758a6d5b879ae4cab9d1","commit_url":"https://api.github.com/repos/jfrantzius/mockito/commits/f3599d2aef12fc5d5742758a6d5b879ae4cab9d1","created_at":"2023-04-02T22:36:00Z","performed_via_github_app":null},{"id":8914669998,"node_id":"REFE_lADOAF62v85iUbZLzwAAAAITWxGu","url":"https://api.github.com/repos/mockito/mockito/issues/events/8914669998","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f6eecf101fe64716cb7867671bc03b6e5effd055","commit_url":"https://api.github.com/repos/jfrantzius/mockito/commits/f6eecf101fe64716cb7867671bc03b6e5effd055","created_at":"2023-04-03T15:54:51Z","performed_via_github_app":null},{"actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T16:10:51Z","updated_at":"2023-04-03T16:10:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/2962","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2962/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2962/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2962/events","html_url":"https://github.com/mockito/mockito/pull/2962","id":1652344640,"node_id":"PR_kwDOAF62v85NgTFQ","number":2962,"title":"Fix ClassCastException","user":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-04-03T15:57:45Z","updated_at":"2023-04-09T13:46:40Z","closed_at":"2023-04-09T13:46:39Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-08T18:47:09Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15309,"watchers_count":15309,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2641,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2641,"open_issues":476,"watchers":15309,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/2962","html_url":"https://github.com/mockito/mockito/pull/2962","diff_url":"https://github.com/mockito/mockito/pull/2962.diff","patch_url":"https://github.com/mockito/mockito/pull/2962.patch","merged_at":"2023-04-09T13:46:39Z"},"body":"Adds support for concrete classes with parameterized super-classes.\r\nFixes #2958 ","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2962/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1496099549","html_url":"https://github.com/mockito/mockito/issues/2958#issuecomment-1496099549","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2958","id":1496099549,"node_id":"IC_kwDOAF62v85ZLKrd","user":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T14:44:04Z","updated_at":"2023-04-04T14:44:04Z","body":"@TimvdLippe WDYT?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1496099549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8925436216,"node_id":"MEE_lADOAF62v85iUbZLzwAAAAIT_1k4","url":"https://api.github.com/repos/mockito/mockito/issues/events/8925436216","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-04T14:44:04Z","performed_via_github_app":null},{"id":8925436230,"node_id":"SE_lADOAF62v85iUbZLzwAAAAIT_1lG","url":"https://api.github.com/repos/mockito/mockito/issues/events/8925436230","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-04T14:44:04Z","performed_via_github_app":null},{"id":8927725481,"node_id":"MEE_lADOAF62v85iUbZLzwAAAAIUIkep","url":"https://api.github.com/repos/mockito/mockito/issues/events/8927725481","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-04-04T18:50:05Z","performed_via_github_app":null},{"id":8927725492,"node_id":"SE_lADOAF62v85iUbZLzwAAAAIUIke0","url":"https://api.github.com/repos/mockito/mockito/issues/events/8927725492","actor":{"login":"jfrantzius","id":1823661,"node_id":"MDQ6VXNlcjE4MjM2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1823661?v=4","gravatar_id":"","url":"https://api.github.com/users/jfrantzius","html_url":"https://github.com/jfrantzius","followers_url":"https://api.github.com/users/jfrantzius/followers","following_url":"https://api.github.com/users/jfrantzius/following{/other_user}","gists_url":"https://api.github.com/users/jfrantzius/gists{/gist_id}","starred_url":"https://api.github.com/users/jfrantzius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jfrantzius/subscriptions","organizations_url":"https://api.github.com/users/jfrantzius/orgs","repos_url":"https://api.github.com/users/jfrantzius/repos","events_url":"https://api.github.com/users/jfrantzius/events{/privacy}","received_events_url":"https://api.github.com/users/jfrantzius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-04-04T18:50:05Z","performed_via_github_app":null},{"id":8959151057,"node_id":"CE_lADOAF62v85iUbZLzwAAAAIWAcvR","url":"https://api.github.com/repos/mockito/mockito/issues/events/8959151057","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-04-09T13:46:41Z","state_reason":null,"performed_via_github_app":null},{"id":8959151065,"node_id":"REFE_lADOAF62v85iUbZLzwAAAAIWAcvZ","url":"https://api.github.com/repos/mockito/mockito/issues/events/8959151065","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"84a5eee1ce5bb0171532eb5da3d21ba9d1741bf9","commit_url":"https://api.github.com/repos/mockito/mockito/commits/84a5eee1ce5bb0171532eb5da3d21ba9d1741bf9","created_at":"2023-04-09T13:46:41Z","performed_via_github_app":null},{"actor":{"login":"cpovirk","id":1703908,"node_id":"MDQ6VXNlcjE3MDM5MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703908?v=4","gravatar_id":"","url":"https://api.github.com/users/cpovirk","html_url":"https://github.com/cpovirk","followers_url":"https://api.github.com/users/cpovirk/followers","following_url":"https://api.github.com/users/cpovirk/following{/other_user}","gists_url":"https://api.github.com/users/cpovirk/gists{/gist_id}","starred_url":"https://api.github.com/users/cpovirk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpovirk/subscriptions","organizations_url":"https://api.github.com/users/cpovirk/orgs","repos_url":"https://api.github.com/users/cpovirk/repos","events_url":"https://api.github.com/users/cpovirk/events{/privacy}","received_events_url":"https://api.github.com/users/cpovirk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T20:56:12Z","updated_at":"2023-04-14T20:56:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/2974","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2974/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2974/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2974/events","html_url":"https://github.com/mockito/mockito/issues/2974","id":1668941027,"node_id":"I_kwDOAF62v85jegTj","number":2974,"title":"Fix for #2958 eliminates CCE but leads to NPE","user":{"login":"cpovirk","id":1703908,"node_id":"MDQ6VXNlcjE3MDM5MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1703908?v=4","gravatar_id":"","url":"https://api.github.com/users/cpovirk","html_url":"https://github.com/cpovirk","followers_url":"https://api.github.com/users/cpovirk/followers","following_url":"https://api.github.com/users/cpovirk/following{/other_user}","gists_url":"https://api.github.com/users/cpovirk/gists{/gist_id}","starred_url":"https://api.github.com/users/cpovirk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cpovirk/subscriptions","organizations_url":"https://api.github.com/users/cpovirk/orgs","repos_url":"https://api.github.com/users/cpovirk/repos","events_url":"https://api.github.com/users/cpovirk/events{/privacy}","received_events_url":"https://api.github.com/users/cpovirk/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-04-14T20:56:12Z","updated_at":"2023-04-17T13:08:41Z","closed_at":"2023-04-17T10:52:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-08T18:47:09Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15309,"watchers_count":15309,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2641,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2641,"open_issues":476,"watchers":15309,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, we have one pesky test ([one from an OfficeDev repo](https://github.com/OfficeDev/ews-java-api/blob/master/src/test/java/microsoft/exchange/webservices/data/sync/ChangeCollectionTest.java)) that starts failing with the recent `@InjectMocks` changes. First it was the `ClassCastException` that was reported in #2958, but after the fix for that, it's a `NullPointerException`:\r\n\r\n```\r\n$ git clone git@github.com:cpovirk/ews-java-api.git -b mockitonpe # or check out 3ed334391d09f20e36ecd8e2a0efb3529085e1c6 if you prefer a SHA\r\n\r\n$ cd ews-java-api\r\n\r\n$ mvn clean install -Dtest=ChangeCollectionTest -Dmaven.javadoc.skip\r\n...\r\njava.lang.NullPointerException\r\n  at org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.getSuperTypes(TypeBasedCandidateFilter.java:79)\r\n  at org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.isCompatibleTypes(TypeBasedCandidateFilter.java:58)\r\n  at org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.lambda$isCompatibleTypes$0(TypeBasedCandidateFilter.java:62)\r\n  ...\r\n```\r\n\r\nI'll attach the full log, along with logs from the CCE days and from before the `@InjectMocks` changes.\r\n- NPE: [530.txt](https://github.com/mockito/mockito/files/11237061/530.txt)\r\n- CCE: [521snapshot.txt](https://github.com/mockito/mockito/files/11237062/521snapshot.txt)\r\n- passing: [512snapshot.txt](https://github.com/mockito/mockito/files/11237060/512snapshot.txt)","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2974/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"julien-breda","id":24588445,"node_id":"MDQ6VXNlcjI0NTg4NDQ1","avatar_url":"https://avatars.githubusercontent.com/u/24588445?v=4","gravatar_id":"","url":"https://api.github.com/users/julien-breda","html_url":"https://github.com/julien-breda","followers_url":"https://api.github.com/users/julien-breda/followers","following_url":"https://api.github.com/users/julien-breda/following{/other_user}","gists_url":"https://api.github.com/users/julien-breda/gists{/gist_id}","starred_url":"https://api.github.com/users/julien-breda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julien-breda/subscriptions","organizations_url":"https://api.github.com/users/julien-breda/orgs","repos_url":"https://api.github.com/users/julien-breda/repos","events_url":"https://api.github.com/users/julien-breda/events{/privacy}","received_events_url":"https://api.github.com/users/julien-breda/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-25T07:28:20Z","updated_at":"2023-05-25T07:28:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/3019","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/3019/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/3019/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/3019/events","html_url":"https://github.com/mockito/mockito/issues/3019","id":1725249191,"node_id":"I_kwDOAF62v85m1Tan","number":3019,"title":"Cannot inject a generic mock in a superclass","user":{"login":"julien-breda","id":24588445,"node_id":"MDQ6VXNlcjI0NTg4NDQ1","avatar_url":"https://avatars.githubusercontent.com/u/24588445?v=4","gravatar_id":"","url":"https://api.github.com/users/julien-breda","html_url":"https://github.com/julien-breda","followers_url":"https://api.github.com/users/julien-breda/followers","following_url":"https://api.github.com/users/julien-breda/following{/other_user}","gists_url":"https://api.github.com/users/julien-breda/gists{/gist_id}","starred_url":"https://api.github.com/users/julien-breda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julien-breda/subscriptions","organizations_url":"https://api.github.com/users/julien-breda/orgs","repos_url":"https://api.github.com/users/julien-breda/repos","events_url":"https://api.github.com/users/julien-breda/events{/privacy}","received_events_url":"https://api.github.com/users/julien-breda/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-05-25T07:28:20Z","updated_at":"2025-01-16T01:08:16Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-08T18:47:09Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15309,"watchers_count":15309,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2641,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2641,"open_issues":476,"watchers":15309,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello !\r\n\r\n### The context\r\nI'm trying to update Mockito from version 1 to 5.3.1 (there's some work to do)\r\nI'm facing an issue and I built a tiny project to illustrate it : [mockito-upgrade.zip](https://github.com/mockito/mockito/files/11562158/mockito-upgrade.zip)\r\n\r\n### The environment\r\nI'm using OpenJDK 11.0.14.1, Maven 3.6.1, JUnit 4.11, on Windows 10.\r\n\r\n### The code\r\nThere's an EntryPoint extending AbstractGenericClass. This last one uses a ParameterizerInjectedObject. The class Something was only created to specify generics.\r\nWhen I try to test EntryPoint, with EntryPointTest, I uses Mockito to inject a mock of ParameterizerInjectedObject<Something> in my EntryPoint instance.\r\n\r\n### The problem\r\nThe problem is that the mock isn't injected.\r\nIf I remove all generics it works but this is not an acceptable solution.\r\n\r\nIf you run my test you'll have a NPE because AbstractGenericClass.object isn't initialized : it is intended to demonstrate the problem.\r\nIf you initialize it by replacing \r\n`private ParameterizedInjectedObject<T> object;`\r\nwith\r\n`private ParameterizedInjectedObject<T> object = new ParameterizedInjectedObject<>();`\r\n\r\nyou'll see the following failure :\r\n\r\n> Wanted but not invoked:\r\n> injected.init();\r\n> -> at test.ParameterizedInjectedObject.init(ParameterizedInjectedObject.java:7)\r\n> Actually, there were zero interactions with this mock.\r\n> \tat test.ParameterizedInjectedObject.init(ParameterizedInjectedObject.java:7)\r\n> \tat test.EntryPointTest.testInit(EntryPointTest.java:23)\r\n> \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n> \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n> \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n> \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n> \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n> \tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:55)\r\n> \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n> \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n> \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n> \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n> \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n> \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n> \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n> \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n> \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n> \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:100)\r\n> \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:107)\r\n> \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:41)\r\n> \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n\r\n### My analyzis\r\nWhen I downgrade to version 5.2.0 I'm facing this issue : https://github.com/mockito/mockito/issues/2958\r\nThe fix for this one, introduced in version 5.3.0, doesn't seem to handle my case.\r\n\r\nI tried to debug Mockito and I think there's a problem with TypeBasedCandidateFilter, starting at line 140 when AbstractGenericClass is analyzed to see if parameter Something is valid for the injection point.\r\n\r\nThanks for reading,","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/3019/reactions","total_count":9,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/3019/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"daniel-matheis-vivavis","id":117902694,"node_id":"U_kgDOBwcNZg","avatar_url":"https://avatars.githubusercontent.com/u/117902694?v=4","gravatar_id":"","url":"https://api.github.com/users/daniel-matheis-vivavis","html_url":"https://github.com/daniel-matheis-vivavis","followers_url":"https://api.github.com/users/daniel-matheis-vivavis/followers","following_url":"https://api.github.com/users/daniel-matheis-vivavis/following{/other_user}","gists_url":"https://api.github.com/users/daniel-matheis-vivavis/gists{/gist_id}","starred_url":"https://api.github.com/users/daniel-matheis-vivavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniel-matheis-vivavis/subscriptions","organizations_url":"https://api.github.com/users/daniel-matheis-vivavis/orgs","repos_url":"https://api.github.com/users/daniel-matheis-vivavis/repos","events_url":"https://api.github.com/users/daniel-matheis-vivavis/events{/privacy}","received_events_url":"https://api.github.com/users/daniel-matheis-vivavis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-11T10:04:50Z","updated_at":"2024-03-11T10:04:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/3294","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/3294/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/3294/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/3294/events","html_url":"https://github.com/mockito/mockito/issues/3294","id":2178469617,"node_id":"I_kwDOAF62v86B2M7x","number":3294,"title":"In TypeBasedCandidateFilter.isCompatibleTypes -> ClassCastException: class TypeVariableImpl cannot be cast to class Class","user":{"login":"daniel-matheis-vivavis","id":117902694,"node_id":"U_kgDOBwcNZg","avatar_url":"https://avatars.githubusercontent.com/u/117902694?v=4","gravatar_id":"","url":"https://api.github.com/users/daniel-matheis-vivavis","html_url":"https://github.com/daniel-matheis-vivavis","followers_url":"https://api.github.com/users/daniel-matheis-vivavis/followers","following_url":"https://api.github.com/users/daniel-matheis-vivavis/following{/other_user}","gists_url":"https://api.github.com/users/daniel-matheis-vivavis/gists{/gist_id}","starred_url":"https://api.github.com/users/daniel-matheis-vivavis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniel-matheis-vivavis/subscriptions","organizations_url":"https://api.github.com/users/daniel-matheis-vivavis/orgs","repos_url":"https://api.github.com/users/daniel-matheis-vivavis/repos","events_url":"https://api.github.com/users/daniel-matheis-vivavis/events{/privacy}","received_events_url":"https://api.github.com/users/daniel-matheis-vivavis/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2024-03-11T07:55:28Z","updated_at":"2024-03-15T14:16:44Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-08T18:47:09Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15309,"watchers_count":15309,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2641,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2641,"open_issues":476,"watchers":15309,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Problem description\r\n\r\n**Given:**\r\nWe are currenty migration from mocktio 5.1 and JDK 17 to mockito 5.11 and JDK 21.\r\nWe use annotation based mock injection.\r\n\r\n**Versions:**\r\nMockito 5.11.0\r\nJunit Jupiter 5.10.1\r\nOpenJDK 64-Bit Server VM Temurin-21.0.2+13 (build 21.0.2+13-LTS, mixed mode, sharing)\r\nMaven 3.9.6\r\nEclipse IDE 2023-12\r\n\r\n**Problematic scenario**\r\nOur problematic test case(s) extend a **base test class** with a **type parameter**\r\n`BaseTest<T> `\r\nThis base test class also contains a **field using the type variable**\r\n```\r\n  @Mock\r\n  Supplier<T> supplier;\r\n\r\n```\r\n**When:**\r\nWhen the test is executed, either by Maven or via Eclipse IDE directly\r\n\r\n**Then**\r\nerrors occur, the following **stack trace** can be seen\r\n\r\n```\r\njava.lang.ClassCastException: class sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to class java.lang.Class (sun.reflect.generics.reflectiveObjects.TypeVariableImpl and java.lang.Class are in module java.base of loader 'bootstrap')\r\n\tat org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.isCompatibleTypes(TypeBasedCandidateFilter.java:65)\r\n\tat org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.lambda$recurseOnTypeArguments$2(TypeBasedCandidateFilter.java:146)\r\n\tat java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\r\n\tat java.base/java.util.stream.Streams$StreamBuilderImpl.tryAdvance(Streams.java:397)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:723)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632)\r\n\tat org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.recurseOnTypeArguments(TypeBasedCandidateFilter.java:144)\r\n\tat org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.isCompatibleTypes(TypeBasedCandidateFilter.java:52)\r\n\tat org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.filterCandidate(TypeBasedCandidateFilter.java:175)\r\n\tat org.mockito.internal.configuration.injection.PropertyAndSetterInjection.injectMockCandidatesOnFields(PropertyAndSetterInjection.java:136)\r\n\tat org.mockito.internal.configuration.injection.PropertyAndSetterInjection.injectMockCandidates(PropertyAndSetterInjection.java:113)\r\n\tat org.mockito.internal.configuration.injection.PropertyAndSetterInjection.processInjection(PropertyAndSetterInjection.java:81)\r\n\tat org.mockito.internal.configuration.injection.MockInjectionStrategy.process(MockInjectionStrategy.java:68)\r\n\tat org.mockito.internal.configuration.injection.MockInjectionStrategy.relayProcessToNextStrategy(MockInjectionStrategy.java:91)\r\n\tat org.mockito.internal.configuration.injection.MockInjectionStrategy.process(MockInjectionStrategy.java:71)\r\n\tat org.mockito.internal.configuration.injection.MockInjectionStrategy.relayProcessToNextStrategy(MockInjectionStrategy.java:91)\r\n\tat org.mockito.internal.configuration.injection.MockInjectionStrategy.process(MockInjectionStrategy.java:71)\r\n\tat org.mockito.internal.configuration.injection.MockInjection$OngoingMockInjection.apply(MockInjection.java:88)\r\n\tat org.mockito.internal.configuration.DefaultInjectionEngine.injectMocksOnFields(DefaultInjectionEngine.java:26)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.injectCloseableMocks(InjectingAnnotationEngine.java:107)\r\n\tat org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:48)\r\n\tat org.mockito.MockitoAnnotations.openMocks(MockitoAnnotations.java:81)\r\n\tat org.mockito.internal.framework.DefaultMockitoSession.<init>(DefaultMockitoSession.java:43)\r\n\tat org.mockito.internal.session.DefaultMockitoSessionBuilder.startMocking(DefaultMockitoSessionBuilder.java:83)\r\n\tat org.mockito.junit.jupiter.MockitoExtension.beforeEach(MockitoExtension.java:160)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\r\n\tSuppressed: java.lang.NullPointerException: Cannot invoke \"java.util.Set.forEach(java.util.function.Consumer)\" because the return value of \"org.junit.jupiter.api.extension.ExtensionContext$Store.remove(Object, java.lang.Class)\" is null\r\n\t\tat org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:194)\r\n\t\t... 2 more\r\n```\r\n\r\n\r\nDuring **debugging** the **type variable 'T'** is seen which is **not \"instanceof Class\" but \"instanceof Type\"**.\r\nThis finally provokes the ClassCastException.\r\nSee next section for affected code; I **assume another case is missing here:** either it is a parameterized type or a non-parameterized type or **none of those two**.\r\n\r\n### Affected code*\r\nin org.mockito.internal.configuration.injection.filter.TypeBasedCandidateFilter.isCompatibleTypes(Type, Type, Field) \r\n\r\n```\r\n\r\n          if (mockType instanceof ParameterizedType) {\r\n                // ParameterizedType.equals() is documented as:\r\n                // \"Instances of classes that implement this interface must implement\r\n                // an equals() method that equates any two instances that share the\r\n                // same generic type declaration and have equal type parameters.\"\r\n                // Unfortunately, e.g. Wildcard parameter \"?\" doesn't equal java.lang.String,\r\n                // and e.g. Set doesn't equal TreeSet, so roll our own comparison if\r\n                // ParameterizedTypeImpl.equals() returns false\r\n                if (typeToMock.equals(mockType)) {\r\n                    result = true;\r\n                } else {\r\n                    ParameterizedType genericTypeToMock = (ParameterizedType) typeToMock;\r\n                    ParameterizedType genericMockType = (ParameterizedType) mockType;\r\n                    Type[] actualTypeArguments = genericTypeToMock.getActualTypeArguments();\r\n                    Type[] actualTypeArguments2 = genericMockType.getActualTypeArguments();\r\n                    if (actualTypeArguments.length == actualTypeArguments2.length) {\r\n                        // Recurse on type parameters, so we properly test whether e.g. Wildcard\r\n                        // bounds have a match\r\n                        result =\r\n                                recurseOnTypeArguments(\r\n                                        injectMocksField,\r\n                                        actualTypeArguments,\r\n                                        actualTypeArguments2);\r\n                    } else {\r\n                        // the two ParameterizedTypes cannot match because they have unequal\r\n                        // number of type arguments\r\n                        result = false;\r\n                    }\r\n                }\r\n            } else {\r\n                // mockType is a non-parameterized Class, i.e. a concrete class.\r\n                // so walk concrete class' type hierarchy\r\n                **Class<?> concreteMockClass = (Class<?>) mockType;**\r\n                Stream<Type> mockSuperTypes = getSuperTypes(concreteMockClass);\r\n                result =\r\n                        mockSuperTypes.anyMatch(\r\n                                mockSuperType ->\r\n                                        isCompatibleTypes(\r\n                                                typeToMock, mockSuperType, injectMocksField));\r\n            }\r\n```\r\n\r\n**So any info/help is welcome to fix this problem!**\r\n\r\nAttached maven project can be run with 5.1 and JDK 17 (working) or with 5.11 (not working).\r\n[reproduce_3294.zip](https://github.com/mockito/mockito/files/14556677/reproduce_3294.zip)\r\n\r\ncolleague mentioned that https://github.com/mockito/mockito/issues/2958 resp. https://github.com/mockito/mockito/issues/3019 is probably related...","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/3294/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/3294/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]