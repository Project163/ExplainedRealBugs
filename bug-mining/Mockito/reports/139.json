{"url":"https://api.github.com/repos/mockito/mockito/issues/1419","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/1419/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/1419/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/1419/events","html_url":"https://github.com/mockito/mockito/issues/1419","id":337475174,"node_id":"MDU6SXNzdWUzMzc0NzUxNzQ=","number":1419,"title":"Provide Java 11 compatibility","user":{"login":"andrepdo","id":11456834,"node_id":"MDQ6VXNlcjExNDU2ODM0","avatar_url":"https://avatars.githubusercontent.com/u/11456834?v=4","gravatar_id":"","url":"https://api.github.com/users/andrepdo","html_url":"https://github.com/andrepdo","followers_url":"https://api.github.com/users/andrepdo/followers","following_url":"https://api.github.com/users/andrepdo/following{/other_user}","gists_url":"https://api.github.com/users/andrepdo/gists{/gist_id}","starred_url":"https://api.github.com/users/andrepdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrepdo/subscriptions","organizations_url":"https://api.github.com/users/andrepdo/orgs","repos_url":"https://api.github.com/users/andrepdo/repos","events_url":"https://api.github.com/users/andrepdo/events{/privacy}","received_events_url":"https://api.github.com/users/andrepdo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1087501916,"node_id":"MDU6TGFiZWwxMDg3NTAxOTE2","url":"https://api.github.com/repos/mockito/mockito/labels/java-11","name":"java-11","color":"b0ef88","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2018-07-02T11:12:56Z","updated_at":"2020-01-31T16:28:37Z","closed_at":"2018-07-13T22:20:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I ran tests with JAva 11 and getting the follwing exception. may be asm 6.2 fixes this?\r\n\r\n\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: interface de.espirit.firstspirit.access.Language.\r\n\r\nIf you're not sure why you're getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 11\r\nJVM vendor name    : \"Oracle Corporation\"\r\nJVM vendor version : 11-ea+18\r\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\r\nJVM version        : 11-ea+18\r\nJVM info           : mixed mode\r\nOS name            : Linux\r\nOS version         : 4.9.0-6-amd64\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.Comparable, interface de.espirit.firstspirit.access.Language]\r\n\tat de.espirit.firstspirit.generate.TestPluggableUrlCreator.setUp(TestPluggableUrlCreator.java:51)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor15.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nCaused by: org.mockito.exceptions.base.MockitoException: Could not modify all classes [interface java.lang.Comparable, interface de.espirit.firstspirit.access.Language]\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:137)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:344)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:159)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:353)\r\nCaused by: java.lang.IllegalStateException: \r\nByte Buddy could not instrument all classes within the mock's type hierarchy\r\n\r\nThis problem should never occur for javac-compiled classes. This problem has been observed for classes that are:\r\n - Compiled by older versions of scalac\r\n - Classes that are part of the Android distribution\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:120)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:97)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:137)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:344)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:159)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:353)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:200)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:181)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:65)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1855)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1787)\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 55\r\n\tat net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:166)\r\n\tat net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:148)\r\n\tat net.bytebuddy.jar.asm.ClassReader.<init>(ClassReader.java:136)\r\n\tat net.bytebuddy.utility.OpenedClassReader.of(OpenedClassReader.java:54)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2912)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1634)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2669)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:181)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:246)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:563)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:167)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:117)\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"mockitoguy","id":24743,"node_id":"MDQ6VXNlcjI0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/24743?v=4","gravatar_id":"","url":"https://api.github.com/users/mockitoguy","html_url":"https://github.com/mockitoguy","followers_url":"https://api.github.com/users/mockitoguy/followers","following_url":"https://api.github.com/users/mockitoguy/following{/other_user}","gists_url":"https://api.github.com/users/mockitoguy/gists{/gist_id}","starred_url":"https://api.github.com/users/mockitoguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockitoguy/subscriptions","organizations_url":"https://api.github.com/users/mockitoguy/orgs","repos_url":"https://api.github.com/users/mockitoguy/repos","events_url":"https://api.github.com/users/mockitoguy/events{/privacy}","received_events_url":"https://api.github.com/users/mockitoguy/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/1419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/1419/timeline","performed_via_github_app":null,"state_reason":"completed"}