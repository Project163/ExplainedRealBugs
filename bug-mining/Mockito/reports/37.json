{"url":"https://api.github.com/repos/mockito/mockito/issues/237","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/237/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/237/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/237/events","html_url":"https://github.com/mockito/mockito/issues/237","id":89897006,"node_id":"MDU6SXNzdWU4OTg5NzAwNg==","number":237,"title":"Test error after upgrading Mockito from 2.0.14-beta to 2.0.15-beta","user":{"login":"tunguski","id":710664,"node_id":"MDQ6VXNlcjcxMDY2NA==","avatar_url":"https://avatars.githubusercontent.com/u/710664?v=4","gravatar_id":"","url":"https://api.github.com/users/tunguski","html_url":"https://github.com/tunguski","followers_url":"https://api.github.com/users/tunguski/followers","following_url":"https://api.github.com/users/tunguski/following{/other_user}","gists_url":"https://api.github.com/users/tunguski/gists{/gist_id}","starred_url":"https://api.github.com/users/tunguski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tunguski/subscriptions","organizations_url":"https://api.github.com/users/tunguski/orgs","repos_url":"https://api.github.com/users/tunguski/repos","events_url":"https://api.github.com/users/tunguski/events{/privacy}","received_events_url":"https://api.github.com/users/tunguski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":16375485,"node_id":"MDU6TGFiZWwxNjM3NTQ4NQ==","url":"https://api.github.com/repos/mockito/mockito/labels/enhancement","name":"enhancement","color":"207de5","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/mockito/mockito/milestones/1","html_url":"https://github.com/mockito/mockito/milestone/1","labels_url":"https://api.github.com/repos/mockito/mockito/milestones/1/labels","id":945543,"node_id":"MDk6TWlsZXN0b25lOTQ1NTQz","number":1,"title":"2.1","description":"","creator":{"login":"bric3","id":803621,"node_id":"MDQ6VXNlcjgwMzYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/803621?v=4","gravatar_id":"","url":"https://api.github.com/users/bric3","html_url":"https://github.com/bric3","followers_url":"https://api.github.com/users/bric3/followers","following_url":"https://api.github.com/users/bric3/following{/other_user}","gists_url":"https://api.github.com/users/bric3/gists{/gist_id}","starred_url":"https://api.github.com/users/bric3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bric3/subscriptions","organizations_url":"https://api.github.com/users/bric3/orgs","repos_url":"https://api.github.com/users/bric3/repos","events_url":"https://api.github.com/users/bric3/events{/privacy}","received_events_url":"https://api.github.com/users/bric3/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":135,"state":"closed","created_at":"2015-01-21T16:53:47Z","updated_at":"2016-10-03T14:33:29Z","due_on":"2016-08-31T07:00:00Z","closed_at":"2016-10-03T14:33:29Z"},"comments":5,"created_at":"2015-06-21T11:03:58Z","updated_at":"2015-06-23T00:18:23Z","closed_at":"2015-06-21T18:02:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"After upgrading Mockito from 2.0.14-beta to 2.0.15-beta I see many test errors. All problems look the same.\n\nIt looks like after upgrade problem is with spring mock bean initialization: https://github.com/tunguski/matsuo-core/blob/415fac82719b68ef26d621ebbb5d0a79c488fdb2/matsuo-core/src/test/java/pl/matsuo/core/conf/TestMailConfig.java\n\nBelow is root exception:\n\n```\njava.lang.IncompatibleClassChangeError: net/bytebuddy/dynamic/scaffold/TypeWriter$Default$ValidatingClassVisitor\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForCreation.create(TypeWriter.java:1751)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:847)\n    at net.bytebuddy.dynamic.scaffold.subclass.SubclassDynamicTypeBuilder.make(SubclassDynamicTypeBuilder.java:215)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$AbstractDelegatingBuilder.make(DynamicType.java:2362)\n    at org.mockito.internal.creation.bytebuddy.MockBytecodeGenerator.generateMockClass(MockBytecodeGenerator.java:58)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.generate(CachingMockBytecodeGenerator.java:72)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator$CachedBytecodeGenerator.getOrGenerateMockClass(CachingMockBytecodeGenerator.java:64)\n    at org.mockito.internal.creation.bytebuddy.CachingMockBytecodeGenerator.get(CachingMockBytecodeGenerator.java:27)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createProxyClass(ByteBuddyMockMaker.java:49)\n    at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.createMock(ByteBuddyMockMaker.java:22)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1392)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:33)\n    at org.mockito.internal.configuration.MockAnnotationProcessor.process(MockAnnotationProcessor.java:16)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.createMockFor(DefaultAnnotationEngine.java:43)\n    at org.mockito.internal.configuration.DefaultAnnotationEngine.process(DefaultAnnotationEngine.java:66)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.processIndependentAnnotations(InjectingAnnotationEngine.java:71)\n    at org.mockito.internal.configuration.InjectingAnnotationEngine.process(InjectingAnnotationEngine.java:55)\n    at org.mockito.MockitoAnnotations.initMocks(MockitoAnnotations.java:108)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl$1.withBefores(JUnit45AndHigherRunnerImpl.java:27)\n    at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:276)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.JUnit45AndHigherRunnerImpl.run(JUnit45AndHigherRunnerImpl.java:37)\n    at org.mockito.runners.MockitoJUnitRunner.run(MockitoJUnitRunner.java:62)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\n```\n","closed_by":{"login":"bric3","id":803621,"node_id":"MDQ6VXNlcjgwMzYyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/803621?v=4","gravatar_id":"","url":"https://api.github.com/users/bric3","html_url":"https://github.com/bric3","followers_url":"https://api.github.com/users/bric3/followers","following_url":"https://api.github.com/users/bric3/following{/other_user}","gists_url":"https://api.github.com/users/bric3/gists{/gist_id}","starred_url":"https://api.github.com/users/bric3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bric3/subscriptions","organizations_url":"https://api.github.com/users/bric3/orgs","repos_url":"https://api.github.com/users/bric3/repos","events_url":"https://api.github.com/users/bric3/events{/privacy}","received_events_url":"https://api.github.com/users/bric3/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/237/timeline","performed_via_github_app":null,"state_reason":"completed"}