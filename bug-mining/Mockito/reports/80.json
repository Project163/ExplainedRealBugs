{"url":"https://api.github.com/repos/mockito/mockito/issues/678","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/678/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/678/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/678/events","html_url":"https://github.com/mockito/mockito/issues/678","id":181593805,"node_id":"MDU6SXNzdWUxODE1OTM4MDU=","number":678,"title":"OSGI bundle problem - incorrect version range syntax in manifest file","user":{"login":"mgrafl","id":18186768,"node_id":"MDQ6VXNlcjE4MTg2NzY4","avatar_url":"https://avatars.githubusercontent.com/u/18186768?v=4","gravatar_id":"","url":"https://api.github.com/users/mgrafl","html_url":"https://github.com/mgrafl","followers_url":"https://api.github.com/users/mgrafl/followers","following_url":"https://api.github.com/users/mgrafl/following{/other_user}","gists_url":"https://api.github.com/users/mgrafl/gists{/gist_id}","starred_url":"https://api.github.com/users/mgrafl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgrafl/subscriptions","organizations_url":"https://api.github.com/users/mgrafl/orgs","repos_url":"https://api.github.com/users/mgrafl/repos","events_url":"https://api.github.com/users/mgrafl/events{/privacy}","received_events_url":"https://api.github.com/users/mgrafl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":16375485,"node_id":"MDU6TGFiZWwxNjM3NTQ4NQ==","url":"https://api.github.com/repos/mockito/mockito/labels/enhancement","name":"enhancement","color":"207de5","default":true,"description":null},{"id":456791773,"node_id":"MDU6TGFiZWw0NTY3OTE3NzM=","url":"https://api.github.com/repos/mockito/mockito/labels/OSGI","name":"OSGI","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-10-07T06:25:48Z","updated_at":"2016-10-10T07:51:10Z","closed_at":"2016-10-10T07:51:10Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The mockito-core version 2.1.0 has an incorrect version range syntax for the Byte Buddy dependencies  in the _META-INF/MANIFEST.MF_ file. Consequently, the bundle cannot be loaded by OSGi (tested with equinox R-4.6). \n\nActual: \n\n> net.bytebuddy;version=\"[1.4.26\",...\n\nExpected: \n\n> net.bytebuddy;version=\"[1.4.26,2.0)\",...\n\nOn the other hand, the version ranges for Objensis dependencies are specified correctly. \n\nThe problem originates from missing double quotes around the version specification in https://github.com/mockito/mockito/blob/v2.1.0/gradle/osgi.gradle#L19 \n\nStacktrace: \n\n> !MESSAGE Error installing bundle: reference:file:plugins/mockito-core.jar\n> !STACK 0\n> org.osgi.framework.BundleException: Error occurred installing a bundle.\n>     at org.eclipse.osgi.storage.Storage.install(Storage.java:562)\n>     at org.eclipse.osgi.internal.framework.BundleContextImpl.installBundle(BundleContextImpl.java:146)\n>     at org.eclipse.core.runtime.adaptor.EclipseStarter.installBundles(EclipseStarter.java:974)\n>     at org.eclipse.core.runtime.adaptor.EclipseStarter.loadBasicBundles(EclipseStarter.java:583)\n>     at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:319)\n>     at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)\n>     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n>     at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n>     at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n>     at java.lang.reflect.Method.invoke(Unknown Source)\n>     at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:673)\n>     at org.eclipse.equinox.launcher.Main.basicRun(Main.java:610)\n>     at org.eclipse.equinox.launcher.Main.run(Main.java:1519)\n>     at org.eclipse.equinox.launcher.Main.main(Main.java:1492)\n> Caused by: java.lang.IllegalArgumentException: invalid range \"[1.4.26\": invalid format\n>     at org.osgi.framework.VersionRange.<init>(VersionRange.java:173)\n>     at org.eclipse.osgi.container.builders.OSGiManifestBuilderFactory.addPackageImports(OSGiManifestBuilderFactory.java:360)\n>     at org.eclipse.osgi.container.builders.OSGiManifestBuilderFactory.getPackageImports(OSGiManifestBuilderFactory.java:339)\n>     at org.eclipse.osgi.container.builders.OSGiManifestBuilderFactory.createBuilder(OSGiManifestBuilderFactory.java:87)\n>     at org.eclipse.osgi.container.builders.OSGiManifestBuilderFactory.createBuilder(OSGiManifestBuilderFactory.java:54)\n>     at org.eclipse.osgi.storage.Storage.getBuilder(Storage.java:604)\n>     at org.eclipse.osgi.storage.Storage.install(Storage.java:531)\n>     ... 13 more\n> Caused by: java.util.NoSuchElementException\n>     at java.util.StringTokenizer.nextToken(Unknown Source)\n>     at org.osgi.framework.VersionRange.<init>(VersionRange.java:157)\n>     ... 19 more\n","closed_by":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/678/timeline","performed_via_github_app":null,"state_reason":"completed"}