{"url":"https://api.github.com/repos/mockito/mockito/issues/2786","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2786/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2786/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2786/events","html_url":"https://github.com/mockito/mockito/issues/2786","id":1439755554,"node_id":"I_kwDOAF62v85V0O0i","number":2786,"title":"If verify fails because of inequal arguments, highlight the wrong values","user":{"login":"HerrDerb","id":7398256,"node_id":"MDQ6VXNlcjczOTgyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7398256?v=4","gravatar_id":"","url":"https://api.github.com/users/HerrDerb","html_url":"https://github.com/HerrDerb","followers_url":"https://api.github.com/users/HerrDerb/followers","following_url":"https://api.github.com/users/HerrDerb/following{/other_user}","gists_url":"https://api.github.com/users/HerrDerb/gists{/gist_id}","starred_url":"https://api.github.com/users/HerrDerb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HerrDerb/subscriptions","organizations_url":"https://api.github.com/users/HerrDerb/orgs","repos_url":"https://api.github.com/users/HerrDerb/repos","events_url":"https://api.github.com/users/HerrDerb/events{/privacy}","received_events_url":"https://api.github.com/users/HerrDerb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-11-08T08:53:01Z","updated_at":"2022-12-23T06:55:47Z","closed_at":"2022-12-22T22:22:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I use mockito a lot. But I just lost quite some time again, because I have overseen a detail in the out put of a failing verify.\r\nA simple example:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ExampleTest {\r\n    @Mock\r\n    TestObject testObject;\r\n\r\n    @Captor\r\n    ArgumentCaptor<Consumer<?>> captor;\r\n\r\n    @Test\r\n    void test() {\r\n        Consumer<?> consumer = obj -> {};\r\n        String myComplicatedString = \"asdknasodinsafERFgIdfD334D\";\r\n        testObject.doStuff(myComplicatedString, consumer);\r\n\r\n        verify(testObject).doStuff(eq(\"asdknasodinsafERFgldfD334D\"), captor.capture());\r\n    }\r\n\r\n    public static class TestObject {\r\n\r\n        public void doStuff(String myString, Consumer<?> myConsumer) {\r\n            // do stuff\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nthe output of this test is\r\n```\r\nArgument(s) are different! Wanted:\r\ntestObject.doStuff(\r\n    \"asdknasodinsafERFgldfD334D\",\r\n    <Capturing argument>\r\n);\r\n-> at com.qumea.mobilitysense.apiservice.messaging.consumers.ExampleTest$TestObject.doStuff(ExampleTest.java:35)\r\nActual invocations have different arguments:\r\ntestObject.doStuff(\r\n    \"asdknasodinsafERFgIdfD334D\",\r\n    com.qumea.mobilitysense.apiservice.messaging.consumers.ExampleTest$$Lambda$5127/0x00000008028baf08@71ebb0f1\r\n);\r\n```\r\nSeeing this, I most likely assume that something has to be wrong with my lambda capture. Altought the problem is the string, which contains a small L instead of a large i, which is very prone to oversee.\r\n\r\nIt would be very welcoming if the log could be more clear about which argument is wrong.\r\ne.g.\r\n\r\n```\r\nActual invocations have different arguments:\r\ntestObject.doStuff(\r\n    \"asdknasodinsafERFgIdfD334D\",  <-- Unexpected value\r\n    com.qumea.mobilitysense.apiservice.messaging.consumers.ExampleTest$$Lambda$5127/0x00000008028baf08@71ebb0f1\r\n);\r\n```\r\n\r\nI think this would save a lot of time.\r\n\r\n\r\n","closed_by":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2786/timeline","performed_via_github_app":null,"state_reason":"completed"}