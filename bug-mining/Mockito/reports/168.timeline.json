[{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/469086255","html_url":"https://github.com/mockito/mockito/issues/1642#issuecomment-469086255","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1642","id":469086255,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA4NjI1NQ==","user":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T01:06:08Z","updated_at":"2019-03-04T01:06:08Z","body":"Update: I found that the lazy verification works properly when you use `VerificationCollector` directly. However, if you try and use it as a JUnit rule that's when this bug manifests.\r\n\r\nI have updated `VerificationCollectorImplTest` to properly test for this situation and fail as appropriate. I will have a quick look and see if it is an easy fix; otherwise I may submit a PR with the test only and leave a more experienced hand to fix it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/469086255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/469100670","html_url":"https://github.com/mockito/mockito/issues/1642#issuecomment-469100670","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1642","id":469100670,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTEwMDY3MA==","user":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T02:52:28Z","updated_at":"2019-03-04T02:52:28Z","body":"Another update: I have gotten to the root of this problem.\r\n\r\n>I found that the lazy verification works properly when you use VerificationCollector directly. However, if you try and use it as a JUnit rule that's when this bug manifests.\r\n\r\nThis wasn't quite correct. The distinguishing feature wasn't the JUnit rule, but if you do a verification for an invocation that tries to match on an argument while running under JUnit.\r\n\r\nThere is code in `org.mockito.internal.junit.ExceptionFactory` that checks to see if JUnit is on the classpath - if so, then it will throw `org.mockito.exceptions.verification.junit.ArgumentsAreDifferent` rather than `org.mockito.exceptions.verification.ArgumentsAreDifferent`. The JUnit version inherits from `junit.framework.ComparisonFailure` whereas the basic version inherits from `org.mockito.exceptions.base.MockitoAssertionError`.\r\n\r\nIt seems that the purpose of this is to help JUnit-aware GUIs to produce more helpful diagnostic output. This makes sense (although it would make more sense to derive from a more-up-to-date version of `ComparisonFailure` if it is available, like `org.junit.ComparisonFailure` - perhaps this could be the subject of a different issue/PR). However, because it is not a subclass of `MockitoAssertionError`, it skips out of the try/catch in `VerificationCollectorImpl` (see https://github.com/mockito/mockito/blob/b745b5d48e9c110fa419fd007b3159ff612b8643/src/main/java/org/mockito/internal/junit/VerificationCollectorImpl.java#L92).\r\n\r\nThere are two possible solutions:\r\n\r\n1. Add another `catch()` to catch `ComparisonFailure` as well.\r\n2. Broaden the catch for `MockitoAssertionError` to a common superclass (like `AssertionError`).\r\n\r\nThe second probably has more generic appeal and would future-proof the solution if other types of argument comparison were used (eg, a custom argument matcher). I will submit a PR for this shortly.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/469100670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2176755824,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjE3Njc1NTgyNA==","url":"https://api.github.com/repos/mockito/mockito/issues/events/2176755824","actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-03-04T03:11:44Z","rename":{"from":"VerificationCollector doesn't work for invocations with args","to":"VerificationCollector doesn't work for invocations with non-matching args"},"performed_via_github_app":null},{"id":2176770832,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNzY3NzA4MzI=","url":"https://api.github.com/repos/mockito/mockito/issues/events/2176770832","actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4096a355f2b67bef7ed1d11d205179ca2081976e","commit_url":"https://api.github.com/repos/kriegfrj/mockito/commits/4096a355f2b67bef7ed1d11d205179ca2081976e","created_at":"2019-03-04T03:23:34Z","performed_via_github_app":null},{"id":2176774207,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIxNzY3NzQyMDc=","url":"https://api.github.com/repos/mockito/mockito/issues/events/2176774207","actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c7d5d8ea613dfb5c3da25919064baf22eee0d652","commit_url":"https://api.github.com/repos/kriegfrj/mockito/commits/c7d5d8ea613dfb5c3da25919064baf22eee0d652","created_at":"2019-03-04T03:26:49Z","performed_via_github_app":null},{"id":2177316359,"node_id":"MDExOkNsb3NlZEV2ZW50MjE3NzMxNjM1OQ==","url":"https://api.github.com/repos/mockito/mockito/issues/events/2177316359","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"73f1d17e5b0ec1410e54a72334639da077e984f4","commit_url":"https://api.github.com/repos/mockito/mockito/commits/73f1d17e5b0ec1410e54a72334639da077e984f4","created_at":"2019-03-04T09:30:57Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T10:29:05Z","updated_at":"2019-03-04T10:29:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/1644","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/1644/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/1644/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/1644/events","html_url":"https://github.com/mockito/mockito/pull/1644","id":416618267,"node_id":"MDExOlB1bGxSZXF1ZXN0MjU3ODAzNzUw","number":1644,"title":"VerificationCollector to handle non-matching args and other assertions","user":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-03-04T03:52:22Z","updated_at":"2019-03-04T10:29:05Z","closed_at":"2019-03-04T09:30:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/1644","html_url":"https://github.com/mockito/mockito/pull/1644","diff_url":"https://github.com/mockito/mockito/pull/1644.diff","patch_url":"https://github.com/mockito/mockito/pull/1644.patch","merged_at":"2019-03-04T09:30:49Z"},"body":"This fix for #1642 widens the catch in `VerificationCollectorImpl` so that it will catch any `AssertionError`, rather than just `MockitoAssertionError`. In this way, any comparison failures (such as the built-in argument comparison when running under JUnit) will also be collected rather than propagating through to the test framework.\r\n\r\nThere are also two commits which are more cosmetic improvements to `VerificationCollectorImplTest`:\r\n\r\n* Rename `assertAtLeastOneFailure()` to `assertExactlyOneFailure()` (more accurate description of what it does).\r\n* Change `Assert.fail()` to AssertJ's `assertBecauseExceptionWasNotThrown()` (produces better diagnostics in the case of a failure).","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/1644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/1644/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-04T23:01:14Z","updated_at":"2019-03-04T23:01:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/1649","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/1649/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/1649/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/1649/events","html_url":"https://github.com/mockito/mockito/issues/1649","id":417032743,"node_id":"MDU6SXNzdWU0MTcwMzI3NDM=","number":1649,"title":"Update ArgumentsAreDifferent for JUnit4+","user":{"login":"kriegfrj","id":7224087,"node_id":"MDQ6VXNlcjcyMjQwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7224087?v=4","gravatar_id":"","url":"https://api.github.com/users/kriegfrj","html_url":"https://github.com/kriegfrj","followers_url":"https://api.github.com/users/kriegfrj/followers","following_url":"https://api.github.com/users/kriegfrj/following{/other_user}","gists_url":"https://api.github.com/users/kriegfrj/gists{/gist_id}","starred_url":"https://api.github.com/users/kriegfrj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kriegfrj/subscriptions","organizations_url":"https://api.github.com/users/kriegfrj/orgs","repos_url":"https://api.github.com/users/kriegfrj/repos","events_url":"https://api.github.com/users/kriegfrj/events{/privacy}","received_events_url":"https://api.github.com/users/kriegfrj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-03-04T23:01:14Z","updated_at":"2019-03-15T19:08:22Z","closed_at":"2019-03-11T21:00:40Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"From #1642:\r\n>There is code in `org.mockito.internal.junit.ExceptionFactory` that checks to see if JUnit is on the classpath - if so, then it will throw `org.mockito.exceptions.verification.junit.ArgumentsAreDifferent` rather than `org.mockito.exceptions.verification.ArgumentsAreDifferent`. The JUnit version inherits from `junit.framework.ComparisonFailure` whereas the basic version inherits from `org.mockito.exceptions.base.MockitoAssertionError`.\r\n>\r\n>...it would make more sense to derive from a more-up-to-date version of `ComparisonFailure` if it is available, like `org.junit.ComparisonFailure` - perhaps this could be the subject of a different issue/PR)\r\n\r\nThis is that issue. Create another ArgumentsAreDifferent exception that derives from `org.junit.ComparisonFailure` rather than `junit.framework.ComparisonFailure`, and then use the most up-to-date-one that is available on the classpath. The up-to-date one has better reporting and diagnostics.\r\n\r\nOne minor irritant with this might be that if you are using Mockito with JUnit 4+ on the classpath but with the JUnit 3 runner, your Mockito assertions will be reported as errors instead of failures. However, I think that would be a pretty odd combination of tests/runners to use and probably not worth worrying about. The alternative would be to dynamically check which runner is being used, which is doable but a bit more tricky.","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/1649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/1649/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":13182388231,"node_id":"REFE_lADOAF62v84Y1IjbzwAAAAMRu0gH","url":"https://api.github.com/repos/mockito/mockito/issues/events/13182388231","actor":{"login":"hudawei996","id":13159223,"node_id":"MDQ6VXNlcjEzMTU5MjIz","avatar_url":"https://avatars.githubusercontent.com/u/13159223?v=4","gravatar_id":"","url":"https://api.github.com/users/hudawei996","html_url":"https://github.com/hudawei996","followers_url":"https://api.github.com/users/hudawei996/followers","following_url":"https://api.github.com/users/hudawei996/following{/other_user}","gists_url":"https://api.github.com/users/hudawei996/gists{/gist_id}","starred_url":"https://api.github.com/users/hudawei996/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudawei996/subscriptions","organizations_url":"https://api.github.com/users/hudawei996/orgs","repos_url":"https://api.github.com/users/hudawei996/repos","events_url":"https://api.github.com/users/hudawei996/events{/privacy}","received_events_url":"https://api.github.com/users/hudawei996/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"73f1d17e5b0ec1410e54a72334639da077e984f4","commit_url":"https://api.github.com/repos/hudawei996/mockito/commits/73f1d17e5b0ec1410e54a72334639da077e984f4","created_at":"2024-06-17T09:07:18Z","performed_via_github_app":null}]