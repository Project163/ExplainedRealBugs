[{"actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-14T21:16:11Z","updated_at":"2022-12-14T21:16:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/2821","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2821/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2821/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2821/events","html_url":"https://github.com/mockito/mockito/pull/2821","id":1492409855,"node_id":"PR_kwDOAF62v85FOI45","number":2821,"title":"Add new artifact mockito-subclass (to use mock-maker-subclass MockMaker)","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-12-12T17:40:49Z","updated_at":"2022-12-14T21:18:19Z","closed_at":"2022-12-14T21:18:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/2821","html_url":"https://github.com/mockito/mockito/pull/2821","diff_url":"https://github.com/mockito/mockito/pull/2821.diff","patch_url":"https://github.com/mockito/mockito/pull/2821.patch","merged_at":"2022-12-14T21:18:19Z"},"body":"Signed-off-by: Andriy Redko <andriy.redko@aiven.io>\r\nRelated to https://github.com/mockito/mockito/issues/2589#issuecomment-1328262373\r\n\r\n<!-- Hey,\r\nThanks for the contribution, this is awesome.\r\nAs you may have read, project members have somehow an opinionated view on what and how should be\r\nMockito, e.g. we don't want mockito to be a feature bloat.\r\nThere may be a thorough review, with feedback -> code change loop.\r\n-->\r\n<!--\r\nIf you have a suggestion for this template you can fix it in the .github/PULL_REQUEST_TEMPLATE.md file\r\n-->\r\n## Checklist\r\n\r\n - [ ] Read the [contributing guide](https://github.com/mockito/mockito/blob/main/.github/CONTRIBUTING.md)\r\n - [ ] PR should be motivated, i.e. what does it fix, why, and if relevant how\r\n - [ ] If possible / relevant include an example in the description, that could help all readers\r\n       including project members to get a better picture of the change\r\n - [ ] Avoid other runtime dependencies\r\n - [ ] Meaningful commit history ; intention is important please rebase your commit history so that each\r\n       commit is meaningful and help the people that will explore a change in 2 years\r\n - [X] The pull request follows coding style\r\n - [ ] Mention `Fixes #<issue number>` in the description _if relevant_\r\n - [ ] At least one commit should mention `Fixes #<issue number>` _if relevant_\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2821/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8041639620,"node_id":"LE_lADOAF62v85ZQKwHzwAAAAHfUa7E","url":"https://api.github.com/repos/mockito/mockito/issues/events/8041639620","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-12-14T21:22:03Z","label":{"name":"please contribute","color":"0e8a16"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1352223377","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1352223377","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1352223377,"node_id":"IC_kwDOAF62v85QmUqR","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-14T21:24:05Z","updated_at":"2022-12-14T21:24:05Z","body":"@TimvdLippe I think I do have time to look at it, feel free to assign it to me, thank you.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1352223377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8041652320,"node_id":"MEE_lADOAF62v85ZQKwHzwAAAAHfUeBg","url":"https://api.github.com/repos/mockito/mockito/issues/events/8041652320","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-14T21:24:05Z","performed_via_github_app":null},{"id":8041652328,"node_id":"SE_lADOAF62v85ZQKwHzwAAAAHfUeBo","url":"https://api.github.com/repos/mockito/mockito/issues/events/8041652328","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-14T21:24:05Z","performed_via_github_app":null},{"id":8057713130,"node_id":"AE_lADOAF62v85ZQKwHzwAAAAHgRvHq","url":"https://api.github.com/repos/mockito/mockito/issues/events/8057713130","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-12-16T15:35:52Z","assignee":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":8081953999,"node_id":"REFE_lADOAF62v85ZQKwHzwAAAAHhuNTP","url":"https://api.github.com/repos/mockito/mockito/issues/events/8081953999","actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9380baa4d5636a160c1f8325802981923e1cd09b","commit_url":"https://api.github.com/repos/reta/mockito/commits/9380baa4d5636a160c1f8325802981923e1cd09b","created_at":"2022-12-20T21:26:36Z","performed_via_github_app":null},{"actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-20T21:26:44Z","updated_at":"2022-12-20T21:26:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/2829","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2829/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2829/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2829/events","html_url":"https://github.com/mockito/mockito/pull/2829","id":1505305874,"node_id":"PR_kwDOAF62v85F591u","number":2829,"title":"AssertionError in MockUtil.getMockHandlerOrNull in our regression test suite. Fixes #2823","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-20T21:26:44Z","updated_at":"2022-12-21T07:29:35Z","closed_at":"2022-12-21T07:29:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/2829","html_url":"https://github.com/mockito/mockito/pull/2829","diff_url":"https://github.com/mockito/mockito/pull/2829.diff","patch_url":"https://github.com/mockito/mockito/pull/2829.patch","merged_at":"2022-12-21T07:29:34Z"},"body":"Signed-off-by: Andriy Redko <drreta@gmail.com>\r\n\r\nFixes https://github.com/mockito/mockito/issues/2823\r\n\r\n<!-- Hey,\r\nThanks for the contribution, this is awesome.\r\nAs you may have read, project members have somehow an opinionated view on what and how should be\r\nMockito, e.g. we don't want mockito to be a feature bloat.\r\nThere may be a thorough review, with feedback -> code change loop.\r\n-->\r\n<!--\r\nIf you have a suggestion for this template you can fix it in the .github/PULL_REQUEST_TEMPLATE.md file\r\n-->\r\n## Checklist\r\n\r\n - [X] Read the [contributing guide](https://github.com/mockito/mockito/blob/main/.github/CONTRIBUTING.md)\r\n - [X] PR should be motivated, i.e. what does it fix, why, and if relevant how\r\n - [ ] If possible / relevant include an example in the description, that could help all readers\r\n       including project members to get a better picture of the change\r\n - [ ] Avoid other runtime dependencies\r\n - [ ] Meaningful commit history ; intention is important please rebase your commit history so that each\r\n       commit is meaningful and help the people that will explore a change in 2 years\r\n - [X] The pull request follows coding style\r\n - [X] Mention `Fixes #<issue number>` in the description _if relevant_\r\n - [X] At least one commit should mention `Fixes #<issue number>` _if relevant_\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2829/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1360429061","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1360429061","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1360429061,"node_id":"IC_kwDOAF62v85RFoAF","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-20T23:06:37Z","updated_at":"2022-12-20T23:06:37Z","body":"@TimvdLippe It seems like issue was caused by one test case, `ProgrammaticMockMakerTest`, which was conflicting with default mock maker strategies (by programmatically manipulating mock makers). I have extracted this test into separate test module, `programmatic-test`, and the logs seem to be clear, https://github.com/mockito/mockito/pull/2829","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1360429061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8082473854,"node_id":"MEE_lADOAF62v85ZQKwHzwAAAAHhwMN-","url":"https://api.github.com/repos/mockito/mockito/issues/events/8082473854","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-12-20T23:06:37Z","performed_via_github_app":null},{"id":8082473859,"node_id":"SE_lADOAF62v85ZQKwHzwAAAAHhwMOD","url":"https://api.github.com/repos/mockito/mockito/issues/events/8082473859","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-12-20T23:06:37Z","performed_via_github_app":null},{"id":8084443990,"node_id":"CE_lADOAF62v85ZQKwHzwAAAAHh3tNW","url":"https://api.github.com/repos/mockito/mockito/issues/events/8084443990","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-12-21T07:29:35Z","state_reason":null,"performed_via_github_app":null},{"id":8084444388,"node_id":"REFE_lADOAF62v85ZQKwHzwAAAAHh3tTk","url":"https://api.github.com/repos/mockito/mockito/issues/events/8084444388","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"048731e9fc955789fe90efba6828262ce6e4f5d6","commit_url":"https://api.github.com/repos/mockito/mockito/commits/048731e9fc955789fe90efba6828262ce6e4f5d6","created_at":"2022-12-21T07:29:40Z","performed_via_github_app":null},{"actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-08T13:19:34Z","updated_at":"2023-01-08T13:19:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/2793","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2793/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2793/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2793/events","html_url":"https://github.com/mockito/mockito/issues/2793","id":1457551727,"node_id":"I_kwDOAF62v85W4Hlv","number":2793,"title":"Sporadic `java.lang.AssertionError` in `MockUtil.getMockHandlerOrNull`","user":{"login":"XN137","id":1204398,"node_id":"MDQ6VXNlcjEyMDQzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1204398?v=4","gravatar_id":"","url":"https://api.github.com/users/XN137","html_url":"https://github.com/XN137","followers_url":"https://api.github.com/users/XN137/followers","following_url":"https://api.github.com/users/XN137/following{/other_user}","gists_url":"https://api.github.com/users/XN137/gists{/gist_id}","starred_url":"https://api.github.com/users/XN137/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XN137/subscriptions","organizations_url":"https://api.github.com/users/XN137/orgs","repos_url":"https://api.github.com/users/XN137/repos","events_url":"https://api.github.com/users/XN137/events{/privacy}","received_events_url":"https://api.github.com/users/XN137/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-11-21T08:51:25Z","updated_at":"2023-01-08T13:19:35Z","closed_at":"2023-01-08T13:19:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"hello,\r\n\r\nwe are using mockito 4.8.1 on jdk 11 targeting java 8\r\n\r\nrecently one of our maven modules added a dependency to `mockito-inline` in order to mock final classes/methods (normally modules use normal mockito)\r\n\r\nwe started seeing sporadically failing tests around this:\r\n```\r\njava.lang.AssertionError\r\n\tat org.mockito.internal.util.MockUtil.getMockHandlerOrNull(MockUtil.java:160)\r\n\tat org.mockito.internal.util.MockUtil.getMockHandler(MockUtil.java:115)\r\n\tat org.mockito.internal.stubbing.answers.InvocationInfo.isVoid(InvocationInfo.java:94)\r\n\tat org.mockito.internal.stubbing.answers.Returns.validateFor(Returns.java:34)\r\n\tat org.mockito.internal.stubbing.InvocationContainerImpl.addAnswer(InvocationContainerImpl.java:65)\r\n\tat org.mockito.internal.stubbing.InvocationContainerImpl.addAnswer(InvocationContainerImpl.java:56)\r\n\tat org.mockito.internal.stubbing.OngoingStubbingImpl.thenAnswer(OngoingStubbingImpl.java:32)\r\n\tat org.mockito.internal.stubbing.BaseStubbing.thenReturn(BaseStubbing.java:34)\r\n        (..)\r\n```\r\n\r\nalso:\r\n```\r\njava.lang.AssertionError\r\n\tat org.mockito.internal.util.MockUtil.getMockHandlerOrNull(MockUtil.java:160)\r\n\tat org.mockito.internal.util.MockUtil.isMock(MockUtil.java:147)\r\n\tat org.mockito.internal.stubbing.StubberImpl.when(StubberImpl.java:43)\r\n        (..)\r\n```\r\n\r\nfor the latter error the test code looks like this:\r\n```\r\nimport com.azure.resourcemanager.AzureResourceManager;\r\nimport com.azure.resourcemanager.compute.models.GalleryImageVersions;\r\n\r\n(..)\r\n  @Test\r\n  public void testMethod() {\r\n    AzureResourceManager mockArmClient = mock(AzureResourceManager.class);  // final class\r\n    GalleryImageVersions mockGalleryImageVersions = mock(GalleryImageVersions.class); // interface\r\n    doReturn(mockGalleryImageVersions).when(mockArmClient).galleryImageVersions();\r\n    doReturn(null).when(mockGalleryImageVersions).listByGalleryImage(anyString(), anyString(), anyString()); <- assertion fails here\r\n    (..)\r\n  }\r\n```\r\n\r\nadditional notes:\r\n- these tests are not failing every time and the number of failing tests varies (but all with assertion error in `MockUtil.getMockHandlerOrNull`)\r\n- in case it is relevant: it could be that the maven module depends on both `<artifactId>mockito-inline</artifactId>` and `<artifactId>mockito-core</artifactId>` but these tests are not using multiple classloaders or the like\r\n\r\nare we doing anything wrong or is this a mockito bug?\r\n\r\nthe failing assertion has only recently been added in 4.8.0 for supporting the mockmaker settings:\r\nhttps://github.com/mockito/mockito/blame/3faa00299a8c0793cf17ce072229f2e8ffea4579/src/main/java/org/mockito/internal/util/MockUtil.java#L160\r\nany ideas when this can resolve to different mock makers?","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2793/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1580184187","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1580184187","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1580184187,"node_id":"IC_kwDOAF62v85eL7J7","user":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T08:23:06Z","updated_at":"2023-06-07T08:23:42Z","body":"Hey! We hit this error as well, after upgrading to Mockito 5.3.1 from 3.x (using Java 17)\r\n\r\nThis happened unreproducibly as well because the failing tests are different from the ones using a non-standard mockmaker. \r\n\r\nIf this can't be fixed (because it's not reproducible), please improve [the documentation](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#individual_mock_maker) and/or the assertion with a better error message like \"Please do not use different MockMakers for the same target class(?)\" or something. I would send a PR myself but I'm not sure myself what's going on there. \r\n\r\nIt's also very disconcerting that doing a thing in one test class affects other test classes in when using mockito. Can't this be avoided (I'm writing this knowing I have no clue about Mockito internals)?\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1580184187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1580741211","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1580741211","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1580741211,"node_id":"IC_kwDOAF62v85eODJb","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T12:44:48Z","updated_at":"2023-06-07T12:44:48Z","body":"Thanks @mr1chter \r\n\r\n> Hey! We hit this error as well, after upgrading to Mockito 5.3.1 from 3.x (using Java 17)\r\n\r\nCould you share a bit more details - in you tests you also change the default mock maker from test class to test class? Could you share minimal examples how do you use different mock makers in your tests? \r\n\r\n> It's also very disconcerting that doing a thing in one test class affects other test classes in when using mockito. Can't this be avoided (I'm writing this knowing I have no clue about Mockito internals)?\r\n\r\nThis particular fix was specific to Mockito but we could certainly improve the documentation / error reporting, just need to understand the context a bit more.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1580741211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9458685094,"node_id":"MEE_lADOAF62v85ZQKwHzwAAAAIzyBSm","url":"https://api.github.com/repos/mockito/mockito/issues/events/9458685094","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-06-07T12:44:48Z","performed_via_github_app":null},{"id":9458685108,"node_id":"SE_lADOAF62v85ZQKwHzwAAAAIzyBS0","url":"https://api.github.com/repos/mockito/mockito/issues/events/9458685108","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-06-07T12:44:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581079255","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1581079255","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1581079255,"node_id":"IC_kwDOAF62v85ePVrX","user":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T15:37:16Z","updated_at":"2023-06-07T15:37:16Z","body":"We don't change the MockMaker from the default in almost all cases. There was a single one where I had to change it to the subclass MockMaker because a specific interface could not be mocked[1]. When I did this, some tests left and right of it failed due to the AssertionError, but inconsistently. When running all failing and changed tests in isolation (using gradle test --test Mytest) nothing failed anymore. But running some of them at once leads to AssertionErrors, which was very strange(looks like a race condition or something).\r\n\r\nI just dropped in with the debugger and it said that in this specific assertion it gets a `InlineByteBuddyMockMaker` on the left and a `ByteBuddyMockMaker` on the right, `handler.getMockSettings().getMockMaker()` is `null`. The stackstrace is roughly the follows (i slightly indented the places that are not mockito code and replaced the class and method names of those):\r\n```\r\ngetMockHandlerOrNull:160, MockUtil (org.mockito.internal.util), MockUtil.java\r\ngetMockHandler:115, MockUtil (org.mockito.internal.util), MockUtil.java\r\nisVoid:94, InvocationInfo (org.mockito.internal.stubbing.answers), InvocationInfo.java\r\nvalidateFor:34, Returns (org.mockito.internal.stubbing.answers), Returns.java\r\naddAnswer:64, InvocationContainerImpl (org.mockito.internal.stubbing), InvocationContainerImpl.java\r\naddAnswer:55, InvocationContainerImpl (org.mockito.internal.stubbing), InvocationContainerImpl.java\r\nthenAnswer:32, OngoingStubbingImpl (org.mockito.internal.stubbing), OngoingStubbingImpl.java\r\nthenReturn:34, BaseStubbing (org.mockito.internal.stubbing), BaseStubbing.java\r\n lambda$createTestStubs$0:65, CompanyInternalTest (com.forflow.internalstuff), CompanyInternalTest.java\r\n answer:-1, CompanyInternalTest$$Lambda$511/0x0000000801331208 (com.forflow.control.tacticalplanning.exchange.forecast), Unknown Source\r\nanswer:42, StubbedInvocationMatcher (org.mockito.internal.stubbing), StubbedInvocationMatcher.java\r\nhandle:103, MockHandlerImpl (org.mockito.internal.handler), MockHandlerImpl.java\r\nhandle:29, NullResultGuardian (org.mockito.internal.handler), NullResultGuardian.java\r\nhandle:34, InvocationNotifierHandler (org.mockito.internal.handler), InvocationNotifierHandler.java\r\ndoIntercept:82, MockMethodInterceptor (org.mockito.internal.creation.bytebuddy), MockMethodInterceptor.java\r\nhandle:134, MockMethodAdvice (org.mockito.internal.creation.bytebuddy), MockMethodAdvice.java\r\n methodUsedBySUT:103, ClassUsedBySUT (com.forflow.internalstuff), ClassUsedBySUT.java\r\n\r\n```\r\nAs you might see, this is happening in a `when().doReturn()` which is called as part of a stubbed Method response itself. But afaict this can also happen in simpler stubbings on Mocks which used the regular default inline MockMaker.\r\n\r\nRegarding documentation, I might open another issue because there are still quite some places that say \"subclass mockMaker is the default\" or \"in the future, inline will be the default\" even though this changed.\r\n\r\n[1] The interface that could not be mocked(lets call it A) is also weird because it is not special in any way. The mocking fails with a \"classic\" InternalError: class redefinition failed, invalid class. I followed until this error with the debugger and noticed that it tried to redefine 4 interfaces (three of which are superinterfaces of A) and managed to identify an even more simple interface which can't be mocked.\r\n\r\nBut somehow, A can be successfully mocked with the inline mockmaker in other test classes.\r\nI'll investigate this further and why it works there.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581079255/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581098984","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1581098984","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1581098984,"node_id":"IC_kwDOAF62v85ePafo","user":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T15:48:40Z","updated_at":"2023-06-07T15:49:17Z","body":"I got the inline MockMaker to work, sidestepping the problem (because now, no subclass mockmaker is used anywhere).\r\nThe workaround was to apply our internal junit extension which sets up a completely mocked environment. This is somewhat overkill for this test (and was not necessary before) but seems to do the trick. In fact, as long as the test mocking A is run after a separate test which had this setup extension applied to it, it works (also some kind of spooky side-effect that shouldn't be there).\r\n\r\nSo my takeaway is now to advise people to use one mockmaker or another, but not both, as long as those are used within the same Java process anywhere.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581098984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581101973","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1581101973","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1581101973,"node_id":"IC_kwDOAF62v85ePbOV","user":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T15:50:22Z","updated_at":"2023-06-07T15:50:22Z","body":"Sorry for the wall of text monologue, next time I'll open a proper ticket.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581101973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mr1chter","id":70218825,"node_id":"MDQ6VXNlcjcwMjE4ODI1","avatar_url":"https://avatars.githubusercontent.com/u/70218825?v=4","gravatar_id":"","url":"https://api.github.com/users/mr1chter","html_url":"https://github.com/mr1chter","followers_url":"https://api.github.com/users/mr1chter/followers","following_url":"https://api.github.com/users/mr1chter/following{/other_user}","gists_url":"https://api.github.com/users/mr1chter/gists{/gist_id}","starred_url":"https://api.github.com/users/mr1chter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mr1chter/subscriptions","organizations_url":"https://api.github.com/users/mr1chter/orgs","repos_url":"https://api.github.com/users/mr1chter/repos","events_url":"https://api.github.com/users/mr1chter/events{/privacy}","received_events_url":"https://api.github.com/users/mr1chter/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581179706","html_url":"https://github.com/mockito/mockito/issues/2823#issuecomment-1581179706","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2823","id":1581179706,"node_id":"IC_kwDOAF62v85ePuM6","user":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T16:40:50Z","updated_at":"2023-06-07T16:40:50Z","body":"> Sorry for the wall of text monologue, next time I'll open a proper ticket.\r\n\r\nNot a problem, thank you for sharing that\r\n\r\n>  When running all failing and changed tests in isolation (using gradle test --test Mytest) nothing failed anymore. But running some of them at once leads to AssertionErrors, which was very strange(looks like a race condition or something).\r\n\r\nThat sounds about right, the order tests are scheduled on forked JVMs introduces randomness, and certainly, just running a test in isolation works all the time.\r\n\r\n> Regarding documentation, I might open another issue because there are still quite some places that say \"subclass mockMaker is the default\" or \"in the future, inline will be the default\" even though this changed.\r\n\r\nPlease do, thank you\r\n\r\n> But somehow, A can be successfully mocked with the inline mockmaker in other test classes.\r\nI'll investigate this further and why it works there.\r\n\r\n:+1\r\n\r\n>  In fact, as long as the test mocking A is run after a separate test which had this setup extension applied to it, it works (also some kind of spooky side-effect that shouldn't be there).\r\n\r\nYes, similar approach we took for Mockito (to eliminate the possibility of race and isolate tests for differrent  mock makers).\r\n\r\n> So my takeaway is now to advise people to use one mockmaker or another, but not both, as long as those are used within the same Java process anywhere.\r\n\r\nCorrect, or have some sort of test support for cleaning up the mock maker per test suite (the example that comes into mind is `@DirtiesContext` that Spring framework uses). I think we could explore this route. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1581179706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"reta","id":509855,"node_id":"MDQ6VXNlcjUwOTg1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/509855?v=4","gravatar_id":"","url":"https://api.github.com/users/reta","html_url":"https://github.com/reta","followers_url":"https://api.github.com/users/reta/followers","following_url":"https://api.github.com/users/reta/following{/other_user}","gists_url":"https://api.github.com/users/reta/gists{/gist_id}","starred_url":"https://api.github.com/users/reta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reta/subscriptions","organizations_url":"https://api.github.com/users/reta/orgs","repos_url":"https://api.github.com/users/reta/repos","events_url":"https://api.github.com/users/reta/events{/privacy}","received_events_url":"https://api.github.com/users/reta/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"tomaszbechey","id":100423836,"node_id":"U_kgDOBfxYnA","avatar_url":"https://avatars.githubusercontent.com/u/100423836?v=4","gravatar_id":"","url":"https://api.github.com/users/tomaszbechey","html_url":"https://github.com/tomaszbechey","followers_url":"https://api.github.com/users/tomaszbechey/followers","following_url":"https://api.github.com/users/tomaszbechey/following{/other_user}","gists_url":"https://api.github.com/users/tomaszbechey/gists{/gist_id}","starred_url":"https://api.github.com/users/tomaszbechey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomaszbechey/subscriptions","organizations_url":"https://api.github.com/users/tomaszbechey/orgs","repos_url":"https://api.github.com/users/tomaszbechey/repos","events_url":"https://api.github.com/users/tomaszbechey/events{/privacy}","received_events_url":"https://api.github.com/users/tomaszbechey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-04-29T17:19:06Z","updated_at":"2025-04-29T17:19:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/3406","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/3406/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/3406/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/3406/events","html_url":"https://github.com/mockito/mockito/issues/3406","id":2437570390,"node_id":"I_kwDOAF62v86RSl9W","number":3406,"title":"Seemingly random java.lang.AssertionError in MockUtil.getMockHandlerOrNull ","user":{"login":"mpiela","id":2963111,"node_id":"MDQ6VXNlcjI5NjMxMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2963111?v=4","gravatar_id":"","url":"https://api.github.com/users/mpiela","html_url":"https://github.com/mpiela","followers_url":"https://api.github.com/users/mpiela/followers","following_url":"https://api.github.com/users/mpiela/following{/other_user}","gists_url":"https://api.github.com/users/mpiela/gists{/gist_id}","starred_url":"https://api.github.com/users/mpiela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpiela/subscriptions","organizations_url":"https://api.github.com/users/mpiela/orgs","repos_url":"https://api.github.com/users/mpiela/repos","events_url":"https://api.github.com/users/mpiela/events{/privacy}","received_events_url":"https://api.github.com/users/mpiela/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-07-30T11:11:39Z","updated_at":"2025-10-14T13:38:47Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, we're experiencing an issue very similar to #2793 where some tests fail with an assertion error:\r\n```\r\njava.lang.AssertionError\r\n\tat org.mockito.internal.util.MockUtil.getMockHandlerOrNull(MockUtil.java:160)\r\n        .....\r\n```\r\nThe issue started occuring in some of our tests after upgrading to mockito 5.12.0 where \"inline\" became the default for the mock maker. In some tests similar to the attached example we have mocks that have to be created using `SUBCLASS` and to make these tests pass we have to swich all mocks to `SUBCLASS`. It seemed a bit \"code-smelly\" during code review so here I am...\r\n\r\nI've spent some time trying to prepare a piece of code that would fail each time - see attached example [mockito-issue.zip](https://github.com/user-attachments/files/16426557/mockito-issue.zip)\r\n\r\nIt's a simple spring-mvc controller test, perform a `mvn clean install` to run it.\r\nWhat I've discovered so far:\r\n1. The test works every time when using java 17.0.10-jbr from sdkman\r\n2. The test fails every time when using 17.0.12-tem from sdkman\r\n\r\nThen, while using the \"failing\" 17.0.12-tem java I noticed that making ANY of the following changes makes the tests pass:\r\n- Removing `SomeControllerTest.tearDown` method (which is empty!)\r\n- Removing any of the `thirdDependency*` bean definitions from `SomeControllerTestContext` (so reducing the number of mocks in the spring context from 16 to 15)\r\n- Switching the MockMaker from SUBCLASS to INLINE in `SomeControllerTestContext.secondDependency` \r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/3406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/3406/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]