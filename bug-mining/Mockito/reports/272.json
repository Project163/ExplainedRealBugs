{"url":"https://api.github.com/repos/mockito/mockito/issues/2836","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/2836/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/2836/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/2836/events","html_url":"https://github.com/mockito/mockito/issues/2836","id":1508959762,"node_id":"I_kwDOAF62v85Z8OYS","number":2836,"title":"Remove deprecated `VarargMatcher` interface in v5","user":{"login":"big-andy-coates","id":8012398,"node_id":"MDQ6VXNlcjgwMTIzOTg=","avatar_url":"https://avatars.githubusercontent.com/u/8012398?v=4","gravatar_id":"","url":"https://api.github.com/users/big-andy-coates","html_url":"https://github.com/big-andy-coates","followers_url":"https://api.github.com/users/big-andy-coates/followers","following_url":"https://api.github.com/users/big-andy-coates/following{/other_user}","gists_url":"https://api.github.com/users/big-andy-coates/gists{/gist_id}","starred_url":"https://api.github.com/users/big-andy-coates/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-andy-coates/subscriptions","organizations_url":"https://api.github.com/users/big-andy-coates/orgs","repos_url":"https://api.github.com/users/big-andy-coates/repos","events_url":"https://api.github.com/users/big-andy-coates/events{/privacy}","received_events_url":"https://api.github.com/users/big-andy-coates/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-12-23T06:39:20Z","updated_at":"2022-12-30T15:25:12Z","closed_at":"2022-12-30T15:25:12Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"`VarargMatcher` is an internal interface used to match some matchers as 'varargs aware'.  \r\n\r\nWhen `MatcherApplicationStrategy`  sees a `VarargMatcher` passed as the last matcher to a varargs method, it will use this matcher to match each value passed to the varargs parameter.\r\n\r\nThis approach has been identified as broken, as it does not allow users to differentiate between matching an invocation where a single value is passed to the varargs parameter from an invocation matching any number of parameters.\r\n\r\n```java\r\n// For example, given:\r\nString varargsMethod(String... args);\r\n\r\nwhen(mock.varargsMethod(any()).thenReturn(\"any()\");\r\nwhen(mock.varargsMethod(any(), any()).thenReturn(\"any(), any()\");\r\n\r\n// Then:\r\n// The following invocation will match the second mocking and therefore return \"any(), any()\"\r\nmock.varargsMethod(\"1\", \"2\");\r\n\r\n// So far so good, ...but all the following invocations will match the first mocking and therefore return \"any()\":\r\nmock.varargsMethod();\r\nmock.varargsMethod(\"1\");\r\nmock.varargsMethod(\"1\", \"2\", \"3\");\r\n\r\n// i.e. there is no way to say \"match exactly 1 param\"\r\n```","closed_by":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/2836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/2836/timeline","performed_via_github_app":null,"state_reason":"completed"}