[{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289555217","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289555217","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289555217,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTU1NTIxNw==","user":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-27T19:12:55Z","updated_at":"2017-03-27T19:12:55Z","body":"@geralt-encore Could you build a gist so that we can easily test it? I am not familiar with the Android ecosystem, would like to have a quick install to debug directly.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289555217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1017288881,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAxNzI4ODg4MQ==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1017288881","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-27T19:12:55Z","performed_via_github_app":null},{"id":1017288882,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMTcyODg4ODI=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1017288882","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-27T19:12:55Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289705685","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289705685","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289705685,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTcwNTY4NQ==","user":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T08:53:12Z","updated_at":"2017-03-28T08:53:12Z","body":"Here is a sample project for reproduction: https://github.com/geralt-encore/MockitoBug\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289705685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1018165224,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxMDE4MTY1MjI0","url":"https://api.github.com/repos/mockito/mockito/issues/events/1018165224","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2017-03-28T09:12:21Z","assignee":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289710690","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289710690","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289710690,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTcxMDY5MA==","user":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T09:12:51Z","updated_at":"2017-03-28T09:12:51Z","body":"I have assigned @raphw, as he is probably the most knowledgeable about this bug. However, he is quite busy IRL so it might take some time before he is able to respond. Thanks for your understanding!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289710690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1018165963,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAxODE2NTk2Mw==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1018165963","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-28T09:12:51Z","performed_via_github_app":null},{"id":1018165964,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMTgxNjU5NjQ=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1018165964","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-28T09:12:51Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289712440","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289712440","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289712440,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTcxMjQ0MA==","user":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T09:19:43Z","updated_at":"2017-03-28T09:19:43Z","body":"Sure! Let me know if you need more info from me.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289712440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289922861","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289922861","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289922861,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTkyMjg2MQ==","user":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-28T22:21:22Z","updated_at":"2017-03-28T22:21:22Z","body":"I do not currently have an Android SDK installed but I assume it has something to do with your use of Android? The inline mock maker requires running on a \"regular\" JVM and cannot be used on Android or on an emulator.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289922861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289950134","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-289950134","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":289950134,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTk1MDEzNA==","user":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T00:58:49Z","updated_at":"2017-03-29T00:58:49Z","body":"@raphw, I am interested in this issue and I investigated this with the above reproducible project.\r\nThis problem occurs on the \"regular\" JVM such as OpenJDK, not Android VM.\r\n\r\nI suppose this is a bug of byte-buddy.\r\n\r\nRunning the code above causes ArrayIndexOutOfBoundsException.\r\n(However, since Throwable objects are ignored [here](https://github.com/mockito/mockito/blob/release/2.x/src/main/java/org/mockito/internal/creation/bytebuddy/InlineBytecodeGenerator.java#L172), this exception will not appear.)\r\n\r\nHere is the stack trace elements.\r\n```\r\n0 = {StackTraceElement@1934} \"net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1194)\"\r\n1 = {StackTraceElement@1935} \"net.bytebuddy.asm.Advice$StackMapFrameHandler$Default.translateFrame(Advice.java:1141)\"\r\n2 = {StackTraceElement@1936} \"net.bytebuddy.asm.Advice$AdviceVisitor.visitFrame(Advice.java:6590)\"\r\n3 = {StackTraceElement@1937} \"net.bytebuddy.jar.asm.ClassReader.a(Unknown Source)\"\r\n4 = {StackTraceElement@1938} \"net.bytebuddy.jar.asm.ClassReader.b(Unknown Source)\"\r\n5 = {StackTraceElement@1939} \"net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\"\r\n6 = {StackTraceElement@1940} \"net.bytebuddy.jar.asm.ClassReader.accept(Unknown Source)\"\r\n7 = {StackTraceElement@1941} \"net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2910)\"\r\n8 = {StackTraceElement@1942} \"net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1628)\"\r\n9 = {StackTraceElement@1943} \"net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\"\r\n10 = {StackTraceElement@1944} \"net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\"\r\n11 = {StackTraceElement@1945} \"net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2560)\"\r\n12 = {StackTraceElement@1946} \"org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.transform(InlineBytecodeGenerator.java:156)\"\r\n[snip]\r\n```\r\n\r\nThe exception has occurred [here](https://github.com/raphw/byte-buddy/blob/master/byte-buddy-dep/src/main/java/net/bytebuddy/asm/Advice.java#L1194).\r\n\r\nI set a breakpoint at the place where the exception occurred.\r\nHere is a list of variables.\r\n```\r\nthis = {Advice$StackMapFrameHandler$Default@1896} \r\nmethodVisitor = {LineNumberPrependingMethodVisitor@1900} \r\ntranslationMode = {Advice$StackMapFrameHandler$Default$TranslationMode$1@1901} \"COPY\"\r\nmethodDescription = {MethodDescription$Latent@1902} \"public android.accounts.Account com.google.android.gms.auth.api.signin.GoogleSignInAccount.getAccount()\"\r\nadditionalTypes = {TypeList$Explicit@1903}  size = 1\r\ntype = 0\r\nlocalVariableLength = 0\r\nlocalVariable = {Object[1]@1904} \r\nstackSize = 1\r\nstack = {Object[4]@1905} \r\ntranslated = {Object[1]@1954} \r\nindex = 1\r\ntypeDescription = {TypeDescription$ForLoadedType@1917} \"interface java.util.concurrent.Callable\"\r\ntranslated.length = 1\r\ninstrumentedType = {InstrumentedType$Default@1906} \"class com.google.android.gms.auth.api.signin.GoogleSignInAccount\"\r\ninstrumentedMethod = {MethodDescription$Latent@1902} \"public android.accounts.Account com.google.android.gms.auth.api.signin.GoogleSignInAccount.getAccount()\"\r\n```\r\n\r\nSince the length of the array `translated` is `1` and `index` is `1`, the exception is occurred.\r\n\r\n`methodDescription` is for`GoogleSignInAccount#getAccount`, so I got javap of this method.\r\n```\r\n  public android.accounts.Account getAccount();\r\n    descriptor: ()Landroid/accounts/Account;\r\n    flags: ACC_PUBLIC\r\n    Code:\r\n      stack=4, locals=1, args_size=1\r\n         0: aload_0\r\n         1: getfield      #53                 // Field zzaka:Ljava/lang/String;\r\n         4: ifnonnull     11\r\n         7: aconst_null\r\n         8: goto          24\r\n        11: new           #13                 // class android/accounts/Account\r\n        14: dup\r\n        15: aload_0\r\n        16: getfield      #53                 // Field zzaka:Ljava/lang/String;\r\n        19: ldc           #1                  // String com.google\r\n        21: invokespecial #60                 // Method android/accounts/Account.\"<init>\":(Ljava/lang/String;Ljava/lang/String;)V\r\n        24: areturn\r\n      StackMapTable: number_of_entries = 2\r\n        frame_type = 11 /* same */\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 12\r\n          locals = []\r\n          stack = [ class android/accounts/Account ]\r\n    RuntimeInvisibleAnnotations:\r\n      0: #231()\r\n```\r\n\r\nThe stack map table has two entries.\r\nFirst is `same`, second is `full_frame`.\r\n(The exception occurs while processing the entry of type `full_frame`.)\r\n\r\nMoreover I ran the following code.\r\n```java\r\npackage com.geraltencore.mockitobug;\r\n\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n\r\nimport net.bytebuddy.jar.asm.ClassReader;\r\nimport net.bytebuddy.jar.asm.ClassVisitor;\r\nimport net.bytebuddy.jar.asm.MethodVisitor;\r\nimport net.bytebuddy.jar.asm.Opcodes;\r\n\r\nimport org.junit.Test;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.util.Arrays;\r\n\r\npublic class MyTest {\r\n\r\n    private static final String[] TYPE_NAMES = {\r\n            \"F_NEW\",\r\n            \"F_FULL\",\r\n            \"F_APPEND\",\r\n            \"F_CHOP\",\r\n            \"F_SAME\",\r\n            \"F_SAME1\",\r\n    };\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        InputStream in = getClass().getResourceAsStream('/' + GoogleSignInAccount.class.getName().replace('.', '/') + \".class\");\r\n        try {\r\n            byte[] buffer = new byte[8192];\r\n            for (int l; (l = in.read(buffer)) != -1; ) {\r\n                out.write(buffer, 0, l);\r\n            }\r\n        } finally {\r\n            in.close();\r\n        }\r\n        new ClassReader(out.toByteArray()).accept(new ClassVisitor(Opcodes.ASM5) {\r\n            @Override\r\n            public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\r\n                MethodVisitor mv = super.visitMethod(access, name, desc, signature, exceptions);\r\n                return name.equals(\"getAccount\") ? new MethodVisitor(api, mv) {\r\n\r\n                    private int n = 0;\r\n\r\n                    @Override\r\n                    public void visitFrame(int type, int nLocal, Object[] local, int nStack, Object[] stack) {\r\n                        super.visitFrame(type, nLocal, local, nStack, stack);\r\n                        System.out.println(\"#\" + n++);\r\n                        System.out.println(\"  type=\" + TYPE_NAMES[type + 1]);\r\n                        System.out.println(\"  nLocal=\" + nLocal);\r\n                        System.out.println(\"  local=\" + Arrays.toString(local));\r\n                        System.out.println(\"  nStack=\" + nStack);\r\n                        System.out.println(\"  stack=\" + Arrays.toString(stack));\r\n                    }\r\n\r\n                } : mv;\r\n            }\r\n        }, 0);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the result.\r\n```\r\n#0\r\n  type=F_SAME\r\n  nLocal=0\r\n  local=[null]\r\n  nStack=0\r\n  stack=[null, null, null, null]\r\n#1\r\n  type=F_FULL\r\n  nLocal=0\r\n  local=[null]\r\n  nStack=1\r\n  stack=[android/accounts/Account, null, null, null]\r\n```\r\n\r\n`nLocal` is `0`, but the length of the array `local` is `1`.\r\n\r\nLet me know if you need more information.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/289950134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1019603294,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAxOTYwMzI5NA==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1019603294","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-29T00:58:49Z","performed_via_github_app":null},{"id":1019603295,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMTk2MDMyOTU=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1019603295","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-29T00:58:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290002506","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290002506","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290002506,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDAwMjUwNg==","user":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T07:07:00Z","updated_at":"2017-03-29T07:08:27Z","body":"As @tmurakami pointed I am not running this test on Android - it occurs on regular JVM.\r\nI am also experiencing the same issue when trying to mock [FirebaseRemoteConfig](https://firebase.google.com/docs/reference/android/com/google/firebase/remoteconfig/package-summary). I can update the sample project with a test for this class if will be helpful.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290002506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1019881334,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAxOTg4MTMzNA==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1019881334","actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-29T07:07:00Z","performed_via_github_app":null},{"id":1019881335,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMTk4ODEzMzU=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1019881335","actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-29T07:07:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290121322","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290121322","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290121322,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDEyMTMyMg==","user":{"login":"ChristianSchwarz","id":1437411,"node_id":"MDQ6VXNlcjE0Mzc0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1437411?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristianSchwarz","html_url":"https://github.com/ChristianSchwarz","followers_url":"https://api.github.com/users/ChristianSchwarz/followers","following_url":"https://api.github.com/users/ChristianSchwarz/following{/other_user}","gists_url":"https://api.github.com/users/ChristianSchwarz/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristianSchwarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristianSchwarz/subscriptions","organizations_url":"https://api.github.com/users/ChristianSchwarz/orgs","repos_url":"https://api.github.com/users/ChristianSchwarz/repos","events_url":"https://api.github.com/users/ChristianSchwarz/events{/privacy}","received_events_url":"https://api.github.com/users/ChristianSchwarz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T15:11:36Z","updated_at":"2017-03-29T15:13:07Z","body":"I observed the same in #939 and possibly it relates to #978 also.\r\n\r\nEdit: Can we have a Android label?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290121322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ChristianSchwarz","id":1437411,"node_id":"MDQ6VXNlcjE0Mzc0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1437411?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristianSchwarz","html_url":"https://github.com/ChristianSchwarz","followers_url":"https://api.github.com/users/ChristianSchwarz/followers","following_url":"https://api.github.com/users/ChristianSchwarz/following{/other_user}","gists_url":"https://api.github.com/users/ChristianSchwarz/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristianSchwarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristianSchwarz/subscriptions","organizations_url":"https://api.github.com/users/ChristianSchwarz/orgs","repos_url":"https://api.github.com/users/ChristianSchwarz/repos","events_url":"https://api.github.com/users/ChristianSchwarz/events{/privacy}","received_events_url":"https://api.github.com/users/ChristianSchwarz/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290249381","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290249381","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290249381,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI0OTM4MQ==","user":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-29T22:46:04Z","updated_at":"2017-03-29T22:46:04Z","body":"@ChristianSchwarz, I think this is not Android specific problem.\r\nIt seems to occur while processing the `StackMapTable` attribute with a frame of type `full_frame`.\r\n(The `StackMapTable` attribute is described [in the Java Virtual Machine Specification](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.4).)\r\n\r\nThe issue #939 and #978 are that `InlineByteBuddyMockMaker` cannot be initialized.\r\nThis issue is that Mockito cannot mock a specific class correctly with inline mock making.\r\nI think that this is different from those issues.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290249381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1021358831,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAyMTM1ODgzMQ==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1021358831","actor":{"login":"ChristianSchwarz","id":1437411,"node_id":"MDQ6VXNlcjE0Mzc0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1437411?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristianSchwarz","html_url":"https://github.com/ChristianSchwarz","followers_url":"https://api.github.com/users/ChristianSchwarz/followers","following_url":"https://api.github.com/users/ChristianSchwarz/following{/other_user}","gists_url":"https://api.github.com/users/ChristianSchwarz/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristianSchwarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristianSchwarz/subscriptions","organizations_url":"https://api.github.com/users/ChristianSchwarz/orgs","repos_url":"https://api.github.com/users/ChristianSchwarz/repos","events_url":"https://api.github.com/users/ChristianSchwarz/events{/privacy}","received_events_url":"https://api.github.com/users/ChristianSchwarz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-29T22:46:04Z","performed_via_github_app":null},{"id":1021358832,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMjEzNTg4MzI=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1021358832","actor":{"login":"ChristianSchwarz","id":1437411,"node_id":"MDQ6VXNlcjE0Mzc0MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1437411?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristianSchwarz","html_url":"https://github.com/ChristianSchwarz","followers_url":"https://api.github.com/users/ChristianSchwarz/followers","following_url":"https://api.github.com/users/ChristianSchwarz/following{/other_user}","gists_url":"https://api.github.com/users/ChristianSchwarz/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristianSchwarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristianSchwarz/subscriptions","organizations_url":"https://api.github.com/users/ChristianSchwarz/orgs","repos_url":"https://api.github.com/users/ChristianSchwarz/repos","events_url":"https://api.github.com/users/ChristianSchwarz/events{/privacy}","received_events_url":"https://api.github.com/users/ChristianSchwarz/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-29T22:46:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290291499","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290291499","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290291499,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDI5MTQ5OQ==","user":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T03:24:39Z","updated_at":"2017-03-30T03:24:39Z","body":"This is an interesting error. The problem is the full frame that does not specify any local variables. This is incorrect for the method in question which is non-static and should therefore always specify a 'this' value. The compiler that created this method apparently voided this variable.\r\n\r\nAs a consequence, Byte Buddy cannot longer instrument the method as it requires access to the \"this\" reference even after the method return which has now become impossible. \r\n\r\nThat the error is suppressed is unfortunate and we need to improve this. The error itself can however not be fixed as the stack map frames are already corrupted.\r\n\r\nIt would be interesting to know how these frames got in there. Creating the same class and compiling it with javac yields correct frames.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290291499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1022907692,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEwMjI5MDc2OTI=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1022907692","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"503a291a4fd5bfe08fc18ab25586e7e93f2ef178","commit_url":"https://api.github.com/repos/mockito/mockito/commits/503a291a4fd5bfe08fc18ab25586e7e93f2ef178","created_at":"2017-03-30T19:05:00Z","performed_via_github_app":null},{"actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T19:05:31Z","updated_at":"2017-03-30T19:05:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/1012","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/1012/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/1012/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/1012/events","html_url":"https://github.com/mockito/mockito/pull/1012","id":218297147,"node_id":"MDExOlB1bGxSZXF1ZXN0MTEzNTAxNzY3","number":1012,"title":"Do not suppress instrumentation exceptions","user":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-03-30T19:05:31Z","updated_at":"2017-04-18T06:37:16Z","closed_at":"2017-04-18T06:37:11Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/1012","html_url":"https://github.com/mockito/mockito/pull/1012","diff_url":"https://github.com/mockito/mockito/pull/1012.diff","patch_url":"https://github.com/mockito/mockito/pull/1012.patch","merged_at":"2017-04-18T06:37:11Z"},"body":"Rather propagate them to mock maker that attempts instrumentation. Addresses #1005.","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/1012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/1012/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290542624","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290542624","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290542624,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDU0MjYyNA==","user":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T20:57:01Z","updated_at":"2017-03-30T20:57:01Z","body":"@raphw, thank you for your reply.\r\n\r\n`GoogleSignInAccount` provided by Google seems to be obfuscated by [ProGuard](https://www.guardsquare.com/en/proguard).\r\nStackMapTable might have been broken due to obfuscation.\r\n\r\n@geralt-encore, I tried using `-noverify` option on your reproducible project and it works fine.\r\nTry the following snippet.\r\n\r\n```groovy\r\nandroid {\r\n    testOptions {\r\n        unitTests.all {\r\n            jvmArgs '-noverify'\r\n        }\r\n    }\r\n}\r\n```\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290542624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1023079587,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAyMzA3OTU4Nw==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1023079587","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-30T20:57:01Z","performed_via_github_app":null},{"id":1023079588,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMjMwNzk1ODg=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1023079588","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-30T20:57:01Z","performed_via_github_app":null},{"id":1023079589,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTAyMzA3OTU4OQ==","url":"https://api.github.com/repos/mockito/mockito/issues/events/1023079589","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-03-30T20:57:01Z","performed_via_github_app":null},{"id":1023079590,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEwMjMwNzk1OTA=","url":"https://api.github.com/repos/mockito/mockito/issues/events/1023079590","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-03-30T20:57:01Z","performed_via_github_app":null},{"actor":{"login":"tmurakami","id":2504717,"node_id":"MDQ6VXNlcjI1MDQ3MTc=","avatar_url":"https://avatars.githubusercontent.com/u/2504717?v=4","gravatar_id":"","url":"https://api.github.com/users/tmurakami","html_url":"https://github.com/tmurakami","followers_url":"https://api.github.com/users/tmurakami/followers","following_url":"https://api.github.com/users/tmurakami/following{/other_user}","gists_url":"https://api.github.com/users/tmurakami/gists{/gist_id}","starred_url":"https://api.github.com/users/tmurakami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmurakami/subscriptions","organizations_url":"https://api.github.com/users/tmurakami/orgs","repos_url":"https://api.github.com/users/tmurakami/repos","events_url":"https://api.github.com/users/tmurakami/events{/privacy}","received_events_url":"https://api.github.com/users/tmurakami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-30T21:37:28Z","updated_at":"2017-03-30T21:37:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/1000","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/1000/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/1000/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/1000/events","html_url":"https://github.com/mockito/mockito/issues/1000","id":216225244,"node_id":"MDU6SXNzdWUyMTYyMjUyNDQ=","number":1000,"title":"Cannot mock Google Analytics Tracker class with Inline Mocks","user":{"login":"Mykaelos","id":1050605,"node_id":"MDQ6VXNlcjEwNTA2MDU=","avatar_url":"https://avatars.githubusercontent.com/u/1050605?v=4","gravatar_id":"","url":"https://api.github.com/users/Mykaelos","html_url":"https://github.com/Mykaelos","followers_url":"https://api.github.com/users/Mykaelos/followers","following_url":"https://api.github.com/users/Mykaelos/following{/other_user}","gists_url":"https://api.github.com/users/Mykaelos/gists{/gist_id}","starred_url":"https://api.github.com/users/Mykaelos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mykaelos/subscriptions","organizations_url":"https://api.github.com/users/Mykaelos/orgs","repos_url":"https://api.github.com/users/Mykaelos/repos","events_url":"https://api.github.com/users/Mykaelos/events{/privacy}","received_events_url":"https://api.github.com/users/Mykaelos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":305646380,"node_id":"MDU6TGFiZWwzMDU2NDYzODA=","url":"https://api.github.com/repos/mockito/mockito/labels/android","name":"android","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-03-22T22:15:25Z","updated_at":"2019-03-04T10:09:44Z","closed_at":"2017-10-03T10:20:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-09T13:17:53Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15310,"watchers_count":15310,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2642,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2642,"open_issues":476,"watchers":15310,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Greetings, \r\nI updated Mockito to 2.7.16 to use inline mocks for the seriously awesome feature to mock finals (thank you btw!) but found that the Google Analytics Tracker class wasn't mocking, where it was before without issue.\r\n\r\nI found [this post](https://groups.google.com/forum/#!msg/mockito/JnExueUIOFU/DucEfg04FgAJ;context-place=forum/mockito) on the Mockito forum with the same problem, but I don't think the original reporter ever brought the issue to here. \r\n\r\n[I created a repo](https://github.com/Mykaelos/MockitoAnalyticsTrackerBug) that can be used to reproduce the issue. You'll need Android Studio to be able to run it. The [ExampleUnitTest class](https://github.com/Mykaelos/MockitoAnalyticsTrackerBug/blob/master/app/src/test/java/com/test/mockitoanalyticstrackerbug/ExampleUnitTest.java#L23) just tries to mock the com.google.android.gms.analytics.Tracker class and it fails right away. Here's the stack trace of that failure:\r\n\r\n```\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class com.google.android.gms.analytics.Tracker.\r\n\r\nIf you're not sure why you're getting this error, please report to the mailing list.\r\n\r\n\r\nJava               : 1.8\r\nJVM vendor name    : Oracle Corporation\r\nJVM vendor version : 25.74-b02\r\nJVM name           : Java HotSpot(TM) 64-Bit Server VM\r\nJVM version        : 1.8.0_74-b02\r\nJVM info           : mixed mode\r\nOS name            : Windows 10\r\nOS version         : 10.0\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : java.lang.IllegalArgumentException: Could not create type\r\n\r\n\tat com.test.mockitoanalyticstrackerbug.ExampleUnitTest.watchTrackerFailToBeMockedTest(ExampleUnitTest.java:23)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:487)\r\n\tat org.robolectric.internal.SandboxTestRunner$2.evaluate(SandboxTestRunner.java:209)\r\n\tat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:109)\r\n\tat org.robolectric.internal.SandboxTestRunner.runChild(SandboxTestRunner.java:36)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.robolectric.internal.SandboxTestRunner$1.evaluate(SandboxTestRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\nCaused by: java.lang.IllegalArgumentException: Could not create type\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:140)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:346)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:161)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:355)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator.mockClass(TypeCachingBytecodeGenerator.java:32)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMockType(InlineByteBuddyMockMaker.java:201)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.createMock(InlineByteBuddyMockMaker.java:182)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:35)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:65)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1729)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1642)\r\n\t... 30 more\r\nCaused by: java.lang.VerifyError\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\r\n\tat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.triggerRetransformation(InlineBytecodeGenerator.java:116)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator.mockClass(InlineBytecodeGenerator.java:96)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:37)\r\n\tat org.mockito.internal.creation.bytebuddy.TypeCachingBytecodeGenerator$1.call(TypeCachingBytecodeGenerator.java:34)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:138)\r\n\t... 40 more\r\n```\r\n\r\nThere's no hurry on this fix as we're not officially supporting analytics yet. I mostly just wanted to bring this to your attention as we'll need to look into this eventually and I'm sure there will be others trying to mock the Tracker. Let me know if you need more information or if there's anything I can do to help. \r\n\r\nThanks,\r\nMykaelos","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/1000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/1000/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290677829","html_url":"https://github.com/mockito/mockito/issues/1005#issuecomment-290677829","issue_url":"https://api.github.com/repos/mockito/mockito/issues/1005","id":290677829,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY3NzgyOQ==","user":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-31T10:30:12Z","updated_at":"2017-03-31T10:30:12Z","body":"@tmurakami I just tried it and it didn't work. Did I miss something? Looks pretty straightforward.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/290677829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"geralt-encore","id":1260752,"node_id":"MDQ6VXNlcjEyNjA3NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1260752?v=4","gravatar_id":"","url":"https://api.github.com/users/geralt-encore","html_url":"https://github.com/geralt-encore","followers_url":"https://api.github.com/users/geralt-encore/followers","following_url":"https://api.github.com/users/geralt-encore/following{/other_user}","gists_url":"https://api.github.com/users/geralt-encore/gists{/gist_id}","starred_url":"https://api.github.com/users/geralt-encore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geralt-encore/subscriptions","organizations_url":"https://api.github.com/users/geralt-encore/orgs","repos_url":"https://api.github.com/users/geralt-encore/repos","events_url":"https://api.github.com/users/geralt-encore/events{/privacy}","received_events_url":"https://api.github.com/users/geralt-encore/received_events","type":"User","user_view_type":"public","site_admin":false}}]