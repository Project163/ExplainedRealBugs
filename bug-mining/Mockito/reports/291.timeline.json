[{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1518509798","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1518509798","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1518509798,"node_id":"IC_kwDOAF62v85agp7m","user":{"login":"SenorPez","id":16673259,"node_id":"MDQ6VXNlcjE2NjczMjU5","avatar_url":"https://avatars.githubusercontent.com/u/16673259?v=4","gravatar_id":"","url":"https://api.github.com/users/SenorPez","html_url":"https://github.com/SenorPez","followers_url":"https://api.github.com/users/SenorPez/followers","following_url":"https://api.github.com/users/SenorPez/following{/other_user}","gists_url":"https://api.github.com/users/SenorPez/gists{/gist_id}","starred_url":"https://api.github.com/users/SenorPez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SenorPez/subscriptions","organizations_url":"https://api.github.com/users/SenorPez/orgs","repos_url":"https://api.github.com/users/SenorPez/repos","events_url":"https://api.github.com/users/SenorPez/events{/privacy}","received_events_url":"https://api.github.com/users/SenorPez/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T04:52:28Z","updated_at":"2023-04-22T04:52:28Z","body":"The working code fails if `answer` is changed to `RETURNS_DEEP_STUBS`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1518509798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SenorPez","id":16673259,"node_id":"MDQ6VXNlcjE2NjczMjU5","avatar_url":"https://avatars.githubusercontent.com/u/16673259?v=4","gravatar_id":"","url":"https://api.github.com/users/SenorPez","html_url":"https://github.com/SenorPez","followers_url":"https://api.github.com/users/SenorPez/followers","following_url":"https://api.github.com/users/SenorPez/following{/other_user}","gists_url":"https://api.github.com/users/SenorPez/gists{/gist_id}","starred_url":"https://api.github.com/users/SenorPez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SenorPez/subscriptions","organizations_url":"https://api.github.com/users/SenorPez/orgs","repos_url":"https://api.github.com/users/SenorPez/repos","events_url":"https://api.github.com/users/SenorPez/events{/privacy}","received_events_url":"https://api.github.com/users/SenorPez/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1703892424","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1703892424","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1703892424,"node_id":"IC_kwDOAF62v85lj1XI","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-09-02T17:16:25Z","updated_at":"2023-09-02T17:16:25Z","body":"@SenorPez Can you please provide a full running sample including the referenced classes and enums.\r\nI can't reproduce your issue. \r\n\r\nMy Test class is working as expected:\r\n\r\n```java \r\npublic class DeepStubReturnsEnumTest {\r\n\r\n    @Test\r\n    public void deep_stub_can_mock_enum_Issue_2984() {\r\n        final var mock = mock(TestClass.class, RETURNS_DEEP_STUBS);\r\n        when(mock.getTestEnum()).thenReturn(TestEnum.B);\r\n        assertThat(mock.getTestEnum()).isEqualTo(TestEnum.B);\r\n    }\r\n\r\n    @Test\r\n    public void deep_stub_can_mock_enum_method_Issue_2984() {\r\n        final var mock = mock(TestClass.class, RETURNS_DEEP_STUBS);\r\n\r\n        assertThat(mock.getTestEnum().getDoubleValue()).isEqualTo(0.0);\r\n\r\n        when(mock.getTestEnum().getDoubleValue()).thenReturn(1.0);\r\n        assertThat(mock.getTestEnum().getDoubleValue()).isEqualTo(1.0);\r\n    }\r\n\r\n    @Test\r\n    public void mock_mocking_enum_Issue_2984() {\r\n        final var mock = mock(TestClass.class);\r\n        when(mock.getTestEnum()).thenReturn(TestEnum.B);\r\n        assertThat(mock.getTestEnum()).isEqualTo(TestEnum.B);\r\n        assertThat(mock.getTestEnum().getDoubleValue()).isEqualTo(2.0);\r\n    }\r\n\r\n    private static class TestClass {\r\n        TestEnum getTestEnum() {\r\n            return TestEnum.A;\r\n        }\r\n    }\r\n\r\n    private enum TestEnum {\r\n        A,\r\n        B;\r\n\r\n        double getDoubleValue() {\r\n            return 2.0;\r\n        }\r\n    }\r\n}\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1703892424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10264493850,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAJjz78a","url":"https://api.github.com/repos/mockito/mockito/issues/events/10264493850","actor":{"login":"SenorPez","id":16673259,"node_id":"MDQ6VXNlcjE2NjczMjU5","avatar_url":"https://avatars.githubusercontent.com/u/16673259?v=4","gravatar_id":"","url":"https://api.github.com/users/SenorPez","html_url":"https://github.com/SenorPez","followers_url":"https://api.github.com/users/SenorPez/followers","following_url":"https://api.github.com/users/SenorPez/following{/other_user}","gists_url":"https://api.github.com/users/SenorPez/gists{/gist_id}","starred_url":"https://api.github.com/users/SenorPez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SenorPez/subscriptions","organizations_url":"https://api.github.com/users/SenorPez/orgs","repos_url":"https://api.github.com/users/SenorPez/repos","events_url":"https://api.github.com/users/SenorPez/events{/privacy}","received_events_url":"https://api.github.com/users/SenorPez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-09-02T17:16:25Z","performed_via_github_app":null},{"id":10264493851,"node_id":"SE_lADOAF62v85kGCe7zwAAAAJjz78b","url":"https://api.github.com/repos/mockito/mockito/issues/events/10264493851","actor":{"login":"SenorPez","id":16673259,"node_id":"MDQ6VXNlcjE2NjczMjU5","avatar_url":"https://avatars.githubusercontent.com/u/16673259?v=4","gravatar_id":"","url":"https://api.github.com/users/SenorPez","html_url":"https://github.com/SenorPez","followers_url":"https://api.github.com/users/SenorPez/followers","following_url":"https://api.github.com/users/SenorPez/following{/other_user}","gists_url":"https://api.github.com/users/SenorPez/gists{/gist_id}","starred_url":"https://api.github.com/users/SenorPez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SenorPez/subscriptions","organizations_url":"https://api.github.com/users/SenorPez/orgs","repos_url":"https://api.github.com/users/SenorPez/repos","events_url":"https://api.github.com/users/SenorPez/events{/privacy}","received_events_url":"https://api.github.com/users/SenorPez/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-09-02T17:16:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755632460","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1755632460","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1755632460,"node_id":"IC_kwDOAF62v85opNNM","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T14:58:07Z","updated_at":"2023-10-10T18:33:59Z","body":"I'm facing the same problem and happened to replicate the error.\r\nLooks like there's something to do with abstract methods in enums:\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class FooTest {\r\n\r\n\t@Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\n\tprivate Clazz clazz;\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\t\tEnumeration meme = clazz.getEnumeration();\r\n\t}\r\n\r\n\tclass Clazz {\r\n\t\tprivate final Enumeration enumeration;\r\n\r\n\t\tpublic Clazz(Enumeration enumeration) {\r\n\t\t\tthis.enumeration = enumeration;\r\n\t\t}\r\n\r\n\t\tpublic Enumeration getEnumeration() {\r\n\t\t\treturn enumeration;\r\n\t\t}\r\n\t}\r\n\r\n\tenum Enumeration {\r\n\t\tFIRST {\r\n\t\t\t@Override\r\n\t\t\tvoid doSomething() {\r\n\t\t\t\tSystem.out.println(this.name());\r\n\t\t\t}\r\n\t\t},\r\n\t\tSECOND {\r\n\t\t\t@Override\r\n\t\t\tvoid doSomething() {\r\n\t\t\t\tSystem.out.println(this.name());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tabstract void doSomething();\r\n\t}\r\n}\r\n```\r\n\r\nEdited a few times to replicate it :x","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755632460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755866993","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1755866993","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1755866993,"node_id":"IC_kwDOAF62v85oqGdx","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T16:55:53Z","updated_at":"2023-10-10T16:55:53Z","body":"@danielqejo On which version do you execute that? Mockito, ByteBuddy, Java, etc.\r\nWhen I try your test case on `mockito/main` the test is executed without an exception.\r\n\r\nSo I can't reproduce your problem.\r\n\r\nI am executing:\r\n\r\n```java\r\npackage org.mockito.internal.stubbing.answers;\r\n\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Answers;\r\nimport org.mockito.Mock;\r\nimport org.mockito.junit.MockitoJUnitRunner;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class FooTest {\r\n\r\n    @Mock(answer = Answers.RETURNS_DEEP_STUBS)\r\n    private Clazz clazz;\r\n\r\n    @Test\r\n    public void test() {\r\n        Enumeration meme = clazz.getEnumeration();\r\n    }\r\n\r\n    class Clazz {\r\n        private final Enumeration enumeration;\r\n\r\n        public Clazz(Enumeration enumeration) {\r\n            this.enumeration = enumeration;\r\n        }\r\n\r\n        public Enumeration getEnumeration() {\r\n            return enumeration;\r\n        }\r\n    }\r\n\r\n    enum Enumeration {\r\n        FIRST {\r\n            @Override\r\n            void doSomething() {\r\n                System.out.println(this.name());\r\n            }\r\n        },\r\n        SECOND {\r\n            @Override\r\n            void doSomething() {\r\n                System.out.println(this.name());\r\n            }\r\n        };\r\n\r\n        abstract void doSomething();\r\n    }\r\n}\r\n```\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755866993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10607154231,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAJ4PFQ3","url":"https://api.github.com/repos/mockito/mockito/issues/events/10607154231","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-10T16:55:53Z","performed_via_github_app":null},{"id":10607154246,"node_id":"SE_lADOAF62v85kGCe7zwAAAAJ4PFRG","url":"https://api.github.com/repos/mockito/mockito/issues/events/10607154246","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-10T16:55:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755998828","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1755998828","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1755998828,"node_id":"IC_kwDOAF62v85oqmps","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T18:28:05Z","updated_at":"2023-10-10T18:28:10Z","body":"I'm using: \r\n- corretto JDK 17\r\n- Mockito 5.6.0\r\n- bytebuddy 1.14.8","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1755998828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1756005470","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1756005470","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1756005470,"node_id":"IC_kwDOAF62v85oqoRe","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T18:33:11Z","updated_at":"2023-10-10T18:33:11Z","body":"Here's complete stacktrace:\r\n```java\r\norg.mockito.exceptions.base.MockitoException: \r\nMockito cannot mock this class: class <hidden_package>.FooTest$Enumeration.\r\n\r\nIf you're not sure why you're getting this error, please open an issue on GitHub.\r\n\r\n\r\nJava               : 17\r\nJVM vendor name    : Amazon.com Inc.\r\nJVM vendor version : 17.0.8.1+8-LTS\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 17.0.8.1+8-LTS\r\nJVM info           : mixed mode, sharing\r\nOS name            : Linux\r\nOS version         : 5.15.0-86-generic\r\n\r\n\r\nYou are seeing this disclaimer because Mockito is configured to create inlined mocks.\r\nYou can learn about inline mocks and their limitations under item #39 of the Mockito class javadoc.\r\n\r\nUnderlying exception : org.mockito.exceptions.base.MockitoException: Unsupported settings with this type '<hidden_package>.FooTest$Enumeration'\r\n\r\n\tat <hidden_package>.FooTest$Clazz.getEnumeration(FooTest.java:28)\r\n\tat <hidden_package>.FooTest.test(FooTest.java:17)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:55)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:100)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:107)\r\n\tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:42)\r\n\tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.mockito.exceptions.base.MockitoException: Unsupported settings with this type '<hidden_package>.FooTest$Enumeration'\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:168)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:399)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:190)\r\n\tat net.bytebuddy.TypeCache$WithInlineExpunction.findOrInsert(TypeCache.java:410)\r\n\t... 31 more\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1756005470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1756008968","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1756008968","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1756008968,"node_id":"IC_kwDOAF62v85oqpII","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-10T18:35:57Z","updated_at":"2023-10-10T18:35:57Z","body":"I've also tested with JUnit 5, but no luck whatsoever.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1756008968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1759769619","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1759769619","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1759769619,"node_id":"IC_kwDOAF62v85o4_QT","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T14:51:55Z","updated_at":"2023-10-12T14:51:55Z","body":"I've been doing some tests and found out that the problem occurs at Java 17+ only.\r\nJava 11 works just fine.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1759769619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1759800236","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1759800236","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1759800236,"node_id":"IC_kwDOAF62v85o5Gus","user":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T15:09:42Z","updated_at":"2023-10-12T15:09:42Z","body":"Turns out Java 17 is making enum sealed when there is an abstract method.\r\nIn `org.mockito.internal.creation.bytebuddy.InlineBytecodeGenerator:356` code returns true when has at least one abstract method, but false when there is no abstract method.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1759800236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1774132338","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1774132338","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1774132338,"node_id":"IC_kwDOAF62v85pvxxy","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-22T16:06:23Z","updated_at":"2023-10-22T16:06:23Z","body":"@danielqejo Thanks for the great analysis.\r\nI now have a [feature branch](https://github.com/AndreasTu/mockito/tree/fix_2984) for mockito, which can reproduce that issue.\r\n\r\nBut I have not yet a clue how to fix it.\r\n\r\nThe main point in the reproducer is to compile the Enum and run tests with Java 17.\r\nIf have added a new SourceSet `src/test17` which compiles and executes tests with Java 17.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1774132338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10733561738,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAJ_xSeK","url":"https://api.github.com/repos/mockito/mockito/issues/events/10733561738","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-22T16:06:23Z","performed_via_github_app":null},{"id":10733561741,"node_id":"SE_lADOAF62v85kGCe7zwAAAAJ_xSeN","url":"https://api.github.com/repos/mockito/mockito/issues/events/10733561741","actor":{"login":"danielqejo","id":5695287,"node_id":"MDQ6VXNlcjU2OTUyODc=","avatar_url":"https://avatars.githubusercontent.com/u/5695287?v=4","gravatar_id":"","url":"https://api.github.com/users/danielqejo","html_url":"https://github.com/danielqejo","followers_url":"https://api.github.com/users/danielqejo/followers","following_url":"https://api.github.com/users/danielqejo/following{/other_user}","gists_url":"https://api.github.com/users/danielqejo/gists{/gist_id}","starred_url":"https://api.github.com/users/danielqejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielqejo/subscriptions","organizations_url":"https://api.github.com/users/danielqejo/orgs","repos_url":"https://api.github.com/users/danielqejo/repos","events_url":"https://api.github.com/users/danielqejo/events{/privacy}","received_events_url":"https://api.github.com/users/danielqejo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-22T16:06:23Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1786919876","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1786919876","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1786919876,"node_id":"IC_kwDOAF62v85qgjvE","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T10:19:03Z","updated_at":"2023-10-31T10:19:03Z","body":"@TimvdLippe I don't think we can fix that problem here, maybe we should add a better error message that mocking of Enums since Java 15 (see [sealed-classes](https://docs.oracle.com/javase/specs/jvms/se15/preview/specs/sealed-classes-jvms.html)) does not work.\r\n\r\nThe problem is, that enums compiled with Java >= 15 (I guess due to preview feature, but at least Java 17) are sealed and have the `PermittedSubclasses` class attribute, which can't be retransformed away with a java agent.\r\nSo as long as we \"need\" a subclass for an enum mock, we can't create a subclass for that, due to the `PermittedSubclasses` class attribute. Maybe we can somehow hijack a real enum literal class for mocking an enum in the future, but I guess this is a very big change.\r\n\r\nOur tests are currently not failing, because we compile our test enums with Java 11.\r\nI have a [feature branch](https://github.com/AndreasTu/mockito/tree/fix_2984) , which adds a test source set `test17`, which compiles tests against Java 17, and there it is failing.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1786919876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10818669224,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAKE18qo","url":"https://api.github.com/repos/mockito/mockito/issues/events/10818669224","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-31T10:19:03Z","performed_via_github_app":null},{"id":10818669233,"node_id":"SE_lADOAF62v85kGCe7zwAAAAKE18qx","url":"https://api.github.com/repos/mockito/mockito/issues/events/10818669233","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-31T10:19:03Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1787885470","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1787885470","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1787885470,"node_id":"IC_kwDOAF62v85qkPee","user":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T19:23:35Z","updated_at":"2023-10-31T19:23:35Z","body":"If this indeed does not work (@raphw can you confirm?) then indeed let's try to detect those cases when the mockmaker is invoked whether it can feasibly mock them. I don't think we should hack our way around it. Sealed is there for a purpose, so let's respect it.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1787885470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10825152744,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAKFOrjo","url":"https://api.github.com/repos/mockito/mockito/issues/events/10825152744","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-31T19:23:36Z","performed_via_github_app":null},{"id":10825152755,"node_id":"SE_lADOAF62v85kGCe7zwAAAAKFOrjz","url":"https://api.github.com/repos/mockito/mockito/issues/events/10825152755","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-31T19:23:36Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1788548833","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1788548833","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1788548833,"node_id":"IC_kwDOAF62v85qmxbh","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T07:49:13Z","updated_at":"2023-11-01T07:49:13Z","body":"@TimvdLippe In addition to allow the deep stub of a class returning an enum working again in the Java 17 case, we could change the deep stup code to return the first literal of the enum, if we can't mock the enum.\r\nWhat do you think?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1788548833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10829404258,"node_id":"MEE_lADOAF62v85kGCe7zwAAAAKFe5hi","url":"https://api.github.com/repos/mockito/mockito/issues/events/10829404258","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-11-01T07:49:14Z","performed_via_github_app":null},{"id":10829404263,"node_id":"SE_lADOAF62v85kGCe7zwAAAAKFe5hn","url":"https://api.github.com/repos/mockito/mockito/issues/events/10829404263","actor":{"login":"TimvdLippe","id":5948271,"node_id":"MDQ6VXNlcjU5NDgyNzE=","avatar_url":"https://avatars.githubusercontent.com/u/5948271?v=4","gravatar_id":"","url":"https://api.github.com/users/TimvdLippe","html_url":"https://github.com/TimvdLippe","followers_url":"https://api.github.com/users/TimvdLippe/followers","following_url":"https://api.github.com/users/TimvdLippe/following{/other_user}","gists_url":"https://api.github.com/users/TimvdLippe/gists{/gist_id}","starred_url":"https://api.github.com/users/TimvdLippe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimvdLippe/subscriptions","organizations_url":"https://api.github.com/users/TimvdLippe/orgs","repos_url":"https://api.github.com/users/TimvdLippe/repos","events_url":"https://api.github.com/users/TimvdLippe/events{/privacy}","received_events_url":"https://api.github.com/users/TimvdLippe/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-11-01T07:49:14Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1789398014","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1789398014","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1789398014,"node_id":"IC_kwDOAF62v85qqAv-","user":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T17:51:55Z","updated_at":"2023-11-01T17:51:55Z","body":"Yes, sealed classes cannot be subclassed, also with an agent, and the attribute cannot be modified. I also think that we should avoid mocking enums for this reason. Possibly, we can add a mechanism along the static method mocking facility that treats enums similarly.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1789398014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"raphw","id":4489328,"node_id":"MDQ6VXNlcjQ0ODkzMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4489328?v=4","gravatar_id":"","url":"https://api.github.com/users/raphw","html_url":"https://github.com/raphw","followers_url":"https://api.github.com/users/raphw/followers","following_url":"https://api.github.com/users/raphw/following{/other_user}","gists_url":"https://api.github.com/users/raphw/gists{/gist_id}","starred_url":"https://api.github.com/users/raphw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raphw/subscriptions","organizations_url":"https://api.github.com/users/raphw/orgs","repos_url":"https://api.github.com/users/raphw/repos","events_url":"https://api.github.com/users/raphw/events{/privacy}","received_events_url":"https://api.github.com/users/raphw/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10841319176,"node_id":"REFE_lADOAF62v85kGCe7zwAAAAKGMWcI","url":"https://api.github.com/repos/mockito/mockito/issues/events/10841319176","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"356097ca24211c90dff551e19185e0a7898b18d2","commit_url":"https://api.github.com/repos/AndreasTu/mockito/commits/356097ca24211c90dff551e19185e0a7898b18d2","created_at":"2023-11-02T09:18:42Z","performed_via_github_app":null},{"actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:19:59Z","updated_at":"2023-11-02T09:19:59Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mockito/mockito/issues/3167","repository_url":"https://api.github.com/repos/mockito/mockito","labels_url":"https://api.github.com/repos/mockito/mockito/issues/3167/labels{/name}","comments_url":"https://api.github.com/repos/mockito/mockito/issues/3167/comments","events_url":"https://api.github.com/repos/mockito/mockito/issues/3167/events","html_url":"https://github.com/mockito/mockito/pull/3167","id":1973828359,"node_id":"PR_kwDOAF62v85eaRt1","number":3167,"title":"Deep Stubs Incompatible With Mocking Enum","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-11-02T09:19:58Z","updated_at":"2023-11-29T11:03:19Z","closed_at":"2023-11-29T09:50:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":6207167,"node_id":"MDEwOlJlcG9zaXRvcnk2MjA3MTY3","name":"mockito","full_name":"mockito/mockito","private":false,"owner":{"login":"mockito","id":2054056,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNTQwNTY=","avatar_url":"https://avatars.githubusercontent.com/u/2054056?v=4","gravatar_id":"","url":"https://api.github.com/users/mockito","html_url":"https://github.com/mockito","followers_url":"https://api.github.com/users/mockito/followers","following_url":"https://api.github.com/users/mockito/following{/other_user}","gists_url":"https://api.github.com/users/mockito/gists{/gist_id}","starred_url":"https://api.github.com/users/mockito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mockito/subscriptions","organizations_url":"https://api.github.com/users/mockito/orgs","repos_url":"https://api.github.com/users/mockito/repos","events_url":"https://api.github.com/users/mockito/events{/privacy}","received_events_url":"https://api.github.com/users/mockito/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mockito/mockito","description":"Most popular Mocking framework for unit tests written in Java","fork":false,"url":"https://api.github.com/repos/mockito/mockito","forks_url":"https://api.github.com/repos/mockito/mockito/forks","keys_url":"https://api.github.com/repos/mockito/mockito/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mockito/mockito/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mockito/mockito/teams","hooks_url":"https://api.github.com/repos/mockito/mockito/hooks","issue_events_url":"https://api.github.com/repos/mockito/mockito/issues/events{/number}","events_url":"https://api.github.com/repos/mockito/mockito/events","assignees_url":"https://api.github.com/repos/mockito/mockito/assignees{/user}","branches_url":"https://api.github.com/repos/mockito/mockito/branches{/branch}","tags_url":"https://api.github.com/repos/mockito/mockito/tags","blobs_url":"https://api.github.com/repos/mockito/mockito/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mockito/mockito/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mockito/mockito/git/refs{/sha}","trees_url":"https://api.github.com/repos/mockito/mockito/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mockito/mockito/statuses/{sha}","languages_url":"https://api.github.com/repos/mockito/mockito/languages","stargazers_url":"https://api.github.com/repos/mockito/mockito/stargazers","contributors_url":"https://api.github.com/repos/mockito/mockito/contributors","subscribers_url":"https://api.github.com/repos/mockito/mockito/subscribers","subscription_url":"https://api.github.com/repos/mockito/mockito/subscription","commits_url":"https://api.github.com/repos/mockito/mockito/commits{/sha}","git_commits_url":"https://api.github.com/repos/mockito/mockito/git/commits{/sha}","comments_url":"https://api.github.com/repos/mockito/mockito/comments{/number}","issue_comment_url":"https://api.github.com/repos/mockito/mockito/issues/comments{/number}","contents_url":"https://api.github.com/repos/mockito/mockito/contents/{+path}","compare_url":"https://api.github.com/repos/mockito/mockito/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mockito/mockito/merges","archive_url":"https://api.github.com/repos/mockito/mockito/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mockito/mockito/downloads","issues_url":"https://api.github.com/repos/mockito/mockito/issues{/number}","pulls_url":"https://api.github.com/repos/mockito/mockito/pulls{/number}","milestones_url":"https://api.github.com/repos/mockito/mockito/milestones{/number}","notifications_url":"https://api.github.com/repos/mockito/mockito/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mockito/mockito/labels{/name}","releases_url":"https://api.github.com/repos/mockito/mockito/releases{/id}","deployments_url":"https://api.github.com/repos/mockito/mockito/deployments","created_at":"2012-10-13T20:27:12Z","updated_at":"2025-11-08T18:47:09Z","pushed_at":"2025-10-31T15:40:36Z","git_url":"git://github.com/mockito/mockito.git","ssh_url":"git@github.com:mockito/mockito.git","clone_url":"https://github.com/mockito/mockito.git","svn_url":"https://github.com/mockito/mockito","homepage":"http://mockito.org","size":49566,"stargazers_count":15309,"watchers_count":15309,"language":"Java","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2641,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":476,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["java","java-library","mock","mock-library","mocking","mocking-framework","mockito","mocks","test-automation","test-driven-development","testing","testing-tools"],"visibility":"public","forks":2641,"open_issues":476,"watchers":15309,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mockito/mockito/pulls/3167","html_url":"https://github.com/mockito/mockito/pull/3167","diff_url":"https://github.com/mockito/mockito/pull/3167.diff","patch_url":"https://github.com/mockito/mockito/pull/3167.patch","merged_at":"2023-11-29T09:50:17Z"},"body":"Mockito can't mock abstract enums in Java 15 or later because they are now marked as sealed.\r\nSo Mockito reports that now with a better error message.\r\n\r\nIf a deep stub returns an abstract enum, it uses in the error case now the first enum literal of the real enum.\r\n\r\nFixes #2984 \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/3167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mockito/mockito/issues/3167/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":10841392373,"node_id":"REFE_lADOAF62v85kGCe7zwAAAAKGMoT1","url":"https://api.github.com/repos/mockito/mockito/issues/events/10841392373","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6f5f73d7f7eb522916e92a5f7aa4d932e1e81b1d","commit_url":"https://api.github.com/repos/AndreasTu/mockito/commits/6f5f73d7f7eb522916e92a5f7aa4d932e1e81b1d","created_at":"2023-11-02T09:25:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1790373399","html_url":"https://github.com/mockito/mockito/issues/2984#issuecomment-1790373399","issue_url":"https://api.github.com/repos/mockito/mockito/issues/2984","id":1790373399,"node_id":"IC_kwDOAF62v85qtu4X","user":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:32:04Z","updated_at":"2023-11-02T09:32:04Z","body":"Just to be clear for the future. Mockito can still mock non-abstract enums in Java 17. It only can't mock abstract enums with abstract methods, which are overridden by literals.\r\nSee test cases in my PR.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mockito/mockito/issues/comments/1790373399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AndreasTu","id":14334055,"node_id":"MDQ6VXNlcjE0MzM0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/14334055?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreasTu","html_url":"https://github.com/AndreasTu","followers_url":"https://api.github.com/users/AndreasTu/followers","following_url":"https://api.github.com/users/AndreasTu/following{/other_user}","gists_url":"https://api.github.com/users/AndreasTu/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreasTu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreasTu/subscriptions","organizations_url":"https://api.github.com/users/AndreasTu/orgs","repos_url":"https://api.github.com/users/AndreasTu/repos","events_url":"https://api.github.com/users/AndreasTu/events{/privacy}","received_events_url":"https://api.github.com/users/AndreasTu/received_events","type":"User","user_view_type":"public","site_admin":false}}]