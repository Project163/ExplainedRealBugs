diff --git a/build.gradle b/build.gradle
index 3196d8995..b2c96e459 100644
--- a/build.gradle
+++ b/build.gradle
@@ -60,8 +60,8 @@ test {
 }
 
 dependencies {
-    compile 'net.bytebuddy:byte-buddy:1.4.26'
-    compile 'net.bytebuddy:byte-buddy-agent:1.4.26'
+    compile 'net.bytebuddy:byte-buddy:1.4.33'
+    compile 'net.bytebuddy:byte-buddy-agent:1.4.33'
 
     provided "junit:junit:4.12", "org.hamcrest:hamcrest-core:1.3"
     compile "org.objenesis:objenesis:2.4"
diff --git a/src/main/java/org/mockito/internal/creation/bytebuddy/InlineBytecodeGenerator.java b/src/main/java/org/mockito/internal/creation/bytebuddy/InlineBytecodeGenerator.java
index fb9d49150..6602a1ad1 100644
--- a/src/main/java/org/mockito/internal/creation/bytebuddy/InlineBytecodeGenerator.java
+++ b/src/main/java/org/mockito/internal/creation/bytebuddy/InlineBytecodeGenerator.java
@@ -135,7 +135,10 @@ public class InlineBytecodeGenerator implements BytecodeGenerator, ClassFileTran
             return null;
         } else {
             try {
-                return byteBuddy.redefine(classBeingRedefined, ClassFileLocator.Simple.of(classBeingRedefined.getName(), classfileBuffer))
+                // Note: The VM seems to erase parameter names from the provided class file. We therefore first attempt to read the
+                // class file from the class loader. This might revert transformations applied by previous agents.
+                return byteBuddy.redefine(classBeingRedefined, new ClassFileLocator.Compound(ClassFileLocator.ForClassLoader.of(loader),
+                        ClassFileLocator.Simple.of(classBeingRedefined.getName(), classfileBuffer)))
                         .visit(Advice.withCustomMapping()
                                 .bind(MockMethodAdvice.Identifier.class, identifier)
                                 .to(MockMethodAdvice.class).on(isVirtual()
