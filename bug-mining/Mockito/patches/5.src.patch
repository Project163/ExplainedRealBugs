diff --git a/buildSrc/src/main/groovy/org/mockito/release/notes/Notes.java b/buildSrc/src/main/groovy/org/mockito/release/notes/Notes.java
index bf7e21931..417bb7172 100644
--- a/buildSrc/src/main/groovy/org/mockito/release/notes/Notes.java
+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/Notes.java
@@ -2,9 +2,7 @@ package org.mockito.release.notes;
 
 import org.gradle.api.Project;
 import org.mockito.release.notes.versions.PreviousVersion;
-import org.mockito.release.notes.versions.PreviousVersionFromFile;
-
-import java.io.File;
+import org.mockito.release.notes.versions.Versions;
 
 /**
  * Release notes services
@@ -22,9 +20,9 @@ public class Notes {
     }
 
     /**
-     * Provides previous version information based on the release notes file
+     * Provides previous version information based on the release notes content file
      */
-    public static PreviousVersion previousVersion(File releaseNotesFile) {
-        return new PreviousVersionFromFile(releaseNotesFile);
+    public static PreviousVersion previousVersion(String releaseNotesContent) {
+        return Versions.previousFromNotesContent(releaseNotesContent);
     }
 }
diff --git a/buildSrc/src/main/groovy/org/mockito/release/notes/util/ReleaseNotesException.java b/buildSrc/src/main/groovy/org/mockito/release/notes/util/ReleaseNotesException.java
new file mode 100644
index 000000000..0f506abb5
--- /dev/null
+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/util/ReleaseNotesException.java
@@ -0,0 +1,8 @@
+package org.mockito.release.notes.util;
+
+public class ReleaseNotesException extends RuntimeException {
+
+    public ReleaseNotesException(String message) {
+        super(message);
+    }
+}
diff --git a/buildSrc/src/main/groovy/org/mockito/release/notes/versions/FromNotesContent.java b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/FromNotesContent.java
new file mode 100644
index 000000000..91e3af916
--- /dev/null
+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/FromNotesContent.java
@@ -0,0 +1,28 @@
+package org.mockito.release.notes.versions;
+
+import org.mockito.release.notes.util.ReleaseNotesException;
+
+import java.util.regex.Matcher;
+import java.util.regex.Pattern;
+
+/**
+ * Retrieves previously released version based on the top entry in the current release notes content.
+ */
+class FromNotesContent implements PreviousVersion {
+
+    private final String releaseNotesContent;
+
+    FromNotesContent(String releaseNotesContent) {
+        this.releaseNotesContent = releaseNotesContent;
+    }
+
+    public String getPreviousVersion() {
+        //Example: "### 1.9.5 (06-10-2012)", we want to extract "1.9.5"
+        Pattern p = Pattern.compile("(?s)^### (.+?) .*");
+        Matcher m = p.matcher(releaseNotesContent);
+        if(!m.matches()) {
+            throw new ReleaseNotesException("Unable to parse previous version from release notes content: " + releaseNotesContent);
+        }
+        return m.group(1);
+    }
+}
\ No newline at end of file
diff --git a/buildSrc/src/main/groovy/org/mockito/release/notes/versions/PreviousVersionFromFile.groovy b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/PreviousVersionFromFile.groovy
deleted file mode 100644
index 0cb04806e..000000000
--- a/buildSrc/src/main/groovy/org/mockito/release/notes/versions/PreviousVersionFromFile.groovy
+++ /dev/null
@@ -1,24 +0,0 @@
-package org.mockito.release.notes.versions
-/**
- * Retrieves previously released version based on the top entry in the current release notes file.
- */
-class PreviousVersionFromFile implements PreviousVersion {
-
-    private final File releaseNotes
-
-    PreviousVersionFromFile(File releaseNotes) {
-        this.releaseNotes = releaseNotes
-    }
-
-    String getPreviousVersion() { //TODO SF coverage
-        println "Attempting to figure out the previous version from the release notes file"
-        return releaseNotes.withReader {
-            def firstLine = it.readLine()
-            assert firstLine.startsWith('###')
-            //Example: "### 1.9.5 (06-10-2012)", we want to extract "1.9.5"
-            def m = firstLine =~ /### (.+?) .*/
-            assert m.matches()
-            return m.group(1)
-        }
-    }
-}
\ No newline at end of file
diff --git a/buildSrc/src/main/groovy/org/mockito/release/notes/versions/Versions.java b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/Versions.java
index 22e6555c0..a13c9a2b7 100644
--- a/buildSrc/src/main/groovy/org/mockito/release/notes/versions/Versions.java
+++ b/buildSrc/src/main/groovy/org/mockito/release/notes/versions/Versions.java
@@ -1,7 +1,5 @@
 package org.mockito.release.notes.versions;
 
-import java.io.File;
-
 /**
  * Version services
  */
@@ -10,7 +8,7 @@ public class Versions {
     /**
      * Provides a way to retrieve previous version based on the content of the release notes file.
      */
-    PreviousVersion previousFromNotesFile(File releaseNotesFile) {
-        return new PreviousVersionFromFile(releaseNotesFile);
+    public static PreviousVersion previousFromNotesContent(String notesContent) {
+        return new FromNotesContent(notesContent);
     }
 }
diff --git a/buildSrc/src/test/groovy/org/mockito/release/notes/versions/FromNotesContentTest.groovy b/buildSrc/src/test/groovy/org/mockito/release/notes/versions/FromNotesContentTest.groovy
new file mode 100644
index 000000000..125b1f129
--- /dev/null
+++ b/buildSrc/src/test/groovy/org/mockito/release/notes/versions/FromNotesContentTest.groovy
@@ -0,0 +1,22 @@
+package org.mockito.release.notes.versions
+
+import org.mockito.release.notes.util.ReleaseNotesException
+import spock.lang.Specification
+
+class FromNotesContentTest extends Specification {
+
+    def "gets previous version from notes content"() {
+        def notes = """### 1.10.12 (2014-11-17 00:09 UTC)
+stuff
+### 1.10.13 (2014-11-17 00:09 UTC)
+
+"""
+        expect:
+        new FromNotesContent(notes).previousVersion == "1.10.12"
+    }
+
+    def "throws reasonable exception if version cannot be parsed"() {
+        when: new FromNotesContent("foo").previousVersion
+        then: thrown(ReleaseNotesException)
+    }
+}
diff --git a/gradle/release-notes.gradle b/gradle/release-notes.gradle
index 6dbbf938d..ea4437fdb 100644
--- a/gradle/release-notes.gradle
+++ b/gradle/release-notes.gradle
@@ -4,7 +4,8 @@ def notesFile = project.file("doc/release-notes/official.md")
 
 //TODO add task that calculates previous version
 ext.getPreviousVersion = {
-    return Notes.previousVersion(notesFile).previousVersion
+    def firstLine = notesFile.withReader { it.readLine() }
+    return Notes.previousVersion(firstLine).previousVersion
 }
 
 ext.updateReleaseNotes = {
