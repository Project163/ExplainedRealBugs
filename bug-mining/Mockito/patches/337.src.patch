diff --git a/buildSrc/src/main/kotlin/TaskExtensions.kt b/buildSrc/src/main/kotlin/TaskExtensions.kt
new file mode 100644
index 000000000..50331722a
--- /dev/null
+++ b/buildSrc/src/main/kotlin/TaskExtensions.kt
@@ -0,0 +1,7 @@
+import org.gradle.api.tasks.javadoc.Javadoc
+import org.gradle.external.javadoc.StandardJavadocDocletOptions
+
+/** Applies the standard doclet options. */
+fun Javadoc.javadocDocletOptions(block: StandardJavadocDocletOptions.() -> Unit) {
+    (options as StandardJavadocDocletOptions).apply(block)
+}
diff --git a/mockito-extensions/mockito-errorprone/build.gradle b/mockito-extensions/mockito-errorprone/build.gradle
deleted file mode 100644
index 4ea12895a..000000000
--- a/mockito-extensions/mockito-errorprone/build.gradle
+++ /dev/null
@@ -1,40 +0,0 @@
-plugins {
-    id("mockito.library-conventions")
-}
-
-description = "ErrorProne plugins for Mockito"
-
-dependencies {
-    compileOnly libs.autoservice
-    annotationProcessor libs.autoservice
-
-    implementation project(":mockito-core")
-    implementation libs.errorprone
-
-    testImplementation 'junit:junit:4.13.2'
-    testImplementation libs.errorprone.test.api
-}
-
-test {
-    inputs.files(configurations.errorproneJavac).withNormalizer(ClasspathNormalizer)
-    jvmArgs += "-Xbootclasspath/a:${configurations.errorproneJavac.asPath}"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.type=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED"
-    jvmArgs += "--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED"
-}
-
-tasks.withType(JavaCompile).configureEach {
-    options.compilerArgs << "--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED"
-    options.compilerArgs << "--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED"
-    options.compilerArgs << "--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED"
-}
-
-tasks.withType(Javadoc).configureEach {
-    options.addBooleanOption("-add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED", true)
-}
diff --git a/mockito-extensions/mockito-errorprone/build.gradle.kts b/mockito-extensions/mockito-errorprone/build.gradle.kts
new file mode 100644
index 000000000..16751515c
--- /dev/null
+++ b/mockito-extensions/mockito-errorprone/build.gradle.kts
@@ -0,0 +1,57 @@
+plugins {
+    id("mockito.library-conventions")
+}
+
+description = "ErrorProne plugins for Mockito"
+
+dependencies {
+    compileOnly(libs.autoservice)
+    annotationProcessor(libs.autoservice)
+
+    implementation(project(":mockito-core"))
+    implementation(libs.errorprone)
+
+    testImplementation("junit:junit:4.13.2")
+    testImplementation(libs.errorprone.test.api)
+}
+
+tasks {
+    test {
+        inputs.files(configurations.errorproneJavac).withNormalizer(ClasspathNormalizer::class)
+        jvmArgumentProviders.add(
+            CommandLineArgumentProvider {
+                listOf(
+                    "-Xbootclasspath/a:${configurations.errorproneJavac.get().asPath}",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.type=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED",
+                    "--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED",
+                )
+            }
+        )
+    }
+
+    withType<JavaCompile> {
+        options.compilerArgs.addAll(
+            listOf(
+                "--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED",
+                "--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED",
+                "--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED"
+            )
+        )
+    }
+
+    withType<Javadoc> {
+        javadocDocletOptions {
+            addBooleanOption(
+                "-add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED",
+                true
+            )
+        }
+    }
+}
