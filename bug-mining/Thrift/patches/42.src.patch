diff --git a/lib/rb/lib/thrift/transport/httpclient.rb b/lib/rb/lib/thrift/transport/httpclient.rb
index 2c4adfcd7..cdfd26cd4 100644
--- a/lib/rb/lib/thrift/transport/httpclient.rb
+++ b/lib/rb/lib/thrift/transport/httpclient.rb
@@ -1,6 +1,7 @@
 require 'thrift/transport'
 
 require 'net/http'
+require 'net/https'
 require 'uri'
 require 'stringio'
 
@@ -17,7 +18,9 @@ module Thrift
     def write(buf); @outbuf << buf end
     def flush
       http = Net::HTTP.new @url.host, @url.port
-      resp, data = http.post(@url.path, @outbuf)
+      http.use_ssl = @url.scheme == "https"
+      headers = { 'Content-Type' => 'application/x-thrift' }
+      resp, data = http.post(@url.path, @outbuf, headers)
       @inbuf = StringIO.new data
       @outbuf = ""
     end
