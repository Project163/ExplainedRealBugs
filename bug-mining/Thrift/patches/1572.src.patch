diff --git a/lib/d/src/thrift/codegen/base.d b/lib/d/src/thrift/codegen/base.d
index 0e943352d..db549928c 100644
--- a/lib/d/src/thrift/codegen/base.d
+++ b/lib/d/src/thrift/codegen/base.d
@@ -592,7 +592,7 @@ template TIsSetFlags(T, alias fieldMetaData) {
  * the wire without altering their definitions.
  */
 void readStruct(T, Protocol, alias fieldMetaData = cast(TFieldMeta[])null,
-  bool pointerStruct = false)(ref T s, Protocol p) if (isTProtocol!Protocol)
+  bool pointerStruct = false)(auto ref T s, Protocol p) if (isTProtocol!Protocol)
 {
   mixin({
     string code;
