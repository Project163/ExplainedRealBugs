diff --git a/lib/js/src/thrift.js b/lib/js/src/thrift.js
index 79c921c3b..35f679c32 100644
--- a/lib/js/src/thrift.js
+++ b/lib/js/src/thrift.js
@@ -684,6 +684,8 @@ Thrift.TWebSocketTransport.prototype = {
  *     var protocol  = new Thrift.Protocol(transport);
  */
 Thrift.TJSONProtocol = Thrift.Protocol = function(transport) {
+    this.tstack = [];
+    this.tpos = [];
     this.transport = transport;
 };
 
