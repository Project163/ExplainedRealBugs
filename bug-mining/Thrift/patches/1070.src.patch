diff --git a/compiler/cpp/src/generate/t_js_generator.cc b/compiler/cpp/src/generate/t_js_generator.cc
index 12b7daa0e..d330be9a8 100644
--- a/compiler/cpp/src/generate/t_js_generator.cc
+++ b/compiler/cpp/src/generate/t_js_generator.cc
@@ -64,7 +64,10 @@ class t_js_generator : public t_oop_generator {
        iter = parsed_options.find("ts");
        gen_ts_ = (iter != parsed_options.end());
      }
-     
+     else {
+       gen_ts_ = false;
+     } 
+    
      if (gen_node_ && gen_jquery_) {
        throw "Invalid switch: [-gen js:node,jquery] options not compatible, try: [-gen js:node -gen js:jquery]";
      }
