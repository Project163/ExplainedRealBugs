diff --git a/compiler/cpp/src/parse/t_program.h b/compiler/cpp/src/parse/t_program.h
index dfd9d43d2..12fcf0e39 100644
--- a/compiler/cpp/src/parse/t_program.h
+++ b/compiler/cpp/src/parse/t_program.h
@@ -188,8 +188,7 @@ class t_program : public t_doc {
         if (sub_index != std::string::npos) {
           std::string sub_namespace = language.substr(sub_index+1);
           if ( ! it->second->is_valid_namespace(sub_namespace)) {
-            std::string warning = base_language + " generator does not accept '" + sub_namespace + "' as sub-namespace!";
-            pwarning(1, warning.c_str());
+            throw base_language + " generator does not accept '" + sub_namespace + "' as sub-namespace!";
           }
         }
       }
diff --git a/test/ThriftTest.thrift b/test/ThriftTest.thrift
index be000b6a9..2be53fa24 100644
--- a/test/ThriftTest.thrift
+++ b/test/ThriftTest.thrift
@@ -35,12 +35,6 @@ namespace go ThriftTest
 namespace php ThriftTest
 namespace delphi Thrift.Test
 namespace cocoa ThriftTest
-
-// Presence of namespaces and sub-namespaces for which there is
-// no generator should compile with warnings only
-namespace noexist ThriftTest
-namespace cpp.noexist ThriftTest
-
 namespace * thrift.test
 
 /**
@@ -374,4 +368,4 @@ struct StructA {
 struct StructB {
   1: optional StructA aa;
   2: required StructA ab;
-}
+}
\ No newline at end of file
