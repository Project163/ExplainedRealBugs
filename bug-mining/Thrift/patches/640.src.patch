diff --git a/lib/rb/ext/extconf.rb b/lib/rb/ext/extconf.rb
index 90a06b64a..ed20f5618 100644
--- a/lib/rb/ext/extconf.rb
+++ b/lib/rb/ext/extconf.rb
@@ -22,7 +22,9 @@ if defined?(RUBY_ENGINE) && RUBY_ENGINE =~ /jruby/
 else
   require 'mkmf'
 
-  $CFLAGS = "-g -O2 -Wall -Werror " + Config::CONFIG["CFLAGS"]
+  $ARCH_FLAGS = Config::CONFIG['CFLAGS'].scan( /(-arch )(\S+)/ ).map{|x,y| x + y + ' ' }.join('')
+
+  $CFLAGS = "-g -O2 -Wall -Werror " + $ARCH_FLAGS
 
   have_func("strlcpy", "string.h")
 
