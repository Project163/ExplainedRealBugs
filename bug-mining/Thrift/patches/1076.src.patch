diff --git a/lib/d/src/thrift/internal/ctfe.d b/lib/d/src/thrift/internal/ctfe.d
index 3b10a787b..974db01e3 100644
--- a/lib/d/src/thrift/internal/ctfe.d
+++ b/lib/d/src/thrift/internal/ctfe.d
@@ -86,11 +86,13 @@ string ctfeToString(T)(T val) if (isFloatingPoint!T) {
 }
 
 unittest {
+  import std.algorithm;
   static assert(ctfeToString(double.infinity) == "inf");
   static assert(ctfeToString(-double.infinity) == "-inf");
   static assert(ctfeToString(double.nan) == "nan");
   static assert(ctfeToString(0.0) == "0");
   static assert(ctfeToString(-0.0) == "-0");
-  static assert(ctfeToString(3.1415) == "3.1415");
+  static assert(ctfeToString(2.5) == "2.5");
+  static assert(ctfeToString(3.1415).startsWith("3.141"));
   static assert(ctfeToString(2e-200) == "2e-200");
 }
