diff --git a/lib/java/src/main/java/org/apache/thrift/server/AbstractNonblockingServer.java b/lib/java/src/main/java/org/apache/thrift/server/AbstractNonblockingServer.java
index a573f0cdd..0388c1104 100644
--- a/lib/java/src/main/java/org/apache/thrift/server/AbstractNonblockingServer.java
+++ b/lib/java/src/main/java/org/apache/thrift/server/AbstractNonblockingServer.java
@@ -304,6 +304,7 @@ public abstract class AbstractNonblockingServer extends TServer {
 
     /**
      * Sets the selection key (this is not thread safe).
+     *
      * @param selectionKey the new key to set.
      */
     public void setSelectionKey(SelectionKey selectionKey) {
diff --git a/lib/java/src/main/java/org/apache/thrift/server/TThreadedSelectorServer.java b/lib/java/src/main/java/org/apache/thrift/server/TThreadedSelectorServer.java
index 2a95fe176..33b4686de 100644
--- a/lib/java/src/main/java/org/apache/thrift/server/TThreadedSelectorServer.java
+++ b/lib/java/src/main/java/org/apache/thrift/server/TThreadedSelectorServer.java
@@ -637,11 +637,11 @@ public class TThreadedSelectorServer extends AbstractNonblockingServer {
         SelectionKey newKey;
         try {
           if (attachment == null) {
-            newKey = channel.register(newSelector, interestOpts);
+            newKey = channel.register(newSelector, interestOps);
           } else {
-            newKey = channel.register(newSelector, interestOpts, attachment);
+            newKey = channel.register(newSelector, interestOps, attachment);
             if (attachment instanceof FrameBuffer) {
-              ((FrameBuffer) attachment.setSelectionKey(newKey);
+              ((FrameBuffer) attachment).setSelectionKey(newKey);
             }
           }
         } catch (ClosedChannelException e) {
