diff --git a/lib/js/thrift.js b/lib/js/thrift.js
index 04a34d1d4..f048dbffd 100644
--- a/lib/js/thrift.js
+++ b/lib/js/thrift.js
@@ -559,7 +559,7 @@ Thrift.Protocol.prototype = {
 
     readMapBegin : function(keyType,valType,size){
         
-        var map = this.rstack[this.rstack.length-1]
+        var map = this.rstack.pop()
         
         var r = {};
         r["ktype"] = Thrift.Protocol.RType[map.shift()]
