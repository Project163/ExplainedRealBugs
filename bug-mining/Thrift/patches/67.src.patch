diff --git a/configure.ac b/configure.ac
index e42b8cb18..cc9d05fa8 100644
--- a/configure.ac
+++ b/configure.ac
@@ -182,7 +182,6 @@ AC_CONFIG_FILES([
   if/Makefile
   test/Makefile
   test/py/Makefile
-  test/java/Makefile
   test/rb/Makefile
 ])
 
diff --git a/lib/java/Makefile.am b/lib/java/Makefile.am
index 45a88e298..ae8a4d3f3 100644
--- a/lib/java/Makefile.am
+++ b/lib/java/Makefile.am
@@ -12,3 +12,5 @@ clean-local:
 	$$ANT clean
 
 check-local: all
+	$(ANT) test
+
diff --git a/test/Makefile.am b/test/Makefile.am
index dab0f4e9c..0c201c191 100644
--- a/test/Makefile.am
+++ b/test/Makefile.am
@@ -1,9 +1,5 @@
 SUBDIRS =
 
-if WITH_JAVA
-SUBDIRS += java
-endif
-
 if WITH_PYTHON
 SUBDIRS += py
 endif
@@ -23,7 +19,8 @@ libtestgencpp_la_SOURCES = \
 	gen-cpp/SecondService.cpp \
 	gen-cpp/ThriftTest_constants.cpp \
 	gen-cpp/ThriftTest.cpp \
-	gen-cpp/ThriftTest_types.cpp
+	gen-cpp/ThriftTest_types.cpp \
+	ThriftTest_extras.cpp
 
 libtestgencpp_la_LIBADD = $(top_builddir)/lib/cpp/libthrift.la
 
diff --git a/test/java/Makefile.am b/test/java/Makefile.am
deleted file mode 100644
index 1b6e83958..000000000
--- a/test/java/Makefile.am
+++ /dev/null
@@ -1,8 +0,0 @@
-check:
-	$(ANT) test
-
-# Make sure this doesn't fail if ant is not configured.
-clean-local:
-	ANT=$(ANT) ; if test -z "$$ANT" ; then ANT=: ; fi ; \
-	$$ANT clean
-
