diff --git a/compiler/cpp/src/generate/t_hs_generator.cc b/compiler/cpp/src/generate/t_hs_generator.cc
index 979ae9929..133c62e7a 100644
--- a/compiler/cpp/src/generate/t_hs_generator.cc
+++ b/compiler/cpp/src/generate/t_hs_generator.cc
@@ -1192,7 +1192,8 @@ void t_hs_generator::generate_deserialize_type(ofstream &out,
 void t_hs_generator::generate_deserialize_struct(ofstream &out,
                                                  t_struct* tstruct) {
   string name = capitalize(tstruct->get_name());
-  out << "(read_" << name << " iprot)";
+  string module_name = capitalize(tstruct->get_program()->get_name()) + "_Types";
+  out << "(" << module_name << "." << "read_" << name << " iprot)";
 }
 
 /**
diff --git a/test/hs/Include_Main.hs b/test/hs/Include_Main.hs
new file mode 100644
index 000000000..697ffff90
--- /dev/null
+++ b/test/hs/Include_Main.hs
@@ -0,0 +1,7 @@
+module Main where
+
+import Include_Types
+import ThriftTest_Types
+
+main :: IO ()
+main = putStrLn ("Includes work: " ++ (show (IncludeTest (Just  (Bools (Just True) (Just False))))))
diff --git a/test/hs/Makefile.am b/test/hs/Makefile.am
index d6d8ff46b..e948b41be 100644
--- a/test/hs/Makefile.am
+++ b/test/hs/Makefile.am
@@ -19,12 +19,17 @@
 
 THRIFT = $(top_srcdir)/compiler/cpp/thrift
 
-stubs: ../ConstantsDemo.thrift ../DebugProtoTest.thrift ../ThriftTest.thrift
+stubs: ../ConstantsDemo.thrift ../DebugProtoTest.thrift ../ThriftTest.thrift ../Include.thrift
 	$(THRIFT) --gen hs ../ConstantsDemo.thrift
 	$(THRIFT) --gen hs ../DebugProtoTest.thrift
 	$(THRIFT) --gen hs ../ThriftTest.thrift
+	$(THRIFT) --gen hs ../Include.thrift
 
 check: stubs
 	sh run-test.sh ConstantsDemo
 	sh run-test.sh DebugProtoTest
 	sh run-test.sh ThriftTest
+	sh run-test.sh Include
+
+clean-local:
+	$(RM) -r gen-hs
diff --git a/test/hs/run-test.sh b/test/hs/run-test.sh
index ac5190d23..46b8b2c40 100644
--- a/test/hs/run-test.sh
+++ b/test/hs/run-test.sh
@@ -29,30 +29,6 @@ if [ -z $BASE ]; then
     BASE=../..
 fi
 
-if [ -z $THRIFT_BIN ]; then
-    THRIFT_BIN=$BASE/compiler/cpp/thrift 
-fi
-
-if [ ! -x "$THRIFT_BIN" ]; then
-    printf "Could not find thrift binary; pass it as environment variable THRIFT_BIN\n"
-    exit 1
-fi
-
-# Figure out what file to generate bindings from
-if [ -z $THRIFT_FILE ]; then
-    THRIFT_FILE=$BASE/test/$1.thrift
-fi
-
-if [ ! -e $THRIFT_FILE ]; then
-    printf "Missing thrift file $THRIFT_FILE \n"
-    exit 2
-fi
-
-if [ ! -e "$THRIFT_FILE" ]; then
-    printf "Could not find thrift file to run; pass it as environment variable THRIFT_FILE\n"
-    exit 1
-fi
-
 # Figure out what file to run has a server
 if [ -z $TEST_SOURCE_FILE ]; then
     TEST_SOURCE_FILE=$BASE/test/hs/$1_Main.hs
@@ -63,9 +39,5 @@ if [ ! -e $TEST_SOURCE_FILE ]; then
     exit 3
 fi
 
-# Actually run the server bits
-printf "Generating bindings... \n"
-$THRIFT_BIN --gen hs $THRIFT_FILE
-
 printf "Running test... \n"
 runhaskell -Wall -i$BASE/lib/hs/src -igen-hs $TEST_SOURCE_FILE
