diff --git a/.gitignore b/.gitignore
index 075aac1c6..f183523f6 100644
--- a/.gitignore
+++ b/.gitignore
@@ -216,6 +216,8 @@ test-driver
 /lib/go/test/ThriftTest.thrift
 /test/log/
 /test/test.log
+/test/erl/.eunit/
+/test/erl/.generated
 /test/go/ThriftTest.thrift
 /test/go/gopath
 /test/go/pkg/
diff --git a/lib/erl/Makefile.am b/lib/erl/Makefile.am
index cdac92614..60c7e5a04 100644
--- a/lib/erl/Makefile.am
+++ b/lib/erl/Makefile.am
@@ -23,7 +23,7 @@ THRIFT_FILES = $(wildcard test/*.thrift) \
 
 .generated: $(THRIFT_FILES)
 	for f in $(THRIFT_FILES) ; do \
-	  $(THRIFT) --gen erl -out test $$f ; \
+	  $(THRIFT) --gen erl -o test $$f ; \
 	done ; \
 	touch .generated
 
@@ -48,19 +48,7 @@ uninstall:
 
 clean:
 	rm -f .generated
-	rm -f test/thrift1151_types.erl \
-		  test/thrift1151_types.hrl \
-		  test/thrift1151_constants.hrl \
-		  test/thrift1475_types.erl \
-		  test/thrift1475_types.hrl \
-		  test/thrift1475_constants.hrl \
-		  test/thriftTest_types.erl \
-		  test/thriftTest_types.hrl \
-		  test/thriftTest_constants.hrl \
-		  test/thriftTest_thrift.erl \
-		  test/thriftTest_thrift.hrl \
-		  test/secondService_thrift.erl \
-		  test/secondService_thrift.hrl
+	rm -rf test/gen-erl/
 	./rebar clean
 
 maintainer-clean-local:
diff --git a/lib/erl/test/test_client.erl b/lib/erl/test/test_client.erl
index 59f596dd6..79708caa5 100644
--- a/lib/erl/test/test_client.erl
+++ b/lib/erl/test/test_client.erl
@@ -21,7 +21,7 @@
 
 -export([start/0, start/1]).
 
--include("thriftTest_types.hrl").
+-include("gen-erl/thriftTest_types.hrl").
 
 -record(options, {port = 9090,
                   client_opts = []}).
diff --git a/lib/erl/test/test_membuffer.erl b/lib/erl/test/test_membuffer.erl
index 7a011435d..8892df09b 100644
--- a/lib/erl/test/test_membuffer.erl
+++ b/lib/erl/test/test_membuffer.erl
@@ -22,7 +22,7 @@
 -ifdef(TEST).
 -include_lib("eunit/include/eunit.hrl").
 
--include("thriftTest_types.hrl").
+-include("gen-erl/thriftTest_types.hrl").
 
 test_data() ->
   #xtruct {
diff --git a/lib/erl/test/test_server.erl b/lib/erl/test/test_server.erl
index 63f7b080e..8cabd6fef 100644
--- a/lib/erl/test/test_server.erl
+++ b/lib/erl/test/test_server.erl
@@ -21,7 +21,7 @@
 
 -export([go/0, go/1, start_link/2, handle_function/2]).
 
--include("thriftTest_types.hrl").
+-include("gen-erl/thriftTest_types.hrl").
 
 -record(options, {port = 9090,
                   server_opts = []}).
diff --git a/lib/erl/test/test_thrift_1151.erl b/lib/erl/test/test_thrift_1151.erl
index 9cee4861b..8b1d93746 100644
--- a/lib/erl/test/test_thrift_1151.erl
+++ b/lib/erl/test/test_thrift_1151.erl
@@ -1,6 +1,6 @@
 -module(test_thrift_1151).
 
--include("thrift1151_types.hrl").
+-include("gen-erl/thrift1151_types.hrl").
 
 -ifdef(TEST).
 -include_lib("eunit/include/eunit.hrl").
