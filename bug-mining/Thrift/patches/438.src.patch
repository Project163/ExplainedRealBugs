diff --git a/aclocal/ax_javac_and_java.m4 b/aclocal/ax_javac_and_java.m4
index 03ab08e46..fdb4bf005 100644
--- a/aclocal/ax_javac_and_java.m4
+++ b/aclocal/ax_javac_and_java.m4
@@ -105,3 +105,17 @@ AC_DEFUN([AX_CHECK_JAVA_CLASS],
 
           rm -f configtest_ax_javac_and_java.java configtest_ax_javac_and_java.class
           ])
+
+
+AC_DEFUN([AX_CHECK_ANT_VERSION],
+         [
+          AC_MSG_CHECKING(for ant version > $2)
+          ANT_VALID=`expr $($1 -version 2>/dev/null | sed -n 's/.*version \(@<:@0-9\.@:>@*\).*/\1/p') \>= $2`
+          if test "x$ANT_VALID" = "x1" ; then
+            AC_MSG_RESULT(yes)
+          else
+            AC_MSG_RESULT(no)
+            ANT=""
+          fi
+          ])
+
diff --git a/configure.ac b/configure.ac
index faffa5581..8668a0345 100644
--- a/configure.ac
+++ b/configure.ac
@@ -148,15 +148,7 @@ AX_THRIFT_LIB(java, [Java], yes)
 if test "$with_java" = "yes";  then
   AX_JAVAC_AND_JAVA
   AC_PATH_PROG([ANT], [ant])
-  AX_CHECK_JAVA_CLASS(org.slf4j.Logger)
-  have_slf4j="$success"
-  AX_CHECK_JAVA_CLASS(org.slf4j.impl.SimpleLogger)
-  have_slf4j_simple="$success"
-  AX_CHECK_JAVA_CLASS(org.apache.commons.lang.builder.HashCodeBuilder)
-  have_hashcode="$success"
-  if test "x$have_slf4j_simple" = "xyes" && test "x$have_slf4j" = "xyes" && test "x$have_hashcode" = "xyes" ; then
-    ANT_FLAGS="$ANT_FLAGS -Dnoivy="
-  fi
+  AX_CHECK_ANT_VERSION($ANT, 1.7)
   AC_SUBST(CLASSPATH)
   AC_SUBST(ANT_FLAGS)
   if test "x$JAVAC" != "x" && test "x$JAVAC" != "x" && test "x$ANT" != "x" ; then
