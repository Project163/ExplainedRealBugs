diff --git a/compiler/cpp/src/generate/t_java_generator.cc b/compiler/cpp/src/generate/t_java_generator.cc
index 09d2fd1e7..da1e1c69b 100644
--- a/compiler/cpp/src/generate/t_java_generator.cc
+++ b/compiler/cpp/src/generate/t_java_generator.cc
@@ -3570,7 +3570,7 @@ bool t_java_generator::is_comparable(t_type* type) {
     } else {
       return false;
     }
-  } else if (type->is_struct()) {
+  } else if (type->is_struct() || type->is_xception()) {
     return is_comparable((t_struct*)type);
   } else {
     return true;
diff --git a/test/DebugProtoTest.thrift b/test/DebugProtoTest.thrift
index 6a9c7855d..6731e5e43 100644
--- a/test/DebugProtoTest.thrift
+++ b/test/DebugProtoTest.thrift
@@ -216,6 +216,16 @@ const CompactProtoTestStruct COMPACT_TEST = {
 
 const i32 MYCONST = 2
 
+
+exception ExceptionWithAMap {
+  1: string blah;
+  2: map<string, string> map_field;
+}
+
+service ServiceForExceptionWithAMap {
+  void methodThatThrowsAnException() throws (1: ExceptionWithAMap xwamap);
+}
+
 service Srv {
   i32 Janky(1: i32 arg);
   
@@ -308,4 +318,4 @@ typedef map<i32,i32> SomeMap
 
 struct StructWithASomemap {
   1: required SomeMap somemap_field;
-}
\ No newline at end of file
+}
