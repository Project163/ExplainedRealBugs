diff --git a/contrib/fb303/py/Makefile.am b/contrib/fb303/py/Makefile.am
index d6fac6e04..6883d663d 100644
--- a/contrib/fb303/py/Makefile.am
+++ b/contrib/fb303/py/Makefile.am
@@ -4,6 +4,8 @@ EXTRA_DIST = setup.py src
 all:
 
 all-local:
+	$(thrift_home)/bin/thrift --gen py $(top_srcdir)/if/fb303.thrift
+	mv gen-py/fb303/* fb303
 	$(PYTHON) setup.py build
 
 # We're ignoring prefix here because site-packages seems to be
