diff --git a/lib/cpp/src/protocol/TCompactProtocol.h b/lib/cpp/src/protocol/TCompactProtocol.h
index b4e06f0aa..1d940a2ac 100644
--- a/lib/cpp/src/protocol/TCompactProtocol.h
+++ b/lib/cpp/src/protocol/TCompactProtocol.h
@@ -109,6 +109,9 @@ class TCompactProtocol : public TProtocol {
     boolValue_.hasBoolValue = false;
   }
 
+  ~TCompactProtocol() {
+    free(string_buf_);
+  }
 
 
   /**
