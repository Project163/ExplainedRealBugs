diff --git a/lib/rb/spec/httpclient_spec.rb b/lib/rb/spec/httpclient_spec.rb
index 67fb06978..90549c0a4 100644
--- a/lib/rb/spec/httpclient_spec.rb
+++ b/lib/rb/spec/httpclient_spec.rb
@@ -20,7 +20,8 @@ class ThriftHTTPClientSpec < Spec::ExampleGroup
       @client.write " frame"
       Net::HTTP.should_receive(:new).with("my.domain.com", 80).and_return do
         mock("Net::HTTP").tee do |http|
-          http.should_receive(:post).with("/path/to/service", "a test frame").and_return([nil, "data"])
+          http.should_receive(:use_ssl=).with(false)
+          http.should_receive(:post).with("/path/to/service", "a test frame", {"Content-Type"=>"application/x-thrift"}).and_return([nil, "data"])
         end
       end
       @client.flush
