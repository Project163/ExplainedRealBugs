diff --git a/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp b/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
index 190630243..c5667e422 100644
--- a/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
+++ b/lib/cpp/src/thrift/windows/GetTimeOfDay.cpp
@@ -88,7 +88,7 @@ int thrift_gettimeofday(struct timeval * tv, struct timezone * tz)
         }
     }
 
-    return -1;
+    return 0;
 }
 
 int thrift_sleep(unsigned int seconds)
