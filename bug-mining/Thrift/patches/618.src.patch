diff --git a/lib/rb/ext/extconf.rb b/lib/rb/ext/extconf.rb
index 36dac9b79..90a06b64a 100644
--- a/lib/rb/ext/extconf.rb
+++ b/lib/rb/ext/extconf.rb
@@ -22,7 +22,7 @@ if defined?(RUBY_ENGINE) && RUBY_ENGINE =~ /jruby/
 else
   require 'mkmf'
 
-  $CFLAGS = "-g -O2 -Wall -Werror"
+  $CFLAGS = "-g -O2 -Wall -Werror " + Config::CONFIG["CFLAGS"]
 
   have_func("strlcpy", "string.h")
 
