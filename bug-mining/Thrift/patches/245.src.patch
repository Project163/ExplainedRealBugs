diff --git a/lib/php/src/ext/thrift_protocol/php_thrift_protocol.h b/lib/php/src/ext/thrift_protocol/php_thrift_protocol.h
index c9a3e00f0..44d03ccde 100644
--- a/lib/php/src/ext/thrift_protocol/php_thrift_protocol.h
+++ b/lib/php/src/ext/thrift_protocol/php_thrift_protocol.h
@@ -22,5 +22,6 @@
 PHP_FUNCTION(thrift_protocol_write_binary);
 PHP_FUNCTION(thrift_protocol_read_binary);
 
-extern zend_module_entry thrift_protocole_module_entry;
+extern zend_module_entry thrift_protocol_module_entry;
+#define phpext_thrift_protocol_ptr &thrift_protocol_module_entry
 
