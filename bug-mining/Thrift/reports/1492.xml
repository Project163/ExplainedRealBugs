<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:22:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3567] GLib-GObject-CRITICAL **: g_object_unref: assertion &apos;G_IS_OBJECT (object)&apos; failed</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3567</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When running cross language tests with a c_glib server, I see g_object_unref assertion errors like these in the output logs:&lt;/p&gt;

&lt;p&gt;(lt-test_server:54378): GLib-GObject-CRITICAL **: g_object_unref: assertion &apos;G_IS_OBJECT (object)&apos; failed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12932190">THRIFT-3567</key>
            <summary>GLib-GObject-CRITICAL **: g_object_unref: assertion &apos;G_IS_OBJECT (object)&apos; failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cjmay">Chandler May</assignee>
                                    <reporter username="cjmay">Chandler May</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jan 2016 16:49:26 +0000</created>
                <updated>Fri, 18 Mar 2016 17:54:26 +0000</updated>
                            <resolved>Fri, 18 Mar 2016 17:54:26 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>C glib - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                                                            <comments>
                            <comment id="15105602" author="githubbot" created="Mon, 18 Jan 2016 18:06:27 +0000"  >&lt;p&gt;GitHub user cjmay opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/806&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3567&quot; title=&quot;GLib-GObject-CRITICAL **: g_object_unref: assertion &amp;#39;G_IS_OBJECT (object)&amp;#39; failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3567&quot;&gt;&lt;del&gt;THRIFT-3567&lt;/del&gt;&lt;/a&gt; prevent g_object_unref errors in c_glib cross test server.&lt;/p&gt;

&lt;p&gt;    Add additional object ref in insanity test handler to prevent GLib g_object_unref errors.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cjmay/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cjmay/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3567&quot; title=&quot;GLib-GObject-CRITICAL **: g_object_unref: assertion &amp;#39;G_IS_OBJECT (object)&amp;#39; failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3567&quot;&gt;&lt;del&gt;THRIFT-3567&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/806.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/806.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #806&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a26d9f45d8c15e2f2a801f88c6020d6a42641088&lt;br/&gt;
Author: Chandler May &amp;lt;cjmay4754@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-01-18T16:05:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3567&quot; title=&quot;GLib-GObject-CRITICAL **: g_object_unref: assertion &amp;#39;G_IS_OBJECT (object)&amp;#39; failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3567&quot;&gt;&lt;del&gt;THRIFT-3567&lt;/del&gt;&lt;/a&gt; prevent g_object_unref errors in c_glib cross test server.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15105827" author="cjmay" created="Mon, 18 Jan 2016 21:00:42 +0000"  >&lt;p&gt;Empirically, after running make cross,&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;grep GLib-GObject-CRITICAL test/log/*&lt;/p&gt;

&lt;p&gt;prints those error messages and returns zero before the patch, whereas it prints nothing and returns non-zero after the patch.&lt;/p&gt;

&lt;p&gt;It seems a little out of the way, but it might be feasible to call thrift_test_handler_test_insanity in isolation, then mimic what g_object_unref would do to *_return and argument in the caller, unref-ing the entries one at a time and checking G_IS_OBJECT before and after each one.  If the implementation is correct G_IS_OBJECT should fail immediately after the third unref (two references in *_return and one for the caller).&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; On a previous revision.  After merging the last week&apos;s commits to master, make cross runs the server feature tests instead of the cross-language tests.  Is this a mistake?  In any case, the cross-language tests can be run via test/test.py.&lt;/p&gt;</comment>
                            <comment id="15105837" author="cjmay" created="Mon, 18 Jan 2016 21:12:53 +0000"  >&lt;p&gt;Actually, GWeakNotify looks like the tool to use, rather than checking G_IS_OBJECT.  Although the assertion clearly uses the latter, there&apos;s nothing I can see in the documentation that indicates it returns true only if the reference count is above one.&lt;/p&gt;</comment>
                            <comment id="15106224" author="cjmay" created="Tue, 19 Jan 2016 04:28:36 +0000"  >&lt;p&gt;Github branch updated with test based on GWeakNotify: unref _return, check that argument was not finalized, then unref argument,  and check that argument was finalized.  This test fails before the patch and passes after.&lt;/p&gt;</comment>
                            <comment id="15107446" author="jensg" created="Tue, 19 Jan 2016 21:13:46 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="15107497" author="githubbot" created="Tue, 19 Jan 2016 21:36:38 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/806&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/806&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15114262" author="jensg" created="Sun, 24 Jan 2016 10:25:49 +0000"  >&lt;p&gt;I guess we now can &quot;resolve&quot; this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12932845">THRIFT-3573</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rnbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>