<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:16:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2900] Python THttpClient does not reset socket timeout on exception</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2900</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git;a=blob;f=lib/py/src/transport/THttpClient.py;h=ea80a1ae875865a297a7b14dad15757e3933284f;hb=HEAD#l106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=thrift.git;a=blob;f=lib/py/src/transport/THttpClient.py;h=ea80a1ae875865a297a7b14dad15757e3933284f;hb=HEAD#l106&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; 102   def __withTimeout(f):&lt;br/&gt;
 103     def _f(*args, **kwargs):&lt;br/&gt;
 104       orig_timeout = socket.getdefaulttimeout()&lt;br/&gt;
 105       socket.setdefaulttimeout(args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.__timeout)&lt;br/&gt;
 106       result = f(*args, **kwargs)&lt;br/&gt;
 107       socket.setdefaulttimeout(orig_timeout)&lt;br/&gt;
 108       return result&lt;br/&gt;
 109     return _f&lt;/p&gt;


&lt;p&gt;if &lt;tt&gt;f&lt;/tt&gt; raises, the default timeout is not reset. Should be wrapped in a &lt;tt&gt;try&lt;/tt&gt;/&lt;tt&gt;finally&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12762150">THRIFT-2900</key>
            <summary>Python THttpClient does not reset socket timeout on exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="aiden">Aiden Scandella</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Dec 2014 00:34:35 +0000</created>
                <updated>Mon, 26 Jan 2015 02:26:36 +0000</updated>
                            <resolved>Mon, 5 Jan 2015 20:20:31 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.9.3</fixVersion>
                                    <component>Python - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14249220" author="githubbot" created="Wed, 17 Dec 2014 00:38:55 +0000"  >&lt;p&gt;GitHub user sectioneight opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2900&quot; title=&quot;Python THttpClient does not reset socket timeout on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2900&quot;&gt;&lt;del&gt;THRIFT-2900&lt;/del&gt;&lt;/a&gt; Wrap Python THttpClient withTimeout in a try/finally&lt;/p&gt;

&lt;p&gt;    Otherwise the original value of the socket timeout is not restored&lt;br/&gt;
    properly.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sectioneight/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sectioneight/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2900&quot; title=&quot;Python THttpClient does not reset socket timeout on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2900&quot;&gt;&lt;del&gt;THRIFT-2900&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #322&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a8ee0b14e943a1faf32bd20378a0784175ba6a00&lt;br/&gt;
Author: Aiden Scandella &amp;lt;aiden@uber.com&amp;gt;&lt;br/&gt;
Date:   2014-12-17T00:37:06Z&lt;/p&gt;

&lt;p&gt;    Wrap THttpClient withTimeout in a try/finally&lt;/p&gt;

&lt;p&gt;    Otherwise the original value of the socket timeout is not restored&lt;br/&gt;
    properly.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14249227" author="githubbot" created="Wed, 17 Dec 2014 00:45:56 +0000"  >&lt;p&gt;Github user breerly commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322#issuecomment-67260174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322#issuecomment-67260174&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 - this checks out.&lt;/p&gt;</comment>
                            <comment id="14264156" author="githubbot" created="Mon, 5 Jan 2015 03:14:28 +0000"  >&lt;p&gt;Github user breerly commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322#issuecomment-68663918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322#issuecomment-68663918&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @sectioneight looks like the build failed? &lt;/p&gt;</comment>
                            <comment id="14264604" author="githubbot" created="Mon, 5 Jan 2015 14:02:08 +0000"  >&lt;p&gt;Github user sectioneight commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322#issuecomment-68711033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322#issuecomment-68711033&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Indeed it did. Seems to be unrelated...&lt;/p&gt;</comment>
                            <comment id="14265044" author="githubbot" created="Mon, 5 Jan 2015 20:20:13 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/322&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14265045" author="jensg" created="Mon, 5 Jan 2015 20:20:31 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                            <comment id="14265130" author="hudson" created="Mon, 5 Jan 2015 21:23:44 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1426 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1426/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1426/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2900&quot; title=&quot;Python THttpClient does not reset socket timeout on exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2900&quot;&gt;&lt;del&gt;THRIFT-2900&lt;/del&gt;&lt;/a&gt; Python THttpClient does not reset socket timeout on exception (jensg: rev 4f2c0a066f1d59c1d57a718e829eb67e488b3c62)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/py/src/transport/THttpClient.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12690100" name="THRIFT-2900.patch" size="611" author="aiden" created="Mon, 5 Jan 2015 16:33:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23i4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>