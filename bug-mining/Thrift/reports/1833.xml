<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:27:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4392] compiler/..../plugin.thrift structs mis-ordered blows up ocaml generator</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4392</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;in plugin.thrift, the structs are ordered&lt;br/&gt;
....&lt;br/&gt;
t_struct&lt;br/&gt;
t_field&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;but t_struct refers to t_field.  So when I gen ocaml code:&lt;/p&gt;

&lt;p&gt;thrift//compiler/cpp/thrift -r --gen ocaml thrift/compiler/cpp/src/thrift/plugin/plugin.thrift&lt;/p&gt;

&lt;p&gt;and compile:&lt;/p&gt;

&lt;p&gt;ocamlfind ocamlc -thread -package thrift -c gen-ocaml/plugin_types.mli&lt;br/&gt;
File &quot;gen-ocaml/plugin_types.mli&quot;, line 284, characters 23-30:&lt;br/&gt;
Error: Unbound type constructor t_field&lt;/p&gt;

&lt;p&gt;Fixing is easy (since the types aren&apos;t recursive) &amp;#8211; just swap the order of the structs.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 16.04 Linux amd64&lt;br/&gt;
ocaml 4.04.2&lt;/p&gt;</environment>
        <key id="13120559">THRIFT-4392</key>
            <summary>compiler/..../plugin.thrift structs mis-ordered blows up ocaml generator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="chetmurthy">Chet Murthy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Nov 2017 01:39:39 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:34 +0000</updated>
                            <resolved>Thu, 30 Nov 2017 17:46:03 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>OCaml - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16264866" author="chetmurthy" created="Fri, 24 Nov 2017 01:42:50 +0000"  >&lt;p&gt;here&apos;s a patch&lt;/p&gt;</comment>
                            <comment id="16264867" author="chetmurthy" created="Fri, 24 Nov 2017 01:42:57 +0000"  >&lt;p&gt;Attaching a patch (against current thrift master, but it works against 0.10.0 also).&lt;/p&gt;</comment>
                            <comment id="16264875" author="githubbot" created="Fri, 24 Nov 2017 02:04:50 +0000"  >&lt;p&gt;GitHub user chetmurthy opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1417&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4392&quot; title=&quot;compiler/..../plugin.thrift structs mis-ordered blows up ocaml generator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4392&quot;&gt;&lt;del&gt;THRIFT-4392&lt;/del&gt;&lt;/a&gt; reorder structs in plugin.thrift&lt;/p&gt;

&lt;p&gt;    build thrift, generated ocaml from plugin.thrift, verified that compile fails.&lt;br/&gt;
    then applied patch, rebuild thrift, regen ocaml, recompile and compiler doesn&apos;t fail.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/chetmurthy/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/chetmurthy/thrift&lt;/a&gt; thrift-4392&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1417.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1417.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1417&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 431efe864df62a0c8511ddc290cda5d2c062ab0f&lt;br/&gt;
Author: Chet Murthy &amp;lt;chetsky@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-11-24T02:03:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4392&quot; title=&quot;compiler/..../plugin.thrift structs mis-ordered blows up ocaml generator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4392&quot;&gt;&lt;del&gt;THRIFT-4392&lt;/del&gt;&lt;/a&gt; reorder structs in plugin.thrift&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16264876" author="chetmurthy" created="Fri, 24 Nov 2017 02:05:41 +0000"  >&lt;p&gt;Oh, didn&apos;t see that PRs are preferred.  Sent a PR with same name as ticket#.  Sorry!&lt;/p&gt;</comment>
                            <comment id="16272054" author="githubbot" created="Thu, 30 Nov 2017 02:38:29 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1417&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16273043" author="jking3" created="Thu, 30 Nov 2017 17:46:03 +0000"  >&lt;p&gt;Committed - thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12899112" name="patch" size="750" author="chetmurthy" created="Fri, 24 Nov 2017 01:42:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3n5lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>