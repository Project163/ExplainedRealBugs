<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:26:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3896] map&lt;string,string&gt; data with number string key cannot access that deserialized by php extension</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3896</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Give a key like &apos;2345&apos;,  in php script,  &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;array(&apos;2345&apos;=&amp;gt;&apos;value&apos;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; will be processed to &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;array(2345=&amp;gt;&apos;value&apos;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The extension now deserialized data &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{&apos;2345&apos;:&apos;value&apos;}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; &lt;br/&gt;
to &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;array(&apos;2345&apos;=&amp;gt;&apos;value&apos;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; and php code can not access the key by &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$arr[&apos;2345&apos;]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;.&lt;/p&gt;


&lt;p&gt;Attachment is a simple script that reproduce this situation.&lt;/p&gt;</description>
                <environment>&lt;p&gt;php 5.5.9&lt;/p&gt;</environment>
        <key id="12996153">THRIFT-3896</key>
            <summary>map&lt;string,string&gt; data with number string key cannot access that deserialized by php extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="kdlan">Fei Dong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Aug 2016 03:33:50 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:41 +0000</updated>
                            <resolved>Mon, 6 Feb 2017 17:58:47 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PHP - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15414650" author="kdlan" created="Wed, 10 Aug 2016 03:35:07 +0000"  >&lt;p&gt;test script&lt;/p&gt;</comment>
                            <comment id="15414660" author="kdlan" created="Wed, 10 Aug 2016 03:48:26 +0000"  >&lt;p&gt;As mentioned in &lt;a href=&quot;http://php.net/manual/en/language.types.array.php&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://php.net/manual/en/language.types.array.php&lt;/a&gt; &lt;blockquote&gt;&lt;p&gt;Strings containing valid integers will be cast to the integer type&lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;I think the extension should consider convert string key to integer if it containing valid integers. Maybe I can make a pull request for this&lt;/p&gt;</comment>
                            <comment id="15416594" author="githubbot" created="Thu, 11 Aug 2016 05:40:52 +0000"  >&lt;p&gt;GitHub user kdlan opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1062&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1062&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3896&quot; title=&quot;map&amp;lt;string,string&amp;gt; data with number string key cannot access that deserialized by php extension&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3896&quot;&gt;&lt;del&gt;THRIFT-3896&lt;/del&gt;&lt;/a&gt;: fix map type with string key can not access deserialized by php extension&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kdlan/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kdlan/thrift&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1062.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1062.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1062&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 822adc5bc9cd14f374cc1ad7309c1ee6fc9b5010&lt;br/&gt;
Author: &#33891;&#33778; &amp;lt;feidong@anjuke.com&amp;gt;&lt;br/&gt;
Date:   2016-08-11T05:35:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3896&quot; title=&quot;map&amp;lt;string,string&amp;gt; data with number string key cannot access that deserialized by php extension&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3896&quot;&gt;&lt;del&gt;THRIFT-3896&lt;/del&gt;&lt;/a&gt;: fix map type with string key can not access deserialized by php extension&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15854456" author="githubbot" created="Mon, 6 Feb 2017 17:59:08 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1062&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1062&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12822946" name="test.php" size="4133" author="kdlan" created="Wed, 10 Aug 2016 03:35:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i324gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>