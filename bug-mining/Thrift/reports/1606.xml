<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:24:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3797] Generated Delphi processor shouldn&apos;t error out on timed out exceptions</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3797</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When the generated service processor waits on a new message to arrive in the TProcessorImpl.Process() function, it treats all exceptions identically, causing the function to return False when an exception is raised.  When returning false, the server treats this as an error, aborts the processing loop and subsequently aborts the connection, tears down all connection information and then waits for a new connection.&lt;/p&gt;

&lt;p&gt;However, this is undesired in the situation where a message hasn&apos;t arrived for longer than the configured timeout of the connection.  In this instance, the server shouldn&apos;t consider the timeout to be an error, because it is desired to have the server continue running even when an RPC call hasn&apos;t been received in longer than the duration of the timeout.&lt;/p&gt;

&lt;p&gt;The patch fixes this issue by catching the timeout exception and returning success even when a timeout occurs, allowing the server to continue execution with the current connection.  This behavior mirrors what happens in the C++ library in TConnectedClient.cpp, where in TConnectedClient.run(), TIMED_OUT exception types don&apos;t cause the processing loop to abort.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12962474">THRIFT-3797</key>
            <summary>Generated Delphi processor shouldn&apos;t error out on timed out exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="KyleJ61782">Kyle Johnson</assignee>
                                    <reporter username="KyleJ61782">Kyle Johnson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Apr 2016 04:11:10 +0000</created>
                <updated>Fri, 12 Aug 2016 01:29:48 +0000</updated>
                            <resolved>Fri, 29 Apr 2016 21:35:55 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Delphi - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15257539" author="githubbot" created="Tue, 26 Apr 2016 04:15:01 +0000"  >&lt;p&gt;GitHub user kjpowerworld opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/994&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/994&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3797&quot; title=&quot;Generated Delphi processor shouldn&amp;#39;t error out on timed out exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3797&quot;&gt;&lt;del&gt;THRIFT-3797&lt;/del&gt;&lt;/a&gt;: Generated Delphi processor shouldn&apos;t error out on timed out exceptions&lt;/p&gt;

&lt;p&gt;    See extensive comment in JIRA.  However, this code mirrors what happens in TConnectedClient.cpp, where TConnectedClient.run() doesn&apos;t abort the processing loop when a timeout occurs, because a timeout isn&apos;t an error condition when waiting for a new RPC call to arrive.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/powerworld/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/powerworld/thrift&lt;/a&gt; fixes/&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3797&quot; title=&quot;Generated Delphi processor shouldn&amp;#39;t error out on timed out exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3797&quot;&gt;&lt;del&gt;THRIFT-3797&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/994.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/994.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #994&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 269c00040c78f355b76e207bdd2345f2b8605a6b&lt;br/&gt;
Author: Kyle Johnson &amp;lt;kyle@powerworld.com&amp;gt;&lt;br/&gt;
Date:   2016-04-26T04:00:54Z&lt;/p&gt;

&lt;p&gt;    Server processor should ignore timed out exceptions when waiting for a new message to arrive.  Timing out is not an error in this case.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15258642" author="jensg" created="Tue, 26 Apr 2016 18:29:07 +0000"  >&lt;p&gt;Looking at it.&lt;/p&gt;</comment>
                            <comment id="15264239" author="kylej61782" created="Fri, 29 Apr 2016 15:58:03 +0000"  >&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="15264780" author="githubbot" created="Fri, 29 Apr 2016 21:30:33 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/994&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/994&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15264798" author="jensg" created="Fri, 29 Apr 2016 21:35:55 +0000"  >&lt;p&gt;Committed, thanks.&lt;/p&gt;</comment>
                            <comment id="15268006" author="hudson" created="Tue, 3 May 2016 03:12:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift-precommit #451 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/451/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/451/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3797&quot; title=&quot;Generated Delphi processor shouldn&amp;#39;t error out on timed out exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3797&quot;&gt;&lt;del&gt;THRIFT-3797&lt;/del&gt;&lt;/a&gt; Generated Delphi processor shouldn&apos;t error out on timed out (jensg: &lt;a href=&quot;https://github.com/apache/thrift/commit/f5972c9682744014c9d825c3ccd9200e44449c6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/f5972c9682744014c9d825c3ccd9200e44449c6e&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_delphi_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wqaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>