<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:21:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3307] Segfault in Ruby serializer</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3307</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When attempting to serialize a malformed union, the serializer segfaults.&lt;/p&gt;

&lt;p&gt;This simple case reproduces the issue:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test.thrift&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;struct Child {
}

union Parent {
  1: optional Child child
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code is generated with &lt;tt&gt;thrift --gen rb test.thrift&lt;/tt&gt;. &lt;/p&gt;

&lt;p&gt;Running the following script produces the segfault:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test.rb&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;require &apos;./gen-rb/test_types.rb&apos;

Thrift::Serializer.new.serialize(Parent.new({ foo: :bar }))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m using Ruby version &lt;tt&gt;2.1.5p273 (2014-11-13 revision 48405)&lt;/tt&gt;, and Thrift version 0.9.2&lt;/p&gt;

&lt;p&gt;Ruby prints the following when running the script:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/serializer.rb:29: [BUG] Segmentation fault at 0x00000000000018
ruby 2.1.5p273 (2014-11-13 revision 48405) [x86_64-darwin14.0]

-- Crash Report log information --------------------------------------------
   See Crash Report log file under the one of following:
     * ~/Library/Logs/CrashReporter
     * /Library/Logs/CrashReporter
     * ~/Library/Logs/DiagnosticReports
     * /Library/Logs/DiagnosticReports
   &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more details.

-- Control frame information -----------------------------------------------
c:0004 p:---- s:0012 e:000011 CFUNC  :write
c:0003 p:0019 s:0008 e:000007 METHOD /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/serializer.rb:29
c:0002 p:0038 s:0004 E:0003f8 EVAL   test.rb:3 [FINISH]
c:0001 p:0000 s:0002 E:001ff8 TOP    [FINISH]

test.rb:3:in `&amp;lt;main&amp;gt;&apos;
/Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/serializer.rb:29:in `serialize&apos;
/Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/serializer.rb:29:in `write&apos;

-- C level backtrace information -------------------------------------------
0   ruby                                0x0000000109a6ce50 rb_vm_bugreport + 144
1   ruby                                0x000000010991e9b1 report_bug + 305
2   ruby                                0x000000010991e874 rb_bug + 180
3   ruby                                0x00000001099ef1bc sigsegv + 156
4   libsystem_platform.dylib            0x00007fff98f75f1a _sigtramp + 26
5   ruby                                0x0000000109947191 rb_hash_aref + 17
6   ???                                 0x0000000000000008 0x0 + 8

-- Other runtime information -----------------------------------------------

* Loaded script: test.rb

* Loaded features:

    0 enumerator.so
    1 enc/encdb.so
    2 enc/trans/transdb.so
    3 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/x86_64-darwin14.0/rbconfig.rb
    4 thread.rb
    5 thread.so
    6 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/compatibility.rb
    7 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/defaults.rb
    8 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/deprecate.rb
    9 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/errors.rb
   10 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/version.rb
   11 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/requirement.rb
   12 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/platform.rb
   13 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/basic_specification.rb
   14 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/stub_specification.rb
   15 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/util/stringio.rb
   16 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/specification.rb
   17 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/exceptions.rb
   18 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_gem.rb
   19 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/monitor.rb
   20 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/core_ext/kernel_require.rb
   21 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems.rb
   22 pathname.so
   23 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/pathname.rb
   24 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/constants.rb
   25 io/console.so
   26 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/user_interaction.rb
   27 etc.so
   28 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/config_file.rb
   29 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/rubygems_integration.rb
   30 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/current_ruby.rb
   31 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/dependency.rb
   32 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/shared_helpers.rb
   33 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/fileutils.rb
   34 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/gem_path_manipulation.rb
   35 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/gem_helpers.rb
   36 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/match_platform.rb
   37 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/rubygems_ext.rb
   38 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/version.rb
   39 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler.rb
   40 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/settings.rb
   41 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/path_support.rb
   42 digest.so
   43 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/digest.rb
   44 digest/sha1.so
   45 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/set.rb
   46 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/definition.rb
   47 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/dependency.rb
   48 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/ruby_dsl.rb
   49 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/dsl.rb
   50 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/source_list.rb
   51 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/source.rb
   52 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/common.rb
   53 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.rb
   54 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/ftp.rb
   55 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/http.rb
   56 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/https.rb
   57 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/ldap.rb
   58 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/ldaps.rb
   59 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri/mailto.rb
   60 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/uri.rb
   61 socket.so
   62 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/socket.rb
   63 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/timeout.rb
   64 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/protocol.rb
   65 zlib.so
   66 stringio.so
   67 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/exceptions.rb
   68 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/header.rb
   69 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/generic_request.rb
   70 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/request.rb
   71 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/requests.rb
   72 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/response.rb
   73 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/responses.rb
   74 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/proxy_delta.rb
   75 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http/backward.rb
   76 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/http.rb
   77 date_core.so
   78 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/date/format.rb
   79 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/date.rb
   80 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/time.rb
   81 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/request/http_pool.rb
   82 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/request/https_pool.rb
   83 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/request/connection_pools.rb
   84 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/request.rb
   85 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/cgi/core.rb
   86 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/cgi/util.rb
   87 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/cgi/cookie.rb
   88 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/cgi.rb
   89 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/uri_formatter.rb
   90 fcntl.so
   91 openssl.so
   92 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/bn.rb
   93 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/cipher.rb
   94 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/config.rb
   95 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/digest.rb
   96 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/x509.rb
   97 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/buffering.rb
   98 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl/ssl.rb
   99 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/openssl.rb
  100 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/securerandom.rb
  101 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/resolv.rb
  102 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/remote_fetcher.rb
  103 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/text.rb
  104 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/name_tuple.rb
  105 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/site_ruby/2.1.0/rubygems/spec_fetcher.rb
  106 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/source/rubygems.rb
  107 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/ruby_version.rb
  108 strscan.so
  109 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/source/path.rb
  110 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/source/git.rb
  111 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/lockfile_parser.rb
  112 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/lazy_specification.rb
  113 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/tsort.rb
  114 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/forwardable.rb
  115 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/spec_set.rb
  116 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/environment.rb
  117 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/runtime.rb
  118 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/index.rb
  119 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/remote_specification.rb
  120 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/endpoint_specification.rb
  121 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/dep_proxy.rb
  122 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/bundler-1.7.6/lib/bundler/setup.rb
  123 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/bytes.rb
  124 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/core_ext/fixnum.rb
  125 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/core_ext.rb
  126 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/exceptions.rb
  127 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/types.rb
  128 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/processor.rb
  129 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/client.rb
  130 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/struct.rb
  131 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/union.rb
  132 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/struct_union.rb
  133 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/serializer.rb
  134 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/serializer/deserializer.rb
  135 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/protocol/base_protocol.rb
  136 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/protocol/binary_protocol.rb
  137 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/protocol/binary_protocol_accelerated.rb
  138 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/protocol/compact_protocol.rb
  139 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/protocol/json_protocol.rb
  140 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/base_transport.rb
  141 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/base_server_transport.rb
  142 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/socket.rb
  143 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/server_socket.rb
  144 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/unix_socket.rb
  145 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/unix_server_socket.rb
  146 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/buffered_transport.rb
  147 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/framed_transport.rb
  148 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/net/https.rb
  149 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/http_client_transport.rb
  150 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/io_stream_transport.rb
  151 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/transport/memory_buffer_transport.rb
  152 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/server/base_server.rb
  153 /Users/joe/.rvm/rubies/ruby-2.1.5/lib/ruby/2.1.0/logger.rb
  154 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/server/nonblocking_server.rb
  155 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/server/simple_server.rb
  156 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/server/threaded_server.rb
  157 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/server/thread_pool_server.rb
  158 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift_native.bundle
  159 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift/thrift_native.rb
  160 /Users/joe/.rvm/gems/ruby-2.1.5@global/gems/thrift-0.9.2.0/lib/thrift.rb
  161 /&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;/tmp/segfault/gen-rb/test_types.rb

[NOTE]
You may have encountered a bug in the Ruby interpreter or extension libraries.
Bug reports are welcome.
Don&apos;t forget to include the above Crash Report log file.
For details: http:&lt;span class=&quot;code-comment&quot;&gt;//www.ruby-lang.org/bugreport.html
&lt;/span&gt;
Abort trap: 6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;OS X 10.10.4&lt;/p&gt;</environment>
        <key id="12858688">THRIFT-3307</key>
            <summary>Segfault in Ruby serializer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jennever">Joe Ennever</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Aug 2015 17:09:32 +0000</created>
                <updated>Wed, 6 Jan 2016 02:06:14 +0000</updated>
                            <resolved>Sun, 8 Nov 2015 16:52:25 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14723897" author="githubbot" created="Mon, 31 Aug 2015 19:25:27 +0000"  >&lt;p&gt;GitHub user JoeEnnever opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/597&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3307&quot; title=&quot;Segfault in Ruby serializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3307&quot;&gt;&lt;del&gt;THRIFT-3307&lt;/del&gt;&lt;/a&gt; Raise an error when trying to serialize a union with an i&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;ncorrect set_field.&lt;/p&gt;

&lt;p&gt;    Previously this would cause a segfault&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dwnld/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dwnld/thrift&lt;/a&gt; THRIFT-33307-cherry-pick&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/597.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/597.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #597&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5175f3fa938b5525f0470498251da6d7411f76d8&lt;br/&gt;
Author: Joe Ennever &amp;lt;joe@dwnld.me&amp;gt;&lt;br/&gt;
Date:   2015-08-31T19:20:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3307&quot; title=&quot;Segfault in Ruby serializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3307&quot;&gt;&lt;del&gt;THRIFT-3307&lt;/del&gt;&lt;/a&gt; Raise an error when trying to serialize a union with an incorrect set_field&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14995659" author="githubbot" created="Sun, 8 Nov 2015 15:04:41 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/597&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14995669" author="hudson" created="Sun, 8 Nov 2015 15:18:13 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1716 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1716/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1716/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3307&quot; title=&quot;Segfault in Ruby serializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3307&quot;&gt;&lt;del&gt;THRIFT-3307&lt;/del&gt;&lt;/a&gt; Raise an error when trying to serialize a union with an (nsuke: rev 5b15f8c55f8f26644f40a9ccbbf339f6f84dacd0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/rb/ext/struct.c&lt;/li&gt;
	&lt;li&gt;lib/rb/spec/union_spec.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14995704" author="nsuke" created="Sun, 8 Nov 2015 16:52:25 +0000"  >&lt;p&gt;Committed, thanks Joe !&lt;/p&gt;</comment>
                            <comment id="14996579" author="jennever" created="Mon, 9 Nov 2015 14:21:05 +0000"  >&lt;p&gt;Thank you for accepting my patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jcof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>