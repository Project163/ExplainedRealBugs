<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:22:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3555] &apos;configure&apos; script does not honor --with-openssl=&lt;path&gt; for libcrypto for BN_init</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3555</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When running the &apos;configure&apos; script to set up the thrift build environment, the path supplied to the &apos;with-openssl=&amp;lt;path&amp;gt;&apos; option is not honored for all tests within the script where libcrypto is required.&lt;/p&gt;

&lt;p&gt;For the first part of the script the path is indeed honored.  For example, at line 17316 (&quot;checking whether compiling and linking against OpenSSL works&quot;) it can be easily validated (via strace and/or bash script debugging) that the correct user-supplied path to a particular OpenSSL library is being used.&lt;/p&gt;

&lt;p&gt;However, later in the script, at line 23292 (&quot;checking for BN_init in -lcrypto...&quot;) this is not the case.  Again this can readily verified (via strace and/or bash script debugging) that the user supplied path is skipped entirely, and only the O/S system-defined default library paths are searched for libcrypto.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12931534">THRIFT-3555</key>
            <summary>&apos;configure&apos; script does not honor --with-openssl=&lt;path&gt; for libcrypto for BN_init</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nsuke">Nobuaki Sukegawa</assignee>
                                    <reporter username="pbutler@sonusnet.com">Peter Butler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jan 2016 18:32:05 +0000</created>
                <updated>Fri, 19 Feb 2016 02:17:49 +0000</updated>
                            <resolved>Sat, 23 Jan 2016 15:33:43 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15103971" author="roger.meier" created="Sun, 17 Jan 2016 23:11:39 +0000"  >&lt;p&gt;Do you already have a patch?&lt;br/&gt;
see &lt;a href=&quot;https://thrift.apache.org/docs/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://thrift.apache.org/docs/HowToContribute&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15105400" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 15:04:21 +0000"  >&lt;p&gt;No I do not.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Indeed I am still stuck on this issue and it is holding me back on another project that depends on thrift...&lt;/p&gt;</comment>
                            <comment id="15105479" author="nsuke" created="Mon, 18 Jan 2016 16:21:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2887&quot; title=&quot;--with-openssl configure flag is ignored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2887&quot;&gt;&lt;del&gt;THRIFT-2887&lt;/del&gt;&lt;/a&gt; should have removed the old check.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pbutler%40sonusnet.com&quot; class=&quot;user-hover&quot; rel=&quot;pbutler@sonusnet.com&quot;&gt;pbutler@sonusnet.com&lt;/a&gt; you can try CMake build which should already respect custom location of OpenSSL.&lt;/p&gt;</comment>
                            <comment id="15105480" author="githubbot" created="Mon, 18 Jan 2016 16:22:08 +0000"  >&lt;p&gt;GitHub user nsuke opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3555&quot; title=&quot;&amp;#39;configure&amp;#39; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3555&quot;&gt;&lt;del&gt;THRIFT-3555&lt;/del&gt;&lt;/a&gt; &apos;configure&apos; script does not honor --with-openssl=&amp;lt;path&amp;gt; f&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;or libcrypto for BN_init&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/nsuke/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nsuke/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3555&quot; title=&quot;&amp;#39;configure&amp;#39; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3555&quot;&gt;&lt;del&gt;THRIFT-3555&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/805.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/805.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #805&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c2dd313c9a220479ad409bb519187fa9fd503f28&lt;br/&gt;
Author: Nobuaki Sukegawa &amp;lt;nsuke@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-01-18T15:48:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3555&quot; title=&quot;&amp;#39;configure&amp;#39; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3555&quot;&gt;&lt;del&gt;THRIFT-3555&lt;/del&gt;&lt;/a&gt; &apos;configure&apos; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15105497" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 16:39:00 +0000"  >&lt;p&gt;I&apos;ve tried adding your patch &lt;b&gt;manually&lt;/b&gt; (not via GIT) to the official thrift 0.9.3 code and I get the same problem.  Was your patch meant to be applied directly to the official 0.9.3 code or rather to the latest and greatest in the GIT repository?&lt;/p&gt;
</comment>
                            <comment id="15105506" author="nsuke" created="Mon, 18 Jan 2016 16:46:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pbutler%40sonusnet.com&quot; class=&quot;user-hover&quot; rel=&quot;pbutler@sonusnet.com&quot;&gt;pbutler@sonusnet.com&lt;/a&gt; it&apos;s meat for master branch but it should be OK for 0.9.3.&lt;br/&gt;
Did you regenerate configure script by running ./bootstrap.sh ?&lt;/p&gt;</comment>
                            <comment id="15105520" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 16:56:58 +0000"  >&lt;p&gt;No bootstrap.sh file even exists in 0.9.3, other than in this subdirectory:&lt;/p&gt;

&lt;p&gt;thrift-0.9.3/contrib/fb303/bootstrap.sh&lt;/p&gt;

&lt;p&gt;Note that I am using 0.9.3 as released from the Apache web site - not from the GIT repository.  Perhaps the bootstrap file was added &lt;b&gt;after&lt;/b&gt; 0.9.3 was officially released?&lt;/p&gt;</comment>
                            <comment id="15105527" author="nsuke" created="Mon, 18 Jan 2016 17:06:28 +0000"  >&lt;p&gt;No it&apos;s not added recently.&lt;br/&gt;
I guess it&apos;s being excluded from release archives because it&apos;s only for developers.&lt;br/&gt;
I recommend downloading the file from github if you want to avoid git clone.&lt;/p&gt;

&lt;p&gt;Alternatively running &lt;tt&gt;autoreconf -if&lt;/tt&gt; may be enough.&lt;/p&gt;</comment>
                            <comment id="15105533" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 17:11:05 +0000"  >&lt;p&gt;I don&apos;t mind doing a git clone - I was merely using the thrift version on the Apache website as I wanted to use an &apos;official&apos; release as this will be going into a production environment.&lt;/p&gt;

&lt;p&gt;Should I therefore perform a clone of your changes as follows?&lt;/p&gt;

&lt;p&gt;git clone &lt;a href=&quot;https://github.com/nsuke/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nsuke/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3555&quot; title=&quot;&amp;#39;configure&amp;#39; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3555&quot;&gt;&lt;del&gt;THRIFT-3555&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15105541" author="nsuke" created="Mon, 18 Jan 2016 17:17:42 +0000"  >&lt;p&gt;yes, that is master branch with the patch only.&lt;/p&gt;</comment>
                            <comment id="15105549" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 17:28:11 +0000"  >&lt;p&gt;OK I just tried it from scratch with the version checked-out from GIT and the bootstrap, configure and make all work without error.  &lt;/p&gt;

&lt;p&gt;I have not debugged yet to validate that the version of openssl that the make uses/links is indeed the correct one, but at least the scripts are no longer complaining.&lt;/p&gt;

&lt;p&gt;Many thanks for your help!&lt;/p&gt;</comment>
                            <comment id="15105875" author="pbutler@sonusnet.com" created="Mon, 18 Jan 2016 22:04:18 +0000"  >&lt;p&gt;BTW did you revert that patch out?  If I now perform a &quot;git clone &lt;a href=&quot;https://github.com/nsuke/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nsuke/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3555&quot; title=&quot;&amp;#39;configure&amp;#39; script does not honor --with-openssl=&amp;lt;path&amp;gt; for libcrypto for BN_init&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3555&quot;&gt;&lt;del&gt;THRIFT-3555&lt;/del&gt;&lt;/a&gt;&quot; from scratch the changes don&apos;t appear to be there and once again the configure script fails.&lt;/p&gt;

&lt;p&gt;I can, however, manually perform your patch on the cloned code and then it works.&lt;/p&gt;

&lt;p&gt;Just curious...&lt;/p&gt;</comment>
                            <comment id="15111412" author="githubbot" created="Thu, 21 Jan 2016 22:18:27 +0000"  >&lt;p&gt;Github user bufferoverflow commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/805#issuecomment-173731839&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/805#issuecomment-173731839&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1&lt;/p&gt;</comment>
                            <comment id="15113783" author="githubbot" created="Sat, 23 Jan 2016 15:22:19 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/805&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15113795" author="nsuke" created="Sat, 23 Jan 2016 15:33:43 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rj9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>