<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:22:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3437] Mingw-w64 build fail</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3437</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When building Thrift code under MinGW-w64, I got a compilation failure, due to the following problems:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Missing ws2_32 library link in CMakeLists.txt file&lt;/li&gt;
	&lt;li&gt;conflict with boost/tr1/functional.hpp, when using BOOST_THREAD&lt;/li&gt;
	&lt;li&gt;AI_ADDRCONFIG missing when Win32 version lower than 0x0600&lt;/li&gt;
	&lt;li&gt;Missing _&lt;em&gt;MINGW32&lt;/em&gt;_ define&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests fail due to getsockname due to:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;different Win32 getsockname behavior&lt;/li&gt;
	&lt;li&gt;BOOST_TEST_DYN_LINK not supported&lt;/li&gt;
	&lt;li&gt;Q_MOC_RUN / Boost conflict during build&lt;/li&gt;
	&lt;li&gt;mkstemp not supported (cause _mktemp_s should be used)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Solved with pull request &quot;Fixed MinGW-w64 build &amp;amp;&amp;amp; boost/functional conflict #628&quot;&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows XP/7/8/10&lt;/p&gt;</environment>
        <key id="12915179">THRIFT-3437</key>
            <summary>Mingw-w64 build fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tony@becrux.com">Antonio Di Monaco</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sun, 22 Nov 2015 18:30:19 +0000</created>
                <updated>Wed, 6 Jan 2016 02:06:17 +0000</updated>
                            <resolved>Tue, 5 Jan 2016 19:39:34 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15021119" author="githubbot" created="Sun, 22 Nov 2015 18:35:16 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-158787586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-158787586&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the suggestion, @nsuke.&lt;/p&gt;

&lt;p&gt;    I&apos;ve created the following issue on JIRA:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-3437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Unfortunately, I was not able to &quot;link&quot; it to the pull request. Should I do something more?&lt;/p&gt;

&lt;p&gt;    Thanks,&lt;br/&gt;
    A.&lt;/p&gt;
</comment>
                            <comment id="15021667" author="githubbot" created="Mon, 23 Nov 2015 07:25:51 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45576725&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45576725&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/qt/TQTcpServerTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -1,18 +1,23 @@&lt;br/&gt;
     #define BOOST_TEST_MODULE TQTcpServerTest&lt;br/&gt;
     #include &amp;lt;QTest&amp;gt;&lt;br/&gt;
    -#include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +#ifndef Q_MOC_RUN&lt;br/&gt;
    +  #include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Please put it to #ifdef below as reordering seems OK here.&lt;/p&gt;</comment>
                            <comment id="15021670" author="githubbot" created="Mon, 23 Nov 2015 07:28:04 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45576807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45576807&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -25,6 +25,10 @@ include_directories(SYSTEM &quot;${Boost_INCLUDE_DIRS}&quot;)&lt;br/&gt;
     #Make sure gen-cpp files can be included&lt;br/&gt;
     include_directories(&quot;${CMAKE_CURRENT_BINARY_DIR}&quot;)&lt;/p&gt;

&lt;p&gt;    +if (MINGW)&lt;br/&gt;
    +  add_definitions(-DBOOST_TEST_DYN_LINK)&lt;br/&gt;
    +endif()&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think `BOOST_TEST_DYN_LINK` is related to mingw.&lt;br/&gt;
    You may want to pass it to cmake by `-DCMAKE_CXX_FLAGS=&quot;-D...&quot;` option instead.&lt;/p&gt;</comment>
                            <comment id="15021673" author="githubbot" created="Mon, 23 Nov 2015 07:29:52 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45576872&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45576872&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/SecurityTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -108,8 +108,13 @@ struct SecurityFixture : public TestPortFixture&lt;/p&gt;

&lt;p&gt;                 pServerSocketFactory.reset(new TSSLSocketFactory(static_cast&amp;lt;apache::thrift::transport::SSLProtocol&amp;gt;(protocol)));&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;ciphers(&quot;ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH&quot;);&lt;br/&gt;
    +          #ifdef BOOST_WINDOWS_API&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).string().c_str());&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).string().c_str());&lt;br/&gt;
    +          #else&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).native().c_str());&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).native().c_str());&lt;br/&gt;
    +          #endif&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;server(true);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Please  remove original lines and #ifdef here and below, as `string()` should not do any harm on Unix too.&lt;/p&gt;</comment>
                            <comment id="15021674" author="githubbot" created="Mon, 23 Nov 2015 07:32:43 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45576978&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45576978&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/windows/GetTimeOfDay.cpp &amp;#8212;&lt;br/&gt;
    @@ -23,17 +23,28 @@&lt;br/&gt;
     // win32&lt;br/&gt;
     #include &amp;lt;time.h&amp;gt;&lt;/p&gt;

&lt;p&gt;    +#if defined(_&lt;em&gt;MINGW32&lt;/em&gt;_)&lt;br/&gt;
    +  #include &amp;lt;sys/time.h&amp;gt;&lt;br/&gt;
    +#endif&lt;br/&gt;
    +&lt;br/&gt;
     #if defined(_MSC_VER) || defined(_MSC_EXTENSIONS)&lt;br/&gt;
     #define DELTA_EPOCH_IN_MICROSECS 11644473600000000Ui64&lt;br/&gt;
     #else&lt;br/&gt;
     #define DELTA_EPOCH_IN_MICROSECS 11644473600000000ULL&lt;br/&gt;
     #endif&lt;/p&gt;

&lt;p&gt;    +#if !defined(_&lt;em&gt;MINGW32&lt;/em&gt;_)&lt;br/&gt;
     struct timezone &lt;/p&gt;
{
       int tz_minuteswest; /* minutes W of Greenwich */
       int tz_dsttime;     /* type of dst correction */
     }
&lt;p&gt;;&lt;br/&gt;
    +#endif&lt;/p&gt;

&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Would you merge  this `#if !` to `#else` below ? It seems integral  part.&lt;/p&gt;
</comment>
                            <comment id="15021677" author="githubbot" created="Mon, 23 Nov 2015 07:34:42 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45577051&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45577051&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/OpenSSLManualInitTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -67,6 +67,22 @@ void test_openssl_availability() &lt;/p&gt;
{
       openssl_cleanup();
     }

&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Just an idea but BOOST_TEST_MAIN or (even better) BOOST_TEST_MODULE work instead of these `main`s ?&lt;/p&gt;

&lt;p&gt;    I&apos;m fine with the current approach, though.&lt;br/&gt;
    We have a bug report for boost test dynamic linking and this certainly solves it and it&apos;s great.&lt;/p&gt;</comment>
                            <comment id="15021684" author="githubbot" created="Mon, 23 Nov 2015 07:42:43 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45577368&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45577368&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/TFileTransportTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -91,19 +99,35 @@ class FsyncLog {&lt;br/&gt;
     class TempFile {&lt;br/&gt;
     public:&lt;br/&gt;
       TempFile(const char* directory, const char* prefix) {&lt;br/&gt;
    +  #ifdef _&lt;em&gt;MINGW32&lt;/em&gt;_&lt;br/&gt;
    +    size_t path_len = strlen(prefix) + 8;&lt;br/&gt;
    +    path_ = new char&lt;span class=&quot;error&quot;&gt;&amp;#91;path_len&amp;#93;&lt;/span&gt;;&lt;br/&gt;
    +    snprintf(path_, path_len, &quot;%sXXXXXX&quot;, prefix);&lt;br/&gt;
    +    if (&lt;em&gt;mktemp_s(path&lt;/em&gt;,path_len) == 0) {&lt;br/&gt;
    +      fd_ = open(path_,O_CREAT | O_RDWR | O_BINARY,S_IREAD | S_IWRITE);&lt;br/&gt;
    +      if (fd_ &amp;lt; 0) &lt;/p&gt;
{
    +        throw apache::thrift::TException(&quot;_mktemp_s() failed&quot;);
    +      }
&lt;p&gt;    +    } else &lt;/p&gt;
{
    +      throw apache::thrift::TException(&quot;_mktemp_s() failed&quot;);
    +    }
&lt;p&gt;    +  #else&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    What is the purpose here ? mkstemp does not exist ?&lt;br/&gt;
    `directory` arg value being &quot;/tmp&quot; seems problematic though...&lt;/p&gt;</comment>
                            <comment id="15021691" author="githubbot" created="Mon, 23 Nov 2015 07:52:11 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45577791&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45577791&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Maybe `getsockname` does not truncate the result but instead fails when struct is too small ?&lt;br/&gt;
    Is it whole Win32 API spec or mingw only bug ?&lt;/p&gt;</comment>
                            <comment id="15021715" author="githubbot" created="Mon, 23 Nov 2015 08:17:46 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579147&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579147&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/qt/TQTcpServerTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -1,18 +1,23 @@&lt;br/&gt;
     #define BOOST_TEST_MODULE TQTcpServerTest&lt;br/&gt;
     #include &amp;lt;QTest&amp;gt;&lt;br/&gt;
    -#include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +#ifndef Q_MOC_RUN&lt;br/&gt;
    +  #include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Sorry, I didn&apos;t get what you mean. In my build, moc conflicts with boost headers, that&apos;s why I added it. Do you have a different method?&lt;/p&gt;</comment>
                            <comment id="15021717" author="githubbot" created="Mon, 23 Nov 2015 08:19:40 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579221&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579221&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -25,6 +25,10 @@ include_directories(SYSTEM &quot;${Boost_INCLUDE_DIRS}&quot;)&lt;br/&gt;
     #Make sure gen-cpp files can be included&lt;br/&gt;
     include_directories(&quot;${CMAKE_CURRENT_BINARY_DIR}&quot;)&lt;/p&gt;

&lt;p&gt;    +if (MINGW)&lt;br/&gt;
    +  add_definitions(-DBOOST_TEST_DYN_LINK)&lt;br/&gt;
    +endif()&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    You&apos;re right, it&apos;s not related to mingw strictly, it&apos;s related to the way you build Boost under MinGW. Your idea is fine, I was finding a way to detect if Boost requires dynamic linking automatically, but I didn&apos;t find any method. We could ignore this diff, if that&apos;s not possible.&lt;/p&gt;</comment>
                            <comment id="15021721" author="githubbot" created="Mon, 23 Nov 2015 08:21:14 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579296&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579296&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/qt/TQTcpServerTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -1,18 +1,23 @@&lt;br/&gt;
     #define BOOST_TEST_MODULE TQTcpServerTest&lt;br/&gt;
     #include &amp;lt;QTest&amp;gt;&lt;br/&gt;
    -#include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    +&lt;br/&gt;
    +#ifndef Q_MOC_RUN&lt;br/&gt;
    +  #include &amp;lt;boost/smart_ptr.hpp&amp;gt;&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Oh I just meant to put it to another `#ifndef Q_MOC_RUN` below.&lt;/p&gt;</comment>
                            <comment id="15021722" author="githubbot" created="Mon, 23 Nov 2015 08:21:15 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/SecurityTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -108,8 +108,13 @@ struct SecurityFixture : public TestPortFixture&lt;/p&gt;

&lt;p&gt;                 pServerSocketFactory.reset(new TSSLSocketFactory(static_cast&amp;lt;apache::thrift::transport::SSLProtocol&amp;gt;(protocol)));&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;ciphers(&quot;ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH&quot;);&lt;br/&gt;
    +          #ifdef BOOST_WINDOWS_API&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).string().c_str());&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).string().c_str());&lt;br/&gt;
    +          #else&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).native().c_str());&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).native().c_str());&lt;br/&gt;
    +          #endif&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;server(true);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    But if fails with MinGW, due to a conflict between string / wstring, when using &quot;native&quot; or &quot;string&quot; method.&lt;/p&gt;

&lt;p&gt;    Here too, if you have a more portable method, please modify it at will.&lt;/p&gt;</comment>
                            <comment id="15021724" author="githubbot" created="Mon, 23 Nov 2015 08:22:45 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579380&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579380&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/TFileTransportTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -91,19 +99,35 @@ class FsyncLog {&lt;br/&gt;
     class TempFile {&lt;br/&gt;
     public:&lt;br/&gt;
       TempFile(const char* directory, const char* prefix) {&lt;br/&gt;
    +  #ifdef _&lt;em&gt;MINGW32&lt;/em&gt;_&lt;br/&gt;
    +    size_t path_len = strlen(prefix) + 8;&lt;br/&gt;
    +    path_ = new char&lt;span class=&quot;error&quot;&gt;&amp;#91;path_len&amp;#93;&lt;/span&gt;;&lt;br/&gt;
    +    snprintf(path_, path_len, &quot;%sXXXXXX&quot;, prefix);&lt;br/&gt;
    +    if (&lt;em&gt;mktemp_s(path&lt;/em&gt;,path_len) == 0) {&lt;br/&gt;
    +      fd_ = open(path_,O_CREAT | O_RDWR | O_BINARY,S_IREAD | S_IWRITE);&lt;br/&gt;
    +      if (fd_ &amp;lt; 0) &lt;/p&gt;
{
    +        throw apache::thrift::TException(&quot;_mktemp_s() failed&quot;);
    +      }
&lt;p&gt;    +    } else &lt;/p&gt;
{
    +      throw apache::thrift::TException(&quot;_mktemp_s() failed&quot;);
    +    }
&lt;p&gt;    +  #else&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    mkstemp is not available under MinGW-w64. _mktemp_s is the natural replacement. Unfortunately, MinGW-w64 headers do not provide an automatic define to replace _mktemp_s with mkstemp.&lt;/p&gt;</comment>
                            <comment id="15021725" author="githubbot" created="Mon, 23 Nov 2015 08:23:56 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579441&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/windows/GetTimeOfDay.cpp &amp;#8212;&lt;br/&gt;
    @@ -23,17 +23,28 @@&lt;br/&gt;
     // win32&lt;br/&gt;
     #include &amp;lt;time.h&amp;gt;&lt;/p&gt;

&lt;p&gt;    +#if defined(_&lt;em&gt;MINGW32&lt;/em&gt;_)&lt;br/&gt;
    +  #include &amp;lt;sys/time.h&amp;gt;&lt;br/&gt;
    +#endif&lt;br/&gt;
    +&lt;br/&gt;
     #if defined(_MSC_VER) || defined(_MSC_EXTENSIONS)&lt;br/&gt;
     #define DELTA_EPOCH_IN_MICROSECS 11644473600000000Ui64&lt;br/&gt;
     #else&lt;br/&gt;
     #define DELTA_EPOCH_IN_MICROSECS 11644473600000000ULL&lt;br/&gt;
     #endif&lt;/p&gt;

&lt;p&gt;    +#if !defined(_&lt;em&gt;MINGW32&lt;/em&gt;_)&lt;br/&gt;
     struct timezone &lt;/p&gt;
{
       int tz_minuteswest; /* minutes W of Greenwich */
       int tz_dsttime;     /* type of dst correction */
     }
&lt;p&gt;;&lt;br/&gt;
    +#endif&lt;/p&gt;

&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yes, I can merge it, you&apos;re right.&lt;/p&gt;</comment>
                            <comment id="15021726" author="githubbot" created="Mon, 23 Nov 2015 08:25:30 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579512&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/SecurityTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -108,8 +108,13 @@ struct SecurityFixture : public TestPortFixture&lt;/p&gt;

&lt;p&gt;                 pServerSocketFactory.reset(new TSSLSocketFactory(static_cast&amp;lt;apache::thrift::transport::SSLProtocol&amp;gt;(protocol)));&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;ciphers(&quot;ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH&quot;);&lt;br/&gt;
    +          #ifdef BOOST_WINDOWS_API&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).string().c_str());&lt;br/&gt;
    +            pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).string().c_str());&lt;br/&gt;
    +          #else&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadCertificate(certFile(&quot;server.crt&quot;).native().c_str());&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;loadPrivateKey(certFile(&quot;server.key&quot;).native().c_str());&lt;br/&gt;
    +          #endif&lt;br/&gt;
                 pServerSocketFactory-&amp;gt;server(true);&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I don&apos;t get it. You are using &quot;string&quot; not &quot;wstring&quot; method.&lt;br/&gt;
    &quot;string&quot; will be fine for Unix too, so I&apos;d like to keep your version only, removing original &quot;native&quot;.&lt;/p&gt;</comment>
                            <comment id="15021728" author="githubbot" created="Mon, 23 Nov 2015 08:25:34 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579517&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579517&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/test/OpenSSLManualInitTest.cpp &amp;#8212;&lt;br/&gt;
    @@ -67,6 +67,22 @@ void test_openssl_availability() &lt;/p&gt;
{
       openssl_cleanup();
     }

&lt;p&gt;    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Frankly speaking, I&apos;m not a Boost.Test expert. I had to Google a lot to find a way that could build and run tests successfully. Please apply any change that could clean the test code, and make it work in any case. My patch could not be the correct way to fix it (even if I can ensure you that it works fine, and all tests are passed).&lt;/p&gt;</comment>
                            <comment id="15021736" author="githubbot" created="Mon, 23 Nov 2015 08:29:27 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45579754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45579754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    getsockname fails cause the buffer is not big enough. If you compare the size of &quot;sockaddr_in&quot; and &quot;sockaddr_storage&quot;, you&apos;ll find out that &quot;sockaddr_storage&quot; has many more fields (due to IPv6 and many other stuff).&lt;/p&gt;

&lt;p&gt;    Some hints here:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;http://stackoverflow.com/questions/14624427/wsaefault-error-when-use-getsockname-function&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/14624427/wsaefault-error-when-use-getsockname-function&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15021740" author="githubbot" created="Mon, 23 Nov 2015 08:34:25 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45580084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45580084&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Sure, and on Unix, the result shall be truncated rather than fail if the size is not enough.&lt;br/&gt;
    What I was wondering is whether the failure is official Windows API spec or MinGW only behavior.&lt;/p&gt;</comment>
                            <comment id="15021747" author="githubbot" created="Mon, 23 Nov 2015 08:38:14 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45580255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45580255&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Well, I do not have an answer, but it seems an official Windows API, cause all &quot;stackoverflow&quot; posts I found are not related to MinGW usage. Even if you search through different blogs &amp;amp; forums, you&apos;ll find the same answer, and MinGW is not mentioned.&lt;/p&gt;

&lt;p&gt;    Moreover, sample code reported in MSDN documentation comments uses getsockname in the same way:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://msdn.microsoft.com/en-us/library/windows/desktop/ms738543(v=vs.85).aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://msdn.microsoft.com/en-us/library/windows/desktop/ms738543(v=vs.85).aspx&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15021752" author="githubbot" created="Mon, 23 Nov 2015 08:44:41 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45580689&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45580689&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    OK, let&apos;s do it, then.&lt;br/&gt;
    Here again, I prefer keeping your version only rather than `#ifdef` for the sake of readability over saving transitive ~100 bytes allocation, unless others disagree.&lt;br/&gt;
    What do you think ? Do you have any concern ?&lt;/p&gt;</comment>
                            <comment id="15021772" author="githubbot" created="Mon, 23 Nov 2015 08:55:46 +0000"  >&lt;p&gt;Github user becrux commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#discussion_r45581352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#discussion_r45581352&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/src/thrift/server/TNonblockingServer.cpp &amp;#8212;&lt;br/&gt;
    @@ -1105,10 +1113,17 @@ void TNonblockingServer::listenSocket(THRIFT_SOCKET s) {&lt;br/&gt;
       serverSocket_ = s;&lt;/p&gt;

&lt;p&gt;       if (!port_) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sockaddr_in addr;&lt;/li&gt;
	&lt;li&gt;socklen_t size = sizeof(addr);&lt;/li&gt;
	&lt;li&gt;if (!getsockname(serverSocket_, reinterpret_cast&amp;lt;sockaddr*&amp;gt;(&amp;amp;addr), &amp;amp;size)) {&lt;/li&gt;
	&lt;li&gt;listenPort_ = ntohs(addr.sin_port);&lt;br/&gt;
    +    #ifdef _WIN32&lt;br/&gt;
    +      struct sockaddr_storage addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = (sockaddr_in *) &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #else&lt;br/&gt;
    +      struct sockaddr_in addr;&lt;br/&gt;
    +      struct sockaddr_in *pAddr = &amp;addr;&lt;br/&gt;
    +      socklen_t size = sizeof(addr);&lt;br/&gt;
    +    #endif
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Yeah, that&apos;s fine for me.&lt;/p&gt;</comment>
                            <comment id="15021773" author="githubbot" created="Mon, 23 Nov 2015 08:56:36 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-158879513&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-158879513&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @nsuke, thanks for all your reviews.&lt;/p&gt;

&lt;p&gt;    Shall I perform a new patch, according to your suggestion?&lt;/p&gt;

&lt;p&gt;    Thanks,&lt;br/&gt;
    A.&lt;/p&gt;
</comment>
                            <comment id="15021805" author="githubbot" created="Mon, 23 Nov 2015 09:11:18 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-158881753&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-158881753&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @becrux, yes, it would be great !&lt;br/&gt;
    Thank you for contributing, it will help others using the platform a lot.&lt;/p&gt;</comment>
                            <comment id="15081270" author="githubbot" created="Mon, 4 Jan 2016 15:24:47 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168705173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168705173&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi @nsuke,&lt;/p&gt;

&lt;p&gt;    really sorry for the delay, I was very busy during last month.&lt;/p&gt;

&lt;p&gt;    I&apos;ve prepared a new patch, according to your suggestions. How can I clean this pull request, and perform a new commit??&lt;/p&gt;

&lt;p&gt;    Thanks,&lt;br/&gt;
    A.&lt;/p&gt;
</comment>
                            <comment id="15081470" author="githubbot" created="Mon, 4 Jan 2016 17:53:31 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168750912&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168750912&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @becrux Thanks for that !&lt;br/&gt;
    You can push your changes to the original branch of this pull request (in your case it seems master branch of your fork) and the changes will be immediately visible here.&lt;br/&gt;
    If you have conflict or something, `git push -f `... should do.&lt;/p&gt;</comment>
                            <comment id="15081477" author="githubbot" created="Mon, 4 Jan 2016 17:55:29 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168751457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168751457&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Well, maybe it&apos;s better to start from the actual master revision ... do you agree?&lt;/p&gt;</comment>
                            <comment id="15081527" author="githubbot" created="Mon, 4 Jan 2016 18:25:09 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168758978&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168758978&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    yes, that would indeed be better.&lt;/p&gt;</comment>
                            <comment id="15081533" author="githubbot" created="Mon, 4 Jan 2016 18:26:23 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168759296&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168759296&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Great. So, I could clean this pull request? Should I create a new one?&lt;/p&gt;</comment>
                            <comment id="15081540" author="githubbot" created="Mon, 4 Jan 2016 18:32:55 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628#issuecomment-168761555&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628#issuecomment-168761555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    It may not be necessary because it will be updated automatically as you update your branch.&lt;br/&gt;
    But it&apos;s also totally fine to close this one and create new one.&lt;/p&gt;</comment>
                            <comment id="15081815" author="githubbot" created="Mon, 4 Jan 2016 21:14:20 +0000"  >&lt;p&gt;Github user becrux closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/628&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/628&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15081899" author="githubbot" created="Mon, 4 Jan 2016 22:08:54 +0000"  >&lt;p&gt;GitHub user becrux opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/771&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/771&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3437&quot; title=&quot;Mingw-w64 build fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3437&quot;&gt;&lt;del&gt;THRIFT-3437&lt;/del&gt;&lt;/a&gt; - Fixed MinGW-w64 build&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/becrux/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/becrux/thrift&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/771.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/771.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #771&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f24fb7db61973aabe1c18fd06d71a5d412dfdc61&lt;br/&gt;
Author: Antonio Di Monaco &amp;lt;tony@becrux.com&amp;gt;&lt;br/&gt;
Date:   2016-01-04T22:05:19Z&lt;/p&gt;

&lt;p&gt;    Fixed MinGW-w64 build&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15081961" author="githubbot" created="Mon, 4 Jan 2016 23:07:52 +0000"  >&lt;p&gt;Github user becrux commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/771#issuecomment-168839987&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/771#issuecomment-168839987&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @nsuke I&apos;ve just committed changes using a new pull request. Hope that they&apos;ll be fine.&lt;/p&gt;

&lt;p&gt;    Thanks,&lt;br/&gt;
    A.&lt;/p&gt;
</comment>
                            <comment id="15083627" author="githubbot" created="Tue, 5 Jan 2016 19:36:09 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/771&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/771&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15083639" author="nsuke" created="Tue, 5 Jan 2016 19:39:34 +0000"  >&lt;p&gt;Committed.&lt;br/&gt;
The patch presumably resolves 2 other problems too:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Add missing IPv6 handling to C++ TNonblockingServer&lt;/li&gt;
	&lt;li&gt;Enable building with shared library version of Boost Test&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks for the improvement !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2orev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>