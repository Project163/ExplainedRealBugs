<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:17:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3090] cmake build is broken on MacOSX</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3090</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;A current version of apache/thrift on github as of 2015-04-10 doesn&apos;t build with cmake due to multiple errors:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;some C++ targets fail to link with missing symbols, because they do not link against the `thrift` library&lt;/li&gt;
	&lt;li&gt;the c_glib test targets fail to build because the reference to `shared_ptr` is considered ambiguous by the compiler (it resolves to both boost and stdlib shared_ptr)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See pull request &lt;a href=&quot;https://github.com/apache/thrift/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X 10.10.3&lt;br/&gt;
C++ compiler: Apple system compiler (clang), Apple LLVM version 6.0 (clang-600.0.57) (based on LLVM 3.5svn)&lt;br/&gt;
boost 1.57&lt;br/&gt;
cmake 3.2.1&lt;/p&gt;</environment>
        <key id="12820205">THRIFT-3090</key>
            <summary>cmake build is broken on MacOSX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marco.molteni">Marco Molteni</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2015 21:30:00 +0000</created>
                <updated>Tue, 13 Sep 2016 19:11:32 +0000</updated>
                            <resolved>Mon, 20 Apr 2015 20:29:46 +0000</resolved>
                                                    <fixVersion>0.9.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="14490402" author="jking3" created="Fri, 10 Apr 2015 21:33:46 +0000"  >&lt;p&gt;Unless it was something added today, I&apos;ve been able to build and test C++ and c_glib on Ubuntu 12.04 with gcc-4.63 and boost-1.53 using a pull from yesterday.&lt;/p&gt;</comment>
                            <comment id="14490434" author="githubbot" created="Fri, 10 Apr 2015 21:54:32 +0000"  >&lt;p&gt;GitHub user marco-m opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3090&quot; title=&quot;cmake build is broken on MacOSX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3090&quot;&gt;&lt;del&gt;THRIFT-3090&lt;/del&gt;&lt;/a&gt; (cmake build is broken)&lt;/p&gt;

&lt;p&gt;    Problem found and fixed on Mac OS X 10.10.3, but at least the link problems must happen on every OS.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/marco-m/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/marco-m/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3090&quot; title=&quot;cmake build is broken on MacOSX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3090&quot;&gt;&lt;del&gt;THRIFT-3090&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #434&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 73821578c4f54c36331d522b4cd685af7d539e18&lt;br/&gt;
Author: Marco Molteni &amp;lt;marco.molteni@laposte.net&amp;gt;&lt;br/&gt;
Date:   2015-04-10T21:51:19Z&lt;/p&gt;

&lt;p&gt;    Fix &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3090&quot; title=&quot;cmake build is broken on MacOSX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3090&quot;&gt;&lt;del&gt;THRIFT-3090&lt;/del&gt;&lt;/a&gt; (cmake build is broken)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14490442" author="jking3" created="Fri, 10 Apr 2015 22:03:26 +0000"  >&lt;p&gt;So the issue is with clang then?  Recommend filling out the &lt;tt&gt;Environment&lt;/tt&gt; section of the defect and put the OS, compiler, boost revision at a minimum in there.&lt;/p&gt;</comment>
                            <comment id="14490864" author="marco.molteni" created="Sat, 11 Apr 2015 08:32:23 +0000"  >&lt;p&gt;Hey James,&lt;/p&gt;

&lt;p&gt;I completed the `Environment` section. I should have done it since the beginning, sorry.&lt;/p&gt;

&lt;p&gt;I don&apos;t think the issue is only with clang, for example the link failure due to missing symbols &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I also noticed that Travis is reporting failed checks on the pull request but I didn&apos;t investigate yet.&lt;/p&gt;

&lt;p&gt;I&apos;m happy to have a closer look also at what happens on Linux if you think it is worthwhile.&lt;/p&gt;

&lt;p&gt;In any case, the cmake build is broken at least on Mac OS X.&lt;/p&gt;</comment>
                            <comment id="14490914" author="roger.meier" created="Sat, 11 Apr 2015 10:57:05 +0000"  >&lt;p&gt;CMake build on Linux works properly, I will review your PR this weekend.&lt;/p&gt;</comment>
                            <comment id="14491050" author="githubbot" created="Sat, 11 Apr 2015 14:39:00 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434#discussion_r28195428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434#discussion_r28195428&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -26,7 +26,7 @@ if(WITH_BOOSTTHREADS)&lt;br/&gt;
     else()&lt;br/&gt;
       find_package(Boost 1.53.0 REQUIRED)&lt;br/&gt;
     endif()&lt;br/&gt;
    -include_directories(SYSTEM &quot;${Boost_INCLUDE_DIRS}&quot;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Why do you need to remove &quot;SYSTEM&quot; ?&lt;/p&gt;</comment>
                            <comment id="14491053" author="nsuke" created="Sat, 11 Apr 2015 14:40:39 +0000"  >&lt;p&gt;&lt;del&gt;I couldn&apos;t reproduce the failure on ArchLinux using clang 3.6.0.&lt;/del&gt;&lt;br/&gt;
&lt;del&gt;It may be specific to MacOSX.&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;edit:&lt;/p&gt;

&lt;p&gt;My bad, actually I &lt;b&gt;could&lt;/b&gt; reproduce glib_c part of the failure.&lt;br/&gt;
The patch does fix it but I only needed changes on &lt;tt&gt;lib/c_glib/test/testthrifttestclient.cpp&lt;/tt&gt;.&lt;br/&gt;
The rest of all may be sill MacOS specific.&lt;/p&gt;</comment>
                            <comment id="14491467" author="githubbot" created="Sun, 12 Apr 2015 13:35:11 +0000"  >&lt;p&gt;Github user bufferoverflow commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434#discussion_r28203488&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434#discussion_r28203488&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: build/cmake/DefinePlatformSpecifc.cmake &amp;#8212;&lt;br/&gt;
    @@ -58,8 +58,9 @@ if(MSVC)&lt;br/&gt;
         endif(WITH_MT)&lt;br/&gt;
     endif(MSVC)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;GCC Specific&lt;br/&gt;
    -if(CMAKE_COMPILER_IS_GNUCC OR CMAKE_COMPILER_IS_GNUCXX)&lt;br/&gt;
    +# GCC or Clang specific&lt;br/&gt;
    +if(CMAKE_COMPILER_IS_GNUCC OR CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot;)
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    does CMAKE_COMPILER_IS_CLANG work as well?&lt;/p&gt;</comment>
                            <comment id="14491479" author="githubbot" created="Sun, 12 Apr 2015 14:21:10 +0000"  >&lt;p&gt;Github user marco-m commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434#discussion_r28203820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434#discussion_r28203820&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -26,7 +26,7 @@ if(WITH_BOOSTTHREADS)&lt;br/&gt;
     else()&lt;br/&gt;
       find_package(Boost 1.53.0 REQUIRED)&lt;br/&gt;
     endif()&lt;br/&gt;
    -include_directories(SYSTEM &quot;${Boost_INCLUDE_DIRS}&quot;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I don&apos;t need to remove SYSTEM to fix the cmake build on Mac OS X. On the other hand, I don&apos;t see why SYSTEM is needed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; In any case, this change can be reverted.&lt;/p&gt;</comment>
                            <comment id="14491481" author="githubbot" created="Sun, 12 Apr 2015 14:22:28 +0000"  >&lt;p&gt;Github user marco-m commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434#discussion_r28203837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434#discussion_r28203837&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: build/cmake/DefinePlatformSpecifc.cmake &amp;#8212;&lt;br/&gt;
    @@ -58,8 +58,9 @@ if(MSVC)&lt;br/&gt;
         endif(WITH_MT)&lt;br/&gt;
     endif(MSVC)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;GCC Specific&lt;br/&gt;
    -if(CMAKE_COMPILER_IS_GNUCC OR CMAKE_COMPILER_IS_GNUCXX)&lt;br/&gt;
    +# GCC or Clang specific&lt;br/&gt;
    +if(CMAKE_COMPILER_IS_GNUCC OR CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES &quot;Clang&quot;)
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Unfortunately CMAKE_COMPILER_IS_CLANG doesn&apos;t exist (or at least didn&apos;t exist last time I researched the topic).&lt;/p&gt;</comment>
                            <comment id="14491487" author="marco.molteni" created="Sun, 12 Apr 2015 14:29:15 +0000"  >&lt;p&gt;Now I think that the linking problem might be related to the fact that I am using a cmake version &amp;gt;= 3.0 on Mac OS X.&lt;/p&gt;

&lt;p&gt;When running cmake, I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CMake Warning (dev):
  Policy CMP0042 is not set: MACOSX_RPATH is enabled by default.  Run &quot;cmake
  --help-policy CMP0042&quot; for policy details.  Use the cmake_policy command to
  set the policy and suppress this warning.

  MACOSX_RPATH is not specified for the following targets:

   thrift
   thrift_c_glib
   thriftqt
   thriftz
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and looking at &lt;a href=&quot;http://www.cmake.org/cmake/help/v3.0/policy/CMP0042.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cmake.org/cmake/help/v3.0/policy/CMP0042.html&lt;/a&gt; it says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;MACOSX_RPATH is enabled by default.&lt;/p&gt;

&lt;p&gt;CMake 2.8.12 and newer has support for using @rpath in a target&#8217;s install name. This was enabled by setting the target property MACOSX_RPATH. The @rpath in an install name is a more flexible and powerful mechanism than @executable_path or @loader_path for locating shared libraries.&lt;/p&gt;

&lt;p&gt;CMake 3.0 and later prefer this property to be ON by default. Projects wanting @rpath in a target&#8217;s install name may remove any setting of the INSTALL_NAME_DIR and CMAKE_INSTALL_NAME_DIR variables.&lt;/p&gt;

&lt;p&gt;This policy was introduced in CMake version 3.0. CMake version 3.0.2 warns when the policy is not set and uses OLD behavior. Use the cmake_policy command to set it to OLD or NEW explicitly.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is bumping the minimum required cmake version for Thrift to 3.0 OK (what I would suggest) or do we have to explicitly set the old policy?&lt;/p&gt;</comment>
                            <comment id="14491520" author="roger.meier" created="Sun, 12 Apr 2015 15:20:39 +0000"  >&lt;p&gt;CMake is anyway new within Apache Thrift so setting the required Version to 3.0.2 should be ok. I can bump the version after committing latest patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2850&quot; title=&quot;Have the cmake build system run make cross&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2850&quot;&gt;THRIFT-2850&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14491614" author="jking3" created="Sun, 12 Apr 2015 17:55:27 +0000"  >&lt;p&gt;It works just fine on Ubuntu 12.04 LTS and gcc-4.6.3 which uses cmake-2.8.7.&lt;/p&gt;</comment>
                            <comment id="14491619" author="githubbot" created="Sun, 12 Apr 2015 18:00:30 +0000"  >&lt;p&gt;Github user nsuke commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434#discussion_r28205720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434#discussion_r28205720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: lib/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -26,7 +26,7 @@ if(WITH_BOOSTTHREADS)&lt;br/&gt;
     else()&lt;br/&gt;
       find_package(Boost 1.53.0 REQUIRED)&lt;br/&gt;
     endif()&lt;br/&gt;
    -include_directories(SYSTEM &quot;${Boost_INCLUDE_DIRS}&quot;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    SYSTEM implies -isystem for gcc/clang thus can avoid polluting log with warnings from boost.&lt;/p&gt;</comment>
                            <comment id="14491719" author="roger.meier" created="Sun, 12 Apr 2015 21:03:57 +0000"  >&lt;p&gt;Ubuntu 14.04 LTS uses 2.8.12, see &lt;a href=&quot;https://launchpad.net/ubuntu/+source/cmake&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://launchpad.net/ubuntu/+source/cmake&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;so I guess we can go for 2.8.12 as the minimum required:&lt;br/&gt;
cmake_minimum_required(VERSION 2.8.12)&lt;/p&gt;

&lt;p&gt;any concerns?&lt;/p&gt;</comment>
                            <comment id="14491731" author="jking3" created="Sun, 12 Apr 2015 21:25:06 +0000"  >&lt;p&gt;I don&apos;t mind going to 3.0.2 - I love upgrading things. :&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14491760" author="nsuke" created="Sun, 12 Apr 2015 22:56:45 +0000"  >&lt;p&gt;It seems CentOS 7 is stuck at 2.8.11 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;br/&gt;
Interestingly CentOS 6.6 has 2.8.12 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Seeing compatibility matrix&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;, 2.8.12 is significantly better than 2.8.11, but we need to stop at 2.8.11 for now ?&lt;br/&gt;
Older version results in somewhat reduced readability and productivity but surely not fatal.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mirror.centos.org/centos/7/os/x86_64/Packages/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mirror.centos.org/centos/7/os/x86_64/Packages/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mirror.centos.org/centos/6/os/x86_64/Packages/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mirror.centos.org/centos/6/os/x86_64/Packages/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.cmake.org/Wiki/CMake_Version_Compatibility_Matrix/Commands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cmake.org/Wiki/CMake_Version_Compatibility_Matrix/Commands&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14491798" author="jfarrell" created="Mon, 13 Apr 2015 00:20:05 +0000"  >&lt;p&gt;Ubuntu 14.04 LTS and CentOS 7 should be what we look to for min package versions, would set the min required version to 2.8.11 &lt;/p&gt;</comment>
                            <comment id="14492893" author="roger.meier" created="Mon, 13 Apr 2015 19:15:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=codesf&quot; class=&quot;user-hover&quot; rel=&quot;codesf&quot;&gt;codesf&lt;/a&gt; What do you think as a CentOS user? according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nsuke&quot; class=&quot;user-hover&quot; rel=&quot;nsuke&quot;&gt;nsuke&lt;/a&gt; CentOS 7 is stuck at 2.8.11 and CentOS 6.6 / Ubuntu 14.04 LTS uses 2.8.12.&lt;br/&gt;
I have the feeling that Centos 7 will change to 2.8.12 as well and I still believe we should go for 2.8.12.&lt;/p&gt;</comment>
                            <comment id="14492985" author="codesf" created="Mon, 13 Apr 2015 20:03:52 +0000"  >&lt;p&gt;I can confirm that base packages for Centos 7 install cmake 2.8.11 while Centos 6.5 installs 2.8.12.2. A curious state of affairs and as you suggest, probably temporary. I just built 2.8.12 from source on a centos 7 box and it seems to work fine at first blush. &lt;br/&gt;
+1 for 2.8.12 if we need it.&lt;/p&gt;</comment>
                            <comment id="14492991" author="codesf" created="Mon, 13 Apr 2015 20:10:56 +0000"  >&lt;p&gt;Just noticed that KDE needs 2.8.12 and seems to be putting pressure on EL7 for an update too. It really would be nice to be able to build with base packages but it does look like 2.8.12 is on the way. It would be a bummer to have to build the make tool from source just to build a thrift compiler on Centos 7.&lt;/p&gt;</comment>
                            <comment id="14494758" author="roger.meier" created="Tue, 14 Apr 2015 19:54:00 +0000"  >&lt;p&gt;Thanks Randy, so we go for 2.8.12 which improves the situation on OS X as well. I will commit soon...&lt;/p&gt;</comment>
                            <comment id="14494779" author="roger.meier" created="Tue, 14 Apr 2015 20:09:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marco.molteni&quot; class=&quot;user-hover&quot; rel=&quot;marco.molteni&quot;&gt;marco.molteni&lt;/a&gt; I&apos;ve set Cmake to 2.8.12, could you please test again and reopen if you still have some issues?&lt;/p&gt;</comment>
                            <comment id="14494871" author="hudson" created="Tue, 14 Apr 2015 20:59:39 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1508 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1508/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1508/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3090&quot; title=&quot;cmake build is broken on MacOSX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3090&quot;&gt;&lt;del&gt;THRIFT-3090&lt;/del&gt;&lt;/a&gt; cmake build is broken (set CMake version to 2.8.12) (roger: rev 8f27189dfd2812a9aa5bd57ce7155fbc295440ad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;compiler/cpp/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/qt/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/java/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/qt/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/c_glib/CMakeLists.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14496478" author="marco.molteni" created="Wed, 15 Apr 2015 16:36:04 +0000"  >&lt;p&gt;Build on MacOSX is still broken as before.&lt;br/&gt;
I am trying to find the root cause and I&apos;ll post another pull request.&lt;/p&gt;</comment>
                            <comment id="14500032" author="marco.molteni" created="Fri, 17 Apr 2015 15:29:12 +0000"  >&lt;p&gt;Updated pull request &lt;a href=&quot;https://github.com/apache/thrift/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434&lt;/a&gt;.&lt;br/&gt;
Kept as small as possible, and enables the build on MacOSX &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The MacOSX linker wants to resolve all symbols at shared library creation time, while the Linux and FreeBSD linkers are happy to delay resolving until linking an executable with the given shared library.&lt;/p&gt;

&lt;p&gt;Although it might be possible to ask the MacOSX linker to behave like the FreeBSD one (both are using Clang), I don&apos;t see a problem in providing all symbols at shared library creation time.&lt;/p&gt;

&lt;p&gt;Regarding the &lt;tt&gt;RPATH&lt;/tt&gt;, it is not needed to allow be build to succeed (although it is needed at runtime once the Thrift libraries are installed). I will post another pull request to enable it for MacOSX.&lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;thriftnb&quot;&gt;&lt;/a&gt;thriftnb&lt;/h4&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Linking CXX shared library ../libthriftnb.dylib
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++
   -std=c++11 -O2 -Wall -Wextra -dynamiclib
   -Wl,-headerpad_max_install_names
   -compatibility_version 1.0.0 -current_version 1.0.0
   -install_name /Users/mmolteni/src/thrift.marco.hggit/thebuild/lib/libthriftnb.1.0.0.dylib
   -o ../libthriftnb.1.0.0.dylib
   
   CMakeFiles/thriftnb.dir/src/thrift/server/TNonblockingServer.cpp.o
   CMakeFiles/thriftnb.dir/src/thrift/async/TAsyncProtocolProcessor.cpp.o
   CMakeFiles/thriftnb.dir/src/thrift/async/TEvhttpServer.cpp.o
   CMakeFiles/thriftnb.dir/src/thrift/async/TEvhttpClientChannel.cpp.o
   /opt/local/lib/libssl.dylib
   /opt/local/lib/libcrypto.dylib
   -lpthread
   /opt/local/lib/libevent.dylib 

Undefined symbols for architecture x86_64:

  &quot;apache::thrift::concurrency::PosixThreadFactory::PosixThreadFactory(apache::thrift::concurrency::PosixThreadFactory::POLICY, apache::thrift::concurrency::PosixThreadFactory::PRIORITY, int, bool)&quot;, referenced from:
      apache::thrift::server::TNonblockingServer::registerEvents(event_base*) in TNonblockingServer.cpp.o
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h4&gt;&lt;a name=&quot;thriftqt&quot;&gt;&lt;/a&gt;thriftqt&lt;/h4&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Linking CXX shared library ../libthriftqt.dylib
Undefined symbols for architecture x86_64:
  &quot;apache::thrift::TOutput::strerror_s(int)&quot;, referenced from:
      apache::thrift::transport::TTransportException::TTransportException(apache::thrift::transport::TTransportException::TTransportExceptionType, std::__1::basic_string&amp;lt;char, std::__1::char_traits&amp;lt;char&amp;gt;, std::__1::allocator&amp;lt;char&amp;gt; &amp;gt; const&amp;amp;, int) in TQIODeviceTransport.cpp.o
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h4&gt;&lt;a name=&quot;thriftz&quot;&gt;&lt;/a&gt;thriftz&lt;/h4&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Linking CXX shared library ../libthriftz.dylib
Undefined symbols for architecture x86_64:
  &quot;apache::thrift::GlobalOutput&quot;, referenced from:
      apache::thrift::transport::TZlibTransport::initZlib() in TZlibTransport.cpp.o
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14501345" author="pascal.bach" created="Sat, 18 Apr 2015 13:00:15 +0000"  >&lt;p&gt;Just one note on the CMake version discussion.&lt;br/&gt;
For anther project I created a list of what distributions come with what CMake version.&lt;br/&gt;
It can be found here: &lt;a href=&quot;https://github.com/pocoproject/poco/wiki/CMake-Status#cmake-versions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pocoproject/poco/wiki/CMake-Status#cmake-versions&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But in the the dscision was still to go with version 3.0.2+ as there where some advantages for how external libraries are handled with exported target. So far it turned out to be OK as CMake provides ready built static binaries form many platforms. &lt;br/&gt;
See: &lt;a href=&quot;http://www.cmake.org/download/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cmake.org/download/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14503378" author="marco.molteni" created="Mon, 20 Apr 2015 18:36:55 +0000"  >&lt;p&gt;ping &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14503546" author="roger.meier" created="Mon, 20 Apr 2015 20:29:46 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14503596" author="hudson" created="Mon, 20 Apr 2015 20:55:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1514 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1514/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1514/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3090&quot; title=&quot;cmake build is broken on MacOSX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3090&quot;&gt;&lt;del&gt;THRIFT-3090&lt;/del&gt;&lt;/a&gt; cmake build is broken on MacOSX. (roger: rev 98201b06053e6c5d74ba3ec5ec702f1892a8dec2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/CMakeLists.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14504535" author="snikulov" created="Tue, 21 Apr 2015 07:49:16 +0000"  >&lt;p&gt;Thanks, now CentOS7 build is broken (cmake 2.8.11).&lt;/p&gt;</comment>
                            <comment id="14505295" author="marco.molteni" created="Tue, 21 Apr 2015 17:15:18 +0000"  >&lt;p&gt;I think you are referring to cmake complaining that 2.8.11 &amp;lt; 2.8.12 and failing due to that.&lt;/p&gt;

&lt;p&gt;Have you tried setting minimum required to 2.8.11 on CentOS and see if it works?&lt;/p&gt;</comment>
                            <comment id="14505385" author="marco.molteni" created="Tue, 21 Apr 2015 17:59:04 +0000"  >&lt;p&gt;I tested 2.8.11 both on MacOSX and FreeBSD, and it works fine. So from my point of view we can go to 2.8.11.&lt;/p&gt;</comment>
                            <comment id="15385816" author="jking3" created="Wed, 20 Jul 2016 13:03:36 +0000"  >&lt;p&gt;The pull request is still open - could someone close it?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/thrift/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15488115" author="githubbot" created="Tue, 13 Sep 2016 19:11:32 +0000"  >&lt;p&gt;Github user marco-m closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/434&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12757336">THRIFT-2850</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d4hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>