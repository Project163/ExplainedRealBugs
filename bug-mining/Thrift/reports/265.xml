<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:57:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-813] Getting URL encoded strings back on the server side for example: (&quot;@&quot; becomes &quot;%40&quot;) </title>
                <link>https://issues.apache.org/jira/browse/THRIFT-813</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Hello, &lt;/p&gt;

&lt;p&gt;Please help me understand what is going on. &lt;br/&gt;
I&apos;m using the js client for thrift and making calls to a java-bean thrift server. In the server implementation, I examine the strings that are passed through a service call, and they are URL encoded. For example.&lt;br/&gt;
hi@bye.com would be hi%40bye.com&lt;/p&gt;

&lt;p&gt;Where is this happening. I&apos;m guessing it&apos;s at the TJSONProtocol. I expect many characters to be percent escaped like this as it&apos;s coming across the wire, but once it gets to the server code it should be back in plain ol&apos; string land. &lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux server, web based js thrift client&lt;/p&gt;</environment>
        <key id="12468510">THRIFT-813</key>
            <summary>Getting URL encoded strings back on the server side for example: (&quot;@&quot; becomes &quot;%40&quot;) </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jordo">Jordan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Jul 2010 09:35:36 +0000</created>
                <updated>Tue, 1 Nov 2011 02:52:22 +0000</updated>
                            <resolved>Fri, 22 Oct 2010 13:28:27 +0000</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12885569" author="bryanduxbury" created="Tue, 6 Jul 2010 15:54:32 +0000"  >&lt;p&gt;It could be in Java&apos;s TJSONProtocol implementation. I&apos;m not super familiar with that implementation, so I don&apos;t know where to look off hand, but maybe you could add a test case that exercises this?&lt;/p&gt;</comment>
                            <comment id="12886121" author="jordo" created="Wed, 7 Jul 2010 22:25:55 +0000"  >&lt;p&gt;Bryan, &lt;/p&gt;

&lt;p&gt;Where would I look in order to debug what&apos;s going on? What part of the TJSONProtocol would this be in. &lt;/p&gt;

&lt;p&gt;Also, I&apos;ve seen several bugs (I think) and I&apos;d like to learn some about the code base. Are there any ramp up docs for contributors?&lt;/p&gt;

</comment>
                            <comment id="12886133" author="bryanduxbury" created="Wed, 7 Jul 2010 22:36:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;Where would I look in order to debug what&apos;s going on? What part of the TJSONProtocol would this be in. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have no idea - TJSONProtocol.java is a big file, and I didn&apos;t write it. personally, I&apos;d just grep around for any occurrence of the @ sign or something that indicates URL-encoding is going on. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, I&apos;ve seen several bugs (I think) and I&apos;d like to learn some about the code base. Are there any ramp up docs for contributors?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sadly, not really. It&apos;s a bit of a jungle in there. The very first thing to do in every case is to open a JIRA ticket so that we have a record of the bug. From there, either get out your machete and safari hat and dig in, or try to find someone who can fix it for you.&lt;/p&gt;</comment>
                            <comment id="12886162" author="cwalters" created="Thu, 8 Jul 2010 00:14:03 +0000"  >&lt;p&gt;I wrote TJSONProtocol. There may certainly be some bugs but I don&apos;t think this URL encoding issue is coming from TJSONProtocol &amp;#8211; I am pretty sure there is no URL encoding done inside TJSONProtocol &amp;#8211; see JSON spec  at www.json.org.&lt;/p&gt;</comment>
                            <comment id="12886168" author="tjake" created="Thu, 8 Jul 2010 00:42:30 +0000"  >&lt;p&gt;Hi Jordan,&lt;/p&gt;

&lt;p&gt;This too is most a browser side encoding issue.    The js implementation of writeString uses encodeURIComponent()&lt;/p&gt;

&lt;p&gt;I suppose this isn&apos;t consistent, with the non javascript protocol readers.  but the js readString uses decodeURIComponent()&lt;/p&gt;

&lt;p&gt;We could implement our own encoder to encode only JSON special chars.&lt;/p&gt;

&lt;p&gt;-Jake&lt;/p&gt;</comment>
                            <comment id="12886397" author="jordo" created="Thu, 8 Jul 2010 18:15:06 +0000"  >&lt;p&gt;Jake, &lt;/p&gt;

&lt;p&gt;What you&apos;re saying sound correct, because when I pass the string to the server, and then back to the browser, it&apos;s back to the original form. &lt;br/&gt;
The only problem, is that when the string shows up on the server, its encoded. We need it automatically decoded on the server, which is why I suspected TJSONProtocol.&lt;/p&gt;

&lt;p&gt;URLEncoding is not part of the json spec (only quote escaping, I believe). It&apos;s just that to get the data across the wire in post form, we need to encode it (i think.)&lt;/p&gt;</comment>
                            <comment id="12923853" author="roger.meier" created="Fri, 22 Oct 2010 13:27:24 +0000"  >&lt;p&gt;clone of &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-885&quot; title=&quot;Url encoded strings never get decoded? How do we fix this?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-885&quot;&gt;&lt;del&gt;THRIFT-885&lt;/del&gt;&lt;/a&gt; which is resolved&lt;/p&gt;</comment>
                            <comment id="12923855" author="roger.meier" created="Fri, 22 Oct 2010 13:28:27 +0000"  >&lt;p&gt;is a clone of &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-885&quot; title=&quot;Url encoded strings never get decoded? How do we fix this?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-885&quot;&gt;&lt;del&gt;THRIFT-885&lt;/del&gt;&lt;/a&gt;, which is resolved&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12472992">THRIFT-885</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16azz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>