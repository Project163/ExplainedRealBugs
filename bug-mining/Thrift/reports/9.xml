<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:53:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-57] Generated thrift code relies on gen-rb being in $:</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-57</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;The generated thrift code for ruby relies on the gen-rb folder being in $:. The generated service definition and &lt;em&gt;constants file both have a bare require &apos;Name_types&apos;, which can&apos;t find the Name_types.rb file unless it&apos;s in $:. The generated code should be using File.dirname(&lt;/em&gt;&lt;em&gt;FILE&lt;/em&gt;_) to specify the path as relative to itself.&lt;/p&gt;

&lt;p&gt;The only problem here is any clients of the library which put gen-rb into $: and then require the Name_types file themselves will end up with warnings about redefining the FIELDS constant. This should be treated as a deprecation warning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398958">THRIFT-57</key>
            <summary>Generated thrift code relies on gen-rb being in $:</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kballard">Kevin Ballard</assignee>
                                    <reporter username="kballard">Kevin Ballard</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2008 00:40:32 +0000</created>
                <updated>Thu, 19 Aug 2010 05:45:04 +0000</updated>
                            <resolved>Thu, 26 Jun 2008 17:50:04 +0000</resolved>
                                                                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12607822" author="kclark" created="Wed, 25 Jun 2008 00:46:05 +0000"  >&lt;p&gt;Works for me. Barring objection, I&apos;ll push soonish.&lt;/p&gt;</comment>
                            <comment id="12608525" author="kclark" created="Thu, 26 Jun 2008 17:50:04 +0000"  >&lt;p&gt;In 671963. Thanks!&lt;/p&gt;</comment>
                            <comment id="12639134" author="nospmisdivad" created="Mon, 13 Oct 2008 17:52:07 +0000"  >&lt;p&gt;This change is actually causing me some troubles in my installation.  In particular, I think it&apos;s problematic for thrift projects that include types from other projects.  Here&apos;s a simplified version of what I&apos;m doing:&lt;/p&gt;

&lt;p&gt;Package A defines a type (A_Type) that is used by packages B and C.&lt;/p&gt;

&lt;p&gt;I have a ruby app this uses both B and C.&lt;/p&gt;

&lt;p&gt;When I generate the ruby runtime files for B and C, it includes the types for A in the same same directory... okay, so in the past, the generated files simply said require &apos;A_types&apos;.  When the ruby script requires &apos;B&apos;, it gets the &apos;A_types&apos; as well (and I setup my $: so that it can be found).  When &apos;C&apos; is required, &apos;A_types&apos; doesn&apos;t need to be loaded again since it was previously required.&lt;/p&gt;

&lt;p&gt;Now that paths are hardcoded, B requires &apos;B_Path/A_types&apos; and C requires &apos;C_Path/A_types&apos;.  When both B and C are required, A_types is loaded twice (once from each location), and I of course get warnings about redefined FIELDS.&lt;/p&gt;

&lt;p&gt;Also, in general, I don&apos;t even have to put A_types into the B and C directories and can keep it living elsewhere and just make sure my library paths are setup to find it.  Are there any solutions to this (absent backing out the change)?  If I could get rid of the &quot;redefined constant&quot; warning then I could live with this change.&lt;/p&gt;

&lt;p&gt;Right now I&apos;m working around this by actually removing the hardcoded paths from my ruby files during my build process using some perl hackery.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12396641">THRIFT-19</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384640" name="0001-rb-Use-File.dirname-__FILE__-in-generated-requires.patch" size="6009" author="kballard" created="Wed, 25 Jun 2008 00:41:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16e53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>