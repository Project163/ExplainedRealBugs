<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:01:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1296] SSL detection is broken</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1296</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When using shared libraries, libssl has dependencies on libcrypto. The current autoconf macro for checking SSL doesn&apos;t do the job:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;configure:23665: checking for SSL_ctrl in -lssl
configure:23690: x86_64-unknown-linux-gnu-g++ -o conftest -O2 -Wall -pipe  -L&amp;lt;snip&amp;gt; -I&amp;lt;snip&amp;gt;  -O2 -Wall -pipe conftest.cpp -lssl  -lrt -lpthread  &amp;gt;&amp;amp;5
x86_64-unknown-linux-gnu/bin/ld: warning: libcrypto.so.1.0.0, needed by &amp;lt;snip&amp;gt;/usr/lib/libssl.so, not found (try using -rpath or -rpath-link)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following patch fixes this problem:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+--- configure.ac
++++ configure.ac
+@@ -312,7 +312,7 @@ dnl of the POSIX Real-Time Extensions.  This seems necessary on Linux,
+ dnl and we haven&apos;t yet found a system where this is a problem.
+ AC_CHECK_LIB(rt, clock_gettime)
+ AC_CHECK_LIB(socket, setsockopt)
+-AC_CHECK_LIB(ssl, SSL_ctrl)
++AC_CHECK_LIB(ssl, SSL_ctrl,[LIBS=&quot;-lssl -lcrypto $LIBS&quot;],,-lcrypto)
+
+ AC_TYPE_INT16_T
+ AC_TYPE_INT32_T
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Ubuntu 10.04&lt;br/&gt;
Building Thrift against a custom toolchain (not using system packages/libraries)&lt;/p&gt;</environment>
        <key id="12520190">THRIFT-1296</key>
            <summary>SSL detection is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jfarrell">Jake Farrell</assignee>
                                    <reporter username="diwaker">Diwaker Gupta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Aug 2011 00:44:16 +0000</created>
                <updated>Fri, 9 Sep 2011 07:04:40 +0000</updated>
                            <resolved>Mon, 29 Aug 2011 18:19:56 +0000</resolved>
                                    <version>0.7</version>
                                                    <component>Build Process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13091518" author="jfarrell" created="Fri, 26 Aug 2011 02:13:45 +0000"  >&lt;p&gt;Can you please attach as a patch with asf inclusion. Thanks&lt;/p&gt;</comment>
                            <comment id="13091880" author="diwaker" created="Fri, 26 Aug 2011 17:11:19 +0000"  >&lt;p&gt;I&apos;ve only tested on Ubuntu 10.04. Some more testing on other platforms is definitely needed.&lt;/p&gt;</comment>
                            <comment id="13092538" author="jfarrell" created="Sun, 28 Aug 2011 19:59:51 +0000"  >&lt;p&gt;Instead of just including crypto blindly when ssl is available we should check for it as well and either send an error message or set a flag and remove clients that require ssl and crypto. Patch for just checking for both and failing attached. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13092989" author="diwaker" created="Mon, 29 Aug 2011 17:27:57 +0000"  >&lt;p&gt;My AC-foo is fairly limited, but IIUC you need to include &apos;-lcrypto&apos; in the last (5th) parameter to AC_CHECK_LIB(ssl...). The reason being that just to link against libssl to check for SSL_ctrl, you need to also link against libcrypto (at least on my platform); otherwise GCC fails complaining about missing symbols. Otherwise the patch looks great!&lt;/p&gt;</comment>
                            <comment id="13093048" author="jfarrell" created="Mon, 29 Aug 2011 18:19:56 +0000"  >&lt;p&gt;Flipped around the checks so crypto is looked for first and then used when checking for ssl, committed&lt;/p&gt;</comment>
                            <comment id="13093112" author="hudson" created="Mon, 29 Aug 2011 19:16:49 +0000"  >&lt;p&gt;Integrated in Thrift #242 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/242/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/242/&lt;/a&gt;)&lt;br/&gt;
    Thrift-1296: SSL detection is broken&lt;br/&gt;
Patch: jfarrell&lt;/p&gt;

&lt;p&gt;Updated configure to check for crypto and then ssl and error along the way if unavailable.&lt;/p&gt;</comment>
                            <comment id="13101044" author="hudson" created="Fri, 9 Sep 2011 07:04:40 +0000"  >&lt;p&gt;Integrated in Thrift #255 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/255/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/255/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1296&quot; title=&quot;SSL detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1296&quot;&gt;&lt;del&gt;THRIFT-1296&lt;/del&gt;&lt;/a&gt; SSL detection is broken&lt;/p&gt;

&lt;p&gt;mingw toolchain used to build &quot;Thrift Compiler for Windows&quot;&lt;br/&gt;
does not support libcrypto, so we just check if we building the cpp library&lt;/p&gt;

&lt;p&gt;roger : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1167013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1167013&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/thrift/trunk/.gitignore&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/configure.ac&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12491810" name="THRIFT-1296.patch" size="460" author="diwaker" created="Fri, 26 Aug 2011 17:11:19 +0000"/>
                            <attachment id="12492009" name="thrift-1296.patch" size="617" author="jfarrell" created="Sun, 28 Aug 2011 19:59:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0845r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>45273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>