<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:55:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-482] build.xml does not specify a target version for compiled java classes</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-482</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When building thrift in a java 6 environment, the packaged libthrift.jar contains classes for version 6 java.  The compile target in build.xml should make java version 5 class files to maintain compatibility with earlier runtime environments.&lt;/p&gt;

&lt;p&gt;The attached patch should update build.xml with the desired behavior.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java version &quot;1.6.0_13&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_13-b03)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 11.3-b02, mixed mode)&lt;/p&gt;</environment>
        <key id="12424575">THRIFT-482</key>
            <summary>build.xml does not specify a target version for compiled java classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jar">Jarret Falkner</assignee>
                                    <reporter username="jar">Jarret Falkner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 May 2009 03:04:16 +0000</created>
                <updated>Tue, 1 Nov 2011 02:52:00 +0000</updated>
                            <resolved>Wed, 6 May 2009 17:22:43 +0000</resolved>
                                                    <fixVersion>0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12705875" author="jar" created="Tue, 5 May 2009 03:05:50 +0000"  >&lt;p&gt;target java class files to version 5.&lt;/p&gt;</comment>
                            <comment id="12705876" author="dreiss" created="Tue, 5 May 2009 03:07:56 +0000"  >&lt;p&gt;What is the downside of this patch?  I assume that java would not generate incompatible class files unless there was something to gain.&lt;/p&gt;</comment>
                            <comment id="12705877" author="jar" created="Tue, 5 May 2009 03:13:28 +0000"  >&lt;p&gt;For downsides &amp;#8211; Java 6 source code features won&apos;t be available since they&apos;re only supported by java 6 (or greater) class files.  However, since this project already sets Java 5 as the max supported source code version, that downside does not seem like any loss.&lt;/p&gt;</comment>
                            <comment id="12705880" author="dreiss" created="Tue, 5 May 2009 03:29:45 +0000"  >&lt;p&gt;Do you know why the compiler doesn&apos;t generate Java 5-compatible bytecode for Java 5-compatible sources?  Or does it just put &quot;this is Java 6&quot; in the bytecode before even looking at what features are being used?&lt;/p&gt;</comment>
                            <comment id="12705887" author="jar" created="Tue, 5 May 2009 04:04:22 +0000"  >&lt;p&gt;Yep, it&apos;s pretty much a lazy &apos;this is java 6&apos; without feature inspection.&lt;/p&gt;

&lt;p&gt;If Ant&apos;s javac task does not contain a java class version target, ant defaults to the compiling JDK&apos;s version.  So, in a java 6 environment, you get java 6 class files (even when the javac task is forced to require source code version 5 or lower).&lt;/p&gt;

&lt;p&gt;This is definitely an Ant &apos;gotcha&apos; - they strongly recommend setting something as the target for javac tasks, otherwise you end up with class files that are not backwards compatible to the source without good reason.&lt;/p&gt;

&lt;p&gt;Here&apos;s the pointer to the Ant manual with their recommendation:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ant.apache.org/manual/CoreTasks/javac.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ant.apache.org/manual/CoreTasks/javac.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12705897" author="bryanduxbury" created="Tue, 5 May 2009 04:22:35 +0000"  >&lt;p&gt;I agree, we should set Java 5 explicitly. I actually &lt;b&gt;just&lt;/b&gt; noticed this problem today but you beat me to it. The patch looks great. Unless anyone objects or proposes something better, I will commit this first thing tomorrow morning.&lt;/p&gt;</comment>
                            <comment id="12706526" author="bryanduxbury" created="Wed, 6 May 2009 17:22:43 +0000"  >&lt;p&gt;Committed. Thanks for the patch Jarret!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12407211" name="java5_target.patch" size="564" author="jar" created="Tue, 5 May 2009 03:07:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16blr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>