<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:26:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4044] Build job 17 failing on every pull request; hspec core (haskell) 2.4 issue</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4044</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Every Travis CI build job has been failing for weeks with:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Downloading hspec-core-2.4.0...
Configuring hspec-core-2.4.0...
Building hspec-core-2.4.0...
Preprocessing library hspec-core-2.4.0...
[ 1 of 22] Compiling Paths_hspec_core ( dist/build/autogen/Paths_hspec_core.hs, dist/build/Paths_hspec_core.o )
[ 2 of 22] Compiling Test.Hspec.Core.Timer ( src/Test/Hspec/Core/Timer.hs, dist/build/Test/Hspec/Core/Timer.o )
[ 3 of 22] Compiling Data.Algorithm.Diff ( vendor/Data/Algorithm/Diff.hs, dist/build/Data/Algorithm/Diff.o )
[ 4 of 22] Compiling Test.Hspec.Core.Formatters.Diff ( src/Test/Hspec/Core/Formatters/Diff.hs, dist/build/Test/Hspec/Core/Formatters/Diff.o )
[ 5 of 22] Compiling Test.Hspec.Core.Compat ( src/Test/Hspec/Core/Compat.hs, dist/build/Test/Hspec/Core/Compat.o )
[ 6 of 22] Compiling Test.Hspec.Core.Util ( src/Test/Hspec/Core/Util.hs, dist/build/Test/Hspec/Core/Util.o )
[ 7 of 22] Compiling Test.Hspec.Core.FailureReport ( src/Test/Hspec/Core/FailureReport.hs, dist/build/Test/Hspec/Core/FailureReport.o )
[ 8 of 22] Compiling Test.Hspec.Core.QuickCheckUtil ( src/Test/Hspec/Core/QuickCheckUtil.hs, dist/build/Test/Hspec/Core/QuickCheckUtil.o )
[ 9 of 22] Compiling Test.Hspec.Core.Formatters.Free ( src/Test/Hspec/Core/Formatters/Free.hs, dist/build/Test/Hspec/Core/Formatters/Free.o )
[10 of 22] Compiling Test.Hspec.Core.Example ( src/Test/Hspec/Core/Example.hs, dist/build/Test/Hspec/Core/Example.o )
src/Test/Hspec/Core/Example.hs:156:45:
    Couldn&apos;t match type `[Char]&apos; with `FailureReason&apos;
    Expected type: FailureReason
      Actual type: String
    In the second argument of `Failure&apos;, namely `err&apos;
    In the expression: Failure Nothing err
    In a case alternative:
        HUnit.HUnitFailure err -&amp;gt; Failure Nothing err
Failed to install hspec-core-2.4.0
cabal: Error: some packages failed to install:
hspec-2.4.0 depends on hspec-core-2.4.0 which failed to install.
hspec-core-2.4.0 failed during the building phase. The exception was:
ExitFailure 1
make[2]: *** [lib/hs/thrift_cabal.stamp] Error 1
make[1]: *** [lib/hs/CMakeFiles/haskell_library.dir/all] Error 2
make: *** [all] Error 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sample:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/apache/thrift/jobs/196107764&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/jobs/196107764&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Travis CI&lt;/p&gt;</environment>
        <key id="13038664">THRIFT-4044</key>
            <summary>Build job 17 failing on every pull request; hspec core (haskell) 2.4 issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10005">Workaround</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="jking3">James E. King III</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jan 2017 19:03:05 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:50 +0000</updated>
                            <resolved>Sat, 28 Jan 2017 21:04:02 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Process</component>
                    <component>Haskell - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15844181" author="jking3" created="Sat, 28 Jan 2017 20:26:59 +0000"  >&lt;p&gt;The root cause will be tracked here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/hspec/hspec/issues/306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hspec/hspec/issues/306&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I believe this is a bug in hspec-core 2.4.0.&lt;br/&gt;
I tweaked the cabal file to use something before 2.4.0 and this worked locally so I will submit a PR.&lt;/p&gt;</comment>
                            <comment id="15844182" author="githubbot" created="Sat, 28 Jan 2017 20:29:04 +0000"  >&lt;p&gt;GitHub user jeking3 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1168&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4044&quot; title=&quot;Build job 17 failing on every pull request; hspec core (haskell) 2.4 issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4044&quot;&gt;&lt;del&gt;THRIFT-4044&lt;/del&gt;&lt;/a&gt; work around an hspec-core 2.4.0 library issue &lt;/p&gt;

&lt;p&gt;    Was causing all build job #17 on Travis CI to fail&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jeking3/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jeking3/thrift&lt;/a&gt; defect/&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4044&quot; title=&quot;Build job 17 failing on every pull request; hspec core (haskell) 2.4 issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4044&quot;&gt;&lt;del&gt;THRIFT-4044&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1168.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1168.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1168&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1043cd33afb1cef77d7c0557345cb7ff7fdb69f9&lt;br/&gt;
Author: James E. King, III &amp;lt;jim.king@simplivity.com&amp;gt;&lt;br/&gt;
Date:   2017-01-28T20:28:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4044&quot; title=&quot;Build job 17 failing on every pull request; hspec core (haskell) 2.4 issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4044&quot;&gt;&lt;del&gt;THRIFT-4044&lt;/del&gt;&lt;/a&gt; work around an hspec-core 2.4.0 library issue causing all build job #17 on Travis CI to fail&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15844191" author="githubbot" created="Sat, 28 Jan 2017 21:03:31 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1168&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15844192" author="jking3" created="Sat, 28 Jan 2017 21:04:02 +0000"  >&lt;p&gt;We are limiting hspec-core to a version below 2.4.0 until that team resolves the issue.&lt;/p&gt;</comment>
                            <comment id="16129595" author="isheff" created="Wed, 16 Aug 2017 23:14:02 +0000"  >&lt;p&gt;Has hspec-core-2.4.4 or Travis CI resolved this issue? The make -k check test suite doesn&apos;t add any failures if you compile without the hspec-core &amp;lt; 2.4.0 requirement, and it would be nice if my project could use thrift and a more up-to-date hspec-core.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13100522">THRIFT-4317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39c6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>