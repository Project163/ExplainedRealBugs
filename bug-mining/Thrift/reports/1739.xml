<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:26:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3784] thrift-maven-plugin generates invalid include directories for IDL in dependency JARs</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3784</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;The thrift-maven-plugin attempts to support building .thrift files that depend on other .thrift files provided in a dependency JAR. It does this by copying the dependency JAR&apos;s thrift files into a temporary directory then passing corresponding include directory options to the thrift compiler. However, the process of generating the include directory paths is faulty: there is a path for each and every directory that contains a .thrift file, rather than a single path to the root of the thrift file hierarchy. That means that any thrift files that reference others using paths relative to a root will fail. It may happen to work where the thrift files are all in a single directory, but not in the general case.&lt;/p&gt;

&lt;p&gt;There are no tests of this support, so I&apos;ve added a few in the pull request I&apos;m preparing. &lt;/p&gt;

&lt;p&gt;Somebody found the exact same problem and issued a pull request against this plugin&apos;s original repository on Github: &lt;a href=&quot;https://github.com/dtrott/maven-thrift-plugin/pull/28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dtrott/maven-thrift-plugin/pull/28&lt;/a&gt;. It went nowhere because the project was already pending ASF acceptance at that point, but it&apos;s worth looking at as an additional reference.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12956919">THRIFT-3784</key>
            <summary>thrift-maven-plugin generates invalid include directories for IDL in dependency JARs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="csosborn@gmail.com">Chris Osborn</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Apr 2016 16:17:12 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:11 +0000</updated>
                            <resolved>Sat, 1 Apr 2017 15:16:36 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Java - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15230506" author="githubbot" created="Thu, 7 Apr 2016 16:30:34 +0000"  >&lt;p&gt;GitHub user csosborn opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3784&quot; title=&quot;thrift-maven-plugin generates invalid include directories for IDL in dependency JARs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3784&quot;&gt;&lt;del&gt;THRIFT-3784&lt;/del&gt;&lt;/a&gt;: fix and tests&lt;/p&gt;

&lt;p&gt;    This patch fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3784&quot; title=&quot;thrift-maven-plugin generates invalid include directories for IDL in dependency JARs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3784&quot;&gt;&lt;del&gt;THRIFT-3784&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3784&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-3784&lt;/a&gt;), a bug in the thrift-maven-plugin.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/csosborn/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/csosborn/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3784&quot; title=&quot;thrift-maven-plugin generates invalid include directories for IDL in dependency JARs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3784&quot;&gt;&lt;del&gt;THRIFT-3784&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #984&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e5cf90e6f1d3d3e52c5c645b9fa04626176354f1&lt;br/&gt;
Author: Chris Osborn &amp;lt;cosborn@conductor.com&amp;gt;&lt;br/&gt;
Date:   2016-04-07T16:20:02Z&lt;/p&gt;

&lt;p&gt;    Fix and tests for &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3784&quot; title=&quot;thrift-maven-plugin generates invalid include directories for IDL in dependency JARs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3784&quot;&gt;&lt;del&gt;THRIFT-3784&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15230508" author="csosborn@gmail.com" created="Thu, 7 Apr 2016 16:31:17 +0000"  >&lt;p&gt;I&apos;ve just submitted a pull request via Github, and you can find it here: &lt;a href=&quot;https://github.com/apache/thrift/pull/984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15230514" author="githubbot" created="Thu, 7 Apr 2016 16:34:42 +0000"  >&lt;p&gt;Github user csosborn commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984#discussion_r58903035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984#discussion_r58903035&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: contrib/thrift-maven-plugin/src/main/java/org/apache/thrift/maven/AbstractThriftMojo.java &amp;#8212;&lt;br/&gt;
    @@ -319,15 +331,6 @@ public boolean accept(File dir, String name) &lt;/p&gt;
{
             return ImmutableSet.copyOf(thriftFilesInDirectory);
         }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ImmutableSet&amp;lt;File&amp;gt; findThriftFilesInDirectories(Iterable&amp;lt;File&amp;gt; directories) throws IOException {&lt;/li&gt;
	&lt;li&gt;checkNotNull(directories);&lt;/li&gt;
	&lt;li&gt;Set&amp;lt;File&amp;gt; thriftFiles = newHashSet();&lt;/li&gt;
	&lt;li&gt;for (File directory : directories) 
{
    -            thriftFiles.addAll(findThriftFilesInDirectory(directory));
    -        }&lt;/li&gt;
	&lt;li&gt;return ImmutableSet.copyOf(thriftFiles);&lt;/li&gt;
	&lt;li&gt;}
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This code was unused. &lt;/p&gt;</comment>
                            <comment id="15230991" author="githubbot" created="Thu, 7 Apr 2016 20:23:35 +0000"  >&lt;p&gt;Github user csosborn commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984#issuecomment-207074660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984#issuecomment-207074660&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    What&apos;s the protocol here? It does not look like the build failures have anything to do with my changes. &lt;/p&gt;</comment>
                            <comment id="15312430" author="githubbot" created="Thu, 2 Jun 2016 14:58:08 +0000"  >&lt;p&gt;Github user csosborn commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Just checking in here.. This request has been open for about two months with no response. &lt;/p&gt;

&lt;p&gt;    Is the project still accepting patches? It doesn&apos;t look like anything has been merged in a few months, and the CI system appears unhealthy. &lt;/p&gt;</comment>
                            <comment id="15312856" author="githubbot" created="Thu, 2 Jun 2016 18:43:04 +0000"  >&lt;p&gt;Github user jeking3 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The project is still accepting patches, however as you can see we have over 100 pull requests (I have 3 in the queue) but we haven&apos;t been able to stabilize the apache build job for quite some time, leading to a backlog.  Only a few people have access to the apache build job and until we can get builds to pass the project lead decided (correctly, in my opinion) not to merge any more code.&lt;/p&gt;</comment>
                            <comment id="15335325" author="jking3" created="Fri, 17 Jun 2016 03:29:02 +0000"  >&lt;p&gt;I&apos;d recommend that you rebase this against origin/master and push to kick off a new build.&lt;/p&gt;</comment>
                            <comment id="15952267" author="jking3" created="Sat, 1 Apr 2017 15:16:36 +0000"  >&lt;p&gt;Committed - thanks.&lt;/p&gt;</comment>
                            <comment id="15952268" author="githubbot" created="Sat, 1 Apr 2017 15:16:46 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/984&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13059678">THRIFT-4148</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vskv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>