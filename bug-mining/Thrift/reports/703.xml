<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:07:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1869] TThreadPoolServer (java) dies when threadpool is consumed</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1869</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When TThreadPoolServer hit&apos;s max threads, it throws a RejectedExceptionException and dies. This is not expected by users of this class.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.util.concurrent.RejectedExecutionException 
at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(Unknown Source) 
at java.util.concurrent.ThreadPoolExecutor.reject(Unknown Source) 
at java.util.concurrent.ThreadPoolExecutor.execute(Unknown Source) 
at org.apache.thrift.server.TThreadPoolServer.serve(TThreadPoolServer.java:108) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12634856">THRIFT-1869</key>
            <summary>TThreadPoolServer (java) dies when threadpool is consumed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roger">Roger Meier</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 17:06:17 +0000</created>
                <updated>Thu, 9 Oct 2014 10:42:07 +0000</updated>
                            <resolved>Sat, 8 Jun 2013 03:15:39 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>Java - Library</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13596389" author="brocknoland" created="Thu, 7 Mar 2013 21:23:39 +0000"  >&lt;p&gt;If the user provides an ExecutorService to the TThreadPoolServer they can use a custom rejection handler to override the current behavior, dying when all threads are consumed.&lt;/p&gt;

&lt;p&gt;However, users that use the default ExecutorService get an odd behavior where when the thread pool is consumed the entire server dies killing all clients.&lt;/p&gt;

&lt;p&gt;An alternative to this default behavior and one that is more in line with my expectations based on using a variety of http and RPC servers is that no new clients are accepted until space is available in the thread pool. The attached patch changes the default behavior to be inline with these other servers.&lt;/p&gt;

&lt;p&gt;Should someone desire the behavior that when max threads is hit, they could provide an executor service with a rejection handler which throws a runtime exception.&lt;/p&gt;</comment>
                            <comment id="13612227" author="roger.meier" created="Sun, 24 Mar 2013 20:28:43 +0000"  >&lt;p&gt;committed!&lt;/p&gt;

&lt;p&gt;thanks Brock!&lt;/p&gt;</comment>
                            <comment id="13612246" author="brocknoland" created="Sun, 24 Mar 2013 21:03:18 +0000"  >&lt;p&gt;Thanks Roger!&lt;/p&gt;</comment>
                            <comment id="13612485" author="hudson" created="Mon, 25 Mar 2013 08:40:28 +0000"  >&lt;p&gt;Integrated in Thrift #633 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/633/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/633/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1869&quot; title=&quot;TThreadPoolServer (java) dies when threadpool is consumed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1869&quot;&gt;&lt;del&gt;THRIFT-1869&lt;/del&gt;&lt;/a&gt; TThreadPoolServer (java) dies when threadpool is consumed (Revision ce6d1d709aaaf33d2cdfc7415a6e95b10faac2e5)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
roger : &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git&amp;amp;a=commit&amp;amp;h=ce6d1d709aaaf33d2cdfc7415a6e95b10faac2e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=thrift.git&amp;amp;a=commit&amp;amp;h=ce6d1d709aaaf33d2cdfc7415a6e95b10faac2e5&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/server/TThreadPoolServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12446714">THRIFT-692</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12653939">HIVE-4766</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12746986">HIVE-8418</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12638753">HIVE-4224</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12638754">THRIFT-1900</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12640683">HIVE-4291</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12572614" name="THRIFT-1869-0.patch" size="1558" author="brocknoland" created="Thu, 7 Mar 2013 21:23:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1if0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>