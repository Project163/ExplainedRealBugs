<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:29:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4670] Twisted, slots, and void method fails with &quot;object has no attribute &apos;success&apos;&quot;</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4670</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When generating Twisted code for a void method, the compiler accidentally assigns a value to the result.success field of the result object, even though, as a void method, there is no success value and the result object has no such field. If the slots option is not specified as well, this does not cause a problem, it just sets a new field that is never used. However, with the slots option, attempting to set this undefined field causes the error&#160;&quot;object has no attribute &apos;success&apos;&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13199920">THRIFT-4670</key>
            <summary>Twisted, slots, and void method fails with &quot;object has no attribute &apos;success&apos;&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="palmer">Palmer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Nov 2018 19:59:59 +0000</created>
                <updated>Thu, 27 Dec 2018 15:24:49 +0000</updated>
                            <resolved>Thu, 22 Nov 2018 13:17:21 +0000</resolved>
                                    <version>0.9.3</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Python - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16695217" author="githubbot" created="Wed, 21 Nov 2018 20:09:59 +0000"  >&lt;p&gt;DaGenix opened a new pull request #1632: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4670&quot; title=&quot;Twisted, slots, and void method fails with &amp;quot;object has no attribute &amp;#39;success&amp;#39;&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4670&quot;&gt;&lt;del&gt;THRIFT-4670&lt;/del&gt;&lt;/a&gt;: Twisted, slots, and void method fails with &quot;object has no attribute &apos;success&apos;&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1632&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1632&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   For a void method, there is no success value, so, it is an error to&lt;br/&gt;
   attempt to assign one to the result object. This error is harmless&lt;br/&gt;
   unless slots is also specified - with slots specified, the attempt to&lt;br/&gt;
   assign to a non-existent field causes an error which makes the service&lt;br/&gt;
   method fail.&lt;/p&gt;

&lt;p&gt;   Client: py&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16695889" author="githubbot" created="Thu, 22 Nov 2018 13:17:19 +0000"  >&lt;p&gt;jeking3 closed pull request #1632: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4670&quot; title=&quot;Twisted, slots, and void method fails with &amp;quot;object has no attribute &amp;#39;success&amp;#39;&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4670&quot;&gt;&lt;del&gt;THRIFT-4670&lt;/del&gt;&lt;/a&gt;: Twisted, slots, and void method fails with &quot;object has no attribute &apos;success&apos;&quot;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1632&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1632&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/compiler/cpp/src/thrift/generate/t_py_generator.cc b/compiler/cpp/src/thrift/generate/t_py_generator.cc&lt;br/&gt;
index 9c82b6cf2a..f0a153ca8b 100644&lt;br/&gt;
&amp;#8212; a/compiler/cpp/src/thrift/generate/t_py_generator.cc&lt;br/&gt;
+++ b/compiler/cpp/src/thrift/generate/t_py_generator.cc&lt;br/&gt;
@@ -1961,8 +1961,10 @@ void t_py_generator::generate_process_function(t_service* tservice, t_function*&lt;br/&gt;
       indent(f_service_) &amp;lt;&amp;lt; &quot;def write_results_success_&quot; &amp;lt;&amp;lt; tfunction-&amp;gt;get_name()&lt;br/&gt;
                          &amp;lt;&amp;lt; &quot;(self, success, result, seqid, oprot):&quot; &amp;lt;&amp;lt; endl;&lt;br/&gt;
       indent_up();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;f_service_ &amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;result.success = success&quot; &amp;lt;&amp;lt; endl&lt;/li&gt;
	&lt;li&gt;&amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;oprot.writeMessageBegin(\&quot;&quot; &amp;lt;&amp;lt; tfunction-&amp;gt;get_name()&lt;br/&gt;
+      if (!tfunction-&amp;gt;get_returntype()-&amp;gt;is_void()) 
{
+        f_service_ &amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;result.success = success&quot; &amp;lt;&amp;lt; endl;
+      }
&lt;p&gt;+      f_service_ &amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;oprot.writeMessageBegin(\&quot;&quot; &amp;lt;&amp;lt; tfunction-&amp;gt;get_name()&lt;br/&gt;
                  &amp;lt;&amp;lt; &quot;\&quot;, TMessageType.REPLY, seqid)&quot; &amp;lt;&amp;lt; endl&lt;br/&gt;
                  &amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;result.write(oprot)&quot; &amp;lt;&amp;lt; endl&lt;br/&gt;
                  &amp;lt;&amp;lt; indent() &amp;lt;&amp;lt; &quot;oprot.writeMessageEnd()&quot; &amp;lt;&amp;lt; endl&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16695890" author="jking3" created="Thu, 22 Nov 2018 13:17:21 +0000"  >&lt;p&gt;Committed - thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00r34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>