<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:25:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4034] CMake doesn&apos;t work to build compiler on MacOS</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4034</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;AS &lt;a href=&quot;https://github.com/apache/thrift/blob/0.10.0/compiler/cpp/README.md#build-compiler-using-cmake&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;document&lt;/a&gt; said.&lt;/p&gt;

&lt;p&gt;When I ran &lt;tt&gt;cmake ..&lt;/tt&gt; in &lt;tt&gt;/thrift/compiler/cpp/cmake-build&lt;/tt&gt;, CMake reports error as below:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;#8211; The C compiler identification is AppleClang 8.0.0.8000042&lt;br/&gt;
&amp;#8211; The CXX compiler identification is AppleClang 8.0.0.8000042&lt;br/&gt;
&amp;#8211; Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc&lt;br/&gt;
&amp;#8211; Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc &amp;#8211; works&lt;br/&gt;
&amp;#8211; Detecting C compiler ABI info&lt;br/&gt;
&amp;#8211; Detecting C compiler ABI info - done&lt;br/&gt;
&amp;#8211; Detecting C compile features&lt;br/&gt;
&amp;#8211; Detecting C compile features - done&lt;br/&gt;
&amp;#8211; Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++&lt;br/&gt;
&amp;#8211; Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ &amp;#8211; works&lt;br/&gt;
&amp;#8211; Detecting CXX compiler ABI info&lt;br/&gt;
&amp;#8211; Detecting CXX compiler ABI info - done&lt;br/&gt;
&amp;#8211; Detecting CXX compile features&lt;br/&gt;
&amp;#8211; Detecting CXX compile features - done&lt;br/&gt;
&amp;#8211; Found FLEX: /usr/bin/flex (found version &quot;2.5.35&quot;) &lt;br/&gt;
&amp;#8211; Found BISON: /usr/local/bin/bison (found version &quot;3.0.4&quot;) &lt;br/&gt;
CMake Error at CMakeLists.txt:152 (install):&lt;br/&gt;
  install TARGETS given no RUNTIME DESTINATION for executable target&lt;br/&gt;
  &quot;thrift-compiler&quot;.&lt;/p&gt;


&lt;p&gt;CMake Warning (dev) in CMakeLists.txt:&lt;br/&gt;
  No cmake_minimum_required command is present.  A line of code such as&lt;/p&gt;

&lt;p&gt;    cmake_minimum_required(VERSION 3.7)&lt;/p&gt;

&lt;p&gt;  should be added at the top of the file.  The version specified may be lower&lt;br/&gt;
  if you wish to support older CMake versions for this project.  For more&lt;br/&gt;
  information run &quot;cmake --help-policy CMP0000&quot;.&lt;br/&gt;
This warning is for project developers.  Use -Wno-dev to suppress it.&lt;/p&gt;

&lt;p&gt;&amp;#8211; Configuring incomplete, errors occurred!&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;macOS Sierra + CMake 3.7.2&lt;/p&gt;</environment>
        <key id="13036134">THRIFT-4034</key>
            <summary>CMake doesn&apos;t work to build compiler on MacOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Robert Lu">Robert Lu</assignee>
                                    <reporter username="Robert Lu">Robert Lu</reporter>
                        <labels>
                            <label>beginner</label>
                    </labels>
                <created>Thu, 19 Jan 2017 08:58:25 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:18 +0000</updated>
                            <resolved>Mon, 23 Jan 2017 14:07:32 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Compiler (General)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15829562" author="githubbot" created="Thu, 19 Jan 2017 09:11:18 +0000"  >&lt;p&gt;Github user RobberPhex commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4034&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-4034&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15830067" author="githubbot" created="Thu, 19 Jan 2017 15:01:19 +0000"  >&lt;p&gt;Github user jeking3 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161#discussion_r96876704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161#discussion_r96876704&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: compiler/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -101,9 +102,6 @@ THRIFT_ADD_COMPILER(xml     &quot;Enable compiler for XML&quot; ON)&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;we also add the current binary directory for generated files&lt;br/&gt;
     include_directories(${CMAKE_CURRENT_BINARY_DIR} src)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    -if(NOT ${WITH_PLUGIN})&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This will break the thrift compiler plug-in module support.&lt;/p&gt;</comment>
                            <comment id="15830068" author="githubbot" created="Thu, 19 Jan 2017 15:01:19 +0000"  >&lt;p&gt;Github user jeking3 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161#discussion_r96876857&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161#discussion_r96876857&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: compiler/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -16,30 +16,30 @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;specific language governing permissions and limitations&lt;/li&gt;
	&lt;li&gt;under the License.&lt;br/&gt;
     #&lt;br/&gt;
    +cmake_minimum_required(VERSION 2.8.12)&lt;br/&gt;
    +&lt;br/&gt;
    +set(BIN_INSTALL_DIR ${CMAKE_INSTALL_PREFIX}/bin)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;     configure_file(${CMAKE_CURRENT_SOURCE_DIR}/src/thrift/version.h.in ${CMAKE_CURRENT_BINARY_DIR}/thrift/version.h)&lt;/p&gt;

&lt;p&gt;     find_package(FLEX REQUIRED)&lt;br/&gt;
     find_package(BISON REQUIRED)&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Create flex and bison files and build the lib parse static library&lt;br/&gt;
    -BISON_TARGET(thrifty ${CMAKE_CURRENT_SOURCE_DIR}/src/thrift/thrifty.yy ${CMAKE_CURRENT_BINARY_DIR}/thrift/thrifty.cc)&lt;br/&gt;
    +BISON_TARGET(thrifty&lt;br/&gt;
    +        ${CMAKE_CURRENT_SOURCE_DIR}/src/thrift/thrifty.yy&lt;br/&gt;
    +        ${CMAKE_CURRENT_BINARY_DIR}/thrift/thrifty.cc&lt;br/&gt;
    +        DEFINES_FILE ${CMAKE_CURRENT_BINARY_DIR}/thrift/thrifty.h)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Nice addition of DEFINES_FILE so rebuilds are not triggered - I was wondering why successive build runs would rebuild the compiler - this is probably one fix for such a case.&lt;/p&gt;</comment>
                            <comment id="15830069" author="githubbot" created="Thu, 19 Jan 2017 15:01:19 +0000"  >&lt;p&gt;Github user jeking3 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161#discussion_r96876685&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161#discussion_r96876685&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: compiler/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -53,6 +53,7 @@ set(compiler_core&lt;br/&gt;
     set(thrift-compiler_SOURCES&lt;br/&gt;
         src/thrift/main.cc&lt;br/&gt;
         src/thrift/audit/t_audit.cpp&lt;br/&gt;
    +    ${compiler_core}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This will break the thrift compiler plug-in module support.&lt;/p&gt;</comment>
                            <comment id="15833618" author="githubbot" created="Sun, 22 Jan 2017 17:29:37 +0000"  >&lt;p&gt;Github user RobberPhex commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    All ci have passed, finally.&lt;/p&gt;

&lt;p&gt;    Please merge this pr. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212;&lt;br/&gt;
     change list:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;appveyor have installed openssl, removed installation of openssl&lt;/li&gt;
	&lt;li&gt;remove HACK of `thrifty.hh` rename to `thrifty.h`&lt;/li&gt;
	&lt;li&gt;*&lt;b&gt;thrift-compiler can build by cmake, `compiler/cpp/README.md` can work.&lt;/b&gt;*&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15833864" author="githubbot" created="Mon, 23 Jan 2017 03:30:14 +0000"  >&lt;p&gt;Github user jeking3 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161#discussion_r97247885&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161#discussion_r97247885&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: compiler/cpp/CMakeLists.txt &amp;#8212;&lt;br/&gt;
    @@ -53,6 +53,7 @@ set(compiler_core&lt;br/&gt;
     set(thrift-compiler_SOURCES&lt;br/&gt;
         src/thrift/main.cc&lt;br/&gt;
         src/thrift/audit/t_audit.cpp&lt;br/&gt;
    +    ${compiler_core}&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This will still break the thrift compiler plug-in module support, won&apos;t it?  The compiler_core modules must be conditionally added depending on the WITH_PLUGIN setting.&lt;/p&gt;</comment>
                            <comment id="15833919" author="githubbot" created="Mon, 23 Jan 2017 05:14:06 +0000"  >&lt;p&gt;Github user RobberPhex commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jeking3 fixed&lt;/p&gt;</comment>
                            <comment id="15833942" author="githubbot" created="Mon, 23 Jan 2017 06:00:00 +0000"  >&lt;p&gt;Github user RobberPhex commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @jeking3 I think `/CMakeList.txt` is the only entrance, we can just improve document, to fix this issue, is it?&lt;/p&gt;</comment>
                            <comment id="15834528" author="githubbot" created="Mon, 23 Jan 2017 13:54:44 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1161&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/thrift/pull/1161]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38x3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>