<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:05:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1626] concurrency::Mutex timedlock fix and lesser improvements</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1626</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Thrift concurrency::Mutex have had its timedlock implemented slightly wrong. &lt;br/&gt;
Patched it. Added a pretty simple emulation when a platform does not provide pthread_mutex_timedlock. The solution seems to be close to the one used in Mono for Android. Manually tested under android-8, works fine.&lt;/p&gt;

&lt;p&gt;Patch summary:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Correct timed lock timeouts and emulation on platforms where it is not supported.&lt;/li&gt;
	&lt;li&gt;Header config.h now being included conditionally as it supposed to.&lt;/li&gt;
	&lt;li&gt;Make internally used preprocessor definition names more specific and more likely to be unique.&lt;br/&gt;
    This will suppress error messages and wrong endianness deduction when compiling Thrift core C++&lt;br/&gt;
    library on Android.&lt;/li&gt;
	&lt;li&gt;Reorder header inclusion to ensure config.h will always be included before any platform stuff.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12559857">THRIFT-1626</key>
            <summary>concurrency::Mutex timedlock fix and lesser improvements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="keynslug">Andrew Majorov</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 8 Jun 2012 15:19:57 +0000</created>
                <updated>Wed, 20 Jun 2012 13:02:15 +0000</updated>
                            <resolved>Tue, 19 Jun 2012 20:42:44 +0000</resolved>
                                    <version>0.8</version>
                    <version>0.9</version>
                                                    <component>C++ - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13397056" author="roger.meier" created="Tue, 19 Jun 2012 20:42:44 +0000"  >&lt;p&gt;thanks Andrew!&lt;/p&gt;

&lt;p&gt;;-r&lt;/p&gt;</comment>
                            <comment id="13397092" author="hudson" created="Tue, 19 Jun 2012 21:43:03 +0000"  >&lt;p&gt;Integrated in Thrift #503 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/503/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/503/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1626&quot; title=&quot;concurrency::Mutex timedlock fix and lesser improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1626&quot;&gt;&lt;del&gt;THRIFT-1626&lt;/del&gt;&lt;/a&gt; concurrency::Mutex timedlock fix and lesser improvements&lt;br/&gt;
Patch: Andrew Majorov (Revision 1351845)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
roger : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1351845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1351845&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/thrift/trunk/lib/cpp/src/thrift/concurrency/Mutex.cpp&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/cpp/src/thrift/protocol/TProtocol.h&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/cpp/src/thrift/transport/TSocket.h&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/cpp/src/thrift/transport/TTransportException.cpp&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13397480" author="keynslug" created="Wed, 20 Jun 2012 13:01:03 +0000"  >&lt;p&gt;Great news!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12531404" name="thrift_timedlock_fix_improvements.patch" size="4474" author="keynslug" created="Fri, 8 Jun 2012 15:20:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06cin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>