<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:55:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-154] Python THttpClient fails with https sites</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-154</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;THttpClient contains a hard-coded reference to httplib.HTTP() which prevents it from working with any SSL sites.&lt;/p&gt;

&lt;p&gt;Here&apos;s a small patch that will at least use SSL when the port is 443.  I&apos;m not much of a Python expert, but I think (based on the current docs for the &apos;httplib&apos; module) that a better solution would be to rewrite the THttpClient to take a URL instead of host+port+uri and then use the urllib module instead of the lower-level httplib, but this little patch will at least allow basic interoperability against HTTPS.&lt;/p&gt;


&lt;p&gt;Index: lib/py/src/transport/THttpClient.py&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; lib/py/src/transport/THttpClient.py	(revision 701711)&lt;br/&gt;
+++ lib/py/src/transport/THttpClient.py	(working copy)&lt;br/&gt;
@@ -21,7 +21,10 @@&lt;br/&gt;
     self.__http = None&lt;/p&gt;

&lt;p&gt;   def open(self):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;self.__http = httplib.HTTP(self.host, self.port)&lt;br/&gt;
+    if self.port == httplib.HTTPS_PORT:&lt;br/&gt;
+      self.__http = httplib.HTTPS(self.host, self.port)&lt;br/&gt;
+    else:&lt;br/&gt;
+      self.__http = httplib.HTTP(self.host, self.port)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   def close(self):&lt;br/&gt;
     self.__http.close()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405749">THRIFT-154</key>
            <summary>Python THttpClient fails with https sites</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="engberg">Dave Engberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Oct 2008 22:07:52 +0000</created>
                <updated>Tue, 1 Nov 2011 02:52:21 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 06:22:08 +0000</resolved>
                                                    <fixVersion>0.1</fixVersion>
                                    <component>Python - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12636860" author="engberg" created="Sat, 4 Oct 2008 22:08:10 +0000"  >&lt;p&gt;Patch&lt;/p&gt;</comment>
                            <comment id="12636943" author="shigin" created="Sun, 5 Oct 2008 19:09:59 +0000"  >&lt;p&gt;I think there are three possibility:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;your patch: determine server type by port (cons: https on port 8443);&lt;/li&gt;
	&lt;li&gt;make a child of THttpTransport, THttpsTransport with overloaded open;&lt;/li&gt;
	&lt;li&gt;introduce new constructor for THttpTransport only with uri.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I prefer the last variant, the transport creates like: THttpClient(&quot;https://remotehost:8443/thrift-test&quot;).&lt;/p&gt;</comment>
                            <comment id="12636945" author="shigin" created="Sun, 5 Oct 2008 19:11:57 +0000"  >&lt;p&gt;Patch to support THttpClient(&apos;https://ru/thrift-test&apos;)&lt;/p&gt;</comment>
                            <comment id="12637772" author="dreiss" created="Wed, 8 Oct 2008 04:44:53 +0000"  >&lt;p&gt;It makes me a little nervous to have two such completely different semantics in a language without static typing, but it seems like a move in the right direction, so I&apos;ll second it.  I&apos;ve made a few small additions to it.  What do you guys think?&lt;br/&gt;
&lt;a href=&quot;http://gitweb.thrift-rpc.org/?p=thrift.git;a=log;h=refs/heads/pri/dreiss/t154;hb=HEAD&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://gitweb.thrift-rpc.org/?p=thrift.git;a=log;h=refs/heads/pri/dreiss/t154;hb=HEAD&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12637835" author="shigin" created="Wed, 8 Oct 2008 09:18:44 +0000"  >&lt;p&gt;I prefer DeprecationWarning on call like THttpTransport(&apos;host&apos;, port, &apos;/uri&apos;).&lt;/p&gt;</comment>
                            <comment id="12640646" author="dreiss" created="Fri, 17 Oct 2008 19:52:05 +0000"  >&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/thrift/HttpVote&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/thrift/HttpVote&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12688734" author="shigin" created="Tue, 24 Mar 2009 16:21:17 +0000"  >&lt;p&gt;The patch throw DeprecationWarning if constructor is called with old syntax. It would be great if someone fix warning message.&lt;/p&gt;</comment>
                            <comment id="12688948" author="dreiss" created="Wed, 25 Mar 2009 00:04:47 +0000"  >&lt;p&gt;The warning wasn&apos;t showing up for me with your patch.  This one seems to work.  Thoughts?&lt;/p&gt;</comment>
                            <comment id="12689010" author="shigin" created="Wed, 25 Mar 2009 06:08:56 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12403579" name="ASF.LICENSE.NOT.GRANTED--0001-THRIFT-154.-python-Make-THttpClient-take-a-URL-in-i.patch" size="2434" author="dreiss" created="Wed, 25 Mar 2009 00:04:23 +0000"/>
                            <attachment id="12391477" name="THttpClient.py.diff" size="554" author="engberg" created="Sat, 4 Oct 2008 22:08:10 +0000"/>
                            <attachment id="12403529" name="thrift-http-url.patch" size="1970" author="shigin" created="Tue, 24 Mar 2009 16:21:17 +0000"/>
                            <attachment id="12391500" name="thrift-py-http-uri.patch" size="1387" author="shigin" created="Sun, 5 Oct 2008 19:11:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16b0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>