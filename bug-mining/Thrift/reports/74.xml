<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:54:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-302] Native extension fails to build</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-302</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;The Ruby native extension fails to build in Linux (Ubuntu 8.04) due to:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;files not ending in a newline (just a warning, but make aborts since extconf.rb uses -Werror)&lt;/li&gt;
	&lt;li&gt;strlcpy not being available in Linux. I&apos;ve replaced it with strncpy, although it&apos;s not exactly the same. If we want to use the former, strlcpy&apos;s source code should be included.&lt;/li&gt;
	&lt;li&gt;uint8_t, uint32_t, etc. not found. I just added stdint.h to binary_protocol_accelerated.c&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12413810">THRIFT-302</key>
            <summary>Native extension fails to build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="esteve">Esteve Fernandez</assignee>
                                    <reporter username="esteve">Esteve Fernandez</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Feb 2009 19:02:18 +0000</created>
                <updated>Tue, 1 Nov 2011 02:51:35 +0000</updated>
                            <resolved>Tue, 3 Feb 2009 18:17:11 +0000</resolved>
                                                                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12669691" author="esteve" created="Mon, 2 Feb 2009 19:03:37 +0000"  >&lt;p&gt;Build log&lt;/p&gt;</comment>
                            <comment id="12669692" author="esteve" created="Mon, 2 Feb 2009 19:05:49 +0000"  >&lt;p&gt;This patch should fix the issues reported, but a code review is strongly desirable as I&apos;m no Ruby expert &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12669700" author="kclark" created="Mon, 2 Feb 2009 19:13:18 +0000"  >&lt;p&gt;We fixed strlcpy by including it with an ifdef previously. It must have been removed in the big reorg.&lt;/p&gt;</comment>
                            <comment id="12669716" author="bryanduxbury" created="Mon, 2 Feb 2009 19:40:56 +0000"  >&lt;p&gt;Does the extenstion actually use strlcpy anywhere anymore? Maybe it&apos;s my mistake for not fixing the makefile?&lt;/p&gt;</comment>
                            <comment id="12669718" author="kclark" created="Mon, 2 Feb 2009 19:48:17 +0000"  >&lt;p&gt;It&apos;s being used:&lt;/p&gt;

&lt;p&gt;sisyphus:~/code/thrift kev$ g g strlcpy&lt;br/&gt;
lib/rb/ext/extconf.rb:have_func(&quot;strlcpy&quot;, &quot;string.h&quot;)&lt;br/&gt;
lib/rb/ext/struct.c:  strlcpy(&amp;amp;name_buf&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, RSTRING(field_name)-&amp;gt;ptr, sizeof(nam&lt;br/&gt;
lib/rb/ext/struct.c:  strlcpy(&amp;amp;name_buf&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, RSTRING(field_name)-&amp;gt;ptr, sizeof(nam&lt;/p&gt;

&lt;p&gt;in get_field_value (232) and set_field_value (416).&lt;/p&gt;</comment>
                            <comment id="12669813" author="bryanduxbury" created="Tue, 3 Feb 2009 00:39:01 +0000"  >&lt;p&gt;Someone enlighten me as to why we&apos;d want to use strlcpy over strncpy? Is there any practical difference?&lt;/p&gt;</comment>
                            <comment id="12669819" author="cwalters" created="Tue, 3 Feb 2009 00:48:19 +0000"  >&lt;p&gt;Becaue strncpy is severely brain-damaged.&lt;/p&gt;</comment>
                            <comment id="12669838" author="vicaya" created="Tue, 3 Feb 2009 01:44:50 +0000"  >&lt;p&gt;With strncpy, you need to do an extra dest&lt;span class=&quot;error&quot;&gt;&amp;#91;bufsize - 1&amp;#93;&lt;/span&gt; = 0; to ensure dest buf is null terminated. See strncpy(3) for details. &lt;/p&gt;</comment>
                            <comment id="12669903" author="esteve" created="Tue, 3 Feb 2009 09:27:26 +0000"  >&lt;p&gt;This patch includes strlcpy&apos;s source code and uses it instead of strncpy&lt;/p&gt;</comment>
                            <comment id="12669907" author="ahfeel" created="Tue, 3 Feb 2009 09:36:37 +0000"  >&lt;p&gt;Looks clean, +1&lt;/p&gt;</comment>
                            <comment id="12670040" author="kclark" created="Tue, 3 Feb 2009 18:10:03 +0000"  >&lt;p&gt;This looks fine to me. +1&lt;/p&gt;

&lt;p&gt;I&apos;ll push today if Bryan doesn&apos;t beat me to it.&lt;/p&gt;</comment>
                            <comment id="12670043" author="bryanduxbury" created="Tue, 3 Feb 2009 18:17:11 +0000"  >&lt;p&gt;I just committed this. Thanks for doing all the legwork!&lt;/p&gt;</comment>
                            <comment id="12670072" author="dreiss" created="Tue, 3 Feb 2009 19:28:48 +0000"  >&lt;p&gt;Where did yo get the source for strlcpy?  Do we need to include a copyright notice?&lt;/p&gt;</comment>
                            <comment id="12670084" author="esteve" created="Tue, 3 Feb 2009 19:57:58 +0000"  >&lt;p&gt;I took it from the old Ruby extension:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/incubator/thrift/trunk/lib/rb/ext/binaryprotocolaccelerated.c?view=markup&amp;amp;pathrev=739894&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/incubator/thrift/trunk/lib/rb/ext/binaryprotocolaccelerated.c?view=markup&amp;amp;pathrev=739894&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12670092" author="kclark" created="Tue, 3 Feb 2009 20:13:36 +0000"  >&lt;p&gt;That means it came from me. I&apos;m trying to track down where I got it now..&lt;/p&gt;</comment>
                            <comment id="12670132" author="kclark" created="Tue, 3 Feb 2009 22:01:54 +0000"  >&lt;p&gt;Looks like it came from krb4, and the headers imply BSD licensed:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Copyright (c) 1995-2002 Kungliga Tekniska H&#246;gskolan&lt;/li&gt;
	&lt;li&gt;(Royal Institute of Technology, Stockholm, Sweden).&lt;/li&gt;
	&lt;li&gt;All rights reserved.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Redistribution and use in source and binary forms, with or without&lt;/li&gt;
	&lt;li&gt;modification, are permitted provided that the following conditions&lt;/li&gt;
	&lt;li&gt;are met:&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;1. Redistributions of source code must retain the above copyright&lt;/li&gt;
	&lt;li&gt;notice, this list of conditions and the following disclaimer.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;2. Redistributions in binary form must reproduce the above copyright&lt;/li&gt;
	&lt;li&gt;notice, this list of conditions and the following disclaimer in the&lt;/li&gt;
	&lt;li&gt;documentation and/or other materials provided with the distribution.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;3. Neither the name of the Institute nor the names of its contributors&lt;/li&gt;
	&lt;li&gt;may be used to endorse or promote products derived from this software&lt;/li&gt;
	&lt;li&gt;without specific prior written permission.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS&apos;&apos; AND&lt;/li&gt;
	&lt;li&gt;ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE&lt;/li&gt;
	&lt;li&gt;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE&lt;/li&gt;
	&lt;li&gt;ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE&lt;/li&gt;
	&lt;li&gt;FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL&lt;/li&gt;
	&lt;li&gt;DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS&lt;/li&gt;
	&lt;li&gt;OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)&lt;/li&gt;
	&lt;li&gt;HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT&lt;/li&gt;
	&lt;li&gt;LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY&lt;/li&gt;
	&lt;li&gt;OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF&lt;/li&gt;
	&lt;li&gt;SUCH DAMAGE.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</comment>
                            <comment id="12670141" author="dreiss" created="Tue, 3 Feb 2009 22:13:43 +0000"  >&lt;p&gt;So does that mean we need to add this to the source file and the README?&lt;/p&gt;</comment>
                            <comment id="12670143" author="kclark" created="Tue, 3 Feb 2009 22:16:03 +0000"  >&lt;p&gt;Yes&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12399286" name="ruby_ext_errors.log" size="2018" author="esteve" created="Mon, 2 Feb 2009 19:03:37 +0000"/>
                            <attachment id="12399287" name="thrift-302.patch" size="4474" author="esteve" created="Mon, 2 Feb 2009 19:05:49 +0000"/>
                            <attachment id="12399343" name="thrift-302_v2.patch" size="4538" author="esteve" created="Tue, 3 Feb 2009 09:27:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16c9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>