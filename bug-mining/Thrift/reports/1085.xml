<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:15:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2773] Generated Java code for &apos;oneway&apos; methods is incorrect.</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2773</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;While the ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2704&quot; title=&quot;generated oneway functions encode as T_CALL not T_ONEWAY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2704&quot;&gt;&lt;del&gt;THRIFT-2704&lt;/del&gt;&lt;/a&gt; (and associated pull request &lt;a href=&quot;https://github.com/apache/thrift/pull/216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/216&lt;/a&gt;) adds support to Java for &apos;oneway&apos; service calls, the changes only apply to the generated AsyncClient.&lt;/p&gt;

&lt;p&gt;The synchronous client code calls TServiceClient.sendBase() which always generates a TMessage of type T_CALL. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;oneway-test.thrift&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;service TestService {
    oneway void testFunction();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;TestService.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestService {
&#8942;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Client &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.thrift.TServiceClient &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Iface {
    &#8942;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void send_testFunction() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; org.apache.thrift.TException
    {
      &#8942;
      sendBase(&lt;span class=&quot;code-quote&quot;&gt;&quot;testFunction&quot;&lt;/span&gt;, args); &lt;span class=&quot;code-comment&quot;&gt;// note the lack of message type here
&lt;/span&gt;    }
  }
  &#8942;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AsyncClient &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.thrift.async.TAsyncClient &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; AsyncIface {
    &#8942;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;testFunction_call &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; org.apache.thrift.async.TAsyncMethodCall {
      &#8942;
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void write_args(org.apache.thrift.protocol.TProtocol prot) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; org.apache.thrift.TException {
        prot.writeMessageBegin(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.thrift.protocol.TMessage(&lt;span class=&quot;code-quote&quot;&gt;&quot;testFunction&quot;&lt;/span&gt;, org.apache.thrift.protocol.TMessageType.ONEWAY, 0)); &lt;span class=&quot;code-comment&quot;&gt;// ONEWAY is specified correctly
&lt;/span&gt;        testFunction_args args = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; testFunction_args();
        args.write(prot);
        prot.writeMessageEnd();
      }
      &#8942;
    }
  }
&#8942;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;TServiceClient.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TServiceClient {
&#8942;
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void sendBase(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; methodName, TBase args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; TException {
    oprot_.writeMessageBegin(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TMessage(methodName, TMessageType.CALL, ++seqid_)); &lt;span class=&quot;code-comment&quot;&gt;// note hardcoded CALL
&lt;/span&gt;    &#8942;
  }
&#8942;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Mac OS X&lt;/p&gt;</environment>
        <key id="12746539">THRIFT-2773</key>
            <summary>Generated Java code for &apos;oneway&apos; methods is incorrect.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hcorg">Konrad Grochowski</assignee>
                                    <reporter username="adamzegelin">Adam Zegelin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Oct 2014 23:14:41 +0000</created>
                <updated>Sat, 20 Feb 2021 15:28:19 +0000</updated>
                            <resolved>Thu, 6 Nov 2014 18:11:37 +0000</resolved>
                                                    <fixVersion>0.9.3</fixVersion>
                                    <component>Java - Compiler</component>
                    <component>Java - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14163286" author="githubbot" created="Wed, 8 Oct 2014 10:05:24 +0000"  >&lt;p&gt;GitHub user hcorg opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/241&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/241&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient&lt;/p&gt;

&lt;p&gt;    Client: java&lt;br/&gt;
    Patch: Konrad Grochowski&lt;/p&gt;

&lt;p&gt;    new method for oneway call provided by TServiceClient&lt;br/&gt;
    and compiler will now use it&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/hcorg/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hcorg/thrift&lt;/a&gt; java_oneway_part2&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/241.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/241.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #241&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5c95401470388a242a59463b167de4f59b92d28e&lt;br/&gt;
Author: Konrad Grochowski &amp;lt;hcorg@apache.org&amp;gt;&lt;br/&gt;
Date:   2014-10-08T09:52:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient&lt;/p&gt;

&lt;p&gt;    Client: java&lt;br/&gt;
    Patch: Konrad Grochowski&lt;/p&gt;

&lt;p&gt;    new method for oneway call provided by TServiceClient&lt;br/&gt;
    and compiler will now use it&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14163287" author="hcorg" created="Wed, 8 Oct 2014 10:08:03 +0000"  >&lt;p&gt;my bad, I missed that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;awaiting review&lt;/p&gt;</comment>
                            <comment id="14163300" author="hudson" created="Wed, 8 Oct 2014 10:22:01 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-precommit #22 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/22/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/22/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient (hcorg: rev 5c95401470388a242a59463b167de4f59b92d28e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/TServiceClient.java&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14163324" author="hudson" created="Wed, 8 Oct 2014 10:52:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-precommit #23 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/23/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/23/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient (hcorg: rev 575ff7d710f115421dd89ac16bb3897c3b01ae37)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/TServiceClient.java&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14165026" author="hudson" created="Thu, 9 Oct 2014 11:35:55 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-precommit #28 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/28/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/28/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient (hcorg: rev b73d220ab5830e1ad9517b235fe75c542ef92e88)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/TServiceClient.java&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14200580" author="githubbot" created="Thu, 6 Nov 2014 18:15:48 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/241&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/241&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14200692" author="hudson" created="Thu, 6 Nov 2014 19:15:01 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1334 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1334/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1334/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2773&quot; title=&quot;Generated Java code for &amp;#39;oneway&amp;#39; methods is incorrect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2773&quot;&gt;&lt;del&gt;THRIFT-2773&lt;/del&gt;&lt;/a&gt;: java - fixed oneway support while using TServiceClient (hcorg: rev cc092b37c8665384f2f7cb60d184a44f59ac3ba3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/TServiceClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20wlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>