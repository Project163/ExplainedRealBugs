<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:20:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3338] Stray underscore in generated go when service name starts with &quot;New&quot;</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3338</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Running against Thrift master branch at revision &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git;a=commit;h=ff4a8edd50621fb6aab7dbbf6968d4322700ed7d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ff4a8ed&lt;/a&gt;, a service with a name starting with &quot;New&quot; results in some generated code having an extra underscore, and thus not correctly referring to a defined datatype.&lt;/p&gt;

&lt;p&gt;In the example below, to simple services are created, one names &quot;Something&quot; and the other &quot;Newsomething&quot;.&lt;/p&gt;

&lt;p&gt;Note in the &quot;Newsomething&quot; service, the generated type is &lt;tt&gt;newsomethingProcessorFunc&lt;/tt&gt; while in &lt;tt&gt;NewNewsomething_Processor&lt;/tt&gt; it is referred to as &lt;tt&gt;newsomething_ProcessorFunc&lt;/tt&gt; which fails to compile.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;################################
# file s.thrift
service Something {
  void func(1: i64 i)
}
service Newsomething {
  void func(1: i64 i)
}

################################
$ thrift thrift -out gen --gen go s.thrift 

################################
#  file gen/s/something.go
func NewSomethingProcessor(handler Something) *SomethingProcessor {
	...
	self7.processorMap[&lt;span class=&quot;code-quote&quot;&gt;&quot;func&quot;&lt;/span&gt;] = &amp;amp;somethingProcessorFunc{handler: handler}
	...
}

type somethingProcessorFunc struct {
...

################################
# file gen/s/newsomething.go
func NewNewsomething_Processor(handler Newsomething_) *Newsomething_Processor {
	...
	self2.processorMap[&lt;span class=&quot;code-quote&quot;&gt;&quot;func&quot;&lt;/span&gt;] = &amp;amp;newsomething_ProcessorFunc{handler: handler}
	...
}

type newsomethingProcessorFunc struct {
...

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ thrift --version
Thrift version 1.0.0-dev
$ go version
go version go1.4.2 darwin/amd64
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;OS X, go1.4.2&lt;/p&gt;</environment>
        <key id="12895186">THRIFT-3338</key>
            <summary>Stray underscore in generated go when service name starts with &quot;New&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="patrick.mahoney@rackspace.com">Patrick Mahoney</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Sep 2015 17:34:51 +0000</created>
                <updated>Sat, 20 Feb 2021 15:26:48 +0000</updated>
                            <resolved>Mon, 21 Sep 2015 22:47:22 +0000</resolved>
                                                    <fixVersion>0.9.3</fixVersion>
                                    <component>Go - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14901519" author="hudson" created="Mon, 21 Sep 2015 22:22:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1658 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1658/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1658/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3338&quot; title=&quot;Stray underscore in generated go when service name starts with &amp;quot;New&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3338&quot;&gt;&lt;del&gt;THRIFT-3338&lt;/del&gt;&lt;/a&gt; Stray underscore in generated go when service name starts with &quot;New&quot; (jensg: rev 293e2f450b22a993516c7703645540e72e7d3e85)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_go_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14901567" author="jensg" created="Mon, 21 Sep 2015 22:47:22 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12761495" name="0001-THRIFT-3338-Stray-underscore-in-generated-go-when-se.patch" size="906" author="jensg" created="Mon, 21 Sep 2015 21:19:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lcuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>