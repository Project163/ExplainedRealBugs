<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:32:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-5120] TypeError: fs.copyFileSync is not a function</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-5120</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Blocker because it breaks CI&lt;/p&gt;</description>
                <environment></environment>
        <key id="13287852">THRIFT-5120</key>
            <summary>TypeError: fs.copyFileSync is not a function</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janosvitok">Jano Svitok</assignee>
                                    <reporter username="jensg">Jens Geyer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2020 21:10:54 +0000</created>
                <updated>Tue, 2 Mar 2021 19:34:09 +0000</updated>
                            <resolved>Tue, 10 Mar 2020 21:43:39 +0000</resolved>
                                                                    <component>JavaScript - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17045904" author="jensg" created="Wed, 26 Feb 2020 21:11:27 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
10370 Running &lt;span class=&quot;code-quote&quot;&gt;&quot;jsdoc:dist&quot;&lt;/span&gt; (jsdoc) task
10371 &amp;gt;&amp;gt; /thrift/src/lib/js/node_modules/jsdoc/lib/jsdoc/fs.js:97
10372 &amp;gt;&amp;gt;     fs.copyFileSync(inFile, path.join(outDir, fileName));
10373 &amp;gt;&amp;gt;        ^
10374 &amp;gt;&amp;gt; 
10375 &amp;gt;&amp;gt; TypeError: fs.copyFileSync is not a function
10376 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.exports.copyFileSync (/thrift/src/lib/js/node_modules/jsdoc/lib/jsdoc/fs.js:97:8)
10377 &amp;gt;&amp;gt;     at staticFiles.forEach.fileName (/thrift/src/lib/js/node_modules/jsdoc/templates/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/publish.js:506:12)
10378 &amp;gt;&amp;gt;     at Array.forEach (&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
10379 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.exports.publish (/thrift/src/lib/js/node_modules/jsdoc/templates/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/publish.js:502:17)
10380 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.module.exports.cli.generateDocs.e [as generateDocs] (/thrift/src/lib/js/node_modules/jsdoc/cli.js:441:39)
10381 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.module.exports.cli.processParseResults (/thrift/src/lib/js/node_modules/jsdoc/cli.js:392:24)
10382 &amp;gt;&amp;gt;     at module.exports.cli.main (/thrift/src/lib/js/node_modules/jsdoc/cli.js:235:18)
10383 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.module.exports.cli.runCommand.cb [as runCommand] (/thrift/src/lib/js/node_modules/jsdoc/cli.js:186:9)
10384 &amp;gt;&amp;gt;     at __dirname (/thrift/src/lib/js/node_modules/jsdoc/jsdoc.js:93:9)
10385 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.&amp;lt;anonymous&amp;gt; (/thrift/src/lib/js/node_modules/jsdoc/jsdoc.js:94:3)
10386 &amp;gt;&amp;gt;     at Module._compile (module.js:577:32)
10387 &amp;gt;&amp;gt;     at &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.Module._extensions..js (module.js:586:10)
10388 &amp;gt;&amp;gt;     at Module.load (module.js:494:32)
10389 &amp;gt;&amp;gt;     at tryModuleLoad (module.js:453:12)
10390 &amp;gt;&amp;gt;     at Function.Module._load (module.js:445:3)
10391 &amp;gt;&amp;gt;     at Module.runMain (module.js:611:10)
10392 Warning: jsdoc terminated with a non-zero exit code Use --force to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;.
10393
10394 Aborted due to warnings.
10395 Makefile:829: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;check-local&apos;&lt;/span&gt; failed
10396 make[4]: *** [check-local] Error 3
10397 make[4]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib/js&apos;&lt;/span&gt;
10398 Makefile:700: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;check-am&apos;&lt;/span&gt; failed
10399 make[3]: *** [check-am] Error 2
10400 make[3]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib/js&apos;&lt;/span&gt;
10401 Makefile:547: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;check-recursive&apos;&lt;/span&gt; failed
10402 make[2]: *** [check-recursive] Error 1
10403 make[2]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib/js&apos;&lt;/span&gt;
10404 Makefile:579: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;check-recursive&apos;&lt;/span&gt; failed
10405 make[1]: *** [check-recursive] Error 1
10406 make[1]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib&apos;&lt;/span&gt;
10407 Makefile:679: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;check-recursive&apos;&lt;/span&gt; failed
10408 make: *** [check-recursive] Error 1
10409 The command &lt;span class=&quot;code-quote&quot;&gt;&quot;build/docker/run.sh&quot;&lt;/span&gt; exited with 2.
10410 
10411 
10412 Done. Your build exited with 1.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17054197" author="janosvitok" created="Sat, 7 Mar 2020 20:36:09 +0000"  >&lt;p&gt;From the log:&lt;br/&gt;
---------------------&lt;br/&gt;
Pre-installed Node.js versions&lt;br/&gt;
v4.8.6&lt;br/&gt;
v6.12.0&lt;br/&gt;
v6.12.1&lt;br/&gt;
v8.9&lt;br/&gt;
v8.9.1&lt;/p&gt;

&lt;p&gt;PATH=/home/travis/bin:/home/travis/.local/bin:/opt/pyenv/shims:/home/travis/.phpenv/shims:/home/travis/perl5/perlbrew/bin:/home/travis/.&lt;b&gt;nvm/versions/node/v8.9.1/bin&lt;/b&gt;:/home/travis/.kiex/elixirs/elixir-1.4.5/bin:/home/travis/.kiex/bin:/home/travis/.rvm/gems/ruby-2.4.1/bin:/home/travis/.rvm/gems/ruby-2.4.1@global/bin:/home/travis/.rvm/rubies/ruby-2.4.1/bin:/home/travis/gopath/bin:/home/travis/.gimme/versions/go1.7.4.linux.amd64/bin:/usr/local/phantomjs/bin:/usr/local/phantomjs:/usr/local/neo4j-3.2.7/bin:/usr/local/maven-3.5.2/bin:/usr/local/cmake-3.9.2/bin:/usr/local/clang-5.0.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/travis/.rvm/bin:/home/travis/.phpenv/bin:/opt/pyenv/bin:/home/travis/.yarn/bin&lt;/p&gt;

&lt;p&gt;NodeJS Library:&lt;br/&gt;
   Using NodeJS .............. : /usr/bin/nodejs&lt;br/&gt;
   Using NodeJS version....... : v6.17.1&lt;br/&gt;
---------------------&lt;/p&gt;

&lt;p&gt;package.json:&lt;br/&gt;
---------------------&lt;br/&gt;
    &quot;jsdoc&quot;: &quot;^3.6.3&quot;,&lt;br/&gt;
---------------------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jsdoc/jsdoc/issues/1671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jsdoc/jsdoc/issues/1671&lt;/a&gt; :&lt;br/&gt;
---------------------&lt;br/&gt;
In the screenshot you provided, the path to lib\jsdoc\fs.js includes the string nodev6. That makes me wonder if you&apos;re trying to run JSDoc with Node.js 6.x, not 10.15.3.&lt;/p&gt;

&lt;p&gt;If so, that would explain the error, because fs.copyFileSync() was added in Node.js 8.5.0. That&apos;s one reason why JSDoc 3.6.3 requires Node.js &amp;gt;=8.15.0.&lt;br/&gt;
---------------------&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bxdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>