<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:27:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4232] ./configure does bad ant version check</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4232</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;On line 18869 of the configure script, it checks that the ant version is &amp;gt;= 1.7. It uses some kind of string comparison. This breaks for my current ant version (1.10). It seems to think that 1.10 is not &amp;gt;= 1.7. I think this is because it&apos;s comparing strings without taking into account what the strings actually mean. Something like this might be a possible patch:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/16989598/bash-comparing-version-numbers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/16989598/bash-comparing-version-numbers&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This should be fixed because it means that people with new ant versions can&apos;t build the java thrift library.&lt;/p&gt;

&lt;p&gt;Also it should be checked to see if other parts of the configure process are using these kinds of faulty version checks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSX 10.12.5, running ant 1.10.1&lt;/p&gt;</environment>
        <key id="13080840">THRIFT-4232</key>
            <summary>./configure does bad ant version check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="dwoodwardgb">David Woodward</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 14:12:34 +0000</created>
                <updated>Thu, 14 Dec 2017 13:54:48 +0000</updated>
                            <resolved>Thu, 21 Sep 2017 16:21:22 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="10800">3h</timeestimate>
                                        <comments>
                            <comment id="16162193" author="githubbot" created="Mon, 11 Sep 2017 23:02:40 +0000"  >&lt;p&gt;GitHub user magiccrafter opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1354&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4232&quot; title=&quot;./configure does bad ant version check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4232&quot;&gt;&lt;del&gt;THRIFT-4232&lt;/del&gt;&lt;/a&gt; ./configure does bad ant version check&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/magiccrafter/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/magiccrafter/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4232&quot; title=&quot;./configure does bad ant version check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4232&quot;&gt;&lt;del&gt;THRIFT-4232&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1354.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1354.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1354&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e91d115f628c33c121b82c4820656861caac2e83&lt;br/&gt;
Author: Nasko Vasilev &amp;lt;nasko.vasilev@betvictor.com&amp;gt;&lt;br/&gt;
Date:   2017-09-11T22:40:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4232&quot; title=&quot;./configure does bad ant version check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4232&quot;&gt;&lt;del&gt;THRIFT-4232&lt;/del&gt;&lt;/a&gt; ./configure does bad ant version check&lt;/p&gt;

&lt;p&gt;commit 3bbc487133b89459eb8800ebc64adf95496d4559&lt;br/&gt;
Author: Nasko Vasilev &amp;lt;nasko.vasilev@betvictor.com&amp;gt;&lt;br/&gt;
Date:   2017-09-11T22:57:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4232&quot; title=&quot;./configure does bad ant version check&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4232&quot;&gt;&lt;del&gt;THRIFT-4232&lt;/del&gt;&lt;/a&gt; ./configure does bad ant version check (inclusive comparison with &amp;gt;= instead of &amp;gt; only)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16165505" author="githubbot" created="Thu, 14 Sep 2017 00:12:03 +0000"  >&lt;p&gt;Github user jeking3 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1354#discussion_r138770754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1354#discussion_r138770754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: aclocal/ax_javac_and_java.m4 &amp;#8212;&lt;br/&gt;
    @@ -118,7 +118,7 @@ AC_DEFUN(&lt;span class=&quot;error&quot;&gt;&amp;#91;AX_CHECK_JAVA_CLASS&amp;#93;&lt;/span&gt;,&lt;br/&gt;
     AC_DEFUN(&lt;span class=&quot;error&quot;&gt;&amp;#91;AX_CHECK_ANT_VERSION&amp;#93;&lt;/span&gt;,&lt;br/&gt;
              [&lt;br/&gt;
               AC_MSG_CHECKING(for ant version &amp;gt; $2)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ANT_VALID=`expr $($1 -version 2&amp;gt;/dev/null | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;) \&amp;gt;= $2`&lt;br/&gt;
    +          ANT_VALID=`expr &quot;x$(printf &quot;$2\n$($1 -version 2&amp;gt;/dev/null | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;)&quot; | sort -t &apos;.&apos; -k 1,1 -k 2,2 -k 3,3 -g | sed -n 1p)&quot; = &quot;x$2&quot;`
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I don&apos;t see this working on my bash shell:&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    jking@ubuntu:~/thrift/github/thrift$ ant -version&lt;br/&gt;
    Apache Ant(TM) version 1.9.8 compiled on January 19 2017&lt;/p&gt;

&lt;p&gt;    jking@ubuntu:~/thrift/github/thrift$ ant -version | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;&lt;br/&gt;
    (no output)&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    Try this instead:&lt;br/&gt;
    ```&lt;br/&gt;
    jking@ubuntu:~/thrift/github/thrift$ ant -version | cut -d&apos; &apos; -f4&lt;br/&gt;
    1.9.8&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    Test:&lt;/p&gt;

&lt;p&gt;    If I require 1.9.9, fails, if I require 1.9.7, passes:&lt;br/&gt;
    ```&lt;br/&gt;
    jking@ubuntu:~/thrift/github/thrift$ expr &quot;x$(printf &quot;1.9.9\n$(ant -version | cut -d&apos; &apos; -f4)&quot; | sort -t &apos;.&apos; -k 1,1 -k 2,2 -k 3,3 -g | sed -n 1p)&quot; = &quot;x1.9.9&quot;&lt;br/&gt;
    0&lt;br/&gt;
    jking@ubuntu:~/thrift/github/thrift$ expr &quot;x$(printf &quot;1.9.7\n$(ant -version | cut -d&apos; &apos; -f4)&quot; | sort -t &apos;.&apos; -k 1,1 -k 2,2 -k 3,3 -g | sed -n 1p)&quot; = &quot;x1.9.7&quot;&lt;br/&gt;
    1&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="16165936" author="githubbot" created="Thu, 14 Sep 2017 08:13:49 +0000"  >&lt;p&gt;Github user magiccrafter commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1354#discussion_r138824699&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1354#discussion_r138824699&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: aclocal/ax_javac_and_java.m4 &amp;#8212;&lt;br/&gt;
    @@ -118,7 +118,7 @@ AC_DEFUN(&lt;span class=&quot;error&quot;&gt;&amp;#91;AX_CHECK_JAVA_CLASS&amp;#93;&lt;/span&gt;,&lt;br/&gt;
     AC_DEFUN(&lt;span class=&quot;error&quot;&gt;&amp;#91;AX_CHECK_ANT_VERSION&amp;#93;&lt;/span&gt;,&lt;br/&gt;
              [&lt;br/&gt;
               AC_MSG_CHECKING(for ant version &amp;gt; $2)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ANT_VALID=`expr $($1 -version 2&amp;gt;/dev/null | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;) \&amp;gt;= $2`&lt;br/&gt;
    +          ANT_VALID=`expr &quot;x$(printf &quot;$2\n$($1 -version 2&amp;gt;/dev/null | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;)&quot; | sort -t &apos;.&apos; -k 1,1 -k 2,2 -k 3,3 -g | sed -n 1p)&quot; = &quot;x$2&quot;`
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    The issue that the pull request is fixing is the version comparison part. The ant version extraction is working like charm and doesn&apos;t need to be changed.&lt;/p&gt;

&lt;p&gt;    @jeking3, you are not testing accurately. Thats not a bash script file, this is a Autoconf/m4 macro and the following:&lt;br/&gt;
    `ant -version | sed -n &apos;s/.&lt;b&gt;version &amp;#40;@&amp;lt;:@0-9\.@:&amp;gt;@&lt;/b&gt;&amp;#41;.*/\1/p&apos;`&lt;br/&gt;
     at the time of running the bash command will have the &apos;Quadrigraphs&apos;(@&amp;lt;:@) escaped:&lt;br/&gt;
    `ant -version | sed -n &apos;s/.&lt;b&gt;version &amp;#40;&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9\.&amp;#93;&lt;/span&gt;&lt;/b&gt;&amp;#41;.*/\1/p&apos;`&lt;/p&gt;

&lt;p&gt;    For further details check the docs: &lt;br/&gt;
    &lt;a href=&quot;https://www.gnu.org/software/autoconf/manual/autoconf.html#Quadrigraphs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.gnu.org/software/autoconf/manual/autoconf.html#Quadrigraphs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I hope this clears the things a bit.&lt;br/&gt;
    Thanks&lt;/p&gt;</comment>
                            <comment id="16175033" author="githubbot" created="Thu, 21 Sep 2017 16:21:35 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1354&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13048875">THRIFT-4109</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gg3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>