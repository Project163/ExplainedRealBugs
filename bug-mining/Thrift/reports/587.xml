<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:04:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1583] c_glib leaks memory</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1583</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;The generated code has memory leaks if you create and destroy an object.&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed the main problem on this git repo on branch c_glib_0.8.x but commits can be moved to trunk easily.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jcaden/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jcaden/thrift&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are still some errors to control on generated code (there are comments in the code). I&apos;m planning to fix in a short term if you validate the current patches.&lt;/p&gt;

&lt;p&gt;This git repository has also the patches sent on issues 1582 and 1578 that are also related:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1582&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-1582&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-1578&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Compile this files:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;namespace c_glib Kms
namespace * com.kurento.commons.mediaspec

include &lt;span class=&quot;code-quote&quot;&gt;&quot;payload.thrift&quot;&lt;/span&gt;
include &lt;span class=&quot;code-quote&quot;&gt;&quot;transport.thrift&quot;&lt;/span&gt;

&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; MediaType {
	AUDIO,
	VIDEO
}

&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Direction {
	SENDONLY,
	RECVONVLY,
	SENDRECV,
	INACTIVE,
}

struct MediaSpec {
	1: required list&amp;lt;payload.Payload&amp;gt; payloads,
	2: required set&amp;lt;MediaType&amp;gt; type,
	3: required transport.Transport transport,
	4: required Direction direction,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;namespace c_glib Kms
namespace * com.kurento.commons.mediaspec

struct PayloadRtp {
	1: required i32 id,
	2: required string codecName,
	3: required i32 clockRate,

	4: optional i32 channels,
	5: optional i32 width,
	6: optional i32 height,
	7: optional i32 bitrate,

	50: optional map&amp;lt;string, string&amp;gt; extraParams,
}

struct Payload {
	1: optional PayloadRtp rtp,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;namespace c_glib Kms
namespace * com.kurento.commons.mediaspec

include &lt;span class=&quot;code-quote&quot;&gt;&quot;mediaSpec.thrift&quot;&lt;/span&gt;

struct SessionSpec {
	1: required list&amp;lt;mediaSpec.MediaSpec&amp;gt; medias,
	2: required string id;
	3: optional string version;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;namespace c_glib Kms
namespace * com.kurento.commons.mediaspec

struct TransportRtp {
	1: string address,
	2: i32 port,
}

struct Transport {
	1: optional TransportRtp rtp,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</environment>
        <key id="12551797">THRIFT-1583</key>
            <summary>c_glib leaks memory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcaden">Jos&#233; Antonio Santos</assignee>
                                    <reporter username="jcaden">Jos&#233; Antonio Santos</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Apr 2012 14:56:38 +0000</created>
                <updated>Fri, 11 May 2012 00:41:39 +0000</updated>
                            <resolved>Sat, 28 Apr 2012 11:35:10 +0000</resolved>
                                    <version>0.8</version>
                    <version>0.9</version>
                                    <fixVersion>0.8</fixVersion>
                    <fixVersion>0.9</fixVersion>
                                    <component>C glib - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13258479" author="jcaden" created="Fri, 20 Apr 2012 19:08:10 +0000"  >&lt;p&gt;I&apos;ve added more commits to the git repository mentioned above, I will also make a pull request on github&lt;/p&gt;</comment>
                            <comment id="13258864" author="roger.meier" created="Sat, 21 Apr 2012 14:56:01 +0000"  >&lt;p&gt;I applied your 19.patch from the pull request, but &lt;b&gt;make check&lt;/b&gt; fails within lib/c_glib ... could you fix this?&lt;/p&gt;
</comment>
                            <comment id="13258947" author="jcaden" created="Sat, 21 Apr 2012 21:16:22 +0000"  >&lt;p&gt;Thanks for the inclusion. Sure I can solve the issue, yesterday I notice that too. I&apos;ll sent a pull request when I fix it.&lt;/p&gt;</comment>
                            <comment id="13259543" author="jcaden" created="Mon, 23 Apr 2012 11:45:05 +0000"  >&lt;p&gt;I added new commits to solve the problems with the tests (they have been automatically included in the pull request)&lt;/p&gt;</comment>
                            <comment id="13261433" author="jcaden" created="Wed, 25 Apr 2012 11:07:05 +0000"  >&lt;p&gt;I detected another memory corruption with maps. The commit is on the pull request too.&lt;/p&gt;</comment>
                            <comment id="13264295" author="roger.meier" created="Sat, 28 Apr 2012 11:35:10 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="13264303" author="hudson" created="Sat, 28 Apr 2012 12:11:39 +0000"  >&lt;p&gt;Integrated in Thrift #442 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/442/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/442/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1583&quot; title=&quot;c_glib leaks memory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1583&quot;&gt;&lt;del&gt;THRIFT-1583&lt;/del&gt;&lt;/a&gt; c_glib leaks memory&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1578&quot; title=&quot;C_GLib generated code does not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1578&quot;&gt;&lt;del&gt;THRIFT-1578&lt;/del&gt;&lt;/a&gt; C_GLib generated code does not compile&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1582&quot; title=&quot;Bad includes of nested thrift files in c_glib&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1582&quot;&gt;&lt;del&gt;THRIFT-1582&lt;/del&gt;&lt;/a&gt; Bad includes of nested thrift files in c_glib&lt;/p&gt;

&lt;p&gt;Patch: Jos&#233; Antonio Santos&lt;br/&gt;
Minor Modificatons by roger:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;thrift prefix for includes&lt;/li&gt;
	&lt;li&gt;g_object_unref instead of g_clear_object (needs glib&amp;gt;=2.28) (Revision 1331752)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
roger : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1331752&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1331752&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/thrift/trunk/compiler/cpp/src/generate/t_c_glib_generator.cc&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testbinaryprotocol.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testbufferedtransport.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testdebugproto.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testframedtransport.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testmemorybuffer.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testoptionalrequired.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/teststruct.c&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testthrifttestclient.cpp&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/c_glib/test/testtransportsocket.c&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i083ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>45152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>