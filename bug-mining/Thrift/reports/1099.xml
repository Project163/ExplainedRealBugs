<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:15:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2823] All JS-tests are failing when run with grunt test</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2823</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;If you run the tests for the browser js library by calling &quot;grunt test&quot; as described in the README.md, you&apos;ll get 12/12 tests failing with the following Error message:&lt;/p&gt;

&lt;p&gt;Testing &lt;a href=&quot;http://localhost:8088/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8088/test.html&lt;/a&gt; FFFFFFF&lt;br/&gt;
&amp;gt;&amp;gt; global failure&lt;br/&gt;
&amp;gt;&amp;gt; Message: ReferenceError: Can&apos;t find variable: Thrift&lt;br/&gt;
&amp;gt;&amp;gt; &lt;a href=&quot;http://localhost:8088/test.html:38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8088/test.html:38&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Browser&lt;/p&gt;</environment>
        <key id="12755377">THRIFT-2823</key>
            <summary>All JS-tests are failing when run with grunt test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="codesf">Randy Abernethy</assignee>
                                    <reporter username="davidsautter">David Sautter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Nov 2014 14:45:53 +0000</created>
                <updated>Mon, 26 Jan 2015 02:26:41 +0000</updated>
                            <resolved>Sun, 16 Nov 2014 05:37:43 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.9.3</fixVersion>
                                    <component>JavaScript - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14213732" author="codesf" created="Sat, 15 Nov 2014 19:18:52 +0000"  >&lt;p&gt;patch&lt;/p&gt;</comment>
                            <comment id="14213745" author="codesf" created="Sat, 15 Nov 2014 20:04:26 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14213749" author="hudson" created="Sat, 15 Nov 2014 20:17:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1349 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1349/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1349/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2823&quot; title=&quot;All JS-tests are failing when run with grunt test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2823&quot;&gt;&lt;del&gt;THRIFT-2823&lt;/del&gt;&lt;/a&gt;: grunt jsjq test fail (ra: rev b2652300c0eabfd375786e3733c3c90b810fdb34)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/js/README.md&lt;/li&gt;
	&lt;li&gt;lib/js/test/test.html&lt;/li&gt;
	&lt;li&gt;lib/js/package.json&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14213810" author="roger.meier" created="Sat, 15 Nov 2014 23:59:14 +0000"  >&lt;p&gt;unit test run via make check fails now:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;unittest:
     [echo] Running Unit Tests with headless browser!
     [exec] ReferenceError: Can&apos;t find variable: Thrift
     [exec] &apos;waitFor()&apos; finished in 200ms.
     [exec] Tests completed in 86 milliseconds.
     [exec] 0 assertions of 12 passed, 12 failed.
     [java] Timeout: killed the sub-process
     [java] Java Result: -1

BUILD FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14213812" author="codesf" created="Sun, 16 Nov 2014 00:06:35 +0000"  >&lt;p&gt;thx Roger. I&apos;ll fix the ant script. &lt;/p&gt;</comment>
                            <comment id="14213851" author="codesf" created="Sun, 16 Nov 2014 05:09:46 +0000"  >&lt;p&gt;fix for bad ant copy of thrift.js&lt;/p&gt;</comment>
                            <comment id="14213853" author="codesf" created="Sun, 16 Nov 2014 05:37:43 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;

&lt;p&gt;Summary:&lt;/p&gt;

&lt;p&gt;PATCH 1: The JS test.html test file was failing because it tried to load thrift.js from a parent dir of the origin (not allowed by many web servers, we should avoid .. paths). Patch 1 fixed this allowing the grunt build to run with all tests successful.&lt;/p&gt;

&lt;p&gt;PATCH 2: A completely different problem (created by me) involved the build.xml copying the lib/js/src/thrift.js to test/build/js incorrectly. This became evident when the test.html was given the correct lib/js/build/js path to thrift.js.&lt;/p&gt;

&lt;p&gt;Note that make check should probably be running the JS grunt build rather than the JS ant test. The ant test task runs JS against Java, which should really be part of make cross. On the todo list.&lt;/p&gt;

&lt;p&gt;-Randy&lt;/p&gt;</comment>
                            <comment id="14213854" author="hudson" created="Sun, 16 Nov 2014 05:46:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1351 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1351/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1351/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2823&quot; title=&quot;All JS-tests are failing when run with grunt test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2823&quot;&gt;&lt;del&gt;THRIFT-2823&lt;/del&gt;&lt;/a&gt;:grunt tests failing (ra: rev 8c16ed79c4d2d384f11275f526f9ca34cab77b3e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/js/test/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12681776" name="0001-fixed-js-build.xml.patch" size="988" author="codesf" created="Sun, 16 Nov 2014 05:09:46 +0000"/>
                            <attachment id="12681755" name="0001-repaired-bad-test.html-path-to-thrift.patch" size="2091" author="codesf" created="Sat, 15 Nov 2014 19:18:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22dun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>