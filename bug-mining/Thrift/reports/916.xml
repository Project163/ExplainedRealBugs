<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:11:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2414] c_glib fix several bug.</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2414</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;1. leaks in binary string&lt;br/&gt;
thrift generate the &quot;binary&quot; type to GByteArray pointer. GByteArray must be freed with g_byte_array_unref().&lt;/p&gt;

&lt;p&gt;2. not use *_array_free&lt;br/&gt;
use *_array_unref function for the code readability&lt;/p&gt;

&lt;p&gt;3. leaks in ThriftApplicationException class&lt;br/&gt;
ThriftApplicationException class has no finalize function. To free a message attribute in ThriftApplicationException object, attach finalize function.&lt;/p&gt;

&lt;p&gt;4. handle a error in thrift_buffered_transport_read_slow()&lt;br/&gt;
if read function return a value less than zero, stop read and return.&lt;/p&gt;

&lt;p&gt;5. use gethostbyname_r() function instead of gethostbyname()&lt;br/&gt;
thrift client for parallel access. change to reentrant function.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;6. use SO_LINGER for daemon application&lt;/del&gt;&lt;br/&gt;
&lt;del&gt;set thrift client socket&apos;s SO_LINGER option to {1, 0). for daemon application.&lt;/del&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12702333">THRIFT-2414</key>
            <summary>c_glib fix several bug.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hsleep">Jaesang Kim</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Mar 2014 07:31:49 +0000</created>
                <updated>Sun, 6 Jul 2014 04:00:56 +0000</updated>
                            <resolved>Wed, 26 Mar 2014 22:33:40 +0000</resolved>
                                    <version>0.7</version>
                    <version>0.8</version>
                                    <fixVersion>0.9.2</fixVersion>
                                    <component>C glib - Compiler</component>
                    <component>C glib - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13940266" author="hsleep" created="Wed, 19 Mar 2014 07:36:44 +0000"  >&lt;p&gt;my patch for all above description.&lt;/p&gt;</comment>
                            <comment id="13944587" author="roger.meier" created="Sun, 23 Mar 2014 21:30:58 +0000"  >&lt;p&gt;I had this issue with your patch:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/testbinaryprotocol/ReadAndWritePrimitives: *** glibc detected *** ./testbinaryprotocol: double free or corruption (fasttop): 0x0000000002587730 ***
======= Backtrace: =========
/lib/x86_64-linux-gnu/libc.so.6(+0x76d76)[0x2b59e206cd76]
/lib/x86_64-linux-gnu/libc.so.6(cfree+0x6c)[0x2b59e2071b1c]
./testbinaryprotocol[0x405274]
./testbinaryprotocol[0x403f87]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(+0x6bb5d)[0x2b59e12ecb5d]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(+0x6bcd6)[0x2b59e12eccd6]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(g_test_run_suite+0x18b)[0x2b59e12ed03b]
./testbinaryprotocol[0x405d12]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xfd)[0x2b59e2014ead]
./testbinaryprotocol[0x401969]
======= Memory map: ========
00400000-0040c000 r-xp 00000000 fd:02 2692988193                         /home/roger/software/thrift/thrift-git/lib/c_glib/test/testbinaryprotocol
0060c000-0060d000 rw-p 0000c000 fd:02 2692988193                         /home/roger/software/thrift/thrift-git/lib/c_glib/test/testbinaryprotocol
02577000-02598000 rw-p 00000000 00:00 0                                  [heap]
2b59e0e0f000-2b59e0e2f000 r-xp 00000000 fd:00 270919192                  /lib/x86_64-linux-gnu/ld-2.13.so
2b59e0e2f000-2b59e0e31000 rw-p 00000000 00:00 0
2b59e0e31000-2b59e0e38000 r--s 00000000 fd:00 674646189                  /usr/lib/x86_64-linux-gnu/gconv/gconv-modules.cache
2b59e0e38000-2b59e0e39000 rw-p 00000000 00:00 0
2b59e102e000-2b59e102f000 r--p 0001f000 fd:00 270919192                  /lib/x86_64-linux-gnu/ld-2.13.so
2b59e102f000-2b59e1030000 rw-p 00020000 fd:00 270919192                  /lib/x86_64-linux-gnu/ld-2.13.so
2b59e1030000-2b59e1031000 rw-p 00000000 00:00 0
2b59e1031000-2b59e107f000 r-xp 00000000 fd:00 406084557                  /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0.3200.4
2b59e107f000-2b59e127f000 ---p 0004e000 fd:00 406084557                  /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0.3200.4
2b59e127f000-2b59e1280000 r--p 0004e000 fd:00 406084557                  /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0.3200.4
2b59e1280000-2b59e1281000 rw-p 0004f000 fd:00 406084557                  /usr/lib/x86_64-linux-gnu/libgobject-2.0.so.0.3200.4
2b59e1281000-2b59e1376000 r-xp 00000000 fd:00 268631384                  /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.4
2b59e1376000-2b59e1576000 ---p 000f5000 fd:00 268631384                  /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.4
2b59e1576000-2b59e1577000 r--p 000f5000 fd:00 268631384                  /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.4
2b59e1577000-2b59e1578000 rw-p 000f6000 fd:00 268631384                  /lib/x86_64-linux-gnu/libglib-2.0.so.0.3200.4
2b59e1578000-2b59e157a000 rw-p 00000000 00:00 0
2b59e157a000-2b59e15d0000 r-xp 00000000 fd:00 406359873                  /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0
2b59e15d0000-2b59e17d0000 ---p 00056000 fd:00 406359873                  /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0
2b59e17d0000-2b59e17d3000 r--p 00056000 fd:00 406359873                  /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0
2b59e17d3000-2b59e17da000 rw-p 00059000 fd:00 406359873                  /usr/lib/x86_64-linux-gnu/libssl.so.1.0.0
2b59e17da000-2b59e19a4000 r-xp 00000000 fd:00 406359871                  /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
2b59e19a4000-2b59e1ba3000 ---p 001ca000 fd:00 406359871                  /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
2b59e1ba3000-2b59e1bbe000 r--p 001c9000 fd:00 406359871                  /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
2b59e1bbe000-2b59e1bcd000 rw-p 001e4000 fd:00 406359871                  /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
2b59e1bcd000-2b59e1bd1000 rw-p 00000000 00:00 0
2b59e1bd1000-2b59e1bd8000 r-xp 00000000 fd:00 270919190                  /lib/x86_64-linux-gnu/librt-2.13.so
2b59e1bd8000-2b59e1dd7000 ---p 00007000 fd:00 270919190                  /lib/x86_64-linux-gnu/librt-2.13.so
2b59e1dd7000-2b59e1dd8000 r--p 00006000 fd:00 270919190                  /lib/x86_64-linux-gnu/librt-2.13.so
2b59e1dd8000-2b59e1dd9000 rw-p 00007000 fd:00 270919190                  /lib/x86_64-linux-gnu/librt-2.13.so
2b59e1dd9000-2b59e1dda000 rw-p 00000000 00:00 0
2b59e1dda000-2b59e1df1000 r-xp 00000000 fd:00 270916333                  /lib/x86_64-linux-gnu/libpthread-2.13.so
2b59e1df1000-2b59e1ff0000 ---p 00017000 fd:00 270916333                  /lib/x86_64-linux-gnu/libpthread-2.13.so
2b59e1ff0000-2b59e1ff1000 r--p 00016000 fd:00 270916333                  /lib/x86_64-linux-gnu/libpthread-2.13.so
2b59e1ff1000-2b59e1ff2000 rw-p 00017000 fd:00 270916333                  /lib/x86_64-linux-gnu/libpthread-2.13.so
2b59e1ff2000-2b59e1ff6000 rw-p 00000000 00:00 0
2b59e1ff6000-2b59e2178000 r-xp 00000000 fd:00 268628386                  /lib/x86_64-linux-gnu/libc-2.13.so
2b59e2178000-2b59e2377000 ---p 00182000 fd:00 268628386                  /lib/x86_64-linux-gnu/libc-2.13.so
2b59e2377000-2b59e237b000 r--p 00181000 fd:00 268628386                  /lib/x86_64-linux-gnu/libc-2.13.so
2b59e237b000-2b59e237c000 rw-p 00185000 fd:00 268628386                  /lib/x86_64-linux-gnu/libc-2.13.so
2b59e237c000-2b59e2381000 rw-p 00000000 00:00 0
2b59e2381000-2b59e2382000 r-xp 00000000 fd:00 406084558                  /usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0.3200.4
2b59e2382000-2b59e2581000 ---p 00001000 fd:00 406084558                  /usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0.3200.4
2b59e2581000-2b59e2582000 r--p 00000000 fd:00 406084558                  /usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0.3200.4
2b59e2582000-2b59e2583000 rw-p 00001000 fd:00 406084558                  /usr/lib/x86_64-linux-gnu/libgthread-2.0.so.0.3200.4
2b59e2583000-2b59e2584000 rw-p 00000000 00:00 0
2b59e2584000-2b59e2590000 r-xp 00000000 fd:00 427591110                  /usr/lib/x86_64-linux-gnu/libffi.so.5.0.10
2b59e2590000-2b59e2790000 ---p 0000c000 fd:00 427591110                  /usr/lib/x86_64-linux-gnu/libffi.so.5.0.10
2b59e2790000-2b59e2791000 rw-p 0000c000 fd:00 427591110                  /usr/lib/x86_64-linux-gnu/libffi.so.5.0.10
2b59e2791000-2b59e27cd000 r-xp 00000000 fd:00 268935011                  /lib/x86_64-linux-gnu/libpcre.so.3.13.1
2b59e27cd000-2b59e29cd000 ---p 0003c000 fd:00 268935011                  /lib/x86_64-linux-gnu/libpcre.so.3.13.1
2b59e29cd000-2b59e29ce000 rw-p 0003c000 fd:00 268935011                  /lib/x86_64-linux-gnu/libpcre.so.3.13.1
2b59e29ce000-2b59e29d0000 r-xp 00000000 fd:00 270916312                  /lib/x86_64-linux-gnu/libdl-2.13.so
2b59e29d0000-2b59e2bd0000 ---p 00002000 fd:00 270916312                  /lib/x86_64-linux-gnu/libdl-2.13.so
2b59e2bd0000-2b59e2bd1000 r--p 00002000 fd:00 270916312                  /lib/x86_64-linux-gnu/libdl-2.13.so
2b59e2bd1000-2b59e2bd2000 rw-p 00003000 fd:00 270916312                  /lib/x86_64-linux-gnu/libdl-2.13.so
2b59e2bd2000-2b59e2bd3000 rw-p 00000000 00:00 0
2b59e2bd3000-2b59e2be9000 r-xp 00000000 fd:00 269306590                  /lib/x86_64-linux-gnu/libz.so.1.2.7
2b59e2be9000-2b59e2de8000 ---p 00016000 fd:00 269306590                  /lib/x86_64-linux-gnu/libz.so.1.2.7
2b59e2de8000-2b59e2de9000 r--p 00015000 fd:00 269306590                  /lib/x86_64-linux-gnu/libz.so.1.2.7
2b59e2de9000-2b59e2dea000 rw-p 00016000 fd:00 269306590                  /lib/x86_64-linux-gnu/libz.so.1.2.7
2b59e2dea000-2b59e2dec000 rw-p 00000000 00:00 0
2b59e2e11000-2b59e2e26000 r-xp 00000000 fd:00 268631743                  /lib/x86_64-linux-gnu/libgcc_s.so.1
2b59e2e26000-2b59e3026000 ---p 00015000 fd:00 268631743                  /lib/x86_64-linux-gnu/libgcc_s.so.1
2b59e3026000-2b59e3027000 rw-p 00015000 fd:00 268631743                  /lib/x86_64-linux-gnu/libgcc_s.so.1
2b59e4000000-2b59e4021000 rw-p 00000000 00:00 0
2b59e4021000-2b59e8000000 ---p 00000000 00:00 0
7ffff0469000-7ffff048a000 rw-p 00000000 00:00 0                          [stack]
7ffff058b000-7ffff058c000 r-xp 00000000 00:00 0                          [vdso]
ffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]
testbinaryprotocol: testbinaryprotocol.c:196: test_read_and_write_primitives: Assertion `status == 0&apos; failed.
/bin/sh: line 5: 24679 Aborted                 ${dir}$tst
FAIL: testbinaryprotocol
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13944778" author="hsleep" created="Mon, 24 Mar 2014 06:30:04 +0000"  >&lt;p&gt;I deleted the code to set SO_LINGER option.&lt;/p&gt;</comment>
                            <comment id="13948572" author="roger.meier" created="Wed, 26 Mar 2014 22:33:40 +0000"  >&lt;p&gt;Thanks Kim!&lt;br/&gt;
committed&lt;br/&gt;
;-r&lt;/p&gt;</comment>
                            <comment id="13948685" author="hudson" created="Thu, 27 Mar 2014 00:01:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1096 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1096/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1096/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2414&quot; title=&quot;c_glib fix several bug.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2414&quot;&gt;&lt;del&gt;THRIFT-2414&lt;/del&gt;&lt;/a&gt; c_glib fix several bug (roger: rev bf0b6291f8bc7192847a2da458fdd40ee7256066)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;.gitignore&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/thrift.h&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/transport/thrift_socket.c&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/protocol/thrift_binary_protocol.c&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/thrift_application_exception.c&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/thrift.c&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/thrifty.yy&lt;/li&gt;
	&lt;li&gt;lib/c_glib/src/thrift/c_glib/transport/thrift_buffered_transport.c&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_c_glib_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12636300" name="thrift-2414-c_glib-bug-fix.patch" size="9427" author="hsleep" created="Mon, 24 Mar 2014 06:30:04 +0000"/>
                            <attachment id="12635510" name="thrift-2414-c_glib-bug-fix.patch" size="10515" author="hsleep" created="Wed, 19 Mar 2014 07:36:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tl6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>