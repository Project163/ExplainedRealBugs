<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:20:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3331] warning: &#8216;etype&#8217; may be used uninitialized in this function</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3331</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Compiling the compiler produces this warning:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;src/generate/t_c_glib_generator.cc: In member function &#8216;void t_c_glib_generator::generate_object(t_struct*)&#8217;:
src/generate/t_c_glib_generator.cc:3122:59: warning: &#8216;etype&#8217; may be used uninitialized in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; function [-Wmaybe-uninitialized]
           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((etype-&amp;gt;is_base_type() &amp;amp;&amp;amp; !etype-&amp;gt;is_string())
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;openSuse 13.2&lt;/p&gt;</environment>
        <key id="12888759">THRIFT-3331</key>
            <summary>warning: &#8216;etype&#8217; may be used uninitialized in this function</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simonsouth">Simon South</assignee>
                                    <reporter username="jensg">Jens Geyer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Sep 2015 11:54:04 +0000</created>
                <updated>Fri, 25 Sep 2015 02:43:16 +0000</updated>
                            <resolved>Wed, 23 Sep 2015 20:02:48 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.9.3</fixVersion>
                                    <component>C glib - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14877376" author="simonsouth" created="Sun, 20 Sep 2015 01:37:23 +0000"  >&lt;p&gt;Which version of gcc are you using, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt;? I understand why the compiler is complaining about this code but I haven&apos;t been able to reproduce the warning myself (using gcc 4.8.4), even when explicitly setting &lt;tt&gt;-Wmaybe-uninitialized&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14901604" author="jensg" created="Mon, 21 Sep 2015 23:25:27 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;gcc (SUSE Linux) 4.8.3 20140627 [gcc-4_8-branch revision 212064]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="14904170" author="simonsouth" created="Wed, 23 Sep 2015 08:42:57 +0000"  >&lt;p&gt;Jens, please try the attached (trivial) patch and let me know whether it silences this warning.&lt;/p&gt;

&lt;p&gt;In this case the original code appears to be correct and gcc is being a little aggressive in detecting uninitialized variables, &lt;a href=&quot;https://gcc.gnu.org/wiki/Better_Uninitialized_Warnings&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a subject of some debate&lt;/a&gt;. A more substantial fix would involving initializing &lt;tt&gt;etype&lt;/tt&gt; multiple times, which is obviously not a huge penalty but would make the code less efficient.&lt;/p&gt;</comment>
                            <comment id="14905146" author="jensg" created="Wed, 23 Sep 2015 20:02:48 +0000"  >&lt;p&gt;Yep, that does the trick. Committed.&lt;/p&gt;</comment>
                            <comment id="14905149" author="jensg" created="Wed, 23 Sep 2015 20:03:40 +0000"  >&lt;p&gt;I think it is fine as it is. No need to make things overly complicated, IMHO.&lt;/p&gt;</comment>
                            <comment id="14905224" author="hudson" created="Wed, 23 Sep 2015 20:49:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1661 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1661/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1661/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3331&quot; title=&quot;warning: &#8216;etype&#8217; may be used uninitialized in this function&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3331&quot;&gt;&lt;del&gt;THRIFT-3331&lt;/del&gt;&lt;/a&gt; warning: &#226;&#128;&#152;etype&#226;&#128;&#153; may be used uninitialized in this function (jensg: rev 804504b79a17c6e3e3f59218679288102a4e33aa)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_c_glib_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12761839" name="01-thrift-3331-warning-etype-may-be-uninitialized.patch" size="574" author="simonsouth" created="Wed, 23 Sep 2015 08:42:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2l5if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>