<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:08:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1753] Multiple C++ Windows, OSX, and iOS portability issues</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1753</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;These are all in the C++ library.  Here is a summary of what I changed. &lt;br/&gt;
All of these fixes make a ~5000 line patch (though a lot of that is &lt;br/&gt;
deleted lines).&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;General cleanup of the msvc project&lt;/li&gt;
	&lt;li&gt;Using HAVE_CONFIG_H instead of force including files&lt;/li&gt;
	&lt;li&gt;Getting rid of some unnecessary files (stdafx.*, TargetVersion.h)&lt;/li&gt;
	&lt;li&gt;Significant rework of windows portability.  No longer using config.h&lt;br/&gt;
and force_inc.h to make Windows look like *nix.  Instead, making lots of &lt;br/&gt;
Thrift specific #defines that are vaguely *nixy, and having those forward &lt;br/&gt;
to *nix or Windows stuff appropriately.  For example, THRIFT_CTIME_R calls &lt;br/&gt;
ctime_r on *nix, and a wrapper thrift_ctime_r on Windows.  The old &lt;br/&gt;
approach doesn&apos;t work when multiple libraries attempt the same trick.  For &lt;br/&gt;
example, if openssl #defined errno to ::WSAGetLastError() as well, then &lt;br/&gt;
that would cause problems.&lt;/li&gt;
	&lt;li&gt;Adding preprocessor flag that can optionally squelch console output.&lt;br/&gt;
Default behavior is unchanged.  Console output is great for home deployed &lt;br/&gt;
server apps, but it looks unprofessional for consumer apps.&lt;/li&gt;
	&lt;li&gt;Adding THRIFT_UNUSED_VARIABLE helper macro, to aid in squelching&lt;br/&gt;
warnings.&lt;/li&gt;
	&lt;li&gt;Adding redirector header for &amp;lt;functional&amp;gt; and &amp;lt;tr1/functional&amp;gt;.  Since&lt;br/&gt;
namespaces aren&apos;t consistent (std vs std::tr1), I have added symbols to &lt;br/&gt;
the apache::thrift::stdcxx namespace.  This is important for Clang / iOS &lt;br/&gt;
support&lt;/li&gt;
	&lt;li&gt;usleep and sleep on Windows were both sleeping in milliseconds.  sleep&lt;br/&gt;
now correctly sleeps for seconds, and usleep attempts to sleep for &lt;br/&gt;
microseconds (after converting very coarsely to milliseconds).&lt;/li&gt;
	&lt;li&gt;Adding support for using C++11 std::thread (and mutex, and monitor).&lt;br/&gt;
Thrift already supported boost::thread and posix threads.  Clients that &lt;br/&gt;
use std::thread no longer need built boost libraries.  The boost headers &lt;br/&gt;
are sufficient for them.  Switching from boost::thread to std::thread &lt;br/&gt;
resulted in a ~50k reduction in exe size in my tests.  By default, msvc10 &lt;br/&gt;
and below will use boost::thread, msvc11 and up will use std::thread.&lt;/li&gt;
	&lt;li&gt;Fixing more 64-bit socket truncation issues in non-blocking server and&lt;br/&gt;
ssl support.  openssl itself has socket truncation issues, so I could not &lt;br/&gt;
fix them all.&lt;/li&gt;
	&lt;li&gt;Fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1692&quot; title=&quot;SO_REUSEADDR allows for socket hijacking on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1692&quot;&gt;&lt;del&gt;THRIFT-1692&lt;/del&gt;&lt;/a&gt; &quot;SO_REUSEADDR allows for socket hijacking on Windows&lt;br/&gt;
&quot;.  Now using SO_EXCLUSIVEADDRUSE on windows, and SO_REUSEADDR on *nix.&lt;/li&gt;
	&lt;li&gt;Making TFileTransport use thrift style threads instead of redoing all&lt;br/&gt;
the pthread+boost stuff itself.&lt;/li&gt;
	&lt;li&gt;Includes, and builds upon &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1740&quot; title=&quot;Make C++ library build on OS X and iOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1740&quot;&gt;&lt;del&gt;THRIFT-1740&lt;/del&gt;&lt;/a&gt; (Make C++ library build on OS X&lt;br/&gt;
and iOS)&lt;/li&gt;
	&lt;li&gt;Moved several functions out of thrift/windows/config.h, and into other&lt;br/&gt;
thrift/windows headers.&lt;/li&gt;
	&lt;li&gt;Using built-in stdint.h on Windows if available (by checking HAVE_STDINT_H) and&lt;br/&gt;
using boost typedefs otherwise.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Windows MSVC10, MSVC11&lt;br/&gt;
OSX GCC-4.2&lt;br/&gt;
iOS Clang-4.0&lt;/p&gt;</environment>
        <key id="12615779">THRIFT-1753</key>
            <summary>Multiple C++ Windows, OSX, and iOS portability issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ben.craig">Ben Craig</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Nov 2012 19:45:57 +0000</created>
                <updated>Sat, 20 Feb 2021 15:27:44 +0000</updated>
                            <resolved>Sat, 8 Jun 2013 03:15:44 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>C++ - Library</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13498398" author="roger.meier" created="Thu, 15 Nov 2012 22:18:57 +0000"  >&lt;p&gt;we should fix these things stepwise, let&apos;s start with &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-990&quot; title=&quot;Sanify gettimeofday usage codebase-wide&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-990&quot;&gt;&lt;del&gt;THRIFT-990&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13499141" author="ben.craig" created="Fri, 16 Nov 2012 21:05:13 +0000"  >&lt;p&gt;Does not yet address &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-990&quot; title=&quot;Sanify gettimeofday usage codebase-wide&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-990&quot;&gt;&lt;del&gt;THRIFT-990&lt;/del&gt;&lt;/a&gt;.  Still contains THRIFT_UNUSED_VARIABLE.&lt;/p&gt;</comment>
                            <comment id="13504884" author="ben.craig" created="Tue, 27 Nov 2012 19:47:54 +0000"  >&lt;p&gt;Addresses the same issues mentioned above, plus it fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-990&quot; title=&quot;Sanify gettimeofday usage codebase-wide&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-990&quot;&gt;&lt;del&gt;THRIFT-990&lt;/del&gt;&lt;/a&gt; by making everything use gettimeofday.  In addition, very little code should be using timespecs now.  Code dealing directly with POSIX wait functions, and code that clients can use directly still use timespecs, but everything else uses timevals now.&lt;/p&gt;</comment>
                            <comment id="13504946" author="roger.meier" created="Tue, 27 Nov 2012 21:00:47 +0000"  >&lt;p&gt;Thanks for this large dinner Craig!&lt;/p&gt;

&lt;p&gt;it hangs here right now... still waiting for the Dessert ;-r&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Testing hm
PASS: SpecializationTest
TBinaryProtocol =&amp;gt; OK
TCompactProtocol =&amp;gt; OK
PASS: AllProtocolsTest
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport
Timeout alarm expired; attempting to unblock transport

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13504964" author="ben.craig" created="Tue, 27 Nov 2012 21:29:59 +0000"  >&lt;p&gt;So... hung in TransportTest somewhere?  I&apos;ll see what I can come up with.&lt;/p&gt;

&lt;p&gt;I guess this is further encouragement to get the test suite running on Windows as well.&lt;/p&gt;</comment>
                            <comment id="13509479" author="ben.craig" created="Tue, 4 Dec 2012 03:30:41 +0000"  >&lt;p&gt;I should have a patch tomorrow.  Turns out threads work better when you start them.  Who knew?&lt;/p&gt;</comment>
                            <comment id="13509785" author="ben.craig" created="Tue, 4 Dec 2012 15:01:22 +0000"  >&lt;p&gt;Same as last patch, but now starting the TFileTransport flush thread, instead of just creating it and letting it do nothing.&lt;/p&gt;</comment>
                            <comment id="13678036" author="carlyeks" created="Fri, 7 Jun 2013 13:44:15 +0000"  >&lt;p&gt;Tested and ran fine.&lt;/p&gt;

&lt;p&gt;Committed. Thanks, Ben!&lt;/p&gt;</comment>
                            <comment id="13678059" author="ben.craig" created="Fri, 7 Jun 2013 14:34:43 +0000"  >&lt;p&gt;Should be able to close out &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-990&quot; title=&quot;Sanify gettimeofday usage codebase-wide&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-990&quot;&gt;&lt;del&gt;THRIFT-990&lt;/del&gt;&lt;/a&gt; as well now, as this patch fixed that issue as well.&lt;/p&gt;</comment>
                            <comment id="13678276" author="hudson" created="Fri, 7 Jun 2013 18:32:32 +0000"  >&lt;p&gt;Integrated in Thrift #691 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/691/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/691/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1753&quot; title=&quot;Multiple C++ Windows, OSX, and iOS portability issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1753&quot;&gt;&lt;del&gt;THRIFT-1753&lt;/del&gt;&lt;/a&gt;: Multiple C++ Windows, OSX, and iOS portability issues (Revision 7cb7fc8a7342e714afbf517086d8a62622758148)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
carl : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/SocketPair.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/StdThreadFactory.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/BoostMonitor.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/server/TNonblockingServer.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/server/TNonblockingServer.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/TimerManager.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/StdMutex.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TFDTransport.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/FunctionRunner.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/GetTimeOfDay.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TFileTransport.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/WinFcntl.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/GetTimeOfDay.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSSLSocket.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Util.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TFileTransport.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/PlatformThreadFactory.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSocketPool.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/StdMonitor.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/SocketPair.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/TimerManager.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Util.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Mutex.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/WinFcntl.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/force_inc.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TServerSocket.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/config.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Monitor.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/libthrift.vcxproj&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSocket.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSocket.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Monitor.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/async/TEvhttpClientChannel.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/protocol/TDebugProtocol.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/TLogging.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/async/TEvhttpServer.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/Thrift.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/TWinsockSingleton.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/PlatformSocket.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/Thread.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TPipe.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/Thrift.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/TWinsockSingleton.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/StdAfx.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/libthriftnb.vcxproj&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/StdAfx.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/windows/TargetVersion.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/concurrency/StdThreadFactory.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TServerSocket.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13678331" author="codesf" created="Fri, 7 Jun 2013 19:19:22 +0000"  >&lt;p&gt;Awesome patch, removing the boost lib dependency is a huge step forward from an ease of use stand point.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ben.craig&quot; class=&quot;user-hover&quot; rel=&quot;ben.craig&quot;&gt;ben.craig&lt;/a&gt; Any thoughts on a flag for boost::shared_ptr =&amp;gt; std::shared_ptr and the balance?&lt;br/&gt;
I love Boost but it seems like we could probably build C++ Thrift apps with nothing&lt;br/&gt;
more than C++11 these days.&lt;/p&gt;</comment>
                            <comment id="13678766" author="ben.craig" created="Sat, 8 Jun 2013 16:44:06 +0000"  >&lt;p&gt;Short answer: I don&apos;t think the boost header dependency for the core thrift libraries is going away anytime soon.&lt;/p&gt;

&lt;p&gt;Longer answer:&lt;br/&gt;
Thrift has several dependencies, and the dependencies vary a bit depending on your compiler, and whether you want to build the tests.&lt;br/&gt;
Thrift compiler has a dependency on Flex and Bison&lt;br/&gt;
&quot;Core&quot; thrift has a dependency on boost headers, and for non-posix, non-C++11 compilers, a dependency on boost libraries.&lt;br/&gt;
Zlib transport obviously has a dependency on zlib.&lt;br/&gt;
Nonblocking server has a dependency on libevent.&lt;br/&gt;
SSL stuff has a dependency on openssl.&lt;br/&gt;
Thrift tests depend on boost libraries.&lt;/p&gt;

&lt;p&gt;On Windows, getting all these dependencies in place takes a fair amount of effort.  Of all those dependencies though, boost headers is probably the least painful.&lt;/p&gt;

&lt;p&gt;So that sort of addresses the &quot;benefit&quot; side of the cost/benefit.  On the cost side...&lt;/p&gt;

&lt;p&gt;It wouldn&apos;t be too hard to add a build time flag, and make all the core code do something like thrift::shared_ptr, with thrift::shared_ptr being an alias for either boost or std.  The problem is that client code would either need to use thrift::shared_ptr everywhere, or they would need to make their code non-portable with respect to other thrift variants.  At my company, I have code that uses Thrift that needs to be built on both C+&lt;ins&gt;11 and non-C&lt;/ins&gt;+11 compilers, so I would feel that portability cost.&lt;/p&gt;

&lt;p&gt;Eventually, the boost -&amp;gt; std shared_ptr bridge will have to be crossed, but I&apos;m actually hoping that it will be crossed on the boost side, by making boost automatically alias to std::shared_ptr (or at least providing a conversion operator, somehow).&lt;/p&gt;</comment>
                            <comment id="13679349" author="codesf" created="Mon, 10 Jun 2013 06:58:29 +0000"  >&lt;p&gt;Thanks for the thoughts, a great digest of the issues. I took a deeper look at the thrift C++ dependencies and what it would take to have a dependency free thrift for most straight forward C++11 user oriented RPC development.&lt;/p&gt;

&lt;p&gt;C++ compiler code generator changes seem pretty mild at first blush, I noted only boost::shared_ptr and boost::dynamic_pointer_cast in the source. &lt;/p&gt;

&lt;p&gt;The lib/cpp/src based boost:: dependencies are a little more involved:&lt;/p&gt;

&lt;p&gt;Some conversions would be straight forward:&lt;br/&gt;
&#8226;	boost::thread =&amp;gt;  std::thread&lt;br/&gt;
&#8226;	boost::this_thread  =&amp;gt;  std::this_thread&lt;br/&gt;
&#8226;	boost::timed_mutex  =&amp;gt;  std::timed_mutex&lt;br/&gt;
&#8226;	boost::adopt_lock  =&amp;gt;  std::adopt_lock&lt;br/&gt;
&#8226;	boost::shared_ptr  =&amp;gt;  std::shared_ptr&lt;br/&gt;
&#8226;	boost::weak_ptr  =&amp;gt;  std::weak_ptr&lt;br/&gt;
&#8226;	boost::dynamic_pointer_cast  =&amp;gt; std::dynamic_pointer_cast  &lt;br/&gt;
&#8226;	boost::bind  =&amp;gt; std::bind&lt;br/&gt;
&#8226;	boost::call_once  =&amp;gt;  std::call_once&lt;br/&gt;
&#8226;	boost::once_flag  =&amp;gt;  std::once_flag&lt;br/&gt;
&#8226;	boost::enable_if  =&amp;gt;  std::enable_if&lt;br/&gt;
&#8226;	boost::is_convertible  =&amp;gt;  std::is_convertible&lt;br/&gt;
&#8226;	boost::condition_variable_any  =&amp;gt;  std::condition_variable_any&lt;/p&gt;

&lt;p&gt;Some conversions are clear but not as simple as &#8220;thrift::&#8221;  =&amp;gt;  &#8220;boost::&#8221; or &#8220;std::&#8221;:&lt;br/&gt;
&#8226;	boost::scoped_ptr  =&amp;gt;  std::unique_ptr&lt;br/&gt;
&#8226;	boost::scoped_array  =&amp;gt;  std::unique_ptr&lt;br/&gt;
&#8226;	boost::lexical_cast  =&amp;gt;  std::to_string(), std::stod(), std::stoi(), etc.&lt;br/&gt;
&#8226;	boost::bad_lexical_cast  =&amp;gt;  thrift:: bad_lexical_cast (or whatever)&lt;br/&gt;
&#8226;	boost::posix_time  =&amp;gt;  std::chrono&lt;br/&gt;
&#8226;	boost::get_system_time  =&amp;gt;  std::chrono&lt;br/&gt;
&#8226;	boost::iends_with  =&amp;gt;  std::string::compare&lt;br/&gt;
&#8226;	boost::istarts_with  =&amp;gt;  std::string::compare&lt;br/&gt;
&#8226;	boost::noncopyable  =&amp;gt;  A( const A&amp;amp;) = delete;  A&amp;amp; operator=(const A&amp;amp;) = delete&lt;/p&gt;

&lt;p&gt;Some can be sourced from stdint.h:&lt;br/&gt;
&#8226;	boost::int64_t    &lt;br/&gt;
&#8226;	boost::uint32_t  &lt;br/&gt;
&#8226;	boost::uint8_t   &lt;/p&gt;

&lt;p&gt;Other boost dependencies might require a little rewrite:&lt;br/&gt;
&#8226;	boost::char_separator&lt;br/&gt;
&#8226;	boost::tokenizer&lt;/p&gt;

&lt;p&gt;From a thrift adoption stand point, I do think it would be nice if C+&lt;ins&gt;11 users could install basic user style thrift support free of dependencies and start creating apps. Another motivation is that in some situations (std) library features shipped with the compiler work better with tools (debuggers, profilers, embedded, etc.). Any scenario adding support for C&lt;/ins&gt;+11 would clearly need to be optional and not impact current users. &lt;/p&gt;</comment>
                            <comment id="13679394" author="roger.meier" created="Mon, 10 Jun 2013 08:57:49 +0000"  >&lt;p&gt;Yes, C++11 would be great!&lt;br/&gt;
Please look at this: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1458&quot; title=&quot;use the C++ standard (c++0x or later c++11) to improve code quality and cross platform capability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1458&quot;&gt;&lt;del&gt;THRIFT-1458&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13679496" author="ben.craig" created="Mon, 10 Jun 2013 13:33:03 +0000"  >&lt;p&gt;What are your thoughts on doing this via a &quot;cpp11&quot; generator and associated &quot;cpp11&quot; lib?  A fork won&apos;t break clients, and if done right, won&apos;t have a high migration cost.&lt;/p&gt;</comment>
                            <comment id="13688321" author="roger.meier" created="Wed, 19 Jun 2013 18:59:28 +0000"  >&lt;p&gt;hmm, I think cpp11 copy is difficult to manage, there is enough stuff to clean up first.&lt;/p&gt;</comment>
                            <comment id="13688476" author="nater" created="Wed, 19 Jun 2013 21:21:58 +0000"  >&lt;p&gt;The primary hangup I&apos;ve had with C+&lt;ins&gt;11 is compiling with -stdlib=libc&lt;/ins&gt;&lt;ins&gt;, where the generated code&apos;s direct use of the &lt;tt&gt;std::tr1&lt;/tt&gt; namespace (for &lt;tt&gt;function&lt;/tt&gt; and &lt;tt&gt;bind&lt;/tt&gt;) causes errors. Given that we recently started deploying cxxfunctional.h, we could emit generated code that uses the compatibility namespace and we wouldn&apos;t need a cpp11 generator mode to &quot;just work&quot;. I&apos;m using a patched generator that does just this at the moment, actually. The generated code compiles cleanly w/ default parameters, as well as -std=c&lt;/ins&gt;&lt;ins&gt;0x and -std=c&lt;/ins&gt;&lt;ins&gt;11 w/ and w/o -stdlib=libc&lt;/ins&gt;+. I&apos;ll send the patch.&lt;/p&gt;</comment>
                            <comment id="13688479" author="nater" created="Wed, 19 Jun 2013 21:24:56 +0000"  >&lt;p&gt;Sorry about the awful formatting. I attached the patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1458&quot; title=&quot;use the C++ standard (c++0x or later c++11) to improve code quality and cross platform capability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1458&quot;&gt;&lt;del&gt;THRIFT-1458&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13688483" author="ben.craig" created="Wed, 19 Jun 2013 21:28:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2022&quot; title=&quot;CoB and dense code generation still uses TR1 bind, even though that doesn&amp;#39;t work with clang&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2022&quot;&gt;&lt;del&gt;THRIFT-2022&lt;/del&gt;&lt;/a&gt; probably does a lot of the same things as your patch Nate.&lt;/p&gt;</comment>
                            <comment id="13688489" author="nater" created="Wed, 19 Jun 2013 21:31:47 +0000"  >&lt;p&gt;Exactly the same things. Brilliant!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12643793">THRIFT-1938</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12680412">THRIFT-2266</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12479136">THRIFT-990</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12555053" name="cleaner_port3.patch" size="182874" author="ben.craig" created="Tue, 27 Nov 2012 19:47:54 +0000"/>
                            <attachment id="12555941" name="cleaner_port4.patch" size="182903" author="ben.craig" created="Tue, 4 Dec 2012 15:01:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0joqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>112939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>