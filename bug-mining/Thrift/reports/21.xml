<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:53:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-73] TNonblockingServer loses client sockets permanently if wire data is corrupt</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-73</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;We currently have a problem where some bad messages are getting sent through to one of our servers. It results in an unhandled exception in FrameBuffer.invoke, which kills the worker thread but fails to close that socket. The result is a hung client, perpetually waiting for the server to start writing. &lt;/p&gt;

&lt;p&gt;The server should be resilient to such message corruption issues and close the client socket.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400054">THRIFT-73</key>
            <summary>TNonblockingServer loses client sockets permanently if wire data is corrupt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanduxbury">Bryan Duxbury</assignee>
                                    <reporter username="bryanduxbury">Bryan Duxbury</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Jul 2008 19:52:50 +0000</created>
                <updated>Tue, 1 Nov 2011 02:51:36 +0000</updated>
                            <resolved>Sun, 13 Jul 2008 23:35:12 +0000</resolved>
                                                                    <component>Java - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12612625" author="bryanduxbury" created="Thu, 10 Jul 2008 19:54:07 +0000"  >&lt;p&gt;This patch adds the correct error handling code to do the right thing in the face of unexpected exceptions when processing an invocation.&lt;/p&gt;</comment>
                            <comment id="12612703" author="dreiss" created="Fri, 11 Jul 2008 00:09:50 +0000"  >&lt;p&gt;I&apos;m no nio expert, but this looks good to me, so I can commit it if no one objects (and you write the commit message &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).  One tiny thing that might help would be a comment right before &quot;state_ = AWAITING_CLOSE;&quot; to remind the reader that this code only executes in the exception case.&lt;/p&gt;</comment>
                            <comment id="12612983" author="bryanduxbury" created="Fri, 11 Jul 2008 20:11:48 +0000"  >&lt;p&gt;Here&apos;s a version with a teensy comment about flow.&lt;/p&gt;

&lt;p&gt;Commit message:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-73&quot; title=&quot;TNonblockingServer loses client sockets permanently if wire data is corrupt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-73&quot;&gt;&lt;del&gt;THRIFT-73&lt;/del&gt;&lt;/a&gt;: java: fixed a bug where TNonblockingServer (and by extension THsHaServer) could permanently lose track of client connections if the message on-wire was malformed. If the client sends a bad message now, the server will close the transport at its earliest convenience.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12385899" name="thrift-73-v2.patch" size="1535" author="bryanduxbury" created="Fri, 11 Jul 2008 20:11:48 +0000"/>
                            <attachment id="12385800" name="thrift-73.patch" size="1471" author="bryanduxbury" created="Thu, 10 Jul 2008 19:54:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16c8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>