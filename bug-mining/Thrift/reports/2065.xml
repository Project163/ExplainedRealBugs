<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:32:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-5111] CI fails with error[E0721]: `await` is a keyword in the 2018 edition</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-5111</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;There are quite a bunch of misc error&lt;span class=&quot;error&quot;&gt;&amp;#91;E0658&amp;#93;&lt;/span&gt; instances, this is just the last one:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    Building [====&amp;gt;                                                     ] 4/46
error[E0658]: use of unstable library feature &lt;span class=&quot;code-quote&quot;&gt;&apos;futures_api&apos;&lt;/span&gt;: futures in libcore are unstable (see issue #50547)
  --&amp;gt; /root/.cargo/registry/src/github.com-1ecc6299db9ec823/futures-core-0.3.4/src/&lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt;.rs:52:57
   
      impl&amp;lt;F, T, E&amp;gt; Sealed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; F where F: ?Sized + Future&amp;lt;Output = Result&amp;lt;T, E&amp;gt;&amp;gt; {}
                                                            ^^^^^^^^^^^^^^^^^^^^^
    Building [====&amp;gt;                                                     ] 4/46

    Building [====&amp;gt;                                                     ] 4/46
error: aborting due to 47 previous errors
    Building [====&amp;gt;                                                     ] 4/46

    Building [====&amp;gt;                                                     ] 4/46
For more information about &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; error, &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; `rustc --explain E0658`.
    Building [====&amp;gt;                                                     ] 4/46
error: Could not compile `futures-core`.
warning: build failed, waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; other jobs to finish...
    Building [====&amp;gt;                                                     ] 4/46
error: build failed
Makefile:821: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;all-local&apos;&lt;/span&gt; failed
make[4]: *** [all-local] Error 101
make[4]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib/rs&apos;&lt;/span&gt;
Makefile:538: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;all-recursive&apos;&lt;/span&gt; failed
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib/rs&apos;&lt;/span&gt;
Makefile:579: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;all-recursive&apos;&lt;/span&gt; failed
make[2]: *** [all-recursive] Error 1
make[2]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src/lib&apos;&lt;/span&gt;
Makefile:679: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;all-recursive&apos;&lt;/span&gt; failed
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory &lt;span class=&quot;code-quote&quot;&gt;&apos;/thrift/src&apos;&lt;/span&gt;
Makefile:595: recipe &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; target &lt;span class=&quot;code-quote&quot;&gt;&apos;all&apos;&lt;/span&gt; failed
make: *** [all] Error 2
travis_time:end:0d3adeac:start=1582460968290556973,finish=1582461732057692906,duration=763767135933,event=script
The command &lt;span class=&quot;code-quote&quot;&gt;&quot;build/docker/run.sh&quot;&lt;/span&gt; exited with 2.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Travis&lt;br/&gt;
&#160;&lt;/p&gt;</environment>
        <key id="13287065">THRIFT-5111</key>
            <summary>CI fails with error[E0721]: `await` is a keyword in the 2018 edition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janosvitok">Jano Svitok</assignee>
                                    <reporter username="jensg">Jens Geyer</reporter>
                        <labels>
                            <label>ci-failure</label>
                    </labels>
                <created>Sun, 23 Feb 2020 14:33:02 +0000</created>
                <updated>Thu, 11 Feb 2021 22:27:17 +0000</updated>
                            <resolved>Sat, 7 Mar 2020 10:17:39 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Rust - Library</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                                        <aggregatetimeremainingestimate seconds="0">0h</aggregatetimeremainingestimate>
                                        <aggregatetimespent seconds="2400">40m</aggregatetimespent>
                                    <comments>
                            <comment id="17043863" author="emmenlau" created="Mon, 24 Feb 2020 20:58:47 +0000"  >&lt;p&gt;In&#160;&lt;a href=&quot;https://github.com/r-darwish/alma/issues/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/r-darwish/alma/issues/23&lt;/a&gt;&#160;it is suggested that this issue is resolved in rust&#160;1.36 or above. This is supported by&#160;&lt;a href=&quot;https://blog.rust-lang.org/2019/07/04/Rust-1.36.0.html#the-alloc-crate-is-stable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blog.rust-lang.org/2019/07/04/Rust-1.36.0.html#the-alloc-crate-is-stable&lt;/a&gt;&#160;where it is explicitly mentioned that the &quot;alloc&quot; create was not stable before.&lt;/p&gt;</comment>
                            <comment id="17044427" author="allengeorge" created="Tue, 25 Feb 2020 13:20:32 +0000"  >&lt;p&gt;Hmm. Will take a look. Surprised this suddenly came up, but there&apos;s been a lot of flux in the futures ecosystem.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;thinks&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Wait - we don&apos;t use futures anywhere, so not sure how this crate is getting dragged in at all.&lt;/p&gt;</comment>
                            <comment id="17044917" author="emmenlau" created="Tue, 25 Feb 2020 21:42:16 +0000"  >&lt;p&gt;Dear &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=allengeorge&quot; class=&quot;user-hover&quot; rel=&quot;allengeorge&quot;&gt;allengeorge&lt;/a&gt;&#160;you probably have seen this but the issue is not just about &lt;tt&gt;futures&lt;/tt&gt; crate, also others like &lt;tt&gt;alloc&lt;/tt&gt;...&lt;/p&gt;</comment>
                            <comment id="17044945" author="jensg" created="Tue, 25 Feb 2020 22:08:02 +0000"  >&lt;p&gt;Suddenly is the right word. Don&apos;t understand it either. Our code did not change, and as I understand it we are referring stable stuff only, but something definitely did change and broke it. Strange thing that ... anyway, efforts are highly appreciated.&lt;/p&gt;</comment>
                            <comment id="17045889" author="jensg" created="Wed, 26 Feb 2020 20:55:08 +0000"  >&lt;p&gt;New day, new errors.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
error[E0721]: `await` is a keyword in the 2018 edition
  --&amp;gt; /root/.cargo/registry/src/github.com-1ecc6299db9ec823/integer-encoding-1.1.1/src/writer.rs:62:51
   |
62 |         self.write(&amp;amp;buf[0..FI::required_space()]).await
   |                                                   ^^^^^ help: you can use a raw identifier to stay compatible: `r#await`

    Building [===================================================&amp;gt;     ] 26/28
error: aborting due to 26 previous errors

For more information about &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; error, &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; `rustc --explain E0721`.
    Building [===================================================&amp;gt;     ] 26/28
error: Could not compile `integer-encoding`.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17045892" author="jensg" created="Wed, 26 Feb 2020 20:58:03 +0000"  >&lt;p&gt;Looks to me like we are using kind of a daily Rust build, could that be the case? If so,&#160;is there a way we can enforce a particular Rust version instead of getting the everyday build surprise?&lt;/p&gt;</comment>
                            <comment id="17047868" author="jensg" created="Fri, 28 Feb 2020 18:36:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=allengeorge&quot; class=&quot;user-hover&quot; rel=&quot;allengeorge&quot;&gt;allengeorge&lt;/a&gt; does this answer help us solve the issue?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/dermesser/integer-encoding-rs/issues/4#issuecomment-592203297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dermesser/integer-encoding-rs/issues/4#issuecomment-592203297&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17048355" author="allengeorge" created="Sat, 29 Feb 2020 17:19:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt; Looking at related messages and the thread. TY.&lt;/p&gt;

&lt;p&gt;Edit: &lt;span class=&quot;error&quot;&gt;&amp;#91;sigh&amp;#93;&lt;/span&gt; Can&apos;t build bionic locally :/&lt;/p&gt;</comment>
                            <comment id="17053771" author="janosvitok" created="Fri, 6 Mar 2020 21:51:45 +0000"  >&lt;p&gt;FWIW, I tried to run make precross in docker with PR 2045 and latest rust (1.41.1) and it succeeded. Not that I know what I&apos;m doing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17053901" author="janosvitok" created="Sat, 7 Mar 2020 06:14:34 +0000"  >&lt;p&gt;Rust 1.36 compiles fine as well. This: &lt;a href=&quot;https://github.com/rust-lang/rust/issues/57919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rust-lang/rust/issues/57919&lt;/a&gt; suggest that it was a bug in rust, fixed in 1.36.0&lt;/p&gt;</comment>
                            <comment id="17053943" author="janosvitok" created="Sat, 7 Mar 2020 08:27:20 +0000"  >&lt;p&gt;I&apos;ve made experimental &lt;a href=&quot;https://github.com/apache/thrift/pull/2050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/2050&lt;/a&gt;. It got past that rust error. Now there are few more ones:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/test.py requires python at least 3.3. (2.7 is provided) &lt;a href=&quot;https://travis-ci.org/apache/thrift/jobs/659453130#L21076&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/jobs/659453130#L21076&lt;/a&gt; &lt;a href=&quot;https://travis-ci.org/apache/thrift/jobs/659453131#L21076&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/jobs/659453131#L21076&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Lisp failed with some permission denied &lt;a href=&quot;https://travis-ci.org/apache/thrift/jobs/659453132#L20562&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/jobs/659453132#L20562&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;js failed with TypeError: &lt;a href=&quot;https://travis-ci.org/apache/thrift/jobs/659453136#L6123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/jobs/659453136#L6123&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note: In PR 2050 I&apos;ve cherrypicked one commit from PR 2048 - I propose that you merge/cherry pick only that commit (15f44ef8db, swift upgrade), and leave the rest for later, since cross tests are not ready yet.&lt;/p&gt;</comment>
                            <comment id="17053965" author="jensg" created="Sat, 7 Mar 2020 09:56:20 +0000"  >&lt;p&gt;Yes, there are also more blocker tickets, you know ...&lt;/p&gt;</comment>
                            <comment id="17053967" author="jensg" created="Sat, 7 Mar 2020 10:18:39 +0000"  >&lt;p&gt;Thank you both, great work!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="13289532">THRIFT-5131</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bsqw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>