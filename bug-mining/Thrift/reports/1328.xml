<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:20:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3178] glib C does not compile</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3178</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Generated glibc files in c compile error&lt;/p&gt;

&lt;p&gt;/home/ubuntu/Downloads/ht_thrf/gen-c_glib/client_service.c: In function &#8216;client_service_client_recv_scanner_get_cells_as_arrays&#8217;:&lt;br/&gt;
/home/node/ubuntu/ht_thrf/gen-c_glib/client_service.c:8525:38: warning: passing argument 1 of &#8216;g_ptr_array_add&#8217; from incompatible pointer type&lt;br/&gt;
                     g_ptr_array_add (_elem119, _elem120);&lt;br/&gt;
                                      ^&lt;br/&gt;
In file included from /usr/include/glib-2.0/glib.h:31:0,&lt;br/&gt;
                 from /usr/include/glib-2.0/gobject/gbinding.h:28,&lt;br/&gt;
                 from /usr/include/glib-2.0/glib-object.h:23,&lt;br/&gt;
                 from /opt/hypertable/current/include/thrift/c_glib/transport/thrift_socket.h:23,&lt;br/&gt;
                 from &amp;lt;command-line&amp;gt;:1:&lt;br/&gt;
/usr/include/glib-2.0/glib/garray.h:168:12: note: expected &#8216;struct GPtrArray *&#8217; but argument is of type &#8216;struct GPtrArray **&#8217;&lt;br/&gt;
 void       g_ptr_array_add                (GPtrArray        *array,&lt;br/&gt;
            ^&lt;br/&gt;
/home/ubuntu/Downloads/ht_thrf/gen-c_glib/client_service.c: In function &#8216;client_service_client_recv_next_cells_as_arrays&#8217;:&lt;br/&gt;
/home/node/Downloads/ht_thrf/gen-c_glib/client_service.c:8771:38: warning: passing argument 1 of &#8216;g_ptr_array_add&#8217; from incompatible pointer type&lt;br/&gt;
                     g_ptr_array_add (_elem121, _elem122);&lt;br/&gt;
                                      ^&lt;br/&gt;
In file included from /usr/include/glib-2.0/glib.h:31:0,&lt;br/&gt;
                 from /usr/include/glib-2.0/gobject/gbinding.h:28,&lt;br/&gt;
                 from /usr/include/glib-2.0/glib-object.h:23,&lt;br/&gt;
                 from /opt/hypertable/current/include/thrift/c_glib/transport/thrift_socket.h:23,&lt;br/&gt;
                 from &amp;lt;command-line&amp;gt;:1:&lt;br/&gt;
/usr/include/glib-2.0/glib/garray.h:168:12: note: expected &#8216;struct GPtrArray *&#8217; but argument is of type &#8216;struct GPtrArray **&#8217;&lt;br/&gt;
 void       g_ptr_array_add                (GPtrArray        *array,&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu GCC, CGLIB 2 Hypertable&lt;/p&gt;</environment>
        <key id="12834246">THRIFT-3178</key>
            <summary>glib C does not compile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simonsouth">Simon South</assignee>
                                    <reporter username="nijx">nijx</reporter>
                        <labels>
                            <label>Hypertable</label>
                    </labels>
                <created>Mon, 1 Jun 2015 14:27:37 +0000</created>
                <updated>Tue, 25 Aug 2015 04:44:50 +0000</updated>
                            <resolved>Fri, 7 Aug 2015 22:27:58 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.9.3</fixVersion>
                                    <component>C glib - Compiler</component>
                    <component>C glib - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14568037" author="roger.meier" created="Mon, 1 Jun 2015 21:22:38 +0000"  >&lt;p&gt;I only see warnings within your log.&lt;/p&gt;

&lt;p&gt;Please have a look at CONTRIBUTING.md if you have a patch for this.&lt;/p&gt;</comment>
                            <comment id="14661759" author="githubbot" created="Fri, 7 Aug 2015 12:32:15 +0000"  >&lt;p&gt;GitHub user simonsouth opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/581&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3178&quot; title=&quot;glib C does not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3178&quot;&gt;&lt;del&gt;THRIFT-3178&lt;/del&gt;&lt;/a&gt;: c_glib does not compile&lt;/p&gt;

&lt;p&gt;    These changes allow Hypertable&apos;s Thrift interface to be compiled by the C (GLib) compiler by correcting the way the compiler handles &quot;compound&quot; and typedef&apos;d list types. The changes include&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adding test cases for list-of-string-list containers (variables of type list&amp;lt;list&amp;lt;string&amp;gt;&amp;gt;) returned by service methods, both aliased with a typedef and not;&lt;/li&gt;
	&lt;li&gt;Modifying the compiler to&lt;/li&gt;
	&lt;li&gt;Initialize list variables (pointer arrays) in the generated code before they are used,&lt;/li&gt;
	&lt;li&gt;Correctly identify the type of typedef&apos;d list elements and&lt;/li&gt;
	&lt;li&gt;Omit the dereference operator (&quot;*&quot;) in typedef&apos;d types to match the way they would naturally be used in client code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    The final commit refactors the test cases to put common code related to creating a service client in its own function.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/simonsouth/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/simonsouth/thrift&lt;/a&gt; thrift-3178-c_glib-does-not-compile&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/581.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/581.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #581&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit cc87b14bf2f895dc0ceb470008473256c6921517&lt;br/&gt;
Author: Simon South &amp;lt;ssouth@simonsouth.com&amp;gt;&lt;br/&gt;
Date:   2015-08-07T10:31:35Z&lt;/p&gt;

&lt;p&gt;    c_glib: Add unit test for lists of string lists&lt;/p&gt;

&lt;p&gt;    Adds a unit test that covers lists of lists of strings returned&lt;br/&gt;
    from service methods.&lt;/p&gt;

&lt;p&gt;commit c2d7276500842ae3901b6d7835f467de7577a9bb&lt;br/&gt;
Author: Simon South &amp;lt;ssouth@simonsouth.com&amp;gt;&lt;br/&gt;
Date:   2015-08-07T10:32:54Z&lt;/p&gt;

&lt;p&gt;    c_glib: Compiler: Create list variables before use&lt;/p&gt;

&lt;p&gt;    With this change generated code will create list (i.e. g_ptr_array)&lt;br/&gt;
    variables before using them. This prevents an assertion failure&lt;br/&gt;
    when deserializing a list from a service-method response.&lt;/p&gt;

&lt;p&gt;commit 906f2a671ad7731e7f6760deff6e0517d0f202b4&lt;br/&gt;
Author: Simon South &amp;lt;ssouth@simonsouth.com&amp;gt;&lt;br/&gt;
Date:   2015-08-07T11:41:43Z&lt;/p&gt;

&lt;p&gt;    c_glib: Add unit test for typedef&apos;d lists of string lists&lt;/p&gt;

&lt;p&gt;    Adds a service-handler method and unit test that duplicates the&lt;br/&gt;
    existing test for lists of string lists returned from service&lt;br/&gt;
    methods, but adds the use of typedef&apos;d types.&lt;/p&gt;

&lt;p&gt;commit 21a436134d956983facf63163a6a39443a8c7a7d&lt;br/&gt;
Author: Simon South &amp;lt;ssouth@simonsouth.com&amp;gt;&lt;br/&gt;
Date:   2015-08-07T11:43:21Z&lt;/p&gt;

&lt;p&gt;    c_glib: Compiler: Correctly handle typedef&apos;d list types&lt;/p&gt;

&lt;p&gt;    With this change the compiler will emit code that correctly handles&lt;br/&gt;
    typedef&apos;d list types returned from service methods. The specific&lt;br/&gt;
    changes are&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Omit the dereference operator (&quot;*&quot;) from container type names&lt;br/&gt;
      output in typedef statements, to allow the type to be used as&lt;br/&gt;
      a programmer would expect in client code; and&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Determine the underlying type of a list&apos;s typedef&apos;d elements when&lt;br/&gt;
      generating code to serialize those elements.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 2d6384bafcc832134c9f705bb5d75da4f0414d00&lt;br/&gt;
Author: Simon South &amp;lt;ssouth@simonsouth.com&amp;gt;&lt;br/&gt;
Date:   2015-08-07T12:18:00Z&lt;/p&gt;

&lt;p&gt;    c_glib: testcontainertest.c: Factor out common code&lt;/p&gt;

&lt;p&gt;    Add a helper method that executes a test case against a newly&lt;br/&gt;
    constructed service client, then refactor the test methods to use&lt;br/&gt;
    this helper.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14662564" author="githubbot" created="Fri, 7 Aug 2015 22:25:50 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/581&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/581&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14662565" author="jensg" created="Fri, 7 Aug 2015 22:27:58 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="14662602" author="hudson" created="Fri, 7 Aug 2015 22:48:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1640 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1640/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1640/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3178&quot; title=&quot;glib C does not compile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3178&quot;&gt;&lt;del&gt;THRIFT-3178&lt;/del&gt;&lt;/a&gt; glib C does not compile (jensg: rev 4fed1af57013b9115cc2fc56a66fc452a8711c62)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/c_glib/test/ContainerTest.thrift&lt;/li&gt;
	&lt;li&gt;lib/c_glib/test/testcontainertest.c&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_c_glib_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12641780">THRIFT-1925</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/hypertable/hypertable/blob/master/src/cc/ThriftBroker/Client.thrift]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fgif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>