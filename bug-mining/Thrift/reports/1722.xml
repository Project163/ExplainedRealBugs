<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:26:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3801] Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3801</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;In a situation using the node.js library to make requests using the buffered transport, binary protocol and the multiplexer, I&apos;ve been getting an exception on receiving responses from line 145 of connection.js (&lt;a href=&quot;https://github.com/apache/thrift/blob/0.9.3/lib/nodejs/lib/thrift/connection.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/blob/0.9.3/lib/nodejs/lib/thrift/connection.js&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;at TCP.onread (net.js:531:20)&lt;br/&gt;
at Socket.Readable.push (_stream_readable.js:111:10)&lt;br/&gt;
at readableAddChunk (_stream_readable.js:153:18)&lt;br/&gt;
at Socket.emit (events.js:169:7)&lt;br/&gt;
at emitOne (events.js:77:13)&lt;br/&gt;
at Socket.&amp;lt;anonymous&amp;gt; (/src/node_modules/thrift/lib/nodejs/lib/thrift/buffered_transport.js:48:5)&lt;br/&gt;
at /src/node_modules/thrift/lib/nodejs/lib/thrift/connection.js:151:35&lt;br/&gt;
TypeError: Cannot set property &apos;-1&apos; of undefined&lt;/p&gt;

&lt;p&gt;It looks like the issue is that if a message consists of multiple parts, the first part removes the seqid to service mapping in line 142, then it&apos;s no longer available for the second part thus the error. If I&apos;m right the fix would be to remove the mapping later on once the final part has arrived.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12963273">THRIFT-3801</key>
            <summary>Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="mark9white">Mark White</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Apr 2016 19:29:03 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:04 +0000</updated>
                            <resolved>Wed, 22 Feb 2017 16:25:20 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Node.js - Library</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15415403" author="adamlc" created="Wed, 10 Aug 2016 15:00:52 +0000"  >&lt;p&gt;I&apos;ve been getting exactly the same issue when using the multiplexer. Unfortunately I don&apos;t know enough about the protocol to debug it any further. Are they are fixes in the meantime &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mark9white&quot; class=&quot;user-hover&quot; rel=&quot;mark9white&quot;&gt;mark9white&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15415428" author="mark9white" created="Wed, 10 Aug 2016 15:14:07 +0000"  >&lt;p&gt;I&apos;m not using this any more, but as I recall, try moving line 142 to below line 149.&lt;/p&gt;</comment>
                            <comment id="15415435" author="adamlc" created="Wed, 10 Aug 2016 15:17:31 +0000"  >&lt;p&gt;Awesome thanks. That seems to work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15416964" author="githubbot" created="Thu, 11 Aug 2016 09:58:04 +0000"  >&lt;p&gt;GitHub user adamlc opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1063&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt;: Fix exception with nodejs multiplexer&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt; - Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&lt;/p&gt;

&lt;p&gt;    This fix was suggested by someone else. Unfortunately I don&apos;t know enough about Thrift to know if this will cause an issue. Hopefully we can discuss here &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/Jumplead/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Jumplead/thrift&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1063.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1063.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1063&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 240c1245ea7db0d923f57eadc1a04e29dfb9619f&lt;br/&gt;
Author: Adam Curtis &amp;lt;adam@mooloop.com&amp;gt;&lt;br/&gt;
Date:   2016-08-11T09:47:37Z&lt;/p&gt;

&lt;p&gt;    Fix exception with nodejs multiplexer&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt; - Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15877333" author="githubbot" created="Wed, 22 Feb 2017 02:42:30 +0000"  >&lt;p&gt;GitHub user jeking3 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt;: Fix exception with nodejs multiplexer&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt; - Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&lt;/p&gt;

&lt;p&gt;    Supercedes &lt;a href=&quot;https://github.com/apache/thrift/pull/1063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1063&lt;/a&gt;&lt;br/&gt;
    Supercedes &lt;a href=&quot;https://github.com/apache/thrift/pull/773&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/773&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Just want a clean CI build before merging.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jeking3/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jeking3/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1202.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1202.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1202&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b7578ffffb966197592bc30577e07af368461477&lt;br/&gt;
Author: Adam Curtis &amp;lt;adam@mooloop.com&amp;gt;&lt;br/&gt;
Date:   2016-08-11T09:47:37Z&lt;/p&gt;

&lt;p&gt;    Fix exception with nodejs multiplexer&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3801&quot; title=&quot;Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3801&quot;&gt;&lt;del&gt;THRIFT-3801&lt;/del&gt;&lt;/a&gt; - Node Thrift client throws exception with multiplexer and responses that are bigger than a single buffer&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15878617" author="githubbot" created="Wed, 22 Feb 2017 16:21:59 +0000"  >&lt;p&gt;Github user jeking3 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1202&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    The only build failure is unrelated:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4103&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-4103&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I am going to merge this.&lt;/p&gt;</comment>
                            <comment id="15878628" author="githubbot" created="Wed, 22 Feb 2017 16:25:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1202&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1202&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15878629" author="githubbot" created="Wed, 22 Feb 2017 16:25:28 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1063&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12927326">THRIFT-3522</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wv6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>