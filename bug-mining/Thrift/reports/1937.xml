<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:29:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4680] TBufferTransports.h does not compile under Visual Studio 2017</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4680</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When compiling under Windows 10 and including TBufferTransports.h, compilation fails with&lt;/p&gt;

&lt;p&gt;Error&#160;&#160; &#160;C2589&#160;&#160; &#160;&apos;(&apos;: illegal token on right side of &apos;::&apos; (compiling source file &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;)&#160; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;\thrift-0.11.0\lib\cpp\src\thrift\transport\tbuffertransports.h&#160;&#160; &#160;452&lt;/p&gt;

&lt;p&gt;The error seems to be caused by the fact that in windows.h a macro max is defined.&lt;/p&gt;

&lt;p&gt;Possible work arounds are to define NOMINMAX in order to prevent windows.h to define the macro max.&lt;/p&gt;

&lt;p&gt;Alternatively, before the statement on line 452 undefine the macro&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;#undef max&lt;/tt&gt;&lt;br/&gt;
 &lt;tt&gt;maxBufferSize_ = std::numeric_limits&amp;lt;uint32_t&amp;gt;::max()&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;However, I would prefer a version, where it is checked whether max is defined as a macro, and if so, to use the other, correct syntax for this case of:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;maxBufferSize_ = (std::numeric_limits&amp;lt;uint32_t&amp;gt;::max)();&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Visual Studio 2017&lt;/p&gt;</environment>
        <key id="13204985">THRIFT-4680</key>
            <summary>TBufferTransports.h does not compile under Visual Studio 2017</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="sebastian.stueker@karlsruhe-it-solutions.com">Sebastian St&#252;ker</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Dec 2018 20:45:10 +0000</created>
                <updated>Thu, 27 Dec 2018 15:24:56 +0000</updated>
                            <resolved>Tue, 18 Dec 2018 15:18:31 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>C++ - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16723356" author="jking3" created="Mon, 17 Dec 2018 20:50:33 +0000"  >&lt;p&gt;Will you have a pull request for it?&lt;br/&gt;
I am putting 0.12.0 together right now.&lt;/p&gt;</comment>
                            <comment id="16723358" author="sebastian.stueker@karlsruhe-it-solutions.com" created="Mon, 17 Dec 2018 20:56:23 +0000"  >&lt;p&gt;Hello James,&lt;/p&gt;

&lt;p&gt;I hit the create button too fast, before actually adding the description.&lt;/p&gt;

&lt;p&gt;I just added the description, describing possible work arounds, and only in principal, how to do it correctly.&lt;/p&gt;

&lt;p&gt;I won&apos;t be able to create a pull request tonight (end of my day right now), but a colleague of me and I might be able to put a small thing together tomorrow during our business day.&lt;/p&gt;

&lt;p&gt;Would that be O.K.?&lt;/p&gt;

&lt;p&gt;(BTW, has nobody else encountered the problem so far? A search of the issue database did not show anything, and I did not find the feature for searching the mailing list right away).&lt;/p&gt;

&lt;p&gt;Best&lt;/p&gt;

&lt;p&gt;Sebastian&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16723373" author="jking3" created="Mon, 17 Dec 2018 21:16:15 +0000"  >&lt;p&gt;I&apos;ll submit a PR shortly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|u002c8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>