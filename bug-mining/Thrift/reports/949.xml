<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:12:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2491] unable to import generated ThriftTest service</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2491</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;IDL compiler uses service name converted from camel case to underscores as a file name. service ThriftTest {} goes into thrift_test.go, which is not being compiled since the file match *_test.go mask.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12709758">THRIFT-2491</key>
            <summary>unable to import generated ThriftTest service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="apesternikov">Aleksey Pesternikov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Apr 2014 12:53:54 +0000</created>
                <updated>Mon, 26 May 2014 22:43:45 +0000</updated>
                            <resolved>Fri, 2 May 2014 21:40:26 +0000</resolved>
                                                    <fixVersion>0.9.2</fixVersion>
                                    <component>Go - Compiler</component>
                    <component>Go - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13976720" author="githubbot" created="Tue, 22 Apr 2014 12:57:04 +0000"  >&lt;p&gt;GitHub user apesternikov opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    add _ to generated filename if it ends with _test.go&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2491&quot; title=&quot;unable to import generated ThriftTest service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2491&quot;&gt;&lt;del&gt;THRIFT-2491&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    add _ to file names matching *_test.go so&lt;br/&gt;
    thrift_test.go -&amp;gt; thrift_test_.go&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apesternikov/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apesternikov/thrift&lt;/a&gt; go_test_service_name&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/105.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/105.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #105&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit f2e7186ca8d63f407dba0c56ee51afd6405926ba&lt;br/&gt;
Author: Aleksey Pesternikov &amp;lt;ap@alekseys-mbp.att.net&amp;gt;&lt;br/&gt;
Date:   2014-04-22T12:48:14Z&lt;/p&gt;

&lt;p&gt;    add _ to generated filename if it ends with _test.go&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="13977308" author="jensg" created="Tue, 22 Apr 2014 20:01:52 +0000"  >&lt;p&gt;@&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=traviscline&quot; class=&quot;user-hover&quot; rel=&quot;traviscline&quot;&gt;traviscline&lt;/a&gt;: Why do we &lt;tt&gt;underscore()&lt;/tt&gt; file names at all? Is there a specific reason for it? The only other generator that does it this way is the Ruby generator. What about removing these underscore() calls for go file names completely? &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apesternikov&quot; class=&quot;user-hover&quot; rel=&quot;apesternikov&quot;&gt;apesternikov&lt;/a&gt; Your patch would be still needed, since one is free to name his service &lt;tt&gt;foo_test&lt;/tt&gt;. But let&apos;s just wait for Travis&apos; answer.&lt;/p&gt;</comment>
                            <comment id="13977377" author="apesternikov" created="Tue, 22 Apr 2014 20:43:39 +0000"  >&lt;p&gt;Quote from &lt;a href=&quot;http://golang.org/doc/effective_go.html#package-names&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Effective Go&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By convention, packages are given lower case, single-word names&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;duh, CamelCase package names are wrong.&lt;br/&gt;
I was not able to find anything about file names though. However, there is no uppercase .go filenames in the standard library (only some Makefiles, .S and README)&lt;br/&gt;
to my taste, uppercase in go bear some special meaning (visibility) so using it when it is not relevant decreases readability.&lt;/p&gt;</comment>
                            <comment id="13977413" author="jensg" created="Tue, 22 Apr 2014 21:01:01 +0000"  >&lt;p&gt;I didn&apos;t say anything about uppercase/camelcase.&lt;/p&gt;

&lt;p&gt;The quote is not complete. The whole sentence is as follows:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By convention, packages are given lower case, single-word names; &lt;b&gt;there should be no need for underscores or mixedCaps&lt;/b&gt;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13977683" author="apesternikov" created="Wed, 23 Apr 2014 00:53:21 +0000"  >&lt;p&gt;well thats what underscore does:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  /**
   * Transforms a camel &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; string to an equivalent one separated by underscores
   * e.g. aMultiWord -&amp;gt; a_multi_word
   *      someName   -&amp;gt; some_name
   *      CamelCase  -&amp;gt; camel_case
   *      name       -&amp;gt; name
   *      Name       -&amp;gt; name
   */
  std::string underscore(std::string in) {
    in[0] = tolower(in[0]);
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (size_t i = 1; i &amp;lt; in.size(); ++i) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isupper(in[i])) {
        in[i] = tolower(in[i]);
        in.insert(i, &lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt;);
      }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; in;
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it is probably fine to replace &lt;tt&gt;underscore()&lt;/tt&gt; with &lt;tt&gt;lowercase()&lt;/tt&gt; so SomeService goes into someservice.go&lt;/p&gt;</comment>
                            <comment id="13978178" author="jensg" created="Wed, 23 Apr 2014 13:21:48 +0000"  >&lt;blockquote&gt;
&lt;p&gt;(...) so SomeService goes into someservice.go&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, of course, that was exactly my proposal. &lt;/p&gt;

&lt;p&gt;EDIT: I see that my statement &quot;removing the calls completely&quot; was misunderstandable too. I really meant only the underscores. Sorry.&lt;/p&gt;</comment>
                            <comment id="13978741" author="apesternikov" created="Wed, 23 Apr 2014 19:29:00 +0000"  >&lt;p&gt;Ok sorry for my misunderstanding. If there are no objections, I will replace underscore() with lowercase() in service filename generation and add lowercase() in package name generator.&lt;/p&gt;</comment>
                            <comment id="13978840" author="jensg" created="Wed, 23 Apr 2014 20:20:42 +0000"  >&lt;p&gt;Yes, great, thanks!&lt;/p&gt;</comment>
                            <comment id="13981026" author="apesternikov" created="Fri, 25 Apr 2014 13:41:58 +0000"  >&lt;p&gt;Done, please review &lt;a href=&quot;https://github.com/apache/thrift/pull/105/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/105/files&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13985414" author="githubbot" created="Wed, 30 Apr 2014 12:27:44 +0000"  >&lt;p&gt;GitHub user apesternikov opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/111&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2491&quot; title=&quot;unable to import generated ThriftTest service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2491&quot;&gt;&lt;del&gt;THRIFT-2491&lt;/del&gt;&lt;/a&gt; fix for broken tests&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apesternikov/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apesternikov/thrift&lt;/a&gt; go_broken_tests&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/111.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/111.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #111&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 493b5e5276a3aa0ecbdb34eaf26810a3ecb086e7&lt;br/&gt;
Author: Aleksey Pesternikov &amp;lt;ap@alekseys-mbp.att.net&amp;gt;&lt;br/&gt;
Date:   2014-04-30T12:26:49Z&lt;/p&gt;

&lt;p&gt;    broken tests&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="13985418" author="apesternikov" created="Wed, 30 Apr 2014 12:39:23 +0000"  >&lt;p&gt;I&apos;m sorry I messed this up. please ignore pull request 111&lt;/p&gt;</comment>
                            <comment id="13985419" author="githubbot" created="Wed, 30 Apr 2014 12:39:39 +0000"  >&lt;p&gt;Github user apesternikov closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/111&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13987135" author="jensg" created="Thu, 1 May 2014 23:02:05 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apesternikov&quot; class=&quot;user-hover&quot; rel=&quot;apesternikov&quot;&gt;apesternikov&lt;/a&gt;,&lt;br/&gt;
I got conflicts in at least three files. &lt;br/&gt;
Could you rebase #105?&lt;/p&gt;</comment>
                            <comment id="13988301" author="jensg" created="Fri, 2 May 2014 21:40:26 +0000"  >&lt;p&gt;Pull request #105 committed - thanks again, Aleksey!&lt;/p&gt;</comment>
                            <comment id="13988353" author="githubbot" created="Fri, 2 May 2014 22:30:37 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/105&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13989145" author="hudson" created="Sun, 4 May 2014 20:47:51 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1146 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1146/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1146/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2491&quot; title=&quot;unable to import generated ThriftTest service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2491&quot;&gt;&lt;del&gt;THRIFT-2491&lt;/del&gt;&lt;/a&gt; unable to import generated ThriftTest service (jensg: rev e52c046cb62d1f910302148f7bc2091c014acd27)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/go/test/tests/binary_key_test.go&lt;/li&gt;
	&lt;li&gt;lib/go/test/Makefile.am&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_go_generator.cc&lt;/li&gt;
	&lt;li&gt;lib/go/test/NamespacedTest.thrift&lt;/li&gt;
	&lt;li&gt;lib/go/test/tests/one_way_test.go&lt;/li&gt;
	&lt;li&gt;lib/go/test/tests/multiplexed_protocol_test.go&lt;/li&gt;
	&lt;li&gt;test/ThriftTest.thrift&lt;/li&gt;
	&lt;li&gt;lib/go/test/tests/optional_fields_test.go&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13995787" author="hudson" created="Mon, 12 May 2014 23:11:59 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1151 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1151/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1151/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2491&quot; title=&quot;unable to import generated ThriftTest service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2491&quot;&gt;&lt;del&gt;THRIFT-2491&lt;/del&gt;&lt;/a&gt; unable to import generated ThriftTest service (jensg: rev 958581d090d13cfc23162eb823f5ac6af36a8cb1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_go_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uuo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>388338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>