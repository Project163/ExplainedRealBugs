<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:26:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4213] Travis build fails at curl -sSL https://www.npmjs.com/install.sh | sh</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4213</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Step 24 : RUN curl -sSL https:&lt;span class=&quot;code-comment&quot;&gt;//www.npmjs.com/install.sh | sh
&lt;/span&gt;---&amp;gt; Running in 0edf1ca023e7
tar=/bin/tar
version:
tar (GNU tar) 1.27.1
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later 
&amp;lt;http:&lt;span class=&quot;code-comment&quot;&gt;//gnu.org/licenses/gpl.html&amp;gt;.
&lt;/span&gt;This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
install npm@latest
fetching: https:&lt;span class=&quot;code-comment&quot;&gt;//registry.npmjs.org/npm/-/npm-4.6.1.tgz
&lt;/span&gt;npm ERR! &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; function (err) {
npm ERR!         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (err) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; cb(err)
npm ERR!         fs.fsync(fd, function (err) {
npm ERR!           &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (err) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; cb(err)
npm ERR!           fs.close(fd, cb)
npm ERR!         })
npm ERR!       } has no method &lt;span class=&quot;code-quote&quot;&gt;&apos;toLowerCase&apos;&lt;/span&gt;
It failed
The command &lt;span class=&quot;code-quote&quot;&gt;&apos;/bin/sh -c curl -sSL https:&lt;span class=&quot;code-comment&quot;&gt;//www.npmjs.com/install.sh | sh&apos;&lt;/span&gt; 
&lt;/span&gt;returned a non-zero code: 1
/home/travis/.travis/job_stages: line 155:  1053 Terminated 
travis_jigger $! $timeout $cmd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13075383">THRIFT-4213</key>
            <summary>Travis build fails at curl -sSL https://www.npmjs.com/install.sh | sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="jensg">Jens Geyer</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 May 2017 18:54:41 +0000</created>
                <updated>Thu, 14 Dec 2017 13:55:23 +0000</updated>
                            <resolved>Sat, 2 Sep 2017 01:13:19 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16027554" author="githubbot" created="Sat, 27 May 2017 19:23:16 +0000"  >&lt;p&gt;GitHub user Jens-G opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1280&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4213&quot; title=&quot;Travis build fails at curl -sSL https://www.npmjs.com/install.sh | sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4213&quot;&gt;&lt;del&gt;THRIFT-4213&lt;/del&gt;&lt;/a&gt; Travis build fails at curl -sSL &lt;a href=&quot;https://www.npmjs.com/ins&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.npmjs.com/ins&lt;/a&gt;&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;tall.sh | sh&lt;/p&gt;

&lt;p&gt;    Client: Build process&lt;br/&gt;
    Patch: Jens Geyer&lt;/p&gt;

&lt;p&gt;    Temporarily removed nodejs from travis builds to get the previous commit tested. This is NOT the fix, only a workaround to minimize the impact of the problem.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/Jens-G/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Jens-G/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4213&quot; title=&quot;Travis build fails at curl -sSL https://www.npmjs.com/install.sh | sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4213&quot;&gt;&lt;del&gt;THRIFT-4213&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1280.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1280.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1280&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;</comment>
                            <comment id="16027738" author="githubbot" created="Sun, 28 May 2017 08:21:44 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1280&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16027739" author="jensg" created="Sun, 28 May 2017 08:25:38 +0000"  >&lt;p&gt;Just committed the above workaround, now only 5 instead of all 20 Travis builds are red&lt;br/&gt;
&lt;a href=&quot;https://travis-ci.org/apache/thrift/builds/236737013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/thrift/builds/236737013&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16052785" author="jensg" created="Sat, 17 Jun 2017 10:07:03 +0000"  >&lt;p&gt;The npm bot just auto-closed the issue. I&apos;m giving up here. I just don&apos;t have the time to deal with this. If someone else wants to take over, feel free to do so.&lt;/p&gt;</comment>
                            <comment id="16062030" author="githubbot" created="Sat, 24 Jun 2017 15:21:01 +0000"  >&lt;p&gt;GitHub user econner opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1295&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1295&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4213&quot; title=&quot;Travis build fails at curl -sSL https://www.npmjs.com/install.sh | sh&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4213&quot;&gt;&lt;del&gt;THRIFT-4213&lt;/del&gt;&lt;/a&gt; Travis build fails at curl -sSL &lt;a href=&quot;https://www.npmjs.com/install.sh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.npmjs.com/install.sh&lt;/a&gt; | sh&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/econner/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/econner/thrift&lt;/a&gt; thrift-4213&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1295.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1295.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1295&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 501ff5d98c38246f20dd0d478e89905e268c9eaa&lt;br/&gt;
Author: Eric Conner &amp;lt;eric@pinterest.com&amp;gt;&lt;br/&gt;
Date:   2017-06-24T15:19:32Z&lt;/p&gt;

&lt;p&gt;    Attempt to use newer version of nodejs.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16062191" author="econner724" created="Sun, 25 Jun 2017 02:03:20 +0000"  >&lt;p&gt;The above PR appears to fix the npm issue.  I upgraded nodejs in the Dockerfile to the LTS 6.x release.  The version in the apt-get repository is pretty old &amp;#8211; from 2014 &amp;#8211; and seems to be incompatible with the latest npm.  I don&apos;t know enough about Javascript to really understand why it is incompatible but it probably has something to do with ES2015.  In any case, newer versions of nodejs include npm so it does not need to be separately installed.  &lt;/p&gt;

&lt;p&gt;The other thing I&apos;m unsure of is the impact of changing this version and whether it is important to use the apt-get version of nodejs.  If so, then we are probably limited to using an older version of npm.&lt;/p&gt;</comment>
                            <comment id="16063814" author="githubbot" created="Mon, 26 Jun 2017 21:23:10 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/1295&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1295&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16063817" author="jensg" created="Mon, 26 Jun 2017 21:23:48 +0000"  >&lt;p&gt;Good question. Since tzhe overall result has improved, I just committed this, but leave the ticket open.&lt;/p&gt;</comment>
                            <comment id="16147876" author="jking3" created="Wed, 30 Aug 2017 19:23:13 +0000"  >&lt;p&gt;Builds in Travis CI are still failing because npm errors.&lt;/p&gt;</comment>
                            <comment id="16151358" author="jking3" created="Sat, 2 Sep 2017 01:13:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4295&quot; title=&quot;Refresh the Docker image file suite for Ubuntu, Debian, and CentOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4295&quot;&gt;&lt;del&gt;THRIFT-4295&lt;/del&gt;&lt;/a&gt; obsoletes this by moving us to an Ubuntu Xenial docker image for builds and we&apos;ll be using nodejs 8.4 through this method:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13073125">THRIFT-4202</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="13098714">THRIFT-4295</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fk2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>