<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:30:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4506] [CVE-2018-1320] Remove assertion in Java SASL code that would be ignored in release builds</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4506</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;There is an assertion in the SASL transport for Java that will only be processed in debug builds, at &lt;a href=&quot;https://github.com/apache/thrift/blob/master/lib/java/src/org/apache/thrift/transport/TSaslTransport.java#L298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/blob/master/lib/java/src/org/apache/thrift/transport/TSaslTransport.java#L298&lt;/a&gt;.  The preceeding while loop can be changed to guarantee this assertion in all builds.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-1320&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-1320&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13142583">THRIFT-4506</key>
            <summary>[CVE-2018-1320] Remove assertion in Java SASL code that would be ignored in release builds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jking3">James E. King III</assignee>
                                    <reporter username="jking3">James E. King III</reporter>
                        <labels>
                            <label>SASL</label>
                            <label>security</label>
                    </labels>
                <created>Mon, 5 Mar 2018 16:30:01 +0000</created>
                <updated>Sun, 12 May 2019 11:40:17 +0000</updated>
                            <resolved>Sat, 9 Mar 2019 15:16:09 +0000</resolved>
                                    <version>0.5</version>
                                    <fixVersion>0.9.3.1</fixVersion>
                    <fixVersion>0.12.0</fixVersion>
                                    <component>Java - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="16735918" author="jking3" created="Mon, 7 Jan 2019 14:59:30 +0000"  >&lt;p&gt;Adding CVE.&lt;/p&gt;</comment>
                            <comment id="16753303" author="electrum" created="Sun, 27 Jan 2019 06:14:49 +0000"  >&lt;p&gt;Could you apply this to the 0.9.x branch and release that as well? We have a dependency on Apache Hive which uses the vulnerable version, but can&apos;t simply upgrade libthrift in our application as that would break the generated code in the Apache Hive dependency.&lt;/p&gt;</comment>
                            <comment id="16753378" author="jking3" created="Sun, 27 Jan 2019 13:20:31 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-21173&quot; title=&quot;Upgrade Apache Thrift to 0.9.3-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-21173&quot;&gt;&lt;del&gt;HIVE-21173&lt;/del&gt;&lt;/a&gt; to track updating Apache Hive.  We don&apos;t normally make retroactive patches like this.  For example the tooling to get things into maven, and the entire build environment for 0.9.3 and 0.12.0 are quite different.  My recommendation is to move Hive to 0.12.0 to resolve the CVE.&lt;/p&gt;</comment>
                            <comment id="16755330" author="yoderme" created="Tue, 29 Jan 2019 19:48:58 +0000"  >&lt;p&gt;It&apos;s not just hive - by my count (of the projects I care about) this affects accumulo, avro, crunch, flume, hbase, hive, impala, kite, parquet, sentry, and spark.&#160; In&#160;several of those projects the libthrift jar is exposed outside of the project, making it a backwards-compatibility-breaking change for those projects.&#160; Without a 0.9.4 release (containing only this fix) there is no good way for those projects to preserve backwards compatibility and protect themselves from this issue.&lt;/p&gt;</comment>
                            <comment id="16755337" author="tlipcon" created="Tue, 29 Jan 2019 19:56:08 +0000"  >&lt;p&gt;Another option to consider is whether the project could do a &quot;Java-only release&quot;, say &quot;0.9.3.1&quot; if that&apos;s easier, considering it&apos;s only the Java client that changed?&lt;/p&gt;</comment>
                            <comment id="16755451" author="jking3" created="Tue, 29 Jan 2019 22:52:49 +0000"  >&lt;p&gt;This proposal is predicated on whether the build environment for 0.9.3 is still viable.  I don&apos;t mind making a 0.9.3.1 (I have to ask however, would maven central even recognize a 4-digit version number, as it is not SemVer compliant, and according to SemVer, I could make a &quot;0.9.3_1&quot; but it is semanitcally identical to &quot;0.9.3&quot; in terms of a version comparison.&lt;/p&gt;

&lt;p&gt;thrift 0.12.0 IS wire compatible with 0.9.3.  Projects currently using 0.9.3 should upgrade as soon as possible to 0.12.0.  The number of breaking changes between 0.9.3 and 0.12.0 from language perspectives should be fairly minor and documented in the language-specific README files.  We definitely have accumulated a number of breaking changes in 0.13.0, all of which are documented in the top level CHANGES.md file.  We are being much more vigilent on tracking these than we have in the past.&lt;/p&gt;

&lt;p&gt;Finally, I&apos;d like to update the list of project using thrift.... you mentioned a number which are not in our list of projects that use thrift.&lt;/p&gt;</comment>
                            <comment id="16755458" author="jking3" created="Tue, 29 Jan 2019 22:58:32 +0000"  >&lt;p&gt;I was able to cherry-pick the commit of d973409661f820d80d72c0034d06a12348c8705e into 0.9.3, I am trying to build.&lt;/p&gt;</comment>
                            <comment id="16755499" author="yoderme" created="Wed, 30 Jan 2019 00:12:17 +0000"  >&lt;p&gt;Thanks &lt;em&gt;so much&lt;/em&gt;&#160;for the effort.&#160;&#160;&lt;/p&gt;

&lt;p&gt;Version numbers: as far as I know, maven does not enforce anything at all wrt version strings. I&apos;ve seen some pretty horrible things, like &lt;a href=&quot;https://mvnrepository.com/artifact/com.mchange/c3p0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/com.mchange/c3p0&lt;/a&gt;, &lt;a href=&quot;https://mvnrepository.com/artifact/com.github.luben/zstd-jni,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/com.github.luben/zstd-jni,&lt;/a&gt;&#160;and &lt;a href=&quot;https://mvnrepository.com/artifact/com.google.errorprone/javac.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/com.google.errorprone/javac.&lt;/a&gt;&#160;So that&apos;s the least of your worries.&lt;/p&gt;

&lt;p&gt;Compatibility: is it backwards-compatible from the point of view of a user of the java client library?&lt;/p&gt;</comment>
                            <comment id="16760114" author="yoderme" created="Mon, 4 Feb 2019 19:06:04 +0000"  >&lt;p&gt;Any news on the rebuild / release effort?&lt;/p&gt;

&lt;p&gt;Thanks, -Mike&lt;/p&gt;</comment>
                            <comment id="16761346" author="jking3" created="Wed, 6 Feb 2019 01:09:26 +0000"  >&lt;p&gt;I was not able to build 0.9.3 plus the cherry-pick.  The build environment from 3.5 years ago doesn&apos;t align with the docker images we use to build today.  I don&apos;t have a quick answer on this.&lt;/p&gt;</comment>
                            <comment id="16762494" author="nkalmar" created="Thu, 7 Feb 2019 09:02:12 +0000"  >&lt;p&gt;Following this guide - &lt;a href=&quot;https://thrift.apache.org/docs/BuildingFromSource&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://thrift.apache.org/docs/BuildingFromSource&lt;/a&gt; - I also had some troubles with make. But it looked like after a little debugging and fine tuning it could work, it did build some of the modules. But even though I had the flags to build (almost) all, many were skipped when running make. And it exited with success... so maybe the configure scripts were wrong.&lt;/p&gt;</comment>
                            <comment id="16767423" author="yoderme" created="Wed, 13 Feb 2019 18:10:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt; - do you have any plans to work on this further, or should we give up hope and make our own fork of thrift? Recall that all we care about is the java client.&#160; Thanks, -Mike&lt;/p&gt;</comment>
                            <comment id="16767489" author="jking3" created="Wed, 13 Feb 2019 19:24:51 +0000"  >&lt;p&gt;Let me see what I can do.&lt;/p&gt;</comment>
                            <comment id="16767562" author="jking3" created="Wed, 13 Feb 2019 20:28:34 +0000"  >&lt;p&gt;Trying to use the ubuntu-trusty image, or the ubuntu-bionic image yields the same results on a publish:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;publish:
[artifact:mvn] [INFO] Scanning for projects...
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [ERROR] BUILD ERROR
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] Error resolving version for &apos;org.apache.maven.plugins:maven-gpg-plugin&apos;: Plugin requires Maven version 2.2.1
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] For more information, run Maven with the -e switch
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] Total time: &amp;lt; 1 second
[artifact:mvn] [INFO] Finished at: Wed Feb 13 20:27:26 UTC 2019
[artifact:mvn] [INFO] Final Memory: 2M/75M
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] Java Result: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I guess I have to figure out how to get Maven 2.2.1 on the system.&lt;/p&gt;</comment>
                            <comment id="16767575" author="jking3" created="Wed, 13 Feb 2019 20:45:43 +0000"  >&lt;p&gt;Well isn&apos;t that annoying..&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[artifact:mvn] [INFO] Scanning for projects...
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [ERROR] BUILD ERROR
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] Error resolving version for &apos;org.apache.maven.plugins:maven-gpg-plugin&apos;: Plugin requires Maven version 2.2.1
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] For more information, run Maven with the -e switch
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] [INFO] Total time: &amp;lt; 1 second
[artifact:mvn] [INFO] Finished at: Wed Feb 13 20:44:50 UTC 2019
[artifact:mvn] [INFO] Final Memory: 2M/75M
[artifact:mvn] [INFO] ------------------------------------------------------------------------
[artifact:mvn] Java Result: 1

BUILD SUCCESSFUL
Total time: 17 seconds
root@eb25b90b5e12:/thrift/src/lib/java# mvn --version
Apache Maven 2.2.1 (rdebian-14)
Java version: 1.7.0_151
Java home: /usr/lib/jvm/java-7-openjdk-amd64/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: &quot;linux&quot; version: &quot;4.15.0-45-generic&quot; arch: &quot;amd64&quot; Family: &quot;unix&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16767609" author="jking3" created="Wed, 13 Feb 2019 21:26:46 +0000"  >&lt;p&gt;I Added &quot;mavenHome&quot; as a property, but it still isn&apos;t completing the process..&lt;/p&gt;</comment>
                            <comment id="16771067" author="jking3" created="Mon, 18 Feb 2019 13:01:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yoderme&quot; class=&quot;user-hover&quot; rel=&quot;yoderme&quot;&gt;yoderme&lt;/a&gt; could you inspect the following staged maven central repository for 0.9.3_1 - will that be sufficient?  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://repository.apache.org/content/repositories/orgapachethrift-1035/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/orgapachethrift-1035/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m concerned the SemVer rules state that anything after major.minor.patch is not semantically different, so I don&apos;t know if 0.9.3_1 is sufficient or if I need to make it 0.9.4.  I&apos;d prefer not to make a 0.9.4 just for java.  That will cause some commotion with folks looking for 0.9.4 for other languages.&lt;/p&gt;

&lt;p&gt;Here were the tricks I needed to make it happen:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Downloaded maven 3.6.0 to /usr/local/apache-maven-3.6.0 (probably not necessary since bionic has 3.5.2, but I did it anyway).&lt;/li&gt;
	&lt;li&gt;Change the artifact:mvn invocation to:
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;artifact:mvn fork=&quot;true&quot; mavenHome=&quot;/usr/local/apache-maven-3.6.0&quot;&amp;gt;
        &amp;lt;jvmarg value=&quot;-Dmaven.multiModuleProjectDirectory=/usr/local/apache-maven-3.6.0&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Add to ~/.m2/settings.xml
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;settings&amp;gt;
  &amp;lt;servers&amp;gt;
    &amp;lt;!-- To stage a release of some part of Maven --&amp;gt;
    &amp;lt;server&amp;gt;
      &amp;lt;id&amp;gt;apache.releases.https&amp;lt;/id&amp;gt;
      &amp;lt;username&amp;gt; &amp;lt;!-- YOUR APACHE LDAP USERNAME --&amp;gt; &amp;lt;/username&amp;gt;
      &amp;lt;password&amp;gt; &amp;lt;!-- YOUR APACHE LDAP PASSWORD (encrypted) --&amp;gt; &amp;lt;/password&amp;gt;
    &amp;lt;/server&amp;gt;
  &amp;lt;/servers&amp;gt;
&amp;lt;/settings&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;specify GPG_TTY=$(tty) before running &quot;ant -Drelease=true publish&quot;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16772126" author="yoderme" created="Tue, 19 Feb 2019 17:07:31 +0000"  >&lt;p&gt;Thanks for your work!&#160; It looks OK; we&apos;re going to try a build with it here.&#160; I don&apos;t know if it matters, but I typically see a - used instead of an _.&#160;&#160;I found&#160;this&#160;interesting maven version reference:&#160;&lt;a href=&quot;https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN8855&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN8855&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16772180" author="jking3" created="Tue, 19 Feb 2019 18:13:25 +0000"  >&lt;p&gt;Thanks for that - it does look like I will need to change it to 0.9.3-1 in order for it to be considered newer than 0.9.3 when fetching.&#160; Let me know how it goes.&lt;/p&gt;</comment>
                            <comment id="16772181" author="yoderme" created="Tue, 19 Feb 2019 18:14:02 +0000"  >&lt;p&gt;0.9.3_1 Builds fine here.&lt;/p&gt;</comment>
                            <comment id="16772298" author="jking3" created="Tue, 19 Feb 2019 20:17:43 +0000"  >&lt;p&gt;libthrift 0.9.3-1 has been published to maven central.&lt;/p&gt;</comment>
                            <comment id="16772303" author="yoderme" created="Tue, 19 Feb 2019 20:20:55 +0000"  >&lt;p&gt;Awesome, thanks again! -Mike&lt;/p&gt;</comment>
                            <comment id="16772765" author="nkalmar" created="Wed, 20 Feb 2019 08:45:05 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;Am I missing something, I can&apos;t find it in central &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
&lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.thrift/libthrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.apache.thrift/libthrift&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16772770" author="nkalmar" created="Wed, 20 Feb 2019 08:48:52 +0000"  >&lt;p&gt;Nevermind, I guess the index file hasn,t updated yet. It works, thank you!&lt;/p&gt;

&lt;p&gt;Downloading from central: &lt;a href=&quot;https://repo.maven.apache.org/maven2/org/apache/thrift/libthrift/0.9.3-1/libthrift-0.9.3-1.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2/org/apache/thrift/libthrift/0.9.3-1/libthrift-0.9.3-1.jar&lt;/a&gt;&lt;br/&gt;
Downloaded from central: &lt;a href=&quot;https://repo.maven.apache.org/maven2/org/apache/thrift/libthrift/0.9.3-1/libthrift-0.9.3-1.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo.maven.apache.org/maven2/org/apache/thrift/libthrift/0.9.3-1/libthrift-0.9.3-1.jar&lt;/a&gt; (234 kB at 661 kB/s)&lt;/p&gt;</comment>
                            <comment id="16777791" author="nkalmar" created="Tue, 26 Feb 2019 10:19:59 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt;,&lt;br/&gt;
Can you point me to the github ranch from where you made the release?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Norbert&lt;/p&gt;</comment>
                            <comment id="16777793" author="nkalmar" created="Tue, 26 Feb 2019 10:27:16 +0000"  >&lt;p&gt;Typo: git *branch&lt;/p&gt;

&lt;p&gt;We need it to re-generate the thrift classes. I&apos;m not sure it is required though is it?&lt;/p&gt;</comment>
                            <comment id="16779324" author="jking3" created="Wed, 27 Feb 2019 13:35:23 +0000"  >&lt;p&gt;All I did was take 0.9.3 and apply&#160;7489ed6ac8bad64e72fa83ec9d53e1eeddca6c23 for SASL, and apply the following diff, and follow the instructions I posted above for getting it to publish to maven central.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;jking@ubuntu:~/0.9.3.1$ git diff HEAD
diff --git a/configure.ac b/configure.ac
index 18e32334..316fb3d1 100755
--- a/configure.ac
+++ b/configure.ac
@@ -553,20 +553,6 @@ AC_CHECK_LIB(rt, clock_gettime)
AC_CHECK_LIB(socket, setsockopt)

if test &quot;$have_cpp&quot; = &quot;yes&quot; ; then
-# mingw toolchain used to build &quot;Thrift Compiler for Windows&quot;
-# does not support libcrypto, so we just check if we building the cpp library
-AC_CHECK_LIB(crypto,
- BN_init,
- [AC_CHECK_LIB(ssl,
- SSL_ctrl,
- [LIBS=&quot;-lssl -lcrypto $LIBS&quot;],
- [AC_MSG_ERROR([&quot;Error: libssl required&quot;])],
- -lcrypto
- )],
- [AC_MSG_ERROR([&quot;Error: libcrypto required.&quot;])]
-)
-fi
-
AC_TYPE_INT16_T
AC_TYPE_INT32_T
AC_TYPE_INT64_T
diff --git a/lib/java/build.properties b/lib/java/build.properties
index abe1c10d..2eef66b4 100644
--- a/lib/java/build.properties
+++ b/lib/java/build.properties
@@ -1,10 +1,7 @@
-thrift.version=0.9.3
+thrift.version=0.9.3-1
thrift.groupid=org.apache.thrift
release=true

-# Jar Versions
-mvn.ant.task.version=2.1.3
-
# Local Install paths
install.path=/usr/local/lib
install.javadoc.path=${install.path}
diff --git a/lib/java/build.xml b/lib/java/build.xml
index 679142e9..24628df9 100755
--- a/lib/java/build.xml
+++ b/lib/java/build.xml
@@ -325,10 +325,10 @@
&amp;lt;remoteRepository refid=&quot;central&quot;/&amp;gt;
&amp;lt;remoteRepository refid=&quot;apache&quot;/&amp;gt;
&amp;lt;license name=&quot;The Apache Software License, Version 2.0&quot; url=&quot;${license}&quot;/&amp;gt;
- &amp;lt;scm connection=&quot;scm:git:https://git-wip-us.apache.org/repos/asf/thrift.git&quot;
- developerConnection=&quot;scm:git:https://git-wip-us.apache.org/repos/asf/thrift.git&quot;
- url=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git&quot;
- /&amp;gt;
+ &amp;lt;scm connection=&quot;scm:git:https://github.com/apache/thrift.git&quot;
+ developerConnection=&quot;scm:git:https://github.com/apache/thrift.git&quot;
+ url=&quot;https://github.com/apache/thrift&quot; /&amp;gt;
+
&amp;lt;!-- Thrift Developers --&amp;gt;
&amp;lt;developer id=&quot;mcslee&quot; name=&quot;Mark Slee&quot;/&amp;gt;
&amp;lt;developer id=&quot;dreiss&quot; name=&quot;David Reiss&quot;/&amp;gt;
@@ -390,7 +390,8 @@
&amp;lt;attribute name=&quot;packaging&quot; default=&quot;jar&quot;/&amp;gt;
&amp;lt;attribute name=&quot;pom&quot; default=&quot;&quot;/&amp;gt;
&amp;lt;sequential&amp;gt;
- &amp;lt;artifact:mvn fork=&quot;true&quot;&amp;gt;
+ &amp;lt;artifact:mvn fork=&quot;true&quot; mavenHome=&quot;/usr/local/apache-maven-3.6.0&quot;&amp;gt;
+ &amp;lt;jvmarg value=&quot;-Dmaven.multiModuleProjectDirectory=/usr/local/apache-maven-3.6.0&quot;/&amp;gt;
&amp;lt;arg value=&quot;org.apache.maven.plugins:maven-gpg-plugin:1.6:sign-and-deploy-file&quot;/&amp;gt;
&amp;lt;arg value=&quot;-DrepositoryId=${maven-repository-id}&quot;/&amp;gt;
&amp;lt;arg value=&quot;-Durl=${maven-repository-url}&quot;/&amp;gt;
@@ -403,7 +404,7 @@
&amp;lt;/sequential&amp;gt;
&amp;lt;/macrodef&amp;gt;

- &amp;lt;target name=&quot;publish&quot; depends=&quot;clean,init,test,dist,javadoc,pack.src&quot;&amp;gt;
+ &amp;lt;target name=&quot;publish&quot; depends=&quot;clean,init,compile,dist,javadoc,pack.src&quot;&amp;gt;
&amp;lt;!-- Compile, package, test and then send release to apache maven repo --&amp;gt;
&amp;lt;!-- run with: ant -Drelease=true publish--&amp;gt;
&amp;lt;signAndDeploy file=&quot;${pom.xml}&quot; packaging=&quot;pom&quot; classifier=&quot;&quot; pom=&quot;${pom.xml}&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16779326" author="jking3" created="Wed, 27 Feb 2019 13:37:35 +0000"  >&lt;p&gt;I just pushed an 0.9.3.1 branch to origin for you with the changes in it.&lt;/p&gt;</comment>
                            <comment id="16780358" author="nkalmar" created="Thu, 28 Feb 2019 10:34:14 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="16788465" author="ctubbsii" created="Sat, 9 Mar 2019 03:00:41 +0000"  >&lt;p&gt;Where was the release vote for 0.9.3-1? And why was it pushed to Maven Central under the org.apache.thrift groupId, without an official vote and source release in dist.apache.org?&lt;/p&gt;</comment>
                            <comment id="16788697" author="jking3" created="Sat, 9 Mar 2019 14:54:11 +0000"  >&lt;p&gt;It is a single language patch for a CVE.&#160; It did not go through the standard release cycle.&#160; There&apos;s no reason to publish 0.9.3-1 to other languages.&#160; There is a branch for it.&#160; There is no release tag for it.&#160; There is no official source upload for it, as it was not a full release.&#160; If this violated the apache release rules, then it&apos;s my fault.&#160; I was trying to help the community avoid having to release their own 0.9.3-1 under a separate name.&#160; We might be able to get a dist package from 0.9.3.1, but the build environment is pretty old and may no longer work.&#160; We could take the 0.9.3.1 download zip/tarball from GitHub and bless it but it would not have the built &quot;configure&quot; script.&#160; So in order to release 0.9.3.1 it may require rebuilding an older docker build environment.&#160; Not impossible, but not trivial.&#160; So again, any violation of release rules is on me.&#160; I probably shouldn&apos;t have tried to make this patch at all.&lt;/p&gt;</comment>
                            <comment id="16788699" author="jensg" created="Sat, 9 Mar 2019 15:04:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctubbsii&quot; class=&quot;user-hover&quot; rel=&quot;ctubbsii&quot;&gt;ctubbsii&lt;/a&gt;, I see the point. &lt;/p&gt;

&lt;p&gt;As I understand it, the conflict exists because the upload it is tagged with the ASF name but was not handled&#160;according &#160;to the rules. Hence, we have (at least) two options:&lt;/p&gt;

&lt;p&gt;a) unrelease, go through voting and do whatever might be necessary to re-release the package properly&lt;/p&gt;

&lt;p&gt;b) unrelease and upload the package under a different, non-ASF-related name&lt;/p&gt;

&lt;p&gt;Please correct me if I overlook sth.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16788702" author="jking3" created="Sat, 9 Mar 2019 15:10:46 +0000"  >&lt;p&gt;I&apos;m manually applying the changes to the 0.9.3 official tarball and will call a release.&#160; The build environment in the 0.9.3 package is no longer viable as some of the downloaded components have been retired.&#160; The project was not using docker extensively at that point, and we still don&apos;t tag docker build containers that are known to work for a release (whatever the Travis CI environment ends up using).&#160; That should be added to the release procedures, I&apos;ll open a ticket.&lt;/p&gt;</comment>
                            <comment id="16788705" author="jking3" created="Sat, 9 Mar 2019 15:15:43 +0000"  >&lt;p&gt;Reopening to tag with 0.9.3.1 release.&lt;/p&gt;</comment>
                            <comment id="16788706" author="jking3" created="Sat, 9 Mar 2019 15:16:09 +0000"  >&lt;p&gt;Fixed in 0.9.3.1 and 0.12.0&lt;/p&gt;</comment>
                            <comment id="16788723" author="ctubbsii" created="Sat, 9 Mar 2019 16:14:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt; The ASF release process applies to any release that is backed by the foundation (e.g. performed under the purview of a PMC). In this case, it was published through the ASF distribution channel supported by INFRA, without proper vetting. It does not matter that it affected one language or not. I would encourage the Thrift PMC to re-familiarize itself with the ASF publication rules for releases at &lt;a href=&quot;https://www.apache.org/dev/release-publishing.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dev/release-publishing.html&lt;/a&gt; and the INFRA distribution policies for distributing releases through INFRA channels at &lt;a href=&quot;https://www.apache.org/dev/release-distribution&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dev/release-distribution&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt;; you can&apos;t unrelease from the Nexus repository. At this point, I think it would be best to simply create a tarball from the contents of the 0.9.3.1 branch used to create the artifacts which were pushed to Nexus/Maven Central (and a git tag, as per your usual process). This could be created by simply checking out the branch, and deleting the &apos;.git/&apos; directory, and creating a tarball from that, with signatures and checksums. If you vote on that, and the vote passes, you can just put that on the ASF distribution mirrors, and consider the matter resolved with lessons learned. The vote is what makes the artifacts in Maven Central go from &quot;a set of files prepared by an individual&quot; to &quot;a formal offering of the ASF&quot; as per: &lt;a href=&quot;https://www.apache.org/dev/release-publishing.html#voted&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/dev/release-publishing.html#voted&lt;/a&gt; ; but I don&apos;t think it&apos;s necessary to try to unrelease/re-release if the process would result in the same built artifacts. A passing vote here would also save you from having to re-setup any build environment, since you don&apos;t have to rebuild anything to prepare a source tarball to vote on.&lt;/p&gt;

&lt;p&gt;However, if the vote fails for any reason, then you&apos;ll probably have to vote on a newly built 0.9.3.2 and release that to supersede 0.9.3.1.&lt;/p&gt;

&lt;p&gt;Either way, I think it&apos;d be a good idea to summarize both the mistake and corrective action in the next board report, because it may serve as a useful lesson-learned for others.&lt;/p&gt;

&lt;p&gt;(Side note: it&apos;s also a good idea to make sure all your release votes happen on your dev@ list, and not on any private lists...; it&apos;s important that there be a public record of the fact that a release is backed by the ASF.)&lt;/p&gt;</comment>
                            <comment id="16788724" author="jking3" created="Sat, 9 Mar 2019 16:20:11 +0000"  >&lt;p&gt;Vote on 0.9.3.1 is out now, release candidate uploaded.&lt;/p&gt;

&lt;p&gt;Content is identical to what is on Maven Central, so I&apos;m not sure an unrelease is necessary.&#160; Situation will be resolved on Tuesday when votes are tallied, assuming all are positive, and I will update the CVE appropriately after the official release.&#160; Sorry for the trouble I&apos;ve caused.&lt;/p&gt;</comment>
                            <comment id="16788726" author="ctubbsii" created="Sat, 9 Mar 2019 16:22:46 +0000"  >&lt;p&gt;&amp;gt; Sorry for the trouble I&apos;ve caused.&lt;/p&gt;

&lt;p&gt;Mistakes happen. You&apos;re taking action to fix it. No worries. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16789754" author="yoderme" created="Mon, 11 Mar 2019 16:56:00 +0000"  >&lt;p&gt;FWIW, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt;, I&apos;m glad you made the release. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16791665" author="jking3" created="Wed, 13 Mar 2019 12:52:21 +0000"  >&lt;p&gt;0.9.3.1 is officially released as of March 13, 2019 (this means a source archive is officially available through standard Apache means, with signatures).&#160; The package on maven central for 0.9.3-1 remains the same.&lt;/p&gt;</comment>
                            <comment id="16791668" author="jking3" created="Wed, 13 Mar 2019 12:55:00 +0000"  >&lt;p&gt;To see the exact changes in 0.9.3.1 refer to this link:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/thrift/compare/0.9.3...0.9.3.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/compare/0.9.3...0.9.3.1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16791902" author="ctubbsii" created="Wed, 13 Mar 2019 17:19:03 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jking3&quot; class=&quot;user-hover&quot; rel=&quot;jking3&quot;&gt;jking3&lt;/a&gt;! FWIW, I did try to look at, and offer my (non-binding) +1 to the release candidate during the vote, but was unable to do so, because, although I&apos;m subscribed to the dev@ list, the vote did not occur on that list. Please ensure future votes occur on the dev@ list. A public vote on the dev@ list ensures that:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;you&apos;ve created a public record for the vote,&lt;/li&gt;
	&lt;li&gt;you allow participation/evaluation from your wider user audience (more diversity in evaluators improves quality), and&lt;/li&gt;
	&lt;li&gt;you provide more entry points for potential future committers/PMC members to earn merit through participation.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16791922" author="jking3" created="Wed, 13 Mar 2019 17:32:12 +0000"  >&lt;p&gt;Good points, I will add this to our release documentation.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13213657">HIVE-21207</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qvnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>