<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:01:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1322] OCaml lib fail to compile: Thrift.ml line 305, int vs int32 mismatch</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1322</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Between SVN of 20110418 and today, the lib/ocaml has ceased to build.&lt;br/&gt;
I mean it did build on april 18, not lately.&lt;/p&gt;

&lt;p&gt;The build die in this way:&lt;/p&gt;

&lt;p&gt;&amp;#8211; 8&amp;lt; &amp;#8211;&lt;/p&gt;

&lt;p&gt;philou@air:~/src/thrift-svn/lib/ocaml$ make&lt;br/&gt;
cd src; make; cd ..&lt;br/&gt;
ocamlopt -c -thread Thrift.ml&lt;br/&gt;
File &quot;Thrift.ml&quot;, line 305, characters 6-8:&lt;br/&gt;
Error: This pattern matches values of type int&lt;br/&gt;
      but a pattern was expected which matches values of type int32&lt;/p&gt;

&lt;p&gt;&amp;#8211; 8&amp;lt; &amp;#8211;&lt;/p&gt;

&lt;p&gt;The lib/ocaml changes between 20110418 and 20110905 are listed below, and rather thin, should not be a big deal to fix :&lt;/p&gt;

&lt;p&gt;diff -ur thrift-svn-20110418/lib/ocaml/src/Thrift.ml thrift-svn/lib/ocaml/src/Thrift.ml&lt;br/&gt;
&amp;#8212; thrift-svn-20110418/lib/ocaml/src/Thrift.ml 2011-04-13 18:38:21.000000000 +0200&lt;br/&gt;
+++ thrift-svn/lib/ocaml/src/Thrift.ml  2011-08-03 16:10:25.000000000 +0200&lt;br/&gt;
@@ -292,6 +292,8 @@&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; WRONG_METHOD_NAME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; BAD_SEQUENCE_ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; MISSING_RESULT&lt;br/&gt;
+      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; INTERNAL_ERROR&lt;br/&gt;
+      &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; PROTOCOL_ERROR&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   let typ_of_i = function&lt;br/&gt;
       0l -&amp;gt; UNKNOWN&lt;br/&gt;
@@ -300,6 +302,8 @@&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3l -&amp;gt; WRONG_METHOD_NAME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4l -&amp;gt; BAD_SEQUENCE_ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5l -&amp;gt; MISSING_RESULT&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 61 -&amp;gt; INTERNAL_ERROR&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 71 -&amp;gt; PROTOCOL_ERROR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; _ -&amp;gt; raise Thrift_error;;&lt;br/&gt;
   let typ_to_i = function&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; UNKNOWN -&amp;gt; 0l&lt;br/&gt;
@@ -308,6 +312,8 @@&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; WRONG_METHOD_NAME -&amp;gt; 3l&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; BAD_SEQUENCE_ID -&amp;gt; 4l&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; MISSING_RESULT -&amp;gt; 5l&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; INTERNAL_ERROR -&amp;gt; 61&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; PROTOCOL_ERROR -&amp;gt; 71&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   class t =&lt;br/&gt;
   object (self)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Mac OS 10.6.8, 64bits x86_64&lt;/p&gt;</environment>
        <key id="12521394">THRIFT-1322</key>
            <summary>OCaml lib fail to compile: Thrift.ml line 305, int vs int32 mismatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jfarrell">Jake Farrell</assignee>
                                    <reporter username="philou@philou.ch">Philippe STRAUSS</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Sep 2011 22:19:12 +0000</created>
                <updated>Tue, 6 Sep 2011 16:47:36 +0000</updated>
                            <resolved>Tue, 6 Sep 2011 16:29:02 +0000</resolved>
                                                    <fixVersion>0.8</fixVersion>
                                    <component>OCaml - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1200">20m</timeoriginalestimate>
                            <timeestimate seconds="1200">20m</timeestimate>
                                        <comments>
                            <comment id="13098087" author="jfarrell" created="Tue, 6 Sep 2011 15:30:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-690&quot; title=&quot;Update TApplicationException codes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-690&quot;&gt;&lt;del&gt;THRIFT-690&lt;/del&gt;&lt;/a&gt; applied this same patch to OCaml lib. This is available in trunk since 2011-08-03 04:49:27&lt;/p&gt;</comment>
                            <comment id="13098117" author="philou@philou.ch" created="Tue, 6 Sep 2011 15:58:10 +0000"  >&lt;p&gt;Jake,&lt;/p&gt;

&lt;p&gt;You got wrong (the other way around) understanding, the patch I attached is exactly the one added by &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-690&quot; title=&quot;Update TApplicationException codes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-690&quot;&gt;&lt;del&gt;THRIFT-690&lt;/del&gt;&lt;/a&gt; (just discorering this fact by reading the case on jira), and *&lt;b&gt;is the change that now makes ocaml lib &lt;em&gt;fail&lt;/em&gt; to compile&lt;/b&gt;*.&lt;/p&gt;

&lt;p&gt;also, is there some &lt;/p&gt;


</comment>
                            <comment id="13098120" author="philou@philou.ch" created="Tue, 6 Sep 2011 16:04:10 +0000"  >&lt;p&gt;This is the patch to apply on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-690&quot; title=&quot;Update TApplicationException codes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-690&quot;&gt;&lt;del&gt;THRIFT-690&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&amp;#8212; Thrift.ml.orig	2011-09-06 17:59:44.000000000 +0200&lt;br/&gt;
+++ Thrift.ml	2011-09-06 17:58:39.000000000 +0200&lt;br/&gt;
@@ -302,8 +302,8 @@&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 3l -&amp;gt; WRONG_METHOD_NAME&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 4l -&amp;gt; BAD_SEQUENCE_ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 5l -&amp;gt; MISSING_RESULT
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 61 -&amp;gt; INTERNAL_ERROR
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 71 -&amp;gt; PROTOCOL_ERROR&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 6l -&amp;gt; INTERNAL_ERROR&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 7l -&amp;gt; PROTOCOL_ERROR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; _ -&amp;gt; raise Thrift_error;;&lt;br/&gt;
   let typ_to_i = function&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; UNKNOWN -&amp;gt; 0l&lt;br/&gt;
@@ -312,8 +312,8 @@&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; WRONG_METHOD_NAME -&amp;gt; 3l&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; BAD_SEQUENCE_ID -&amp;gt; 4l&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; MISSING_RESULT -&amp;gt; 5l
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; INTERNAL_ERROR -&amp;gt; 61
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; PROTOCOL_ERROR -&amp;gt; 71&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; INTERNAL_ERROR -&amp;gt; 6l&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; PROTOCOL_ERROR -&amp;gt; 7l&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   class t =&lt;br/&gt;
   object (self)&lt;/p&gt;

&lt;p&gt;&amp;#8211; 8&amp;lt; &amp;#8211;&lt;/p&gt;


&lt;p&gt;6 and 7 L, el, not one, 1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;



</comment>
                            <comment id="13098140" author="jfarrell" created="Tue, 6 Sep 2011 16:29:02 +0000"  >&lt;p&gt;Didnt understand what the patch was for at first, I&apos;ve updated the ocaml driver with the necessary changes.&lt;/p&gt;

&lt;p&gt;For contributions please attach patches with asf inclusion rather than pasting full diffs to the ticket. &lt;a href=&quot;http://wiki.apache.org/thrift/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/thrift/HowToContribute&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13098154" author="hudson" created="Tue, 6 Sep 2011 16:47:36 +0000"  >&lt;p&gt;Integrated in Thrift #251 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/251/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/251/&lt;/a&gt;)&lt;br/&gt;
    Thrift-1322: OCaml lib fail to compile: Thrift.ml line 305, int vs int32 mismatch&lt;br/&gt;
Client: OCaml&lt;/p&gt;

&lt;p&gt;Updates the ocaml lib INTERNAL and PROTOCOL error enums to use the correct numeric values&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16cgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>