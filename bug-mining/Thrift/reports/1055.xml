<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:14:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2745] C++ - Unit-test compilation on Windows fixes</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2745</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Issue 1:&lt;br/&gt;
thrift\lib\cpp\test\concurrency\ThreadFactoryTests.h uses &amp;lt;unistd.h&amp;gt; for usleep().&lt;/p&gt;

&lt;p&gt;Replaced usleep() with THRIFT_SLEEP_USEC() and removed inclusion of unistd.h&lt;/p&gt;

&lt;p&gt;Issue 2:&lt;br/&gt;
static const double ERROR;&lt;br/&gt;
macro ERROR already defined in wingdi.h&lt;/p&gt;

&lt;p&gt;Replaced with TEST_ERROR, but perhaps it is better to find it more better name.&lt;/p&gt;

&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/thrift/pull/207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/207&lt;/a&gt;&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows 7 (64bit)&lt;br/&gt;
Microsoft Visual Studio 2012&lt;/p&gt;</environment>
        <key id="12744879">THRIFT-2745</key>
            <summary>C++ - Unit-test compilation on Windows fixes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="snikulov">Sergei Nikulov</assignee>
                                    <reporter username="snikulov">Sergei Nikulov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2014 07:27:32 +0000</created>
                <updated>Sat, 20 Feb 2021 15:27:25 +0000</updated>
                            <resolved>Tue, 30 Sep 2014 10:16:47 +0000</resolved>
                                                    <fixVersion>0.9.2</fixVersion>
                                    <component>C++ - Library</component>
                    <component>Test Suite</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14152900" author="githubbot" created="Tue, 30 Sep 2014 07:28:50 +0000"  >&lt;p&gt;Github user snikulov commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/207#issuecomment-57276868&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/207#issuecomment-57276868&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Submitted &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-2745&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Re-based with latest master.&lt;/p&gt;</comment>
                            <comment id="14153039" author="hcorg" created="Tue, 30 Sep 2014 10:16:47 +0000"  >&lt;p&gt;patch applied, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;one note - this test is currently disabled in makefiles, so although it&apos;s good it now compiles on windows, maybe it should be removed? or rebuilt?&lt;/p&gt;</comment>
                            <comment id="14153076" author="snikulov" created="Tue, 30 Sep 2014 11:37:10 +0000"  >&lt;p&gt;I enable this test for windows in my cmake build.&lt;br/&gt;
It should be enabled, I think. Will check this later on Linux+makefiles.&lt;br/&gt;
I suspect it was disabled because of libevent, but not sure.&lt;/p&gt;</comment>
                            <comment id="14153096" author="hcorg" created="Tue, 30 Sep 2014 11:41:19 +0000"  >&lt;p&gt;this what comment in Makefile states:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# disable these test ... too strong
#       processor_test
#	concurrency_test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I haven&apos;t look deep into this those tests, so I have no idea what &quot;too strong&quot; means &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Either they take too long to run, or produce false negatives&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roger.meier&quot; class=&quot;user-hover&quot; rel=&quot;roger.meier&quot;&gt;roger.meier&lt;/a&gt; - git blame points to you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; what is it with those tests?&lt;/p&gt;</comment>
                            <comment id="14153692" author="roger.meier" created="Tue, 30 Sep 2014 20:17:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hcorg&quot; class=&quot;user-hover&quot; rel=&quot;hcorg&quot;&gt;hcorg&lt;/a&gt; -  Yes, they take too long and consume too much cpu power. Breaks build on virtual environments.=&amp;gt; this is not resourceful. The only idea I have at the moment is a &lt;b&gt;--enable-heavytest&lt;/b&gt; or limit the memory and cpu consumption somehow.&lt;/p&gt;</comment>
                            <comment id="14153700" author="hcorg" created="Tue, 30 Sep 2014 20:21:05 +0000"  >&lt;p&gt;will CI env survive such heavy test? I mean Jenkins. Because if we can&apos;t run test on CI then this test is almost pointless &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14156784" author="hudson" created="Thu, 2 Oct 2014 17:17:57 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1287 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1287/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2745&quot; title=&quot;C++ - Unit-test compilation on Windows fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2745&quot;&gt;&lt;del&gt;THRIFT-2745&lt;/del&gt;&lt;/a&gt;: c++ - fixed some unit test compilation on windows (hcorg: rev 293a40e960d87d83ec57f89738c3ec174981335b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadFactoryTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/TimerManagerTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadManagerTests.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156849" author="hudson" created="Thu, 2 Oct 2014 17:45:33 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-Test #33 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-Test/33/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-Test/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2745&quot; title=&quot;C++ - Unit-test compilation on Windows fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2745&quot;&gt;&lt;del&gt;THRIFT-2745&lt;/del&gt;&lt;/a&gt;: c++ - fixed some unit test compilation on windows (hcorg: rev 293a40e960d87d83ec57f89738c3ec174981335b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/test/concurrency/TimerManagerTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadManagerTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadFactoryTests.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14197587" author="hudson" created="Wed, 5 Nov 2014 04:49:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1331 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1331/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1331/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2745&quot; title=&quot;C++ - Unit-test compilation on Windows fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2745&quot;&gt;&lt;del&gt;THRIFT-2745&lt;/del&gt;&lt;/a&gt;: c++ - fixed some unit test compilation on windows (hcorg: rev 293a40e960d87d83ec57f89738c3ec174981335b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadManagerTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/TimerManagerTests.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/concurrency/ThreadFactoryTests.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20mf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>