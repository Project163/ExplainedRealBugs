<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:35:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-5816] Fix UUID for boost 1.86.0 (change in {{data}} member usage)</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-5816</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;I have just updated boost to 1.86.0 (current latest), and thrift to current latest master. Now the UUID support does not build for me. I can see that a relevant change was in the PR for this issue, but I don&apos;t know for sure if boost 1.86.0 is part of the  breaking change.&lt;/p&gt;

&lt;p&gt;The following code does not build for me:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  TUuid(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; boost::uuids::uuid&amp;amp; buuid) noexcept
  {
    std::copy(std::begin(buuid.data), std::end(buuid.data), std::begin(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;-&amp;gt;data_));
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error I get with clang 18 on Ubuntu 22.04 is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[build] /data/tmp/Debug/thrift/lib/cpp/src/thrift/TUuid.h:93:15: error: no matching function &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; call to &lt;span class=&quot;code-quote&quot;&gt;&apos;begin&apos;&lt;/span&gt;
[build]    93 |     std::copy(std::begin(buuid.data), std::end(buuid.data), std::begin(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;-&amp;gt;data_));
[build]       |               ^~~~~~~~~~
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/initializer_list:90:5: note: candidate template ignored: could not match &lt;span class=&quot;code-quote&quot;&gt;&apos;initializer_list&amp;lt;_Tp&amp;gt;&apos;&lt;/span&gt; against &lt;span class=&quot;code-quote&quot;&gt;&apos;data_type&apos;&lt;/span&gt;
[build]    90 |     begin(initializer_list&amp;lt;_Tp&amp;gt; __ils) noexcept
[build]       |     ^
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/range_access.h:52:5: note: candidate template ignored: substitution failure [with _Container = &lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; data_type]: no member named &lt;span class=&quot;code-quote&quot;&gt;&apos;begin&apos;&lt;/span&gt; in &lt;span class=&quot;code-quote&quot;&gt;&apos;boost::uuids::uuid::data_type&apos;&lt;/span&gt;
[build]    52 |     begin(_Container&amp;amp; __cont) -&amp;gt; decltype(__cont.begin())
[build]       |     ^                                            ~~~~~
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/range_access.h:63:5: note: candidate template ignored: substitution failure [with _Container = data_type]: no member named &lt;span class=&quot;code-quote&quot;&gt;&apos;begin&apos;&lt;/span&gt; in &lt;span class=&quot;code-quote&quot;&gt;&apos;boost::uuids::uuid::data_type&apos;&lt;/span&gt;
[build]    63 |     begin(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; _Container&amp;amp; __cont) -&amp;gt; decltype(__cont.begin())
[build]       |     ^                                                  ~~~~~
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/range_access.h:95:5: note: candidate template ignored: could not match &lt;span class=&quot;code-quote&quot;&gt;&apos;_Tp[_Nm]&apos;&lt;/span&gt; against &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; data_type&apos;&lt;/span&gt;
[build]    95 |     begin(_Tp (&amp;amp;__arr)[_Nm]) noexcept
[build]       |     ^
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/range_access.h:113:31: note: candidate template ignored: could not match &lt;span class=&quot;code-quote&quot;&gt;&apos;valarray&amp;lt;_Tp&amp;gt;&apos;&lt;/span&gt; against &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; data_type&apos;&lt;/span&gt;
[build]   113 |   template&amp;lt;typename _Tp&amp;gt; _Tp* begin(valarray&amp;lt;_Tp&amp;gt;&amp;amp;) noexcept;
[build]       |                               ^
[build] /usr/bin/../lib/gcc/x86_64-linux-gnu/12/../../../../include/c++/12/bits/range_access.h:114:37: note: candidate template ignored: could not match &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; valarray&amp;lt;_Tp&amp;gt;&apos;&lt;/span&gt; against &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; data_type&apos;&lt;/span&gt;
[build]   114 |   template&amp;lt;typename _Tp&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; _Tp* begin(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; valarray&amp;lt;_Tp&amp;gt;&amp;amp;) noexcept;
[build]       |                                     ^
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the reason is that according to &lt;a href=&quot;https://www.boost.org/doc/libs/1_86_0/libs/uuid/doc/html/uuid.html#changes_changes_in_boost_1_86_0_major_update&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.boost.org/doc/libs/1_86_0/libs/uuid/doc/html/uuid.html#changes_changes_in_boost_1_86_0_major_update&lt;/a&gt;, the use of the data member is now discouraged, and does not work in all cases any more. So it seems this broke with boost 1.86.0, but I&apos;m not sure how well earlier boost versions supported this.&lt;/p&gt;

&lt;p&gt;I&apos;m not really knowledgeable with boost::uuids. But according to a quick search, the iterators are available directly on the uuid, instead of the data member?! So the following compiles for me:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  TUuid(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; boost::uuids::uuid&amp;amp; buuid) noexcept
  {
    std::copy(std::begin(buuid), std::end(buuid), std::begin(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;-&amp;gt;data_));
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Highlight: Remove the &lt;tt&gt;.data&lt;/tt&gt; from &lt;tt&gt;buuid&lt;/tt&gt; in two places.&lt;/p&gt;

&lt;p&gt;Opinions?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13590887">THRIFT-5816</key>
            <summary>Fix UUID for boost 1.86.0 (change in {{data}} member usage)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cjcombrink">Carel</assignee>
                                    <reporter username="emmenlau">Mario Emmenlauer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Sep 2024 14:35:49 +0000</created>
                <updated>Sat, 21 Sep 2024 13:30:11 +0000</updated>
                            <resolved>Wed, 4 Sep 2024 20:13:33 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.21.0</fixVersion>
                                    <component>C++ - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="5400">1.5h</timespent>
                                <comments>
                            <comment id="17879016" author="JIRAUSER304590" created="Tue, 3 Sep 2024 20:29:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emmenlau&quot; class=&quot;user-hover&quot; rel=&quot;emmenlau&quot;&gt;emmenlau&lt;/a&gt; I did create a draft PR: &lt;a href=&quot;https://github.com/apache/thrift/pull/3035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/3035&lt;/a&gt;&lt;br/&gt;
I am still trying to figure out how to get the latest boost in my development container, I made the changes based on your comment/suggestion and it still seems to work for the boost version that I have (looks like 1.74)&lt;/p&gt;</comment>
                            <comment id="17879339" author="JIRAUSER304590" created="Wed, 4 Sep 2024 18:55:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emmenlau&quot; class=&quot;user-hover&quot; rel=&quot;emmenlau&quot;&gt;emmenlau&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt;&lt;br/&gt;
I tested with boost 1.86 and the changes fixes the issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r7l4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>