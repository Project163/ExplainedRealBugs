<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:18:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3089] Assigning default ENUM values results in non-compilable java code if java namespace is not defined</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3089</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;enumtest.thrift&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Color {
  BLACK = 5,
  WHITE = 6
}

struct Params {
  1: optional Color bColor = Color.BLACK;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running thrift --gen java enumtest.thrift (thrift 0.9.2 on OSX 10.10.3)&lt;br/&gt;
results in non-compilable java code.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Params() {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bColor = .Color.BLACK;

  }

  @Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void clear() {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bColor = .Color.BLACK;

  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Notice the &quot;.&quot; before Color.BLACK. If java namespace is defined in the thrift file, it works as expected.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12820134">THRIFT-3089</key>
            <summary>Assigning default ENUM values results in non-compilable java code if java namespace is not defined</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10001">Pending Closed</resolution>
                                        <assignee username="AnnaDymek">Anna Dymek</assignee>
                                    <reporter username="thrift_2015">Pavan Chitumalla</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Apr 2015 17:26:47 +0000</created>
                <updated>Sat, 11 Jul 2015 09:55:34 +0000</updated>
                            <resolved>Tue, 12 May 2015 21:10:29 +0000</resolved>
                                    <version>0.9.2</version>
                                    <fixVersion>0.9.3</fixVersion>
                                    <component>Java - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14540614" author="githubbot" created="Tue, 12 May 2015 20:04:57 +0000"  >&lt;p&gt;GitHub user mreve opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/490&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Stopped adding period before enum name unless namespace is provided&lt;/p&gt;

&lt;p&gt;    Using the example from issue&apos;s description:&lt;/p&gt;

&lt;p&gt;    IDL file contains:&lt;br/&gt;
    ```&lt;br/&gt;
    struct Params &lt;/p&gt;
{
        1: optional Color bColor = Color.BLACK; 
    }
&lt;p&gt;    ```&lt;br/&gt;
    Compiled to java (no namespace):&lt;br/&gt;
    ```&lt;br/&gt;
    public Params() &lt;/p&gt;
{
        this.bColor = .Color.BLACK;
    }
&lt;p&gt;    ```&lt;br/&gt;
    How it looks like with namespace `enumtest`:&lt;br/&gt;
    ```&lt;br/&gt;
    public Params() &lt;/p&gt;
{
        this.bColor = enumtest.Color.BLACK;
    }
&lt;p&gt;    ```&lt;/p&gt;

&lt;p&gt;    This fix prevents adding the period sign when there&apos;s no java namespacec provided in the IDL file.&lt;/p&gt;

&lt;p&gt;    Compare:&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3089&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-3089&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mreve/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mreve/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3089&quot; title=&quot;Assigning default ENUM values results in non-compilable java code if java namespace is not defined&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3089&quot;&gt;&lt;del&gt;THRIFT-3089&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/490.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/490.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #490&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ea51c05a5a2ad5b983089a1efb838a1a57e68fea&lt;br/&gt;
Author: Anna Dymek &amp;lt;aadymek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-05-12T19:54:20Z&lt;/p&gt;

&lt;p&gt;    Stopped adding period before enum name unless namespace is provided&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14540724" author="githubbot" created="Tue, 12 May 2015 21:04:34 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/490&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14540738" author="jensg" created="Tue, 12 May 2015 21:10:29 +0000"  >&lt;p&gt;Committed, many thanks.&lt;/p&gt;</comment>
                            <comment id="14540790" author="hudson" created="Tue, 12 May 2015 21:27:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1544 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1544/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1544/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3089&quot; title=&quot;Assigning default ENUM values results in non-compilable java code if java namespace is not defined&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3089&quot;&gt;&lt;del&gt;THRIFT-3089&lt;/del&gt;&lt;/a&gt; Assigning default ENUM values results in non-compilable java code if java namespace is not defined (jensg: rev eab9c45bad1d19e5b2a2c94695699fee5325bd82)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14540795" author="annadymek" created="Tue, 12 May 2015 21:29:42 +0000"  >&lt;p&gt;You&apos;re welcome! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14540893" author="thrift_2015" created="Tue, 12 May 2015 22:18:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=AnnaDymek&quot; class=&quot;user-hover&quot; rel=&quot;AnnaDymek&quot;&gt;AnnaDymek&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12689796">THRIFT-2326</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2d42f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>