<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:34:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-5454] Python TProcessPoolServer does not spawn expected number of worker processes</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-5454</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When using Python TProcessPoolServer with more than 1 workers, only one worker process will be successfully spawned and all the other processes will reach a pickling error and exit. As a result, with the default settings, only one worker process is processing requests, whereas 10 workers are expected.&lt;/p&gt;

&lt;p&gt;```bash&lt;/p&gt;

&lt;p&gt;Traceback (most recent call last):&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/thrift-0.16.0-py3.9-macosx-10.9-x86_64.egg/thrift/server/TProcessPoolServer.py&quot;, line 106, in serve&lt;/p&gt;

&lt;p&gt;&#160; &#160; w.start()&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py&quot;, line 121, in start&lt;/p&gt;

&lt;p&gt;&#160; &#160; self._popen = self._Popen(self)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/context.py&quot;, line 224, in _Popen&lt;/p&gt;

&lt;p&gt;&#160; &#160; return _default_context.get_context().Process._Popen(process_obj)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/context.py&quot;, line 284, in _Popen&lt;/p&gt;

&lt;p&gt;&#160; &#160; return Popen(process_obj)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/popen_spawn_posix.py&quot;, line 32, in _&lt;em&gt;init&lt;/em&gt;_&lt;/p&gt;

&lt;p&gt;&#160; &#160; super()._&lt;em&gt;init&lt;/em&gt;_(process_obj)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/popen_fork.py&quot;, line 19, in _&lt;em&gt;init&lt;/em&gt;_&lt;/p&gt;

&lt;p&gt;&#160; &#160; self._launch(process_obj)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/popen_spawn_posix.py&quot;, line 47, in _launch&lt;/p&gt;

&lt;p&gt;&#160; &#160; reduction.dump(process_obj, fp)&lt;/p&gt;

&lt;p&gt;&#160; File &quot;/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/multiprocessing/reduction.py&quot;, line 60, in dump&lt;/p&gt;

&lt;p&gt;&#160; &#160; ForkingPickler(file, protocol).dump(obj)&lt;/p&gt;

&lt;p&gt;TypeError: cannot pickle &apos;weakref&apos; object&lt;/p&gt;

&lt;p&gt;```&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13395032">THRIFT-5454</key>
            <summary>Python TProcessPoolServer does not spawn expected number of worker processes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="frankiechang">Yiyang Zhou</assignee>
                                    <reporter username="frankiechang">Yiyang Zhou</reporter>
                        <labels>
                            <label>Python</label>
                            <label>TProcessPoolServer</label>
                    </labels>
                <created>Fri, 13 Aug 2021 06:47:41 +0000</created>
                <updated>Tue, 15 Feb 2022 21:41:50 +0000</updated>
                            <resolved>Sat, 13 Nov 2021 23:57:14 +0000</resolved>
                                                    <fixVersion>0.16.0</fixVersion>
                                    <component>Python - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="258600">71h 50m</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/thrift/pull/2438]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tvcg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>