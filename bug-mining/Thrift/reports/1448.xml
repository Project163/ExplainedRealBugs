<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:22:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3477] Parser fails on enum item that starts with &apos;E&apos; letter and continues with number </title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3477</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Consider simple enum:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; Test
{
    E10
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It will fail with message &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR:C:/Test.thrift:3] (last token was &lt;span class=&quot;code-quote&quot;&gt;&apos;E10&apos;&lt;/span&gt;) syntax error
[FAILURE:C:/Test.thrift:3] Parser error during include pass.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12919697">THRIFT-3477</key>
            <summary>Parser fails on enum item that starts with &apos;E&apos; letter and continues with number </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="cstrike">Gordashnikov Artur</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Dec 2015 13:43:34 +0000</created>
                <updated>Wed, 6 Jan 2016 02:06:15 +0000</updated>
                            <resolved>Tue, 8 Dec 2015 22:05:31 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Compiler (General)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15045863" author="jensg" created="Mon, 7 Dec 2015 22:13:58 +0000"  >&lt;p&gt;That&apos;s a cool one. &lt;/p&gt;</comment>
                            <comment id="15046057" author="jensg" created="Tue, 8 Dec 2015 00:36:35 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12776386/12776386_THRIFT-3477-Parser-fails-on-enum-item-that-starts-wi.patch&quot; title=&quot;THRIFT-3477-Parser-fails-on-enum-item-that-starts-wi.patch attached to THRIFT-3477&quot;&gt;Proposed solution&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;: Move the &lt;tt&gt;dubconstant&lt;/tt&gt; rule behind &lt;tt&gt;identifier&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The other option would be to rewrite the &lt;tt&gt;dubconstant&lt;/tt&gt; rule in order to enforce that at least one of decimal point or exponent part is present to form a valid double literal. I have a patch for that one as well, but I think this solution is much cleaner.&lt;/p&gt;</comment>
                            <comment id="15046066" author="jensg" created="Tue, 8 Dec 2015 00:44:21 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;test.thrift&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt; test {
	e10	
	e20 = 42
}

&lt;span class=&quot;code-comment&quot;&gt;// all kinds of &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; literals
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c01 = 1  
&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c02 = 1.2
&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c03 = 1.2e3
&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c04 = 1e3
&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c05 = .2e3

&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; one does no longer work after the patch is applied,
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// but it did produce only a simple 0 value before ... &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; we need that?
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; c06 = e3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15046455" author="cstrike" created="Tue, 8 Dec 2015 06:35:44 +0000"  >&lt;p&gt;Jens Geyer, thank you very much, it solved the problem.&lt;/p&gt;</comment>
                            <comment id="15047402" author="jensg" created="Tue, 8 Dec 2015 20:13:41 +0000"  >&lt;p&gt;Added testcases + comment, committed.&lt;/p&gt;</comment>
                            <comment id="15047449" author="hudson" created="Tue, 8 Dec 2015 20:57:39 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1761 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1761/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1761/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3477&quot; title=&quot;Parser fails on enum item that starts with &amp;#39;E&amp;#39; letter and continues with number &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3477&quot;&gt;&lt;del&gt;THRIFT-3477&lt;/del&gt;&lt;/a&gt; Parser fails on enum item that starts with &apos;E&apos; letter and (jensg: rev 5eed3a161fc4750ac7db5651373c5c2ece709fe6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/ConstantsDemo.thrift&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/thriftl.ll&lt;/li&gt;
	&lt;li&gt;test/EnumTest.thrift&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15047509" author="jensg" created="Tue, 8 Dec 2015 21:37:33 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR:DebugProtoTest.thrift:207] (last token was &lt;span class=&quot;code-quote&quot;&gt;&apos;-1.1&apos;&lt;/span&gt;)
syntax error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not so good.&lt;/p&gt;</comment>
                            <comment id="15047558" author="jensg" created="Tue, 8 Dec 2015 22:05:31 +0000"  >&lt;p&gt;Removed &lt;tt&gt;st_identifier&lt;/tt&gt; (a leftover from &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3416&quot; title=&quot;Retire old &amp;quot;xxx_namespace&amp;quot; declarations from the IDL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3416&quot;&gt;&lt;del&gt;THRIFT-3416&lt;/del&gt;&lt;/a&gt;) and committed.&lt;/p&gt;</comment>
                            <comment id="15047740" author="hudson" created="Wed, 9 Dec 2015 00:11:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1762 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1762/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1762/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3477&quot; title=&quot;Parser fails on enum item that starts with &amp;#39;E&amp;#39; letter and continues with number &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3477&quot;&gt;&lt;del&gt;THRIFT-3477&lt;/del&gt;&lt;/a&gt; Parser fails on enum item that starts with &apos;E&apos; letter and (jensg: rev 52de5cafbdec0feb9e0d16531b28f8f0654b8780)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/ConstantsDemo.thrift&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/thrifty.yy&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/thriftl.ll&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12776386" name="THRIFT-3477-Parser-fails-on-enum-item-that-starts-wi.patch" size="2104" author="jensg" created="Tue, 8 Dec 2015 20:12:52 +0000"/>
                            <attachment id="12776419" name="THRIFT-3477-fix-negative-doubles.patch" size="2198" author="jensg" created="Tue, 8 Dec 2015 22:06:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pj9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>