<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:23:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3584] boolean false value cannot be transferred</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3584</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;To check element of self whether nil or not,avoid the value(false) of BOOL is lost.&lt;/p&gt;

&lt;p&gt;eg.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Before&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; self.argBool then
    oprot:writeFieldBegin(&lt;span class=&quot;code-quote&quot;&gt;&apos;argBool&apos;&lt;/span&gt;, TType.BOOL, 13)
    oprot:writeBool(self.argBool)
    oprot:writeFieldEnd()
  end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;After&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; self.argBool ~= nil then
    oprot:writeFieldBegin(&lt;span class=&quot;code-quote&quot;&gt;&apos;argBool&apos;&lt;/span&gt;, TType.BOOL, 13)
    oprot:writeBool(self.argBool)
    oprot:writeFieldEnd()
  end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why:&lt;br/&gt;
  the value(false) for parameter self.argBool will be lost when condition is &apos;if self.argBool then&apos; as before.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux Windows&lt;/p&gt;</environment>
        <key id="12935022">THRIFT-3584</key>
            <summary>boolean false value cannot be transferred</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gityf">WangYaofu</assignee>
                                    <reporter username="gityf">WangYaofu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jan 2016 05:59:55 +0000</created>
                <updated>Tue, 9 Feb 2016 06:23:24 +0000</updated>
                            <resolved>Thu, 4 Feb 2016 13:23:22 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Lua - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15123215" author="jensg" created="Fri, 29 Jan 2016 09:04:54 +0000"  >&lt;p&gt;Yo have a patch for this or you are working on one?&lt;/p&gt;</comment>
                            <comment id="15123255" author="gityf" created="Fri, 29 Jan 2016 09:37:13 +0000"  >&lt;p&gt;I modified the Lua compiler and here are pull request on github for thrift mirror.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/thrift/pull/824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/824&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15125647" author="githubbot" created="Mon, 1 Feb 2016 02:46:36 +0000"  >&lt;p&gt;Github user mygityf closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/824&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15125666" author="githubbot" created="Mon, 1 Feb 2016 03:04:40 +0000"  >&lt;p&gt;GitHub user mygityf opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3584&quot; title=&quot;boolean false value cannot be transferred&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3584&quot;&gt;&lt;del&gt;THRIFT-3584&lt;/del&gt;&lt;/a&gt; Lua: To check element of self whether nil or not,avoid the value(false) of BOOL is lost.&lt;/p&gt;

&lt;p&gt;    &#8230;e value(false) of BOOL is lost.&lt;/p&gt;

&lt;p&gt;    eg.&lt;br/&gt;
        Before:&lt;br/&gt;
          if self.argBool then&lt;br/&gt;
            oprot:writeFieldBegin(&apos;argBool&apos;, TType.BOOL, 13)&lt;br/&gt;
            oprot:writeBool(self.argBool)&lt;br/&gt;
            oprot:writeFieldEnd()&lt;br/&gt;
          end&lt;/p&gt;

&lt;p&gt;        After:&lt;br/&gt;
          if self.argBool ~= nil then&lt;br/&gt;
            oprot:writeFieldBegin(&apos;argBool&apos;, TType.BOOL, 13)&lt;br/&gt;
            oprot:writeBool(self.argBool)&lt;br/&gt;
            oprot:writeFieldEnd()&lt;br/&gt;
          end&lt;/p&gt;

&lt;p&gt;        Why:&lt;br/&gt;
          the value(false) for paramater self.argBool will be lost when condition is &apos;if self.argBool then&apos; as before.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/gitforks/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gitforks/thrift&lt;/a&gt; gityf-patch-lua-compiler&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #826&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit dfeee18e48cb5f18f911e9344bd72f9bc7cbab42&lt;br/&gt;
Author: Wang Yaofu &amp;lt;voipman@sina.cn&amp;gt;&lt;br/&gt;
Date:   2016-02-01T02:59:33Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3584&quot; title=&quot;boolean false value cannot be transferred&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3584&quot;&gt;&lt;del&gt;THRIFT-3584&lt;/del&gt;&lt;/a&gt; Lua: To check element of self whether nil or not,avoid the value(false) of BOOL is lost.&lt;/p&gt;

&lt;p&gt;    eg.&lt;br/&gt;
        Before:&lt;br/&gt;
          if self.argBool then&lt;br/&gt;
            oprot:writeFieldBegin(&apos;argBool&apos;, TType.BOOL, 13)&lt;br/&gt;
            oprot:writeBool(self.argBool)&lt;br/&gt;
            oprot:writeFieldEnd()&lt;br/&gt;
          end&lt;/p&gt;

&lt;p&gt;        After:&lt;br/&gt;
          if self.argBool ~= nil then&lt;br/&gt;
            oprot:writeFieldBegin(&apos;argBool&apos;, TType.BOOL, 13)&lt;br/&gt;
            oprot:writeBool(self.argBool)&lt;br/&gt;
            oprot:writeFieldEnd()&lt;br/&gt;
          end&lt;/p&gt;

&lt;p&gt;        Why:&lt;br/&gt;
          the value(false) for paramater self.argBool will be lost when condition is &apos;if self.argBool then&apos; as before.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15125667" author="gityf" created="Mon, 1 Feb 2016 03:05:19 +0000"  >&lt;p&gt;pull request: &lt;a href=&quot;https://github.com/apache/thrift/pull/826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15128470" author="githubbot" created="Tue, 2 Feb 2016 16:15:27 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826#issuecomment-178662632&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826#issuecomment-178662632&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    While it might fix a problem in sending `false` from Lua,&lt;br/&gt;
    combined send + receive test does not seem to work even with this fix.&lt;br/&gt;
    Do you want to fix reading side too ?&lt;/p&gt;</comment>
                            <comment id="15129651" author="githubbot" created="Wed, 3 Feb 2016 02:32:27 +0000"  >&lt;p&gt;Github user mygityf commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826#issuecomment-178964162&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826#issuecomment-178964162&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    To read a field by field id instead of argument of &apos;self &apos; in reading side.&lt;br/&gt;
    The problem can not be reproduced in reading side.&lt;/p&gt;</comment>
                            <comment id="15130529" author="githubbot" created="Wed, 3 Feb 2016 15:06:43 +0000"  >&lt;p&gt;Github user nsuke commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826#issuecomment-179283037&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826#issuecomment-179283037&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    OK, &quot;read&quot; was not a precise word.&lt;br/&gt;
    The problem I was trying to describe is about receiving boolean return value (not field) that happened to be `false`.&lt;br/&gt;
    At a quick glance, it seems that `if result.success then` in generated code can be fixed in the same way as this.&lt;/p&gt;

&lt;p&gt;    If you&apos;re running the test mentioned in the other patch, you can uncomment the line `assertEqual(client:testBool(false), ...` and verify locally.&lt;/p&gt;

</comment>
                            <comment id="15132292" author="githubbot" created="Thu, 4 Feb 2016 13:20:44 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/826&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15132300" author="nsuke" created="Thu, 4 Feb 2016 13:23:22 +0000"  >&lt;p&gt;commited, thanks !&lt;/p&gt;</comment>
                            <comment id="15138413" author="hudson" created="Tue, 9 Feb 2016 06:23:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift-precommit #45 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/45/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/45/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3584&quot; title=&quot;boolean false value cannot be transferred&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3584&quot;&gt;&lt;del&gt;THRIFT-3584&lt;/del&gt;&lt;/a&gt; Lua: boolean false value cannot be transferred (nsuke: &lt;a href=&quot;https://github.com/apache/thrift/commit/cfebe7e2c6dfb42a8872bb831eaf3a2278d4fc73&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/cfebe7e2c6dfb42a8872bb831eaf3a2278d4fc73&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_lua_generator.cc&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3584&quot; title=&quot;boolean false value cannot be transferred&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3584&quot;&gt;&lt;del&gt;THRIFT-3584&lt;/del&gt;&lt;/a&gt; boolean false value cannot be transferred (nsuke: &lt;a href=&quot;https://github.com/apache/thrift/commit/1f647f01c4494222ff82008f555cc77c2868d434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/1f647f01c4494222ff82008f555cc77c2868d434&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_lua_generator.cc&lt;/li&gt;
	&lt;li&gt;test/lua/test_basic_client.lua&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s4r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>