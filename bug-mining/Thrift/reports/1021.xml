<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:13:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2657] py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines </title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2657</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;py.twisted/test_suite.py:ThriftTestCase.testOneway&lt;br/&gt;
relies on a call to &lt;br/&gt;
client.testOneway(2)&lt;br/&gt;
taking less than&lt;br/&gt;
2.005 seconds &lt;br/&gt;
(2.004 succeeds, because round(2 - 2.004, 2) == 0)&lt;br/&gt;
On a loaded (or slow) machine, this isn&apos;t guaranteed. &lt;/p&gt;

&lt;p&gt;Suggest that the sensitivity of this test be significantly relaxed, unless this is a  test measuring performance (which I do not believe it to be)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;===============================================================================
[FAIL]
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib64/python2.7/site-packages/twisted/internet/defer.py&quot;&lt;/span&gt;, line 1070, in _inlineCallbacks
    result = g.send(result)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/home/hangfire/checkouts/github/thrift-clean/test/py.twisted/test_suite.py&quot;&lt;/span&gt;, line 184, in testOneway
    self.assertAlmostEquals(seconds, (end - start), places=2)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/lib64/python2.7/site-packages/twisted/trial/_synctest.py&quot;&lt;/span&gt;, line 472, in assertAlmostEqual
    % (first, second, places))
twisted.trial.unittest.FailTest: 2 != 2.0055909156799316 within 2 places

test_suite.ThriftTestCase.testOneway
-------------------------------------------------------------------------------
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12733037">THRIFT-2657</key>
            <summary>py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roger">Roger Meier</assignee>
                                    <reporter username="jamesbroadhead">James Broadhead</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Aug 2014 16:30:29 +0000</created>
                <updated>Wed, 5 Nov 2014 04:48:46 +0000</updated>
                            <resolved>Sun, 10 Aug 2014 19:28:06 +0000</resolved>
                                                    <fixVersion>0.9.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14091827" author="githubbot" created="Sat, 9 Aug 2014 17:27:17 +0000"  >&lt;p&gt;GitHub user jamesbroadhead opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix spurious test failures in py:twisted&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;py.twisted/test_suite.py:ThriftTestCase.testOneway relies on&lt;br/&gt;
      testOneWay executing in less than 0.04 seconds (since it sleeps for 2&lt;br/&gt;
      seconds, then asserts that 2s - &amp;lt;time&amp;gt; ~= 0). On slow, or loaded&lt;br/&gt;
      machines this may fail. Switch this to sleep for 1 second, then have a&lt;br/&gt;
      tolerance of 0.4s for the deferred resolution.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removes a dud return d from testOneWay.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Remove &apos;*&apos; import &amp;amp; dud &apos;import random&apos;. This file now passes&lt;br/&gt;
      pyflakes.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Strip trailing whitespace&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Jira: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2657&quot; title=&quot;py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2657&quot;&gt;&lt;del&gt;THRIFT-2657&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jamesbroadhead/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jamesbroadhead/thrift&lt;/a&gt; twisted_spurious_test_failures&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/181.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/181.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #181&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit aa917a6098b4516deda3a91d33eef6b9bbcd0791&lt;br/&gt;
Author: James Broadhead &amp;lt;jbroadhead@twitter.com&amp;gt;&lt;br/&gt;
Date:   2014-08-09T17:21:44Z&lt;/p&gt;

&lt;p&gt;    Fix spurious test failures in py:twisted&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;py.twisted/test_suite.py:ThriftTestCase.testOneway relies on&lt;br/&gt;
      testOneWay executing in less than 0.04 seconds (since it sleeps for 2&lt;br/&gt;
      seconds, then asserts that 2s - &amp;lt;time&amp;gt; ~= 0). On slow, or loaded&lt;br/&gt;
      machines this may fail. Switch this to sleep for 1 second, then have a&lt;br/&gt;
      tolerance of 0.4s for the deferred resolution.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Removes a dud return d from testOneWay.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Remove &apos;*&apos; import &amp;amp; dud &apos;import random&apos;. This file now passes&lt;br/&gt;
      pyflakes.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Strip trailing whitespace&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Jira: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2657&quot; title=&quot;py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2657&quot;&gt;&lt;del&gt;THRIFT-2657&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14092157" author="roger.meier" created="Sun, 10 Aug 2014 19:28:06 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14092158" author="githubbot" created="Sun, 10 Aug 2014 19:28:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/181&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14092172" author="hudson" created="Sun, 10 Aug 2014 19:56:47 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1254 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1254/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1254/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2657&quot; title=&quot;py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2657&quot;&gt;&lt;del&gt;THRIFT-2657&lt;/del&gt;&lt;/a&gt; Fix spurious test failures in py:twisted (roger: rev 79c3f4a7311e91dbd3edd85a30c54b2ccce57781)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/py.twisted/test_suite.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14197536" author="hudson" created="Wed, 5 Nov 2014 04:48:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1331 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1331/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1331/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2657&quot; title=&quot;py.twisted/test_suite.py:ThriftTestCase.testOneway spuriously fails on loaded machines &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2657&quot;&gt;&lt;del&gt;THRIFT-2657&lt;/del&gt;&lt;/a&gt; Fix spurious test failures in py:twisted (roger: rev 79c3f4a7311e91dbd3edd85a30c54b2ccce57781)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/py.twisted/test_suite.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ypyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411057</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>