<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:08:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2065] Not valid constants filename in Java </title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2065</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;In my company we use to name our thrift file separating data and services.&lt;/p&gt;

&lt;p&gt;I.e. for two files, one for user management, another for address management, we would have four thrift files : user.data.thrift , user.services.thrift address.data.thrift and address.services.thrift &lt;/p&gt;

&lt;p&gt;We were using thrift 0.2.0 and generating java code, and it worked perfectly. We try now to pass to thrift 0.9.0 and everything works besides constants. &lt;/p&gt;

&lt;p&gt;For contants, in 0.2.0 it generated a Constants.java class in the package declared in the namespace java. &lt;/p&gt;

&lt;p&gt;In 0.9.0, for a file FILENAME.thrift it generates a FILENAMEConstants.java in the package declared in the namespace java. And if the filename includes a dot, it generates a java file with a dot in the name, not valid in java.&lt;/p&gt;

&lt;p&gt;So for my precedent example I get a user.dataConstants.java and address.dataConstants.java, with Java classes called user.dataConstants and address.dataConstant.  And the Java compiler doesn&apos;t accept classes with a dot in the class name.&lt;/p&gt;

&lt;p&gt;Would it be possible to find a solution (for example scanning for dots before generating the constants file and changing them for a &apos;_&apos;) ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12654681">THRIFT-2065</key>
            <summary>Not valid constants filename in Java </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="lostinbrittany">Horacio Gonzalez</reporter>
                        <labels>
                            <label>java</label>
                    </labels>
                <created>Tue, 25 Jun 2013 08:44:51 +0000</created>
                <updated>Thu, 25 Jul 2013 03:40:06 +0000</updated>
                            <resolved>Wed, 26 Jun 2013 18:21:00 +0000</resolved>
                                    <version>0.8</version>
                    <version>0.9</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>Java - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13693327" author="jensg" created="Tue, 25 Jun 2013 19:58:00 +0000"  >&lt;p&gt;Proposed patch, comments welcome.&lt;/p&gt;</comment>
                            <comment id="13693472" author="carlyeks" created="Tue, 25 Jun 2013 23:00:30 +0000"  >&lt;p&gt;+1 to the patch.&lt;/p&gt;

&lt;p&gt;It looks like we have a lot of overlap to the C# issue. I think we probably need to revisit constant support to make sure that we are generating these in a consistent manner, while preserving the ability to generate constants from many different thrift files.&lt;/p&gt;</comment>
                            <comment id="13693817" author="lostinbrittany" created="Wed, 26 Jun 2013 08:00:54 +0000"  >&lt;p&gt;+1 to the patch, it&apos;s a clean and elegant solution !&lt;/p&gt;

&lt;p&gt;THANKS !!!!&lt;/p&gt;</comment>
                            <comment id="13694134" author="jensg" created="Wed, 26 Jun 2013 18:21:00 +0000"  >&lt;p&gt;Committed, thanks for the flowers &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13694196" author="hudson" created="Wed, 26 Jun 2013 19:46:51 +0000"  >&lt;p&gt;Integrated in Thrift #754 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/754/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/754/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2065&quot; title=&quot;Not valid constants filename in Java &quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2065&quot;&gt;&lt;del&gt;THRIFT-2065&lt;/del&gt;&lt;/a&gt; Not valid constants filename in Java (Revision b3495ffd20cb4fa9b746eb7929c0b1a1b3c7615b)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
jensg : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_java_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12501333">THRIFT-1090</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12526268">THRIFT-1383</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12649293">THRIFT-1977</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12589654" name="THRIFT-2065 Not valid constants filename in Java.patch" size="4977" author="jensg" created="Tue, 25 Jun 2013 19:58:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ls27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>