<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:57:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-723] Thrift buffers with set and map types in Java should implement Comparable</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-723</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Currently, Thrift objects in Java don&apos;t implement Comparable if any field is a set or a map.&lt;br/&gt;
The patch attached implements Comparable for those cases. If we can compare a List, we should be able to compare a Set just as easily. This implementation compares two thrift objects by comparing the sorted entries of each set or map.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457938">THRIFT-723</key>
            <summary>Thrift buffers with set and map types in Java should implement Comparable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bryanduxbury">Bryan Duxbury</assignee>
                                    <reporter username="dmitrychechik">Dmitry Chechik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Mar 2010 05:19:02 +0000</created>
                <updated>Mon, 29 Mar 2010 23:57:26 +0000</updated>
                            <resolved>Mon, 29 Mar 2010 23:57:26 +0000</resolved>
                                                    <fixVersion>0.3</fixVersion>
                                    <component>Java - Compiler</component>
                    <component>Java - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12840495" author="bryanduxbury" created="Wed, 3 Mar 2010 06:47:55 +0000"  >&lt;p&gt;The reason I chose to consider Sets and Maps incomparable is because there is no natural ordering to them. Lists are fundamentally ordered, making it obvious how to compose their ordering into a larger ordering.&lt;/p&gt;

&lt;p&gt;I&apos;m not completely against adding this feature, but it does seem a bit unnatural. The sort order of structs containing sets or maps would be somewhat unintuitive, which is probably fine if you just want &quot;some&quot; consistent ordering. &lt;/p&gt;</comment>
                            <comment id="12840959" author="dmitrychechik" created="Thu, 4 Mar 2010 00:02:46 +0000"  >&lt;p&gt;For what it&apos;s worth, neither Lists, Sets or Maps are Comparable in the Java JDK implementation, but thrift implement comparison for Lists anyway &amp;#8211; might as well do it for the other basic types. This allows thrift buffers with those types to be used as keys in mapreduce operations so it&apos;s fairly useful.&lt;/p&gt;

&lt;p&gt;As another data point, python implements comparison of dictionaries (i.e. Maps) in the same way &amp;#8211; if the dictionaries are the same size, the keys are sorted and then compared.&lt;/p&gt;</comment>
                            <comment id="12850395" author="bryanduxbury" created="Fri, 26 Mar 2010 23:07:08 +0000"  >&lt;p&gt;Dmitry - I tried to apply this patch today, and it didn&apos;t apply cleanly. Can you try to update it and resubmit? Sorry for letting it hang out for so long.&lt;/p&gt;</comment>
                            <comment id="12851152" author="bryanduxbury" created="Mon, 29 Mar 2010 23:07:32 +0000"  >&lt;p&gt;OK, I reworked your patch to fit in with the new test suite. I also simplified the changes needed to the compiler - with this change to support sets and maps, &lt;b&gt;every&lt;/b&gt; thrift struct can now be compared. I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="12851168" author="bryanduxbury" created="Mon, 29 Mar 2010 23:57:26 +0000"  >&lt;p&gt;I just committed this. Thanks for getting me started, Dmitry!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12440138" name="thrift-723-v2.patch" size="15968" author="bryanduxbury" created="Mon, 29 Mar 2010 23:07:32 +0000"/>
                            <attachment id="12437682" name="thrift-compare-to.patch" size="57631" author="dmitrychechik" created="Wed, 3 Mar 2010 05:20:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16enj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>