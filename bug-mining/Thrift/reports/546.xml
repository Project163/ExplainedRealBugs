<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:03:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1440] debian packaging: minor-ish policy problems</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1440</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;A listing of detectable policy problems in the thrift Debian packaging (in contrib/) can be found with a lintian run:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;sudo aptitude install lintian
cd /my/thrift/dir
dpkg-buildpackage -us -uc
lintian -i ../thrift_0.8.0_amd64.changes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll note some of them here for posterity.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;thriftsource%3Aweaklibrarydevdependencylibthriftdevonlibthrift0&quot;&gt;&lt;/a&gt;thrift source: weak-library-dev-dependency libthrift-dev on libthrift0&lt;/h3&gt;

&lt;p&gt;The libthrift-dev package should have a versioned dependency on libthrift0, i.e., in debian/control:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Depends: ..., libthrift0 (= ${binary:Version}), ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h3&gt;&lt;a name=&quot;thriftsource%3Abuilddependsonbuildessentialbuilddepends&quot;&gt;&lt;/a&gt;thrift source: build-depends-on-build-essential build-depends&lt;/h3&gt;

&lt;p&gt;You don&apos;t need the &quot;build-essential&quot; bit in Build-Depends.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;thriftcompiler%3Adescriptioncontainsinvalidcontrolstatement&quot;&gt;&lt;/a&gt;thrift-compiler: description-contains-invalid-control-statement&lt;/h3&gt;

&lt;p&gt;Syntax is a bit off in debian/control for the Description fields; I&apos;ll attach a patch.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;thriftcompiler%3Abinarywithoutmanpageusr%2Fbin%2Fthrift&quot;&gt;&lt;/a&gt;thrift-compiler: binary-without-manpage usr/bin/thrift&lt;/h3&gt;

&lt;p&gt;You need a man page for /usr/bin/thrift.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;pythonthriftdbg%3Awrongsectionaccordingtopackagenamepythonthriftdbg%3D%3Edebug&quot;&gt;&lt;/a&gt;python-thrift-dbg: wrong-section-according-to-package-name python-thrift-dbg =&amp;gt; debug&lt;/h3&gt;

&lt;p&gt;The python-thrift-dbg package should be in Section: debug.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;pythonthriftdbg%3Adirinusrlocalusr%2Flocal%2Flib%2F&quot;&gt;&lt;/a&gt;python-thrift-dbg: dir-in-usr-local usr/local/lib/&lt;/h3&gt;

&lt;p&gt;Debian packages shouldn&apos;t be shipping anything in /usr/local; that&apos;s supposed to be reserved for the local system admin. There isn&apos;t much reason for this anyway; the dirs being shipped by python-thrift-dbg here are empty.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftruby%3Awrongsectionaccordingtopackagenamelibthriftruby%3D%3Eruby&quot;&gt;&lt;/a&gt;libthrift-ruby: wrong-section-according-to-package-name libthrift-ruby =&amp;gt; ruby&lt;/h3&gt;

&lt;p&gt;The libthrift-ruby package should be in Section: ruby. Also, according to &lt;a href=&quot;http://wiki.debian.org/Teams/Ruby/Packaging&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.debian.org/Teams/Ruby/Packaging&lt;/a&gt; , it looks like Ruby packages are undergoing a name change in the current Debian testing suite. libthrift-ruby probably needs to become ruby-thrift and switch to using gem2deb.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftruby%3Aemptybinarypackage&quot;&gt;&lt;/a&gt;libthrift-ruby: empty-binary-package&lt;/h3&gt;

&lt;p&gt;This will probably be addressed under &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1421&quot; title=&quot;Debian Packages can not be built&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1421&quot;&gt;&lt;del&gt;THRIFT-1421&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthrift0%3Apackagenamedoesntmatchsonameslibthriftcglib0&quot;&gt;&lt;/a&gt;libthrift0: package-name-doesnt-match-sonames libthrift-c-glib0&lt;/h3&gt;

&lt;p&gt;This is complaining because the package name of a library package should usually reflect the soname of the included library (see &lt;a href=&quot;http://www.netfort.gr.jp/~dancer/column/libpkg-guide/libpkg-guide.html#shlibpkgs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;chapter 5 of the Debian Library Packaging Guide&lt;/a&gt; for more info). Something is fishy here, though. Did you intend to distribute the c-glib library as &quot;libthrift0&quot;? If so, where is the cpp library supposed to go? I don&apos;t think I see it after a quick search through the packages.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;php5thrift%3Amissingdependencyonphpapi&quot;&gt;&lt;/a&gt;php5-thrift: missing-dependency-on-phpapi&lt;/h3&gt;

&lt;p&gt;See the lintian explanation for detailed info. Basically, you need some extra Sauce to add a dependency to php5-thrift on a PHP with a compatible API version.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftjava%3Awrongsectionaccordingtopackagenamelibthriftjava%3D%3Ejava&quot;&gt;&lt;/a&gt;libthrift-java: wrong-section-according-to-package-name libthrift-java =&amp;gt; java&lt;/h3&gt;

&lt;p&gt;libthrift-java should be Section: java&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftcil%3Awrongsectionaccordingtopackagenamelibthriftcil%3D%3Eclimono&quot;&gt;&lt;/a&gt;libthrift-cil: wrong-section-according-to-package-name libthrift-cil =&amp;gt; cli-mono&lt;/h3&gt;

&lt;p&gt;libthrift-cil should be Section: cli-mono&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftcil%3Aexecutablenotelforscript.%2Fusr%2Flib%2Fcli%2Fthrift%2FThrift.dll&quot;&gt;&lt;/a&gt;libthrift-cil: executable-not-elf-or-script ./usr/lib/cli/thrift/Thrift.dll&lt;/h3&gt;

&lt;p&gt;Thrift.dll shouldn&apos;t have its executable bit set.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;libthriftperl%3Anonstandarddirinusrusr%2Fusr%2F&quot;&gt;&lt;/a&gt;libthrift-perl: non-standard-dir-in-usr usr/usr/&lt;/h3&gt;

&lt;p&gt;Yeah, installing into /usr/usr/local/lib is kinda wacko. Ought to be /usr/lib.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;And as a final note, a lot of the packaging here could be pretty greatly simplified and better future-proofed using the Debhelper 7 command sequencer (&quot;&lt;tt&gt;dh&lt;/tt&gt;&quot;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533010">THRIFT-1440</key>
            <summary>debian packaging: minor-ish policy problems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thepaul">paul cannon</reporter>
                        <labels>
                            <label>debian</label>
                            <label>packaging</label>
                    </labels>
                <created>Mon, 28 Nov 2011 22:14:06 +0000</created>
                <updated>Thu, 20 Jun 2013 16:12:38 +0000</updated>
                            <resolved>Thu, 20 Jun 2013 16:12:38 +0000</resolved>
                                                    <fixVersion>0.9.1</fixVersion>
                                    <component>Deployment</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13166076" author="roger.meier" created="Fri, 9 Dec 2011 11:14:31 +0000"  >&lt;p&gt;Thanks for Reporting that, we like to apply your patches to improve packaging and build procedure in general.&lt;/p&gt;

&lt;p&gt;The Build Job for Debian Packages is here:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Thrift/job/Thrift-Debian-Packages/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Thrift/job/Thrift-Debian-Packages/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;currently we only hav a amd64 at Apache Build Infrastructure...&lt;br/&gt;
Do some simply tricks or cross compile approaches exist to build more architectures on that build server?&lt;/p&gt;</comment>
                            <comment id="13166323" author="thepaul" created="Fri, 9 Dec 2011 17:15:51 +0000"  >&lt;p&gt;Oops, neglected to attach the patch I promised for the &quot;description-contains-invalid-syntax&quot; part.&lt;/p&gt;

&lt;p&gt;Note this does not fix all the issues, only one.&lt;/p&gt;</comment>
                            <comment id="13166326" author="thepaul" created="Fri, 9 Dec 2011 17:19:20 +0000"  >&lt;blockquote&gt;
&lt;p&gt;currently we only hav a amd64 at Apache Build Infrastructure...&lt;br/&gt;
Do some simply tricks or cross compile approaches exist to build more architectures on that build server?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The only reasonable way to do that is to have an i386 chroot on the amd64 machine, and build inside that (tools like pbuilder and cowbuilder make that sort of thing easier). Can Apache not provide an i386 build machine, though? I have no idea if a pbuilder chroot would even be a viable option under Jenkins.&lt;/p&gt;</comment>
                            <comment id="13166431" author="roger.meier" created="Fri, 9 Dec 2011 18:46:53 +0000"  >&lt;p&gt;Thanks Paul!&lt;br/&gt;
committed the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12506753/12506753_THRIFT-1440-descriptions.patch&quot; title=&quot;THRIFT-1440-descriptions.patch attached to THRIFT-1440&quot;&gt;THRIFT-1440-descriptions.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;Apache needs sponsors...that&apos;s why we currently do not have a i386 or x86_64.&lt;/p&gt;

&lt;p&gt;I will have a look at cowbuilder and pbuilder.&lt;/p&gt;</comment>
                            <comment id="13166580" author="hudson" created="Fri, 9 Dec 2011 21:27:30 +0000"  >&lt;p&gt;Integrated in Thrift #358 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/358/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/358/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1440&quot; title=&quot;debian packaging: minor-ish policy problems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1440&quot;&gt;&lt;del&gt;THRIFT-1440&lt;/del&gt;&lt;/a&gt; debian packaging: minor-ish policy problems&lt;br/&gt;
Patch: Paul Cannon&lt;br/&gt;
Fix: Descriptions&lt;/p&gt;

&lt;p&gt;roger : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1212569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1212569&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/thrift/trunk/contrib/debian/control&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13545593" author="marco.matarazzo" created="Mon, 7 Jan 2013 02:52:29 +0000"  >&lt;p&gt;Cpp libraries were there, in libthrift0 package, in version 0.7, and disappeared in 0.8 (and 0.9 too). So I think the actual problem is that somewhat they got removed.&lt;/p&gt;

&lt;p&gt;So, at the moment, no debian package after 0.7 is providing cpp libraries.&lt;/p&gt;
</comment>
                            <comment id="13689371" author="jfarrell" created="Thu, 20 Jun 2013 16:12:38 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1825&quot; title=&quot;Debian Packaging: cpp libs no longer included since 0.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1825&quot;&gt;&lt;del&gt;THRIFT-1825&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12626316">THRIFT-1825</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506753" name="THRIFT-1440-descriptions.patch" size="5353" author="thepaul" created="Fri, 9 Dec 2011 17:15:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i083w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>45230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>