<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:13:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2551] OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2551</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;TThreadPoolServer:&lt;br/&gt;
if executorService_.execute throws OutOfMemoryError, serve thread will be terminated, socket will not be closed and no new incoming connection will be accepted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12716741">THRIFT-2551</key>
            <summary>OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="roger">Roger Meier</assignee>
                                    <reporter username="Fuud">Fuud</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 May 2014 06:44:29 +0000</created>
                <updated>Thu, 7 Apr 2016 11:03:46 +0000</updated>
                            <resolved>Thu, 29 May 2014 14:27:05 +0000</resolved>
                                                    <fixVersion>0.9.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14009349" author="githubbot" created="Tue, 27 May 2014 06:52:35 +0000"  >&lt;p&gt;GitHub user Fuud opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2551&quot; title=&quot;OutOfMemoryError &amp;quot;unable to create new native thread&amp;quot; kills serve thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2551&quot;&gt;&lt;del&gt;THRIFT-2551&lt;/del&gt;&lt;/a&gt; OutOfMemoryError kills serve thread&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2551&quot; title=&quot;OutOfMemoryError &amp;quot;unable to create new native thread&amp;quot; kills serve thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2551&quot;&gt;&lt;del&gt;THRIFT-2551&lt;/del&gt;&lt;/a&gt; OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread.&lt;/p&gt;

&lt;p&gt;    If executor can not create new thread (because of exceed descriptors limit for example) it throws OutOfMemoryError. This case is same as if RejectedExecutionException is thrown from executor: we can wait and retry.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/Fuud/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Fuud/thrift&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #129&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit fe11c04eb3e4b7c1d1894a72a8ff85e19a1ce2e1&lt;br/&gt;
Author: Fuud &amp;lt;fuudtorrentsru@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-05-27T06:45:13Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2551&quot; title=&quot;OutOfMemoryError &amp;quot;unable to create new native thread&amp;quot; kills serve thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2551&quot;&gt;&lt;del&gt;THRIFT-2551&lt;/del&gt;&lt;/a&gt; OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread&lt;/p&gt;

&lt;p&gt;commit e4043491c362d67f6dee974e6e8e8bc9b858193b&lt;br/&gt;
Author: Fuud &amp;lt;fuudtorrentsru@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-05-27T06:50:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2551&quot; title=&quot;OutOfMemoryError &amp;quot;unable to create new native thread&amp;quot; kills serve thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2551&quot;&gt;&lt;del&gt;THRIFT-2551&lt;/del&gt;&lt;/a&gt; OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14012398" author="roger.meier" created="Thu, 29 May 2014 14:27:05 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="14012468" author="hudson" created="Thu, 29 May 2014 15:52:24 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1161 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1161/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1161/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2551&quot; title=&quot;OutOfMemoryError &amp;quot;unable to create new native thread&amp;quot; kills serve thread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2551&quot;&gt;&lt;del&gt;THRIFT-2551&lt;/del&gt;&lt;/a&gt; OutOfMemoryError &quot;unable to create new native thread&quot; kills serve thread (roger: rev 80a44f84fb161d77bf53261d024489df0aa7589c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/java/src/org/apache/thrift/server/TThreadPoolServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14012983" author="githubbot" created="Thu, 29 May 2014 21:54:57 +0000"  >&lt;p&gt;Github user bufferoverflow commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129#issuecomment-44590556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129#issuecomment-44590556&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    please close this,&lt;br/&gt;
    I committed with wrong pull request id.&lt;br/&gt;
    &lt;a href=&quot;https://github.com/apache/thrift/commit/80a44f84fb161d77bf53261d024489df0aa7589c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/80a44f84fb161d77bf53261d024489df0aa7589c&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="14047533" author="githubbot" created="Mon, 30 Jun 2014 10:36:16 +0000"  >&lt;p&gt;Github user Fuud commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129#issuecomment-47517219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129#issuecomment-47517219&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    changes was pushed &lt;br/&gt;
    &lt;a href=&quot;https://github.com/apache/thrift/commit/80a44f84fb161d77bf53261d024489df0aa7589c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/80a44f84fb161d77bf53261d024489df0aa7589c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14047534" author="githubbot" created="Mon, 30 Jun 2014 10:36:16 +0000"  >&lt;p&gt;Github user Fuud closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15230091" author="githubbot" created="Thu, 7 Apr 2016 11:03:46 +0000"  >&lt;p&gt;Github user andre77 commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/129#issuecomment-206817099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/129#issuecomment-206817099&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hi,&lt;br/&gt;
    in our environment we use librthrift version 0.9.0, where we face the problem with OutOfMemoryError &quot;unable to create new native thread&quot;&lt;br/&gt;
    ok, with the fix in the newer version the serve thread will &quot;survive&quot; such an exception, but still a big question for me, why there are so many threads running?&lt;br/&gt;
    even after increasing the max processes to 4096, we face such a problem...&lt;br/&gt;
    someone an idea?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>394949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w01b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>395084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>