<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:09:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1755] Comment parsing bug</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1755</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;thrift-0.9.0.exe crashes when trying to parse a thrift description file with a particular style of comment.&lt;/p&gt;

&lt;p&gt;The crash message is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Assertion failed: docstring.length() &amp;lt;= strlen(doctext), file src/main.cc, line 548

This application has requested the &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; to terminate it in an unusual way.
Please contact the application&apos;s support team &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; more information.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Reproducible with the following definitions file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;service myservice
{
	&lt;span class=&quot;code-comment&quot;&gt;/**SomeTextHere*/&lt;/span&gt;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that if you put a space like so /**SomeTextHere */, it compiles.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7&lt;/p&gt;</environment>
        <key id="12616425">THRIFT-1755</key>
            <summary>Comment parsing bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="budric">Bud Bundy</reporter>
                        <labels>
                            <label>compilation</label>
                            <label>docstrings</label>
                    </labels>
                <created>Fri, 16 Nov 2012 15:52:20 +0000</created>
                <updated>Thu, 3 Jan 2019 12:27:54 +0000</updated>
                            <resolved>Mon, 16 Sep 2013 20:19:34 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9.2</fixVersion>
                                    <component>Compiler (General)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13500693" author="brooksbp" created="Mon, 19 Nov 2012 22:24:09 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;

&lt;p&gt;clean_up_doctext() appends &apos;\n&apos;. in the case where there is no whitespace to trim, there is no room left in the original string to append &apos;\n&apos;. this patch bumps the null terminator back one char.&lt;/p&gt;</comment>
                            <comment id="13768210" author="xieliang007" created="Mon, 16 Sep 2013 10:14:27 +0000"  >&lt;p&gt;just out of courious, why no review/comments? it&apos;s really a bug/issue&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13768634" author="jensg" created="Mon, 16 Sep 2013 19:08:18 +0000"  >&lt;p&gt;Confirmed problem. I had to adjust the test case a little to get it reproduced, maybe that&apos;s why. I&apos;ll have a look at it.&lt;/p&gt;</comment>
                            <comment id="13768687" author="jensg" created="Mon, 16 Sep 2013 20:02:00 +0000"  >&lt;p&gt;The &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12554246/12554246_thrift-1755.patch&quot; title=&quot;thrift-1755.patch attached to THRIFT-1755&quot;&gt;first patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, altough quite clever, does not really address the core issue, rather it tries to cure the symptom somehow. In particular, it relies on internal behaviour of clean_up_doctext(), which may be changed in the future.&lt;/p&gt;

&lt;p&gt;I therefore propose &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12603412/12603412_THRIFT-1755_comment_parsing_bug.patch&quot; title=&quot;THRIFT-1755_comment_parsing_bug.patch attached to THRIFT-1755&quot;&gt;this patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, which combines the former patch with a fix to the wrong assumption in clean_up_doctext().&lt;/p&gt;</comment>
                            <comment id="13768698" author="henrique" created="Mon, 16 Sep 2013 20:14:35 +0000"  >&lt;p&gt;+1, cheers Jens&lt;/p&gt;</comment>
                            <comment id="13768704" author="jensg" created="Mon, 16 Sep 2013 20:19:34 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13768793" author="hudson" created="Mon, 16 Sep 2013 21:32:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #898 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/898/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/898/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1755&quot; title=&quot;Comment parsing bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1755&quot;&gt;&lt;del&gt;THRIFT-1755&lt;/del&gt;&lt;/a&gt; Comment parsing bug (jensg: rev 8cd3efe50a42975375e8ff3bc03306d9e4174314)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/main.cc&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/thriftl.ll&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13771321" author="hudson" created="Wed, 18 Sep 2013 22:29:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #906 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/906/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/906/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1755&quot; title=&quot;Comment parsing bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1755&quot;&gt;&lt;del&gt;THRIFT-1755&lt;/del&gt;&lt;/a&gt; Comment parsing bug - the missing test case from Brian&apos;s patch (jensg: rev 97cc95b24c8604b8666b2045bd6a0d096254331e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/DocTest.thrift&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12473251">THRIFT-891</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12603412" name="THRIFT-1755_comment_parsing_bug.patch" size="1522" author="jensg" created="Mon, 16 Sep 2013 19:54:42 +0000"/>
                            <attachment id="12554246" name="thrift-1755.patch" size="818" author="brooksbp" created="Mon, 19 Nov 2012 22:24:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kr0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>119193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>