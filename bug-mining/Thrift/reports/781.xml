<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:09:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2105] Generated code for default values of collections ignores t_field::T_REQUIRED</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2105</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;I have very simple thrift structure:&lt;/p&gt;

&lt;p&gt;struct FloatProcessValue&lt;br/&gt;
{&lt;br/&gt;
    1: required ID id,&lt;br/&gt;
    2: required Value value&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;FloatProcessValue contains only required fileds, so no __isset structure is generated. But when this structure is used in collection with some default values:&lt;/p&gt;

&lt;p&gt;4: required map&amp;lt;i32, basic_types.FloatProcessValue&amp;gt; mapi32ToFloat = { 1:{&apos;id&apos;:0, &apos;value&apos;:0.4}},&lt;/p&gt;

&lt;p&gt;compilation fails because constructor tries to set __isset.value and __isset.id&lt;/p&gt;

&lt;p&gt;     ::simpletest::FloatProcessValue tmp0;&lt;br/&gt;
     ::simpletest::ID tmp1;&lt;br/&gt;
    tmp1 = 0;&lt;/p&gt;

&lt;p&gt;    tmp0.id = tmp1;&lt;br/&gt;
    tmp0._&lt;em&gt;isset.id = true; // error: &#8216;class simpletest::FloatProcessValue&#8217; has no member named &#8216;&lt;/em&gt;_isset&#8217;&lt;br/&gt;
     ::simpletest::Value tmp2;&lt;br/&gt;
    tmp2 = 0.4;&lt;/p&gt;

&lt;p&gt;    tmp0.value = tmp2;&lt;br/&gt;
    tmp0._&lt;em&gt;isset.value = true; error: &#8216;class simpletest::FloatProcessValue&#8217; has no member named &#8216;&lt;/em&gt;_isset&#8217;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12660580">THRIFT-2105</key>
            <summary>Generated code for default values of collections ignores t_field::T_REQUIRED</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="carlyeks">Carl Yeksigian</assignee>
                                    <reporter username="vstrisovsky">Vladimir Strisovsky</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2013 07:15:17 +0000</created>
                <updated>Tue, 13 Aug 2013 22:49:25 +0000</updated>
                            <resolved>Tue, 13 Aug 2013 22:23:39 +0000</resolved>
                                                    <fixVersion>0.9.1</fixVersion>
                                    <component>C++ - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13729319" author="vstrisovsky" created="Mon, 5 Aug 2013 09:01:26 +0000"  >&lt;p&gt;Adding patch for issue in print_const_value ( t_cpp_generator.cpp) Jira Thrift-2105 issue, Please review it and push to main branch.&lt;/p&gt;</comment>
                            <comment id="13738929" author="carlyeks" created="Tue, 13 Aug 2013 22:23:40 +0000"  >&lt;p&gt;Committed, thanks!&lt;/p&gt;</comment>
                            <comment id="13738965" author="hudson" created="Tue, 13 Aug 2013 22:49:25 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #848 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/848/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/848/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2105&quot; title=&quot;Generated code for default values of collections ignores t_field::T_REQUIRED&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2105&quot;&gt;&lt;del&gt;THRIFT-2105&lt;/del&gt;&lt;/a&gt; Generated code for default values of collections ignores t_field::T_REQUIRED (carl: rev f8e8c599211fa0523b48fd0f5e8f0462c0e2b08a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_cpp_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12596065" name="thrift-jira-thrift-2105-fixed_print_const_value.patch" size="1602" author="vstrisovsky" created="Mon, 5 Aug 2013 09:01:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mru7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>