<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:07:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1930] C# generates unsigned byte for Thrift &quot;byte&quot; type</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1930</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Given the code&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;struct test {
  1: &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; field
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the C# Generator generates &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; partial &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;test : TBase
{
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; _field;
  &lt;span class=&quot;code-comment&quot;&gt;// more code
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which is wrong, as all Thrift integer types are considered signed.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12642574">THRIFT-1930</key>
            <summary>C# generates unsigned byte for Thrift &quot;byte&quot; type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jensg">Jens Geyer</assignee>
                                    <reporter username="jensg">Jens Geyer</reporter>
                        <labels>
                            <label>bug</label>
                    </labels>
                <created>Mon, 15 Apr 2013 17:44:58 +0000</created>
                <updated>Sat, 8 Jun 2013 03:15:45 +0000</updated>
                            <resolved>Sat, 8 Jun 2013 03:15:45 +0000</resolved>
                                                    <fixVersion>0.9.1</fixVersion>
                                    <component>C# - Compiler</component>
                    <component>C# - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13631995" author="jensg" created="Mon, 15 Apr 2013 18:37:14 +0000"  >&lt;p&gt;Patch for both Compiler and library.&lt;/p&gt;

&lt;p&gt;Note: The CompactProtocol.cs file in the repo contains lots of inconsistent line endings, that&apos;s why there are so many changes.&lt;/p&gt;</comment>
                            <comment id="13636922" author="carlyeks" created="Fri, 19 Apr 2013 21:54:14 +0000"  >&lt;p&gt;Looks good. However, wondering why the types in the compact serializer are unsigned; seems like that should be signed as well.&lt;/p&gt;</comment>
                            <comment id="13637543" author="jensg" created="Sun, 21 Apr 2013 12:06:07 +0000"  >&lt;p&gt;I left the internal Byte and Byte[] as they were, mainly in order to prevent any possible damages there. Do you think this is a a problem?&lt;/p&gt;</comment>
                            <comment id="13637619" author="carlyeks" created="Sun, 21 Apr 2013 18:54:41 +0000"  >&lt;p&gt;It just seems a little clunkier to have the types being cast to sbyte instead of just changing the types.&lt;/p&gt;

&lt;p&gt;Since it is a private class, thought it would clean up the code without breaking the API.&lt;/p&gt;</comment>
                            <comment id="13638414" author="jensg" created="Mon, 22 Apr 2013 20:46:49 +0000"  >&lt;p&gt;First of all thanks for reviewing this. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Since it is a private class, thought it would clean up the code without breaking the API.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not so sure about the code cleanup aspect, remember the Write/ReadBinary(byte[]) methods still use byte. So some chances are that changes there will break anything while getting only less benefit out of it. I would be happy if we only get the unsigned problem adressed correctly without overlooking anything.&lt;/p&gt;

&lt;p&gt;I&apos;d propose to open a separate (enhancement) ticket for cleanup of the existing C# code base if that makes sense to you. &lt;/p&gt;

</comment>
                            <comment id="13640705" author="jensg" created="Wed, 24 Apr 2013 17:40:27 +0000"  >&lt;p&gt;I will commit that if there are no votes against it within the next 24 hours.&lt;/p&gt;</comment>
                            <comment id="13640722" author="carlyeks" created="Wed, 24 Apr 2013 17:55:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;I think there are a lot of opportunities to clean up the code, but shouldn&apos;t hold this ticket up.&lt;/p&gt;</comment>
                            <comment id="13642061" author="jensg" created="Thu, 25 Apr 2013 18:40:53 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13643789" author="hudson" created="Sat, 27 Apr 2013 19:54:42 +0000"  >&lt;p&gt;Integrated in Thrift #643 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/643/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/643/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1930&quot; title=&quot;C# generates unsigned byte for Thrift &amp;quot;byte&amp;quot; type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1930&quot;&gt;&lt;del&gt;THRIFT-1930&lt;/del&gt;&lt;/a&gt;: C# generates unsigned byte for Thrift &quot;byte&quot; type (Revision f509df9c969f71d360e7c1394d0d73cb6ab9955c)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
jensg : &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=thrift.git&amp;amp;a=commit&amp;amp;h=f509df9c969f71d360e7c1394d0d73cb6ab9955c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=thrift.git&amp;amp;a=commit&amp;amp;h=f509df9c969f71d360e7c1394d0d73cb6ab9955c&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/csharp/src/Protocol/TProtocol.cs&lt;/li&gt;
	&lt;li&gt;lib/csharp/src/Protocol/TJSONProtocol.cs&lt;/li&gt;
	&lt;li&gt;lib/csharp/src/Protocol/TCompactProtocol.cs&lt;/li&gt;
	&lt;li&gt;lib/csharp/src/Protocol/TBinaryProtocol.cs&lt;/li&gt;
	&lt;li&gt;lib/csharp/src/Thrift.csproj&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_csharp_generator.cc&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12638765">THRIFT-1901</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12644751">THRIFT-1945</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12578772" name="THRIFT-1930_CSharp_generates_unsigned_byte_for_Thrift_byte_type.patch" size="55187" author="jensg" created="Mon, 15 Apr 2013 18:37:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jq5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>