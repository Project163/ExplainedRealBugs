<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:29:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4648] c_glib namespaces incorrect includes</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4648</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When using namespaces for c_glib compiler generates incorrect code for #includes.&lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
first.thrift&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-c&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;namespace&lt;/span&gt; c_glib F
  
&lt;span class=&quot;code-keyword&quot;&gt;struct&lt;/span&gt; first {
        1: i32 test
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and second.thrift&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-c&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;namespace&lt;/span&gt; c_glib S
  
include &lt;span class=&quot;code-quote-red&quot;&gt;&quot;first.thrift&quot;&lt;/span&gt;

&lt;span class=&quot;code-keyword&quot;&gt;struct&lt;/span&gt; second {
        1: first.first second
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you can see, we use namespace F in first.thrift and namespace S in second.thrift.&lt;br/&gt;
The compiler generates correct file names for those thrifts:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ls gen-c_glib/
f_first_types.c  f_first_types.h  s_second_types.c  s_second_types.h
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, when generating s_second_types.h it uses namespace from second.thrift instead of the one defined for first.thrift when generating #include statement.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-c&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;/* base includes */&lt;/span&gt;
&lt;span class=&quot;code-macro&quot;&gt;#include &lt;span class=&quot;code-quote-red&quot;&gt;&amp;lt;glib-object.h&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-macro&quot;&gt;#include &lt;span class=&quot;code-quote-red&quot;&gt;&amp;lt;thrift/c_glib/thrift_struct.h&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-macro&quot;&gt;#include &lt;span class=&quot;code-quote-red&quot;&gt;&amp;lt;thrift/c_glib/protocol/thrift_protocol.h&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;/* other thrift includes */&lt;/span&gt;
&lt;span class=&quot;code-macro&quot;&gt;#include &lt;span class=&quot;code-quote-red&quot;&gt;&quot;s_first_types.h&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It should use #include &quot;f_first_types.h&quot;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Thrift from GIT&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ../build/compiler/cpp/bin/thrift --version
Thrift version 1.0.0-dev
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;OS:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat /etc/lsb-release 
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=18.04
DISTRIB_CODENAME=bionic
DISTRIB_DESCRIPTION=&quot;Ubuntu 18.04.1 LTS&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</environment>
        <key id="13189673">THRIFT-4648</key>
            <summary>c_glib namespaces incorrect includes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simonsouth">Simon South</assignee>
                                    <reporter username="matejkupljen">Matej Kupljen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2018 09:39:20 +0000</created>
                <updated>Thu, 27 Dec 2018 15:25:01 +0000</updated>
                            <resolved>Fri, 12 Oct 2018 11:36:18 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>C glib - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16641155" author="simonsouth" created="Sun, 7 Oct 2018 17:46:42 +0000"  >&lt;p&gt;Looks like there are&#160;multiple issues with&#160;the C (GLib) compiler&apos;s handling of namespaces.&#160;Attempting to build the source code generated from Matej&apos;s IDL files using the latest compiler from git produces this output:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;gen-c_glib/f_first_types.c: In function &#8216;ffirst_set_property&#8217;:
gen-c_glib/f_first_types.c:136:18: warning: implicit declaration of function &#8216;FFIRST&#8217;; did you mean &#8216;F_FIRST&#8217;? [-Wimplicit-function-declaration]
 Ffirst *self = FFIRST (object);
 ^~~~~~
 F_FIRST
gen-c_glib/f_first_types.c:136:18: warning: initialization of &#8216;Ffirst *&#8217; {aka &#8216;struct _Ffirst *&#8217;} from &#8216;int&#8217; makes pointer from integer without a cast [-Wint-conversion]
gen-c_glib/f_first_types.c: In function &#8216;ffirst_get_property&#8217;:
gen-c_glib/f_first_types.c:157:18: warning: initialization of &#8216;Ffirst *&#8217; {aka &#8216;struct _Ffirst *&#8217;} from &#8216;int&#8217; makes pointer from integer without a cast [-Wint-conversion]
 Ffirst *self = FFIRST (object);
 ^~~~~~
gen-c_glib/f_first_types.c: In function &#8216;ffirst_class_init&#8217;:
gen-c_glib/f_first_types.c:195:24: error: &#8216;ffirst_read&#8217; undeclared (first use in this function); did you mean &#8216;f_first_read&#8217;?
 struct_class-&amp;gt;read = ffirst_read;
 ^~~~~~~~~~~
 f_first_read
gen-c_glib/f_first_types.c:195:24: note: each undeclared identifier is reported only once for each function it appears in
gen-c_glib/f_first_types.c:196:25: error: &#8216;ffirst_write&#8217; undeclared (first use in this function); did you mean &#8216;f_first_write&#8217;?
 struct_class-&amp;gt;write = ffirst_write;
 ^~~~~~~~~~~~
 f_first_write
gen-c_glib/f_first_types.c:198:29: error: &#8216;ffirst_finalize&#8217; undeclared (first use in this function); did you mean &#8216;f_first_finalize&#8217;?
 gobject_class-&amp;gt;finalize = ffirst_finalize;
 ^~~~~~~~~~~~~~~
 f_first_finalize
gen-c_glib/f_first_types.c: In function &#8216;f_first_get_type&#8217;:
gen-c_glib/f_first_types.c:226:24: error: &#8216;f_first_class_init&#8217; undeclared (first use in this function); did you mean &#8216;ffirst_class_init&#8217;?
 (GClassInitFunc) f_first_class_init,
 ^~~~~~~~~~~~~~~~~~
 ffirst_class_init
In file included from gen-c_glib/s_second_types.c:10:
gen-c_glib/s_second_types.h:15:10: fatal error: s_first_types.h: No such file or directory
 #include &quot;s_first_types.h&quot;
 ^~~~~~~~~~~~~~~~~
compilation terminated.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;m investigating.&lt;/p&gt;</comment>
                            <comment id="16641217" author="githubbot" created="Sun, 7 Oct 2018 21:25:15 +0000"  >&lt;p&gt;simonsouth opened a new pull request #1609: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;: Use correct namespace in type names&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1609&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   These changes fix the C (Glib) compiler so it uses the correct namespace when generating the name of a type or an included header file:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The namespace of the target type or include is used, instead of the namespace of the IDL file being processed; and&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;An unreliable method of generating a fully-qualified class name, which fails when a type name begins with a lowercase letter, is replaced by code that constructs the class name explicitly using its namespace prefix.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Also fixed is a minor issue whereby `t_c_glib_generator::init_generator()` would output multiple, extraneous comments in a generated file.&lt;/p&gt;

&lt;p&gt;   This resolves &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-4648&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16641218" author="simonsouth" created="Sun, 7 Oct 2018 21:29:55 +0000"  >&lt;p&gt;Thanks for reporting this issue, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=matejkupljen&quot; class=&quot;user-hover&quot; rel=&quot;matejkupljen&quot;&gt;matejkupljen&lt;/a&gt;. I&apos;ve submitted a pull request on GitHub that should fix both it and the other issues shown in the compiler output I posted above.&lt;/p&gt;

&lt;p&gt;If you can, please&#160;test these changes and let us know whether they resolve the issue for you.&lt;/p&gt;</comment>
                            <comment id="16641796" author="matejkupljen" created="Mon, 8 Oct 2018 12:47:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simonsouth&quot; class=&quot;user-hover&quot; rel=&quot;simonsouth&quot;&gt;simonsouth&lt;/a&gt;, I tested your changes and it works for my case. However, since we used namespaces only recently, now I need to modify a lot of code, since our types are now prefixed with the namespace and also all the file names of the generated files are different.&lt;/p&gt;

&lt;p&gt;But like I said, it seems to work O.K. now. Thanks for the BUG fix.&lt;/p&gt;</comment>
                            <comment id="16646545" author="githubbot" created="Thu, 11 Oct 2018 14:56:05 +0000"  >&lt;p&gt;jeking3 commented on issue #1609: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;: Use correct namespace in type names&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1609#issuecomment-428987135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1609#issuecomment-428987135&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   This looks like a breaking change, requiring folks who use namespaces to edit all their handlers and perhaps their build.  Is that true?  If it is, then a release note is necessary.  Certainly something in the `lib/c_glib/README.md` file.  See the `lib/perl/README.md` for a good example of documenting a breaking change.&lt;/p&gt;

&lt;p&gt;   @Jens-G @jfarrell In most release notes, breaking changes are presented first.  For example when we generate the standard dump from Jira, we should be listing all breaking changes first.  To do this, Jira needs an indicator that something is a breaking change.  In fact, I&apos;d like to see us organize the list of release changes A) by component, B) by severity, C) by type (right now we only organize by type).&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16646957" author="githubbot" created="Thu, 11 Oct 2018 19:34:27 +0000"  >&lt;p&gt;simonsouth commented on issue #1609: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;: Use correct namespace in type names&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1609#issuecomment-429089728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1609#issuecomment-429089728&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @jeking3 Thanks for pointing this out. Yes, this is a breaking change. I&apos;ve replaced the commit with one that updates the CHANGES and lib/c_glib/README.md files to indicate this. Please let me know what you think.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16647799" author="githubbot" created="Fri, 12 Oct 2018 11:35:42 +0000"  >&lt;p&gt;jeking3 closed pull request #1609: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;: Use correct namespace in type names&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1609&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/CHANGES b/CHANGES&lt;br/&gt;
index 7025683fd8..9533ad08f3 100644&lt;br/&gt;
&amp;#8212; a/CHANGES&lt;br/&gt;
+++ b/CHANGES&lt;br/&gt;
@@ -5,6 +5,7 @@ Breaking Changes since 0.11.0 &lt;span class=&quot;error&quot;&gt;&amp;#91;for 0.12.0&amp;#93;&lt;/span&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4448&quot; title=&quot;Golang: do something with context.Context&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4448&quot;&gt;&lt;del&gt;THRIFT-4448&lt;/del&gt;&lt;/a&gt; - Support for golang 1.6 and earlier has been dropped.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4474&quot; title=&quot;PHP generator use PSR-4 default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4474&quot;&gt;&lt;del&gt;THRIFT-4474&lt;/del&gt;&lt;/a&gt; - PHP now uses the PSR-4 loader by default instead of class maps.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4532&quot; title=&quot;Avoid updating Thrift compiler generated code if the output has not changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4532&quot;&gt;&lt;del&gt;THRIFT-4532&lt;/del&gt;&lt;/a&gt; - method signatures changed in the compiler&apos;s t_oop_generator.&lt;br/&gt;
+    * &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt; - The C (GLib) compiler&apos;s handling of namespaces has been improved.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt; Thrift 0.11.0&lt;br/&gt;
diff --git a/compiler/cpp/src/thrift/generate/t_c_glib_generator.cc b/compiler/cpp/src/thrift/generate/t_c_glib_generator.cc&lt;br/&gt;
index b1e80421d6..be3bad1612 100644&lt;br/&gt;
&amp;#8212; a/compiler/cpp/src/thrift/generate/t_c_glib_generator.cc&lt;br/&gt;
+++ b/compiler/cpp/src/thrift/generate/t_c_glib_generator.cc&lt;br/&gt;
@@ -250,11 +250,21 @@ void t_c_glib_generator::init_generator() {&lt;/p&gt;

&lt;p&gt;   /* include other thrift includes */&lt;br/&gt;
   const vector&amp;lt;t_program*&amp;gt;&amp;amp; includes = program_-&amp;gt;get_includes();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for (size_t i = 0; i &amp;lt; includes.size(); ++i) {&lt;/li&gt;
	&lt;li&gt;f_types_ &amp;lt;&amp;lt; &quot;/* other thrift includes */&quot; &amp;lt;&amp;lt; endl &amp;lt;&amp;lt; &quot;#include \&quot;&quot; &amp;lt;&amp;lt; this-&amp;gt;nspace_lc&lt;/li&gt;
	&lt;li&gt;&amp;lt;&amp;lt; initial_caps_to_underscores(includes&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;-&amp;gt;get_name()) &amp;lt;&amp;lt; &quot;_types.h\&quot;&quot; &amp;lt;&amp;lt; endl;&lt;br/&gt;
+  if (!includes.empty()) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {+    f_types_ &amp;lt;&amp;lt; &amp;quot;/* other thrift includes */&amp;quot; &amp;lt;&amp;lt; endl;++    for (vector&amp;lt;t_program*&amp;gt;}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;f_types_ &amp;lt;&amp;lt; endl;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   /* include custom headers */&lt;br/&gt;
   const vector&amp;lt;string&amp;gt;&amp;amp; c_includes = program_-&amp;gt;get_c_includes();&lt;br/&gt;
@@ -602,7 +612,8 @@ string t_c_glib_generator::type_name(t_type* ttype, bool in_typedef, bool is_con&lt;br/&gt;
   }&lt;/p&gt;

&lt;p&gt;   // check for a namespace&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;string pname = this-&amp;gt;nspace + ttype-&amp;gt;get_name();&lt;br/&gt;
+  t_program* tprogram = ttype-&amp;gt;get_program();&lt;br/&gt;
+  string pname = (tprogram ? tprogram-&amp;gt;get_namespace(&quot;c_glib&quot;) : &quot;&quot;) + ttype-&amp;gt;get_name();&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   if (is_complex_type(ttype)) {&lt;br/&gt;
     pname += &quot; *&quot;;&lt;br/&gt;
@@ -1831,8 +1842,10 @@ void t_c_glib_generator::generate_service_handler(t_service* tservice) {&lt;br/&gt;
   string service_name_lc = to_lower_case(initial_caps_to_underscores(service_name_));&lt;br/&gt;
   string service_name_uc = to_upper_case(service_name_lc);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;string class_name = this-&amp;gt;nspace + service_name_ + &quot;Handler&quot;;&lt;/li&gt;
	&lt;li&gt;string class_name_lc = to_lower_case(initial_caps_to_underscores(class_name));&lt;br/&gt;
+  string service_handler_name = service_name_ + &quot;Handler&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  string class_name = this-&amp;gt;nspace + service_handler_name;&lt;br/&gt;
+  string class_name_lc = this-&amp;gt;nspace_lc + initial_caps_to_underscores(service_handler_name);&lt;br/&gt;
   string class_name_uc = to_upper_case(class_name_lc);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   string parent_class_name;&lt;br/&gt;
@@ -2051,8 +2064,10 @@ void t_c_glib_generator::generate_service_processor(t_service* tservice) {&lt;br/&gt;
   string service_name_lc = to_lower_case(initial_caps_to_underscores(service_name_));&lt;br/&gt;
   string service_name_uc = to_upper_case(service_name_lc);&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;string class_name = this-&amp;gt;nspace + service_name_ + &quot;Processor&quot;;&lt;/li&gt;
	&lt;li&gt;string class_name_lc = to_lower_case(initial_caps_to_underscores(class_name));&lt;br/&gt;
+  string service_processor_name = service_name_ + &quot;Processor&quot;;&lt;br/&gt;
+&lt;br/&gt;
+  string class_name = this-&amp;gt;nspace + service_processor_name;&lt;br/&gt;
+  string class_name_lc = this-&amp;gt;nspace_lc + initial_caps_to_underscores(service_processor_name);&lt;br/&gt;
   string class_name_uc = to_upper_case(class_name_lc);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   string parent_class_name;&lt;br/&gt;
@@ -2784,7 +2799,7 @@ void t_c_glib_generator::generate_object(t_struct* tstruct) {&lt;br/&gt;
   string name_uc = to_upper_case(name_u);&lt;/p&gt;

&lt;p&gt;   string class_name = this-&amp;gt;nspace + name;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;string class_name_lc = to_lower_case(initial_caps_to_underscores(class_name));&lt;br/&gt;
+  string class_name_lc = this-&amp;gt;nspace_lc + initial_caps_to_underscores(name);&lt;br/&gt;
   string class_name_uc = to_upper_case(class_name_lc);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   string function_name;&lt;br/&gt;
@@ -3124,7 +3139,8 @@ void t_c_glib_generator::generate_object(t_struct* tstruct) {&lt;br/&gt;
                         &amp;lt;&amp;lt; &quot;THRIFT_UNUSED_VAR (object);&quot; &amp;lt;&amp;lt; endl;&lt;/p&gt;

&lt;p&gt;   for (m_iter = members.begin(); m_iter != members.end(); ++m_iter) {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;t_type* t = get_true_type((*m_iter)-&amp;gt;get_type());&lt;br/&gt;
+    t_type* member_type = (*m_iter)-&amp;gt;get_type();&lt;br/&gt;
+    t_type* t = get_true_type(member_type);&lt;br/&gt;
     if (t-&amp;gt;is_base_type()) {&lt;br/&gt;
       string dval = &quot; = &quot;;&lt;br/&gt;
       if (t-&amp;gt;is_enum()) {&lt;br/&gt;
@@ -3139,10 +3155,14 @@ void t_c_glib_generator::generate_object(t_struct* tstruct) 
{
       indent(f_types_impl_) &amp;lt;&amp;lt; &quot;object-&amp;gt;&quot; &amp;lt;&amp;lt; (*m_iter)-&amp;gt;get_name() &amp;lt;&amp;lt; dval &amp;lt;&amp;lt; &quot;;&quot; &amp;lt;&amp;lt; endl;
     }
&lt;p&gt; else if (t-&amp;gt;is_struct()) &lt;/p&gt;
{
       string name = (*m_iter)-&amp;gt;get_name();
-      string type_name_uc
-          = to_upper_case(initial_caps_to_underscores((*m_iter)-&amp;gt;get_type()-&amp;gt;get_name()));
-      indent(f_types_impl_) &amp;lt;&amp;lt; &quot;object-&amp;gt;&quot; &amp;lt;&amp;lt; name &amp;lt;&amp;lt; &quot; = g_object_new (&quot; &amp;lt;&amp;lt; this-&amp;gt;nspace_uc
-                            &amp;lt;&amp;lt; &quot;TYPE_&quot; &amp;lt;&amp;lt; type_name_uc &amp;lt;&amp;lt; &quot;, NULL);&quot; &amp;lt;&amp;lt; endl;
+      t_program* type_program = member_type-&amp;gt;get_program();
+      string type_nspace = type_program ? type_program-&amp;gt;get_namespace(&quot;c_glib&quot;) : &quot;&quot;;
+      string type_nspace_prefix =
+        type_nspace.empty() ? &quot;&quot; : initial_caps_to_underscores(type_nspace) + &quot;_&quot;;
+      string type_name_uc = to_upper_case(initial_caps_to_underscores(member_type-&amp;gt;get_name()));
+      indent(f_types_impl_) &amp;lt;&amp;lt; &quot;object-&amp;gt;&quot; &amp;lt;&amp;lt; name &amp;lt;&amp;lt; &quot; = g_object_new (&quot;
+                            &amp;lt;&amp;lt; to_upper_case(type_nspace_prefix) &amp;lt;&amp;lt; &quot;TYPE_&quot; &amp;lt;&amp;lt; type_name_uc
+                            &amp;lt;&amp;lt; &quot;, NULL);&quot; &amp;lt;&amp;lt; endl;
     }
&lt;p&gt; else if (t-&amp;gt;is_xception()) {&lt;br/&gt;
       string name = (*m_iter)-&amp;gt;get_name();&lt;br/&gt;
       indent(f_types_impl_) &amp;lt;&amp;lt; &quot;object-&amp;gt;&quot; &amp;lt;&amp;lt; name &amp;lt;&amp;lt; &quot; = NULL;&quot; &amp;lt;&amp;lt; endl;&lt;br/&gt;
@@ -3424,7 +3444,12 @@ void t_c_glib_generator::generate_object(t_struct* tstruct) &lt;/p&gt;
{
                       &amp;lt;&amp;lt; &quot;G_PARAM_READWRITE));&quot; &amp;lt;&amp;lt; endl;
         indent_down();
       }
&lt;p&gt; else if (member_type-&amp;gt;is_struct() || member_type-&amp;gt;is_xception()) {&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;string param_type = this-&amp;gt;nspace_uc + &quot;TYPE_&quot;&lt;br/&gt;
+        t_program* type_program = member_type-&amp;gt;get_program();&lt;br/&gt;
+        string type_nspace = type_program ? type_program-&amp;gt;get_namespace(&quot;c_glib&quot;) : &quot;&quot;;&lt;br/&gt;
+        string type_nspace_prefix =&lt;br/&gt;
+          type_nspace.empty() ? &quot;&quot; : initial_caps_to_underscores(type_nspace) + &quot;_&quot;;&lt;br/&gt;
+&lt;br/&gt;
+        string param_type = to_upper_case(type_nspace_prefix) + &quot;TYPE_&quot;&lt;br/&gt;
                             + to_upper_case(initial_caps_to_underscores(member_type-&amp;gt;get_name()));&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         args_indent += string(20, &apos; &apos;);&lt;br/&gt;
diff --git a/lib/c_glib/README.md b/lib/c_glib/README.md&lt;br/&gt;
index fd70d089c1..dd84f3d350 100644&lt;br/&gt;
&amp;#8212; a/lib/c_glib/README.md&lt;br/&gt;
+++ b/lib/c_glib/README.md&lt;br/&gt;
@@ -32,3 +32,18 @@ Dependencies&lt;br/&gt;
 GLib&lt;br/&gt;
 &lt;a href=&quot;http://www.gtk.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.gtk.org/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;+Breaking Changes&lt;br/&gt;
+================&lt;br/&gt;
+&lt;br/&gt;
+0.12.0&lt;br/&gt;
+------&lt;br/&gt;
+&lt;br/&gt;
+The compiler&apos;s handling of namespaces when generating the name of types,&lt;br/&gt;
+functions and header files has been improved. This means code written to use&lt;br/&gt;
+classes generated by previous versions of the compiler may need to be updated to&lt;br/&gt;
+reflect the proper convention for class names, which is&lt;br/&gt;
+&lt;br/&gt;
+- A lowercase, &lt;span class=&quot;error&quot;&gt;&amp;#91;snake-case&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://en.wikipedia.org/wiki/Snake_case&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Snake_case&lt;/a&gt;)&lt;br/&gt;
+  representation of the class&apos; namespace, followed by&lt;br/&gt;
+- An underscore and&lt;br/&gt;
+- A lowercase, snake-case representation of the class&apos; name.&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16647801" author="githubbot" created="Fri, 12 Oct 2018 11:35:59 +0000"  >&lt;p&gt;jeking3 commented on issue #1609: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4648&quot; title=&quot;c_glib namespaces incorrect includes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4648&quot;&gt;&lt;del&gt;THRIFT-4648&lt;/del&gt;&lt;/a&gt;: Use correct namespace in type names&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1609#issuecomment-429296340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1609#issuecomment-429296340&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Build failure was unrelated.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12942536" name="first.thrift" size="50" author="matejkupljen" created="Fri, 5 Oct 2018 09:37:29 +0000"/>
                            <attachment id="12942535" name="second.thrift" size="85" author="matejkupljen" created="Fri, 5 Oct 2018 09:37:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3yvfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>