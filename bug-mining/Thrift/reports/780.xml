<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:09:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2017] Resource Leak in thrift struct under compiler/cpp/src/parse/t_program.h</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2017</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;In file compiler/cpp/src/parse/t_program.h&lt;/p&gt;

&lt;p&gt;class t_program : public t_doc {&lt;br/&gt;
  59  public:&lt;br/&gt;
  60   t_program(std::string path, std::string name) :&lt;br/&gt;
  61     path_(path),&lt;br/&gt;
  62     name_(name),&lt;br/&gt;
  63     out_path_(&quot;./&quot;),&lt;br/&gt;
  64     out_path_is_absolute_(false) &lt;/p&gt;
{
  65     scope_ = new t_scope();
  66   }
&lt;p&gt;  67 &lt;br/&gt;
  68   t_program(std::string path) :&lt;br/&gt;
  69     path_(path),&lt;br/&gt;
  70     out_path_(&quot;./&quot;),&lt;br/&gt;
  71     out_path_is_absolute_(false) &lt;/p&gt;
{
  72     name_ = program_name(path);
  73     scope_ = new t_scope();
  74   }

&lt;p&gt;In Above code at line number 65 and 73 Resource leaks happens as&lt;br/&gt;
1. Allocating memory by calling &quot;new t_scope&quot;. &lt;br/&gt;
2. Assigning: &quot;this-&amp;gt;scope_&quot; = &quot;new t_scope&quot;. &lt;br/&gt;
3. The constructor allocates field &quot;scope_&quot; of &quot;t_program&quot; but there is no destructor in the code.&lt;br/&gt;
destructor should deallocate memroy for t_scope. &lt;br/&gt;
which sometimes causes Resource Leak.&lt;/p&gt;

&lt;p&gt;Possible patch:&lt;br/&gt;
There should be destructor to release the resources allocated dynamically.&lt;br/&gt;
~t_program() {&lt;br/&gt;
 delete scope_; scope_ = NULL; &lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>&lt;p&gt;cpp compiler of thrift 0.9.0 on Linux 2.6.32-220.el6.x86_64&lt;/p&gt;</environment>
        <key id="12652636">THRIFT-2017</key>
            <summary>Resource Leak in thrift struct under compiler/cpp/src/parse/t_program.h</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kuldeepgupta">kuldeep gupta</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 13 Jun 2013 12:45:44 +0000</created>
                <updated>Mon, 19 Aug 2013 00:31:54 +0000</updated>
                            <resolved>Sun, 4 Aug 2013 12:21:09 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>C++ - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13728502" author="kuldeepgupta" created="Sat, 3 Aug 2013 09:58:29 +0000"  >&lt;p&gt;adding Patch to resolve the issue. Please review it&lt;/p&gt;</comment>
                            <comment id="13728865" author="jensg" created="Sun, 4 Aug 2013 12:21:09 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="13728875" author="hudson" created="Sun, 4 Aug 2013 12:45:57 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #834 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/834/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/834/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2017&quot; title=&quot;Resource Leak in thrift struct under compiler/cpp/src/parse/t_program.h&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2017&quot;&gt;&lt;del&gt;THRIFT-2017&lt;/del&gt;&lt;/a&gt; Resource Leak in thrift struct under compiler/cpp/src/parse/t_program.h (jensg: rev 09b97c78de58fea61b5dc90bd56095515bdd4f02)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/parse/t_program.h&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12595742" name="thrift-jira-thrift-2017_resource_leak.patch" size="464" author="kuldeepgupta" created="Sat, 3 Aug 2013 09:58:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lfsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>