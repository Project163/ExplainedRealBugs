<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:04:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-369] sets and maps break equality</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-369</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;I&apos;ve found that two structs that have value-equivalent sets or maps as values for some reason cause struct&apos;s == to fail. This is inconsistent with other languages.&lt;/p&gt;

&lt;p&gt;For example, this struct: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;struct {
  set_byte_map: &amp;lt;Set: { {1=&amp;gt;2} }&amp;gt;,
  map_byte_map: { {1=&amp;gt;1} =&amp;gt; 1 }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;created twice independently will not be ==.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416856">THRIFT-369</key>
            <summary>sets and maps break equality</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ilyam">Ilya Maykov</assignee>
                                    <reporter username="bryanduxbury">Bryan Duxbury</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Mar 2009 17:40:45 +0000</created>
                <updated>Fri, 2 Mar 2012 04:58:01 +0000</updated>
                            <resolved>Wed, 29 Feb 2012 00:40:28 +0000</resolved>
                                                    <fixVersion>0.9</fixVersion>
                                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13046846" author="ilyam" created="Thu, 9 Jun 2011 22:05:04 +0000"  >&lt;p&gt;I just tested this against thrift 0.6.0 and equality tests are working fine. I&apos;ll add the test code to the test suite sometime soon, at which point you can verify and mark as resolved.&lt;/p&gt;</comment>
                            <comment id="13195422" author="jfarrell" created="Sat, 28 Jan 2012 05:04:40 +0000"  >&lt;p&gt;Ilya, any updates on this?&lt;/p&gt;</comment>
                            <comment id="13218750" author="ilyam" created="Wed, 29 Feb 2012 00:25:51 +0000"  >&lt;p&gt;Patch with unit test demonstrating that structs with nested containers do not break equality&lt;/p&gt;</comment>
                            <comment id="13218765" author="ilyam" created="Wed, 29 Feb 2012 00:34:49 +0000"  >&lt;p&gt;Slightly cleaner unit test&lt;/p&gt;</comment>
                            <comment id="13218769" author="ilyam" created="Wed, 29 Feb 2012 00:37:35 +0000"  >&lt;p&gt;Yet more patch cleanup, sorry.&lt;/p&gt;</comment>
                            <comment id="13218771" author="ilyam" created="Wed, 29 Feb 2012 00:40:28 +0000"  >&lt;p&gt;Fixed in revision 1294917&lt;/p&gt;</comment>
                            <comment id="13218819" author="hudson" created="Wed, 29 Feb 2012 01:44:20 +0000"  >&lt;p&gt;Integrated in Thrift #415 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/415/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/415/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-369&quot; title=&quot;sets and maps break equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-369&quot;&gt;&lt;del&gt;THRIFT-369&lt;/del&gt;&lt;/a&gt;: sets and maps break equality&lt;br/&gt;
Client: ruby&lt;br/&gt;
Patch: Ilya Maykov&lt;br/&gt;
Added a unit test demonstrating that equality is not broken for structs with nested containers. (Revision 1294917)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ilyam : &lt;a href=&quot;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1294917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/?view=rev&amp;amp;rev=1294917&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/thrift/trunk/lib/rb/spec/ThriftSpec.thrift&lt;/li&gt;
	&lt;li&gt;/thrift/trunk/lib/rb/spec/struct_nested_containers_spec.rb&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516481" name="THRIFT-369.patch" size="7648" author="ilyam" created="Wed, 29 Feb 2012 00:37:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i083n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>45189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>