<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:14:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2628] erlang: struct member name conflicts due to lowercased names</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2628</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;the erlang backend generates records to represent structs. instead of the unique sequential id they use the struct field name as the record keys. records in erlang do not support repeated keys so generated erlang modules do not compile&lt;/p&gt;

&lt;p&gt;the most obvious fix is to refuse to generate code from structs with repeated keys but this means the erlang backend is not capable of handling all valid structs&lt;/p&gt;

&lt;p&gt;the easiest fix is to switch structs to use the unique sequential ids as the keys of the record but this breaks backwards compatibility and probably necessitates generating helper functions to retrieve fields by name&lt;/p&gt;

&lt;p&gt;also possible is switching to an erlang data structure that supports repeated keys but this would also require breaking backwards compatibility&lt;/p&gt;</description>
                <environment></environment>
        <key id="12727250">THRIFT-2628</key>
            <summary>erlang: struct member name conflicts due to lowercased names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alisdairsullivan">alisdair sullivan</assignee>
                                    <reporter username="alisdairsullivan">alisdair sullivan</reporter>
                        <labels>
                            <label>erlang</label>
                    </labels>
                <created>Tue, 15 Jul 2014 05:11:28 +0000</created>
                <updated>Wed, 5 Nov 2014 04:48:19 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 08:07:23 +0000</resolved>
                                                    <fixVersion>0.9.2</fixVersion>
                                    <component>Erlang - Compiler</component>
                    <component>Erlang - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                                                            <comments>
                            <comment id="14063919" author="djnym" created="Wed, 16 Jul 2014 18:58:42 +0000"  >&lt;p&gt;The description for this ticket is confusing because you say &apos;repeated keys&apos;, and I immediately thought &apos;those shouldn&apos;t be allowed&apos; and tried&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;struct foo {
1: string bar,
2: string bar
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which when compiled with master gave&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR:/Users/molinaro/projects/opensource/thrift-env/foo.thrift:4] (last token was &apos;}&apos;)
&quot;2: bar&quot; - field identifier/name has already been used
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I then noticed that what is actually the problem is the lowercasing of record fields causing a conflict.  So an actual failing case is something like&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;struct foo {
1: string bar,
2: string Bar
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which could be fixed by providing a generator option for erlang, called &apos;mixed_case&apos; which just adds single quotes around all record keys and skip lowercasing anything, because while the current record definition for the second &apos;foo&apos; struct above is currently this&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-record(foo2, {bar :: string() | binary(),
               bar :: string() | binary()}).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which does not compile, you could generate&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-record(foo2, {&apos;bar&apos; :: string() | binary(),
               &apos;Bar&apos; :: string() | binary()}).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which would compile fine.  By introducing a generator option, you could preserve current behavior for current invocations of &apos;thrift -gen erl&apos;, but get the new form with &apos;thrift -gen erl:mixed_case&apos;.&lt;/p&gt;</comment>
                            <comment id="14063952" author="jensg" created="Wed, 16 Jul 2014 19:17:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alisdair&quot; class=&quot;user-hover&quot; rel=&quot;alisdair&quot;&gt;alisdair&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;FYI, a lot of the test cases in this &lt;tt&gt;NameConflictTest.thrift&lt;/tt&gt; file are a bit edgy, by intention. We had (have?) similar conflicts in other languages, for similar reasons. Of course, that&apos;s ot to say that these issues do not deserve to be fixed - they do.&lt;/p&gt;</comment>
                            <comment id="14066104" author="alisdairsullivan" created="Fri, 18 Jul 2014 06:16:17 +0000"  >&lt;p&gt;i missed that the thrift definitions did not have repeated names and that the problem was specifically the erlang representation (or rather the normalization as atoms)&lt;/p&gt;

&lt;p&gt;what exactly is allowed as a thrift field name? ideally, &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;struct foo {
1: string bar,
2: string Bar
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;would compile to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-record(foo, {bar :: string() | binary(),
              &lt;span class=&quot;code-quote&quot;&gt;&apos;Bar&apos;&lt;/span&gt; :: string() | binary()}).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-record(foo, {bar :: string() | binary(),
              &amp;lt;&amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;&amp;gt;&amp;gt; :: string() | binary()}).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but not all thrift field names may be representable by either of these schemes and normalization/conversion may introduce further conflicts&lt;/p&gt;

&lt;p&gt;also note this would probably have to be gated behind a generator option as anthony suggests to preserve backwards compatibility&lt;/p&gt;</comment>
                            <comment id="14066591" author="djnym" created="Fri, 18 Jul 2014 17:40:24 +0000"  >&lt;p&gt;I believe that my second example&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-record(foo2, {&apos;bar&apos; :: string() | binary(),
               &apos;Bar&apos; :: string() | binary()}).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where all fields are quoted atoms will work for all valid characters.   Your example using a field name of &amp;lt;&amp;lt;&quot;bar&quot;&amp;gt;&amp;gt; will not work as record fields have to be atoms.  I actually worked up a patch to the compiler which does what I described before.  In order to keep things consistent it just quotes all atoms, then has an option to allow for mixed case (so generated code will look different for the default cause but have the same behavior as it currently does, but you can add an option which in addition allows for mixed case names).  I just haven&apos;t had a chance to double check that I got all the bits right, and need to tie it into the makefile so that it build&apos;s with the different options.  So hopefully I can get to that in the next few days.&lt;/p&gt;</comment>
                            <comment id="14072962" author="githubbot" created="Thu, 24 Jul 2014 07:58:50 +0000"  >&lt;p&gt;GitHub user talentdeficit opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/164&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; erlang: struct member name conflicts due to lowercased&lt;/p&gt;

&lt;p&gt;    names&lt;/p&gt;

&lt;p&gt;    client: erlang&lt;br/&gt;
    patch: talentdeficit (alisdair sullivan)&lt;/p&gt;

&lt;p&gt;    preserve case in generated field names (via erlang &apos;atom&apos; form)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/talentdeficit/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/talentdeficit/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/164.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/164.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #164&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a908ee80940e9f3cd7ab09999a17b658d5300efb&lt;br/&gt;
Author: alisdair sullivan &amp;lt;alisdairsullivan@yahoo.ca&amp;gt;&lt;br/&gt;
Date:   2014-07-23T06:40:44Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; erlang: struct member name conflicts due to lowercased&lt;br/&gt;
    names&lt;/p&gt;

&lt;p&gt;    client: erlang&lt;br/&gt;
    patch: talentdeficit (alisdair sullivan)&lt;/p&gt;

&lt;p&gt;    preserve case in generated field names (via erlang &apos;atom&apos; form)&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14072971" author="alisdairsullivan" created="Thu, 24 Jul 2014 08:09:59 +0000"  >&lt;p&gt;this patch preserves case in struct and exception field names and adds a test suite to check regressions in generated code&lt;/p&gt;

&lt;p&gt;this does break backwards compatibility in some cases (where field names were defined in .thrift files with capitals and generated in erlang records with lowercase names) but as far as i can tell the previous behavior (of modifying names) was undocumented and is contrary to expectation&lt;/p&gt;

&lt;p&gt;note that the test suite is descriptive not prescriptive and contains a number of possible bugs that are outside the scope of this patch. they&apos;ll be addressed seperately&lt;/p&gt;</comment>
                            <comment id="14073746" author="roger.meier" created="Thu, 24 Jul 2014 22:16:24 +0000"  >&lt;p&gt;thanks!&lt;/p&gt;</comment>
                            <comment id="14073772" author="hudson" created="Thu, 24 Jul 2014 22:39:25 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #1230 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1230/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1230/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; erlang: struct member name conflicts due to lowercased names (roger: rev fb6ed7ead165cc494bda7d59691a33809281ef3a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;lib/erl/test/nameConflictTest_test.erl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14088715" author="githubbot" created="Thu, 7 Aug 2014 02:40:25 +0000"  >&lt;p&gt;Github user talentdeficit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/164&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14091983" author="djnym" created="Sun, 10 Aug 2014 03:02:03 +0000"  >&lt;p&gt;Breaking backwards compatibility in this way is unacceptable.  I have tons of production erlang code which would have to be changed if this remains as is.  Why didn&apos;t this happen the way I suggested with an option for mixed_case.  I think I might have mostly made it through that change.  I&apos;ll dig around and see what I have, but breaking backwards compatibility is really bad.&lt;/p&gt;</comment>
                            <comment id="14145812" author="jfarrell" created="Wed, 24 Sep 2014 03:07:48 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=djnym&quot; class=&quot;user-hover&quot; rel=&quot;djnym&quot;&gt;djnym&lt;/a&gt;, we should not break backwards compatibility as much as possibly. I spoke with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alisdair&quot; class=&quot;user-hover&quot; rel=&quot;alisdair&quot;&gt;alisdair&lt;/a&gt; and he is working on a patch with feature flags for this. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alisdair&quot; class=&quot;user-hover&quot; rel=&quot;alisdair&quot;&gt;alisdair&lt;/a&gt;, appreciate the help&lt;/p&gt;</comment>
                            <comment id="14146063" author="githubbot" created="Wed, 24 Sep 2014 08:35:09 +0000"  >&lt;p&gt;GitHub user talentdeficit opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/225&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; (with generator option to preserve old naming scheme)&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/talentdeficit/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/talentdeficit/thrift&lt;/a&gt; thrift-2628-fixed&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/225.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/225.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #225&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7edf4926ee478130585486f9de9e63d6de7c224d&lt;br/&gt;
Author: alisdair sullivan &amp;lt;alisdairsullivan@yahoo.ca&amp;gt;&lt;br/&gt;
Date:   2014-09-02T23:28:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2689&quot; title=&quot;struct names that differ only in capitalization of first character generate broken erlang code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2689&quot;&gt;&lt;del&gt;THRIFT-2689&lt;/del&gt;&lt;/a&gt;: struct names that differ only in capitalization of first&lt;br/&gt;
    character generate broken erlang code&lt;/p&gt;

&lt;p&gt;    alter generation so that accurate names are retained in generated code&lt;/p&gt;

&lt;p&gt;commit 64fb8151fc97f5fd84e5df78ffd3c96b4ffe83f5&lt;br/&gt;
Author: alisdair sullivan &amp;lt;alisdairsullivan@yahoo.ca&amp;gt;&lt;br/&gt;
Date:   2014-09-24T06:04:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;/2689&lt;br/&gt;
    client: erlang&lt;br/&gt;
    patch: talentdeficit (alisdair sullivan)&lt;/p&gt;

&lt;p&gt;    generates idiomatic erlang names for structs, constants, module names&lt;br/&gt;
    and records&lt;/p&gt;

&lt;p&gt;    adds the &apos;legacynames&apos; generator option to preserve pre-0.9.2 naming&lt;br/&gt;
    conventions&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14146065" author="alisdairsullivan" created="Wed, 24 Sep 2014 08:39:41 +0000"  >&lt;p&gt;i&apos;ve added a generator option (&apos;legacynames&apos;, suggestions for something more descriptive are welcome) that preserves the erlang compiler naming conventions from prior to my patch for thrift-2628 being merged&lt;/p&gt;

&lt;p&gt;this patch also incorporates a fix for thrift-2689 that would also required the &apos;legacynames&apos; option&lt;/p&gt;</comment>
                            <comment id="14152225" author="roger.meier" created="Mon, 29 Sep 2014 20:32:49 +0000"  >&lt;p&gt;legacynames is ok, could you also add this to the THRIFT_REGISTER_GENERATOR macro within compiler/cpp/src/generate/t_erl_generator.cc&lt;/p&gt;
</comment>
                            <comment id="14152721" author="githubbot" created="Tue, 30 Sep 2014 02:18:48 +0000"  >&lt;p&gt;Github user talentdeficit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/225&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14152724" author="githubbot" created="Tue, 30 Sep 2014 02:27:48 +0000"  >&lt;p&gt;GitHub user talentdeficit opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/228&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/228&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;: struct member name conflicts due to lowercased names (erlang)&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/talentdeficit/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/talentdeficit/thrift&lt;/a&gt; thrift-2628&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/228.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/228.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #228&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ab0c4bd34816b3262d8bc96e5e22e915ab8fd19f&lt;br/&gt;
Author: alisdair sullivan &amp;lt;alisdairsullivan@yahoo.ca&amp;gt;&lt;br/&gt;
Date:   2014-09-02T23:28:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2689&quot; title=&quot;struct names that differ only in capitalization of first character generate broken erlang code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2689&quot;&gt;&lt;del&gt;THRIFT-2689&lt;/del&gt;&lt;/a&gt;: struct names that differ only in capitalization of first&lt;br/&gt;
    character generate broken erlang code&lt;/p&gt;

&lt;p&gt;    alter generation so that accurate names are retained in generated code&lt;/p&gt;

&lt;p&gt;commit fd7a870ff6c6e18ad5e2e200a447b164976d2a8f&lt;br/&gt;
Author: alisdair sullivan &amp;lt;alisdairsullivan@yahoo.ca&amp;gt;&lt;br/&gt;
Date:   2014-09-24T06:04:38Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;/2689&lt;/p&gt;

&lt;p&gt;    client: erlang&lt;br/&gt;
    patch: talentdeficit (alisdair sullivan)&lt;/p&gt;

&lt;p&gt;    generates idiomatic erlang names for structs, constants, module names&lt;br/&gt;
    and records&lt;/p&gt;

&lt;p&gt;    adds the &apos;legacynames&apos; generator option to preserve pre-0.9.2 naming&lt;br/&gt;
    conventions&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14152725" author="alisdairsullivan" created="Tue, 30 Sep 2014 02:28:23 +0000"  >&lt;p&gt;i&apos;ve rebased this on current master and added to the THRIFT_REGISTER_GENERATOR macro as requested&lt;/p&gt;</comment>
                            <comment id="14156182" author="hudson" created="Thu, 2 Oct 2014 07:36:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-precommit #4 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/4/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;/2689 (alisdairsullivan: rev 3c853db9b22f239f01ad23d20dbd4a099c9463ad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/erl/Makefile.am&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_thrift_1151.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;test/erl/src/name_conflict_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/nameConflictTest_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test.app.src&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_membuffer.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_client.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_server.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/legacy_names_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_disklog.erl&lt;/li&gt;
	&lt;li&gt;test/erl/LegacyNames.thrift&lt;/li&gt;
	&lt;li&gt;contrib/Vagrantfile&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156202" author="jensg" created="Thu, 2 Oct 2014 08:07:23 +0000"  >&lt;p&gt;Committed, many thanks!&lt;/p&gt;</comment>
                            <comment id="14156203" author="githubbot" created="Thu, 2 Oct 2014 08:07:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/228&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/228&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14156501" author="hudson" created="Thu, 2 Oct 2014 12:55:16 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-precommit #6 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-precommit/6/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-precommit/6/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt;/2689 (alisdairsullivan: rev 3c853db9b22f239f01ad23d20dbd4a099c9463ad)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;contrib/Vagrantfile&lt;/li&gt;
	&lt;li&gt;test/erl/src/name_conflict_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_client.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/nameConflictTest_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_disklog.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;test/erl/src/legacy_names_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/LegacyNames.thrift&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_membuffer.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_server.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;test/erl/Makefile.am&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test.app.src&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_thrift_1151.erl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156787" author="hudson" created="Thu, 2 Oct 2014 17:17:58 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1287 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1287/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; struct member name conflicts due to lowercased names (jensg: rev 6d15c3090f7bd0e8ab754e98098910985718777f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;test/erl/src/nameConflictTest_test.erl&lt;/li&gt;
	&lt;li&gt;contrib/Vagrantfile&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test.app.src&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/Makefile.am&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_thrift_1151.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_server.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;test/erl/src/name_conflict_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/legacy_names_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_client.erl&lt;/li&gt;
	&lt;li&gt;test/erl/LegacyNames.thrift&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_disklog.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_membuffer.erl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156852" author="hudson" created="Thu, 2 Oct 2014 17:45:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift-Test #33 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift-Test/33/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift-Test/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; struct member name conflicts due to lowercased names (jensg: rev 6d15c3090f7bd0e8ab754e98098910985718777f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;test/erl/src/legacy_names_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_membuffer.erl&lt;/li&gt;
	&lt;li&gt;test/erl/Makefile.am&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_server.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_client.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/nameConflictTest_test.erl&lt;/li&gt;
	&lt;li&gt;contrib/Vagrantfile&lt;/li&gt;
	&lt;li&gt;test/erl/src/name_conflict_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/LegacyNames.thrift&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test.app.src&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_thrift_1151.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test_test.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_disklog.erl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14162568" author="djnym" created="Tue, 7 Oct 2014 21:27:48 +0000"  >&lt;p&gt;So it looks like the feature will be required for anyone who might have been coding against the old form.  That means that there should be a big warning in the README of the next release telling anyone who currently uses erlang to change their Makefile&apos;s or whatever they are using to build to include the legacynames feature.  My original suggestion of using the feature &apos;mixed_case&apos; to use the new form would have prevented this, but I&apos;m fine with having the featureless generation be the newest as long as it&apos;s well documented in release notes.&lt;/p&gt;</comment>
                            <comment id="14197485" author="hudson" created="Wed, 5 Nov 2014 04:48:19 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1331 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1331/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1331/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; erlang: struct member name conflicts due to lowercased names (roger: rev fb6ed7ead165cc494bda7d59691a33809281ef3a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;lib/erl/test/nameConflictTest_test.erl&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2628&quot; title=&quot;erlang: struct member name conflicts due to lowercased names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2628&quot;&gt;&lt;del&gt;THRIFT-2628&lt;/del&gt;&lt;/a&gt; struct member name conflicts due to lowercased names (jensg: rev 6d15c3090f7bd0e8ab754e98098910985718777f)&lt;/li&gt;
	&lt;li&gt;test/erl/src/legacy_names_test.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_thrift_1151.erl&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_disklog.erl&lt;/li&gt;
	&lt;li&gt;test/erl/LegacyNames.thrift&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_client.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/src/name_conflict_test.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_generator.h&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_membuffer.erl&lt;/li&gt;
	&lt;li&gt;compiler/cpp/src/generate/t_erl_generator.cc&lt;/li&gt;
	&lt;li&gt;test/erl/src/nameConflictTest_test.erl&lt;/li&gt;
	&lt;li&gt;test/erl/Makefile.am&lt;/li&gt;
	&lt;li&gt;test/erl/src/thrift_test.app.src&lt;/li&gt;
	&lt;li&gt;contrib/Vagrantfile&lt;/li&gt;
	&lt;li&gt;lib/erl/test/test_server.erl&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12746553">THRIFT-2774</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>405356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xrbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>405383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>