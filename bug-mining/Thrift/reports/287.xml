<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:57:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-851] php extension fails to compile on centos 5.x</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-851</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;At some point the includes for endian.h and byte_order.h were changed from&lt;/p&gt;

&lt;p&gt;#include &amp;lt;endian.h&amp;gt;&lt;br/&gt;
#include &amp;lt;byteswap.h&amp;gt;&lt;/p&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;p&gt;#include &amp;lt;machine/endian.h&amp;gt;&lt;br/&gt;
#include &amp;lt;machine/byte_order.h&amp;gt;&lt;/p&gt;

&lt;p&gt;Unfortunately the latter files only exist on bsd and bsd derived systems like Mac OSX.&lt;/p&gt;

&lt;p&gt;I fixed it by using some ifdef&apos;s and using the old includes on linux.&lt;/p&gt;

&lt;p&gt;Patch is attached&lt;/p&gt;</description>
                <environment></environment>
        <key id="12471604">THRIFT-851</key>
            <summary>php extension fails to compile on centos 5.x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tlipcon">Todd Lipcon</assignee>
                                    <reporter username="djnym">Anthony Molinaro</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Aug 2010 07:03:57 +0000</created>
                <updated>Wed, 1 Sep 2010 19:01:05 +0000</updated>
                            <resolved>Tue, 17 Aug 2010 17:45:18 +0000</resolved>
                                    <version>0.4</version>
                                    <fixVersion>0.5</fixVersion>
                                    <component>PHP - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12898721" author="tlipcon" created="Sun, 15 Aug 2010 18:14:56 +0000"  >&lt;p&gt;Rather than doing the ifdef, can we just include sys/param.h? It seems like this exists on both OSX and Linux and includes the correct endianness file. Also will need to add this header to configure.ac in the AC_CHECK_HEADER section.&lt;/p&gt;

&lt;p&gt;byte_order.h doesn&apos;t seem to be necessary, since we already define our own byteswap macro, right?&lt;/p&gt;</comment>
                            <comment id="12898724" author="tlipcon" created="Sun, 15 Aug 2010 18:22:46 +0000"  >&lt;p&gt;Maybe something like this? (I&apos;m on a laptop without a proper build environment at the moment, so haven&apos;t verified that this works on either platform)&lt;/p&gt;</comment>
                            <comment id="12898799" author="djnym" created="Mon, 16 Aug 2010 05:54:42 +0000"  >&lt;p&gt;Works for me on centos.&lt;/p&gt;</comment>
                            <comment id="12899066" author="djnym" created="Mon, 16 Aug 2010 20:05:13 +0000"  >&lt;p&gt;sys/param.h also seems to work fine on OSX Snow Leopard&lt;/p&gt;</comment>
                            <comment id="12899490" author="bryanduxbury" created="Tue, 17 Aug 2010 17:45:18 +0000"  >&lt;p&gt;OK, I committed Todd&apos;s patch. &lt;/p&gt;</comment>
                            <comment id="12905087" author="engberg" created="Wed, 1 Sep 2010 16:48:33 +0000"  >&lt;p&gt;This broke the marshaling of i64 data on Windows when compiling with Visual Studio.  I.e. i64 marshals correctly via TBinaryProtocol::readI64() using the Thrift 0.4.0 tag, but marshals incorrectly with the current Thrift trunk.&lt;br/&gt;
Here&apos;s the only delta (in TProtocol.h):&lt;/p&gt;

&lt;p&gt;-#ifdef HAVE_ENDIAN_H&lt;br/&gt;
-#include &amp;lt;endian.h&amp;gt;&lt;br/&gt;
+#ifdef HAVE_SYS_PARAM_H_&lt;br/&gt;
+#include &amp;lt;sys/param.h&amp;gt;&lt;br/&gt;
 #endif&lt;/p&gt;

&lt;p&gt;Since &apos;endian.h&apos; was removed from the header, the conditional macros that check for endian-ness don&apos;t appear to do the right thing on Windows.&lt;/p&gt;</comment>
                            <comment id="12905161" author="tlipcon" created="Wed, 1 Sep 2010 19:01:04 +0000"  >&lt;p&gt;Is there no sys/param.h on windows? Or is it somehow not getting the HAVE_SYS_PARAM_H flag set? (I don&apos;t know what the autoconf integration does on the visual studio side)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452081" name="php-ext-include.patch" size="465" author="djnym" created="Sat, 14 Aug 2010 07:04:28 +0000"/>
                            <attachment id="12452130" name="thrift-851.txt" size="1789" author="tlipcon" created="Sun, 15 Aug 2010 18:22:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16dzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>