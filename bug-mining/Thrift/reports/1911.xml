<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:29:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-4617] Avoid generating conflicting struct names in Rust code</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-4617</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;If a thrift definition file contains multiple services, with functions having the same name, the generated code is not valid. There are conflicting definitions of &lt;tt&gt;*Args&lt;/tt&gt; and &lt;tt&gt;*Result&lt;/tt&gt; structs.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;service backend {
  i32 send(
    1: i32 arg
  );
}

service other_backend {
  string send(
    1: i32 arg
  )
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Will generate the following code in the same file (I only pasted the interesting bits):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;struct SendResult {
  result_value: Option&amp;lt;i32&amp;gt;,
}
// ...
struct SendResult {
  result_value: Option&amp;lt;String&amp;gt;,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And rustc would complain with errors like:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;error[E0428]: the name `SendResult` is defined multiple times
   --&amp;gt; src/test.rs:496:1
    |
234 | struct SendResult {
    | ----------------- previous definition of the type `SendResult` here
...
496 | struct SendResult {
    | ^^^^^^^^^^^^^^^^^ `SendResult` redefined here
    |
    = note: `SendResult` must be defined only once in the type namespace of this module
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;Another (very similar) issue occurs if a user-defined struct happens to be called (keeping the same example as before) &lt;tt&gt;SendResult&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;struct SendResult {
    1: i32 resultCode,
    2: optional string errorCause,
}

service backend {
  SendResult send(
    1: i32 arg
  );
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Will generate the following code in the same file (I only pasted the interesting bits)::&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;pub struct SendResult {
  pub result_code: Option&amp;lt;i32&amp;gt;,
  pub error_cause: Option&amp;lt;String&amp;gt;,
}
// ...
struct SendResult {
  result_value: Option&amp;lt;SendResult&amp;gt;,
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Again, conflicting definitions of structs and rustc would complain.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The approach taken by the Go generator (I haven&apos;t looked at other languages too much, some other generators probably do the same) for generating internal structs related to a service call is to &lt;a href=&quot;https://github.com/apache/thrift/blob/master/compiler/cpp/src/thrift/generate/t_go_generator.cc#L502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;prepend the service name&lt;/a&gt; to each of the structs.&lt;br/&gt;
 Using the same mechanism would solve both the issues cited above.&lt;/p&gt;

&lt;p&gt;I will give it a try and open a PR, but am also definitely open to any feedback on the idea &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13178328">THRIFT-4617</key>
            <summary>Avoid generating conflicting struct names in Rust code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="allengeorge">Allen George</assignee>
                                    <reporter username="flavr">Flavien Raynaud</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Aug 2018 17:15:49 +0000</created>
                <updated>Thu, 27 Dec 2018 15:24:52 +0000</updated>
                            <resolved>Wed, 29 Aug 2018 03:55:51 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Rust - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16576719" author="githubbot" created="Fri, 10 Aug 2018 18:52:55 +0000"  >&lt;p&gt;flavray opened a new pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Client: rs&lt;/p&gt;

&lt;p&gt;   If a thrift definition file contains multiple services, with functions&lt;br/&gt;
   having the same name, there would be conflicting *Args and *Result&lt;br/&gt;
   structs generated by the rust generator.&lt;/p&gt;

&lt;p&gt;   This commit adds prefixing of `*Args` and `*Result` structs with&lt;br/&gt;
   the service name, to resolve any conflict.&lt;/p&gt;

&lt;p&gt;   e.g:&lt;br/&gt;
   ```thrift&lt;br/&gt;
   service backend &lt;/p&gt;
{
     i32 send();
   }
&lt;p&gt;   ```&lt;/p&gt;

&lt;p&gt;   `SendArgs` -&amp;gt; `BackendSendArgs`&lt;br/&gt;
   `SendResult` -&amp;gt; `BackendSendResult`&lt;/p&gt;

&lt;p&gt;   This change is technically non-backwards compatible (if any code decided to call their own structs `&amp;lt;ServiceName&amp;gt;&amp;lt;FunctionName&amp;gt;&lt;/p&gt;
{Args,Result}
&lt;p&gt;`, names would clash. However it seems quite unlikely.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16576892" author="githubbot" created="Fri, 10 Aug 2018 21:44:37 +0000"  >&lt;p&gt;dcelasun commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-412214638&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-412214638&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thanks for the PR! LGTM, but someone familiar with Rust might also want to take a look. Travis had some timeouts, I&apos;ve restarted it.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16577105" author="githubbot" created="Sat, 11 Aug 2018 09:05:00 +0000"  >&lt;p&gt;flavray commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-412262255&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-412262255&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Great, thanks!&lt;/p&gt;

&lt;p&gt;   I&apos;ll just ping @allengeorge who (I think) wrote most of the Rust integration &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16585064" author="githubbot" created="Sun, 19 Aug 2018 08:27:09 +0000"  >&lt;p&gt;flavray commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-414112262&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-414112262&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Or maybe @jfarrell, who also owns the &lt;span class=&quot;error&quot;&gt;&amp;#91;thrift crate&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://crates.io/crates/thrift)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://crates.io/crates/thrift)?&lt;/a&gt; &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16585147" author="githubbot" created="Sun, 19 Aug 2018 13:51:02 +0000"  >&lt;p&gt;allengeorge commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-414129230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-414129230&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Ah - sorry; was on an extended break! I&#8217;ll take a look at it today&lt;/p&gt;

&lt;p&gt;   Get Outlook for iOS&amp;lt;&lt;a href=&quot;https://aka.ms/o0ukef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://aka.ms/o0ukef&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   ________________________________&lt;br/&gt;
   From: Flavien Raynaud &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
   Sent: Sunday, August 19, 2018 4:27 AM&lt;br/&gt;
   To: apache/thrift&lt;br/&gt;
   Cc: Allen George; Mention&lt;br/&gt;
   Subject: Re: &lt;span class=&quot;error&quot;&gt;&amp;#91;apache/thrift&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name (#1578)&lt;/p&gt;


&lt;p&gt;   Or maybe @jfarrell&amp;lt;&lt;a href=&quot;https://github.com/jfarrell&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jfarrell&lt;/a&gt;&amp;gt;, who also owns the thrift crate&amp;lt;&lt;a href=&quot;https://crates.io/crates/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://crates.io/crates/thrift&lt;/a&gt;&amp;gt;? &#128578;&lt;/p&gt;

&lt;p&gt;   &#8212;&lt;br/&gt;
   You are receiving this because you were mentioned.&lt;br/&gt;
   Reply to this email directly, view it on GitHub&amp;lt;&lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-414112262&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-414112262&lt;/a&gt;&amp;gt;, or mute the thread&amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/AAEO9HJSwGudXgzKmeTX75ybcmbf9tJaks5uSSFngaJpZM4V4qJp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/AAEO9HJSwGudXgzKmeTX75ybcmbf9tJaks5uSSFngaJpZM4V4qJp&lt;/a&gt;&amp;gt;.&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16585850" author="githubbot" created="Mon, 20 Aug 2018 12:19:46 +0000"  >&lt;p&gt;flavray commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-414297389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-414297389&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Ah great, thanks @allengeorge! &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16593344" author="githubbot" created="Mon, 27 Aug 2018 08:50:46 +0000"  >&lt;p&gt;flavray commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-416159975&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-416159975&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Hi @allengeorge , any chance you had enough bandwidth to have a look at this change? &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16594422" author="githubbot" created="Tue, 28 Aug 2018 02:30:26 +0000"  >&lt;p&gt;allengeorge commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-416430470&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-416430470&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Sorry Flavien - not yet :/ I&#8217;ll make it my top priority tomorrow.&lt;/p&gt;

&lt;p&gt;   I&#8217;m really sorry; I try to be on top of Rust Thrift changes, but this has been a bad month. Again, I really apologize for the delay and &lt;b&gt;will&lt;/b&gt; get it done tomorrow.&lt;/p&gt;

&lt;p&gt;   Thank you so much for making the PR!&lt;/p&gt;

&lt;p&gt;   Get Outlook for iOS&amp;lt;&lt;a href=&quot;https://aka.ms/o0ukef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://aka.ms/o0ukef&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   ________________________________&lt;br/&gt;
   From: Flavien Raynaud &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
   Sent: Monday, August 27, 2018 4:51 AM&lt;br/&gt;
   To: apache/thrift&lt;br/&gt;
   Cc: Allen George; Mention&lt;br/&gt;
   Subject: Re: &lt;span class=&quot;error&quot;&gt;&amp;#91;apache/thrift&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name (#1578)&lt;/p&gt;


&lt;p&gt;   Hi @allengeorge&amp;lt;&lt;a href=&quot;https://github.com/allengeorge&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/allengeorge&lt;/a&gt;&amp;gt; , any chance you had enough bandwidth to have a look at this change? &#128578;&lt;/p&gt;

&lt;p&gt;   &#8212;&lt;br/&gt;
   You are receiving this because you were mentioned.&lt;br/&gt;
   Reply to this email directly, view it on GitHub&amp;lt;&lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-416159975&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-416159975&lt;/a&gt;&amp;gt;, or mute the thread&amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/AAEO9HY0GtoMDyPzdJHHh9JNe_KV70zpks5uU7L-gaJpZM4V4qJp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/AAEO9HY0GtoMDyPzdJHHh9JNe_KV70zpks5uU7L-gaJpZM4V4qJp&lt;/a&gt;&amp;gt;.&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595172" author="githubbot" created="Tue, 28 Aug 2018 15:43:30 +0000"  >&lt;p&gt;allengeorge edited a comment on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-414129230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-414129230&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Ah - sorry; was on an extended break! I&#8217;ll take a look at it today&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595175" author="githubbot" created="Tue, 28 Aug 2018 15:44:11 +0000"  >&lt;p&gt;allengeorge commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213368870&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213368870&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -350,6 +350,7 @@ class t_rs_generator : public t_generator {&lt;br/&gt;
   void render_sync_handler_failed_default_exception_branch(t_function *tfunc);&lt;br/&gt;
   void render_sync_handler_send_exception_response(t_function *tfunc, const string &amp;amp;err_var);&lt;br/&gt;
   void render_service_call_structs(t_service* tservice);&lt;br/&gt;
+  void render_args_struct(t_function* tfunc);&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Perhaps rename to `render_service_args_struct`?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595176" author="githubbot" created="Tue, 28 Aug 2018 15:45:20 +0000"  >&lt;p&gt;allengeorge commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213369277&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213369277&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -350,6 +350,7 @@ class t_rs_generator : public t_generator {&lt;br/&gt;
   void render_sync_handler_failed_default_exception_branch(t_function *tfunc);&lt;br/&gt;
   void render_sync_handler_send_exception_response(t_function *tfunc, const string &amp;amp;err_var);&lt;br/&gt;
   void render_service_call_structs(t_service* tservice);&lt;br/&gt;
+  void render_args_struct(t_function* tfunc);&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Or `render_service_call_args_struct`?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595191" author="githubbot" created="Tue, 28 Aug 2018 15:54:13 +0000"  >&lt;p&gt;allengeorge commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213372501&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213372501&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -3212,8 +3221,12 @@ string t_rs_generator::service_call_handler_function_name(t_function* tfunc) &lt;/p&gt;
{
   return &quot;handle_&quot; + rust_snake_case(tfunc-&amp;gt;get_name());
 }

&lt;p&gt;+string t_rs_generator::service_call_args_struct_name(t_function* tfunc) {&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Interesting that the definitions of these two functions are different. For example, why does `service_call_result_struct_name` include the `Result` suffix but the `service_call_args_struct_name` not?&lt;/p&gt;

&lt;p&gt;   I...assume &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it&apos;s because the arglist has an `Args` suffix already? If so, could you please add a comment stating this?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595193" author="githubbot" created="Tue, 28 Aug 2018 15:55:01 +0000"  >&lt;p&gt;allengeorge commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213372794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213372794&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2668,7 +2677,7 @@ void t_rs_generator::render_sync_process_function(t_function *tfunc, const strin&lt;br/&gt;
     &amp;lt;&amp;lt; &quot;let &quot;&lt;br/&gt;
     &amp;lt;&amp;lt; (has_non_void_args(tfunc) ? &quot;args&quot; : &quot;_&quot;)&lt;br/&gt;
     &amp;lt;&amp;lt; &quot; = &quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;&amp;lt; rust_struct_name(tfunc-&amp;gt;get_arglist())&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   Good change. Now both the `service_call_&lt;/p&gt;
{args,result}
&lt;p&gt;_struct_name` functions take the same parameter &#128077; &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595195" author="githubbot" created="Tue, 28 Aug 2018 15:55:56 +0000"  >&lt;p&gt;allengeorge commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213373134&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213373134&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2411,6 +2415,11 @@ string t_rs_generator::struct_to_invocation(t_struct* tstruct, const string&amp;amp; fie&lt;br/&gt;
   return args.str();&lt;br/&gt;
 }&lt;/p&gt;

&lt;p&gt;+void t_rs_generator::render_args_struct(t_function* tfunc) {&lt;br/&gt;
+    string args_struct_name = service_call_args_struct_name(tfunc);&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   I believe you can simply do:&lt;/p&gt;

&lt;p&gt;   `string args_struct_name(service_call_args_struct_name(tfunc);`&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595305" author="githubbot" created="Tue, 28 Aug 2018 17:07:43 +0000"  >&lt;p&gt;flavray commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213397087&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213397087&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -3212,8 +3221,12 @@ string t_rs_generator::service_call_handler_function_name(t_function* tfunc) &lt;/p&gt;
{
   return &quot;handle_&quot; + rust_snake_case(tfunc-&amp;gt;get_name());
 }

&lt;p&gt;+string t_rs_generator::service_call_args_struct_name(t_function* tfunc) {&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   You&apos;re correct, the `Args` suffix is already present (coming directly from the thrift compiler structs). Good point, I&apos;ll add a comment to make it clear &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595313" author="githubbot" created="Tue, 28 Aug 2018 17:09:05 +0000"  >&lt;p&gt;flavray commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213397463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213397463&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -350,6 +350,7 @@ class t_rs_generator : public t_generator {&lt;br/&gt;
   void render_sync_handler_failed_default_exception_branch(t_function *tfunc);&lt;br/&gt;
   void render_sync_handler_send_exception_response(t_function *tfunc, const string &amp;amp;err_var);&lt;br/&gt;
   void render_service_call_structs(t_service* tservice);&lt;br/&gt;
+  void render_args_struct(t_function* tfunc);&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   `render_service_call_args_struct` sounds good to me! I&apos;ll also change `render_result_value_struct` into `render_service_call_result_value_struct` to stay consistent &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595424" author="githubbot" created="Tue, 28 Aug 2018 18:45:00 +0000"  >&lt;p&gt;flavray commented on a change in pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#discussion_r213429769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#discussion_r213429769&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -2411,6 +2415,11 @@ string t_rs_generator::struct_to_invocation(t_struct* tstruct, const string&amp;amp; fie&lt;br/&gt;
   return args.str();&lt;br/&gt;
 }&lt;/p&gt;

&lt;p&gt;+void t_rs_generator::render_args_struct(t_function* tfunc) {&lt;br/&gt;
+    string args_struct_name = service_call_args_struct_name(tfunc);&lt;/p&gt;

&lt;p&gt; Review comment:&lt;br/&gt;
   Ah thanks, good point! C++ is not my mother tongue &#128516;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595834" author="githubbot" created="Wed, 29 Aug 2018 01:56:01 +0000"  >&lt;p&gt;jeking3 commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-416797139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-416797139&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Cross tests work based on the passing CI builds, however @allengeorge has not changed his rejection to an approval yet.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16595897" author="githubbot" created="Wed, 29 Aug 2018 03:55:18 +0000"  >&lt;p&gt;jeking3 closed pull request #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/compiler/cpp/src/thrift/generate/t_rs_generator.cc b/compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
index dce4288ad9..dc11fd3ee2 100644&lt;br/&gt;
&amp;#8212; a/compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
+++ b/compiler/cpp/src/thrift/generate/t_rs_generator.cc&lt;br/&gt;
@@ -350,7 +350,8 @@ class t_rs_generator : public t_generator {&lt;br/&gt;
   void render_sync_handler_failed_default_exception_branch(t_function *tfunc);&lt;br/&gt;
   void render_sync_handler_send_exception_response(t_function *tfunc, const string &amp;amp;err_var);&lt;br/&gt;
   void render_service_call_structs(t_service* tservice);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;void render_result_value_struct(t_function* tfunc);&lt;br/&gt;
+  void render_service_call_args_struct(t_function* tfunc);&lt;br/&gt;
+  void render_service_call_result_value_struct(t_function* tfunc);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   string handler_successful_return_struct(t_function* tfunc);&lt;/p&gt;

&lt;p&gt;@@ -473,6 +474,9 @@ class t_rs_generator : public t_generator {&lt;br/&gt;
   // Return the name of the function that users will have to implement to handle incoming service calls.&lt;br/&gt;
   string service_call_handler_function_name(t_function* tfunc);&lt;/p&gt;

&lt;p&gt;+  // Return the name of the struct used to pack the arguments for the thrift service call.&lt;br/&gt;
+  string service_call_args_struct_name(t_function* tfunc);&lt;br/&gt;
+&lt;br/&gt;
   // Return the name of the struct used to pack the return value&lt;br/&gt;
   // and user-defined exceptions for the thrift service call.&lt;br/&gt;
   string service_call_result_struct_name(t_function* tfunc);&lt;br/&gt;
@@ -2050,9 +2054,9 @@ void t_rs_generator::render_service_call_structs(t_service* tservice) {&lt;br/&gt;
   // contains the exceptions as well&lt;br/&gt;
   for(func_iter = functions.begin(); func_iter != functions.end(); ++func_iter) {&lt;br/&gt;
     t_function* tfunc = (*func_iter);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;render_struct(rust_struct_name(tfunc-&amp;gt;get_arglist()), tfunc-&amp;gt;get_arglist(), t_rs_generator::T_ARGS);&lt;br/&gt;
+    render_service_call_args_struct(tfunc);&lt;br/&gt;
     if (!tfunc-&amp;gt;is_oneway()) 
{
-      render_result_value_struct(tfunc);
+      render_service_call_result_value_struct(tfunc);
     }
&lt;p&gt;   }&lt;br/&gt;
 }&lt;br/&gt;
@@ -2297,7 +2301,7 @@ void t_rs_generator::render_sync_send(t_function* tfunc) {&lt;br/&gt;
   f_gen_&lt;br/&gt;
     &amp;lt;&amp;lt; indent()&lt;br/&gt;
     &amp;lt;&amp;lt; &quot;let call_args = &quot;&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;&amp;lt; rust_struct_name(tfunc-&amp;gt;get_arglist())&lt;br/&gt;
+    &amp;lt;&amp;lt; service_call_args_struct_name(tfunc)&lt;br/&gt;
     &amp;lt;&amp;lt; &quot; 
{ &quot;
     &amp;lt;&amp;lt; struct_fields
     &amp;lt;&amp;lt; &quot; }
&lt;p&gt;;&quot;&lt;br/&gt;
@@ -2411,7 +2415,12 @@ string t_rs_generator::struct_to_invocation(t_struct* tstruct, const string&amp;amp; fie&lt;br/&gt;
   return args.str();&lt;br/&gt;
 }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;-void t_rs_generator::render_result_value_struct(t_function* tfunc) {&lt;br/&gt;
+void t_rs_generator::render_service_call_args_struct(t_function* tfunc) &lt;/p&gt;
{
+    string args_struct_name(service_call_args_struct_name(tfunc));
+    render_struct(args_struct_name, tfunc-&amp;gt;get_arglist(), t_rs_generator::T_ARGS);
+}
&lt;p&gt;+&lt;br/&gt;
+void t_rs_generator::render_service_call_result_value_struct(t_function* tfunc) {&lt;br/&gt;
   string result_struct_name = service_call_result_struct_name(tfunc);&lt;br/&gt;
   t_struct result(program_, result_struct_name);&lt;/p&gt;

&lt;p&gt;@@ -2668,7 +2677,7 @@ void t_rs_generator::render_sync_process_function(t_function *tfunc, const strin&lt;br/&gt;
     &amp;lt;&amp;lt; &quot;let &quot;&lt;br/&gt;
     &amp;lt;&amp;lt; (has_non_void_args(tfunc) ? &quot;args&quot; : &quot;_&quot;)&lt;br/&gt;
     &amp;lt;&amp;lt; &quot; = &quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;&amp;lt; rust_struct_name(tfunc-&amp;gt;get_arglist())&lt;br/&gt;
+    &amp;lt;&amp;lt; service_call_args_struct_name(tfunc)&lt;br/&gt;
     &amp;lt;&amp;lt; &quot;::read_from_in_protocol(i_prot)?;&quot;&lt;br/&gt;
     &amp;lt;&amp;lt; endl;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;@@ -3212,8 +3221,13 @@ string t_rs_generator::service_call_handler_function_name(t_function* tfunc) &lt;/p&gt;
{
   return &quot;handle_&quot; + rust_snake_case(tfunc-&amp;gt;get_name());
 }

&lt;p&gt;+string t_rs_generator::service_call_args_struct_name(t_function* tfunc) &lt;/p&gt;
{
+  // Thrift automatically appends `Args` to the arglist name. No need to do it here.
+  return rust_camel_case(service_name_) + rust_camel_case(tfunc-&amp;gt;get_arglist()-&amp;gt;get_name());
+}
&lt;p&gt;+&lt;br/&gt;
 string t_rs_generator::service_call_result_struct_name(t_function* tfunc) &lt;/p&gt;
{
-  return rust_camel_case(tfunc-&amp;gt;get_name()) + RESULT_STRUCT_SUFFIX;
+  return rust_camel_case(service_name_) + rust_camel_case(tfunc-&amp;gt;get_name()) + RESULT_STRUCT_SUFFIX;
 }

&lt;p&gt; string t_rs_generator::rust_sync_client_marker_trait_name(t_service* tservice) {&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16596126" author="githubbot" created="Wed, 29 Aug 2018 09:33:17 +0000"  >&lt;p&gt;flavray commented on issue #1578: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-4617&quot; title=&quot;Avoid generating conflicting struct names in Rust code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-4617&quot;&gt;&lt;del&gt;THRIFT-4617&lt;/del&gt;&lt;/a&gt;: Prepend service-specific struct names with service name&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/thrift/pull/1578#issuecomment-416889437&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/1578#issuecomment-416889437&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Awesome! Thanks for reviewing &#128578;&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3wxvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>