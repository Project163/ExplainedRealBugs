<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:25:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3946] Java 1.5 compatibility broken for binary fields (java5 option)</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3946</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;For binary fields, even with the java5 option (--gen java:java5), generated code uses &quot;Arrays.copyOf&quot;, which is only available in Java 1.6+.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13012480">THRIFT-3946</key>
            <summary>Java 1.5 compatibility broken for binary fields (java5 option)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phil_hamer">Philip Hamer</assignee>
                                    <reporter username="phil_hamer">Philip Hamer</reporter>
                        <labels>
                            <label>java5</label>
                    </labels>
                <created>Fri, 14 Oct 2016 21:50:32 +0000</created>
                <updated>Wed, 19 Oct 2016 13:46:43 +0000</updated>
                            <resolved>Mon, 17 Oct 2016 21:30:13 +0000</resolved>
                                    <version>0.9.3</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Java - Compiler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15576617" author="phil_hamer" created="Fri, 14 Oct 2016 21:53:51 +0000"  >&lt;p&gt;uses clone() instead of Arrays.copyOf&lt;/p&gt;</comment>
                            <comment id="15577692" author="jensg" created="Sat, 15 Oct 2016 08:51:03 +0000"  >&lt;p&gt;Two questions:&lt;/p&gt;

&lt;p&gt;1. Which one is more efficient? Or is there virtually no difference in performance at all?&lt;/p&gt;

&lt;p&gt;2. Would it make sense to use &lt;tt&gt;clone()&lt;/tt&gt; only when the &lt;tt&gt;java5&lt;/tt&gt; option is specified, and use &lt;tt&gt;copyOf()&lt;/tt&gt; otherwise?&lt;/p&gt;</comment>
                            <comment id="15577704" author="jensg" created="Sat, 15 Oct 2016 08:57:34 +0000"  >&lt;p&gt;The patch file is UCS-2 encoded, which git refuses to handle. &lt;br/&gt;
Manually converting to UTF-8 does not help either, it does not apply to master:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ git apply ../thrift-3946-java5-binary-arrays-copyof.patch
error: patch failed: compiler/cpp/src/thrift/generate/t_java_generator.cc:447
error: compiler/cpp/src/thrift/generate/t_java_generator.cc: patch does not apply
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;



</comment>
                            <comment id="15580422" author="phil_hamer" created="Sun, 16 Oct 2016 19:30:18 +0000"  >&lt;p&gt;I believe there is very little difference in performance: &lt;a href=&quot;http://stackoverflow.com/questions/12157300/clone-or-arrays-copyof&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/12157300/clone-or-arrays-copyof&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think one could make the argument to use clone() only if the java5 option is specified, because copyOf() may be viewed as the more modern approach and any performance improvements or other enhancements may be more likely to be applied to this API in the future.&lt;/p&gt;</comment>
                            <comment id="15580438" author="phil_hamer" created="Sun, 16 Oct 2016 19:43:58 +0000"  >&lt;p&gt;Sorry, please try the updated attachment&lt;/p&gt;</comment>
                            <comment id="15583540" author="jensg" created="Mon, 17 Oct 2016 21:30:14 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12833647" name="thrift-3946-java5-binary-arrays-copyof.patch" size="2520" author="phil_hamer" created="Sun, 16 Oct 2016 19:43:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34x3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>