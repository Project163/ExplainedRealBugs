<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:17:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2674] JavaScript: declare Accept: and Content-Type: in request</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2674</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When a JS client communicates with a backend supporting several encodings, knowing which protocol to use is a bit kludgy.  This patch tries to fix that by always setting the Accept: and Content-Type: request headers to &quot;application/json&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12735874">THRIFT-2674</key>
            <summary>JavaScript: declare Accept: and Content-Type: in request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrique">Henrique Mendonca</assignee>
                                    <reporter username="stigsb">Stig Bakken</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Aug 2014 19:18:46 +0000</created>
                <updated>Tue, 21 Jul 2015 02:21:26 +0000</updated>
                            <resolved>Fri, 1 May 2015 04:11:11 +0000</resolved>
                                                    <fixVersion>0.9.3</fixVersion>
                                    <component>JavaScript - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14105823" author="codesf" created="Thu, 21 Aug 2014 19:27:30 +0000"  >&lt;p&gt;Hey Stig,&lt;/p&gt;

&lt;p&gt;There&apos;s work going on to add TBinaryProtocol and TCompact protocol to the browser side (they are already present in Node). Give the three possible encodings and the presence of &quot;application/thrift&quot; in other languages what do you think about this:&lt;/p&gt;

&lt;p&gt;TJSONProtocol:   application/thrift+json&lt;br/&gt;
TBinaryProtocol:  application/thrift&lt;br/&gt;
TCompactProtocol:  application/thrift.compact&lt;/p&gt;

&lt;p&gt;or some such?&lt;/p&gt;

&lt;p&gt;-Randy&lt;/p&gt;</comment>
                            <comment id="14105841" author="stigsb" created="Thu, 21 Aug 2014 19:39:09 +0000"  >&lt;p&gt;I think that&apos;s a good approach, the most important thing is that it&apos;s consistent across platforms, and that it&apos;s RFC-compatible when it comes to using Accept: and Content-Type: headers.&lt;/p&gt;

&lt;p&gt;If &quot;application/thrift&quot; is the default binary encoding, I think appending either &quot;+json&quot; or &quot;+compact&quot; would be a nice pattern.&lt;/p&gt;</comment>
                            <comment id="14105961" author="roger.meier" created="Thu, 21 Aug 2014 21:04:22 +0000"  >&lt;p&gt;What we have today is this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Type: application/x-thrift
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;used by cocoa, cpp, d, delphi, go, java, perl, php,py and rb.&lt;/p&gt;

&lt;p&gt;the x- prefix is defined here: &lt;a href=&quot;http://tools.ietf.org/html/rfc6838#section-3.4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tools.ietf.org/html/rfc6838#section-3.4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Yes, RFC compliant would be a good option.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Type: application/vnd.apache.thrift;
Content-Type: application/vnd.apache.thrift+json; charset=utf-8
Content-Type: application/vnd.apache.thrift+compact;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I will register these application types during the next weekend.&lt;br/&gt;
-roger&lt;/p&gt;</comment>
                            <comment id="14106088" author="codesf" created="Thu, 21 Aug 2014 22:42:09 +0000"  >&lt;p&gt;Would be fantastic to get these in the IANA registry. One comment, per the IANA Structured Syntax Suffix Registry&lt;br/&gt;
(&lt;a href=&quot;http://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml&lt;/a&gt;) and RFC 6838 section 4.2.8 it seems that +json is reasonable (in fact very valuable) but +compact probably is not. Compact protocol format is not really general enough.&lt;/p&gt;

&lt;p&gt;So perhaps:&lt;/p&gt;

&lt;p&gt;TBinaryProtocol:   &quot;application/vnd.apache.thrift&quot;&lt;br/&gt;
TCompactProtocol:   &quot;application/vnd.apache.thrift.compact&quot;&lt;br/&gt;
TJSONProtocol:   &quot;application/vnd.apache.thrift+json&quot;&lt;/p&gt;


</comment>
                            <comment id="14108135" author="roger.meier" created="Sat, 23 Aug 2014 20:16:31 +0000"  >&lt;p&gt;I think we should explicitly mention the protocol:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Type: application/vnd.apache.thrift.binary;             # binary
Content-Type: application/vnd.apache.thrift.json; charset=utf-8 # 8-bit text
Content-Type: application/vnd.apache.thrift.compact;            # binary
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and in the future as soon as we have THeader from fb merged, I see this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Content-Type: application/vnd.apache.thrift.header;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;any concerns?&lt;/p&gt;</comment>
                            <comment id="14108173" author="codesf" created="Sat, 23 Aug 2014 22:05:15 +0000"  >&lt;p&gt;I like the consistency. As proposed we lose the generic +json suffix, but I think it is a fair trade.&lt;/p&gt;</comment>
                            <comment id="14109062" author="stigsb" created="Mon, 25 Aug 2014 12:28:50 +0000"  >&lt;p&gt;Your most recent suggestion looks very nice and clean Roger, I agree about the tradeoff being reasonable.&lt;br/&gt;
Have updated &lt;a href=&quot;https://github.com/apache/thrift/pull/201&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/201&lt;/a&gt; accordingly.&lt;/p&gt;</comment>
                            <comment id="14109686" author="roger.meier" created="Mon, 25 Aug 2014 20:43:30 +0000"  >&lt;p&gt;I&apos;ve registered the following records @ IANA: &lt;a href=&quot;http://www.iana.org/form/media-types&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.iana.org/form/media-types&lt;/a&gt;&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Subtype name&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Encoding considerations&lt;/b&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;vnd.apache.thrift.binary&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;binary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;vnd.apache.thrift.json&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8 bit text&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;apache.thrift.compact&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;binary&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Security considerations&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Thrift does not enforce a security mechanism. Users define security features at application or transport level.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Interoperability considerations&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Today only x-thrift is used and we have different protocols.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Published specification&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;http://thrift.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://thrift.apache.org&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Applications which use this media type&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Users do specify their own data structures and services via an interface description language (IDL) to communicate fast across languages and platforms.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Restrictions on usage&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;no restrictions, software is Apache License: &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;b&gt;Indended Usage&lt;/b&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Efficient communication across languages and platforms.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I will keep you up-to-date on this!&lt;br/&gt;
;-r&lt;/p&gt;</comment>
                            <comment id="14113963" author="stigsb" created="Thu, 28 Aug 2014 16:58:09 +0000"  >&lt;p&gt;I assume you meant &quot;vnd.apache.thrift.compact&quot; in the latter submitted subtype?&lt;/p&gt;

&lt;p&gt;It seems that my github pull request is not tracked in this Jira, is there anything else I need to do to make that happen?&lt;/p&gt;</comment>
                            <comment id="14114918" author="stigsb" created="Fri, 29 Aug 2014 06:27:16 +0000"  >&lt;p&gt;Attaching patch since pull request doesn&apos;t seem to get connected..&lt;/p&gt;</comment>
                            <comment id="14117635" author="roger.meier" created="Mon, 1 Sep 2014 18:47:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stigsb&quot; class=&quot;user-hover&quot; rel=&quot;stigsb&quot;&gt;stigsb&lt;/a&gt; your patch look good.&lt;/p&gt;

&lt;p&gt;I wait until acknowledgment of iana is here. I had to answer some additional questions last week. I commit as soon as we have the official entry.&lt;/p&gt;

&lt;p&gt;best!&lt;br/&gt;
roger&lt;/p&gt;</comment>
                            <comment id="14155348" author="jensg" created="Wed, 1 Oct 2014 19:33:53 +0000"  >&lt;blockquote&gt;
&lt;p&gt;It seems that my github pull request is not tracked in this Jira, is there anything else I need to do to make that happen?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ideally one mentions the THRIFT-number in the pull request. Doing that later in a comment works too, but we lose the initial pull request message and have to look up that in the mailing list archives, if needed for some reason. So the recommended order is JIRA first, pull request second, mentioning the number from step 1&lt;/p&gt;</comment>
                            <comment id="14156441" author="githubbot" created="Thu, 2 Oct 2014 11:36:14 +0000"  >&lt;p&gt;Github user hcorg commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/201#issuecomment-57615427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/201#issuecomment-57615427&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-2674&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14156444" author="stigsb" created="Thu, 2 Oct 2014 11:45:00 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jensg&quot; class=&quot;user-hover&quot; rel=&quot;jensg&quot;&gt;jensg&lt;/a&gt;!  This is not clear from &lt;a href=&quot;http://thrift.apache.org/docs/HowToContribute&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://thrift.apache.org/docs/HowToContribute&lt;/a&gt;, maybe it would be good to add a sentence about mentioning the Jira ticket in the pull request description?&lt;/p&gt;</comment>
                            <comment id="14156469" author="hcorg" created="Thu, 2 Oct 2014 12:05:26 +0000"  >&lt;p&gt;HowToContribute will be updated when this &lt;a href=&quot;https://github.com/hcorg/thrift/commit/cdc7f1b46bd4af99d01487e23e1d462a42bed1c6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/hcorg/thrift/commit/cdc7f1b46bd4af99d01487e23e1d462a42bed1c6&lt;/a&gt; is merged &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14157111" author="jensg" created="Thu, 2 Oct 2014 20:20:19 +0000"  >&lt;p&gt;Randy brought this up on the mailing list today so I had a short look. &lt;a href=&quot;http://en.wikipedia.org/wiki/Internet_media_type#Suffix&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;WP&lt;/a&gt; references various RFCs for the suffix theme, such as the &lt;a href=&quot;http://tools.ietf.org/html/rfc6839#section-3.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;+json suffix&lt;/a&gt; in RFC6839. However, only &lt;tt&gt;+json&lt;/tt&gt; is a defined suffix, neither binary nor compact nor anything else we support today would fall into that category. &lt;/p&gt;

&lt;p&gt;$0,02&lt;/p&gt;</comment>
                            <comment id="14157140" author="codesf" created="Thu, 2 Oct 2014 20:40:31 +0000"  >&lt;p&gt;Hey Jens, &lt;/p&gt;

&lt;p&gt;Thanks for the cross post. You are right, there are not too many registered suffixes (8 in total). &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.iana.org/assignments/media-type-structured-suffix/media-type-structured-suffix.xhtml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The +xml and +json suffixes are widely used and supported though. A lot of +json and +xml here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.iana.org/assignments/media-types/media-types.xhtml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.iana.org/assignments/media-types/media-types.xhtml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Java Libs like Moxy and Jackson will automatically convert POJOs to/from media types with +xml or +json suffixes, other language REST frameworks have similar support. It is not a lot of work to make them do it for .json, its just not free.&lt;/p&gt;

&lt;p&gt;-Randy&lt;/p&gt;
</comment>
                            <comment id="14157259" author="jensg" created="Thu, 2 Oct 2014 21:54:32 +0000"  >&lt;p&gt;Not sure if I brought my point across properly: I would happily support the suffix, if asked. They exist for a reason. Even more, if such a simple action like picking the right MIME type suffix enables us to gain advantages like those you mentioned above. On the other hand I am not so much involved in that matter that I have developed strong opinions about it, so just $0,02&lt;/p&gt;
</comment>
                            <comment id="14157273" author="roger.meier" created="Thu, 2 Oct 2014 22:04:31 +0000"  >&lt;p&gt;based on the previous discussions, I made this &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2756&quot; title=&quot;register Media Type @ IANA&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2756&quot;&gt;&lt;del&gt;THRIFT-2756&lt;/del&gt;&lt;/a&gt; to discuss and track the status of Media Type @ IANA registration.&lt;/p&gt;</comment>
                            <comment id="14516942" author="githubbot" created="Tue, 28 Apr 2015 12:21:42 +0000"  >&lt;p&gt;GitHub user stigsb opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/468&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    JavaScript: set Accept: and Content-Type: headers in request&lt;/p&gt;

&lt;p&gt;    This is an updated patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; title=&quot;JavaScript: declare Accept: and Content-Type: in request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2674&quot;&gt;&lt;del&gt;THRIFT-2674&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/stigsb/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stigsb/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; title=&quot;JavaScript: declare Accept: and Content-Type: in request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2674&quot;&gt;&lt;del&gt;THRIFT-2674&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/468.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/468.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #468&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7a32f328f4d03a908e3d6fedd20d8ccfb940a9cb&lt;br/&gt;
Author: Stig Bakken &amp;lt;stig@zedge.net&amp;gt;&lt;br/&gt;
Date:   2014-08-21T19:18:08Z&lt;/p&gt;

&lt;p&gt;    JavaScript: set Accept: and Content-Type: headers in request&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14520677" author="henrique" created="Thu, 30 Apr 2015 01:29:48 +0000"  >&lt;p&gt;Hi guys,&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2756&quot; title=&quot;register Media Type @ IANA&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2756&quot;&gt;&lt;del&gt;THRIFT-2756&lt;/del&gt;&lt;/a&gt; is now resolved, but from my understanding the content type has to be chosen by the TProtocol. Either by setting it directly on the Transport or sending a parameter on every request. (Both a bit of a work around the architecture. How do the other libraries solve this?)&lt;br/&gt;
My first question here is actually if we should commit this as it is for now, as JQ already fixes json, or wait for a more complete solution?&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Henrique&lt;/p&gt;</comment>
                            <comment id="14521557" author="roger.meier" created="Thu, 30 Apr 2015 14:22:37 +0000"  >&lt;p&gt;Henrique, I think you can commit this.&lt;/p&gt;</comment>
                            <comment id="14522742" author="githubbot" created="Fri, 1 May 2015 04:10:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/468&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14522765" author="hudson" created="Fri, 1 May 2015 04:47:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1530 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1530/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1530/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; title=&quot;JavaScript: declare Accept: and Content-Type: in request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2674&quot;&gt;&lt;del&gt;THRIFT-2674&lt;/del&gt;&lt;/a&gt; JavaScript: declare Accept: and Content-Type: in request (henrique: rev 1e723d931e92652e4ccb1385709258759ae5bc54)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/js/src/thrift.js&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14526553" author="hudson" created="Mon, 4 May 2015 11:46:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1533 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1533/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1533/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; title=&quot;JavaScript: declare Accept: and Content-Type: in request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2674&quot;&gt;&lt;del&gt;THRIFT-2674&lt;/del&gt;&lt;/a&gt; JavaScript: declare Accept: and Content-Type: in request&quot; (henrique: rev 55c3abcb63f948f18a6db25c51c8a887373ed369)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/js/src/thrift.js&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14526569" author="hudson" created="Mon, 4 May 2015 12:16:52 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1534 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1534/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1534/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2674&quot; title=&quot;JavaScript: declare Accept: and Content-Type: in request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2674&quot;&gt;&lt;del&gt;THRIFT-2674&lt;/del&gt;&lt;/a&gt; JavaScript: declare Accept: and Content-Type: in request (henrique: rev eec445ef8ac88d94049bd7ad1a3d203f34c6f5c8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/js/src/thrift.js&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12745413">THRIFT-2756</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12665270" name="js-type.diff" size="1111" author="stigsb" created="Fri, 29 Aug 2014 06:27:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z767:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>