<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:54:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-365] HTML compiler infinite loop</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-365</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;When I attempt to run the HTML documentation generator on the following .thrift file, the generator writes 48 lines of legitimate HTML and then begins to spin writing nothing but newline characters to the generated HTML file. It will continue to do this until the process is killed.&lt;/p&gt;

&lt;p&gt;Contents of .thrift file:&lt;/p&gt;

&lt;p&gt;php_namespace api&lt;br/&gt;
namespace as3 com.amiestreet.api&lt;/p&gt;

&lt;p&gt;enum AmieApiErrorCode {&lt;br/&gt;
  API_EC_UNKNOWN = 0&lt;br/&gt;
  API_EC_METHOD = 1&lt;br/&gt;
  API_EC_BADFINGERPRINT = 2&lt;br/&gt;
  API_EC_ARTIST_ALREADY_EXISTS = 3&lt;br/&gt;
  API_EC_USER_NOT_FOUND = 4&lt;br/&gt;
  API_EC_SONG_NOT_FOUND = 5&lt;br/&gt;
  API_EC_ALBUM_NOT_FOUND = 6&lt;br/&gt;
  API_EC_ARTIST_NOT_FOUND = 7&lt;br/&gt;
  API_EC_PLAYLIST_NOT_FOUND = 8&lt;br/&gt;
  API_EC_ALBUM_ALREADY_EXISTS = 9&lt;br/&gt;
  API_EC_SONG_ALREADY_EXISTS = 10&lt;br/&gt;
  API_EC_LOGIN_REQUIRED = 11&lt;br/&gt;
  API_EC_REC_NOT_FOUND = 12&lt;br/&gt;
  API_EC_SEARCH_ERROR = 13&lt;br/&gt;
  API_EC_SEARCH_FIND_MISMATCH = 14&lt;br/&gt;
  API_EC_SEARCH_FIND_ARTIST_REQUIRED = 15&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;typedef string errorMessage&lt;br/&gt;
typedef string userFingerprint&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The id, name or dasherized name of an artist.&lt;/li&gt;
	&lt;li&gt;Examples:&lt;/li&gt;
	&lt;li&gt;- The Walkmen&lt;/li&gt;
	&lt;li&gt;- the-walkmen&lt;/li&gt;
	&lt;li&gt;- 6KNMnd6NoOUx&lt;br/&gt;
 */&lt;br/&gt;
typedef string artistIdentifierRef&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Ubuntu Linux 2.6.24-22-generic&lt;/p&gt;</environment>
        <key id="12416779">THRIFT-365</key>
            <summary>HTML compiler infinite loop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="atm">Aaron Myers</assignee>
                                    <reporter username="atm">Aaron Myers</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2009 19:16:08 +0000</created>
                <updated>Tue, 1 Nov 2011 02:51:39 +0000</updated>
                            <resolved>Tue, 17 Mar 2009 21:57:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12681452" author="atm" created="Thu, 12 Mar 2009 19:17:04 +0000"  >&lt;p&gt;The thrift file which causes the issue.&lt;/p&gt;</comment>
                            <comment id="12681484" author="atm" created="Thu, 12 Mar 2009 20:46:48 +0000"  >&lt;p&gt;I&apos;ve figured out the cause, and it should only affect 64-bit systems. Patch below.&lt;/p&gt;

&lt;p&gt;diff --git a/compiler/cpp/src/generate/t_html_generator.cc b/compiler/cpp/src/generate/t_html_generator.cc&lt;br/&gt;
index 6e0fdba..6b8bcc1 100644&lt;br/&gt;
&amp;#8212; a/compiler/cpp/src/generate/t_html_generator.cc&lt;br/&gt;
+++ b/compiler/cpp/src/generate/t_html_generator.cc&lt;br/&gt;
@@ -317,7 +317,7 @@ void t_html_generator::generate_css() {&lt;br/&gt;
 void t_html_generator::print_doc(t_doc* tdoc) {&lt;br/&gt;
   if (tdoc-&amp;gt;has_doc()) {&lt;br/&gt;
     string doc = tdoc-&amp;gt;get_doc();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;unsigned int index;&lt;br/&gt;
+    size_t index;&lt;br/&gt;
     while ((index = doc.find_first_of(&quot;\r\n&quot;)) != string::npos) {&lt;br/&gt;
       if (index == 0) {&lt;br/&gt;
        f_out_ &amp;lt;&amp;lt; &quot;&amp;lt;p/&amp;gt;&quot; &amp;lt;&amp;lt; endl;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12681485" author="atm" created="Thu, 12 Mar 2009 20:47:53 +0000"  >&lt;p&gt;A patch which resolves the issue.&lt;/p&gt;</comment>
                            <comment id="12682797" author="atm" created="Tue, 17 Mar 2009 20:58:11 +0000"  >&lt;p&gt;Would some one with commit access mind committing this patch? Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="12682806" author="ahfeel" created="Tue, 17 Mar 2009 21:14:07 +0000"  >&lt;p&gt;+1, trivial patch (reviewed the whole file for potential other occurences, it&apos;s ok)&lt;/p&gt;</comment>
                            <comment id="12682822" author="bryanduxbury" created="Tue, 17 Mar 2009 21:57:03 +0000"  >&lt;p&gt;Committed. Thanks for the patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12402082" name="amie_api.thrift" size="776" author="atm" created="Thu, 12 Mar 2009 19:17:04 +0000"/>
                            <attachment id="12402085" name="html-patch.diff" size="575" author="atm" created="Thu, 12 Mar 2009 20:47:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16c6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>