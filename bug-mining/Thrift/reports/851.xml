<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:10:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-2145] Rack and Thin are not just development dependencies</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-2145</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;The rack and thin gems should be specified as full dependencies, not just development dependencies.&lt;/p&gt;

&lt;p&gt;This is causing runtime errors when requiring thrift.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X and Linux, Ruby v1.9.3&lt;/p&gt;</environment>
        <key id="12665080">THRIFT-2145</key>
            <summary>Rack and Thin are not just development dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jfarrell">Jake Farrell</assignee>
                                    <reporter username="keithbarrette">Keith Barrette</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2013 17:33:21 +0000</created>
                <updated>Tue, 4 Nov 2014 04:03:13 +0000</updated>
                            <resolved>Mon, 25 Nov 2013 18:31:40 +0000</resolved>
                                    <version>0.9.1</version>
                                    <fixVersion>0.9.2</fixVersion>
                                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>6</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="13748880" author="nicksieger" created="Fri, 23 Aug 2013 19:07:54 +0000"  >&lt;p&gt;I would prefer that the code was patched to not require thin/rack. Why is the thin server required by default?&lt;/p&gt;</comment>
                            <comment id="13748901" author="nicksieger" created="Fri, 23 Aug 2013 19:28:14 +0000"  >&lt;p&gt;I would prefer this patch:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/thrift/pull/50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/50&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Patch attached also.&lt;/p&gt;</comment>
                            <comment id="13748925" author="jfarrell" created="Fri, 23 Aug 2013 19:47:05 +0000"  >&lt;p&gt;We cant just remove entirely and only offer as a testing dependency as thin_http_server.rb uses it, probably should be moved to a dependency. Also should delete the deprecated mongrel_http_server.rb &lt;/p&gt;</comment>
                            <comment id="13748933" author="nicksieger" created="Fri, 23 Aug 2013 19:56:12 +0000"  >&lt;p&gt;It would be up to the consumer of thrift to require thin if they are going to use thin_http_server.rb. If I have no plan to use thin at runtime why should Thrift require me to install it?&lt;/p&gt;</comment>
                            <comment id="13794338" author="andrewnewrelic" created="Mon, 14 Oct 2013 18:19:43 +0000"  >&lt;p&gt;Note that MongrelHttpServer wasn&apos;t being required by thrift.rb, so you didn&apos;t need to install Mongrel to use thrift. Since the thin-based server is meant to replace the Mongrel-based one, it should act the same way.&lt;/p&gt;

&lt;p&gt;Anyways, this change broke backwards compatibility in a point release. Please fix it, and not by just adding thin as a runtime dependency.&lt;/p&gt;</comment>
                            <comment id="13831643" author="mattgillooly" created="Mon, 25 Nov 2013 17:23:36 +0000"  >&lt;p&gt;+1 Nick and Andrew.&lt;/p&gt;

&lt;p&gt;I&apos;ve got a gem which requires thrift.  We had added rack and thin as dependencies of that gem to get around this issue.  We now wish to use that gem in a JRuby environment, where thin is not available, so I&apos;m forced to either fork the thrift gem or add a dummy thin.rb to my gem.  Neither of these seem reasonable, when there is a simple fix in the attached patch above.&lt;/p&gt;</comment>
                            <comment id="13831678" author="jfarrell" created="Mon, 25 Nov 2013 18:03:46 +0000"  >&lt;p&gt;Instead of removing from thrift.rb we could check for thin with something like the following, thoughts?&lt;/p&gt;

&lt;p&gt;require &apos;thrift/server/thin_http_server&apos; if defined?(Rack::Handler::Thin)&lt;/p&gt;</comment>
                            <comment id="13831683" author="andrewnewrelic" created="Mon, 25 Nov 2013 18:10:53 +0000"  >&lt;p&gt;That would probably work, but I don&apos;t think it&apos;s necessary. I don&apos;t think it&apos;s asking too much of people who need a Thin-based server to require it themselves.&lt;/p&gt;</comment>
                            <comment id="13831685" author="mattgillooly" created="Mon, 25 Nov 2013 18:16:00 +0000"  >&lt;p&gt;I agree with Andrew.  0001-Require-thin-server-in-spec-that-uses-it.patch looks like a simple fix which has been sitting around for 3 months.&lt;/p&gt;</comment>
                            <comment id="13831718" author="jfarrell" created="Mon, 25 Nov 2013 18:31:40 +0000"  >&lt;p&gt;committed 0001 patch&lt;/p&gt;</comment>
                            <comment id="13831768" author="andrewnewrelic" created="Mon, 25 Nov 2013 18:55:13 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="13831797" author="mattgillooly" created="Mon, 25 Nov 2013 19:17:34 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13832095" author="hudson" created="Tue, 26 Nov 2013 00:02:03 +0000"  >&lt;p&gt;FAILURE: Integrated in Thrift #944 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/944/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/944/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-2145&quot; title=&quot;Rack and Thin are not just development dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-2145&quot;&gt;&lt;del&gt;THRIFT-2145&lt;/del&gt;&lt;/a&gt;:Rack and Thin are not just development dependencies (jfarrell: rev cba92b308f894ef02b89c23ea6179faff6138772)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/rb/spec/thin_http_server_spec.rb&lt;/li&gt;
	&lt;li&gt;lib/rb/lib/thrift.rb&lt;/li&gt;
	&lt;li&gt;lib/rb/thrift.gemspec&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13955645" author="jszechy" created="Mon, 31 Mar 2014 20:18:46 +0000"  >&lt;p&gt;This resolves the issue of not requiring thin however this is still broken as it has not been released yet. It&apos;s been 4 months since this was fixed and no release?&lt;/p&gt;

&lt;p&gt;As far as I can tell there is no development gem that I can use in my Gemfile either. I&apos;m running in an environment where I CANNOT use thin so this whole gem is unusable until this require is removed.&lt;/p&gt;</comment>
                            <comment id="13955666" author="jfarrell" created="Mon, 31 Mar 2014 20:28:37 +0000"  >&lt;p&gt;we are preparing for our 0.9.2 release candidate and would expect this to be available soon&lt;/p&gt;</comment>
                            <comment id="14195629" author="adamvduke" created="Tue, 4 Nov 2014 03:04:51 +0000"  >&lt;p&gt;Any progress on releasing this? Coming up on a year since it was committed according to &lt;a href=&quot;https://github.com/apache/thrift/commit/cba92b308f894ef02b89c23ea6179faff6138772&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/commit/cba92b308f894ef02b89c23ea6179faff6138772&lt;/a&gt;, but I don&apos;t see it in rubygems.&lt;/p&gt;</comment>
                            <comment id="14195689" author="jfarrell" created="Tue, 4 Nov 2014 04:03:13 +0000"  >&lt;p&gt;0.9.2-rc0 had some issues with it and we have worked through them, i&apos;m testing the 0.9.2-rc1 as we speak and hope to have it out for a vote in the next day or so&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12699811">THRIFT-2395</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12599697" name="0001-Require-thin-server-in-spec-that-uses-it.patch" size="1128" author="nicksieger" created="Fri, 23 Aug 2013 19:28:14 +0000"/>
                            <attachment id="12599457" name="thrift-0.9.1-rack-thin-dependency.patch" size="621" author="keithbarrette" created="Thu, 22 Aug 2013 17:33:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nhxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>345322</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>