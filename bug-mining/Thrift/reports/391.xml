<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:59:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1065] Unexpected exceptions not proper handled on JS</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1065</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;Following &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-550&quot; title=&quot;JavaScript language target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-550&quot;&gt;&lt;del&gt;THRIFT-550&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-807&quot; title=&quot;JavaScript: Initialization of Base Types with 0 instead of null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-807&quot;&gt;&lt;del&gt;THRIFT-807&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
We still get JS errors when any undeclared exception is thrown (if not defined on the service IDL)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498928">THRIFT-1065</key>
            <summary>Unexpected exceptions not proper handled on JS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="henrique">Henrique Mendonca</assignee>
                                    <reporter username="henrique">Henrique Mendonca</reporter>
                        <labels>
                            <label>javascript</label>
                            <label>thrift</label>
                    </labels>
                <created>Thu, 17 Feb 2011 18:30:31 +0000</created>
                <updated>Wed, 9 Mar 2011 18:17:15 +0000</updated>
                            <resolved>Tue, 22 Feb 2011 21:04:05 +0000</resolved>
                                    <version>0.6</version>
                                    <fixVersion>0.7</fixVersion>
                                    <component>JavaScript - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12995965" author="tjake" created="Thu, 17 Feb 2011 18:34:41 +0000"  >&lt;p&gt;Can you provide an example?&lt;/p&gt;</comment>
                            <comment id="12995974" author="henrique" created="Thu, 17 Feb 2011 18:49:37 +0000"  >&lt;p&gt;remove some misplaced code (probably copied from another implementation?)&lt;/p&gt;</comment>
                            <comment id="12995978" author="henrique" created="Thu, 17 Feb 2011 18:55:08 +0000"  >&lt;p&gt;e.g. if you remove any &lt;em&gt;throws&lt;/em&gt; declaration from ThriftTest.thrift:&lt;br/&gt;
&lt;em&gt;void testException(1: string arg) throws(1: Xception err1),&lt;/em&gt;&lt;br/&gt;
&lt;b&gt;void testException(1: string arg),&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;and call the service from the JS client side. The server throws then the &quot;unexpected&quot; exception and I was getting something like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;fname not defined&lt;br/&gt;
var ret = input.readStructBegin(fname)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Now, with this patch, it should still throw the exception (TApplicationException) on the JS client site&lt;/p&gt;</comment>
                            <comment id="12997968" author="henrique" created="Tue, 22 Feb 2011 18:56:28 +0000"  >&lt;p&gt;apparently the java server is not encoding undeclared exceptions &quot;properly&quot; (it could be my impl., please see patch), but it works fine on C++&lt;/p&gt;

&lt;p&gt;Incoming content: &lt;span class=&quot;error&quot;&gt;&amp;#91;1,&amp;quot;testException&amp;quot;,1,0,{&amp;quot;1&amp;quot;:{&amp;quot;str&amp;quot;:&amp;quot;TApplicationException&amp;quot;}}&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;cpp&amp;#93;&lt;/span&gt;  Outgoing content: [1,&quot;testException&quot;,3,0,{&quot;1&quot;:&lt;/p&gt;
{&quot;str&quot;:&quot;This is a TApplicationException&quot;}
&lt;p&gt;,&quot;2&quot;:{&quot;i32&quot;:0}}]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Outgoing content: Error:This is a TApplicationException&lt;/p&gt;</comment>
                            <comment id="12997997" author="roger.meier" created="Tue, 22 Feb 2011 19:42:03 +0000"  >&lt;p&gt;behavior of Java and CPP Testframework should be the same&lt;/p&gt;</comment>
                            <comment id="12998036" author="roger.meier" created="Tue, 22 Feb 2011 21:04:05 +0000"  >&lt;p&gt;Yes Henrique, that&apos;s the way!&lt;/p&gt;

&lt;p&gt;I Just committed the following stuff:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;qUnit test, modified a bit&lt;/li&gt;
	&lt;li&gt;JavaServer Handler, modified to the same behavior as C++ (see &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-847&quot; title=&quot;Test Framework harmonization across all languages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-847&quot;&gt;&lt;del&gt;THRIFT-847&lt;/del&gt;&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;original JavaScript patch&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thank you for making Thrift better!&lt;/p&gt;

&lt;p&gt;Roger&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12471342">THRIFT-847</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12471653" name="THRIFT-1065-qunit-clean-up.patch" size="2505" author="henrique" created="Tue, 22 Feb 2011 18:56:28 +0000"/>
                            <attachment id="12471304" name="THRIFT-1065-read-undefined-exceptions2.patch" size="2229" author="henrique" created="Thu, 17 Feb 2011 18:49:37 +0000"/>
                            <attachment id="12471652" name="THRIFT-1065-throw-appexception.patch" size="913" author="henrique" created="Tue, 22 Feb 2011 18:56:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>187169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16d5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>