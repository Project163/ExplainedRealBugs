<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 07:58:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-850] Perl runtime requires Bit::Vector which may not be installed by default, but configure does not fail</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-850</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;If I do a vanilla configure, make, make check on Mac OSX 10.6.4 the make check fails with these messages:&lt;br/&gt;
Making check in perl&lt;br/&gt;
Making check in test&lt;br/&gt;
make  check-local&lt;br/&gt;
../../../compiler/cpp/thrift --gen perl ../../../test/ThriftTest.thrift&lt;br/&gt;
make -f Makefile-perl.mk&lt;br/&gt;
find blib -name &apos;Makefile*&apos; -exec rm -f {} \;&lt;br/&gt;
make  check-local&lt;br/&gt;
/opt/local/bin/perl -Iblib/lib -I/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl -I./test/gen-perl \&lt;br/&gt;
		/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test.pl /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/*.t&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/memory_buffer....Can&apos;t locate Bit/Vector.pm in @INC (@INC contains: blib/lib /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl ./test/gen-perl /opt/local/lib/perl5/site_perl/5.8.9/darwin-2level /opt/local/lib/perl5/site_perl/5.8.9 /opt/local/lib/perl5/site_perl /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9 . /opt/local/lib/perl5/site_perl/5.8.9/darwin-2level /opt/local/lib/perl5/site_perl/5.8.9 /opt/local/lib/perl5/site_perl /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9 .) at blib/lib/Thrift/BinaryProtocol.pm line 31.&lt;br/&gt;
BEGIN failed--compilation aborted at blib/lib/Thrift/BinaryProtocol.pm line 31.&lt;br/&gt;
Compilation failed in require at /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/memory_buffer.t line 27.&lt;br/&gt;
BEGIN failed--compilation aborted at /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/memory_buffer.t line 27.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Looks like your test died before it could output anything.&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/memory_buffer....dubious&lt;br/&gt;
	Test returned status 255 (wstat 65280, 0xff00)&lt;br/&gt;
DIED. FAILED tests 1-6&lt;br/&gt;
	Failed 6/6 tests, 0.00% okay&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/processor........Can&apos;t locate Bit/Vector.pm in @INC (@INC contains: blib/lib /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl ./test/gen-perl /opt/local/lib/perl5/site_perl/5.8.9/darwin-2level /opt/local/lib/perl5/site_perl/5.8.9 /opt/local/lib/perl5/site_perl /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9 . /opt/local/lib/perl5/site_perl/5.8.9/darwin-2level /opt/local/lib/perl5/site_perl/5.8.9 /opt/local/lib/perl5/site_perl /opt/local/lib/perl5/vendor_perl/5.8.9/darwin-2level /opt/local/lib/perl5/vendor_perl/5.8.9 /opt/local/lib/perl5/vendor_perl /opt/local/lib/perl5/5.8.9/darwin-2level /opt/local/lib/perl5/5.8.9 .) at blib/lib/Thrift/BinaryProtocol.pm line 31.&lt;br/&gt;
BEGIN failed--compilation aborted at blib/lib/Thrift/BinaryProtocol.pm line 31.&lt;br/&gt;
Compilation failed in require at /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/processor.t line 26.&lt;br/&gt;
BEGIN failed--compilation aborted at /Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/processor.t line 26.&lt;/li&gt;
	&lt;li&gt;Looks like your test died before it could output anything.&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/lib/perl/test/processor........dubious&lt;br/&gt;
	Test returned status 255 (wstat 65280, 0xff00)&lt;br/&gt;
DIED. FAILED tests 1-2&lt;br/&gt;
	Failed 2/2 tests, 0.00% okay&lt;br/&gt;
Failed Test                               Stat Wstat Total Fail  List of Failed&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/  255 65280     6   12  1-6&lt;br/&gt;
/Users/rmanbert/Kits/thrift/thrift-0.4.0/  255 65280     2    4  1-2&lt;br/&gt;
Failed 2/2 test scripts. 8/8 subtests failed.&lt;br/&gt;
Files=2, Tests=8,  1 wallclock secs ( 0.05 cusr +  0.02 csys =  0.07 CPU)&lt;br/&gt;
Failed 2/2 test programs. 8/8 subtests failed.&lt;br/&gt;
make&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;check-local&amp;#93;&lt;/span&gt; Error 255&lt;br/&gt;
make&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;check-am&amp;#93;&lt;/span&gt; Error 2&lt;br/&gt;
make&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;check-recursive&amp;#93;&lt;/span&gt; Error 1&lt;br/&gt;
make&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;check-recursive&amp;#93;&lt;/span&gt; Error 1&lt;br/&gt;
make: *** &lt;span class=&quot;error&quot;&gt;&amp;#91;check-recursive&amp;#93;&lt;/span&gt; Error 1&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I understand that the problem is that the perl Bit::Vector module is not installed. If it is required by the runtime, then I feel the configure should check for its presence, and fail if it&apos;s not installed. Of course, if I specify --with-perl=no on the configure command line then this check should not be done.&lt;/p&gt;

&lt;p&gt;I tested against 0.4 RC0.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OSX 10.6.4&lt;/p&gt;</environment>
        <key id="12471597">THRIFT-850</key>
            <summary>Perl runtime requires Bit::Vector which may not be installed by default, but configure does not fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mlum">Michael Lum</assignee>
                                    <reporter username="rush">Rush Manbert</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Aug 2010 01:10:28 +0000</created>
                <updated>Fri, 27 Aug 2010 21:49:16 +0000</updated>
                            <resolved>Thu, 19 Aug 2010 05:26:04 +0000</resolved>
                                    <version>0.3</version>
                                    <fixVersion>0.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12899973" author="mlum" created="Wed, 18 Aug 2010 19:19:13 +0000"  >&lt;p&gt;Attached patch should do the following:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;check for the existence of the Perl Bit::Vector module&lt;/li&gt;
	&lt;li&gt;warn the user that the Perl library won&apos;t be built if Bit::Vector doesn&apos;t exist&lt;/li&gt;
	&lt;li&gt;have the WITH_PERL conditional also require Bit::Vector (e.g. don&apos;t built the perl libs if the module isn&apos;t there)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12900175" author="bryanduxbury" created="Thu, 19 Aug 2010 05:26:04 +0000"  >&lt;p&gt;I just committed this. Thanks for the patch, Michael!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453299" name="ASF.LICENSE.NOT.GRANTED--v4-0009-THRIFT-850.-Use-AX_PROG_PERL_MODULES-to-test-for-Bit.patch" size="3749" author="dreiss" created="Fri, 27 Aug 2010 21:49:15 +0000"/>
                            <attachment id="12452438" name="configure.ac.patch" size="640" author="mlum" created="Wed, 18 Aug 2010 19:19:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>186996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16e0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>