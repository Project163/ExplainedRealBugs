<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:07:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-1804] Binary+compact protocol single byte error in Ruby library (ARM architecture): caused by different char signedness</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-1804</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;These compilation tests fail when compiling for ARM:&lt;/p&gt;

&lt;p&gt;  1) BinaryProtocolAccelerated it should behave like a binary protocol should read a byte&lt;br/&gt;
     Failure/Error: @prot.read_byte.should == i&lt;br/&gt;
       &lt;b&gt;expected: -128&lt;/b&gt;&lt;br/&gt;
            &lt;b&gt;got: 128 (using ==)&lt;/b&gt;&lt;br/&gt;
     Shared Example Group: &quot;a binary protocol&quot; called from ./spec/binary_protocol_accelerated_spec.rb:28&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:291:in `block (3 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:289:in `each&apos;&lt;/li&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:289:in `block (2 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;  2) BinaryProtocolAccelerated it should behave like a binary protocol should perform a complete rpc with a struct return type&lt;br/&gt;
     Failure/Error: result.should == Fixtures::COMPACT_PROTOCOL_TEST_STRUCT&lt;br/&gt;
       expected: &amp;lt;CompactProtoTestStruct ... &lt;b&gt;byte_list:&lt;span class=&quot;error&quot;&gt;&amp;#91;-127, -1, 0, 1, 127&amp;#93;&lt;/span&gt;&lt;/b&gt;, ....&lt;br/&gt;
            got: &amp;lt;CompactProtoTestStruct ... &lt;b&gt;byte_list:&lt;span class=&quot;error&quot;&gt;&amp;#91;129, 255, 0, 1, 127&amp;#93;&lt;/span&gt;&lt;/b&gt;, ...  (using ==)&lt;br/&gt;
(***) only byte_list gets corrupted&lt;br/&gt;
     Shared Example Group: &quot;a binary protocol&quot; called from ./spec/binary_protocol_accelerated_spec.rb:28&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:375:in `block (3 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:406:in `call&apos;&lt;/li&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:406:in `srv_test&apos;&lt;/li&gt;
	&lt;li&gt;./spec/binary_protocol_spec_shared.rb:370:in `block (2 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;  3) Thrift::CompactProtocol should encode and decode naked primitives correctly&lt;br/&gt;
     Failure/Error: read_back.should == value&lt;br/&gt;
       &lt;b&gt;expected: -127&lt;/b&gt;&lt;br/&gt;
            &lt;b&gt;got: 129 (using ==)&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:45:in `block (4 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:37:in `each&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:37:in `block (3 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:36:in `each_pair&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:36:in `block (2 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;  4) Thrift::CompactProtocol should encode and decode primitives in fields correctly&lt;br/&gt;
     Failure/Error: read_back.should == value&lt;br/&gt;
       &lt;b&gt;expected: -127&lt;/b&gt;&lt;br/&gt;
            &lt;b&gt;got: 129 (using ==)&lt;/b&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:68:in `block (4 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:55:in `each&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:55:in `block (3 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:51:in `each_pair&apos;&lt;/li&gt;
	&lt;li&gt;./spec/compact_protocol_spec.rb:51:in `block (2 levels) in &amp;lt;top (required)&amp;gt;&apos;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Finished in 5.87 seconds&lt;br/&gt;
364 examples, 4 failures, 1 pending&lt;/p&gt;</description>
                <environment>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Debian/ARM Squeeze 6.0.6 native armv5te, compiler: gcc (Debian 4.4.5-8) 4.4.5&lt;br/&gt;
QEMU emulated debian hosts:&lt;/li&gt;
	&lt;li&gt;Debian Squeeze 6.0.6 emulated armvtejl, compiler: gcc (Debian 4.4.5-8)&lt;/li&gt;
	&lt;li&gt;Debian Sid 7.0 on QEMU ARM versatilepb, compiler: gcc (Debian 4.6.3-14)&lt;/li&gt;
&lt;/ul&gt;
</environment>
        <key id="12625143">THRIFT-1804</key>
            <summary>Binary+compact protocol single byte error in Ruby library (ARM architecture): caused by different char signedness</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekarak">Elias Karakoulakis</assignee>
                                    <reporter username="ekarak">Elias Karakoulakis</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Dec 2012 17:26:36 +0000</created>
                <updated>Sat, 8 Jun 2013 03:15:40 +0000</updated>
                            <resolved>Sat, 8 Jun 2013 03:15:40 +0000</resolved>
                                    <version>0.9</version>
                                    <fixVersion>0.9.1</fixVersion>
                                    <component>Build Process</component>
                    <component>Ruby - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13539065" author="ekarak" created="Sun, 23 Dec 2012 18:06:40 +0000"  >&lt;p&gt;Ruby version seems irrelevant, test fails for both&lt;br/&gt;
1) old-stable 1.8.7:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;root@stratus:~/thrift-0.9.0# ruby --version
ruby 1.8.7 (2010-08-16 patchlevel 302) [arm-linux-eabi]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) and on latest stable 1.9.3 :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;armleg:~# ruby --version
ruby 1.9.3p327 (2012-11-10 revision 37606) [armv5tejl-linux-eabi]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thrift 0.9.0 builds fine on my laptop (Linux Mint 12/Debian x86) with the bleeding-edge Ruby 2.0.0 (trunk 38563) and gcc 4.7 (Debian 4.7.1-2)&lt;/p&gt;</comment>
                            <comment id="13539736" author="ekarak" created="Wed, 26 Dec 2012 22:58:32 +0000"  >&lt;p&gt;Root cause might be that gcc-4.4.5 for ARM is misbehaving:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; GCC 4.3.5 and GCC 4.4.5 on ARM: These can miscompile value &amp;gt;&amp;gt; 1 even at -O0. A test failure in test/Assembler/alignstack.ll is one symptom of the problem.&lt;br/&gt;
(from &lt;a href=&quot;http://llvm.org/docs/GettingStarted.html#requirements&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://llvm.org/docs/GettingStarted.html#requirements&lt;/a&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="13541331" author="ekarak" created="Mon, 31 Dec 2012 11:07:15 +0000"  >&lt;p&gt;Tried on Debian Sid (gcc 4.6.3-14), same problem. &lt;br/&gt;
Going to try next on Clang/LLVM...&lt;/p&gt;</comment>
                            <comment id="13543263" author="ekarak" created="Thu, 3 Jan 2013 20:47:08 +0000"  >&lt;p&gt;Nope, exact same problem on Clang, the compiler glitch theory goes down:&lt;/p&gt;

&lt;p&gt;Failed examples:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;rspec ./spec/binary_protocol_spec_shared.rb:288 # BinaryProtocolAccelerated it should behave like a binary protocol should read a byte
rspec ./spec/binary_protocol_spec_shared.rb:368 # BinaryProtocolAccelerated it should behave like a binary protocol should perform a complete rpc with a struct return type
rspec ./spec/compact_protocol_spec.rb:35 # Thrift::CompactProtocol should encode and decode naked primitives correctly
rspec ./spec/compact_protocol_spec.rb:50 # Thrift::CompactProtocol should encode and decode primitives in fields correctly
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13548795" author="ekarak" created="Wed, 9 Jan 2013 18:38:14 +0000"  >&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  it &lt;span class=&quot;code-quote&quot;&gt;&quot;should read a &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    [-128, -57, -3, 0, 17, 24, 127].each &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; |i|
	    wot = [i].pack(&lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;)
      @trans.write(wot)
      k=@prot.read_byte
          puts &lt;span class=&quot;code-quote&quot;&gt;&quot;#{k}.should == #{i}, shouldn&apos;t it?&quot;&lt;/span&gt;
      k.should == i
    end
  end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;on x86: -128.should == -128, shouldn&apos;t it?&lt;br/&gt;
on ARM: 128.should == -128, shouldn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="13550380" author="henrique" created="Thu, 10 Jan 2013 20:31:49 +0000"  >&lt;p&gt;Hi Elias,&lt;br/&gt;
This is kind of weird, the type byte is normally unsigned and I think the C++ compiler uses a uint8_t for it.&lt;br/&gt;
Unfortunately it doesn&apos;t get properly tested on ./test/cpp/src/TestClient.cpp, so we can&apos;t be sure it works on every platform either.&lt;br/&gt;
Although, I guess it won&apos;t help much, you should be actually testing with 0-255.&lt;/p&gt;</comment>
                            <comment id="13585149" author="ekarak" created="Sat, 23 Feb 2013 15:54:35 +0000"  >&lt;p&gt;added some extra logging in lib/rb/ext/compact_protocol.c, and:&lt;/p&gt;
&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#line 359
&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; read_byte_direct(VALUE self) {
  VALUE &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; = rb_funcall(GET_TRANSPORT(self), read_byte_method_id, 0);
  printf(&lt;span class=&quot;code-quote&quot;&gt;&quot;ekarak: read_byte_direct &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;=%d\n&quot;&lt;/span&gt;, (FIX2INT(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;)));
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;)(FIX2INT(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;));
}

#line 515
VALUE rb_thrift_compact_proto_read_byte(VALUE self) {
printf(&lt;span class=&quot;code-quote&quot;&gt;&quot;ekarak: rb_thrift_compact_proto_read_byte self=%s\n&quot;&lt;/span&gt;, RSTRING_PTR(rb_inspect(self)));
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; INT2FIX(read_byte_direct(self));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Thrift::CompactProtocol
ekarak: rb_thrift_compact_proto_read_byte self=#&amp;lt;Thrift::CompactProtocol:0x414e0bc8 @trans=#&amp;lt;Thrift::MemoryBufferTransport:0x414e0d00 @buf=&quot;\x81&quot;, @index=0&amp;gt;, @last_field=[0], @boolean_value=nil, @rbuf=&quot;\0\0\0\0\0\0\0\0&quot;&amp;gt;
ekarak: read_byte_direct byte=129
  should encode and decode naked primitives correctly (FAILED - 3)
ekarak: read_byte_direct byte=243
ekarak: rb_thrift_compact_proto_read_byte self=#&amp;lt;Thrift::CompactProtocol:0x412b5eb0 @trans=#&amp;lt;Thrift::MemoryBufferTransport:0x412b6570 @buf=&quot;\xF3\x81&quot;, @index=1&amp;gt;, @last_field=[15], @boolean_value=nil, @rbuf=&quot;\0\0\0\0\0\0\0\0&quot;&amp;gt;
ekarak: read_byte_direct byte=129
  should encode and decode primitives in fields correctly (FAILED - 4)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, -127 maps to 0x81 (aliasing effect) which then maps back to (unsigned) 129. &lt;br/&gt;
Hmmm, sounds like the test on x86 (0x81 mapping back to -127) is wrong here!!!&lt;/p&gt;</comment>
                            <comment id="13585176" author="ekarak" created="Sat, 23 Feb 2013 17:56:30 +0000"  >&lt;p&gt;Let&apos;s see how this INT2FIX/FIX2INT is supposed to behave. &lt;/p&gt;



&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;/usr/local/include/ruby-2.0.0/ruby/ruby.h&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; defined HAVE_UINTPTR_T &amp;amp;&amp;amp; 0
typedef uintptr_t VALUE;
typedef uintptr_t ID;
# define SIGNED_VALUE intptr_t
# define SIZEOF_VALUE SIZEOF_UINTPTR_T
# undef PRI_VALUE_PREFIX
...
#define INT2FIX(i) ((VALUE)(((SIGNED_VALUE)(i))&amp;lt;&amp;lt;1 | FIXNUM_FLAG))
...
#define FIX2LONG(x) (&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;)RSHIFT((SIGNED_VALUE)(x),1)
...
#&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; SIZEOF_INT &amp;lt; SIZEOF_LONG
#define FIX2INT(x) ((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)rb_fix2int((VALUE)(x)))
#&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;/* SIZEOF_INT &amp;lt; SIZEOF_LONG */&lt;/span&gt;
#define FIX2INT(x) ((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)FIX2LONG(x))
#endif &lt;span class=&quot;code-comment&quot;&gt;/* SIZEOF_INT &amp;lt; SIZEOF_LONG */&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;/usr/local/include/ruby-2.0.0/armv5tejl-linux-eabi/ruby/config.h&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#define RSHIFT(x,y) ((x)&amp;gt;&amp;gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)(y))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13585210" author="ekarak" created="Sat, 23 Feb 2013 20:31:57 +0000"  >&lt;p&gt;&lt;b&gt;but of course!&lt;/b&gt; Signedness of char differs in ARM:  it is &lt;b&gt;unsigned&lt;/b&gt; by default whereas in x86 it is &lt;b&gt;signed&lt;/b&gt; - that&apos;s why &lt;b&gt;read_byte_direct&lt;/b&gt; maps everything onto the 0..255 range&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://maemo.org/community/maemo-users/re-signedness_of_char_on_arm_vs_x86/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maemo.org/community/maemo-users/re-signedness_of_char_on_arm_vs_x86/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13585216" author="ekarak" created="Sat, 23 Feb 2013 21:44:36 +0000"  >&lt;p&gt;two paths of virtue here:&lt;/p&gt;

&lt;p&gt;1) force signed char by simply add -fsigned-char flag to gcc (what about other compilers?)&lt;br/&gt;
2) use int8_t instead of char&lt;/p&gt;

&lt;p&gt;Currently trying the first by passing CPPFLAGS=&quot;-fsigned-char&quot; to ./configure &amp;amp;&amp;amp; make&lt;/p&gt;

&lt;p&gt;Other opinions?&lt;/p&gt;</comment>
                            <comment id="13585316" author="ekarak" created="Sun, 24 Feb 2013 06:56:15 +0000"  >&lt;p&gt;the patch for the first approach would be:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;armleg:~# diff thrift/lib/rb/ext/extconf.rb thrift-0.9.0/lib/rb/ext/extconf.rb 
27c27
&amp;lt;   $CFLAGS = &quot;-g -O2 -Wall -Werror &quot; + $ARCH_FLAGS
---
&amp;gt;   $CFLAGS = &quot;-fsigned-char -g -O2 -Wall -Werror &quot; + $ARCH_FLAGS
armleg:~# 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13585325" author="ekarak" created="Sun, 24 Feb 2013 08:31:54 +0000"  >&lt;p&gt;Yeap, this is it. All of the four previously failing tests now pass on my ARM emulated environment when adding the -fsigned-char to gcc when compiling the Ruby extension. Now I seem to have another problem, that&apos;s probably related to &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1707&quot; title=&quot;[ruby] Adjust server_spec.rb for RSpec 2.11.x and Ruby 1.9.3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1707&quot;&gt;&lt;del&gt;THRIFT-1707&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;rspec ./spec/server_spec.rb:102 # Server Thrift::ThreadPoolServer should serve inside a thread
rspec ./spec/server_spec.rb:110 # Server Thrift::ThreadPoolServer should avoid running the server twice when retrying rescuable_serve
rake aborted!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13585382" author="ekarak" created="Sun, 24 Feb 2013 14:52:31 +0000"  >&lt;p&gt;Successfully compiled Thrift 0.9.0 main release on Debian for ARM after applying patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;armleg:~/thrift-0.9.0# uname -a
Linux armleg 2.6.26-2-versatile #1 Wed Sep 21 12:00:53 UTC 2011 armv5tejl GNU/Linux

armleg:~/thrift-0.9.0# file compiler/cpp/thrift
compiler/cpp/thrift: ELF 32-bit LSB executable, ARM, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.18, not stripped

armleg:~/thrift-0.9.0# file lib/rb/ext/thrift_native.so
lib/rb/ext/thrift_native.so: ELF 32-bit LSB shared object, ARM, version 1 (SYSV), dynamically linked, not stripped

armleg:~/thrift-0.9.0#eg:~/thrift-0.9.0# gcc --version
gcc (Debian 4.4.5-8) 4.4.5
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13611933" author="jfarrell" created="Sun, 24 Mar 2013 02:57:33 +0000"  >&lt;p&gt;Thanks for the patch, committed&lt;/p&gt;</comment>
                            <comment id="13612473" author="hudson" created="Mon, 25 Mar 2013 08:40:26 +0000"  >&lt;p&gt;Integrated in Thrift #633 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/633/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/633/&lt;/a&gt;)&lt;br/&gt;
    Thrift-1804: Ruby extension on ARM complains about signed chars (Revision a87cc5e7708ff7c3fcec1e05a0d70e1f7923e17f)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570647" name="THRIFT1804.patch" size="611" author="ekarak" created="Sun, 24 Feb 2013 09:12:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16vif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>