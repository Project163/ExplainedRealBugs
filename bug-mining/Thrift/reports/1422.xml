<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 08:21:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[THRIFT-3420] C++: TSSLSockets are not interruptable</title>
                <link>https://issues.apache.org/jira/browse/THRIFT-3420</link>
                <project id="12310800" key="THRIFT">Thrift</project>
                    <description>&lt;p&gt;TSSLSockets are not interruptable.&lt;/p&gt;

&lt;p&gt;Therefore if used as transport in any server implementation, the server cannot shutdown if any SSL client is connected.&lt;/p&gt;

&lt;p&gt;Pullrequest on github will follow.&lt;/p&gt;

&lt;p&gt;Pull is &lt;a href=&quot;https://github.com/apache/thrift/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/690&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12912502">THRIFT-3420</key>
            <summary>C++: TSSLSockets are not interruptable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="martinhaimberger">Martin Haimberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Nov 2015 15:33:37 +0000</created>
                <updated>Sat, 20 Feb 2021 15:27:54 +0000</updated>
                            <resolved>Mon, 1 Feb 2016 12:38:31 +0000</resolved>
                                    <version>0.1</version>
                    <version>0.9.3</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>C++ - Library</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15002264" author="githubbot" created="Thu, 12 Nov 2015 15:44:40 +0000"  >&lt;p&gt;GitHub user MartinHaimberger opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/690&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    C++ transport: implement interruptable TSSLSocket&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;implement interruptable TSSLSocket using non-blocking&lt;br/&gt;
    sockets and non-blocking bios&lt;/li&gt;
	&lt;li&gt;introduce getter getInterruptSocket() in TSocket class&lt;/li&gt;
	&lt;li&gt;modified TSSLSocketFactory to be able to create&lt;br/&gt;
    interruptable TSSLSockets.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    See issue &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/MartinHaimberger/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/MartinHaimberger/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/690.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/690.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #690&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6a75775996862289d26c0b9617a7035617501002&lt;br/&gt;
Author: Martin Haimberger &amp;lt;martin.haimberger@thincast.com&amp;gt;&lt;br/&gt;
Date:   2015-11-12T15:37:54Z&lt;/p&gt;

&lt;p&gt;    C++ transport: implement interruptable TSSLSocket&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;implement interruptable TSSLSocket using non-blocking&lt;br/&gt;
    sockets and non-blocking bios&lt;/li&gt;
	&lt;li&gt;introduce getter getInterruptSocket() in TSocket class&lt;/li&gt;
	&lt;li&gt;modified TSSLSocketFactory to be able to create&lt;br/&gt;
    interruptable TSSLSockets.&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;</comment>
                            <comment id="15002266" author="martinhaimberger" created="Thu, 12 Nov 2015 15:45:16 +0000"  >&lt;p&gt;Pullrequest on github is: &lt;a href=&quot;https://github.com/apache/thrift/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/690&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15021705" author="githubbot" created="Mon, 23 Nov 2015 08:11:17 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/690&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/690&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15021758" author="hudson" created="Mon, 23 Nov 2015 08:48:04 +0000"  >&lt;p&gt;SUCCESS: Integrated in Thrift #1738 (See &lt;a href=&quot;https://builds.apache.org/job/Thrift/1738/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Thrift/1738/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt; C+&lt;ins&gt;: TSSLSockets are not interruptable Client: C&lt;/ins&gt;+ Patch: (nsuke: rev 0ad6ee95e002f41dd628d4044f901468f43ffc32)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;lib/cpp/test/Makefile.am&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/CMakeLists.txt&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSSLSocket.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TServerSocket.h&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSSLSocket.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/test/TSSLSocketInterruptTest.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TServerSocket.cpp&lt;/li&gt;
	&lt;li&gt;lib/cpp/src/thrift/transport/TSSLServerSocket.cpp&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15021790" author="nsuke" created="Mon, 23 Nov 2015 09:04:28 +0000"  >&lt;p&gt;Committed, thanks !&lt;/p&gt;</comment>
                            <comment id="15031969" author="jking3" created="Mon, 30 Nov 2015 15:39:00 +0000"  >&lt;p&gt;Coverity Scan found this issue in the changes:&lt;/p&gt;

&lt;p&gt;1 new defect(s) introduced to thrift found with Coverity Scan.&lt;/p&gt;


&lt;p&gt;New defect(s) Reported-by: Coverity Scan Showing 1 of 1 defect(s)&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;CID 1340250:  Control flow issues  (DEADCODE)&lt;br/&gt;
/lib/cpp/src/thrift/transport/TSSLSocket.cpp: 336 in apache::thrift::transport::TSSLSocket::read(unsigned char *, unsigned int)()&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;________________________________________________________________________________________________________&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;CID 1340250:  Control flow issues  (DEADCODE)&lt;br/&gt;
/lib/cpp/src/thrift/transport/TSSLSocket.cpp: 336 in apache::thrift::transport::TSSLSocket::read(unsigned char *, unsigned int)()&lt;br/&gt;
330         switch (error) {&lt;br/&gt;
331           case SSL_ERROR_SYSCALL:&lt;br/&gt;
332             if ((errno_copy != THRIFT_EINTR)&lt;br/&gt;
333                 || (errno_copy != THRIFT_EAGAIN)) 
{
334                   break;
335             }
&lt;p&gt;&amp;gt;&amp;gt;&amp;gt;     CID 1340250:  Control flow issues  (DEADCODE)&lt;br/&gt;
&amp;gt;&amp;gt;&amp;gt;     Execution cannot reach this statement: &quot;if (retries++ &amp;gt;= this-&amp;gt;maxR...&quot;.&lt;br/&gt;
336             if (retries++ &amp;gt;= maxRecvRetries_) &lt;/p&gt;
{
337               // THRIFT_EINTR needs to be handled manually and we can tolerate
338               // a certain number
339               break;
340             }
&lt;p&gt;341           case SSL_ERROR_WANT_READ:&lt;/p&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15113790" author="githubbot" created="Sat, 23 Jan 2016 15:30:18 +0000"  >&lt;p&gt;GitHub user nsuke opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/815&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/815&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt; C++: TSSLSockets are not interruptable&lt;/p&gt;

&lt;p&gt;    Fix typo that prevented retrying on EAGAIN etc.&lt;/p&gt;

&lt;p&gt;    Thanks @jeking3 for pointing this out.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/nsuke/thrift&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nsuke/thrift&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/815.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/815.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #815&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bc896a1d73133becf48e37d1bda7b3929a935026&lt;br/&gt;
Author: Nobuaki Sukegawa &amp;lt;nsuke@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-01-23T15:27:08Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-3420&quot; title=&quot;C++: TSSLSockets are not interruptable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-3420&quot;&gt;&lt;del&gt;THRIFT-3420&lt;/del&gt;&lt;/a&gt; C++: TSSLSockets are not interruptable&lt;/p&gt;

&lt;p&gt;    Fix typo that prevented retrying on EAGAIN etc.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15126178" author="githubbot" created="Mon, 1 Feb 2016 12:26:37 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/thrift/pull/815&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/thrift/pull/815&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oazj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>