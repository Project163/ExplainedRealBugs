[{"id":8580049239,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSlX","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049239","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:32:59Z","performed_via_github_app":null},{"id":8580049257,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSlp","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049257","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:32:59Z","performed_via_github_app":null},{"id":8580049291,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSmL","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049291","actor":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:32:59Z","performed_via_github_app":null},{"id":8580049309,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSmd","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049309","actor":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:32:59Z","performed_via_github_app":null},{"id":8580049333,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSm1","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049333","actor":{"login":"sanwv","id":4526812,"node_id":"MDQ6VXNlcjQ1MjY4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4526812?v=4","gravatar_id":"","url":"https://api.github.com/users/sanwv","html_url":"https://github.com/sanwv","followers_url":"https://api.github.com/users/sanwv/followers","following_url":"https://api.github.com/users/sanwv/following{/other_user}","gists_url":"https://api.github.com/users/sanwv/gists{/gist_id}","starred_url":"https://api.github.com/users/sanwv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanwv/subscriptions","organizations_url":"https://api.github.com/users/sanwv/orgs","repos_url":"https://api.github.com/users/sanwv/repos","events_url":"https://api.github.com/users/sanwv/events{/privacy}","received_events_url":"https://api.github.com/users/sanwv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:00Z","performed_via_github_app":null},{"id":8580049359,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSnP","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049359","actor":{"login":"sanwv","id":4526812,"node_id":"MDQ6VXNlcjQ1MjY4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4526812?v=4","gravatar_id":"","url":"https://api.github.com/users/sanwv","html_url":"https://github.com/sanwv","followers_url":"https://api.github.com/users/sanwv/followers","following_url":"https://api.github.com/users/sanwv/following{/other_user}","gists_url":"https://api.github.com/users/sanwv/gists{/gist_id}","starred_url":"https://api.github.com/users/sanwv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanwv/subscriptions","organizations_url":"https://api.github.com/users/sanwv/orgs","repos_url":"https://api.github.com/users/sanwv/repos","events_url":"https://api.github.com/users/sanwv/events{/privacy}","received_events_url":"https://api.github.com/users/sanwv/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:00Z","performed_via_github_app":null},{"id":8580049410,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSoC","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049410","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:00Z","performed_via_github_app":null},{"id":8580049434,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSoa","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049434","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:00Z","performed_via_github_app":null},{"id":8580049458,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSoy","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049458","actor":{"login":"amk0","id":7900784,"node_id":"MDQ6VXNlcjc5MDA3ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7900784?v=4","gravatar_id":"","url":"https://api.github.com/users/amk0","html_url":"https://github.com/amk0","followers_url":"https://api.github.com/users/amk0/followers","following_url":"https://api.github.com/users/amk0/following{/other_user}","gists_url":"https://api.github.com/users/amk0/gists{/gist_id}","starred_url":"https://api.github.com/users/amk0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amk0/subscriptions","organizations_url":"https://api.github.com/users/amk0/orgs","repos_url":"https://api.github.com/users/amk0/repos","events_url":"https://api.github.com/users/amk0/events{/privacy}","received_events_url":"https://api.github.com/users/amk0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:01Z","performed_via_github_app":null},{"id":8580049475,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSpD","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049475","actor":{"login":"amk0","id":7900784,"node_id":"MDQ6VXNlcjc5MDA3ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/7900784?v=4","gravatar_id":"","url":"https://api.github.com/users/amk0","html_url":"https://github.com/amk0","followers_url":"https://api.github.com/users/amk0/followers","following_url":"https://api.github.com/users/amk0/following{/other_user}","gists_url":"https://api.github.com/users/amk0/gists{/gist_id}","starred_url":"https://api.github.com/users/amk0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amk0/subscriptions","organizations_url":"https://api.github.com/users/amk0/orgs","repos_url":"https://api.github.com/users/amk0/repos","events_url":"https://api.github.com/users/amk0/events{/privacy}","received_events_url":"https://api.github.com/users/amk0/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:01Z","performed_via_github_app":null},{"id":8580049503,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSpf","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049503","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:01Z","performed_via_github_app":null},{"id":8580049538,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSqC","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049538","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:01Z","performed_via_github_app":null},{"id":8580049591,"node_id":"MEE_lADOADRbGc5fEPDVzwAAAAH_aSq3","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049591","actor":{"login":"eluhr","id":13000805,"node_id":"MDQ6VXNlcjEzMDAwODA1","avatar_url":"https://avatars.githubusercontent.com/u/13000805?v=4","gravatar_id":"","url":"https://api.github.com/users/eluhr","html_url":"https://github.com/eluhr","followers_url":"https://api.github.com/users/eluhr/followers","following_url":"https://api.github.com/users/eluhr/following{/other_user}","gists_url":"https://api.github.com/users/eluhr/gists{/gist_id}","starred_url":"https://api.github.com/users/eluhr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eluhr/subscriptions","organizations_url":"https://api.github.com/users/eluhr/orgs","repos_url":"https://api.github.com/users/eluhr/repos","events_url":"https://api.github.com/users/eluhr/events{/privacy}","received_events_url":"https://api.github.com/users/eluhr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:02Z","performed_via_github_app":null},{"id":8580049602,"node_id":"SE_lADOADRbGc5fEPDVzwAAAAH_aSrC","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8580049602","actor":{"login":"eluhr","id":13000805,"node_id":"MDQ6VXNlcjEzMDAwODA1","avatar_url":"https://avatars.githubusercontent.com/u/13000805?v=4","gravatar_id":"","url":"https://api.github.com/users/eluhr","html_url":"https://github.com/eluhr","followers_url":"https://api.github.com/users/eluhr/followers","following_url":"https://api.github.com/users/eluhr/following{/other_user}","gists_url":"https://api.github.com/users/eluhr/gists{/gist_id}","starred_url":"https://api.github.com/users/eluhr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eluhr/subscriptions","organizations_url":"https://api.github.com/users/eluhr/orgs","repos_url":"https://api.github.com/users/eluhr/repos","events_url":"https://api.github.com/users/eluhr/events{/privacy}","received_events_url":"https://api.github.com/users/eluhr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-02-22T11:33:02Z","performed_via_github_app":null},{"id":8585708960,"node_id":"REFE_lADOADRbGc5fEPDVzwAAAAH_v4Wg","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8585708960","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"aa6140c115c3ed1b89e84886a8b29a0ec46037a7","commit_url":"https://api.github.com/repos/kamarton/yiisoft-yii2/commits/aa6140c115c3ed1b89e84886a8b29a0ec46037a7","created_at":"2023-02-22T21:41:53Z","performed_via_github_app":null},{"actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T21:42:44Z","updated_at":"2023-02-22T21:42:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/19772","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/19772/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/19772/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/19772/events","html_url":"https://github.com/yiisoft/yii2/pull/19772","id":1595877241,"node_id":"PR_kwDOADRbGc5Kjftl","number":19772,"title":"#19770 mysql mutex key prefix with calculated value","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/70","html_url":"https://github.com/yiisoft/yii2/milestone/70","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/70/labels","id":8362194,"node_id":"MI_kwDOADRbGc4Af5jS","number":70,"title":"2.0.48","description":"","creator":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":74,"state":"closed","created_at":"2022-08-29T19:57:57Z","updated_at":"2023-07-22T10:03:53Z","due_on":null,"closed_at":"2023-05-22T06:34:36Z"},"comments":1,"created_at":"2023-02-22T21:42:43Z","updated_at":"2025-05-29T11:01:41Z","closed_at":"2023-02-27T11:45:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/yiisoft/yii2/pulls/19772","html_url":"https://github.com/yiisoft/yii2/pull/19772","diff_url":"https://github.com/yiisoft/yii2/pull/19772.diff","patch_url":"https://github.com/yiisoft/yii2/pull/19772.patch","merged_at":"2023-02-27T11:45:34Z"},"body":"| Q             | A\r\n| ------------- | ---\r\n| Is bugfix?    | ✔\r\n| New feature?  | ❌\r\n| Breaks BC?    | ❌\r\n| Fixed issues  | #19770 \r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/19772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/19772/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":8585854667,"node_id":"REFE_lADOADRbGc5fEPDVzwAAAAH_wb7L","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8585854667","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"22b280b65c02a2e940c188408d40507d48e7224e","commit_url":"https://api.github.com/repos/kamarton/yiisoft-yii2/commits/22b280b65c02a2e940c188408d40507d48e7224e","created_at":"2023-02-22T22:02:34Z","performed_via_github_app":null},{"id":8585919556,"node_id":"REFE_lADOADRbGc5fEPDVzwAAAAH_wrxE","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8585919556","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"22c1538a10c98165f064778d80da8b389c32fa9f","commit_url":"https://api.github.com/repos/kamarton/yiisoft-yii2/commits/22c1538a10c98165f064778d80da8b389c32fa9f","created_at":"2023-02-22T22:13:21Z","performed_via_github_app":null},{"id":8585989137,"node_id":"REFE_lADOADRbGc5fEPDVzwAAAAH_w8wR","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8585989137","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e551839bd28edb60fe2d5b3d8289a8054d64c551","commit_url":"https://api.github.com/repos/kamarton/yiisoft-yii2/commits/e551839bd28edb60fe2d5b3d8289a8054d64c551","created_at":"2023-02-22T22:25:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1440932214","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1440932214","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1440932214,"node_id":"IC_kwDOADRbGc5V4uF2","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T22:42:07Z","updated_at":"2023-02-22T22:42:07Z","body":"> If Expressions as params would work; there should be a test with two Expressions 1+1 and 1*2 to see if both evaluate to 2.\r\n\r\nTest result is **FAIL**.\r\n\r\n> AFAIK param binding does not work when using an expression as the param value.\r\n\r\nI haven't been actively working on the yii2 project for a while now, so I'm a bit puzzled by the `\\yii\\db\\Expression` class. Based on the generated query, if the `Expression` is used as a parameter, it is compiled into a string for the query.\r\n\r\n```sql\r\nSELECT GET_LOCK(SUBSTRING(CONCAT('1+1', 'adc8de6b036aed3455b44abc62639e708d3ffe'...\r\n```\r\n\r\nIt seems to me that if the `Expression` is used as a parameter, it will receive a string cast, which will result in the value of the Expression being converted to a string.\r\n\r\nhttps://github.com/yiisoft/yii2/blob/f388ca71b08b89e940f1ffbe4afa19ae9d5e115f/framework/db/Expression.php#L62-L65\r\n\r\nIs this the correct behavior?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1440932214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441325647","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441325647","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441325647,"node_id":"IC_kwDOADRbGc5V6OJP","user":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T07:51:32Z","updated_at":"2023-02-23T07:52:15Z","body":"The \"problem\" here is, how the query is build.\r\n\r\n```php\r\n            return (bool) $db->createCommand(\r\n                'SELECT GET_LOCK(SUBSTRING(CONCAT(:prefix, :name), 1, 64), :timeout)',\r\n                [':name' => $this->hashLockName($name), ':timeout' => $timeout, ':prefix' => $this->keyPrefix]\r\n            )->queryScalar();\r\n```\r\n\r\nIn PDO the value for the `:prefix` param is only a string  (PDO does not know anything about Yii2 expressions, how could it?) and therefore it is escaped and put in quotes. And if `$this->keyPrefix` is not an Expression, this is exactly what we want (keyprefix can be something like `\"what -- 'ever'\"`).\r\n\r\nAs far as I can see in the PDO code (I'm not a C hacker ;-), if no explicit `PDO_PARAM_TYPE` is specified, the type from the php internal ZVAL is used and then only distinguishes between INT, BOOL or string.\r\nhttps://github.com/php/php-src/blob/master/ext/pdo/pdo_stmt.c#L252\r\n\r\nSo if query is build this way, IMHO we must check if `keyPrefix` is an instance of Expression and if yes inject the value without param binding.\r\n\r\n```php\r\n    protected function acquireLock($name, $timeout = 0)\r\n    {\r\n        return $this->db->useMaster(function ($db) use ($name, $timeout) {\r\n\r\n            /** @var \\yii\\db\\Connection $db */\r\n            if ($this->keyPrefix instanceof Expression) {\r\n                return (bool) $db->createCommand(\r\n                    'SELECT GET_LOCK(SUBSTRING(CONCAT(' . $this->keyPrefix .', :name), 1, 64), :timeout)',\r\n                    [':name' => $this->hashLockName($name), ':timeout' => $timeout]\r\n                )->queryScalar();\r\n            }\r\n\r\n            return (bool) $db->createCommand(\r\n                'SELECT GET_LOCK(SUBSTRING(CONCAT(:prefix, :name), 1, 64), :timeout)',\r\n                [':name' => $this->hashLockName($name), ':timeout' => $timeout, ':prefix' => $this->keyPrefix]\r\n            )->queryScalar();\r\n            \r\n        });\r\n    }\r\n```\r\nOf course this must also be changed in `releaseLock`.\r\n\r\nBut maybe someone has a better way to create the command with yii2 query builder magick ;-)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441325647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441556424","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441556424","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441556424,"node_id":"IC_kwDOADRbGc5V7GfI","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T10:56:57Z","updated_at":"2023-02-23T10:56:57Z","body":"> So if query is build this way, IMHO we must check if keyPrefix is an instance of Expression and if yes inject the value without param binding.\r\n\r\nA similar workaround works. However, it is still not clear to me why the yii2 command builder does not handle `Expression` within its own scope.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441556424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441570674","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441570674","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441570674,"node_id":"IC_kwDOADRbGc5V7J9y","user":{"login":"schmunk42","id":649031,"node_id":"MDQ6VXNlcjY0OTAzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/649031?v=4","gravatar_id":"","url":"https://api.github.com/users/schmunk42","html_url":"https://github.com/schmunk42","followers_url":"https://api.github.com/users/schmunk42/followers","following_url":"https://api.github.com/users/schmunk42/following{/other_user}","gists_url":"https://api.github.com/users/schmunk42/gists{/gist_id}","starred_url":"https://api.github.com/users/schmunk42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmunk42/subscriptions","organizations_url":"https://api.github.com/users/schmunk42/orgs","repos_url":"https://api.github.com/users/schmunk42/repos","events_url":"https://api.github.com/users/schmunk42/events{/privacy}","received_events_url":"https://api.github.com/users/schmunk42/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T11:08:19Z","updated_at":"2023-02-23T11:08:19Z","body":"> However, it is still not clear to me why the yii2 command builder does not handle Expression within its own scope.\r\n\r\nI think that's because Query Params are handled by PDO and not the framework.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441570674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"schmunk42","id":649031,"node_id":"MDQ6VXNlcjY0OTAzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/649031?v=4","gravatar_id":"","url":"https://api.github.com/users/schmunk42","html_url":"https://github.com/schmunk42","followers_url":"https://api.github.com/users/schmunk42/followers","following_url":"https://api.github.com/users/schmunk42/following{/other_user}","gists_url":"https://api.github.com/users/schmunk42/gists{/gist_id}","starred_url":"https://api.github.com/users/schmunk42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmunk42/subscriptions","organizations_url":"https://api.github.com/users/schmunk42/orgs","repos_url":"https://api.github.com/users/schmunk42/repos","events_url":"https://api.github.com/users/schmunk42/events{/privacy}","received_events_url":"https://api.github.com/users/schmunk42/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441584261","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441584261","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441584261,"node_id":"IC_kwDOADRbGc5V7NSF","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T11:18:01Z","updated_at":"2023-02-23T11:18:01Z","body":"> I think that's because Query Params are handled by PDO and not the framework.\r\n\r\n- `$db` -> `yii\\db\\Connection`  Yii provided class\r\n- `createCommand()` -> Yii provided method\r\n\r\nThe question is whether it is intentionally not supported or if there has never been a need for it. I haven't looked at the code, but it might be more practical to implement Expression support rather than ad-hoc solutions like the one above. What do others think about this?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441584261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441614338","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441614338","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441614338,"node_id":"IC_kwDOADRbGc5V7UoC","user":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T11:40:10Z","updated_at":"2023-02-23T11:40:10Z","body":"There should be at least warning when `Expression` is passed as parameter in this scenario. The fact that expression is silently cast to string and treated as literal value is massive footgun.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441614338/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441702161","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441702161","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441702161,"node_id":"IC_kwDOADRbGc5V7qER","user":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T12:39:39Z","updated_at":"2023-02-23T12:39:39Z","body":"Maybe my expectations are wrong, but if plain SQL with a params array is passed to `Connection::createCommand` like here, then I think that's ok if it behaves as if I would create the same statement directly with PDO.\r\n\r\nAnyway: if a check of the passed params is added in `Connection::createCommad`, resp. `Command::bindValues`, please don't check for ExpressionInterface, because e.g. PdoValue is completely valid.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441702161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441769449","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1441769449","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1441769449,"node_id":"IC_kwDOADRbGc5V76fp","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T13:19:06Z","updated_at":"2023-02-23T13:19:06Z","body":"> Maybe my expectations are wrong, but if plain SQL with a params array is passed to Connection::createCommand like here, then I think that's ok if it behaves as if I would create the same statement directly with PDO.\r\n\r\nConverting a `\\yii\\db\\Expression` to a string is meaningless when binding the value, and it's a complete \"footgun\".","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1441769449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1442475407","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1442475407","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1442475407,"node_id":"IC_kwDOADRbGc5V-m2P","user":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T21:49:15Z","updated_at":"2023-02-23T21:49:15Z","body":"(sql) expression as a param for a prepared statement is wrong usage, because one of the main purposes of a prepared statement with bind params is to prevent SQL injections, but that's exactly what you want.\r\n\r\nBut we are going in circles.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1442475407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"handcode","id":825574,"node_id":"MDQ6VXNlcjgyNTU3NA==","avatar_url":"https://avatars.githubusercontent.com/u/825574?v=4","gravatar_id":"","url":"https://api.github.com/users/handcode","html_url":"https://github.com/handcode","followers_url":"https://api.github.com/users/handcode/followers","following_url":"https://api.github.com/users/handcode/following{/other_user}","gists_url":"https://api.github.com/users/handcode/gists{/gist_id}","starred_url":"https://api.github.com/users/handcode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/handcode/subscriptions","organizations_url":"https://api.github.com/users/handcode/orgs","repos_url":"https://api.github.com/users/handcode/repos","events_url":"https://api.github.com/users/handcode/events{/privacy}","received_events_url":"https://api.github.com/users/handcode/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1442803322","html_url":"https://github.com/yiisoft/yii2/issues/19770#issuecomment-1442803322","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/19770","id":1442803322,"node_id":"IC_kwDOADRbGc5V_256","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T04:45:22Z","updated_at":"2023-02-24T04:45:22Z","body":"fixed, reviewable https://github.com/yiisoft/yii2/pull/19772/files","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/1442803322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8600238560,"node_id":"MIE_lADOADRbGc5fEPDVzwAAAAIAnTng","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/8600238560","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-02-24T10:12:19Z","milestone":{"title":"2.0.48"},"performed_via_github_app":null}]