[{"id":3320771677,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMjA3NzE2Nzc=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3320771677","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-10T22:45:59Z","label":{"name":"help wanted","color":"0e8a16"},"performed_via_github_app":null},{"id":3320771678,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMjA3NzE2Nzg=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3320771678","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-10T22:45:59Z","label":{"name":"status:to be verified","color":"fbca04"},"performed_via_github_app":null},{"id":3320771681,"node_id":"MDEyOkxhYmVsZWRFdmVudDMzMjA3NzE2ODE=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3320771681","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-05-10T22:45:59Z","label":{"name":"type:bug","color":"e102d8"},"performed_via_github_app":null},{"id":3320771735,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDMzMjA3NzE3MzU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3320771735","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-05-10T22:46:05Z","milestone":{"title":"2.0.36"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/626777039","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-626777039","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":626777039,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjc3NzAzOQ==","user":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T15:30:58Z","updated_at":"2020-05-11T15:30:58Z","body":"Hi Everyone,\r\n\r\nI would like to fix this issue. \r\n\r\nBut I don't have concrete understanding how Http Basic Auth work here. As far as my knowledge about HTTP basic auth is concerned and it is a username & password prompt that we see in browser \r\n\r\n![browser-http-auth](https://user-images.githubusercontent.com/6770119/81578863-0633f780-93c9-11ea-8f1e-b6c7c59125d3.jpg)\r\n\r\n\r\nHow can I get generic browser prompt like that in fresh yii2-app-advanced app? I am trying to reproduce the issue.\r\n\r\nAbove prompt is generated by \r\n```\r\n<?php\r\n    /*\r\n    ** Define a couple of functions for\r\n    ** starting and ending an HTML document\r\n    */\r\n    function startPage()\r\n    {\r\n        print(\"<html>\\n\");\r\n        print(\"<head>\\n\");\r\n        print(\"<title>Listing 24-1</title>\\n\");\r\n        print(\"</head>\\n\");\r\n        print(\"<body>\\n\");\r\n    }\r\n\r\n    function endPage()\r\n    {\r\n        print(\"</body>\\n\");\r\n        print(\"</html>\\n\");\r\n    }\r\n    /*\r\n    ** test for username/password\r\n    */\r\n    if( ( isset($_SERVER['PHP_AUTH_USER'] ) && ( $_SERVER['PHP_AUTH_USER'] == \"leon\" ) ) AND\r\n      ( isset($_SERVER['PHP_AUTH_PW'] ) && ( $_SERVER['PHP_AUTH_PW'] == \"secret\" )) )\r\n    {\r\n        startPage();\r\n\r\n        print(\"You have logged in successfully!<br>\\n\");\r\n\r\n        endPage();\r\n    }\r\n    else\r\n    {\r\n        //Send headers to cause a browser to request\r\n        //username and password from user\r\n        header(\"WWW-Authenticate: \" .\r\n            \"Basic realm=\\\"Leon's Protected Area\\\"\");\r\n        header(\"HTTP/1.0 401 Unauthorized\");\r\n\r\n        //Show failure text, which browsers usually\r\n        //show only after several failed attempts\r\n        print(\"This page is protected by HTTP \" .\r\n            \"Authentication.<br>\\nUse <b>leon</b> \" .\r\n            \"for the username, and <b>secret</b> \" .\r\n            \"for the password.<br>\\n\");\r\n    }\r\n?>\r\n```\r\n\r\nReference - https://stackoverflow.com/a/4577953/3794786\r\n\r\nI tried to get this prompt by putting HttpBasicAuth filter(https://www.yiiframework.com/doc/api/2.0/yii-filters-auth-httpbasicauth) in the behavior of frontend/SiteController.php but always getting `Your request was made with invalid credentials.` error.\r\n\r\nSecond thought about the HTTP basic auth is about REST API where a client sends request to server\r\n\r\nE.g. \r\n```\r\n$ch = curl_init($host);\r\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/xml', $additionalHeaders));\r\ncurl_setopt($ch, CURLOPT_HEADER, 1);\r\ncurl_setopt($ch, CURLOPT_USERPWD, $username . \":\" . $password);\r\ncurl_setopt($ch, CURLOPT_TIMEOUT, 30);\r\ncurl_setopt($ch, CURLOPT_POST, 1);\r\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $payloadName);\r\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);\r\n$return = curl_exec($ch);\r\ncurl_close($ch);\r\n```\r\n\r\nReference - https://stackoverflow.com/questions/2140419/how-do-i-make-a-request-using-http-basic-authentication-with-php-curl\r\n\r\nSo this issue is about which case from the above two?\r\n\r\nAny guidance/hint appreciated ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/626777039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/626872389","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-626872389","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":626872389,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjg3MjM4OQ==","user":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T18:22:06Z","updated_at":"2020-05-11T18:22:06Z","body":"Hi In the basic template (it should be possible in the advance also)\r\n\r\nIn the file controller/SiteController.php, add the following behavior in first position:\r\n\r\n```php\r\n            'basicAuth' => [\r\n                'class' => \\yii\\filters\\auth\\HttpBasicAuth::class,\r\n                'except' => ['error'],\r\n                'auth' => static function ($username, $password) {\r\n                    $user = \\app\\models\\User::findByUsername($username);\r\n                    if ($user && $user->validatePassword($password)) {\r\n                        return $user;\r\n                    }\r\n                    return null;\r\n                },\r\n            ],\r\n```\r\n\r\nIn the config/web.php file add this to the 'user' component:\r\n\r\n```php\r\n            'on afterLogin' => static function () {\r\n                \\Yii::info('Logged IN');\r\n            },\r\n```\r\n\r\nAfter login with demo/demo, the log doesn't show up in the debugger.\r\n\r\nIf you change switchIdentity to login in the HttpBasicAuth.php file line 104, the log show up\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/626872389/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627174468","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627174468","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627174468,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzE3NDQ2OA==","user":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T07:48:24Z","updated_at":"2020-05-12T07:48:24Z","body":"Note: this is browser prompt based HTTP basic authentication.\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627174468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627174505","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627174505","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627174505,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzE3NDUwNQ==","user":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T07:48:29Z","updated_at":"2020-05-12T07:48:29Z","body":"Also i found another issue:\r\n\r\nIf I login successfully I cannot logout. @samdark  should I create new issue for this?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627174505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3326203879,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNjIwMzg3OQ==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3326203879","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T07:48:29Z","performed_via_github_app":null},{"id":3326203881,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjYyMDM4ODE=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3326203881","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T07:48:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627275012","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627275012","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627275012,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI3NTAxMg==","user":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T11:11:12Z","updated_at":"2020-05-12T11:11:12Z","body":"Upon viewing similar issues and file history of `HttpBasicAuth.php` I have multiple thoughts.\r\n\r\n`yii\\filters\\auth\\HttpBasicAuth` should only check/filter username and/or password is true or not. It should not perform login operation. It should be done outside the filter file mostly in controller action like we do in a typical web app (https://github.com/SOHELAHMED7/yii2-app-advanced/blob/master/common/models/LoginForm.php#L59).\r\n\r\nHowever the default implementation of `yii\\filters\\auth\\HttpBasicAuth` use `loginByAccessToken` (https://github.com/yiisoft/yii2/blob/master/framework/web/User.php#L294) which perform login (`\\yii\\web\\User::login()`) operation in it.\r\n\r\nAlso I cannot completely figure out why `switchIdentity` is introduced in the commit https://github.com/tvdavid/yii2/commit/39c183c7ff2dcfed06d75c401eb8de99b937d1c9#diff-490915389a2d974a09da94224d4e1d4aR73\r\n\r\nSo I think as @achretien said we should replace `switchIdentity()` to `login()`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627275012/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3326979537,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNjk3OTUzNw==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3326979537","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:11:13Z","performed_via_github_app":null},{"id":3326979539,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjY5Nzk1Mzk=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3326979539","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:11:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627278158","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627278158","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627278158,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI3ODE1OA==","user":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T11:18:05Z","updated_at":"2020-05-12T11:46:33Z","body":"Yes to be consistent with login by access token (used in the other auth\r\nfilters).\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627278158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3327004904,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNzAwNDkwNA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327004904","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:18:05Z","performed_via_github_app":null},{"id":3327004906,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjcwMDQ5MDY=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327004906","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:18:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627280451","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627280451","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627280451,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI4MDQ1MQ==","user":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T11:23:07Z","updated_at":"2020-05-12T11:23:07Z","body":"@SOHELAHMED7 AFAIK there is no traditional login/logout event in basic auth. Each request provides login and password in request headers - no session, no identity cookie, every request validates provided login credentials (so each request will trigger `EVENT_AFTER_LOGIN` after change requested in this issue). Removing username/password validation from `HttpBasicAuth` may not be a thing that most people will expect from basic auth, and kinda defeats purpose this behavior.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627280451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3327023320,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNzAyMzMyMA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327023320","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:23:07Z","performed_via_github_app":null},{"id":3327023322,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjcwMjMzMjI=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327023322","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:23:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627292407","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627292407","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627292407,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI5MjQwNw==","user":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T11:45:09Z","updated_at":"2020-05-12T11:45:09Z","body":"@rob006 \r\n\r\n> there is no traditional login/logout event in basic auth\r\n\r\nThere is. When no `auth` callback provided, `yii\\filters\\auth\\HttpBasicAuth` will try to login the user by only username and will call `loginByAccessToken()` (https://github.com/yiisoft/yii2-framework/blob/master/filters/auth/HttpBasicAuth.php#L110) which in turn calls `yii\\web\\User::login()` (https://github.com/yiisoft/yii2/blob/master/framework/web/User.php#L299) which will trigger the login event.\r\n\r\n\r\n> Removing username/password validation from HttpBasicAuth may not be a thing that most people will expect from basic auth, and kinda defeats purpose this behavior.\r\n\r\n\r\nYes definitely. I agree. And checking the username and/or password is the main purpose of this filter","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627292407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3327097208,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNzA5NzIwOA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327097208","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:45:09Z","performed_via_github_app":null},{"id":3327097209,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjcwOTcyMDk=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327097209","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:45:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627292993","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-627292993","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":627292993,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI5Mjk5Mw==","user":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-12T11:46:22Z","updated_at":"2020-05-12T11:46:22Z","body":"@rob006 the event is already triggered each time in case of token auth (Bearer for exemple).\r\n\r\nAs @SOHELAHMED7 explain, the `loginByAccessToken` method used in every other cases perform the login method and trigger the before and after login events.\r\n\r\nI raised the issue because my user logged in to my API through username/password the first time then through a Bearer token provided for every other API calls.\r\n\r\nIn my case the framework raise no event on 'login' but raise after login event on authentication.\r\n\r\nAs a developper I expected than a event named AFTER_LOGIN_EVENT is raised when a user login :)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/627292993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"achretien","id":5468508,"node_id":"MDQ6VXNlcjU0Njg1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/5468508?v=4","gravatar_id":"","url":"https://api.github.com/users/achretien","html_url":"https://github.com/achretien","followers_url":"https://api.github.com/users/achretien/followers","following_url":"https://api.github.com/users/achretien/following{/other_user}","gists_url":"https://api.github.com/users/achretien/gists{/gist_id}","starred_url":"https://api.github.com/users/achretien/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achretien/subscriptions","organizations_url":"https://api.github.com/users/achretien/orgs","repos_url":"https://api.github.com/users/achretien/repos","events_url":"https://api.github.com/users/achretien/events{/privacy}","received_events_url":"https://api.github.com/users/achretien/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3327101458,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNzEwMTQ1OA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327101458","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:46:22Z","performed_via_github_app":null},{"id":3327101461,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjcxMDE0NjE=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327101461","actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:46:22Z","performed_via_github_app":null},{"id":3327101463,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzMyNzEwMTQ2Mw==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327101463","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:46:22Z","performed_via_github_app":null},{"id":3327101465,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDMzMjcxMDE0NjU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3327101465","actor":{"login":"SOHELAHMED7","id":6770119,"node_id":"MDQ6VXNlcjY3NzAxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/6770119?v=4","gravatar_id":"","url":"https://api.github.com/users/SOHELAHMED7","html_url":"https://github.com/SOHELAHMED7","followers_url":"https://api.github.com/users/SOHELAHMED7/followers","following_url":"https://api.github.com/users/SOHELAHMED7/following{/other_user}","gists_url":"https://api.github.com/users/SOHELAHMED7/gists{/gist_id}","starred_url":"https://api.github.com/users/SOHELAHMED7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SOHELAHMED7/subscriptions","organizations_url":"https://api.github.com/users/SOHELAHMED7/orgs","repos_url":"https://api.github.com/users/SOHELAHMED7/repos","events_url":"https://api.github.com/users/SOHELAHMED7/events{/privacy}","received_events_url":"https://api.github.com/users/SOHELAHMED7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-05-12T11:46:22Z","performed_via_github_app":null},{"id":3355949782,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzM1NTk0OTc4Mg==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3355949782","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-05-20T11:11:24Z","label":{"name":"help wanted","color":"0e8a16"},"performed_via_github_app":null},{"id":3355949783,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzM1NTk0OTc4Mw==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/3355949783","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-05-20T11:11:24Z","label":{"name":"status:to be verified","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/631417382","html_url":"https://github.com/yiisoft/yii2/issues/18031#issuecomment-631417382","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18031","id":631417382,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTQxNzM4Mg==","user":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T11:30:49Z","updated_at":"2020-05-20T11:30:49Z","body":"There's, indeed, inconsistency between `HttpHeaderAuth` that does login on valid token value and `HttpBasicAuth` that does not. Using `login()` instead of `switchIdentity()` makes these equal.\r\n\r\n> If I login successfully I cannot logout. @samdark should I create new issue for this?\r\n\r\nThat's expected. Once valid credentials are provided, it's up to the browser to decide when to stop using them. There are workarounds but these are tricky.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/631417382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false}}]