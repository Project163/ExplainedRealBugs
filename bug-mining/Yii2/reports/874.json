{"url":"https://api.github.com/repos/yiisoft/yii2/issues/19736","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/19736/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/19736/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/19736/events","html_url":"https://github.com/yiisoft/yii2/issues/19736","id":1526258391,"node_id":"I_kwDOADRbGc5a-NrX","number":19736,"title":"StringHelper::truncate(null, 10) causes error - userland fix","user":{"login":"cgsmith","id":570018,"node_id":"MDQ6VXNlcjU3MDAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/570018?v=4","gravatar_id":"","url":"https://api.github.com/users/cgsmith","html_url":"https://github.com/cgsmith","followers_url":"https://api.github.com/users/cgsmith/followers","following_url":"https://api.github.com/users/cgsmith/following{/other_user}","gists_url":"https://api.github.com/users/cgsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/cgsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgsmith/subscriptions","organizations_url":"https://api.github.com/users/cgsmith/orgs","repos_url":"https://api.github.com/users/cgsmith/repos","events_url":"https://api.github.com/users/cgsmith/events{/privacy}","received_events_url":"https://api.github.com/users/cgsmith/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/70","html_url":"https://github.com/yiisoft/yii2/milestone/70","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/70/labels","id":8362194,"node_id":"MI_kwDOADRbGc4Af5jS","number":70,"title":"2.0.48","description":"","creator":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":74,"state":"closed","created_at":"2022-08-29T19:57:57Z","updated_at":"2023-07-22T10:03:53Z","due_on":null,"closed_at":"2023-05-22T06:34:36Z"},"comments":26,"created_at":"2023-01-09T20:15:01Z","updated_at":"2023-05-12T16:55:51Z","closed_at":"2023-05-12T16:55:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nCreate a `StringHelper::truncate()` call to a null property. Quick note: I don't think that this is a framework issue and think it is more userland code but wanted to open the issue in case someone else receives the error.\r\n\r\nI solved it by wrapping the helper function in a userland check: \r\n![image](https://user-images.githubusercontent.com/570018/211399442-6db2f879-ed05-4698-8ffc-c05019c53991.png)\r\n\r\n\r\n### What is the expected result?\r\nWas expecting an upgrade to 8.1 to go smoothly. I had to change a few things in the user code to make this work. Not sure if documentation should be updated to note this? If not feel free to close this issue.\r\n\r\n### What do you get instead?\r\n`Deprecated: mb_strlen(): Passing null to parameter #1 ($string) of type string is deprecated `\r\n\r\n### Additional info\r\n\r\nError: \r\n\r\n```\r\nyii\\base\\ErrorException: mb_strlen(): Passing null to parameter #1 ($string) of type string is deprecated in /app/vendor/yiisoft/yii2/helpers/BaseStringHelper.php:132\r\n```\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.47\r\n| PHP version      | 8.1\r\n| Operating system |Docker yii2 container\r\n","closed_by":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/19736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/19736/timeline","performed_via_github_app":null,"state_reason":"completed"}