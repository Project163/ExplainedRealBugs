[{"id":1929568963,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5Mjk1Njg5NjM=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1929568963","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-26T18:45:13Z","label":{"name":"type:bug","color":"e102d8"},"performed_via_github_app":null},{"id":1929568968,"node_id":"MDEyOkxhYmVsZWRFdmVudDE5Mjk1Njg5Njg=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1929568968","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-10-26T18:45:14Z","label":{"name":"status:to be verified","color":"fbca04"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/468924366","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-468924366","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":468924366,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODkyNDM2Ng==","user":{"login":"Anubarak","id":6122122,"node_id":"MDQ6VXNlcjYxMjIxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/6122122?v=4","gravatar_id":"","url":"https://api.github.com/users/Anubarak","html_url":"https://github.com/Anubarak","followers_url":"https://api.github.com/users/Anubarak/followers","following_url":"https://api.github.com/users/Anubarak/following{/other_user}","gists_url":"https://api.github.com/users/Anubarak/gists{/gist_id}","starred_url":"https://api.github.com/users/Anubarak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Anubarak/subscriptions","organizations_url":"https://api.github.com/users/Anubarak/orgs","repos_url":"https://api.github.com/users/Anubarak/repos","events_url":"https://api.github.com/users/Anubarak/events{/privacy}","received_events_url":"https://api.github.com/users/Anubarak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-02T14:16:04Z","updated_at":"2019-03-02T14:17:20Z","body":"Is there any progress about this? I have the very same problem and noticed the only way I can extend the allowed request headers is by creating a custom filter like this\r\n\r\n```PHP\r\nclass Cors extends \\yii\\filters\\Cors\r\n{\r\n    /**\r\n     * Extract CORS headers from the request.\r\n     * @return array CORS headers to handle\r\n     */\r\n    public function extractHeaders()\r\n    {\r\n        $headers = [];\r\n        $_SERVER['HTTP_ACCESS_CONTROL_ALLOW_HEADERS'] = 'MY_CUSTOM_HEADER, X-CSRF-Token, Origin, X-Requested-With, Content-Type, Accept';\r\n        $_SERVER['HTTP_ACCESS_CONTROL_REQUEST_HEADERS'] = 'MY_CUSTOM_HEADER, X-CSRF-Token, Origin, X-Requested-With, Content-Type, Accept';\r\n\r\n        foreach (array_keys($this->cors) as $headerField) {\r\n            $serverField = $this->headerizeToPhp($headerField);\r\n            $headerData = $_SERVER[$serverField] ?? null;\r\n            if ($headerData !== null) {\r\n                $headers[$headerField] = $headerData;\r\n            }\r\n        }\r\n\r\n        return $headers;\r\n    }\r\n}\r\n```\r\nThe `extractHeaders` defines the allowed headers, if your custom key is not within those you don't really have a chance to include your own. Is that intended? So the property `Access-Control-Allow-Headers` only allows you to **limit** the allowed headers you are not allowed to **extend** them","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/468924366/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Anubarak","id":6122122,"node_id":"MDQ6VXNlcjYxMjIxMjI=","avatar_url":"https://avatars.githubusercontent.com/u/6122122?v=4","gravatar_id":"","url":"https://api.github.com/users/Anubarak","html_url":"https://github.com/Anubarak","followers_url":"https://api.github.com/users/Anubarak/followers","following_url":"https://api.github.com/users/Anubarak/following{/other_user}","gists_url":"https://api.github.com/users/Anubarak/gists{/gist_id}","starred_url":"https://api.github.com/users/Anubarak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Anubarak/subscriptions","organizations_url":"https://api.github.com/users/Anubarak/orgs","repos_url":"https://api.github.com/users/Anubarak/repos","events_url":"https://api.github.com/users/Anubarak/events{/privacy}","received_events_url":"https://api.github.com/users/Anubarak/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/468973453","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-468973453","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":468973453,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODk3MzQ1Mw==","user":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-03T00:19:22Z","updated_at":"2019-03-03T00:19:22Z","body":"Same issue with ES6 fetch request. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/468973453/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/469632458","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-469632458","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":469632458,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTYzMjQ1OA==","user":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-05T10:43:12Z","updated_at":"2019-03-05T10:43:12Z","body":"@blacksmoke26 any easy way to reproduce it?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/469632458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2180577757,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjE4MDU3Nzc1Nw==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2180577757","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-05T10:43:12Z","performed_via_github_app":null},{"id":2180577759,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxODA1Nzc3NTk=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2180577759","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-05T10:43:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470187582","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-470187582","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":470187582,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDE4NzU4Mg==","user":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T16:57:31Z","updated_at":"2019-03-06T17:19:32Z","body":"I have fixed it already, please let me share the code:\r\n\r\n`../config/main.php` file\r\n```php\r\nuse api\\components\\handlers\\{\r\n  RequestHandler,\r\n  ResponseHandler,\r\n};\r\nuse yii\\web\\Response;\r\n\r\n$config = [\r\n  //....\r\n  'components' => [\r\n    'response' => [\r\n      'class' => Response::class,\r\n      'format' => Response::FORMAT_JSON,\r\n      'on beforeSend' => function ($event) {\r\n        (new ResponseHandler)->beforeSend ($event->sender);\r\n      },\r\n      'on afterSend' => function ($event) {\r\n        (new ResponseHandler)->afterSend($event->sender);\r\n      },\r\n    ],\r\n  ],\r\n  'on beforeRequest' => function () {\r\n    (new RequestHandler)->beforeSend();\r\n  },\r\n  'on afterRequest' => function () {\r\n    (new RequestHandler)->afterSend();\r\n  },\r\n  //....\r\n];\r\n```\r\n\r\n`api\\components\\handlers\\RequestHandler.php` file\r\n```php\r\nnamespace api\\components\\handlers;\r\n\r\nuse Yii;\r\n\r\n/**\r\n * Class RequestHandler\r\n * @package api\\components\\response\r\n */\r\nclass RequestHandler {\r\n /**\r\n  * Execute event before response send\r\n  */\r\n  public function beforeSend () : void {\r\n    /** @var string $pathInfo */\r\n    $pathInfo = Yii::$app->request->pathInfo;\r\n  \r\n    // fixed: UrlRule Problem with trailing slash (/)\r\n    if ( !empty($pathInfo) && '/' === \\substr ($pathInfo, -1) ) {\r\n      Yii::$app->response->redirect('/' . \\rtrim($pathInfo, '/'))->send();\r\n      exit;\r\n    }\r\n  \r\n    // No output for OPTIONS\r\n    if ( 'OPTIONS' === Yii::$app->getRequest ()->getMethod () ) {\r\n      Yii::$app->end (); \r\n      exit;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Execute event after request sent\r\n   */\r\n  public function afterSend () : void {}\r\n}\r\n```\r\n\r\n`api\\components\\handlers\\ResponseHandler.php` file\r\n```php\r\nnamespace api\\components\\handlers;\r\n\r\nuse common\\utils\\Configuration;\r\nuse Yii;\r\nuse yii\\web\\Response;\r\n\r\n/**\r\n * Class ResponseHandler\r\n * @package api\\components\\response\r\n */\r\nclass ResponseHandler {\r\n  /**\r\n   * Execute event before response send\r\n   * @param \\yii\\web\\Response $response Response object\r\n   */\r\n  public function beforeSend ( Response $response ) : void {\r\n    // CORS headers\r\n    $this->setupCorsHeaders ($response);\r\n\r\n    // Format output response\r\n    $this->responseFormatter ($response);\r\n  }\r\n\r\n  /**\r\n   * Execute event after response sent\r\n   * @param \\yii\\web\\Response $response Response object\r\n   */\r\n  public function afterSend ( Response $response ) : void {}\r\n\r\n  /**\r\n   * Format output response\r\n   * @param \\yii\\web\\Response $response Response object\r\n   */\r\n  private function responseFormatter ( Response $response ) : void {\r\n    /** @var array $data */\r\n    $data = $response->data;\r\n\r\n    if ( !$response->isSuccessful ) {\r\n      if ( !$response->statusCode ) {\r\n        $response->statusCode = 400;\r\n      }\r\n\r\n      if ( \\is_countable ($data) && \\count ($data) ) {\r\n        $response->data = [];\r\n        unset($data['previous']);\r\n        $response->data = $data;\r\n      }\r\n      return;\r\n    }\r\n\r\n    if ( \\null !== $data ) {\r\n      if ( \\is_countable($data) && \\count ($data) ) {\r\n        $response->data = [];\r\n        $response->data['data'] = $data;\r\n      }\r\n    }\r\n\r\n    if ( !$response->statusCode ) {\r\n      $response->statusCode = 200;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup CORS headers\r\n   * @param \\yii\\web\\Response $response Response object\r\n   */\r\n  private function setupCorsHeaders ( Response $response ) : void {\r\n    /** @var \\yii\\web\\HeaderCollection $headers */\r\n    $headers = $response->headers;\r\n\r\n    /** @var array $allowedHeaders */\r\n    $allowedHeaders = Configuration::current ('security.cors.allowed.headers', ['toArray'=>\\true]);\r\n\r\n    $headers->set ('Access-Control-Allow-Origin', static::getOrigin ());\r\n    $headers->set ('Access-Control-Allow-Credentials', 'true');\r\n    $headers->set ('Access-Control-Max-Age', (int) Configuration::current ('security.cors.maxAge'));\r\n    $headers->set ('Access-Control-Allow-Headers', \\implode (', ', $allowedHeaders));\r\n    $headers->set ('Access-Control-Allow-Methods', 'GET, OPTIONS, POST, DELETE, PUT, HEAD, PATCH');\r\n  }\r\n\r\n  /**\r\n   * Get origin from request\r\n   * @return string\r\n   */\r\n  private static function getOrigin () : string {\r\n    /** @var \\yii\\web\\HeaderCollection $headers */\r\n    $headers = Yii::$app->request->headers;\r\n\r\n    /** @var string[] $whitelistOrigins */\r\n    $whitelistOrigins = Configuration::current ('security.cors.allowed.origins', ['toArray'=>\\true]);\r\n\r\n    /** @var string $origin */\r\n    $origin = $headers->get ('origin')\r\n      ?? $headers->get ('host')\r\n      ?? \\null;\r\n\r\n    foreach ( $whitelistOrigins as $host ) {\r\n      if ( \\false !== \\strpos ($origin, $host) ) {\r\n        return $origin;\r\n      }\r\n    }\r\n\r\n    return Configuration::current ('uri.baseUrl');\r\n  }\r\n}\r\n\r\n```\r\n\r\nAt end, main controller file `/components/Controller.php`\r\n\r\n```php\r\nnamespace api\\components;\r\n\r\nuse common\\utils\\Configuration;\r\nuse Yii;\r\n\r\n/**\r\n * Class Controller\r\n * @package api\\components\r\n */\r\nclass Controller extends \\yii\\web\\Controller {\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  public function init() {\r\n    parent::init();\r\n\r\n    // Disabled CSRF validation\r\n    $this->enableCsrfValidation = \\false;\r\n\r\n    // Disabled layouts\r\n    $this->layout = \\false;\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  public function behaviors () {\r\n    return [\r\n      'hostControl' => [\r\n        'class' => \\yii\\filters\\HostControl::class,\r\n        'allowedHosts' => [\r\n          '*.' . Configuration::current ('uri.baseDomain'),\r\n        ],\r\n      ],\r\n      'authenticator' => [\r\n        'class' => \\common\\components\\jwt\\filters\\AutoAuth::class,\r\n        'except' => ['OPTIONS'],\r\n      ],\r\n      'access' => [\r\n        'class' => \\yii\\filters\\AccessControl::class,\r\n        'except' => ['OPTIONS'],\r\n      ],\r\n      'verbs' => [\r\n        'class' => \\yii\\filters\\VerbFilter::class,\r\n        'actions' => [\r\n          '*' => ['OPTIONS'],\r\n        ],\r\n      ],\r\n    ];\r\n  }\r\n}\r\n```\r\n\r\nThe method `Configuration::current()` uses following JSON to return values:\r\n```js\r\n{\r\n  \"uri\": {\r\n    \"baseDomain\": \"domain.test\"\r\n  },\r\n  \"security\": {\r\n    \"cors\": {\r\n      \"allowed\": {\r\n        \"origins\": [\"domain.test\"],\r\n        \"headers\": [\r\n          \"Accept\", \"Origin\", \"X-Auth-Token\",\r\n          \"Content-Type\", \"Authorization\", \"X-Requested-With\",\r\n          \"Accept-Language\", \"Last-Event-ID\", \"Accept-Language\",\r\n          \"Cookie\", \"Content-Length\", \"WWW-Authenticate\", \"X-XSRF-TOKEN\",\r\n          \"withcredentials\", \"x-forwarded-for\", \"x-real-ip\",\r\n          \"x-customheader\", \"user-agent\", \"keep-alive\", \"host\",\r\n          \"connection\", \"upgrade\", \"dnt\", \"if-modified-since\", \"cache-control\"\r\n        ]\r\n      },\r\n      \"maxAge\": 86400\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAbove is my code to handle CORS, ES6 `fetch` and jQuery `$.ajax` both are comfortable with that.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470187582/reactions","total_count":2,"+1":1,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470227838","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-470227838","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":470227838,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDIyNzgzOA==","user":{"login":"Qclanton","id":5018463,"node_id":"MDQ6VXNlcjUwMTg0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/5018463?v=4","gravatar_id":"","url":"https://api.github.com/users/Qclanton","html_url":"https://github.com/Qclanton","followers_url":"https://api.github.com/users/Qclanton/followers","following_url":"https://api.github.com/users/Qclanton/following{/other_user}","gists_url":"https://api.github.com/users/Qclanton/gists{/gist_id}","starred_url":"https://api.github.com/users/Qclanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Qclanton/subscriptions","organizations_url":"https://api.github.com/users/Qclanton/orgs","repos_url":"https://api.github.com/users/Qclanton/repos","events_url":"https://api.github.com/users/Qclanton/events{/privacy}","received_events_url":"https://api.github.com/users/Qclanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-06T18:48:09Z","updated_at":"2019-03-06T18:48:09Z","body":"@blacksmoke26, you just set necessary headers manually. I did roughly the same thing in my case but I'm not sure it is a good solution. It should be fixed in the framework core or at least clarified in documentation.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470227838/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Qclanton","id":5018463,"node_id":"MDQ6VXNlcjUwMTg0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/5018463?v=4","gravatar_id":"","url":"https://api.github.com/users/Qclanton","html_url":"https://github.com/Qclanton","followers_url":"https://api.github.com/users/Qclanton/followers","following_url":"https://api.github.com/users/Qclanton/following{/other_user}","gists_url":"https://api.github.com/users/Qclanton/gists{/gist_id}","starred_url":"https://api.github.com/users/Qclanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Qclanton/subscriptions","organizations_url":"https://api.github.com/users/Qclanton/orgs","repos_url":"https://api.github.com/users/Qclanton/repos","events_url":"https://api.github.com/users/Qclanton/events{/privacy}","received_events_url":"https://api.github.com/users/Qclanton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2185057488,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjE4NTA1NzQ4OA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2185057488","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-06T18:48:09Z","performed_via_github_app":null},{"id":2185057490,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxODUwNTc0OTA=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2185057490","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-06T18:48:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470383949","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-470383949","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":470383949,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDM4Mzk0OQ==","user":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-07T04:51:35Z","updated_at":"2019-03-07T04:51:35Z","body":"@Qclanton, nope, it's not! but was in hurry! So did that on purpose.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/470383949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"blacksmoke26","id":425744,"node_id":"MDQ6VXNlcjQyNTc0NA==","avatar_url":"https://avatars.githubusercontent.com/u/425744?v=4","gravatar_id":"","url":"https://api.github.com/users/blacksmoke26","html_url":"https://github.com/blacksmoke26","followers_url":"https://api.github.com/users/blacksmoke26/followers","following_url":"https://api.github.com/users/blacksmoke26/following{/other_user}","gists_url":"https://api.github.com/users/blacksmoke26/gists{/gist_id}","starred_url":"https://api.github.com/users/blacksmoke26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blacksmoke26/subscriptions","organizations_url":"https://api.github.com/users/blacksmoke26/orgs","repos_url":"https://api.github.com/users/blacksmoke26/repos","events_url":"https://api.github.com/users/blacksmoke26/events{/privacy}","received_events_url":"https://api.github.com/users/blacksmoke26/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2186120808,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjE4NjEyMDgwOA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2186120808","actor":{"login":"Qclanton","id":5018463,"node_id":"MDQ6VXNlcjUwMTg0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/5018463?v=4","gravatar_id":"","url":"https://api.github.com/users/Qclanton","html_url":"https://github.com/Qclanton","followers_url":"https://api.github.com/users/Qclanton/followers","following_url":"https://api.github.com/users/Qclanton/following{/other_user}","gists_url":"https://api.github.com/users/Qclanton/gists{/gist_id}","starred_url":"https://api.github.com/users/Qclanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Qclanton/subscriptions","organizations_url":"https://api.github.com/users/Qclanton/orgs","repos_url":"https://api.github.com/users/Qclanton/repos","events_url":"https://api.github.com/users/Qclanton/events{/privacy}","received_events_url":"https://api.github.com/users/Qclanton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-03-07T04:51:35Z","performed_via_github_app":null},{"id":2186120809,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIxODYxMjA4MDk=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2186120809","actor":{"login":"Qclanton","id":5018463,"node_id":"MDQ6VXNlcjUwMTg0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/5018463?v=4","gravatar_id":"","url":"https://api.github.com/users/Qclanton","html_url":"https://github.com/Qclanton","followers_url":"https://api.github.com/users/Qclanton/followers","following_url":"https://api.github.com/users/Qclanton/following{/other_user}","gists_url":"https://api.github.com/users/Qclanton/gists{/gist_id}","starred_url":"https://api.github.com/users/Qclanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Qclanton/subscriptions","organizations_url":"https://api.github.com/users/Qclanton/orgs","repos_url":"https://api.github.com/users/Qclanton/repos","events_url":"https://api.github.com/users/Qclanton/events{/privacy}","received_events_url":"https://api.github.com/users/Qclanton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-03-07T04:51:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/472439036","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-472439036","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":472439036,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjQzOTAzNg==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T14:14:37Z","updated_at":"2019-03-13T14:14:37Z","body":"My solution was simply adding the following line at the top of the index.php, and it works though it seems anti-pattern:\r\n\r\n`header('Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept, Authorization');`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/472439036/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/479214129","html_url":"https://github.com/yiisoft/yii2/issues/16820#issuecomment-479214129","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/16820","id":479214129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIxNDEyOQ==","user":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T21:36:33Z","updated_at":"2019-04-02T21:38:27Z","body":"I solved adding this line before of `return $responseHeaders;` on `function prepareHeaders($requestHeaders)` in `vendor/yiisoft/yii2/filters/Cors.php`:\r\n\r\n`$responseHeaders['Access-Control-Allow-Headers'] = $this->cors['Access-Control-Allow-Headers'];`\r\n\r\nBut I did not like to edit this in a vendor dependency, so...\r\n\r\nAs I'm using advanced Yii2 application, I created the class file common/filters/Cors.php like this:\r\n```\r\n<?php\r\nnamespace common\\filters;\r\n\r\nclass Cors extends \\yii\\filters\\Cors {\r\n    public function prepareHeaders($requestHeaders) {\r\n        $responseHeaders = parent::prepareHeaders($requestHeaders);\r\n        if (isset($this->cors['Access-Control-Allow-Headers'])) {\r\n            $responseHeaders['Access-Control-Allow-Headers'] = implode(', ', $this->cors['Access-Control-Allow-Headers']);\r\n        }\r\n        return $responseHeaders;\r\n    }\r\n}\r\n```\r\nIn my controller, I did put this:\r\n\r\n```\r\npublic static function allowedDomains() {\r\n\treturn [$_SERVER[\"REMOTE_ADDR\"], 'http://localhost:4200'];\r\n}\r\n\r\nfunction behaviors()\r\n\t{\r\n\t\t$behaviors = parent::behaviors();\r\n\t\t$behaviors['contentNegotiator'] = [\r\n\t\t\t'class' => ContentNegotiator::className(),\r\n\t\t\t'formats' => [\r\n\t\t\t\t'application/json' => Response::FORMAT_JSON,\r\n\t\t\t],\r\n\t\t];\r\n\t\treturn array_merge($behaviors, [\r\n\t\t\t'corsFilter'  => [\r\n\t\t\t\t'class' => \\common\\filters\\Cors::className(),\r\n\t\t\t\t'cors'  => [\r\n\t\t\t\t\t// restrict access to domains:\r\n\t\t\t\t\t'Origin'                           => static::allowedDomains(),\r\n\t\t\t\t\t'Access-Control-Request-Method'    => ['POST', 'GET', 'OPTIONS'],\r\n\t\t\t\t\t'Access-Control-Allow-Credentials' => true,\r\n\t\t\t\t\t'Access-Control-Max-Age'           => 3600,                 // Cache (seconds)\r\n\t\t\t\t\t'Access-Control-Allow-Headers' => ['authorization','X-Requested-With','content-type', 'some_custom_header']\r\n\t\t\t\t],\r\n\t\t\t],\r\n\t\t]);\r\n\t\treturn $behaviors;\r\n\t}\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/479214129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2248067701,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNDgwNjc3MDE=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2248067701","actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d40ae698847a5201650767f72c3d66feb85a63c3","commit_url":"https://api.github.com/repos/georgezim85/yii2/commits/d40ae698847a5201650767f72c3d66feb85a63c3","created_at":"2019-04-02T22:11:54Z","performed_via_github_app":null},{"actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-02T22:15:13Z","updated_at":"2019-04-02T22:15:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/17249","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/17249/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/17249/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/17249/events","html_url":"https://github.com/yiisoft/yii2/pull/17249","id":428469894,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY2ODI4NDg2","number":17249,"title":"Solves #16820 issue","user":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33208443,"node_id":"MDU6TGFiZWwzMzIwODQ0Mw==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false,"description":"Bug"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/34","html_url":"https://github.com/yiisoft/yii2/milestone/34","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/34/labels","id":4016527,"node_id":"MDk6TWlsZXN0b25lNDAxNjUyNw==","number":34,"title":"2.0.18","description":"","creator":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":13,"state":"closed","created_at":"2019-01-30T23:57:32Z","updated_at":"2019-04-23T12:51:08Z","due_on":"2019-05-31T07:00:00Z","closed_at":"2019-04-23T12:51:08Z"},"comments":2,"created_at":"2019-04-02T22:15:13Z","updated_at":"2019-04-16T14:27:29Z","closed_at":"2019-04-16T14:27:27Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/yiisoft/yii2/pulls/17249","html_url":"https://github.com/yiisoft/yii2/pull/17249","diff_url":"https://github.com/yiisoft/yii2/pull/17249.diff","patch_url":"https://github.com/yiisoft/yii2/pull/17249.patch","merged_at":"2019-04-16T14:27:27Z"},"body":"It solves the issue: Yii2 does not send Access-Control-Allow-Headers in preflight response #16820\r\n\r\n| Q             | A\r\n| ------------- | ---\r\n| Is bugfix?    | yes\r\n| New feature?  | no\r\n| Breaks BC?    | no\r\n| Tests pass?   | yes\r\n| Fixed issues  | #16820 \r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/17249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/17249/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":2270003711,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNzAwMDM3MTE=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2270003711","actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"21b725479c351ce55f94296bf5f383fd01eb4a4e","commit_url":"https://api.github.com/repos/georgezim85/yii2/commits/21b725479c351ce55f94296bf5f383fd01eb4a4e","created_at":"2019-04-11T17:32:50Z","performed_via_github_app":null},{"id":2273114477,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNzMxMTQ0Nzc=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2273114477","actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ba11b33f252ea37aa697b13f8a2dc5548dc52d40","commit_url":"https://api.github.com/repos/georgezim85/yii2/commits/ba11b33f252ea37aa697b13f8a2dc5548dc52d40","created_at":"2019-04-12T17:35:21Z","performed_via_github_app":null},{"id":2273123800,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNzMxMjM4MDA=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2273123800","actor":{"login":"georgezim85","id":8793514,"node_id":"MDQ6VXNlcjg3OTM1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8793514?v=4","gravatar_id":"","url":"https://api.github.com/users/georgezim85","html_url":"https://github.com/georgezim85","followers_url":"https://api.github.com/users/georgezim85/followers","following_url":"https://api.github.com/users/georgezim85/following{/other_user}","gists_url":"https://api.github.com/users/georgezim85/gists{/gist_id}","starred_url":"https://api.github.com/users/georgezim85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/georgezim85/subscriptions","organizations_url":"https://api.github.com/users/georgezim85/orgs","repos_url":"https://api.github.com/users/georgezim85/repos","events_url":"https://api.github.com/users/georgezim85/events{/privacy}","received_events_url":"https://api.github.com/users/georgezim85/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e1b69586ee9398f9a7364d246f6d9953dcec59cd","commit_url":"https://api.github.com/repos/georgezim85/yii2/commits/e1b69586ee9398f9a7364d246f6d9953dcec59cd","created_at":"2019-04-12T17:39:42Z","performed_via_github_app":null},{"id":2279875901,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MjI3OTg3NTkwMQ==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2279875901","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2019-04-16T14:27:38Z","label":{"name":"status:to be verified","color":"fbca04"},"performed_via_github_app":null},{"id":2279875996,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDIyNzk4NzU5OTY=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2279875996","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-04-16T14:27:40Z","milestone":{"title":"2.0.18"},"performed_via_github_app":null},{"id":2279876195,"node_id":"MDExOkNsb3NlZEV2ZW50MjI3OTg3NjE5NQ==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2279876195","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-16T14:27:44Z","state_reason":null,"performed_via_github_app":null},{"id":2279877684,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNzk4Nzc2ODQ=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2279877684","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"58761b4411c3faa628bbcaf6520a7101e4faceba","commit_url":"https://api.github.com/repos/yiisoft/yii2/commits/58761b4411c3faa628bbcaf6520a7101e4faceba","created_at":"2019-04-16T14:28:09Z","performed_via_github_app":null}]