[{"id":1770832680,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NzA4MzI2ODA=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1770832680","actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ec5171871e0552e4c6994edb2c709ea10cf1c77a","commit_url":"https://api.github.com/repos/brandonkelly/yii2/commits/ec5171871e0552e4c6994edb2c709ea10cf1c77a","created_at":"2018-08-03T20:56:36Z","performed_via_github_app":null},{"actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T20:57:41Z","updated_at":"2018-08-03T20:57:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/16604","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/16604/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/16604/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/16604/events","html_url":"https://github.com/yiisoft/yii2/pull/16604","id":347534072,"node_id":"MDExOlB1bGxSZXF1ZXN0MjA2MTM3MjI2","number":16604,"title":"Allow FileMutex to be explicitly told it is operating on a Windows filesystem","user":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/25","html_url":"https://github.com/yiisoft/yii2/milestone/25","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/25/labels","id":2562828,"node_id":"MDk6TWlsZXN0b25lMjU2MjgyOA==","number":25,"title":"2.0.16","description":"","creator":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":291,"state":"closed","created_at":"2017-06-05T18:03:36Z","updated_at":"2019-01-30T23:57:22Z","due_on":"2019-02-01T08:00:00Z","closed_at":"2019-01-30T23:57:22Z"},"comments":4,"created_at":"2018-08-03T20:57:41Z","updated_at":"2018-10-18T09:04:47Z","closed_at":"2018-08-05T09:23:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/yiisoft/yii2/pulls/16604","html_url":"https://github.com/yiisoft/yii2/pull/16604","diff_url":"https://github.com/yiisoft/yii2/pull/16604.diff","patch_url":"https://github.com/yiisoft/yii2/pull/16604.patch","merged_at":"2018-08-05T09:23:38Z"},"body":"| Q             | A\r\n| ------------- | ---\r\n| Is bugfix?    | yes\r\n| New feature?  | no\r\n| Breaks BC?    | no\r\n| Tests pass?   | yes\r\n| Fixed issues  | #16603\r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/16604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/16604/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-03T20:59:26Z","updated_at":"2018-08-03T20:59:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/craftcms/cms/issues/2526","repository_url":"https://api.github.com/repos/craftcms/cms","labels_url":"https://api.github.com/repos/craftcms/cms/issues/2526/labels{/name}","comments_url":"https://api.github.com/repos/craftcms/cms/issues/2526/comments","events_url":"https://api.github.com/repos/craftcms/cms/issues/2526/events","html_url":"https://github.com/craftcms/cms/issues/2526","id":302081381,"node_id":"MDU6SXNzdWUzMDIwODEzODE=","number":2526,"title":"Deleting stale template caches unable to complete","user":{"login":"baileydoestech","id":3185073,"node_id":"MDQ6VXNlcjMxODUwNzM=","avatar_url":"https://avatars.githubusercontent.com/u/3185073?v=4","gravatar_id":"","url":"https://api.github.com/users/baileydoestech","html_url":"https://github.com/baileydoestech","followers_url":"https://api.github.com/users/baileydoestech/followers","following_url":"https://api.github.com/users/baileydoestech/following{/other_user}","gists_url":"https://api.github.com/users/baileydoestech/gists{/gist_id}","starred_url":"https://api.github.com/users/baileydoestech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baileydoestech/subscriptions","organizations_url":"https://api.github.com/users/baileydoestech/orgs","repos_url":"https://api.github.com/users/baileydoestech/repos","events_url":"https://api.github.com/users/baileydoestech/events{/privacy}","received_events_url":"https://api.github.com/users/baileydoestech/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":527381576,"node_id":"MDU6TGFiZWw1MjczODE1NzY=","url":"https://api.github.com/repos/craftcms/cms/labels/environmental","name":"environmental","color":"fad8c7","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"angrybrad","id":61869,"node_id":"MDQ6VXNlcjYxODY5","avatar_url":"https://avatars.githubusercontent.com/u/61869?v=4","gravatar_id":"","url":"https://api.github.com/users/angrybrad","html_url":"https://github.com/angrybrad","followers_url":"https://api.github.com/users/angrybrad/followers","following_url":"https://api.github.com/users/angrybrad/following{/other_user}","gists_url":"https://api.github.com/users/angrybrad/gists{/gist_id}","starred_url":"https://api.github.com/users/angrybrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angrybrad/subscriptions","organizations_url":"https://api.github.com/users/angrybrad/orgs","repos_url":"https://api.github.com/users/angrybrad/repos","events_url":"https://api.github.com/users/angrybrad/events{/privacy}","received_events_url":"https://api.github.com/users/angrybrad/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"angrybrad","id":61869,"node_id":"MDQ6VXNlcjYxODY5","avatar_url":"https://avatars.githubusercontent.com/u/61869?v=4","gravatar_id":"","url":"https://api.github.com/users/angrybrad","html_url":"https://github.com/angrybrad","followers_url":"https://api.github.com/users/angrybrad/followers","following_url":"https://api.github.com/users/angrybrad/following{/other_user}","gists_url":"https://api.github.com/users/angrybrad/gists{/gist_id}","starred_url":"https://api.github.com/users/angrybrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angrybrad/subscriptions","organizations_url":"https://api.github.com/users/angrybrad/orgs","repos_url":"https://api.github.com/users/angrybrad/repos","events_url":"https://api.github.com/users/angrybrad/events{/privacy}","received_events_url":"https://api.github.com/users/angrybrad/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":17,"created_at":"2018-03-04T12:22:30Z","updated_at":"2019-03-13T23:13:24Z","closed_at":"2018-08-05T13:45:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":80249302,"node_id":"MDEwOlJlcG9zaXRvcnk4MDI0OTMwMg==","name":"cms","full_name":"craftcms/cms","private":false,"owner":{"login":"craftcms","id":22369139,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIyMzY5MTM5","avatar_url":"https://avatars.githubusercontent.com/u/22369139?v=4","gravatar_id":"","url":"https://api.github.com/users/craftcms","html_url":"https://github.com/craftcms","followers_url":"https://api.github.com/users/craftcms/followers","following_url":"https://api.github.com/users/craftcms/following{/other_user}","gists_url":"https://api.github.com/users/craftcms/gists{/gist_id}","starred_url":"https://api.github.com/users/craftcms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/craftcms/subscriptions","organizations_url":"https://api.github.com/users/craftcms/orgs","repos_url":"https://api.github.com/users/craftcms/repos","events_url":"https://api.github.com/users/craftcms/events{/privacy}","received_events_url":"https://api.github.com/users/craftcms/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/craftcms/cms","description":"Build bespoke content experiences with Craft.","fork":false,"url":"https://api.github.com/repos/craftcms/cms","forks_url":"https://api.github.com/repos/craftcms/cms/forks","keys_url":"https://api.github.com/repos/craftcms/cms/keys{/key_id}","collaborators_url":"https://api.github.com/repos/craftcms/cms/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/craftcms/cms/teams","hooks_url":"https://api.github.com/repos/craftcms/cms/hooks","issue_events_url":"https://api.github.com/repos/craftcms/cms/issues/events{/number}","events_url":"https://api.github.com/repos/craftcms/cms/events","assignees_url":"https://api.github.com/repos/craftcms/cms/assignees{/user}","branches_url":"https://api.github.com/repos/craftcms/cms/branches{/branch}","tags_url":"https://api.github.com/repos/craftcms/cms/tags","blobs_url":"https://api.github.com/repos/craftcms/cms/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/craftcms/cms/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/craftcms/cms/git/refs{/sha}","trees_url":"https://api.github.com/repos/craftcms/cms/git/trees{/sha}","statuses_url":"https://api.github.com/repos/craftcms/cms/statuses/{sha}","languages_url":"https://api.github.com/repos/craftcms/cms/languages","stargazers_url":"https://api.github.com/repos/craftcms/cms/stargazers","contributors_url":"https://api.github.com/repos/craftcms/cms/contributors","subscribers_url":"https://api.github.com/repos/craftcms/cms/subscribers","subscription_url":"https://api.github.com/repos/craftcms/cms/subscription","commits_url":"https://api.github.com/repos/craftcms/cms/commits{/sha}","git_commits_url":"https://api.github.com/repos/craftcms/cms/git/commits{/sha}","comments_url":"https://api.github.com/repos/craftcms/cms/comments{/number}","issue_comment_url":"https://api.github.com/repos/craftcms/cms/issues/comments{/number}","contents_url":"https://api.github.com/repos/craftcms/cms/contents/{+path}","compare_url":"https://api.github.com/repos/craftcms/cms/compare/{base}...{head}","merges_url":"https://api.github.com/repos/craftcms/cms/merges","archive_url":"https://api.github.com/repos/craftcms/cms/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/craftcms/cms/downloads","issues_url":"https://api.github.com/repos/craftcms/cms/issues{/number}","pulls_url":"https://api.github.com/repos/craftcms/cms/pulls{/number}","milestones_url":"https://api.github.com/repos/craftcms/cms/milestones{/number}","notifications_url":"https://api.github.com/repos/craftcms/cms/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/craftcms/cms/labels{/name}","releases_url":"https://api.github.com/repos/craftcms/cms/releases{/id}","deployments_url":"https://api.github.com/repos/craftcms/cms/deployments","created_at":"2017-01-27T21:52:45Z","updated_at":"2025-11-09T21:50:51Z","pushed_at":"2025-11-09T23:05:47Z","git_url":"git://github.com/craftcms/cms.git","ssh_url":"git@github.com:craftcms/cms.git","clone_url":"https://github.com/craftcms/cms.git","svn_url":"https://github.com/craftcms/cms","homepage":"https://craftcms.com","size":876503,"stargazers_count":3490,"watchers_count":3490,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":680,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":524,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cms","content-management","craft3","craft4","craftcms","graphql","php","php7","php8","twig","yii2"],"visibility":"public","forks":680,"open_issues":524,"watchers":3490,"default_branch":"5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description\r\nOn a clean build of latest Craft 3 RC (13) the 'Deleting stale template caches' job cannot run and gets stuck. Running ./craft queue/run throws the following exception:\r\n\r\nPHP Warning 'yii\\base\\ErrorException' with message 'unlink(/home/vagrant/code/craft/storage/runtime/mutex/d2cd3eeb43126a9da9ebb748dc3680d4.lock): Text file busy'\r\n\r\n### Steps to reproduce\r\n\r\n1. Clean Craft installation (running on homestead)\r\n2. Deleting stale template caches job fails to run, from admin and console\r\n\r\n### Additional info\r\n\r\n- Craft version: Craft 3 RC 13\r\n- PHP version: 7.2.2\r\n- Database driver & version: mysql\r\n- Plugins & versions: none\r\n","reactions":{"url":"https://api.github.com/repos/craftcms/cms/issues/2526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/craftcms/cms/issues/2526/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1771539005,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE3NzE1MzkwMDU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1771539005","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-08-05T09:23:47Z","milestone":{"title":"2.0.16"},"performed_via_github_app":null},{"id":1771539014,"node_id":"MDExOkNsb3NlZEV2ZW50MTc3MTUzOTAxNA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1771539014","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-08-05T09:23:49Z","state_reason":null,"performed_via_github_app":null},{"id":1771539074,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE3NzE1MzkwNzQ=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/1771539074","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0ddc3bf58c2cb4b258b3395f9be882093b3e88e1","commit_url":"https://api.github.com/repos/yiisoft/yii2/commits/0ddc3bf58c2cb4b258b3395f9be882093b3e88e1","created_at":"2018-08-05T09:24:05Z","performed_via_github_app":null},{"actor":{"login":"jamesmacwhite","id":8067792,"node_id":"MDQ6VXNlcjgwNjc3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/8067792?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesmacwhite","html_url":"https://github.com/jamesmacwhite","followers_url":"https://api.github.com/users/jamesmacwhite/followers","following_url":"https://api.github.com/users/jamesmacwhite/following{/other_user}","gists_url":"https://api.github.com/users/jamesmacwhite/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesmacwhite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesmacwhite/subscriptions","organizations_url":"https://api.github.com/users/jamesmacwhite/orgs","repos_url":"https://api.github.com/users/jamesmacwhite/repos","events_url":"https://api.github.com/users/jamesmacwhite/events{/privacy}","received_events_url":"https://api.github.com/users/jamesmacwhite/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-13T13:40:11Z","updated_at":"2019-03-13T13:40:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/craftcms/cms/issues/3990","repository_url":"https://api.github.com/repos/craftcms/cms","labels_url":"https://api.github.com/repos/craftcms/cms/issues/3990/labels{/name}","comments_url":"https://api.github.com/repos/craftcms/cms/issues/3990/comments","events_url":"https://api.github.com/repos/craftcms/cms/issues/3990/events","html_url":"https://github.com/craftcms/cms/issues/3990","id":420505237,"node_id":"MDU6SXNzdWU0MjA1MDUyMzc=","number":3990,"title":"Cannot download an asset locally under a Windows environment","user":{"login":"jamesmacwhite","id":8067792,"node_id":"MDQ6VXNlcjgwNjc3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/8067792?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesmacwhite","html_url":"https://github.com/jamesmacwhite","followers_url":"https://api.github.com/users/jamesmacwhite/followers","following_url":"https://api.github.com/users/jamesmacwhite/following{/other_user}","gists_url":"https://api.github.com/users/jamesmacwhite/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesmacwhite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesmacwhite/subscriptions","organizations_url":"https://api.github.com/users/jamesmacwhite/orgs","repos_url":"https://api.github.com/users/jamesmacwhite/repos","events_url":"https://api.github.com/users/jamesmacwhite/events{/privacy}","received_events_url":"https://api.github.com/users/jamesmacwhite/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"angrybrad","id":61869,"node_id":"MDQ6VXNlcjYxODY5","avatar_url":"https://avatars.githubusercontent.com/u/61869?v=4","gravatar_id":"","url":"https://api.github.com/users/angrybrad","html_url":"https://github.com/angrybrad","followers_url":"https://api.github.com/users/angrybrad/followers","following_url":"https://api.github.com/users/angrybrad/following{/other_user}","gists_url":"https://api.github.com/users/angrybrad/gists{/gist_id}","starred_url":"https://api.github.com/users/angrybrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angrybrad/subscriptions","organizations_url":"https://api.github.com/users/angrybrad/orgs","repos_url":"https://api.github.com/users/angrybrad/repos","events_url":"https://api.github.com/users/angrybrad/events{/privacy}","received_events_url":"https://api.github.com/users/angrybrad/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"angrybrad","id":61869,"node_id":"MDQ6VXNlcjYxODY5","avatar_url":"https://avatars.githubusercontent.com/u/61869?v=4","gravatar_id":"","url":"https://api.github.com/users/angrybrad","html_url":"https://github.com/angrybrad","followers_url":"https://api.github.com/users/angrybrad/followers","following_url":"https://api.github.com/users/angrybrad/following{/other_user}","gists_url":"https://api.github.com/users/angrybrad/gists{/gist_id}","starred_url":"https://api.github.com/users/angrybrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/angrybrad/subscriptions","organizations_url":"https://api.github.com/users/angrybrad/orgs","repos_url":"https://api.github.com/users/angrybrad/repos","events_url":"https://api.github.com/users/angrybrad/events{/privacy}","received_events_url":"https://api.github.com/users/angrybrad/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-03-13T13:40:11Z","updated_at":"2019-03-24T19:08:37Z","closed_at":"2019-03-24T18:20:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":80249302,"node_id":"MDEwOlJlcG9zaXRvcnk4MDI0OTMwMg==","name":"cms","full_name":"craftcms/cms","private":false,"owner":{"login":"craftcms","id":22369139,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIyMzY5MTM5","avatar_url":"https://avatars.githubusercontent.com/u/22369139?v=4","gravatar_id":"","url":"https://api.github.com/users/craftcms","html_url":"https://github.com/craftcms","followers_url":"https://api.github.com/users/craftcms/followers","following_url":"https://api.github.com/users/craftcms/following{/other_user}","gists_url":"https://api.github.com/users/craftcms/gists{/gist_id}","starred_url":"https://api.github.com/users/craftcms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/craftcms/subscriptions","organizations_url":"https://api.github.com/users/craftcms/orgs","repos_url":"https://api.github.com/users/craftcms/repos","events_url":"https://api.github.com/users/craftcms/events{/privacy}","received_events_url":"https://api.github.com/users/craftcms/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/craftcms/cms","description":"Build bespoke content experiences with Craft.","fork":false,"url":"https://api.github.com/repos/craftcms/cms","forks_url":"https://api.github.com/repos/craftcms/cms/forks","keys_url":"https://api.github.com/repos/craftcms/cms/keys{/key_id}","collaborators_url":"https://api.github.com/repos/craftcms/cms/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/craftcms/cms/teams","hooks_url":"https://api.github.com/repos/craftcms/cms/hooks","issue_events_url":"https://api.github.com/repos/craftcms/cms/issues/events{/number}","events_url":"https://api.github.com/repos/craftcms/cms/events","assignees_url":"https://api.github.com/repos/craftcms/cms/assignees{/user}","branches_url":"https://api.github.com/repos/craftcms/cms/branches{/branch}","tags_url":"https://api.github.com/repos/craftcms/cms/tags","blobs_url":"https://api.github.com/repos/craftcms/cms/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/craftcms/cms/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/craftcms/cms/git/refs{/sha}","trees_url":"https://api.github.com/repos/craftcms/cms/git/trees{/sha}","statuses_url":"https://api.github.com/repos/craftcms/cms/statuses/{sha}","languages_url":"https://api.github.com/repos/craftcms/cms/languages","stargazers_url":"https://api.github.com/repos/craftcms/cms/stargazers","contributors_url":"https://api.github.com/repos/craftcms/cms/contributors","subscribers_url":"https://api.github.com/repos/craftcms/cms/subscribers","subscription_url":"https://api.github.com/repos/craftcms/cms/subscription","commits_url":"https://api.github.com/repos/craftcms/cms/commits{/sha}","git_commits_url":"https://api.github.com/repos/craftcms/cms/git/commits{/sha}","comments_url":"https://api.github.com/repos/craftcms/cms/comments{/number}","issue_comment_url":"https://api.github.com/repos/craftcms/cms/issues/comments{/number}","contents_url":"https://api.github.com/repos/craftcms/cms/contents/{+path}","compare_url":"https://api.github.com/repos/craftcms/cms/compare/{base}...{head}","merges_url":"https://api.github.com/repos/craftcms/cms/merges","archive_url":"https://api.github.com/repos/craftcms/cms/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/craftcms/cms/downloads","issues_url":"https://api.github.com/repos/craftcms/cms/issues{/number}","pulls_url":"https://api.github.com/repos/craftcms/cms/pulls{/number}","milestones_url":"https://api.github.com/repos/craftcms/cms/milestones{/number}","notifications_url":"https://api.github.com/repos/craftcms/cms/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/craftcms/cms/labels{/name}","releases_url":"https://api.github.com/repos/craftcms/cms/releases{/id}","deployments_url":"https://api.github.com/repos/craftcms/cms/deployments","created_at":"2017-01-27T21:52:45Z","updated_at":"2025-11-09T21:50:51Z","pushed_at":"2025-11-09T23:05:47Z","git_url":"git://github.com/craftcms/cms.git","ssh_url":"git@github.com:craftcms/cms.git","clone_url":"https://github.com/craftcms/cms.git","svn_url":"https://github.com/craftcms/cms","homepage":"https://craftcms.com","size":876503,"stargazers_count":3490,"watchers_count":3490,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":680,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":524,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cms","content-management","craft3","craft4","craftcms","graphql","php","php7","php8","twig","yii2"],"visibility":"public","forks":680,"open_issues":524,"watchers":3490,"default_branch":"5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description\r\n\r\nI think this might be related to the following issues and this is possibly a Yii issue:\r\n\r\nhttps://github.com/yiisoft/yii2/issues/16603\r\nhttps://github.com/yiisoft/yii2/pull/16604\r\n\r\nI'm unable to download an asset from an asset source in Craft CP when running under a Windows-hosted Unix VM (nanobox with VirtualBox), due to the following PHP exception occurring related to the unlink() function. A temp file is created in `/storage/runtime/temp` when attempting to download an asset but because of the unlink() exception, the download action returns a server error.\r\n\r\n```\r\n2019-03-13 13:12:00 [-][43903][51b97db60ebb60aebd1239f015978078][error][yii\\base\\ErrorException:2] yii\\base\\ErrorException: unlink(/app/storage/runtime/temp/example.jpg): Text file busy in /app/vendor/yiisoft/yii2/helpers/BaseFileHelper.php:407\r\nStack trace:\r\n#0 /app/vendor/yiisoft/yii2/helpers/BaseFileHelper.php(407): ::unlink()\r\n#1 /app/vendor/craftcms/cms/src/controllers/AssetsController.php(812): yii\\helpers\\BaseFileHelper::unlink()\r\n#2 /app/vendor/yiisoft/yii2/base/InlineAction.php(57): craft\\controllers\\AssetsController->actionDownloadAsset()\r\n#3 /app/vendor/yiisoft/yii2/base/InlineAction.php(57): ::call_user_func_array:{/app/vendor/yiisoft/yii2/base/InlineAction.php:57}()\r\n#4 /app/vendor/yiisoft/yii2/base/Controller.php(157): yii\\base\\InlineAction->runWithParams()\r\n#5 /app/vendor/craftcms/cms/src/web/Controller.php(109): craft\\controllers\\AssetsController->runAction()\r\n#6 /app/vendor/yiisoft/yii2/base/Module.php(528): craft\\controllers\\AssetsController->runAction()\r\n#7 /app/vendor/craftcms/cms/src/web/Application.php(297): craft\\web\\Application->runAction()\r\n#8 /app/vendor/craftcms/cms/src/web/Application.php(561): craft\\web\\Application->runAction()\r\n#9 /app/vendor/craftcms/cms/src/web/Application.php(281): craft\\web\\Application->_processActionRequest()\r\n#10 /app/vendor/yiisoft/yii2/base/Application.php(386): craft\\web\\Application->handleRequest()\r\n#11 /app/web/index.php(21): craft\\web\\Application->run()\r\n#12 {main}\r\n```\r\nI have implemented the `isWindows` config for the environment, so Yii is aware this is a Windows FS:\r\n```\r\n'components' => [\r\n\t    'mutex' => function() {\r\n\t\t    $config = \\craft\\helpers\\App::mutexConfig();\r\n\t\t    $config['isWindows'] = filter_var(getenv('WINDOWS_FS'), FILTER_VALIDATE_BOOLEAN);\r\n\r\n\t\t    return \\Craft::createObject($config);\r\n\t    },\r\n    ],\r\n```\r\nThis config is having a positive impact for other areas like DB migrations, because these also fail without this, but downloading assets which ultimately get written to a Windows FS is failing.\r\n\r\nInterestingly if I remove the following lines from the `BaseFileHelper.php` https://github.com/yiisoft/yii2/blob/master/framework/helpers/BaseFileHelper.php#L406-L408 the download of the asset is successful, so I'm not sure what to make of that.\r\n\r\n### Additional info\r\n\r\n- Craft version: 3.1.17.2\r\n- PHP version: 7.1\r\n- Database driver & version: 5.6","reactions":{"url":"https://api.github.com/repos/craftcms/cms/issues/3990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/craftcms/cms/issues/3990/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"rob006","id":5972388,"node_id":"MDQ6VXNlcjU5NzIzODg=","avatar_url":"https://avatars.githubusercontent.com/u/5972388?v=4","gravatar_id":"","url":"https://api.github.com/users/rob006","html_url":"https://github.com/rob006","followers_url":"https://api.github.com/users/rob006/followers","following_url":"https://api.github.com/users/rob006/following{/other_user}","gists_url":"https://api.github.com/users/rob006/gists{/gist_id}","starred_url":"https://api.github.com/users/rob006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob006/subscriptions","organizations_url":"https://api.github.com/users/rob006/orgs","repos_url":"https://api.github.com/users/rob006/repos","events_url":"https://api.github.com/users/rob006/events{/privacy}","received_events_url":"https://api.github.com/users/rob006/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-23T11:37:32Z","updated_at":"2019-03-23T11:37:32Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/17222","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/17222/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/17222/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/17222/events","html_url":"https://github.com/yiisoft/yii2/issues/17222","id":424490709,"node_id":"MDU6SXNzdWU0MjQ0OTA3MDk=","number":17222,"title":"unlink() calls fail in BaseFileHelper.php on Windows hosted Nanobox environment","user":{"login":"jamesmacwhite","id":8067792,"node_id":"MDQ6VXNlcjgwNjc3OTI=","avatar_url":"https://avatars.githubusercontent.com/u/8067792?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesmacwhite","html_url":"https://github.com/jamesmacwhite","followers_url":"https://api.github.com/users/jamesmacwhite/followers","following_url":"https://api.github.com/users/jamesmacwhite/following{/other_user}","gists_url":"https://api.github.com/users/jamesmacwhite/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesmacwhite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesmacwhite/subscriptions","organizations_url":"https://api.github.com/users/jamesmacwhite/orgs","repos_url":"https://api.github.com/users/jamesmacwhite/repos","events_url":"https://api.github.com/users/jamesmacwhite/events{/privacy}","received_events_url":"https://api.github.com/users/jamesmacwhite/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33208443,"node_id":"MDU6TGFiZWwzMzIwODQ0Mw==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false,"description":"Bug"},{"id":38412944,"node_id":"MDU6TGFiZWwzODQxMjk0NA==","url":"https://api.github.com/repos/yiisoft/yii2/labels/status:to%20be%20verified","name":"status:to be verified","color":"fbca04","default":false,"description":"Needs to be reproduced and validated."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-03-23T11:27:31Z","updated_at":"2019-03-24T18:49:46Z","closed_at":"2019-03-24T18:49:46Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\n\r\nOn my Nanobox environment which is running in VirtualBox but ultimately is hosted on a Windows host, `unlink()` related calls are failing within: https://github.com/yiisoft/yii2/blob/master/framework/helpers/BaseFileHelper.php#L406-L408. This is happening within Craft CMS 3 in several file situations, reported here:\r\n\r\n* https://github.com/craftcms/cms/issues/3990\r\n* https://github.com/craftcms/cms/issues/4031\r\n\r\nI am using the `WINDOWS_FS` environment variable because the file share Nanobox points to is a Windows FS and is required otherwise I get various file mutex issues with file locking.\r\n\r\nIf I remove the `unlink()` call in 406-408, everything works. If I also change the line to:\r\n\r\n```\r\nreturn @unlink($path);\r\n```\r\n\r\nThis also allows it to work, but it seems it's more of a hack. I don't know if the problem is due to the fact Yii is essentially running within a Unix-like system but the file share Nanobox points to is a Windows filesystem, so it's a bit of a mix match.\r\n\r\n### What is the expected result?\r\n\r\nFile delete operation should be successful and removed without any error.\r\n\r\n### What do you get instead?\r\n\r\nPHP exception with `unlink()`. Text file is busy/permission denied depending on file operation performed.\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.16\r\n| PHP version      | 7.1 \r\n| Operating system | Windows 10 64-bit\r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/17222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/17222/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]