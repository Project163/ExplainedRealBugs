{"url":"https://api.github.com/repos/yiisoft/yii2/issues/13343","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/13343/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/13343/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/13343/events","html_url":"https://github.com/yiisoft/yii2/issues/13343","id":199380240,"node_id":"MDU6SXNzdWUxOTkzODAyNDA=","number":13343,"title":"Formatter: asTime can't recognize DST (summer time) without delivered date -> ambiguous result","user":{"login":"Enrica-r","id":2463365,"node_id":"MDQ6VXNlcjI0NjMzNjU=","avatar_url":"https://avatars.githubusercontent.com/u/2463365?v=4","gravatar_id":"","url":"https://api.github.com/users/Enrica-r","html_url":"https://github.com/Enrica-r","followers_url":"https://api.github.com/users/Enrica-r/followers","following_url":"https://api.github.com/users/Enrica-r/following{/other_user}","gists_url":"https://api.github.com/users/Enrica-r/gists{/gist_id}","starred_url":"https://api.github.com/users/Enrica-r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Enrica-r/subscriptions","organizations_url":"https://api.github.com/users/Enrica-r/orgs","repos_url":"https://api.github.com/users/Enrica-r/repos","events_url":"https://api.github.com/users/Enrica-r/events{/privacy}","received_events_url":"https://api.github.com/users/Enrica-r/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33208443,"node_id":"MDU6TGFiZWwzMzIwODQ0Mw==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false,"description":"Bug"}],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/21","html_url":"https://github.com/yiisoft/yii2/milestone/21","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/21/labels","id":1875845,"node_id":"MDk6TWlsZXN0b25lMTg3NTg0NQ==","number":21,"title":"2.0.12","description":"","creator":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":288,"state":"closed","created_at":"2016-07-11T13:42:09Z","updated_at":"2017-06-05T18:03:24Z","due_on":"2017-03-26T07:00:00Z","closed_at":"2017-06-05T18:03:24Z"},"comments":5,"created_at":"2017-01-07T19:30:10Z","updated_at":"2017-02-16T15:13:11Z","closed_at":"2017-02-16T15:13:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What steps will reproduce the problem?\r\nThe described issue happens only if `formatter->defaultTimeZone === 'UTC'` and `formatter->timeZone <> 'UTC'`. Format time only (without date info).\r\n\r\n### What is the expected result?\r\nExample: I live in the local zone 'Europe/Zurich' ( from UTC in winter +1h, in summer +2h). A user enters a time of '00:30 h' in a time field only (enter date is 31-Jul-2016). The app stores '22:30 h UTC' correctly because it's summer. The database can't store the date in a time field. Today on 07-Jan-2017 a user is opening a view of this record. He sees 23:30 h because Yii formatter normalizes the current date in `DateTime`object what is in winter.\r\n\r\nThis behavior isn't  the intention probably! Consequence: the time (shift) is dependent of viewing date. \r\n\r\n### What do you get instead?\r\nLocale time only (as stored in db) formatted if there is no date information delivered. Time Zone shifting makes sense only for timestamps or datetime fields. Yii formatter already suppresses time zone shifting for dates without time info. Same should be done for time values like '11:30:15'.\r\n\r\nI found the same issue at kartik-v's DateControl extension (see https://github.com/kartik-v/yii2-datecontrol/issues/102).\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.11\r\n| PHP version      | 7.0.x\r\n| Operating system | windows 10\r\n","closed_by":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/13343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/13343/timeline","performed_via_github_app":null,"state_reason":"completed"}