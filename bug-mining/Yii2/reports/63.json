{"url":"https://api.github.com/repos/yiisoft/yii2/issues/11762","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/11762/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/11762/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/11762/events","html_url":"https://github.com/yiisoft/yii2/issues/11762","id":160589056,"node_id":"MDU6SXNzdWUxNjA1ODkwNTY=","number":11762,"title":"Problem About ControllerMap","user":{"login":"undefinedor","id":8399852,"node_id":"MDQ6VXNlcjgzOTk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/8399852?v=4","gravatar_id":"","url":"https://api.github.com/users/undefinedor","html_url":"https://github.com/undefinedor","followers_url":"https://api.github.com/users/undefinedor/followers","following_url":"https://api.github.com/users/undefinedor/following{/other_user}","gists_url":"https://api.github.com/users/undefinedor/gists{/gist_id}","starred_url":"https://api.github.com/users/undefinedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/undefinedor/subscriptions","organizations_url":"https://api.github.com/users/undefinedor/orgs","repos_url":"https://api.github.com/users/undefinedor/repos","events_url":"https://api.github.com/users/undefinedor/events{/privacy}","received_events_url":"https://api.github.com/users/undefinedor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33208865,"node_id":"MDU6TGFiZWwzMzIwODg2NQ==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:docs","name":"type:docs","color":"207de5","default":false,"description":"Documentation"}],"state":"closed","locked":false,"assignee":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":5,"created_at":"2016-06-16T06:43:50Z","updated_at":"2016-06-16T10:31:26Z","closed_at":"2016-06-16T10:31:26Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What steps will reproduce the problem?\n\nAs http://www.yiiframework.com/doc-2.0/guide-structure-applications.html say\n\ncontrollerMap\nThis property allows you to map a controller ID to an arbitrary controller class. By default, Yii maps controller IDs to controller classes based on a convention (e.g. the ID post would be mapped to app\\controllers\\PostController). By configuring this property, you can break the convention for specific controllers. In the following example, account will be mapped to app\\controllers\\UserController, while article will be mapped to app\\controllers\\PostController.\n\n``` php\n[\n    'controllerMap' => [\n        [\n            'account' => 'app\\controllers\\UserController',\n            'article' => [\n                'class' => 'app\\controllers\\PostController',\n                'enableCsrfValidation' => false,\n            ],\n        ],\n    ],\n]\n```\n### What is the expected result?\n\n200 OK\n### What do you get instead?\n\n404 NOT FOUND\n### Additional info\n\n| Q | A |\n| --- | --- |\n| Yii version | 2.0.8 |\n| PHP version | 7.0 |\n| Operating system | Windows |\n\nThe related code about ControllerMap - \\yii\\base\\Module line:505\n\n``` php\n        // module and controller map take precedence\n        if (isset($this->controllerMap[$id])) {\n            $controller = Yii::createObject($this->controllerMap[$id], [$id, $this]);\n            return [$controller, $route];\n        }\n```\n\nThis code means  I should config this property like following:\n\n``` php\n[\n    'controllerMap' => [\n        'account' => 'app\\controllers\\UserController',\n        'article' => [\n                'class' => 'app\\controllers\\PostController',\n                'enableCsrfValidation' => false,\n            ],\n        ],\n]\n```\n\nSo...How to config is right?\n","closed_by":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/11762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/11762/timeline","performed_via_github_app":null,"state_reason":"completed"}