{"url":"https://api.github.com/repos/yiisoft/yii2/issues/11494","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/11494/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/11494/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/11494/events","html_url":"https://github.com/yiisoft/yii2/issues/11494","id":152846188,"node_id":"MDU6SXNzdWUxNTI4NDYxODg=","number":11494,"title":"yii.initScriptFilter cancel ajax request with different data params","user":{"login":"airmoi","id":2822333,"node_id":"MDQ6VXNlcjI4MjIzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/2822333?v=4","gravatar_id":"","url":"https://api.github.com/users/airmoi","html_url":"https://github.com/airmoi","followers_url":"https://api.github.com/users/airmoi/followers","following_url":"https://api.github.com/users/airmoi/following{/other_user}","gists_url":"https://api.github.com/users/airmoi/gists{/gist_id}","starred_url":"https://api.github.com/users/airmoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/airmoi/subscriptions","organizations_url":"https://api.github.com/users/airmoi/orgs","repos_url":"https://api.github.com/users/airmoi/repos","events_url":"https://api.github.com/users/airmoi/events{/privacy}","received_events_url":"https://api.github.com/users/airmoi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33332028,"node_id":"MDU6TGFiZWwzMzMzMjAyOA==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:enhancement","name":"type:enhancement","color":"d7e102","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"SilverFire","id":4499203,"node_id":"MDQ6VXNlcjQ0OTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/4499203?v=4","gravatar_id":"","url":"https://api.github.com/users/SilverFire","html_url":"https://github.com/SilverFire","followers_url":"https://api.github.com/users/SilverFire/followers","following_url":"https://api.github.com/users/SilverFire/following{/other_user}","gists_url":"https://api.github.com/users/SilverFire/gists{/gist_id}","starred_url":"https://api.github.com/users/SilverFire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SilverFire/subscriptions","organizations_url":"https://api.github.com/users/SilverFire/orgs","repos_url":"https://api.github.com/users/SilverFire/repos","events_url":"https://api.github.com/users/SilverFire/events{/privacy}","received_events_url":"https://api.github.com/users/SilverFire/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"SilverFire","id":4499203,"node_id":"MDQ6VXNlcjQ0OTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/4499203?v=4","gravatar_id":"","url":"https://api.github.com/users/SilverFire","html_url":"https://github.com/SilverFire","followers_url":"https://api.github.com/users/SilverFire/followers","following_url":"https://api.github.com/users/SilverFire/following{/other_user}","gists_url":"https://api.github.com/users/SilverFire/gists{/gist_id}","starred_url":"https://api.github.com/users/SilverFire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SilverFire/subscriptions","organizations_url":"https://api.github.com/users/SilverFire/orgs","repos_url":"https://api.github.com/users/SilverFire/repos","events_url":"https://api.github.com/users/SilverFire/events{/privacy}","received_events_url":"https://api.github.com/users/SilverFire/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/18","html_url":"https://github.com/yiisoft/yii2/milestone/18","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/18/labels","id":1679982,"node_id":"MDk6TWlsZXN0b25lMTY3OTk4Mg==","number":18,"title":"2.0.10","description":"","creator":{"login":"cebe","id":189796,"node_id":"MDQ6VXNlcjE4OTc5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/189796?v=4","gravatar_id":"","url":"https://api.github.com/users/cebe","html_url":"https://github.com/cebe","followers_url":"https://api.github.com/users/cebe/followers","following_url":"https://api.github.com/users/cebe/following{/other_user}","gists_url":"https://api.github.com/users/cebe/gists{/gist_id}","starred_url":"https://api.github.com/users/cebe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cebe/subscriptions","organizations_url":"https://api.github.com/users/cebe/orgs","repos_url":"https://api.github.com/users/cebe/repos","events_url":"https://api.github.com/users/cebe/events{/privacy}","received_events_url":"https://api.github.com/users/cebe/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":204,"state":"closed","created_at":"2016-04-03T04:39:22Z","updated_at":"2019-06-03T23:33:15Z","due_on":"2016-10-20T07:00:00Z","closed_at":"2016-10-20T12:04:49Z"},"comments":13,"created_at":"2016-05-03T18:44:46Z","updated_at":"2016-09-30T10:10:40Z","closed_at":"2016-09-30T10:10:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"While implementing fullcalendar with gcal plugin to load holidays in my project, I experienced an issue I couldn't figure out :\nThe first month was properly loaded, but when I tried to change view to another month, nothing was loaded from google API (no ajax call was made)\n\nAfter hours of debugging, I finally found that ajax query was cancelled before it was sent by a function in yii.js : yii.initScriptFilter.\n\nAs I understand, this function prevent from loading already loaded scripts, but it only uses the requested url to detect them without any consideration for data params, which in my case was preventing google API to be called to get next month events as the url is stile the same but params are store in the data attribute.\n\nI noticed there is an option to set a \"reloadable\" list of scripts, but in my case, I have no control on it as the url is generated on the fly by fullcalendar's gcal plugin (except if I change plugin's code which is was I did to unlock the situation). \n\nAlso, shouldn't it take in consideration the \"cache\" option stored in the ajax call ? \n\nI think line 383 of yii.js should be change to append the data options to the url before you store it to loadedScripts array :\n`var url = options.url.charAt(0) === '/' ? hostInfo + options.url : options.url;`\nWith something like this : \n`var url = (options.url.charAt(0) === '/' ? hostInfo + options.url : options.url) + options.data;`\n\nYii version   2.0.7  \nPHP version  5.6  \nOperating system  OSX 10.10 \n","closed_by":{"login":"SilverFire","id":4499203,"node_id":"MDQ6VXNlcjQ0OTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/4499203?v=4","gravatar_id":"","url":"https://api.github.com/users/SilverFire","html_url":"https://github.com/SilverFire","followers_url":"https://api.github.com/users/SilverFire/followers","following_url":"https://api.github.com/users/SilverFire/following{/other_user}","gists_url":"https://api.github.com/users/SilverFire/gists{/gist_id}","starred_url":"https://api.github.com/users/SilverFire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SilverFire/subscriptions","organizations_url":"https://api.github.com/users/SilverFire/orgs","repos_url":"https://api.github.com/users/SilverFire/repos","events_url":"https://api.github.com/users/SilverFire/events{/privacy}","received_events_url":"https://api.github.com/users/SilverFire/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/11494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/11494/timeline","performed_via_github_app":null,"state_reason":"completed"}