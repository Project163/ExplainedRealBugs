[{"id":4035334632,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQwMzUzMzQ2MzI=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4035334632","actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4525bbf3342a7b84ac1e5131c2c9c813141342ae","commit_url":"https://api.github.com/repos/brandonkelly/yii2/commits/4525bbf3342a7b84ac1e5131c2c9c813141342ae","created_at":"2020-11-25T00:06:12Z","performed_via_github_app":null},{"actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T00:09:00Z","updated_at":"2020-11-25T00:09:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/18407","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/18407/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/18407/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/18407/events","html_url":"https://github.com/yiisoft/yii2/pull/18407","id":750170511,"node_id":"MDExOlB1bGxSZXF1ZXN0NTI2ODczODcy","number":18407,"title":"Fix #18406 - avoid PDOExceptions when working with autocommitted transactions","user":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33208443,"node_id":"MDU6TGFiZWwzMzIwODQ0Mw==","url":"https://api.github.com/repos/yiisoft/yii2/labels/type:bug","name":"type:bug","color":"e102d8","default":false,"description":"Bug"},{"id":1262936183,"node_id":"MDU6TGFiZWwxMjYyOTM2MTgz","url":"https://api.github.com/repos/yiisoft/yii2/labels/status:code%20review","name":"status:code review","color":"02e10c","default":false,"description":"The pull request needs review."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii2/milestones/57","html_url":"https://github.com/yiisoft/yii2/milestone/57","labels_url":"https://api.github.com/repos/yiisoft/yii2/milestones/57/labels","id":6026053,"node_id":"MDk6TWlsZXN0b25lNjAyNjA1Mw==","number":57,"title":"2.0.40","description":"","creator":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":40,"state":"closed","created_at":"2020-10-23T19:37:14Z","updated_at":"2020-12-23T15:45:55Z","due_on":null,"closed_at":"2020-12-23T15:45:55Z"},"comments":3,"created_at":"2020-11-25T00:09:00Z","updated_at":"2020-11-27T11:00:10Z","closed_at":"2020-11-26T20:54:57Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/yiisoft/yii2/pulls/18407","html_url":"https://github.com/yiisoft/yii2/pull/18407","diff_url":"https://github.com/yiisoft/yii2/pull/18407.diff","patch_url":"https://github.com/yiisoft/yii2/pull/18407.patch","merged_at":"2020-11-26T20:54:57Z"},"body":"This fixes #18406 by checking if there is an active transaction before committing/rolling back transactions.\r\n\r\n| Q             | A\r\n| ------------- | ---\r\n| Is bugfix?    | ✔️\r\n| New feature?  | ❌\r\n| Breaks BC?    | ❌\r\n| Tests pass?   | ✔️\r\n| Fixed issues  | #18406 \r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/18407/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/18407/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T00:10:33Z","updated_at":"2020-11-25T00:10:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/craftcms/cms/issues/7174","repository_url":"https://api.github.com/repos/craftcms/cms","labels_url":"https://api.github.com/repos/craftcms/cms/issues/7174/labels{/name}","comments_url":"https://api.github.com/repos/craftcms/cms/issues/7174/comments","events_url":"https://api.github.com/repos/craftcms/cms/issues/7174/events","html_url":"https://github.com/craftcms/cms/issues/7174","id":750086482,"node_id":"MDU6SXNzdWU3NTAwODY0ODI=","number":7174,"title":"[3.6-RC1] PDOException \"There is no active transaction\" when attempting to save a new field","user":{"login":"mmikkel","id":298510,"node_id":"MDQ6VXNlcjI5ODUxMA==","avatar_url":"https://avatars.githubusercontent.com/u/298510?v=4","gravatar_id":"","url":"https://api.github.com/users/mmikkel","html_url":"https://github.com/mmikkel","followers_url":"https://api.github.com/users/mmikkel/followers","following_url":"https://api.github.com/users/mmikkel/following{/other_user}","gists_url":"https://api.github.com/users/mmikkel/gists{/gist_id}","starred_url":"https://api.github.com/users/mmikkel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmikkel/subscriptions","organizations_url":"https://api.github.com/users/mmikkel/orgs","repos_url":"https://api.github.com/users/mmikkel/repos","events_url":"https://api.github.com/users/mmikkel/events{/privacy}","received_events_url":"https://api.github.com/users/mmikkel/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":527359859,"node_id":"MDU6TGFiZWw1MjczNTk4NTk=","url":"https://api.github.com/repos/craftcms/cms/labels/bug","name":"bug","color":"EE3F46","default":true,"description":""},{"id":527382203,"node_id":"MDU6TGFiZWw1MjczODIyMDM=","url":"https://api.github.com/repos/craftcms/cms/labels/severity:critical","name":"severity:critical","color":"f45d43","default":false,"description":"Showstopper bugs"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/craftcms/cms/milestones/7","html_url":"https://github.com/craftcms/cms/milestone/7","labels_url":"https://api.github.com/repos/craftcms/cms/milestones/7/labels","id":6018409,"node_id":"MDk6TWlsZXN0b25lNjAxODQwOQ==","number":7,"title":"3.6","description":"","creator":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":36,"state":"closed","created_at":"2020-10-22T00:02:51Z","updated_at":"2021-05-14T12:58:31Z","due_on":null,"closed_at":"2021-05-14T12:58:31Z"},"comments":4,"created_at":"2020-11-24T21:37:40Z","updated_at":"2020-12-30T17:16:01Z","closed_at":"2020-12-30T17:16:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":80249302,"node_id":"MDEwOlJlcG9zaXRvcnk4MDI0OTMwMg==","name":"cms","full_name":"craftcms/cms","private":false,"owner":{"login":"craftcms","id":22369139,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIyMzY5MTM5","avatar_url":"https://avatars.githubusercontent.com/u/22369139?v=4","gravatar_id":"","url":"https://api.github.com/users/craftcms","html_url":"https://github.com/craftcms","followers_url":"https://api.github.com/users/craftcms/followers","following_url":"https://api.github.com/users/craftcms/following{/other_user}","gists_url":"https://api.github.com/users/craftcms/gists{/gist_id}","starred_url":"https://api.github.com/users/craftcms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/craftcms/subscriptions","organizations_url":"https://api.github.com/users/craftcms/orgs","repos_url":"https://api.github.com/users/craftcms/repos","events_url":"https://api.github.com/users/craftcms/events{/privacy}","received_events_url":"https://api.github.com/users/craftcms/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/craftcms/cms","description":"Build bespoke content experiences with Craft.","fork":false,"url":"https://api.github.com/repos/craftcms/cms","forks_url":"https://api.github.com/repos/craftcms/cms/forks","keys_url":"https://api.github.com/repos/craftcms/cms/keys{/key_id}","collaborators_url":"https://api.github.com/repos/craftcms/cms/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/craftcms/cms/teams","hooks_url":"https://api.github.com/repos/craftcms/cms/hooks","issue_events_url":"https://api.github.com/repos/craftcms/cms/issues/events{/number}","events_url":"https://api.github.com/repos/craftcms/cms/events","assignees_url":"https://api.github.com/repos/craftcms/cms/assignees{/user}","branches_url":"https://api.github.com/repos/craftcms/cms/branches{/branch}","tags_url":"https://api.github.com/repos/craftcms/cms/tags","blobs_url":"https://api.github.com/repos/craftcms/cms/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/craftcms/cms/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/craftcms/cms/git/refs{/sha}","trees_url":"https://api.github.com/repos/craftcms/cms/git/trees{/sha}","statuses_url":"https://api.github.com/repos/craftcms/cms/statuses/{sha}","languages_url":"https://api.github.com/repos/craftcms/cms/languages","stargazers_url":"https://api.github.com/repos/craftcms/cms/stargazers","contributors_url":"https://api.github.com/repos/craftcms/cms/contributors","subscribers_url":"https://api.github.com/repos/craftcms/cms/subscribers","subscription_url":"https://api.github.com/repos/craftcms/cms/subscription","commits_url":"https://api.github.com/repos/craftcms/cms/commits{/sha}","git_commits_url":"https://api.github.com/repos/craftcms/cms/git/commits{/sha}","comments_url":"https://api.github.com/repos/craftcms/cms/comments{/number}","issue_comment_url":"https://api.github.com/repos/craftcms/cms/issues/comments{/number}","contents_url":"https://api.github.com/repos/craftcms/cms/contents/{+path}","compare_url":"https://api.github.com/repos/craftcms/cms/compare/{base}...{head}","merges_url":"https://api.github.com/repos/craftcms/cms/merges","archive_url":"https://api.github.com/repos/craftcms/cms/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/craftcms/cms/downloads","issues_url":"https://api.github.com/repos/craftcms/cms/issues{/number}","pulls_url":"https://api.github.com/repos/craftcms/cms/pulls{/number}","milestones_url":"https://api.github.com/repos/craftcms/cms/milestones{/number}","notifications_url":"https://api.github.com/repos/craftcms/cms/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/craftcms/cms/labels{/name}","releases_url":"https://api.github.com/repos/craftcms/cms/releases{/id}","deployments_url":"https://api.github.com/repos/craftcms/cms/deployments","created_at":"2017-01-27T21:52:45Z","updated_at":"2025-11-09T21:50:51Z","pushed_at":"2025-11-09T23:05:47Z","git_url":"git://github.com/craftcms/cms.git","ssh_url":"git@github.com:craftcms/cms.git","clone_url":"https://github.com/craftcms/cms.git","svn_url":"https://github.com/craftcms/cms","homepage":"https://craftcms.com","size":876503,"stargazers_count":3490,"watchers_count":3490,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":680,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":524,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cms","content-management","craft3","craft4","craftcms","graphql","php","php7","php8","twig","yii2"],"visibility":"public","forks":680,"open_issues":524,"watchers":3490,"default_branch":"5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Description\r\n\r\nWhen attempting to save a new field on Craft 3.6.0-RC1, I get a PDOException \"There is no active transaction\" ([see stack trace on PasteBin](https://pastebin.com/S6ig1F9p)).\r\n\r\nThis is a clean 3.6.0-RC1 install, running on Nitro 1.1.1 using PHP 8.0 and MySQL 5.7.\r\n\r\nNot sure if this is actually an issue with Nitro or with Craft – I did test a clean RC1 install using Valet w/ PHP 7.4 and MySQL 5.6 too, and the issue does not occur on that site.\r\n\r\n### Steps to reproduce\r\n\r\n1. Create a new field (Plain Text, all settings set to defaults)\r\n2. Save the field\r\n\r\n### Additional info\r\n\r\n- Craft version: 3.6.0-RC1\r\n- PHP version: 8.0.0\r\n- Database driver & version: MySQL 5.7.32\r\n- Plugins & versions: none\r\n","reactions":{"url":"https://api.github.com/repos/craftcms/cms/issues/7174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/craftcms/cms/issues/7174/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":4036764674,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQwMzY3NjQ2NzQ=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4036764674","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-11-25T08:12:35Z","milestone":{"title":"2.0.40"},"performed_via_github_app":null},{"id":4036764858,"node_id":"MDEyOkxhYmVsZWRFdmVudDQwMzY3NjQ4NTg=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4036764858","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-11-25T08:12:37Z","label":{"name":"type:bug","color":"e102d8"},"performed_via_github_app":null},{"id":4038590055,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQwMzg1OTAwNTU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4038590055","actor":{"login":"brandonkelly","id":47792,"node_id":"MDQ6VXNlcjQ3Nzky","avatar_url":"https://avatars.githubusercontent.com/u/47792?v=4","gravatar_id":"","url":"https://api.github.com/users/brandonkelly","html_url":"https://github.com/brandonkelly","followers_url":"https://api.github.com/users/brandonkelly/followers","following_url":"https://api.github.com/users/brandonkelly/following{/other_user}","gists_url":"https://api.github.com/users/brandonkelly/gists{/gist_id}","starred_url":"https://api.github.com/users/brandonkelly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brandonkelly/subscriptions","organizations_url":"https://api.github.com/users/brandonkelly/orgs","repos_url":"https://api.github.com/users/brandonkelly/repos","events_url":"https://api.github.com/users/brandonkelly/events{/privacy}","received_events_url":"https://api.github.com/users/brandonkelly/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ad00797851566867d2dfd68b8836913a025a08dd","commit_url":"https://api.github.com/repos/brandonkelly/yii2/commits/ad00797851566867d2dfd68b8836913a025a08dd","created_at":"2020-11-25T15:16:56Z","performed_via_github_app":null},{"id":4043849216,"node_id":"MDExOkNsb3NlZEV2ZW50NDA0Mzg0OTIxNg==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4043849216","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2020-11-26T20:54:57Z","state_reason":null,"performed_via_github_app":null},{"id":4043849325,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQwNDM4NDkzMjU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4043849325","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cafe8e315cc9410e1116141b8256e22b1d1834dc","commit_url":"https://api.github.com/repos/yiisoft/yii2/commits/cafe8e315cc9410e1116141b8256e22b1d1834dc","created_at":"2020-11-26T20:55:02Z","performed_via_github_app":null},{"actor":{"login":"lippok","id":8501972,"node_id":"MDQ6VXNlcjg1MDE5NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8501972?v=4","gravatar_id":"","url":"https://api.github.com/users/lippok","html_url":"https://github.com/lippok","followers_url":"https://api.github.com/users/lippok/followers","following_url":"https://api.github.com/users/lippok/following{/other_user}","gists_url":"https://api.github.com/users/lippok/gists{/gist_id}","starred_url":"https://api.github.com/users/lippok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lippok/subscriptions","organizations_url":"https://api.github.com/users/lippok/orgs","repos_url":"https://api.github.com/users/lippok/repos","events_url":"https://api.github.com/users/lippok/events{/privacy}","received_events_url":"https://api.github.com/users/lippok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T08:24:34Z","updated_at":"2020-12-25T08:24:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/doctrine/migrations/issues/1104","repository_url":"https://api.github.com/repos/doctrine/migrations","labels_url":"https://api.github.com/repos/doctrine/migrations/issues/1104/labels{/name}","comments_url":"https://api.github.com/repos/doctrine/migrations/issues/1104/comments","events_url":"https://api.github.com/repos/doctrine/migrations/issues/1104/events","html_url":"https://github.com/doctrine/migrations/issues/1104","id":774676409,"node_id":"MDU6SXNzdWU3NzQ2NzY0MDk=","number":1104,"title":"DDL migrations produce errors on PHP 8.0 + MySQL in transactional mode","user":{"login":"lippok","id":8501972,"node_id":"MDQ6VXNlcjg1MDE5NzI=","avatar_url":"https://avatars.githubusercontent.com/u/8501972?v=4","gravatar_id":"","url":"https://api.github.com/users/lippok","html_url":"https://github.com/lippok","followers_url":"https://api.github.com/users/lippok/followers","following_url":"https://api.github.com/users/lippok/following{/other_user}","gists_url":"https://api.github.com/users/lippok/gists{/gist_id}","starred_url":"https://api.github.com/users/lippok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lippok/subscriptions","organizations_url":"https://api.github.com/users/lippok/orgs","repos_url":"https://api.github.com/users/lippok/repos","events_url":"https://api.github.com/users/lippok/events{/privacy}","received_events_url":"https://api.github.com/users/lippok/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":308638308,"node_id":"MDU6TGFiZWwzMDg2MzgzMDg=","url":"https://api.github.com/repos/doctrine/migrations/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/doctrine/migrations/milestones/42","html_url":"https://github.com/doctrine/migrations/milestone/42","labels_url":"https://api.github.com/repos/doctrine/migrations/milestones/42/labels","id":6542630,"node_id":"MDk6TWlsZXN0b25lNjU0MjYzMA==","number":42,"title":"2.3.3","description":"","creator":{"login":"ostrolucky","id":496233,"node_id":"MDQ6VXNlcjQ5NjIzMw==","avatar_url":"https://avatars.githubusercontent.com/u/496233?v=4","gravatar_id":"","url":"https://api.github.com/users/ostrolucky","html_url":"https://github.com/ostrolucky","followers_url":"https://api.github.com/users/ostrolucky/followers","following_url":"https://api.github.com/users/ostrolucky/following{/other_user}","gists_url":"https://api.github.com/users/ostrolucky/gists{/gist_id}","starred_url":"https://api.github.com/users/ostrolucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ostrolucky/subscriptions","organizations_url":"https://api.github.com/users/ostrolucky/orgs","repos_url":"https://api.github.com/users/ostrolucky/repos","events_url":"https://api.github.com/users/ostrolucky/events{/privacy}","received_events_url":"https://api.github.com/users/ostrolucky/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":3,"state":"closed","created_at":"2021-03-13T21:35:34Z","updated_at":"2021-03-14T11:13:16Z","due_on":null,"closed_at":"2021-03-14T11:11:25Z"},"comments":80,"created_at":"2020-12-25T08:24:34Z","updated_at":"2022-05-19T14:59:24Z","closed_at":"2021-03-14T11:13:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":576099,"node_id":"MDEwOlJlcG9zaXRvcnk1NzYwOTk=","name":"migrations","full_name":"doctrine/migrations","private":false,"owner":{"login":"doctrine","id":209254,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwOTI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/209254?v=4","gravatar_id":"","url":"https://api.github.com/users/doctrine","html_url":"https://github.com/doctrine","followers_url":"https://api.github.com/users/doctrine/followers","following_url":"https://api.github.com/users/doctrine/following{/other_user}","gists_url":"https://api.github.com/users/doctrine/gists{/gist_id}","starred_url":"https://api.github.com/users/doctrine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doctrine/subscriptions","organizations_url":"https://api.github.com/users/doctrine/orgs","repos_url":"https://api.github.com/users/doctrine/repos","events_url":"https://api.github.com/users/doctrine/events{/privacy}","received_events_url":"https://api.github.com/users/doctrine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/doctrine/migrations","description":"Doctrine Database Migrations Library","fork":false,"url":"https://api.github.com/repos/doctrine/migrations","forks_url":"https://api.github.com/repos/doctrine/migrations/forks","keys_url":"https://api.github.com/repos/doctrine/migrations/keys{/key_id}","collaborators_url":"https://api.github.com/repos/doctrine/migrations/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/doctrine/migrations/teams","hooks_url":"https://api.github.com/repos/doctrine/migrations/hooks","issue_events_url":"https://api.github.com/repos/doctrine/migrations/issues/events{/number}","events_url":"https://api.github.com/repos/doctrine/migrations/events","assignees_url":"https://api.github.com/repos/doctrine/migrations/assignees{/user}","branches_url":"https://api.github.com/repos/doctrine/migrations/branches{/branch}","tags_url":"https://api.github.com/repos/doctrine/migrations/tags","blobs_url":"https://api.github.com/repos/doctrine/migrations/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/doctrine/migrations/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/doctrine/migrations/git/refs{/sha}","trees_url":"https://api.github.com/repos/doctrine/migrations/git/trees{/sha}","statuses_url":"https://api.github.com/repos/doctrine/migrations/statuses/{sha}","languages_url":"https://api.github.com/repos/doctrine/migrations/languages","stargazers_url":"https://api.github.com/repos/doctrine/migrations/stargazers","contributors_url":"https://api.github.com/repos/doctrine/migrations/contributors","subscribers_url":"https://api.github.com/repos/doctrine/migrations/subscribers","subscription_url":"https://api.github.com/repos/doctrine/migrations/subscription","commits_url":"https://api.github.com/repos/doctrine/migrations/commits{/sha}","git_commits_url":"https://api.github.com/repos/doctrine/migrations/git/commits{/sha}","comments_url":"https://api.github.com/repos/doctrine/migrations/comments{/number}","issue_comment_url":"https://api.github.com/repos/doctrine/migrations/issues/comments{/number}","contents_url":"https://api.github.com/repos/doctrine/migrations/contents/{+path}","compare_url":"https://api.github.com/repos/doctrine/migrations/compare/{base}...{head}","merges_url":"https://api.github.com/repos/doctrine/migrations/merges","archive_url":"https://api.github.com/repos/doctrine/migrations/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/doctrine/migrations/downloads","issues_url":"https://api.github.com/repos/doctrine/migrations/issues{/number}","pulls_url":"https://api.github.com/repos/doctrine/migrations/pulls{/number}","milestones_url":"https://api.github.com/repos/doctrine/migrations/milestones{/number}","notifications_url":"https://api.github.com/repos/doctrine/migrations/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/doctrine/migrations/labels{/name}","releases_url":"https://api.github.com/repos/doctrine/migrations/releases{/id}","deployments_url":"https://api.github.com/repos/doctrine/migrations/deployments","created_at":"2010-03-23T18:08:24Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-11-03T22:12:05Z","git_url":"git://github.com/doctrine/migrations.git","ssh_url":"git@github.com:doctrine/migrations.git","clone_url":"https://github.com/doctrine/migrations.git","svn_url":"https://github.com/doctrine/migrations","homepage":"https://www.doctrine-project.org/projects/migrations.html","size":5148,"stargazers_count":4749,"watchers_count":4749,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":395,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":130,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":395,"open_issues":130,"watchers":4749,"default_branch":"3.9.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nBefore reporting a BC break, please consult the upgrading document to make sure it's not an expected change: https://github.com/doctrine/migrations/blob/master/UPGRADE.md\r\n-->\r\n\r\n### BC Break Report\r\n\r\n<!-- Fill in the relevant information below to help triage your issue. -->\r\n\r\n|    Q        |   A\r\n|------------ | ------\r\n| BC Break    | yes\r\n| Version     | 3.0.2 (probably > 3.0)\r\n| PHP     | 8.0\r\n| DBAL-Driver     | PDO\r\n| DB     | mysql 5.7 and 8.0\r\n\r\n#### Summary\r\n\r\nWhen running the command `migrations:migrate` with a ddl sql statement (e.g. `create table`) on php 8.0 I got an error:\r\n\r\n> In Connection.php line 1761: There is no active transaction  \r\n\r\n#### Previous behavior\r\nBevore php 8.0 the migration produces no errors.\r\n\r\n#### Current behavior\r\nDDL statements on mysql result in an implicit commit (see [mysql documentation](https://dev.mysql.com/doc/refman/8.0/en/implicit-commit.html)). This causes the [explicit commit](https://github.com/doctrine/migrations/blob/3.0.2/lib/Doctrine/Migrations/Version/DbalExecutor.php#L215) in transactional mode to fail. But only starting with php 8.0 an error is raised (probably due to php/php-src@990bb34).\r\n\r\nTo bypass the error I can disable the transactional mode by overwriting ``isTransactional`` in my migration, but in my opinion it's a breaking change in the behaviour when using php 8.\r\n\r\nI found the same issue in a bug report for the yii framework (yiisoft/yii2#18406) that helped me to figure out what happens. They fixed it by checking [`PDO::inTransaction`](https://www.php.net/manual/de/pdo.intransaction.php) before running the commit. If I'm not wrong this method is not wrapped by the dbal package and therefore not available here.\r\n\r\n#### How to reproduce\r\n\r\n1. Create a migration with a ddl statement.\r\n1. Let the transactional mode active.\r\n1. Run the migration.\r\n","reactions":{"url":"https://api.github.com/repos/doctrine/migrations/issues/1104/reactions","total_count":73,"+1":66,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":6},"timeline_url":"https://api.github.com/repos/doctrine/migrations/issues/1104/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751630209","html_url":"https://github.com/yiisoft/yii2/issues/18406#issuecomment-751630209","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18406","id":751630209,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTYzMDIwOQ==","user":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T08:26:56Z","updated_at":"2020-12-28T08:26:56Z","body":"@samdark - could this be pushed to 1.1.x as well?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751630209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4151362344,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1MTM2MjM0NA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151362344","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-28T08:26:56Z","performed_via_github_app":null},{"id":4151362347,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTEzNjIzNDc=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151362347","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-28T08:26:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751644577","html_url":"https://github.com/yiisoft/yii2/issues/18406#issuecomment-751644577","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18406","id":751644577,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTY0NDU3Nw==","user":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T09:17:07Z","updated_at":"2020-12-28T09:17:07Z","body":"@twisted1919 it could. Someone just needs to prepare a pull request. I don't currently have time for it. Busy with Yii 3.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751644577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4151479262,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1MTQ3OTI2Mg==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151479262","actor":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-28T09:17:07Z","performed_via_github_app":null},{"id":4151479265,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTE0NzkyNjU=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151479265","actor":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-28T09:17:07Z","performed_via_github_app":null},{"actor":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T09:20:35Z","updated_at":"2020-12-28T09:20:35Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii/issues/4339","repository_url":"https://api.github.com/repos/yiisoft/yii","labels_url":"https://api.github.com/repos/yiisoft/yii/issues/4339/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii/issues/4339/comments","events_url":"https://api.github.com/repos/yiisoft/yii/issues/4339/events","html_url":"https://github.com/yiisoft/yii/issues/4339","id":775299082,"node_id":"MDU6SXNzdWU3NzUyOTkwODI=","number":4339,"title":"PHP 8 - \"There is no active transaction\" when transaction is autocommitted","user":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":236733,"node_id":"MDU6TGFiZWwyMzY3MzM=","url":"https://api.github.com/repos/yiisoft/yii/labels/type:bug","name":"type:bug","color":"e102d8","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/yiisoft/yii/milestones/15","html_url":"https://github.com/yiisoft/yii/milestone/15","labels_url":"https://api.github.com/repos/yiisoft/yii/milestones/15/labels","id":5048562,"node_id":"MDk6TWlsZXN0b25lNTA0ODU2Mg==","number":15,"title":"1.1.23","description":"","creator":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":29,"state":"closed","created_at":"2020-01-28T09:05:48Z","updated_at":"2021-03-17T18:49:19Z","due_on":null,"closed_at":"2021-02-28T21:45:14Z"},"comments":1,"created_at":"2020-12-28T09:20:35Z","updated_at":"2020-12-28T16:37:57Z","closed_at":"2020-12-28T16:37:48Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3451238,"node_id":"MDEwOlJlcG9zaXRvcnkzNDUxMjM4","name":"yii","full_name":"yiisoft/yii","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii","description":"Yii PHP Framework 1.1.x","fork":false,"url":"https://api.github.com/repos/yiisoft/yii","forks_url":"https://api.github.com/repos/yiisoft/yii/forks","keys_url":"https://api.github.com/repos/yiisoft/yii/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii/events","assignees_url":"https://api.github.com/repos/yiisoft/yii/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii/merges","archive_url":"https://api.github.com/repos/yiisoft/yii/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii/deployments","created_at":"2012-02-15T16:26:22Z","updated_at":"2025-11-04T22:46:35Z","pushed_at":"2025-08-19T09:43:27Z","git_url":"git://github.com/yiisoft/yii.git","ssh_url":"git@github.com:yiisoft/yii.git","clone_url":"https://github.com/yiisoft/yii.git","svn_url":"https://github.com/yiisoft/yii","homepage":"http://www.yiiframework.com","size":31571,"stargazers_count":4835,"watchers_count":4835,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2247,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":6,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","php","php-framework","yii1"],"visibility":"public","forks":2247,"open_issues":6,"watchers":4835,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This is related to https://github.com/yiisoft/yii2/issues/18406 \r\n\r\nAs of PHP 8, PDO::commit() and rollBack() will throw a There is no active transaction PDOException if the transaction had been autocommitted, as MySQL will do whenever a schema change is made. Previously they would fail silently.\r\n\r\n### What steps will reproduce the problem?\r\n1. Connect to a MySQL database\r\n2. Call Yii::app()->db->beginTransaction()\r\n3. Make a schema change, such as add a new column to a table (the transaction will be autocommitted in the process)\r\n4. Call Yii::app()->db->commit()\r\n\r\n### What is the expected result?\r\nPHP would move along to the next line of code, regardless of whether the app is running on PHP 5, 7, or 8.\r\n\r\n### What do you get instead?\r\nA PDOException is thrown with the message There is no active transaction when running PHP 8. \r\n\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 1.1.24-dev\r\n| PHP version      | 8.0.0\r\n| Operating system | Centos 7\r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii/issues/4339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii/issues/4339/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751645890","html_url":"https://github.com/yiisoft/yii2/issues/18406#issuecomment-751645890","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18406","id":751645890,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTY0NTg5MA==","user":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T09:21:07Z","updated_at":"2020-12-28T09:21:07Z","body":"@samdark - i've opened https://github.com/yiisoft/yii/issues/4339 to have it there as well","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/751645890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"twisted1919","id":957490,"node_id":"MDQ6VXNlcjk1NzQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/957490?v=4","gravatar_id":"","url":"https://api.github.com/users/twisted1919","html_url":"https://github.com/twisted1919","followers_url":"https://api.github.com/users/twisted1919/followers","following_url":"https://api.github.com/users/twisted1919/following{/other_user}","gists_url":"https://api.github.com/users/twisted1919/gists{/gist_id}","starred_url":"https://api.github.com/users/twisted1919/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twisted1919/subscriptions","organizations_url":"https://api.github.com/users/twisted1919/orgs","repos_url":"https://api.github.com/users/twisted1919/repos","events_url":"https://api.github.com/users/twisted1919/events{/privacy}","received_events_url":"https://api.github.com/users/twisted1919/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4151489135,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE1MTQ4OTEzNQ==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151489135","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-12-28T09:21:07Z","performed_via_github_app":null},{"id":4151489138,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNTE0ODkxMzg=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/4151489138","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-12-28T09:21:07Z","performed_via_github_app":null},{"actor":{"login":"freddyw","id":1209921,"node_id":"MDQ6VXNlcjEyMDk5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1209921?v=4","gravatar_id":"","url":"https://api.github.com/users/freddyw","html_url":"https://github.com/freddyw","followers_url":"https://api.github.com/users/freddyw/followers","following_url":"https://api.github.com/users/freddyw/following{/other_user}","gists_url":"https://api.github.com/users/freddyw/gists{/gist_id}","starred_url":"https://api.github.com/users/freddyw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/freddyw/subscriptions","organizations_url":"https://api.github.com/users/freddyw/orgs","repos_url":"https://api.github.com/users/freddyw/repos","events_url":"https://api.github.com/users/freddyw/events{/privacy}","received_events_url":"https://api.github.com/users/freddyw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T14:23:43Z","updated_at":"2021-01-07T14:23:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/18471","repository_url":"https://api.github.com/repos/yiisoft/yii2","labels_url":"https://api.github.com/repos/yiisoft/yii2/issues/18471/labels{/name}","comments_url":"https://api.github.com/repos/yiisoft/yii2/issues/18471/comments","events_url":"https://api.github.com/repos/yiisoft/yii2/issues/18471/events","html_url":"https://github.com/yiisoft/yii2/issues/18471","id":781337689,"node_id":"MDU6SXNzdWU3ODEzMzc2ODk=","number":18471,"title":"2.0.40: yii\\web\\HttpException: PDO::inTransaction(): SQLSTATE[00000]: No error: PDO constructor was not called","user":{"login":"freddyw","id":1209921,"node_id":"MDQ6VXNlcjEyMDk5MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1209921?v=4","gravatar_id":"","url":"https://api.github.com/users/freddyw","html_url":"https://github.com/freddyw","followers_url":"https://api.github.com/users/freddyw/followers","following_url":"https://api.github.com/users/freddyw/following{/other_user}","gists_url":"https://api.github.com/users/freddyw/gists{/gist_id}","starred_url":"https://api.github.com/users/freddyw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/freddyw/subscriptions","organizations_url":"https://api.github.com/users/freddyw/orgs","repos_url":"https://api.github.com/users/freddyw/repos","events_url":"https://api.github.com/users/freddyw/events{/privacy}","received_events_url":"https://api.github.com/users/freddyw/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":145356565,"node_id":"MDU6TGFiZWwxNDUzNTY1NjU=","url":"https://api.github.com/repos/yiisoft/yii2/labels/status:need%20more%20info","name":"status:need more info","color":"d4c5f9","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2021-01-07T14:05:30Z","updated_at":"2021-01-08T17:32:21Z","closed_at":"2021-01-08T17:32:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3431193,"node_id":"MDEwOlJlcG9zaXRvcnkzNDMxMTkz","name":"yii2","full_name":"yiisoft/yii2","private":false,"owner":{"login":"yiisoft","id":993323,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MzMyMw==","avatar_url":"https://avatars.githubusercontent.com/u/993323?v=4","gravatar_id":"","url":"https://api.github.com/users/yiisoft","html_url":"https://github.com/yiisoft","followers_url":"https://api.github.com/users/yiisoft/followers","following_url":"https://api.github.com/users/yiisoft/following{/other_user}","gists_url":"https://api.github.com/users/yiisoft/gists{/gist_id}","starred_url":"https://api.github.com/users/yiisoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yiisoft/subscriptions","organizations_url":"https://api.github.com/users/yiisoft/orgs","repos_url":"https://api.github.com/users/yiisoft/repos","events_url":"https://api.github.com/users/yiisoft/events{/privacy}","received_events_url":"https://api.github.com/users/yiisoft/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/yiisoft/yii2","description":"Yii 2: The Fast, Secure and Professional PHP Framework","fork":false,"url":"https://api.github.com/repos/yiisoft/yii2","forks_url":"https://api.github.com/repos/yiisoft/yii2/forks","keys_url":"https://api.github.com/repos/yiisoft/yii2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/yiisoft/yii2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/yiisoft/yii2/teams","hooks_url":"https://api.github.com/repos/yiisoft/yii2/hooks","issue_events_url":"https://api.github.com/repos/yiisoft/yii2/issues/events{/number}","events_url":"https://api.github.com/repos/yiisoft/yii2/events","assignees_url":"https://api.github.com/repos/yiisoft/yii2/assignees{/user}","branches_url":"https://api.github.com/repos/yiisoft/yii2/branches{/branch}","tags_url":"https://api.github.com/repos/yiisoft/yii2/tags","blobs_url":"https://api.github.com/repos/yiisoft/yii2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/yiisoft/yii2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/yiisoft/yii2/git/refs{/sha}","trees_url":"https://api.github.com/repos/yiisoft/yii2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/yiisoft/yii2/statuses/{sha}","languages_url":"https://api.github.com/repos/yiisoft/yii2/languages","stargazers_url":"https://api.github.com/repos/yiisoft/yii2/stargazers","contributors_url":"https://api.github.com/repos/yiisoft/yii2/contributors","subscribers_url":"https://api.github.com/repos/yiisoft/yii2/subscribers","subscription_url":"https://api.github.com/repos/yiisoft/yii2/subscription","commits_url":"https://api.github.com/repos/yiisoft/yii2/commits{/sha}","git_commits_url":"https://api.github.com/repos/yiisoft/yii2/git/commits{/sha}","comments_url":"https://api.github.com/repos/yiisoft/yii2/comments{/number}","issue_comment_url":"https://api.github.com/repos/yiisoft/yii2/issues/comments{/number}","contents_url":"https://api.github.com/repos/yiisoft/yii2/contents/{+path}","compare_url":"https://api.github.com/repos/yiisoft/yii2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/yiisoft/yii2/merges","archive_url":"https://api.github.com/repos/yiisoft/yii2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/yiisoft/yii2/downloads","issues_url":"https://api.github.com/repos/yiisoft/yii2/issues{/number}","pulls_url":"https://api.github.com/repos/yiisoft/yii2/pulls{/number}","milestones_url":"https://api.github.com/repos/yiisoft/yii2/milestones{/number}","notifications_url":"https://api.github.com/repos/yiisoft/yii2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/yiisoft/yii2/labels{/name}","releases_url":"https://api.github.com/repos/yiisoft/yii2/releases{/id}","deployments_url":"https://api.github.com/repos/yiisoft/yii2/deployments","created_at":"2012-02-13T15:32:36Z","updated_at":"2025-11-10T03:14:21Z","pushed_at":"2025-11-04T07:28:12Z","git_url":"git://github.com/yiisoft/yii2.git","ssh_url":"git@github.com:yiisoft/yii2.git","clone_url":"https://github.com/yiisoft/yii2.git","svn_url":"https://github.com/yiisoft/yii2","homepage":"http://www.yiiframework.com","size":87767,"stargazers_count":14294,"watchers_count":14294,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":6863,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":516,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","php","php-framework","yii","yii2"],"visibility":"public","forks":6863,"open_issues":516,"watchers":14294,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nPlease use this issue tracker for bugs and feature requests only. In case you need support please use one of\r\nYii communities listed at https://github.com/yiisoft/yii2/wiki/communities\r\n-->\r\n\r\n### What steps will reproduce the problem?\r\nUpdate yii2 to 2.0.40 (from 2.39.3)\r\n\r\n### What is the expected result?\r\nNo errors\r\n\r\n### What do you get instead?\r\n[error][yii\\web\\HttpException:500] yii\\web\\HttpException: PDO::inTransaction(): SQLSTATE[00000]: No error: PDO constructor was not called in controllers/DocumentController.php:614\r\nStack trace:\r\n#0 [internal function]: app\\controllers\\DocumentController->actionUpdateKpiValuesCompany()\r\n#1 vendor/yiisoft/yii2/base/InlineAction.php(57): call_user_func_array(Array, Array)\r\n#2 vendor/yiisoft/yii2/base/Controller.php(181): yii\\base\\InlineAction->runWithParams(Array)\r\n#3 vendor/yiisoft/yii2/base/Module.php(534): yii\\base\\Controller->runAction('update-kpi-valu...', Array)\r\n#4 vendor/yiisoft/yii2/web/Application.php(104): yii\\base\\Module->runAction('document/update...', Array)\r\n#5 vendor/yiisoft/yii2/base/Application.php(392): yii\\web\\Application->handleRequest(Object(yii\\web\\Request))\r\n#6 web/index.php(11): yii\\base\\Application->run()\r\n\r\n### Additional info\r\n\r\n| Q                | A\r\n| ---------------- | ---\r\n| Yii version      | 2.0.40\r\n| PHP version      | 7.4.13\r\n| Operating system | OracleLinux/7, Apache/2.4.6\r\n","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/18471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/yiisoft/yii2/issues/18471/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/758134028","html_url":"https://github.com/yiisoft/yii2/issues/18406#issuecomment-758134028","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18406","id":758134028,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODEzNDAyOA==","user":{"login":"dioncodes","id":1241360,"node_id":"MDQ6VXNlcjEyNDEzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1241360?v=4","gravatar_id":"","url":"https://api.github.com/users/dioncodes","html_url":"https://github.com/dioncodes","followers_url":"https://api.github.com/users/dioncodes/followers","following_url":"https://api.github.com/users/dioncodes/following{/other_user}","gists_url":"https://api.github.com/users/dioncodes/gists{/gist_id}","starred_url":"https://api.github.com/users/dioncodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dioncodes/subscriptions","organizations_url":"https://api.github.com/users/dioncodes/orgs","repos_url":"https://api.github.com/users/dioncodes/repos","events_url":"https://api.github.com/users/dioncodes/events{/privacy}","received_events_url":"https://api.github.com/users/dioncodes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T18:20:09Z","updated_at":"2021-01-11T18:20:09Z","body":"Had the same issue with PHP 8 in general, but when calling `$db->setAttribute(PDO::ATTR_AUTOCOMMIT, 0);` before the `beginTransaction()` it works.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/758134028/reactions","total_count":6,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null,"event":"commented","actor":{"login":"dioncodes","id":1241360,"node_id":"MDQ6VXNlcjEyNDEzNjA=","avatar_url":"https://avatars.githubusercontent.com/u/1241360?v=4","gravatar_id":"","url":"https://api.github.com/users/dioncodes","html_url":"https://github.com/dioncodes","followers_url":"https://api.github.com/users/dioncodes/followers","following_url":"https://api.github.com/users/dioncodes/following{/other_user}","gists_url":"https://api.github.com/users/dioncodes/gists{/gist_id}","starred_url":"https://api.github.com/users/dioncodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dioncodes/subscriptions","organizations_url":"https://api.github.com/users/dioncodes/orgs","repos_url":"https://api.github.com/users/dioncodes/repos","events_url":"https://api.github.com/users/dioncodes/events{/privacy}","received_events_url":"https://api.github.com/users/dioncodes/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/766760159","html_url":"https://github.com/yiisoft/yii2/issues/18406#issuecomment-766760159","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/18406","id":766760159,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Njc2MDE1OQ==","user":{"login":"alexandre-leng","id":72550137,"node_id":"MDQ6VXNlcjcyNTUwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/72550137?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandre-leng","html_url":"https://github.com/alexandre-leng","followers_url":"https://api.github.com/users/alexandre-leng/followers","following_url":"https://api.github.com/users/alexandre-leng/following{/other_user}","gists_url":"https://api.github.com/users/alexandre-leng/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandre-leng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandre-leng/subscriptions","organizations_url":"https://api.github.com/users/alexandre-leng/orgs","repos_url":"https://api.github.com/users/alexandre-leng/repos","events_url":"https://api.github.com/users/alexandre-leng/events{/privacy}","received_events_url":"https://api.github.com/users/alexandre-leng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-25T11:46:25Z","updated_at":"2021-01-25T15:11:33Z","body":"i had the same issue\r\n\r\ni thinks this bug is related to this \r\n### **https://github.com/doctrine/migrations/issues/1104**\r\n`https://github.com/doctrine/migrations/issues/1104`","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/766760159/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alexandre-leng","id":72550137,"node_id":"MDQ6VXNlcjcyNTUwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/72550137?v=4","gravatar_id":"","url":"https://api.github.com/users/alexandre-leng","html_url":"https://github.com/alexandre-leng","followers_url":"https://api.github.com/users/alexandre-leng/followers","following_url":"https://api.github.com/users/alexandre-leng/following{/other_user}","gists_url":"https://api.github.com/users/alexandre-leng/gists{/gist_id}","starred_url":"https://api.github.com/users/alexandre-leng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexandre-leng/subscriptions","organizations_url":"https://api.github.com/users/alexandre-leng/orgs","repos_url":"https://api.github.com/users/alexandre-leng/repos","events_url":"https://api.github.com/users/alexandre-leng/events{/privacy}","received_events_url":"https://api.github.com/users/alexandre-leng/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jon48","id":5150782,"node_id":"MDQ6VXNlcjUxNTA3ODI=","avatar_url":"https://avatars.githubusercontent.com/u/5150782?v=4","gravatar_id":"","url":"https://api.github.com/users/jon48","html_url":"https://github.com/jon48","followers_url":"https://api.github.com/users/jon48/followers","following_url":"https://api.github.com/users/jon48/following{/other_user}","gists_url":"https://api.github.com/users/jon48/gists{/gist_id}","starred_url":"https://api.github.com/users/jon48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon48/subscriptions","organizations_url":"https://api.github.com/users/jon48/orgs","repos_url":"https://api.github.com/users/jon48/repos","events_url":"https://api.github.com/users/jon48/events{/privacy}","received_events_url":"https://api.github.com/users/jon48/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-21T11:26:16Z","updated_at":"2021-04-21T11:26:16Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856","repository_url":"https://api.github.com/repos/fisharebest/webtrees","labels_url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856/labels{/name}","comments_url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856/comments","events_url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856/events","html_url":"https://github.com/fisharebest/webtrees/issues/3856","id":863764528,"node_id":"MDU6SXNzdWU4NjM3NjQ1Mjg=","number":3856,"title":"[PHP8] PdoException with Transactions and MySQL implicit commits","user":{"login":"jon48","id":5150782,"node_id":"MDQ6VXNlcjUxNTA3ODI=","avatar_url":"https://avatars.githubusercontent.com/u/5150782?v=4","gravatar_id":"","url":"https://api.github.com/users/jon48","html_url":"https://github.com/jon48","followers_url":"https://api.github.com/users/jon48/followers","following_url":"https://api.github.com/users/jon48/following{/other_user}","gists_url":"https://api.github.com/users/jon48/gists{/gist_id}","starred_url":"https://api.github.com/users/jon48/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon48/subscriptions","organizations_url":"https://api.github.com/users/jon48/orgs","repos_url":"https://api.github.com/users/jon48/repos","events_url":"https://api.github.com/users/jon48/events{/privacy}","received_events_url":"https://api.github.com/users/jon48/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":50391587,"node_id":"MDU6TGFiZWw1MDM5MTU4Nw==","url":"https://api.github.com/repos/fisharebest/webtrees/labels/bug","name":"bug","color":"fc2929","default":true,"description":"confirmed bug"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-04-21T11:26:16Z","updated_at":"2022-10-07T07:26:52Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11836349,"node_id":"MDEwOlJlcG9zaXRvcnkxMTgzNjM0OQ==","name":"webtrees","full_name":"fisharebest/webtrees","private":false,"owner":{"login":"fisharebest","id":2306088,"node_id":"MDQ6VXNlcjIzMDYwODg=","avatar_url":"https://avatars.githubusercontent.com/u/2306088?v=4","gravatar_id":"","url":"https://api.github.com/users/fisharebest","html_url":"https://github.com/fisharebest","followers_url":"https://api.github.com/users/fisharebest/followers","following_url":"https://api.github.com/users/fisharebest/following{/other_user}","gists_url":"https://api.github.com/users/fisharebest/gists{/gist_id}","starred_url":"https://api.github.com/users/fisharebest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fisharebest/subscriptions","organizations_url":"https://api.github.com/users/fisharebest/orgs","repos_url":"https://api.github.com/users/fisharebest/repos","events_url":"https://api.github.com/users/fisharebest/events{/privacy}","received_events_url":"https://api.github.com/users/fisharebest/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fisharebest/webtrees","description":"Online genealogy","fork":false,"url":"https://api.github.com/repos/fisharebest/webtrees","forks_url":"https://api.github.com/repos/fisharebest/webtrees/forks","keys_url":"https://api.github.com/repos/fisharebest/webtrees/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fisharebest/webtrees/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fisharebest/webtrees/teams","hooks_url":"https://api.github.com/repos/fisharebest/webtrees/hooks","issue_events_url":"https://api.github.com/repos/fisharebest/webtrees/issues/events{/number}","events_url":"https://api.github.com/repos/fisharebest/webtrees/events","assignees_url":"https://api.github.com/repos/fisharebest/webtrees/assignees{/user}","branches_url":"https://api.github.com/repos/fisharebest/webtrees/branches{/branch}","tags_url":"https://api.github.com/repos/fisharebest/webtrees/tags","blobs_url":"https://api.github.com/repos/fisharebest/webtrees/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fisharebest/webtrees/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fisharebest/webtrees/git/refs{/sha}","trees_url":"https://api.github.com/repos/fisharebest/webtrees/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fisharebest/webtrees/statuses/{sha}","languages_url":"https://api.github.com/repos/fisharebest/webtrees/languages","stargazers_url":"https://api.github.com/repos/fisharebest/webtrees/stargazers","contributors_url":"https://api.github.com/repos/fisharebest/webtrees/contributors","subscribers_url":"https://api.github.com/repos/fisharebest/webtrees/subscribers","subscription_url":"https://api.github.com/repos/fisharebest/webtrees/subscription","commits_url":"https://api.github.com/repos/fisharebest/webtrees/commits{/sha}","git_commits_url":"https://api.github.com/repos/fisharebest/webtrees/git/commits{/sha}","comments_url":"https://api.github.com/repos/fisharebest/webtrees/comments{/number}","issue_comment_url":"https://api.github.com/repos/fisharebest/webtrees/issues/comments{/number}","contents_url":"https://api.github.com/repos/fisharebest/webtrees/contents/{+path}","compare_url":"https://api.github.com/repos/fisharebest/webtrees/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fisharebest/webtrees/merges","archive_url":"https://api.github.com/repos/fisharebest/webtrees/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fisharebest/webtrees/downloads","issues_url":"https://api.github.com/repos/fisharebest/webtrees/issues{/number}","pulls_url":"https://api.github.com/repos/fisharebest/webtrees/pulls{/number}","milestones_url":"https://api.github.com/repos/fisharebest/webtrees/milestones{/number}","notifications_url":"https://api.github.com/repos/fisharebest/webtrees/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fisharebest/webtrees/labels{/name}","releases_url":"https://api.github.com/repos/fisharebest/webtrees/releases{/id}","deployments_url":"https://api.github.com/repos/fisharebest/webtrees/deployments","created_at":"2013-08-02T06:13:41Z","updated_at":"2025-11-09T20:07:55Z","pushed_at":"2025-11-09T19:35:38Z","git_url":"git://github.com/fisharebest/webtrees.git","ssh_url":"git@github.com:fisharebest/webtrees.git","clone_url":"https://github.com/fisharebest/webtrees.git","svn_url":"https://github.com/fisharebest/webtrees","homepage":"https://webtrees.net","size":886133,"stargazers_count":669,"watchers_count":669,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":330,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":446,"license":{"key":"gpl-3.0","name":"GNU General Public License v3.0","spdx_id":"GPL-3.0","url":"https://api.github.com/licenses/gpl-3.0","node_id":"MDc6TGljZW5zZTk="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["family-history","family-tree","gedcom","genealogy","webtrees"],"visibility":"public","forks":330,"open_issues":446,"watchers":669,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello,\r\n\r\nStill working on upgrading my custom modules, and now using the future 2.1 version as a base, I am facing an annoying issue when dealing with schema updates. I am actually surprised nobody has raised it, but this may be due to 2.1 not having any schema update yet.\r\n\r\n### Issue\r\nHopefully it should be fairly easy to reproduce (I have reproduced it both on my Windows & Ubuntu instances), as it only needs a DDL change on MySQL, for instance\r\n\r\n```php\r\nDB::schema()->create('maj_transaction_test', function(Blueprint $builder) {\r\n    $builder->integer('test_col');\r\n});            \r\n```\r\nWhen running it as part of a standard webtrees page (i.e. going through all the middlewares, especially the `UseTransaction` one, it results in the exception below being raised:\r\n```\r\nThere is no active transaction …\\vendor\\illuminate\\database\\Concerns\\ManagesTransactions.php:45\r\n#0 …\\vendor\\illuminate\\database\\Concerns\\ManagesTransactions.php(45): PDO->commit()\r\n#1 …\\app\\Http\\Middleware\\UseTransaction.php(46): Illuminate\\Database\\Connection->transaction()\r\n#2 …\\vendor\\oscarotero\\middleland\\src\\Dispatcher.php(136): Fisharebest\\Webtrees\\Http\\Middleware\\UseTransaction->process()\r\n#3 …\\app\\Http\\Middleware\\DoHousekeeping.php(74): Middleland\\Dispatcher->handle()\r\n#4 …\\vendor\\oscarotero\\middleland\\src\\Dispatcher.php(136): Fisharebest\\Webtrees\\Http\\Middleware\\DoHousekeeping->process()\r\n```\r\nThe table is actually created, and (if no other error otherwise), in the context of a `updateSchema` , all the actions have completed and been committed, and on a refresh of the page, the error does not appear anymore.\r\n\r\n### Troubleshooting\r\nWith a quick Google search,  it appears to be actually a well-known \"new\" behaviour of PDO in PHP 8.0 with MySQL implicit commits. As several discussions highlight, the behaviour is actually not really new, but PHP 8.0 now raise explicitly an exception when the transaction does not exist anymore, instead of hiding that fact and continuing, as it did before.\r\n\r\nBasically, MySQL has a list of statement (https://dev.mysql.com/doc/refman/8.0/en/implicit-commit.html) -in particular any DDL change - which force a commit, whatever has been instructed beforehand by the code or driver (I have tried playing with `PDO::ATTR_AUTOCOMMIT` to no avail), so whatever transaction was previously open is forcibly committed and closed.\r\nThe issue is that PDO does not have any notification of this change of status, and if not careful when calling the `->commit` or '->rollback` methods on your transaction, the exception is now raised in PHP 8.0, as there is no transaction any more indeed.\r\nAs an aside, IMHO, it is a correct thing for PHP/PDO to raise an exception to inform that the transaction is not one anymore, but this is a bit late in the process, as there is no notification in the abstraction between PDO and MySQL that the status has changed, so layers above PDO have to distrust the transaction abstraction layer, and take preventive or corrective actions to restore (or more realistically remediate) a more transactional mode.\r\n\r\nAnyway, the consequence is that the exception bubbles up to webtrees.\r\nAddressing this issue is not easy, as it is usually too late, so rollback is not possible anymore, but some of the frameworks have taken on themselves to deal with the exception in their framework layers (with usually the approach of silently ignoring on a attempted commit, and raising a warning on a attempted rollback): \r\n- Yii: https://github.com/yiisoft/yii2/issues/18406\r\n- Drupal: https://www.drupal.org/project/drupal/issues/2736777\r\n- Doctrine; https://github.com/doctrine/migrations/issues/1104\r\n\r\nLaravel, on the other side, does not seem to want to address the issue, and leave it to a comment on MySQL in their documentation\r\n- https://github.com/laravel/framework/issues/35380\r\n- https://github.com/laravel/framework/issues/35161\r\n \r\nI understand that the underlying issue is somewhat controversial and probably more a PDO or MySQL one, but I feel that as a framework, their position is one difficult to support, as this is their own component `ManagesTransactions` breaking the abstraction by exposing implementation details of the `transaction` method for instance.\r\n\r\n### Next steps\r\nIn the absence of a solution by Laravel in the near future. I think webtrees should still prevent the error from bubbling up to the end user, at least when everything has run successfully, and the commit is supposed to happen (a failed rollback is more problematic).\r\n\r\nUnfortunately I have not found a neat way to address it, as most of the implementation details are hidden, so all options I have looked at have some drawbacks. But this part is clearly not my expertise, and somebody will probably have more clever ideas.\r\nI have created a commit on my fork with 2 suggestions (the code is not supposed to be clean, just for demonstration purpose): \r\n\r\n- Capture the exception at the `UseTransaction` level ([View diff](https://github.com/fisharebest/webtrees/compare/main...jon48:feature/php8-transaction#diff-d96ddf6099263dc8b30d12f34829880d64352a574e1078421deec860fb11394d)): this allows not to bubble the issue to the front-end for that specific exception, but we do not have the information of whether the attempted action was a commit or a rollback (in the latter case, we probably still want to let the user know that something has gone wrong).\r\n- Target specifically where we know that the transaction is likely to be broken ([View diff](https://github.com/fisharebest/webtrees/compare/main...jon48:feature/php8-transaction#diff-c1a434d9a0cfe41f2fd72bca7381d394a0e7343849d19a1e7d0bbfe3d7789da8)): the most likely part of the code where implicit commit statements are going to be used are in the `updateSchema` of the `MigrationService`. So we make sure after the updates have been run if we are still in the transaction (some updates may not close the transaction), and reopen one if necessary. This still allows for some kind of transactional mechanism outside of the `updateSchema` methods, but it does not protect the overall transaction if somewhere else the transaction is forcibly closed (and it may be down to the developers to be careful if they use implicitly commit statements).\r\n\r\nI have added a dummy module for testing : https://github.com/jon48/webtrees/blob/feature/php8-transaction/modules_v4/testpdo8/module.php that create/drop a table when called on `/module/_testpdo8_/Test`","reactions":{"url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fisharebest/webtrees/issues/3856/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"victorjkhalaf","id":410897,"node_id":"MDQ6VXNlcjQxMDg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/410897?v=4","gravatar_id":"","url":"https://api.github.com/users/victorjkhalaf","html_url":"https://github.com/victorjkhalaf","followers_url":"https://api.github.com/users/victorjkhalaf/followers","following_url":"https://api.github.com/users/victorjkhalaf/following{/other_user}","gists_url":"https://api.github.com/users/victorjkhalaf/gists{/gist_id}","starred_url":"https://api.github.com/users/victorjkhalaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victorjkhalaf/subscriptions","organizations_url":"https://api.github.com/users/victorjkhalaf/orgs","repos_url":"https://api.github.com/users/victorjkhalaf/repos","events_url":"https://api.github.com/users/victorjkhalaf/events{/privacy}","received_events_url":"https://api.github.com/users/victorjkhalaf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-03T16:18:03Z","updated_at":"2021-08-03T16:18:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/phingofficial/phing/issues/1626","repository_url":"https://api.github.com/repos/phingofficial/phing","labels_url":"https://api.github.com/repos/phingofficial/phing/issues/1626/labels{/name}","comments_url":"https://api.github.com/repos/phingofficial/phing/issues/1626/comments","events_url":"https://api.github.com/repos/phingofficial/phing/issues/1626/events","html_url":"https://github.com/phingofficial/phing/issues/1626","id":959281733,"node_id":"MDU6SXNzdWU5NTkyODE3MzM=","number":1626,"title":"PHP 8 \"There is no active transaction\" with a pdosqlexec with transaction","user":{"login":"victorjkhalaf","id":410897,"node_id":"MDQ6VXNlcjQxMDg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/410897?v=4","gravatar_id":"","url":"https://api.github.com/users/victorjkhalaf","html_url":"https://github.com/victorjkhalaf","followers_url":"https://api.github.com/users/victorjkhalaf/followers","following_url":"https://api.github.com/users/victorjkhalaf/following{/other_user}","gists_url":"https://api.github.com/users/victorjkhalaf/gists{/gist_id}","starred_url":"https://api.github.com/users/victorjkhalaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/victorjkhalaf/subscriptions","organizations_url":"https://api.github.com/users/victorjkhalaf/orgs","repos_url":"https://api.github.com/users/victorjkhalaf/repos","events_url":"https://api.github.com/users/victorjkhalaf/events{/privacy}","received_events_url":"https://api.github.com/users/victorjkhalaf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-08-03T16:18:03Z","updated_at":"2022-06-28T13:38:47Z","closed_at":"2021-08-22T09:57:03Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3097862,"node_id":"MDEwOlJlcG9zaXRvcnkzMDk3ODYy","name":"phing","full_name":"phingofficial/phing","private":false,"owner":{"login":"phingofficial","id":923426,"node_id":"MDEyOk9yZ2FuaXphdGlvbjkyMzQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/923426?v=4","gravatar_id":"","url":"https://api.github.com/users/phingofficial","html_url":"https://github.com/phingofficial","followers_url":"https://api.github.com/users/phingofficial/followers","following_url":"https://api.github.com/users/phingofficial/following{/other_user}","gists_url":"https://api.github.com/users/phingofficial/gists{/gist_id}","starred_url":"https://api.github.com/users/phingofficial/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phingofficial/subscriptions","organizations_url":"https://api.github.com/users/phingofficial/orgs","repos_url":"https://api.github.com/users/phingofficial/repos","events_url":"https://api.github.com/users/phingofficial/events{/privacy}","received_events_url":"https://api.github.com/users/phingofficial/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/phingofficial/phing","description":"PHing Is Not GNU make; it's a PHP project build system or build tool based on  Apache Ant.","fork":false,"url":"https://api.github.com/repos/phingofficial/phing","forks_url":"https://api.github.com/repos/phingofficial/phing/forks","keys_url":"https://api.github.com/repos/phingofficial/phing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/phingofficial/phing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/phingofficial/phing/teams","hooks_url":"https://api.github.com/repos/phingofficial/phing/hooks","issue_events_url":"https://api.github.com/repos/phingofficial/phing/issues/events{/number}","events_url":"https://api.github.com/repos/phingofficial/phing/events","assignees_url":"https://api.github.com/repos/phingofficial/phing/assignees{/user}","branches_url":"https://api.github.com/repos/phingofficial/phing/branches{/branch}","tags_url":"https://api.github.com/repos/phingofficial/phing/tags","blobs_url":"https://api.github.com/repos/phingofficial/phing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/phingofficial/phing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/phingofficial/phing/git/refs{/sha}","trees_url":"https://api.github.com/repos/phingofficial/phing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/phingofficial/phing/statuses/{sha}","languages_url":"https://api.github.com/repos/phingofficial/phing/languages","stargazers_url":"https://api.github.com/repos/phingofficial/phing/stargazers","contributors_url":"https://api.github.com/repos/phingofficial/phing/contributors","subscribers_url":"https://api.github.com/repos/phingofficial/phing/subscribers","subscription_url":"https://api.github.com/repos/phingofficial/phing/subscription","commits_url":"https://api.github.com/repos/phingofficial/phing/commits{/sha}","git_commits_url":"https://api.github.com/repos/phingofficial/phing/git/commits{/sha}","comments_url":"https://api.github.com/repos/phingofficial/phing/comments{/number}","issue_comment_url":"https://api.github.com/repos/phingofficial/phing/issues/comments{/number}","contents_url":"https://api.github.com/repos/phingofficial/phing/contents/{+path}","compare_url":"https://api.github.com/repos/phingofficial/phing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/phingofficial/phing/merges","archive_url":"https://api.github.com/repos/phingofficial/phing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/phingofficial/phing/downloads","issues_url":"https://api.github.com/repos/phingofficial/phing/issues{/number}","pulls_url":"https://api.github.com/repos/phingofficial/phing/pulls{/number}","milestones_url":"https://api.github.com/repos/phingofficial/phing/milestones{/number}","notifications_url":"https://api.github.com/repos/phingofficial/phing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/phingofficial/phing/labels{/name}","releases_url":"https://api.github.com/repos/phingofficial/phing/releases{/id}","deployments_url":"https://api.github.com/repos/phingofficial/phing/deployments","created_at":"2012-01-03T22:21:54Z","updated_at":"2025-10-29T20:08:49Z","pushed_at":"2025-11-01T11:00:44Z","git_url":"git://github.com/phingofficial/phing.git","ssh_url":"git@github.com:phingofficial/phing.git","clone_url":"https://github.com/phingofficial/phing.git","svn_url":"https://github.com/phingofficial/phing","homepage":"https://www.phing.info","size":79516,"stargazers_count":1167,"watchers_count":1167,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":318,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":9,"license":{"key":"lgpl-3.0","name":"GNU Lesser General Public License v3.0","spdx_id":"LGPL-3.0","url":"https://api.github.com/licenses/lgpl-3.0","node_id":"MDc6TGljZW5zZTEy"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["ant","build-automation","build-tool","make","phing","php"],"visibility":"public","forks":318,"open_issues":9,"watchers":1167,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\nSince the PHP 8 update having an xml block for pdosqlexec with a transaction will trigger the following error message upon building\r\n\r\n```\r\nBUILD FAILED\r\n/build.xml:361:138: /build.xml:361:138: There is no active transaction\r\n```\r\n\r\n**Steps To Reproduce**\r\n\r\nHaving a block like the following will trigger it\r\n```xml\r\n<pdosqlexec url=\"xxxx:host=xxxx\" encoding=\"xxxx\" userid=\"xxxxx\" password=\"xxxx\" onerror=\"abort\">\r\n            <transaction>DROP DATABASE IF EXISTS `xxxxx`;</transaction>\r\n            <transaction>CREATE DATABASE `xxxxx`;</transaction>\r\n</pdosqlexec>\r\n```\r\n\r\n\r\n**Expected behavior**\r\nIt should run the query without any warnings as pre-PHP8.\r\n\r\n**Additional context**\r\nThis seems to be a known issue with other packages that run migrations or provide DB abstraction layers.\r\nhttps://github.com/doctrine/migrations/issues/1104\r\nhttps://github.com/yiisoft/yii2/issues/18406\r\n","reactions":{"url":"https://api.github.com/repos/phingofficial/phing/issues/1626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/phingofficial/phing/issues/1626/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"aspirantzhang","id":24559988,"node_id":"MDQ6VXNlcjI0NTU5OTg4","avatar_url":"https://avatars.githubusercontent.com/u/24559988?v=4","gravatar_id":"","url":"https://api.github.com/users/aspirantzhang","html_url":"https://github.com/aspirantzhang","followers_url":"https://api.github.com/users/aspirantzhang/followers","following_url":"https://api.github.com/users/aspirantzhang/following{/other_user}","gists_url":"https://api.github.com/users/aspirantzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aspirantzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aspirantzhang/subscriptions","organizations_url":"https://api.github.com/users/aspirantzhang/orgs","repos_url":"https://api.github.com/users/aspirantzhang/repos","events_url":"https://api.github.com/users/aspirantzhang/events{/privacy}","received_events_url":"https://api.github.com/users/aspirantzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T09:34:34Z","updated_at":"2021-08-21T09:34:34Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/top-think/think-orm/issues/292","repository_url":"https://api.github.com/repos/top-think/think-orm","labels_url":"https://api.github.com/repos/top-think/think-orm/issues/292/labels{/name}","comments_url":"https://api.github.com/repos/top-think/think-orm/issues/292/comments","events_url":"https://api.github.com/repos/top-think/think-orm/issues/292/events","html_url":"https://github.com/top-think/think-orm/pull/292","id":976094800,"node_id":"MDExOlB1bGxSZXF1ZXN0NzE3MTI1Mzc2","number":292,"title":"fix: 修复php8自动提交事务时的报错","user":{"login":"aspirantzhang","id":24559988,"node_id":"MDQ6VXNlcjI0NTU5OTg4","avatar_url":"https://avatars.githubusercontent.com/u/24559988?v=4","gravatar_id":"","url":"https://api.github.com/users/aspirantzhang","html_url":"https://github.com/aspirantzhang","followers_url":"https://api.github.com/users/aspirantzhang/followers","following_url":"https://api.github.com/users/aspirantzhang/following{/other_user}","gists_url":"https://api.github.com/users/aspirantzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/aspirantzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aspirantzhang/subscriptions","organizations_url":"https://api.github.com/users/aspirantzhang/orgs","repos_url":"https://api.github.com/users/aspirantzhang/repos","events_url":"https://api.github.com/users/aspirantzhang/events{/privacy}","received_events_url":"https://api.github.com/users/aspirantzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-08-21T09:34:34Z","updated_at":"2021-08-24T06:36:02Z","closed_at":"2021-08-24T06:36:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":108497438,"node_id":"MDEwOlJlcG9zaXRvcnkxMDg0OTc0Mzg=","name":"think-orm","full_name":"top-think/think-orm","private":false,"owner":{"login":"top-think","id":16305258,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE2MzA1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/16305258?v=4","gravatar_id":"","url":"https://api.github.com/users/top-think","html_url":"https://github.com/top-think","followers_url":"https://api.github.com/users/top-think/followers","following_url":"https://api.github.com/users/top-think/following{/other_user}","gists_url":"https://api.github.com/users/top-think/gists{/gist_id}","starred_url":"https://api.github.com/users/top-think/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/top-think/subscriptions","organizations_url":"https://api.github.com/users/top-think/orgs","repos_url":"https://api.github.com/users/top-think/repos","events_url":"https://api.github.com/users/top-think/events{/privacy}","received_events_url":"https://api.github.com/users/top-think/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/top-think/think-orm","description":"Think ORM——the PHP Database&ORM Framework","fork":false,"url":"https://api.github.com/repos/top-think/think-orm","forks_url":"https://api.github.com/repos/top-think/think-orm/forks","keys_url":"https://api.github.com/repos/top-think/think-orm/keys{/key_id}","collaborators_url":"https://api.github.com/repos/top-think/think-orm/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/top-think/think-orm/teams","hooks_url":"https://api.github.com/repos/top-think/think-orm/hooks","issue_events_url":"https://api.github.com/repos/top-think/think-orm/issues/events{/number}","events_url":"https://api.github.com/repos/top-think/think-orm/events","assignees_url":"https://api.github.com/repos/top-think/think-orm/assignees{/user}","branches_url":"https://api.github.com/repos/top-think/think-orm/branches{/branch}","tags_url":"https://api.github.com/repos/top-think/think-orm/tags","blobs_url":"https://api.github.com/repos/top-think/think-orm/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/top-think/think-orm/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/top-think/think-orm/git/refs{/sha}","trees_url":"https://api.github.com/repos/top-think/think-orm/git/trees{/sha}","statuses_url":"https://api.github.com/repos/top-think/think-orm/statuses/{sha}","languages_url":"https://api.github.com/repos/top-think/think-orm/languages","stargazers_url":"https://api.github.com/repos/top-think/think-orm/stargazers","contributors_url":"https://api.github.com/repos/top-think/think-orm/contributors","subscribers_url":"https://api.github.com/repos/top-think/think-orm/subscribers","subscription_url":"https://api.github.com/repos/top-think/think-orm/subscription","commits_url":"https://api.github.com/repos/top-think/think-orm/commits{/sha}","git_commits_url":"https://api.github.com/repos/top-think/think-orm/git/commits{/sha}","comments_url":"https://api.github.com/repos/top-think/think-orm/comments{/number}","issue_comment_url":"https://api.github.com/repos/top-think/think-orm/issues/comments{/number}","contents_url":"https://api.github.com/repos/top-think/think-orm/contents/{+path}","compare_url":"https://api.github.com/repos/top-think/think-orm/compare/{base}...{head}","merges_url":"https://api.github.com/repos/top-think/think-orm/merges","archive_url":"https://api.github.com/repos/top-think/think-orm/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/top-think/think-orm/downloads","issues_url":"https://api.github.com/repos/top-think/think-orm/issues{/number}","pulls_url":"https://api.github.com/repos/top-think/think-orm/pulls{/number}","milestones_url":"https://api.github.com/repos/top-think/think-orm/milestones{/number}","notifications_url":"https://api.github.com/repos/top-think/think-orm/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/top-think/think-orm/labels{/name}","releases_url":"https://api.github.com/repos/top-think/think-orm/releases{/id}","deployments_url":"https://api.github.com/repos/top-think/think-orm/deployments","created_at":"2017-10-27T03:59:12Z","updated_at":"2025-10-20T02:24:18Z","pushed_at":"2025-10-20T02:24:14Z","git_url":"git://github.com/top-think/think-orm.git","ssh_url":"git@github.com:top-think/think-orm.git","clone_url":"https://github.com/top-think/think-orm.git","svn_url":"https://github.com/top-think/think-orm","homepage":"","size":2470,"stargazers_count":432,"watchers_count":432,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":183,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":201,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["database","orm"],"visibility":"public","forks":183,"open_issues":201,"watchers":432,"default_branch":"4.0","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/top-think/think-orm/pulls/292","html_url":"https://github.com/top-think/think-orm/pull/292","diff_url":"https://github.com/top-think/think-orm/pull/292.diff","patch_url":"https://github.com/top-think/think-orm/pull/292.patch","merged_at":"2021-08-24T06:36:02Z"},"body":"参考了：https://github.com/yiisoft/yii2/issues/18406","reactions":{"url":"https://api.github.com/repos/top-think/think-orm/issues/292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/top-think/think-orm/issues/292/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"forgie1","id":13380093,"node_id":"MDQ6VXNlcjEzMzgwMDkz","avatar_url":"https://avatars.githubusercontent.com/u/13380093?v=4","gravatar_id":"","url":"https://api.github.com/users/forgie1","html_url":"https://github.com/forgie1","followers_url":"https://api.github.com/users/forgie1/followers","following_url":"https://api.github.com/users/forgie1/following{/other_user}","gists_url":"https://api.github.com/users/forgie1/gists{/gist_id}","starred_url":"https://api.github.com/users/forgie1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forgie1/subscriptions","organizations_url":"https://api.github.com/users/forgie1/orgs","repos_url":"https://api.github.com/users/forgie1/repos","events_url":"https://api.github.com/users/forgie1/events{/privacy}","received_events_url":"https://api.github.com/users/forgie1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-17T10:57:51Z","updated_at":"2021-10-17T10:57:51Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/doctrine/migrations/issues/1202","repository_url":"https://api.github.com/repos/doctrine/migrations","labels_url":"https://api.github.com/repos/doctrine/migrations/issues/1202/labels{/name}","comments_url":"https://api.github.com/repos/doctrine/migrations/issues/1202/comments","events_url":"https://api.github.com/repos/doctrine/migrations/issues/1202/events","html_url":"https://github.com/doctrine/migrations/issues/1202","id":1028286640,"node_id":"MDU6SXNzdWUxMDI4Mjg2NjQw","number":1202,"title":"PHP 8: \"PDOException: There is no active transaction\"","user":{"login":"forgie1","id":13380093,"node_id":"MDQ6VXNlcjEzMzgwMDkz","avatar_url":"https://avatars.githubusercontent.com/u/13380093?v=4","gravatar_id":"","url":"https://api.github.com/users/forgie1","html_url":"https://github.com/forgie1","followers_url":"https://api.github.com/users/forgie1/followers","following_url":"https://api.github.com/users/forgie1/following{/other_user}","gists_url":"https://api.github.com/users/forgie1/gists{/gist_id}","starred_url":"https://api.github.com/users/forgie1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/forgie1/subscriptions","organizations_url":"https://api.github.com/users/forgie1/orgs","repos_url":"https://api.github.com/users/forgie1/repos","events_url":"https://api.github.com/users/forgie1/events{/privacy}","received_events_url":"https://api.github.com/users/forgie1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":22,"created_at":"2021-06-17T16:48:40Z","updated_at":"2025-02-04T23:44:37Z","closed_at":"2021-10-21T18:59:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":576099,"node_id":"MDEwOlJlcG9zaXRvcnk1NzYwOTk=","name":"migrations","full_name":"doctrine/migrations","private":false,"owner":{"login":"doctrine","id":209254,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwOTI1NA==","avatar_url":"https://avatars.githubusercontent.com/u/209254?v=4","gravatar_id":"","url":"https://api.github.com/users/doctrine","html_url":"https://github.com/doctrine","followers_url":"https://api.github.com/users/doctrine/followers","following_url":"https://api.github.com/users/doctrine/following{/other_user}","gists_url":"https://api.github.com/users/doctrine/gists{/gist_id}","starred_url":"https://api.github.com/users/doctrine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doctrine/subscriptions","organizations_url":"https://api.github.com/users/doctrine/orgs","repos_url":"https://api.github.com/users/doctrine/repos","events_url":"https://api.github.com/users/doctrine/events{/privacy}","received_events_url":"https://api.github.com/users/doctrine/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/doctrine/migrations","description":"Doctrine Database Migrations Library","fork":false,"url":"https://api.github.com/repos/doctrine/migrations","forks_url":"https://api.github.com/repos/doctrine/migrations/forks","keys_url":"https://api.github.com/repos/doctrine/migrations/keys{/key_id}","collaborators_url":"https://api.github.com/repos/doctrine/migrations/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/doctrine/migrations/teams","hooks_url":"https://api.github.com/repos/doctrine/migrations/hooks","issue_events_url":"https://api.github.com/repos/doctrine/migrations/issues/events{/number}","events_url":"https://api.github.com/repos/doctrine/migrations/events","assignees_url":"https://api.github.com/repos/doctrine/migrations/assignees{/user}","branches_url":"https://api.github.com/repos/doctrine/migrations/branches{/branch}","tags_url":"https://api.github.com/repos/doctrine/migrations/tags","blobs_url":"https://api.github.com/repos/doctrine/migrations/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/doctrine/migrations/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/doctrine/migrations/git/refs{/sha}","trees_url":"https://api.github.com/repos/doctrine/migrations/git/trees{/sha}","statuses_url":"https://api.github.com/repos/doctrine/migrations/statuses/{sha}","languages_url":"https://api.github.com/repos/doctrine/migrations/languages","stargazers_url":"https://api.github.com/repos/doctrine/migrations/stargazers","contributors_url":"https://api.github.com/repos/doctrine/migrations/contributors","subscribers_url":"https://api.github.com/repos/doctrine/migrations/subscribers","subscription_url":"https://api.github.com/repos/doctrine/migrations/subscription","commits_url":"https://api.github.com/repos/doctrine/migrations/commits{/sha}","git_commits_url":"https://api.github.com/repos/doctrine/migrations/git/commits{/sha}","comments_url":"https://api.github.com/repos/doctrine/migrations/comments{/number}","issue_comment_url":"https://api.github.com/repos/doctrine/migrations/issues/comments{/number}","contents_url":"https://api.github.com/repos/doctrine/migrations/contents/{+path}","compare_url":"https://api.github.com/repos/doctrine/migrations/compare/{base}...{head}","merges_url":"https://api.github.com/repos/doctrine/migrations/merges","archive_url":"https://api.github.com/repos/doctrine/migrations/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/doctrine/migrations/downloads","issues_url":"https://api.github.com/repos/doctrine/migrations/issues{/number}","pulls_url":"https://api.github.com/repos/doctrine/migrations/pulls{/number}","milestones_url":"https://api.github.com/repos/doctrine/migrations/milestones{/number}","notifications_url":"https://api.github.com/repos/doctrine/migrations/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/doctrine/migrations/labels{/name}","releases_url":"https://api.github.com/repos/doctrine/migrations/releases{/id}","deployments_url":"https://api.github.com/repos/doctrine/migrations/deployments","created_at":"2010-03-23T18:08:24Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-11-03T22:12:05Z","git_url":"git://github.com/doctrine/migrations.git","ssh_url":"git@github.com:doctrine/migrations.git","clone_url":"https://github.com/doctrine/migrations.git","svn_url":"https://github.com/doctrine/migrations","homepage":"https://www.doctrine-project.org/projects/migrations.html","size":5148,"stargazers_count":4749,"watchers_count":4749,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":395,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":130,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":395,"open_issues":130,"watchers":4749,"default_branch":"3.9.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Under PHP 8 there is Exception thrown, when transaction was autocommited.\r\n`PDOException: There is no active transaction`\r\nThis is the change in PHP sources: https://github.com/php/php-src/commit/990bb34891c83d12c5129fd781893704f948f2f4\r\n\r\nIdeal would be not to throw the exception if transaction was already commited.\r\n\r\nThis is similar to this issue in unrelated project: https://github.com/yiisoft/yii2/issues/18406 ","reactions":{"url":"https://api.github.com/repos/doctrine/migrations/issues/1202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/doctrine/migrations/issues/1202/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"digitalkaoz","id":293591,"node_id":"MDQ6VXNlcjI5MzU5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/293591?v=4","gravatar_id":"","url":"https://api.github.com/users/digitalkaoz","html_url":"https://github.com/digitalkaoz","followers_url":"https://api.github.com/users/digitalkaoz/followers","following_url":"https://api.github.com/users/digitalkaoz/following{/other_user}","gists_url":"https://api.github.com/users/digitalkaoz/gists{/gist_id}","starred_url":"https://api.github.com/users/digitalkaoz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/digitalkaoz/subscriptions","organizations_url":"https://api.github.com/users/digitalkaoz/orgs","repos_url":"https://api.github.com/users/digitalkaoz/repos","events_url":"https://api.github.com/users/digitalkaoz/events{/privacy}","received_events_url":"https://api.github.com/users/digitalkaoz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T18:54:58Z","updated_at":"2022-02-08T18:54:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/shopware/shopware/issues/2041","repository_url":"https://api.github.com/repos/shopware/shopware","labels_url":"https://api.github.com/repos/shopware/shopware/issues/2041/labels{/name}","comments_url":"https://api.github.com/repos/shopware/shopware/issues/2041/comments","events_url":"https://api.github.com/repos/shopware/shopware/issues/2041/events","html_url":"https://github.com/shopware/shopware/pull/2041","id":981574649,"node_id":"MDExOlB1bGxSZXF1ZXN0NzIxNTk2MDEz","number":2041,"title":"Fix transactions and data consistency","user":{"login":"UlrichThomasGabor","id":18024904,"node_id":"MDQ6VXNlcjE4MDI0OTA0","avatar_url":"https://avatars.githubusercontent.com/u/18024904?v=4","gravatar_id":"","url":"https://api.github.com/users/UlrichThomasGabor","html_url":"https://github.com/UlrichThomasGabor","followers_url":"https://api.github.com/users/UlrichThomasGabor/followers","following_url":"https://api.github.com/users/UlrichThomasGabor/following{/other_user}","gists_url":"https://api.github.com/users/UlrichThomasGabor/gists{/gist_id}","starred_url":"https://api.github.com/users/UlrichThomasGabor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/UlrichThomasGabor/subscriptions","organizations_url":"https://api.github.com/users/UlrichThomasGabor/orgs","repos_url":"https://api.github.com/users/UlrichThomasGabor/repos","events_url":"https://api.github.com/users/UlrichThomasGabor/events{/privacy}","received_events_url":"https://api.github.com/users/UlrichThomasGabor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"Dominik28111","id":28164831,"node_id":"MDQ6VXNlcjI4MTY0ODMx","avatar_url":"https://avatars.githubusercontent.com/u/28164831?v=4","gravatar_id":"","url":"https://api.github.com/users/Dominik28111","html_url":"https://github.com/Dominik28111","followers_url":"https://api.github.com/users/Dominik28111/followers","following_url":"https://api.github.com/users/Dominik28111/following{/other_user}","gists_url":"https://api.github.com/users/Dominik28111/gists{/gist_id}","starred_url":"https://api.github.com/users/Dominik28111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dominik28111/subscriptions","organizations_url":"https://api.github.com/users/Dominik28111/orgs","repos_url":"https://api.github.com/users/Dominik28111/repos","events_url":"https://api.github.com/users/Dominik28111/events{/privacy}","received_events_url":"https://api.github.com/users/Dominik28111/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"Dominik28111","id":28164831,"node_id":"MDQ6VXNlcjI4MTY0ODMx","avatar_url":"https://avatars.githubusercontent.com/u/28164831?v=4","gravatar_id":"","url":"https://api.github.com/users/Dominik28111","html_url":"https://github.com/Dominik28111","followers_url":"https://api.github.com/users/Dominik28111/followers","following_url":"https://api.github.com/users/Dominik28111/following{/other_user}","gists_url":"https://api.github.com/users/Dominik28111/gists{/gist_id}","starred_url":"https://api.github.com/users/Dominik28111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dominik28111/subscriptions","organizations_url":"https://api.github.com/users/Dominik28111/orgs","repos_url":"https://api.github.com/users/Dominik28111/repos","events_url":"https://api.github.com/users/Dominik28111/events{/privacy}","received_events_url":"https://api.github.com/users/Dominik28111/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":20,"created_at":"2021-08-27T20:28:12Z","updated_at":"2024-03-20T16:40:52Z","closed_at":"2021-09-27T11:31:05Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":131995661,"node_id":"MDEwOlJlcG9zaXRvcnkxMzE5OTU2NjE=","name":"shopware","full_name":"shopware/shopware","private":false,"owner":{"login":"shopware","id":612628,"node_id":"MDEyOk9yZ2FuaXphdGlvbjYxMjYyOA==","avatar_url":"https://avatars.githubusercontent.com/u/612628?v=4","gravatar_id":"","url":"https://api.github.com/users/shopware","html_url":"https://github.com/shopware","followers_url":"https://api.github.com/users/shopware/followers","following_url":"https://api.github.com/users/shopware/following{/other_user}","gists_url":"https://api.github.com/users/shopware/gists{/gist_id}","starred_url":"https://api.github.com/users/shopware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shopware/subscriptions","organizations_url":"https://api.github.com/users/shopware/orgs","repos_url":"https://api.github.com/users/shopware/repos","events_url":"https://api.github.com/users/shopware/events{/privacy}","received_events_url":"https://api.github.com/users/shopware/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/shopware/shopware","description":"Shopware 6 is an open commerce platform based on Symfony Framework and Vue and supported by a worldwide community and more than 3.100 community extensions","fork":false,"url":"https://api.github.com/repos/shopware/shopware","forks_url":"https://api.github.com/repos/shopware/shopware/forks","keys_url":"https://api.github.com/repos/shopware/shopware/keys{/key_id}","collaborators_url":"https://api.github.com/repos/shopware/shopware/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/shopware/shopware/teams","hooks_url":"https://api.github.com/repos/shopware/shopware/hooks","issue_events_url":"https://api.github.com/repos/shopware/shopware/issues/events{/number}","events_url":"https://api.github.com/repos/shopware/shopware/events","assignees_url":"https://api.github.com/repos/shopware/shopware/assignees{/user}","branches_url":"https://api.github.com/repos/shopware/shopware/branches{/branch}","tags_url":"https://api.github.com/repos/shopware/shopware/tags","blobs_url":"https://api.github.com/repos/shopware/shopware/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/shopware/shopware/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/shopware/shopware/git/refs{/sha}","trees_url":"https://api.github.com/repos/shopware/shopware/git/trees{/sha}","statuses_url":"https://api.github.com/repos/shopware/shopware/statuses/{sha}","languages_url":"https://api.github.com/repos/shopware/shopware/languages","stargazers_url":"https://api.github.com/repos/shopware/shopware/stargazers","contributors_url":"https://api.github.com/repos/shopware/shopware/contributors","subscribers_url":"https://api.github.com/repos/shopware/shopware/subscribers","subscription_url":"https://api.github.com/repos/shopware/shopware/subscription","commits_url":"https://api.github.com/repos/shopware/shopware/commits{/sha}","git_commits_url":"https://api.github.com/repos/shopware/shopware/git/commits{/sha}","comments_url":"https://api.github.com/repos/shopware/shopware/comments{/number}","issue_comment_url":"https://api.github.com/repos/shopware/shopware/issues/comments{/number}","contents_url":"https://api.github.com/repos/shopware/shopware/contents/{+path}","compare_url":"https://api.github.com/repos/shopware/shopware/compare/{base}...{head}","merges_url":"https://api.github.com/repos/shopware/shopware/merges","archive_url":"https://api.github.com/repos/shopware/shopware/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/shopware/shopware/downloads","issues_url":"https://api.github.com/repos/shopware/shopware/issues{/number}","pulls_url":"https://api.github.com/repos/shopware/shopware/pulls{/number}","milestones_url":"https://api.github.com/repos/shopware/shopware/milestones{/number}","notifications_url":"https://api.github.com/repos/shopware/shopware/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/shopware/shopware/labels{/name}","releases_url":"https://api.github.com/repos/shopware/shopware/releases{/id}","deployments_url":"https://api.github.com/repos/shopware/shopware/deployments","created_at":"2018-05-03T13:00:31Z","updated_at":"2025-11-10T04:21:22Z","pushed_at":"2025-11-10T03:10:53Z","git_url":"git://github.com/shopware/shopware.git","ssh_url":"git@github.com:shopware/shopware.git","clone_url":"https://github.com/shopware/shopware.git","svn_url":"https://github.com/shopware/shopware","homepage":"https://shopware.com","size":353169,"stargazers_count":3219,"watchers_count":3219,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":1140,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1301,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["api-first-cms","apifirst","digital-commerce","ecommerce","ecommerce-platform","experience-commerce","experience-manager","hacktoberfest","headless-cms","magento","online-shop","online-store","php","prestashop","shop","shopping-cart","shopware","storefront","symfony","vuejs"],"visibility":"public","forks":1140,"open_issues":1301,"watchers":3219,"default_branch":"trunk","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/shopware/shopware/pulls/2041","html_url":"https://github.com/shopware/shopware/pull/2041","diff_url":"https://github.com/shopware/shopware/pull/2041.diff","patch_url":"https://github.com/shopware/shopware/pull/2041.patch","merged_at":null},"body":"@OliverSkroblin As discussed. #1668 should be merged first. After that I can rebase my branch to the then-current trunk.\r\n\r\n### 1. Why is this change necessary?\r\nThis PR fixes various transaction issues and improves data consistency.\r\n\r\n### 2. What does this change do, exactly?\r\n* All calls to `beginTransaction` have been replaced with the new `RetryableTransaction` class, as it provides a cleaner interface anyway and the previous code did not execute `rollback` on exceptions.\r\n* `MultiInsertQueryQueue` now uses `RetryableTransaction` as well as there is no use case where it is desirable that half of the inserts is in the DB and then the execution of the script stops and the other half is left in the wide nothingness.\r\n* Introduced transactions at multiple code positions to improve data consistency. Also removed all attempts to be smarter than the DBMS in case of a deadlock and try non-batchy execution of queries; executing single statements not within a transaction can lead to data inconsistency; executing single statements inside of a transaction is in no case beneficial to a batch statement. Catching exceptions also breaks the transaction control flow, i.e. they are not reverted correctly.\r\n\r\n### 3. Describe each step to reproduce the issue or behaviour.\r\n\r\n\r\n### 4. Please link to the relevant issues (if any).\r\nThis fixes all issues I mentioned in the pull request #1668.\r\nThis also fixes https://issues.shopware.com/issues/NEXT-15805.\r\n\r\n### 5. Checklist\r\n\r\n- [ ] I have written tests and verified that they fail without my change\r\n- [ ] I have squashed any insignificant commits\r\n- [ ] I have created a [changelog file](https://github.com/shopware/platform/blob/trunk/adr/2020-08-03-Implement-New-Changelog.md) with all necessary information about my changes\r\n- [ ] I have written or adjusted the documentation according to my changes\r\n- [ ] This change has comments for package types, values, functions, and non-obvious lines of code\r\n- [ ] I have read the contribution requirements and fulfill them.\r\n\r\n### 6. To-Do-List\r\n\r\n- [x] If you have code-style enforcers, you might want to make sure that nobody introduces new `beginTransaction`, `commit` or `rollback` calls. All transactions should be implemented using `RetryableTransaction`.\r\n- [x] I've encountered some other occurrences of `catch (\\Exception)` or `catch (\\Throwable)`. This is code-smell, i.e. one likely never wants to catch ALL exceptions. You might want to review (i.e. remove) these.\r\n- [ ] The last commit (\"Make batch behave like previous non-batch\") makes the code behave like previously, but I don't think it is a good idea to ignore all errors. The best way would be to fix the code such that the `IGNORE`s are not necessary anymore. The second-best solution is to change `RetryableTransaction` to pass an argument to the transactional closure (I guess this has to be done via [`Closure::bind`](https://www.php.net/manual/en/closure.bind.php) to not interfere with Doctrine), passing in its retry `$counter` so the closure can determine if this is the first execution or a following one. In the following cases, it could perform an `INSERT IGNORE` instead.\r\n- [ ] Call `$connection->setNestTransactionsWithSavepoints(true)` globally.","reactions":{"url":"https://api.github.com/repos/shopware/shopware/issues/2041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/shopware/shopware/issues/2041/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"ausi","id":367169,"node_id":"MDQ6VXNlcjM2NzE2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/367169?v=4","gravatar_id":"","url":"https://api.github.com/users/ausi","html_url":"https://github.com/ausi","followers_url":"https://api.github.com/users/ausi/followers","following_url":"https://api.github.com/users/ausi/following{/other_user}","gists_url":"https://api.github.com/users/ausi/gists{/gist_id}","starred_url":"https://api.github.com/users/ausi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ausi/subscriptions","organizations_url":"https://api.github.com/users/ausi/orgs","repos_url":"https://api.github.com/users/ausi/repos","events_url":"https://api.github.com/users/ausi/events{/privacy}","received_events_url":"https://api.github.com/users/ausi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-16T11:18:39Z","updated_at":"2022-02-16T11:18:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/contao/contao/issues/4129","repository_url":"https://api.github.com/repos/contao/contao","labels_url":"https://api.github.com/repos/contao/contao/issues/4129/labels{/name}","comments_url":"https://api.github.com/repos/contao/contao/issues/4129/comments","events_url":"https://api.github.com/repos/contao/contao/issues/4129/events","html_url":"https://github.com/contao/contao/issues/4129","id":1137334400,"node_id":"I_kwDOCKHE0M5DyliA","number":4129,"title":"contao:backup:restore - There is no active transaction","user":{"login":"contaoacademy","id":23719181,"node_id":"MDQ6VXNlcjIzNzE5MTgx","avatar_url":"https://avatars.githubusercontent.com/u/23719181?v=4","gravatar_id":"","url":"https://api.github.com/users/contaoacademy","html_url":"https://github.com/contaoacademy","followers_url":"https://api.github.com/users/contaoacademy/followers","following_url":"https://api.github.com/users/contaoacademy/following{/other_user}","gists_url":"https://api.github.com/users/contaoacademy/gists{/gist_id}","starred_url":"https://api.github.com/users/contaoacademy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/contaoacademy/subscriptions","organizations_url":"https://api.github.com/users/contaoacademy/orgs","repos_url":"https://api.github.com/users/contaoacademy/repos","events_url":"https://api.github.com/users/contaoacademy/events{/privacy}","received_events_url":"https://api.github.com/users/contaoacademy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1028270354,"node_id":"MDU6TGFiZWwxMDI4MjcwMzU0","url":"https://api.github.com/repos/contao/contao/labels/bug","name":"bug","color":"bd2c00","default":true,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/contao/contao/milestones/43","html_url":"https://github.com/contao/contao/milestone/43","labels_url":"https://api.github.com/repos/contao/contao/milestones/43/labels","id":6907144,"node_id":"MDk6TWlsZXN0b25lNjkwNzE0NA==","number":43,"title":"4.13","description":"EOL: February 2026","creator":{"login":"leofeyer","id":1192057,"node_id":"MDQ6VXNlcjExOTIwNTc=","avatar_url":"https://avatars.githubusercontent.com/u/1192057?v=4","gravatar_id":"","url":"https://api.github.com/users/leofeyer","html_url":"https://github.com/leofeyer","followers_url":"https://api.github.com/users/leofeyer/followers","following_url":"https://api.github.com/users/leofeyer/following{/other_user}","gists_url":"https://api.github.com/users/leofeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/leofeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leofeyer/subscriptions","organizations_url":"https://api.github.com/users/leofeyer/orgs","repos_url":"https://api.github.com/users/leofeyer/repos","events_url":"https://api.github.com/users/leofeyer/events{/privacy}","received_events_url":"https://api.github.com/users/leofeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":4,"closed_issues":1363,"state":"open","created_at":"2021-07-01T09:37:11Z","updated_at":"2025-10-29T14:27:58Z","due_on":null,"closed_at":null},"comments":9,"created_at":"2022-02-14T13:50:17Z","updated_at":"2024-03-18T11:23:14Z","closed_at":"2022-02-16T11:45:27Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":144819408,"node_id":"MDEwOlJlcG9zaXRvcnkxNDQ4MTk0MDg=","name":"contao","full_name":"contao/contao","private":false,"owner":{"login":"contao","id":1206136,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyMDYxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/1206136?v=4","gravatar_id":"","url":"https://api.github.com/users/contao","html_url":"https://github.com/contao","followers_url":"https://api.github.com/users/contao/followers","following_url":"https://api.github.com/users/contao/following{/other_user}","gists_url":"https://api.github.com/users/contao/gists{/gist_id}","starred_url":"https://api.github.com/users/contao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/contao/subscriptions","organizations_url":"https://api.github.com/users/contao/orgs","repos_url":"https://api.github.com/users/contao/repos","events_url":"https://api.github.com/users/contao/events{/privacy}","received_events_url":"https://api.github.com/users/contao/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/contao/contao","description":"Contao Open Source CMS","fork":false,"url":"https://api.github.com/repos/contao/contao","forks_url":"https://api.github.com/repos/contao/contao/forks","keys_url":"https://api.github.com/repos/contao/contao/keys{/key_id}","collaborators_url":"https://api.github.com/repos/contao/contao/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/contao/contao/teams","hooks_url":"https://api.github.com/repos/contao/contao/hooks","issue_events_url":"https://api.github.com/repos/contao/contao/issues/events{/number}","events_url":"https://api.github.com/repos/contao/contao/events","assignees_url":"https://api.github.com/repos/contao/contao/assignees{/user}","branches_url":"https://api.github.com/repos/contao/contao/branches{/branch}","tags_url":"https://api.github.com/repos/contao/contao/tags","blobs_url":"https://api.github.com/repos/contao/contao/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/contao/contao/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/contao/contao/git/refs{/sha}","trees_url":"https://api.github.com/repos/contao/contao/git/trees{/sha}","statuses_url":"https://api.github.com/repos/contao/contao/statuses/{sha}","languages_url":"https://api.github.com/repos/contao/contao/languages","stargazers_url":"https://api.github.com/repos/contao/contao/stargazers","contributors_url":"https://api.github.com/repos/contao/contao/contributors","subscribers_url":"https://api.github.com/repos/contao/contao/subscribers","subscription_url":"https://api.github.com/repos/contao/contao/subscription","commits_url":"https://api.github.com/repos/contao/contao/commits{/sha}","git_commits_url":"https://api.github.com/repos/contao/contao/git/commits{/sha}","comments_url":"https://api.github.com/repos/contao/contao/comments{/number}","issue_comment_url":"https://api.github.com/repos/contao/contao/issues/comments{/number}","contents_url":"https://api.github.com/repos/contao/contao/contents/{+path}","compare_url":"https://api.github.com/repos/contao/contao/compare/{base}...{head}","merges_url":"https://api.github.com/repos/contao/contao/merges","archive_url":"https://api.github.com/repos/contao/contao/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/contao/contao/downloads","issues_url":"https://api.github.com/repos/contao/contao/issues{/number}","pulls_url":"https://api.github.com/repos/contao/contao/pulls{/number}","milestones_url":"https://api.github.com/repos/contao/contao/milestones{/number}","notifications_url":"https://api.github.com/repos/contao/contao/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/contao/contao/labels{/name}","releases_url":"https://api.github.com/repos/contao/contao/releases{/id}","deployments_url":"https://api.github.com/repos/contao/contao/deployments","created_at":"2018-08-15T07:18:30Z","updated_at":"2025-11-07T14:02:37Z","pushed_at":"2025-11-07T14:02:33Z","git_url":"git://github.com/contao/contao.git","ssh_url":"git@github.com:contao/contao.git","clone_url":"https://github.com/contao/contao.git","svn_url":"https://github.com/contao/contao","homepage":"https://contao.org","size":125747,"stargazers_count":389,"watchers_count":389,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":170,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":457,"license":{"key":"lgpl-3.0","name":"GNU Lesser General Public License v3.0","spdx_id":"LGPL-3.0","url":"https://api.github.com/licenses/lgpl-3.0","node_id":"MDc6TGljZW5zZTEy"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cms","contao","monorepo","php","symfony"],"visibility":"public","forks":170,"open_issues":457,"watchers":389,"default_branch":"5.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Affected version(s)\n\n4.13-RC3\n\n### Description\n\nWhen I try to restore a backup with the new `contao:backup:restore` command, I get the following error message:\r\n\r\n```\r\nCRITICAL  [console] Error thrown while running command \"contao:backup:restore 'backup__20220214130343.sql.gz'\". Message: \"There is no active transaction\" [\"exception\" => PDOException { …},\"command\" => \"contao:backup:restore 'backup__20220214130343.sql.gz'\",\"message\" => \"There is no active transaction\"]\r\n\r\nIn Connection.php line 118:\r\n\r\n  There is no active transaction\r\n\r\n\r\ncontao:backup:restore [-i|--ignore-tables [IGNORE-TABLES]] [--format FORMAT] [--force] [--] [<name>]\r\n```\r\n\r\n- Environment: MAMP Pro 6.6.1\r\n- PHP 8.0.8\r\n- mysql  Ver 14.14 Distrib 5.7.34, for osx10.12 (x86_64)","reactions":{"url":"https://api.github.com/repos/contao/contao/issues/4129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/contao/contao/issues/4129/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":10753956078,"node_id":"REFE_lADOADRbGc4stp4ozwAAAAKA_Fju","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/10753956078","actor":{"login":"rvm-peercode","id":132886951,"node_id":"U_kgDOB-uxpw","avatar_url":"https://avatars.githubusercontent.com/u/132886951?v=4","gravatar_id":"","url":"https://api.github.com/users/rvm-peercode","html_url":"https://github.com/rvm-peercode","followers_url":"https://api.github.com/users/rvm-peercode/followers","following_url":"https://api.github.com/users/rvm-peercode/following{/other_user}","gists_url":"https://api.github.com/users/rvm-peercode/gists{/gist_id}","starred_url":"https://api.github.com/users/rvm-peercode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvm-peercode/subscriptions","organizations_url":"https://api.github.com/users/rvm-peercode/orgs","repos_url":"https://api.github.com/users/rvm-peercode/repos","events_url":"https://api.github.com/users/rvm-peercode/events{/privacy}","received_events_url":"https://api.github.com/users/rvm-peercode/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"faf9e9e6d2b2174a51eb5534abe0254018f4d730","commit_url":"https://api.github.com/repos/GemsTracker/gemstracker-library/commits/faf9e9e6d2b2174a51eb5534abe0254018f4d730","created_at":"2023-10-24T13:30:17Z","performed_via_github_app":null},{"actor":{"login":"adrianbj","id":871211,"node_id":"MDQ6VXNlcjg3MTIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/871211?v=4","gravatar_id":"","url":"https://api.github.com/users/adrianbj","html_url":"https://github.com/adrianbj","followers_url":"https://api.github.com/users/adrianbj/followers","following_url":"https://api.github.com/users/adrianbj/following{/other_user}","gists_url":"https://api.github.com/users/adrianbj/gists{/gist_id}","starred_url":"https://api.github.com/users/adrianbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrianbj/subscriptions","organizations_url":"https://api.github.com/users/adrianbj/orgs","repos_url":"https://api.github.com/users/adrianbj/repos","events_url":"https://api.github.com/users/adrianbj/events{/privacy}","received_events_url":"https://api.github.com/users/adrianbj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-05T15:43:02Z","updated_at":"2024-03-05T15:43:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894","repository_url":"https://api.github.com/repos/processwire/processwire-issues","labels_url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894/labels{/name}","comments_url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894/comments","events_url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894/events","html_url":"https://github.com/processwire/processwire-issues/issues/1894","id":2169557714,"node_id":"I_kwDOBBu4nc6BUNLS","number":1894,"title":"PDOException: There is no active transaction in PHP8","user":{"login":"adrianbj","id":871211,"node_id":"MDQ6VXNlcjg3MTIxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/871211?v=4","gravatar_id":"","url":"https://api.github.com/users/adrianbj","html_url":"https://github.com/adrianbj","followers_url":"https://api.github.com/users/adrianbj/followers","following_url":"https://api.github.com/users/adrianbj/following{/other_user}","gists_url":"https://api.github.com/users/adrianbj/gists{/gist_id}","starred_url":"https://api.github.com/users/adrianbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrianbj/subscriptions","organizations_url":"https://api.github.com/users/adrianbj/orgs","repos_url":"https://api.github.com/users/adrianbj/repos","events_url":"https://api.github.com/users/adrianbj/events{/privacy}","received_events_url":"https://api.github.com/users/adrianbj/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":632795888,"node_id":"MDU6TGFiZWw2MzI3OTU4ODg=","url":"https://api.github.com/repos/processwire/processwire-issues/labels/status:%20fixed-please%20confirm","name":"status: fixed-please confirm","color":"c2e0c6","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-03-05T15:43:01Z","updated_at":"2024-03-28T19:17:29Z","closed_at":"2024-03-28T19:17:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":68925597,"node_id":"MDEwOlJlcG9zaXRvcnk2ODkyNTU5Nw==","name":"processwire-issues","full_name":"processwire/processwire-issues","private":false,"owner":{"login":"processwire","id":944567,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk0NDU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/944567?v=4","gravatar_id":"","url":"https://api.github.com/users/processwire","html_url":"https://github.com/processwire","followers_url":"https://api.github.com/users/processwire/followers","following_url":"https://api.github.com/users/processwire/following{/other_user}","gists_url":"https://api.github.com/users/processwire/gists{/gist_id}","starred_url":"https://api.github.com/users/processwire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/processwire/subscriptions","organizations_url":"https://api.github.com/users/processwire/orgs","repos_url":"https://api.github.com/users/processwire/repos","events_url":"https://api.github.com/users/processwire/events{/privacy}","received_events_url":"https://api.github.com/users/processwire/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/processwire/processwire-issues","description":"ProcessWire issue reports. ","fork":false,"url":"https://api.github.com/repos/processwire/processwire-issues","forks_url":"https://api.github.com/repos/processwire/processwire-issues/forks","keys_url":"https://api.github.com/repos/processwire/processwire-issues/keys{/key_id}","collaborators_url":"https://api.github.com/repos/processwire/processwire-issues/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/processwire/processwire-issues/teams","hooks_url":"https://api.github.com/repos/processwire/processwire-issues/hooks","issue_events_url":"https://api.github.com/repos/processwire/processwire-issues/issues/events{/number}","events_url":"https://api.github.com/repos/processwire/processwire-issues/events","assignees_url":"https://api.github.com/repos/processwire/processwire-issues/assignees{/user}","branches_url":"https://api.github.com/repos/processwire/processwire-issues/branches{/branch}","tags_url":"https://api.github.com/repos/processwire/processwire-issues/tags","blobs_url":"https://api.github.com/repos/processwire/processwire-issues/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/processwire/processwire-issues/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/processwire/processwire-issues/git/refs{/sha}","trees_url":"https://api.github.com/repos/processwire/processwire-issues/git/trees{/sha}","statuses_url":"https://api.github.com/repos/processwire/processwire-issues/statuses/{sha}","languages_url":"https://api.github.com/repos/processwire/processwire-issues/languages","stargazers_url":"https://api.github.com/repos/processwire/processwire-issues/stargazers","contributors_url":"https://api.github.com/repos/processwire/processwire-issues/contributors","subscribers_url":"https://api.github.com/repos/processwire/processwire-issues/subscribers","subscription_url":"https://api.github.com/repos/processwire/processwire-issues/subscription","commits_url":"https://api.github.com/repos/processwire/processwire-issues/commits{/sha}","git_commits_url":"https://api.github.com/repos/processwire/processwire-issues/git/commits{/sha}","comments_url":"https://api.github.com/repos/processwire/processwire-issues/comments{/number}","issue_comment_url":"https://api.github.com/repos/processwire/processwire-issues/issues/comments{/number}","contents_url":"https://api.github.com/repos/processwire/processwire-issues/contents/{+path}","compare_url":"https://api.github.com/repos/processwire/processwire-issues/compare/{base}...{head}","merges_url":"https://api.github.com/repos/processwire/processwire-issues/merges","archive_url":"https://api.github.com/repos/processwire/processwire-issues/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/processwire/processwire-issues/downloads","issues_url":"https://api.github.com/repos/processwire/processwire-issues/issues{/number}","pulls_url":"https://api.github.com/repos/processwire/processwire-issues/pulls{/number}","milestones_url":"https://api.github.com/repos/processwire/processwire-issues/milestones{/number}","notifications_url":"https://api.github.com/repos/processwire/processwire-issues/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/processwire/processwire-issues/labels{/name}","releases_url":"https://api.github.com/repos/processwire/processwire-issues/releases{/id}","deployments_url":"https://api.github.com/repos/processwire/processwire-issues/deployments","created_at":"2016-09-22T13:47:07Z","updated_at":"2025-10-27T11:08:57Z","pushed_at":"2019-02-08T20:29:01Z","git_url":"git://github.com/processwire/processwire-issues.git","ssh_url":"git@github.com:processwire/processwire-issues.git","clone_url":"https://github.com/processwire/processwire-issues.git","svn_url":"https://github.com/processwire/processwire-issues","homepage":null,"size":13,"stargazers_count":45,"watchers_count":45,"language":null,"has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":2,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":262,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":2,"open_issues":262,"watchers":45,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\nIf you want your bug report\r\n* to be more difficult to process and understand\r\n* to have many unnecessary follow-up questions\r\n* to take longer to fix then necessary\r\ndon’t use this issue template.\r\n\r\nIf you want your bug report \r\n* to be concise and easy to understand\r\n* to not have any (or very few) follow-up questions\r\n* to take faster to fix\r\nuse this issue template. Thank you.\r\n-->\r\n\r\n### Short description of the issue\r\n\r\nAs of PHP 8, PDO::commit() and rollBack() will throw a There is no active transaction PDOException if the transaction had been autocommitted, as MySQL will do whenever a schema change is made. Previously they would fail silently.\r\n\r\n### Expected behavior\r\n\r\nPW handle this with either a `$db->setAttribute(PDO::ATTR_AUTOCOMMIT, 0);` or a `inTransaction()` conditional for commit and rollback.\r\n\r\nYou can read more about it here: https://github.com/yiisoft/yii2/issues/18406 where they took the inTransaction check approach.\r\n\r\n### Actual behavior\r\n\r\nThrows above exception\r\n\r\n### Optional: Screenshots/Links that demonstrate the issue\r\n\r\n<img width=\"1359\" alt=\"image\" src=\"https://github.com/processwire/processwire-issues/assets/871211/cded60ee-686e-434c-8dff-7e518e96498f\">\r\n\r\n### Setup/Environment\r\n<!--\r\n* Include as many relevant details about your environment setup as possible.\r\n* Hint: Using the Tracy Debugger module makes this a breeze: https://processwire.com/blog/posts/introducing-tracy-debugger/#versions-list\r\n-->\r\n\r\n<strong>Server Details</strong>\r\n\r\n|Software|Version|\r\n|------:|:-------|\r\n|ProcessWire|3.0.236|\r\n|PHP|8.2.16|\r\n|Webserver|Apache/2.4.57 (Debian)|\r\n|MySQL Server|10.11.6-MariaDB-0+deb12u1|\r\n|MySQL Client|mysqlnd 8.2.16|\r\n<details><summary><strong>Server Settings</strong></summary>\r\n\r\n|Parameter|Value|\r\n|------:|:-------|\r\n|allow_url_fopen|1|\r\n|max_execution_time|0 (changeable)|\r\n|max_input_nesting_level|64|\r\n|max_input_time|60|\r\n|max_input_vars|10000|\r\n|memory_limit|1024M|\r\n|post_max_size|35M|\r\n|upload_max_filesize|25M|\r\n|xdebug||\r\n|xdebug.max_nesting_level||\r\n|mod_rewrite|1|\r\n|mod_security||\r\n|EXIF Support|1|\r\n|FreeType|1|\r\n</details><details><summary><strong>GD Settings</strong></summary>\r\n\r\n|Parameter|Value|\r\n|------:|:-------|\r\n|Version|2.3.3|\r\n|GIF|1|\r\n|JPG|1|\r\n|PNG|1|\r\n|WebP|1|\r\n|AVIF|1|\r\n</details><details><summary><strong>iMagick Settings</strong></summary>\r\n\r\n|Parameter|Value|\r\n|------:|:-------|\r\n|Version|6.9.11|\r\n|GIF|1|\r\n|JPG|1|\r\n|PNG|1|\r\n|SVG|1|\r\n|PDF|1|\r\n|WebP|1|\r\n|AVIF|1|\r\n</details><details><summary><strong>Module Details</strong></summary>\r\n\r\n|Module ClassName|Version|\r\n|------:|:-------|\r\n|AdminOnSteroids|2.0.21|\r\n|AdminPageFieldEditLinks|3.1.6|\r\n|BatchChildEditor|1.8.27|\r\n|BreadcrumbDropdowns|0.3.11|\r\n|ConnectPageFields|0.3.5|\r\n|Duplicator|1.5.2|\r\n|FieldtypeAssistedURL|2.0.0|\r\n|FieldtypeColor|1.1.8|\r\n|FieldtypeFontIconPicker|2.0.2|\r\n|FieldtypeMapMarker|3.0.0|\r\n|FieldtypeRepeaterMatrix|0.1.1|\r\n|FieldtypeRuntimeOnly|0.1.8|\r\n|FieldtypeSeoMaestro|1.1.1|\r\n|FieldtypeTable|0.2.5|\r\n|FieldtypeVerifiedURL|0.0.6|\r\n|FileValidatorSvgSanitizer|0.0.5|\r\n|GoogleClientAPI|0.0.4|\r\n|ImportPagesCSV|1.0.8|\r\n|InputfieldAssistedURL|2.0.0|\r\n|InputfieldColor|1.1.6|\r\n|InputfieldFontIconPicker|2.0.2|\r\n|InputfieldMapMarker|3.0.0|\r\n|InputfieldRepeaterMatrix|0.1.1|\r\n|InputfieldSeoMaestro|1.1.1|\r\n|InputfieldTable|0.2.5|\r\n|MarkupFontIconPicker|2.0.2|\r\n|MarkupSitemap|0.8.2|\r\n|ModuleReleaseNotes|0.11.3|\r\n|ModuleSettingsImportExport|0.2.9|\r\n|PageEditSoftLock|1.0.1|\r\n|PageProtector|2.0.9|\r\n|PageRenameOptions|2.0.2|\r\n|PasswordForceChange|1.0.5|\r\n|ProcessAdminActions|0.9.4|\r\n|ProcessChangelog|1.16.1|\r\n|ProcessChangelogHooks|1.11.2|\r\n|ProcessChildrenCsvExport|1.8.24|\r\n|ProcessCustomUploadNames|1.3.4|\r\n|ProcessDatabaseBackups|0.0.6|\r\n|ProcessDuplicator|1.5.2|\r\n|ProcessHannaCode|0.3.2|\r\n|ProcessJumplinks|1.5.64|\r\n|ProcessLoginHistory|1.10.4|\r\n|ProcessLoginHistoryHooks|1.8.5|\r\n|ProcessPDFImageCreator|1.0.7|\r\n|ProcessPageEditSoftLock|1.0.1|\r\n|ProcessPageFieldSelectCreator|0.5.11|\r\n|ProcessSettingsFactory|1.0.7|\r\n|ProcessTableCsvExport|2.0.16|\r\n|ProcessTracyAdminer|1.1.3|\r\n|ProcessWireUpgrade|0.1.1|\r\n|ProcessWireUpgradeCheck|0.0.9|\r\n|RestrictTabView|1.3.1|\r\n|SeoMaestro|1.1.1|\r\n|SettingsFactory|1.0.7|\r\n|TableCsvImportExport|2.0.16|\r\n|TextformatterHannaCode|0.3.2|\r\n|TextformatterMarkExternalLinks|2.0.0|\r\n|TracyDebugger|4.25.21|\r\n|WireMailSmtp|0.6.4|\r\n</details>","reactions":{"url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/processwire/processwire-issues/issues/1894/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]