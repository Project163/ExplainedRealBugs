[{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562080215","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562080215","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562080215,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA4MDIxNQ==","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T10:59:42Z","updated_at":"2019-12-05T10:59:42Z","body":"The data is not decoded when queried, are you sure the value in the database is incorrect?\r\n\r\n```php\r\n$userArray = [100, 101, 102];\r\n$model->arrayField = json_encode($userArray); // 'arrayField' is a json type column in the DB\r\n$model->save();\r\n\r\n$model = AR::findOne(...);\r\nvar_dump($model->arrayField);\r\n// string \"...\"\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562080215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562091945","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562091945","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562091945,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA5MTk0NQ==","user":{"login":"alex-code","id":1797626,"node_id":"MDQ6VXNlcjE3OTc2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1797626?v=4","gravatar_id":"","url":"https://api.github.com/users/alex-code","html_url":"https://github.com/alex-code","followers_url":"https://api.github.com/users/alex-code/followers","following_url":"https://api.github.com/users/alex-code/following{/other_user}","gists_url":"https://api.github.com/users/alex-code/gists{/gist_id}","starred_url":"https://api.github.com/users/alex-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex-code/subscriptions","organizations_url":"https://api.github.com/users/alex-code/orgs","repos_url":"https://api.github.com/users/alex-code/repos","events_url":"https://api.github.com/users/alex-code/events{/privacy}","received_events_url":"https://api.github.com/users/alex-code/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T11:34:41Z","updated_at":"2019-12-05T11:34:41Z","body":"I think the framework encodes the values for you so you don't need to do `json_encode`.\r\nBy doing that you're passing in a string.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562091945/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex-code","id":1797626,"node_id":"MDQ6VXNlcjE3OTc2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1797626?v=4","gravatar_id":"","url":"https://api.github.com/users/alex-code","html_url":"https://github.com/alex-code","followers_url":"https://api.github.com/users/alex-code/followers","following_url":"https://api.github.com/users/alex-code/following{/other_user}","gists_url":"https://api.github.com/users/alex-code/gists{/gist_id}","starred_url":"https://api.github.com/users/alex-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex-code/subscriptions","organizations_url":"https://api.github.com/users/alex-code/orgs","repos_url":"https://api.github.com/users/alex-code/repos","events_url":"https://api.github.com/users/alex-code/events{/privacy}","received_events_url":"https://api.github.com/users/alex-code/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562092389","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562092389","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562092389,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA5MjM4OQ==","user":{"login":"chrisc0","id":1681461,"node_id":"MDQ6VXNlcjE2ODE0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1681461?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisc0","html_url":"https://github.com/chrisc0","followers_url":"https://api.github.com/users/chrisc0/followers","following_url":"https://api.github.com/users/chrisc0/following{/other_user}","gists_url":"https://api.github.com/users/chrisc0/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisc0/subscriptions","organizations_url":"https://api.github.com/users/chrisc0/orgs","repos_url":"https://api.github.com/users/chrisc0/repos","events_url":"https://api.github.com/users/chrisc0/events{/privacy}","received_events_url":"https://api.github.com/users/chrisc0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T11:36:16Z","updated_at":"2019-12-05T11:36:16Z","body":"Using ActiveRecord exclusively is not the real issue.  The problem comes when I then use DAO to access the data.  Something like this:\r\n$sql = \"SELECT arrayField FROM some_table WHERE acct_id = 23\";\r\n$data = Yii::$app->db->createCommand($sql)->queryOne();\r\nvar_dump($data['arrrayField']);   // string '\"[100, 101, 102]\"'\r\n\r\nNow it shows single quotes and double-quotes.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562092389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chrisc0","id":1681461,"node_id":"MDQ6VXNlcjE2ODE0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1681461?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisc0","html_url":"https://github.com/chrisc0","followers_url":"https://api.github.com/users/chrisc0/followers","following_url":"https://api.github.com/users/chrisc0/following{/other_user}","gists_url":"https://api.github.com/users/chrisc0/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisc0/subscriptions","organizations_url":"https://api.github.com/users/chrisc0/orgs","repos_url":"https://api.github.com/users/chrisc0/repos","events_url":"https://api.github.com/users/chrisc0/events{/privacy}","received_events_url":"https://api.github.com/users/chrisc0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562093906","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562093906","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562093906,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA5MzkwNg==","user":{"login":"chrisc0","id":1681461,"node_id":"MDQ6VXNlcjE2ODE0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1681461?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisc0","html_url":"https://github.com/chrisc0","followers_url":"https://api.github.com/users/chrisc0/followers","following_url":"https://api.github.com/users/chrisc0/following{/other_user}","gists_url":"https://api.github.com/users/chrisc0/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisc0/subscriptions","organizations_url":"https://api.github.com/users/chrisc0/orgs","repos_url":"https://api.github.com/users/chrisc0/repos","events_url":"https://api.github.com/users/chrisc0/events{/privacy}","received_events_url":"https://api.github.com/users/chrisc0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T11:41:17Z","updated_at":"2019-12-05T11:41:17Z","body":"@alex-code I think you're right but when I do it without json_encode the model shows errors \"arrayField must be a string\".   I think the issue is with the validation.  I have arrayField validating with a \"string\" rule.  Is there a rule for json fields?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562093906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chrisc0","id":1681461,"node_id":"MDQ6VXNlcjE2ODE0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1681461?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisc0","html_url":"https://github.com/chrisc0","followers_url":"https://api.github.com/users/chrisc0/followers","following_url":"https://api.github.com/users/chrisc0/following{/other_user}","gists_url":"https://api.github.com/users/chrisc0/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisc0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisc0/subscriptions","organizations_url":"https://api.github.com/users/chrisc0/orgs","repos_url":"https://api.github.com/users/chrisc0/repos","events_url":"https://api.github.com/users/chrisc0/events{/privacy}","received_events_url":"https://api.github.com/users/chrisc0/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2857510796,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg1NzUxMDc5Ng==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2857510796","actor":{"login":"alex-code","id":1797626,"node_id":"MDQ6VXNlcjE3OTc2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1797626?v=4","gravatar_id":"","url":"https://api.github.com/users/alex-code","html_url":"https://github.com/alex-code","followers_url":"https://api.github.com/users/alex-code/followers","following_url":"https://api.github.com/users/alex-code/following{/other_user}","gists_url":"https://api.github.com/users/alex-code/gists{/gist_id}","starred_url":"https://api.github.com/users/alex-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex-code/subscriptions","organizations_url":"https://api.github.com/users/alex-code/orgs","repos_url":"https://api.github.com/users/alex-code/repos","events_url":"https://api.github.com/users/alex-code/events{/privacy}","received_events_url":"https://api.github.com/users/alex-code/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-05T11:41:17Z","performed_via_github_app":null},{"id":2857510799,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4NTc1MTA3OTk=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2857510799","actor":{"login":"alex-code","id":1797626,"node_id":"MDQ6VXNlcjE3OTc2MjY=","avatar_url":"https://avatars.githubusercontent.com/u/1797626?v=4","gravatar_id":"","url":"https://api.github.com/users/alex-code","html_url":"https://github.com/alex-code","followers_url":"https://api.github.com/users/alex-code/followers","following_url":"https://api.github.com/users/alex-code/following{/other_user}","gists_url":"https://api.github.com/users/alex-code/gists{/gist_id}","starred_url":"https://api.github.com/users/alex-code/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex-code/subscriptions","organizations_url":"https://api.github.com/users/alex-code/orgs","repos_url":"https://api.github.com/users/alex-code/repos","events_url":"https://api.github.com/users/alex-code/events{/privacy}","received_events_url":"https://api.github.com/users/alex-code/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-05T11:41:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562099886","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562099886","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562099886,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA5OTg4Ng==","user":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T12:00:40Z","updated_at":"2019-12-05T12:00:40Z","body":"```php\r\n$sql = \"SELECT arrayField FROM some_table WHERE acct_id = 23\";\r\n$data = Yii::$app->db->createCommand($sql)->queryOne();\r\nvar_dump($data['arrrayField']); // string '\"[100, 101, 102]\"'\r\n```\r\n\r\nOutside ActiveRecord, it is not possible to detect what the desired output is.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562099886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562102000","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-562102000","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":562102000,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjEwMjAwMA==","user":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T12:07:14Z","updated_at":"2019-12-05T12:07:14Z","body":"@kamarton is right. We can't fix it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/562102000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2857582280,"node_id":"MDExOkNsb3NlZEV2ZW50Mjg1NzU4MjI4MA==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2857582280","actor":{"login":"samdark","id":47294,"node_id":"MDQ6VXNlcjQ3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/47294?v=4","gravatar_id":"","url":"https://api.github.com/users/samdark","html_url":"https://github.com/samdark","followers_url":"https://api.github.com/users/samdark/followers","following_url":"https://api.github.com/users/samdark/following{/other_user}","gists_url":"https://api.github.com/users/samdark/gists{/gist_id}","starred_url":"https://api.github.com/users/samdark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samdark/subscriptions","organizations_url":"https://api.github.com/users/samdark/orgs","repos_url":"https://api.github.com/users/samdark/repos","events_url":"https://api.github.com/users/samdark/events{/privacy}","received_events_url":"https://api.github.com/users/samdark/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-12-05T12:07:14Z","state_reason":null,"performed_via_github_app":null},{"id":2857582302,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50Mjg1NzU4MjMwMg==","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2857582302","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2019-12-05T12:07:15Z","performed_via_github_app":null},{"id":2857582307,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI4NTc1ODIzMDc=","url":"https://api.github.com/repos/yiisoft/yii2/issues/events/2857582307","actor":{"login":"kamarton","id":9432032,"node_id":"MDQ6VXNlcjk0MzIwMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9432032?v=4","gravatar_id":"","url":"https://api.github.com/users/kamarton","html_url":"https://github.com/kamarton","followers_url":"https://api.github.com/users/kamarton/followers","following_url":"https://api.github.com/users/kamarton/following{/other_user}","gists_url":"https://api.github.com/users/kamarton/gists{/gist_id}","starred_url":"https://api.github.com/users/kamarton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kamarton/subscriptions","organizations_url":"https://api.github.com/users/kamarton/orgs","repos_url":"https://api.github.com/users/kamarton/repos","events_url":"https://api.github.com/users/kamarton/events{/privacy}","received_events_url":"https://api.github.com/users/kamarton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2019-12-05T12:07:15Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/728893920","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-728893920","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":728893920,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODg5MzkyMA==","user":{"login":"Commifreak","id":87267,"node_id":"MDQ6VXNlcjg3MjY3","avatar_url":"https://avatars.githubusercontent.com/u/87267?v=4","gravatar_id":"","url":"https://api.github.com/users/Commifreak","html_url":"https://github.com/Commifreak","followers_url":"https://api.github.com/users/Commifreak/followers","following_url":"https://api.github.com/users/Commifreak/following{/other_user}","gists_url":"https://api.github.com/users/Commifreak/gists{/gist_id}","starred_url":"https://api.github.com/users/Commifreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Commifreak/subscriptions","organizations_url":"https://api.github.com/users/Commifreak/orgs","repos_url":"https://api.github.com/users/Commifreak/repos","events_url":"https://api.github.com/users/Commifreak/events{/privacy}","received_events_url":"https://api.github.com/users/Commifreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T12:26:38Z","updated_at":"2020-11-17T12:26:38Z","body":"I believe I ran into the same issue. Its about storing data inside MySQL json column which has json type. The issue happens on my side as well with Yii 2.0.38.\r\n\r\nI assign via `$model->json = $dataArray` which results in: \r\n```sql\r\nINSERT INTO `log` (`user_id`, `model`, `data`, `created_at`) VALUES (1, 'common\\\\models\\\\MasterUser', CAST('\\\"{\\\\\\\"id\\\\\\\":1,\\\\\\\"type\\\\\\\":\\\\\\\"update\\\\\\\",\\\\\\\"changed\\\\\\\":{\\\\\\\"noMails\\\\\\\":[\\\\\\\"0\\\\\\\"],\\\\\\\"updated_at\\\\\\\":{\\\\\\\"1605615533\\\\\\\":1605615782}}}\\\"' AS JSON), 1605615782)\r\n```\r\n\r\nForum post: https://forum.yiiframework.com/t/yii2-mysql-json-type-saved-double-encoded-in-db/130953\r\n\r\nMaybe Im simply doing something wrong but I dont see it - yet. :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/728893920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Commifreak","id":87267,"node_id":"MDQ6VXNlcjg3MjY3","avatar_url":"https://avatars.githubusercontent.com/u/87267?v=4","gravatar_id":"","url":"https://api.github.com/users/Commifreak","html_url":"https://github.com/Commifreak","followers_url":"https://api.github.com/users/Commifreak/followers","following_url":"https://api.github.com/users/Commifreak/following{/other_user}","gists_url":"https://api.github.com/users/Commifreak/gists{/gist_id}","starred_url":"https://api.github.com/users/Commifreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Commifreak/subscriptions","organizations_url":"https://api.github.com/users/Commifreak/orgs","repos_url":"https://api.github.com/users/Commifreak/repos","events_url":"https://api.github.com/users/Commifreak/events{/privacy}","received_events_url":"https://api.github.com/users/Commifreak/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/730195508","html_url":"https://github.com/yiisoft/yii2/issues/17712#issuecomment-730195508","issue_url":"https://api.github.com/repos/yiisoft/yii2/issues/17712","id":730195508,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDE5NTUwOA==","user":{"login":"Commifreak","id":87267,"node_id":"MDQ6VXNlcjg3MjY3","avatar_url":"https://avatars.githubusercontent.com/u/87267?v=4","gravatar_id":"","url":"https://api.github.com/users/Commifreak","html_url":"https://github.com/Commifreak","followers_url":"https://api.github.com/users/Commifreak/followers","following_url":"https://api.github.com/users/Commifreak/following{/other_user}","gists_url":"https://api.github.com/users/Commifreak/gists{/gist_id}","starred_url":"https://api.github.com/users/Commifreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Commifreak/subscriptions","organizations_url":"https://api.github.com/users/Commifreak/orgs","repos_url":"https://api.github.com/users/Commifreak/repos","events_url":"https://api.github.com/users/Commifreak/events{/privacy}","received_events_url":"https://api.github.com/users/Commifreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T07:53:22Z","updated_at":"2020-11-19T07:53:22Z","body":"Solved!\r\n\r\nThat was weird: I created another field for another model with json type as well and here it was working out-of-the-box. After digging deeper, I found an overwritten afterSave function iunside the problematic model which encoded the array still as jsonâ€¦\r\n\r\nSo, no problem here anymore, everything is working as expected!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/yiisoft/yii2/issues/comments/730195508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Commifreak","id":87267,"node_id":"MDQ6VXNlcjg3MjY3","avatar_url":"https://avatars.githubusercontent.com/u/87267?v=4","gravatar_id":"","url":"https://api.github.com/users/Commifreak","html_url":"https://github.com/Commifreak","followers_url":"https://api.github.com/users/Commifreak/followers","following_url":"https://api.github.com/users/Commifreak/following{/other_user}","gists_url":"https://api.github.com/users/Commifreak/gists{/gist_id}","starred_url":"https://api.github.com/users/Commifreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Commifreak/subscriptions","organizations_url":"https://api.github.com/users/Commifreak/orgs","repos_url":"https://api.github.com/users/Commifreak/repos","events_url":"https://api.github.com/users/Commifreak/events{/privacy}","received_events_url":"https://api.github.com/users/Commifreak/received_events","type":"User","user_view_type":"public","site_admin":false}}]