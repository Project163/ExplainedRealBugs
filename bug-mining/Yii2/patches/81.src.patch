diff --git a/framework/i18n/MessageFormatter.php b/framework/i18n/MessageFormatter.php
index 3af087d3c..5476a8277 100644
--- a/framework/i18n/MessageFormatter.php
+++ b/framework/i18n/MessageFormatter.php
@@ -113,6 +113,11 @@ class MessageFormatter extends Component
             $this->_errorCode = $e->getCode();
             $this->_errorMessage = 'Message pattern is invalid: ' . $e->getMessage();
             return false;
+        } catch (\Exception $e) {
+            // Exception is thrown by HHVM
+            $this->_errorCode = $e->getCode();
+            $this->_errorMessage = 'Message pattern is invalid: ' . $e->getMessage();
+            return false;
         }
 
         $result = $formatter->format($params);
diff --git a/tests/framework/i18n/MessageFormatterTest.php b/tests/framework/i18n/MessageFormatterTest.php
index 735746e2d..543756788 100644
--- a/tests/framework/i18n/MessageFormatterTest.php
+++ b/tests/framework/i18n/MessageFormatterTest.php
@@ -385,9 +385,13 @@ _MSG_
     public function testMalformedFormatter()
     {
         $formatter = new MessageFormatter();
-        $result = $formatter->format(null, ['word' => 'test'], 'en-US');
+        $result = $formatter->format('{word,umber}', ['word' => 'test'], 'en-US'); // typo is intentional, message pattern should be invalid
         $this->assertFalse($result);
         $this->assertNotEmpty($formatter->getErrorMessage());
-        $this->assertGreaterThan(0, $formatter->getErrorCode());
+        if (PHP_MAJOR_VERSION < 7) {
+            $this->assertContains('message formatter creation failed', $formatter->getErrorMessage());
+        } else {
+            $this->assertContains('Constructor failed', $formatter->getErrorMessage());
+        }
     }
 }
