diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index d7796e042..95028eeab 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -4,6 +4,7 @@ Yii Framework 2 Change Log
 2.0.17 under development
 ------------------------
 
+- Bug #17185: Fixed `AssetManager` timestamp appending when a file is published manually (GHopperMSK)
 - Bug #17156: Fixes PHP 7.2 warning when a data provider has no data as a parameter for a GridView (evilito)
 - Bug #17083: Fixed `yii\validators\EmailValidator::$checkDNS` tells that every domain is correct on alpine linux (mikk150)
 - Bug #17180: Do not populate `yii\web\Response::$response` when response code is 204 (mikk150)
diff --git a/framework/web/AssetManager.php b/framework/web/AssetManager.php
index 7c7908193..2aa8c25c2 100644
--- a/framework/web/AssetManager.php
+++ b/framework/web/AssetManager.php
@@ -500,6 +500,10 @@ class AssetManager extends Component
             }
         }
 
+        if ($this->appendTimestamp && ($timestamp = @filemtime($dstFile)) > 0) {
+            $fileName = $fileName . "?v=$timestamp";
+        }
+
         return [$dstFile, $this->baseUrl . "/$dir/$fileName"];
     }
 
diff --git a/tests/framework/web/AssetBundleTest.php b/tests/framework/web/AssetBundleTest.php
index f589e2c15..935761b0f 100644
--- a/tests/framework/web/AssetBundleTest.php
+++ b/tests/framework/web/AssetBundleTest.php
@@ -535,6 +535,25 @@ EOF;
 
         Yii::setAlias('@web', $originalAlias);
     }
+
+    public function testCustomFilePublishWithTimestamp()
+    {
+        $path = Yii::getAlias('@webroot');
+
+        $view = $this->getView();
+        $am = $view->assetManager;
+        // publising without timestamp
+        $result = $am->publish($path . '/data.txt');
+        $this->assertRegExp('/.*data.txt$/i', $result[1]);
+        unset($view, $am, $result);
+
+        $view = $this->getView();
+        $am = $view->assetManager;
+        // turn on timestamp appending
+        $am->appendTimestamp = true;
+        $result = $am->publish($path . '/data.txt');
+        $this->assertRegExp('/.*data.txt\?v=\d+$/i', $result[1]);
+    }
 }
 
 class TestSimpleAsset extends AssetBundle
