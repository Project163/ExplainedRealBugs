diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index fa67dea0f..928bf920a 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -84,7 +84,7 @@ Yii Framework 2 Change Log
 - Enh #16839: Add support for `$timeout` in  `yii\mutex\PgsqlMutex::acquire()` (rob006)
 - Bug #16828: `yii\console\controllers\MessageController::translator` recognized object' methods and functions calls as identical sets of tokens (erickskrauch)
 - Bug #16858: Allow `\yii\console\widgets\Table` to render empty table when headers provided but no columns (damiandziaduch)
-
+- Bug #16897: Fixed `yii\db\sqlite\Schema` missing primary key constraint detection in case of `INTEGER PRIMARY KEY` (bizley)
 
 2.0.15.1 March 21, 2018
 -----------------------
diff --git a/framework/db/sqlite/Schema.php b/framework/db/sqlite/Schema.php
index 92749147e..c8898d817 100644
--- a/framework/db/sqlite/Schema.php
+++ b/framework/db/sqlite/Schema.php
@@ -378,6 +378,19 @@ class Schema extends \yii\db\Schema implements ConstraintFinderInterface
         }
     }
 
+    /**
+     * Returns table columns info.
+     * @param string $tableName table name
+     * @return array
+     */
+    private function loadTableColumnsInfo($tableName)
+    {
+        $tableColumns = $this->db->createCommand('PRAGMA TABLE_INFO (' . $this->quoteValue($tableName) . ')')->queryAll();
+        $tableColumns = $this->normalizePdoRowKeyCase($tableColumns, true);
+
+        return ArrayHelper::index($tableColumns, 'cid');
+    }
+
     /**
      * Loads multiple types of constraints and returns the specified ones.
      * @param string $tableName table name.
@@ -397,9 +410,7 @@ class Schema extends \yii\db\Schema implements ConstraintFinderInterface
              * SQLite may not have an "origin" column in INDEX_LIST
              * See https://www.sqlite.org/src/info/2743846cdba572f6
              */
-            $tableColumns = $this->db->createCommand('PRAGMA TABLE_INFO (' . $this->quoteValue($tableName) . ')')->queryAll();
-            $tableColumns = $this->normalizePdoRowKeyCase($tableColumns, true);
-            $tableColumns = ArrayHelper::index($tableColumns, 'cid');
+            $tableColumns = $this->loadTableColumnsInfo($tableName);
         }
         $result = [
             'primaryKey' => null,
@@ -436,6 +447,25 @@ class Schema extends \yii\db\Schema implements ConstraintFinderInterface
                 ]);
             }
         }
+
+        if ($result['primaryKey'] === null) {
+            /*
+             * Additional check for PK in case of INTEGER PRIMARY KEY with ROWID
+             * See https://www.sqlite.org/lang_createtable.html#primkeyconst
+             */
+            if ($tableColumns === null) {
+                $tableColumns = $this->loadTableColumnsInfo($tableName);
+            }
+            foreach ($tableColumns as $tableColumn) {
+                if ($tableColumn['pk'] > 0) {
+                    $result['primaryKey'] = new Constraint([
+                        'columnNames' => [$tableColumn['name']],
+                    ]);
+                    break;
+                }
+            }
+        }
+
         foreach ($result as $type => $data) {
             $this->setTableMetadata($tableName, $type, $data);
         }
diff --git a/tests/framework/db/sqlite/SchemaTest.php b/tests/framework/db/sqlite/SchemaTest.php
index 2903209b3..e4ecff0eb 100644
--- a/tests/framework/db/sqlite/SchemaTest.php
+++ b/tests/framework/db/sqlite/SchemaTest.php
@@ -7,6 +7,7 @@
 
 namespace yiiunit\framework\db\sqlite;
 
+use yii\db\Constraint;
 use yiiunit\framework\db\AnyValue;
 
 /**
@@ -73,6 +74,12 @@ class SchemaTest extends \yiiunit\framework\db\SchemaTest
 
         $result['4: primary key'][2]->name = null;
         $result['4: unique'][2][0]->name = AnyValue::getInstance();
+
+        $result['5: primary key'] = ['T_upsert', 'primaryKey', new Constraint([
+            'name' => AnyValue::getInstance(),
+            'columnNames' => ['id'],
+        ])];
+
         return $result;
     }
 }
