diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 419fc6dd2..e63fa4e09 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -16,6 +16,7 @@ Yii Framework 2 Change Log
 - Bug #18313: Fix multipart form data parse with double quotes (wsaid)
 - Bug #18317: Additional PHP 8 compatibility fixes (samdark, bizley)
 - Bug #16831: Fix console Table Widget does not render correctly in combination with ANSI formatting (issidorov, cebe)
+- Enh #18304: Added support of constructor parameters with default values to DI container (vjik)
 - Enh #18285: Enhanced DI container to allow passing parameters by name in constructor (vjik)
 - Enh #18351: Added option to change default timezone for parsing formats without time part in `yii\validators\DateValidator` (bizley)
 
diff --git a/framework/di/Container.php b/framework/di/Container.php
index 57036f1db..b29ab80ca 100644
--- a/framework/di/Container.php
+++ b/framework/di/Container.php
@@ -514,17 +514,23 @@ class Container extends Component
                     break;
                 }
 
-                if ($param->isDefaultValueAvailable()) {
-                    $dependencies[$param->getName()] = $param->getDefaultValue();
+                if (PHP_VERSION_ID >= 80000) {
+                    $c = $param->getType();
+                    $isClass = $c !== null && !$param->getType()->isBuiltin();
                 } else {
-                    if (PHP_VERSION_ID >= 80000) {
-                        $c = $param->getType();
-                        $isClass = $c !== null && !$param->getType()->isBuiltin();
-                    } else {
-                        $c = $param->getClass();
-                        $isClass = $c !== null;
-                    }
-                    $dependencies[$param->getName()] = Instance::of($isClass ? $c->getName() : null);
+                    $c = $param->getClass();
+                    $isClass = $c !== null;
+                }
+                $className = $isClass ? $c->getName() : null;
+
+                if ($className !== null &&
+                    ($this->has($className) || class_exists($className))
+                ) {
+                    $dependencies[$param->getName()] = Instance::of($className);
+                } else {
+                    $dependencies[$param->getName()] = $param->isDefaultValueAvailable()
+                        ? $param->getDefaultValue()
+                        : null;
                 }
             }
         }
diff --git a/tests/framework/di/ContainerTest.php b/tests/framework/di/ContainerTest.php
index 5a3565299..1d2d52741 100644
--- a/tests/framework/di/ContainerTest.php
+++ b/tests/framework/di/ContainerTest.php
@@ -14,8 +14,10 @@ use yii\validators\NumberValidator;
 use yiiunit\data\ar\Cat;
 use yiiunit\data\ar\Order;
 use yiiunit\data\ar\Type;
+use yiiunit\framework\di\stubs\Alpha;
 use yiiunit\framework\di\stubs\Bar;
 use yiiunit\framework\di\stubs\BarSetter;
+use yiiunit\framework\di\stubs\Beta;
 use yiiunit\framework\di\stubs\Car;
 use yiiunit\framework\di\stubs\Corge;
 use yiiunit\framework\di\stubs\Foo;
@@ -529,6 +531,23 @@ class ContainerTest extends TestCase
         Yii::$container->get('test');
     }
 
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/18304
+     */
+    public function testNulledConstructorParameters()
+    {
+        $alpha = (new Container())->get(Alpha::className());
+        $this->assertInstanceOf(Beta::className(), $alpha->beta);
+        $this->assertNull($alpha->omega);
+
+        $QuxInterface = __NAMESPACE__ . '\stubs\QuxInterface';
+        $container = new Container();
+        $container->set($QuxInterface, Qux::className());
+        $alpha = $container->get(Alpha::className());
+        $this->assertInstanceOf(Beta::className(), $alpha->beta);
+        $this->assertInstanceOf($QuxInterface, $alpha->omega);
+    }
+
     /**
      * @see https://github.com/yiisoft/yii2/issues/18284
      */
diff --git a/tests/framework/di/stubs/Alpha.php b/tests/framework/di/stubs/Alpha.php
new file mode 100644
index 000000000..d91a3e073
--- /dev/null
+++ b/tests/framework/di/stubs/Alpha.php
@@ -0,0 +1,17 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class Alpha extends BaseObject
+{
+    public $beta;
+    public $omega;
+
+    public function __construct(Beta $beta = null, QuxInterface $omega = null)
+    {
+        $this->beta = $beta;
+        $this->omega = $omega;
+    }
+}
diff --git a/tests/framework/di/stubs/Beta.php b/tests/framework/di/stubs/Beta.php
new file mode 100644
index 000000000..cf2daa616
--- /dev/null
+++ b/tests/framework/di/stubs/Beta.php
@@ -0,0 +1,9 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class Beta extends BaseObject
+{
+}
