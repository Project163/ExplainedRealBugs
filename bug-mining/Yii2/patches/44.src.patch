diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index ffeba358b..8b56045f8 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -55,6 +55,7 @@ Yii Framework 2 Change Log
 - Enh #10487: `yii\helpers\BaseArrayHelper::index()` got a third parameter `$groupBy` to group the input array by the key in one or more dimensions (quantum13, silverfire, samdark)
 - Enh #10610: Added `BaseUrl::$urlManager` to be able to set URL manager used for creating URLs (samdark)
 - Enh #10631: Splitted gettng label and rendering cell in `yii\grid\DataColumn::renderHeaderCellContent()` to make code simpler (t-kanstantsin, samdark)
+- Enh #10710: `yii\helpers\FileHelper::copyDirectory()` is now throwing exception when trying to copy a directory to itself or a subdirectory (wallysalami, cebe, samdark)
 - Enh #10764: `yii\helpers\Html::tag()` and `::beginTag()` return content without any HTML when the `$tag` attribute is `false` or `null` (pana1990)
 - Enh #10840: Added `yii\console\Controller::optionAliases()` method to support aliases for commands (pana1990)
 - Enh #10889: Allows unsigned primary key column definitions (df2)
diff --git a/framework/helpers/BaseFileHelper.php b/framework/helpers/BaseFileHelper.php
index f47e3d1d1..f196871a2 100644
--- a/framework/helpers/BaseFileHelper.php
+++ b/framework/helpers/BaseFileHelper.php
@@ -253,6 +253,9 @@ class BaseFileHelper
      */
     public static function copyDirectory($src, $dst, $options = [])
     {
+        if ($src === $dst || strpos($dst, $src) === 0) {
+            throw new InvalidParamException('Trying to copy a directory to itself or a subdirectory.');
+        }
         if (!is_dir($dst)) {
             static::createDirectory($dst, isset($options['dirMode']) ? $options['dirMode'] : 0775, true);
         }
diff --git a/tests/framework/helpers/FileHelperTest.php b/tests/framework/helpers/FileHelperTest.php
index c05271502..f08ef27cb 100644
--- a/tests/framework/helpers/FileHelperTest.php
+++ b/tests/framework/helpers/FileHelperTest.php
@@ -253,6 +253,57 @@ class FileHelperTest extends TestCase
         $this->assertFileMode($fileMode, $dstDirName . DIRECTORY_SEPARATOR . $fileName, 'Copied file has wrong mode!');
     }
 
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/10710
+     */
+    public function testCopyDirectoryToItself()
+    {
+        $dirName = 'test_dir';
+
+        $this->createFileStructure([
+            $dirName => [],
+        ]);
+
+        $this->setExpectedException('yii\base\InvalidParamException');
+
+        $dirName = $this->testFilePath . DIRECTORY_SEPARATOR . 'test_dir';
+        FileHelper::copyDirectory($dirName, $dirName);
+    }
+
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/10710
+     */
+    public function testCopyDirToSubdirOfItself()
+    {
+        $this->createFileStructure([
+            'data' => [],
+            'backup' => ['data' => []]
+        ]);
+
+        $this->setExpectedException('yii\base\InvalidParamException');
+
+        FileHelper::copyDirectory(
+            $this->testFilePath . DIRECTORY_SEPARATOR . 'backup',
+            $this->testFilePath . DIRECTORY_SEPARATOR . 'backup' . DIRECTORY_SEPARATOR . 'data'
+        );
+    }
+
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/10710
+     */
+    public function testCopyDirToAnotherWithSameName()
+    {
+        $this->createFileStructure([
+            'data' => [],
+            'backup' => ['data' => []]
+        ]);
+
+        FileHelper::copyDirectory(
+            $this->testFilePath . DIRECTORY_SEPARATOR . 'data',
+            $this->testFilePath . DIRECTORY_SEPARATOR . 'backup' . DIRECTORY_SEPARATOR . 'data'
+        );
+    }
+
     public function testRemoveDirectory()
     {
         $dirName = 'test_dir_for_remove';
