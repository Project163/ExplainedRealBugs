diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index dae6247c5..3e86ceaaf 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -1,9 +1,10 @@
 Yii Framework 2 Change Log
 ==========================
 
-2.0.40 under development
-------------------------
+2.0.39.1 under development
+--------------------------
 
+- Bug #18373: Fix not taking default value when unable to resolve non-exing class via DI container (vjik)
 - Enh #18370: Add option to provide a string replacement for `null` value in `yii\data\DataFilter` (bizley)
 
 
diff --git a/framework/di/Container.php b/framework/di/Container.php
index db21ed7fd..d6b396b6e 100644
--- a/framework/di/Container.php
+++ b/framework/di/Container.php
@@ -8,6 +8,7 @@
 namespace yii\di;
 
 use ReflectionClass;
+use ReflectionException;
 use Yii;
 use yii\base\Component;
 use yii\base\InvalidConfigException;
@@ -518,7 +519,11 @@ class Container extends Component
                     $c = $param->getType();
                     $isClass = $c !== null && !$param->getType()->isBuiltin();
                 } else {
-                    $c = $param->getClass();
+                    try {
+                        $c = $param->getClass();
+                    } catch (ReflectionException $e) {
+                        $c = null;
+                    }
                     $isClass = $c !== null;
                 }
                 $className = $isClass ? $c->getName() : null;
diff --git a/tests/framework/di/ContainerTest.php b/tests/framework/di/ContainerTest.php
index 1d2d52741..f3f832e78 100644
--- a/tests/framework/di/ContainerTest.php
+++ b/tests/framework/di/ContainerTest.php
@@ -546,6 +546,7 @@ class ContainerTest extends TestCase
         $alpha = $container->get(Alpha::className());
         $this->assertInstanceOf(Beta::className(), $alpha->beta);
         $this->assertInstanceOf($QuxInterface, $alpha->omega);
+        $this->assertNull($alpha->unknown);
     }
 
     /**
diff --git a/tests/framework/di/stubs/Alpha.php b/tests/framework/di/stubs/Alpha.php
index d91a3e073..83023f5eb 100644
--- a/tests/framework/di/stubs/Alpha.php
+++ b/tests/framework/di/stubs/Alpha.php
@@ -8,10 +8,12 @@ class Alpha extends BaseObject
 {
     public $beta;
     public $omega;
+    public $unknown = true;
 
-    public function __construct(Beta $beta = null, QuxInterface $omega = null)
+    public function __construct(Beta $beta = null, QuxInterface $omega = null, Unknown $unknown = null)
     {
         $this->beta = $beta;
         $this->omega = $omega;
+        $this->unknown = $unknown;
     }
 }
