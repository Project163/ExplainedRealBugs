diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 051a2af27..faf80ff5a 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -21,6 +21,7 @@ Yii Framework 2 Change Log
 - Bug #13592: Fixes Oracleâ€™s `yii\db\oci\Schema::setTransactionIsolationLevel()` (sergeymakinen)
 - Bug #13594: Fixes insufficient quoting in `yii\db\QueryBuilder::prepareInsertSelectSubQuery()` (sergeymakinen)
 - Enh #13576: Added support of `srcset` to `yii\helpers\Html::img()` (Kolyunya)
+- Bug #13494: Fixed `yii\console\controllers\MessageConstroller::saveMessagesToDb()` to work on different DBMS correctly (silverfire)
 - Enh #8641: Enhanced `yii\console\Request::resolve()` to prevent passing parameters, that begin from digits (silverfire)
 - Enh #13467: `yii\data\ActiveDataProvider` no longer queries models if models count is zero (kLkA, Kolyunya)
 - Enh #13582: Added tests for all `yii\db\QueryBuilder::resetSequence` implementations, fixed SQLite implementation (boboldehampsink)
diff --git a/framework/console/controllers/MessageController.php b/framework/console/controllers/MessageController.php
index a58d34af1..5ace79525 100644
--- a/framework/console/controllers/MessageController.php
+++ b/framework/console/controllers/MessageController.php
@@ -443,23 +443,31 @@ EOD;
 
         if (empty($obsolete)) {
             $this->stdout("Nothing obsoleted...skipped.\n");
-        } else {
-            if ($removeUnused) {
-                $db->createCommand()
-                   ->delete($sourceMessageTable, ['in', 'id', $obsolete])
-                   ->execute();
-                $this->stdout("deleted.\n");
-            } elseif ($markUnused) {
-                $db->createCommand()
-                   ->update(
-                       $sourceMessageTable,
-                       ['message' => new \yii\db\Expression("CONCAT('@@',message,'@@')")],
-                       ['in', 'id', $obsolete]
-                   )->execute();
-                $this->stdout("updated.\n");
-            } else {
-                $this->stdout("kept untouched.\n");
+            return;
+        }
+
+        if ($removeUnused) {
+            $db->createCommand()
+               ->delete($sourceMessageTable, ['in', 'id', $obsolete])
+               ->execute();
+            $this->stdout("deleted.\n");
+        } elseif ($markUnused) {
+            $rows = (new Query)
+                ->select(['id', 'message'])
+                ->from($sourceMessageTable)
+                ->where(['in', 'id', $obsolete])
+                ->all($db);
+
+            foreach ($rows as $row) {
+                $db->createCommand()->update(
+                    $sourceMessageTable,
+                    ['message' => '@@' . $row['message'] . '@@'],
+                    ['id' => $row['id']]
+                )->execute();
             }
+            $this->stdout("updated.\n");
+        } else {
+            $this->stdout("kept untouched.\n");
         }
     }
 
diff --git a/tests/framework/console/controllers/DbMessageControllerTest.php b/tests/framework/console/controllers/DbMessageControllerTest.php
index 28b9c6d94..4904c6e35 100644
--- a/tests/framework/console/controllers/DbMessageControllerTest.php
+++ b/tests/framework/console/controllers/DbMessageControllerTest.php
@@ -176,4 +176,4 @@ class DbMessageControllerTest extends BaseMessageControllerTest
         $this->assertArrayHasKey($obsoleteMessage, $messages, "Obsolete message should not be removed. Command output:\n\n" . $out);
         $this->assertEquals($obsoleteTranslation, $messages[$obsoleteMessage], "Obsolete message was not marked properly. Command output:\n\n" . $out);
     }
-}
\ No newline at end of file
+}
