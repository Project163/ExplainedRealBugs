diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index d2d60eb34..1cb31c08d 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -4,6 +4,7 @@ Yii Framework 2 Change Log
 2.0.48 under development
 ------------------------
 
+- Enh #19766: Add support for PHP generators to JSON helper (vladis84)
 - Bug #19683: Updated `framework\mimeType.php` to the actual value. Fix typo in `build/controllers/MimeTypeController.php` (DeryabinSergey)
 - Bug #19705: Add binary and other data type to `$typeMap` list for MySQL (sohelahmed7)
 - Enh #19741: Added option to use a closure for `$variations` definition in `yii\filters\PageCache` (nadar)
diff --git a/framework/helpers/BaseJson.php b/framework/helpers/BaseJson.php
index eaaee0fbd..a2821ad9f 100644
--- a/framework/helpers/BaseJson.php
+++ b/framework/helpers/BaseJson.php
@@ -185,6 +185,12 @@ class BaseJson
 
             if ($data instanceof Arrayable) {
                 $data = $data->toArray();
+            } elseif ($data instanceof \Generator) {
+                $_data = [];
+                foreach ($data as $name => $value) {
+                    $_data[$name] = static::processData($value, $expressions, $expPrefix);
+                }
+                $data = $_data;
             } elseif ($data instanceof \SimpleXMLElement) {
                 $data = (array) $data;
 
diff --git a/tests/framework/helpers/JsonTest.php b/tests/framework/helpers/JsonTest.php
index b2bcf0b86..302f486a0 100644
--- a/tests/framework/helpers/JsonTest.php
+++ b/tests/framework/helpers/JsonTest.php
@@ -95,6 +95,15 @@ class JsonTest extends TestCase
         $data = new JsonModel();
         $data->data = (object) null;
         $this->assertSame('{}', Json::encode($data));
+
+        // Generator
+        $data = function () {
+            foreach (['a' => 1, 'b' => 2] as $name  => $value) {
+                yield $name => $value;
+            }
+        };
+
+        $this->assertSame('{"a":1,"b":2}', Json::encode($data()));
     }
 
     public function testHtmlEncode()
