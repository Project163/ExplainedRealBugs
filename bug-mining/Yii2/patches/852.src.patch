diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 4ba6ed709..ecffeb7d6 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -4,6 +4,7 @@ Yii Framework 2 Change Log
 2.0.47 under development
 ------------------------
 
+- Bug #12636: Fix CompareValidator successful state when compareAttribute has an error (manchenkoff)
 - Bug #15500: Fix saving empty records to MySQL (manchenkoff)
 - Bug #14388: Fixed fixture loading order in output message (manchenkoff)
 - Bug #16658: Fix file readability check on publishing assets by `yii\web\AssetManager` (manchenkoff)
diff --git a/framework/validators/CompareValidator.php b/framework/validators/CompareValidator.php
index c9dcb15da..4c786c4e5 100644
--- a/framework/validators/CompareValidator.php
+++ b/framework/validators/CompareValidator.php
@@ -151,6 +151,17 @@ class CompareValidator extends Validator
             $compareAttribute = $this->compareAttribute === null ? $attribute . '_repeat' : $this->compareAttribute;
             $compareValue = $model->$compareAttribute;
             $compareLabel = $compareValueOrAttribute = $model->getAttributeLabel($compareAttribute);
+
+            if (!$this->skipOnError && $model->hasErrors($compareAttribute)) {
+                $this->addError(
+                    $model,
+                    $attribute,
+                    Yii::t('yii', '{compareAttribute} is invalid.'),
+                    ['compareAttribute' => $compareLabel]
+                );
+
+                return;
+            }
         }
 
         if (!$this->compareValues($this->operator, $this->type, $value, $compareValue)) {
diff --git a/tests/framework/validators/CompareValidatorTest.php b/tests/framework/validators/CompareValidatorTest.php
index cbb91c7d5..2b600889d 100644
--- a/tests/framework/validators/CompareValidatorTest.php
+++ b/tests/framework/validators/CompareValidatorTest.php
@@ -156,6 +156,20 @@ class CompareValidatorTest extends TestCase
         $model = FakedValidationModel::createWithAttributes(['attr_o' => 5, 'attr_o_repeat' => 5]);
         $val->validateAttribute($model, 'attr_o');
         $this->assertTrue($model->hasErrors('attr_o'));
+        // compareAttribute has validation error
+        $val = new CompareValidator(['compareAttribute' => 'attr_x', 'skipOnError' => false]);
+        $model = FakedValidationModel::createWithAttributes(['attr_x' => 10, 'attr_y' => 10]);
+        $model->addError('attr_x', 'invalid value');
+        $val->validateAttribute($model, 'attr_y');
+        $this->assertTrue($model->hasErrors('attr_x'));
+        $this->assertTrue($model->hasErrors('attr_y'));
+        // compareAttribute has validation error but rule has skipOnError
+        $val = new CompareValidator(['compareAttribute' => 'attr_x', 'skipOnError' => true]);
+        $model = FakedValidationModel::createWithAttributes(['attr_x' => 10, 'attr_y' => 10]);
+        $model->addError('attr_x', 'invalid value');
+        $val->validateAttribute($model, 'attr_y');
+        $this->assertTrue($model->hasErrors('attr_x'));
+        $this->assertFalse($model->hasErrors('attr_y'));
     }
 
     public function testAttributeErrorMessages()
@@ -168,6 +182,7 @@ class CompareValidatorTest extends TestCase
 
         foreach ($this->getTestDataForMessages() as $data) {
             $model->clearErrors($data[0]);
+            $model->clearErrors($data[2]);
             $validator = new CompareValidator();
             $validator->operator = $data[1];
             $validator->message = null;
