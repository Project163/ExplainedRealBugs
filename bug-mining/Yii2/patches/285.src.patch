diff --git a/framework/db/Command.php b/framework/db/Command.php
index a423f9ba3..e8fb11d70 100644
--- a/framework/db/Command.php
+++ b/framework/db/Command.php
@@ -829,9 +829,12 @@ class Command extends Component
     {
         $sql = $this->getSql();
 
-        $rawSql = $this->getRawSql();
-
-        Yii::info($rawSql, __METHOD__);
+        $log = $this->db->enableQueryLog;
+        if ($log) {
+            $rawSql = $this->getRawSql();
+            Yii::info($rawSql, __METHOD__);
+            $token = $rawSql;
+        }
 
         if ($sql == '') {
             return 0;
@@ -839,20 +842,19 @@ class Command extends Component
 
         $this->prepare(false);
 
-        $token = $rawSql;
         try {
-            Yii::beginProfile($token, __METHOD__);
+            $log && Yii::beginProfile($token, __METHOD__);
 
             $this->pdoStatement->execute();
             $n = $this->pdoStatement->rowCount();
 
-            Yii::endProfile($token, __METHOD__);
+            $log && Yii::endProfile($token, __METHOD__);
 
             $this->refreshTableSchema();
 
             return $n;
         } catch (\Exception $e) {
-            Yii::endProfile($token, __METHOD__);
+            $log && Yii::endProfile($token, __METHOD__);
             throw $this->db->getSchema()->convertException($e, $rawSql);
         }
     }
@@ -868,9 +870,12 @@ class Command extends Component
      */
     protected function queryInternal($method, $fetchMode = null)
     {
-        $rawSql = $this->getRawSql();
-
-        Yii::info($rawSql, 'yii\db\Command::query');
+        $log = $this->db->enableQueryLog;
+        if ($log) {
+            $rawSql = $this->getRawSql();
+            Yii::info($rawSql, 'yii\db\Command::query');
+            $token = $rawSql;
+        }
 
         if ($method !== '') {
             $info = $this->db->getQueryCacheInfo($this->queryCacheDuration, $this->queryCacheDependency);
@@ -883,7 +888,7 @@ class Command extends Component
                     $fetchMode,
                     $this->db->dsn,
                     $this->db->username,
-                    $rawSql,
+                    isset($rawSql) ? $rawSql : $this->getRawSql(),
                 ];
                 $result = $cache->get($cacheKey);
                 if (is_array($result) && isset($result[0])) {
@@ -895,9 +900,8 @@ class Command extends Component
 
         $this->prepare(true);
 
-        $token = $rawSql;
         try {
-            Yii::beginProfile($token, 'yii\db\Command::query');
+            $log && Yii::beginProfile($token, 'yii\db\Command::query');
 
             $this->pdoStatement->execute();
 
@@ -911,10 +915,10 @@ class Command extends Component
                 $this->pdoStatement->closeCursor();
             }
 
-            Yii::endProfile($token, 'yii\db\Command::query');
+            $log && Yii::endProfile($token, 'yii\db\Command::query');
         } catch (\Exception $e) {
-            Yii::endProfile($token, 'yii\db\Command::query');
-            throw $this->db->getSchema()->convertException($e, $rawSql);
+            $log && Yii::endProfile($token, 'yii\db\Command::query');
+            throw $this->db->getSchema()->convertException($e, isset($rawSql) ? $rawSql : $this->getRawSql());
         }
 
         if (isset($cache, $cacheKey, $info)) {
diff --git a/framework/db/Connection.php b/framework/db/Connection.php
index c39e82f28..e12b02d98 100644
--- a/framework/db/Connection.php
+++ b/framework/db/Connection.php
@@ -373,6 +373,13 @@ class Connection extends Component
      * @see masters
      */
     public $shuffleMasters = true;
+    /**
+     * @var bool whether to enable logging and profiling of database queries. Defaults to true.
+     * You may want to disable this option in a production environment to gain performance
+     * if you do not need the information being logged.
+     * @since 2.0.12
+     */
+    public $enableQueryLog = true;
 
     /**
      * @var Transaction the currently active transaction
diff --git a/tests/framework/db/ConnectionTest.php b/tests/framework/db/ConnectionTest.php
index 9e95be5ad..46b0c3dfe 100644
--- a/tests/framework/db/ConnectionTest.php
+++ b/tests/framework/db/ConnectionTest.php
@@ -217,4 +217,40 @@ abstract class ConnectionTest extends DatabaseTestCase
             $this->assertNotNull($db->transaction);
         });
     }
+
+    public function testEnableQueryLog()
+    {
+        $connection = $this->getConnection();
+        if ($connection->getTableSchema('qlog1', true) !== null) {
+            $connection->createCommand()->dropTable('qlog1')->execute();
+        }
+        if ($connection->getTableSchema('qlog2', true) !== null) {
+            $connection->createCommand()->dropTable('qlog2')->execute();
+        }
+
+        // enabled
+        $connection->enableQueryLog = true;
+
+        \Yii::getLogger()->messages = [];
+        $connection->createCommand()->createTable('qlog1', ['id' => 'pk'])->execute();
+        $this->assertCount(3, \Yii::getLogger()->messages);
+        $this->assertNotNull($connection->getTableSchema('qlog1', true));
+
+        \Yii::getLogger()->messages = [];
+        $connection->createCommand('SELECT * FROM qlog1')->queryAll();
+        $this->assertCount(3, \Yii::getLogger()->messages);
+
+        // disabled
+        $connection->enableQueryLog = false;
+
+        \Yii::getLogger()->messages = [];
+        $connection->createCommand()->createTable('qlog2', ['id' => 'pk'])->execute();
+        $this->assertNotNull($connection->getTableSchema('qlog2', true));
+        $this->assertCount(0, \Yii::getLogger()->messages);
+        $connection->createCommand('SELECT * FROM qlog2')->queryAll();
+        $this->assertCount(0, \Yii::getLogger()->messages);
+
+
+
+    }
 }
