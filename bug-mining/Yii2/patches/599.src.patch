diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index eb8271c52..85722bf6c 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -5,6 +5,7 @@ Yii Framework 2 Change Log
 ------------------------
 
 - Bug #10020: Fixed quoting of column names with dots in MSSQL (alexkart)
+- Bug #17424: Subdomain support for `User::loginRequired` (alex-code)
 
 
 2.0.23 July 16, 2019
diff --git a/framework/web/User.php b/framework/web/User.php
index e1f679ee5..24bb0a45c 100644
--- a/framework/web/User.php
+++ b/framework/web/User.php
@@ -443,7 +443,7 @@ class User extends Component
             && (!$checkAjax || !$request->getIsAjax())
             && $canRedirect
         ) {
-            $this->setReturnUrl($request->getUrl());
+            $this->setReturnUrl($request->getAbsoluteUrl());
         }
         if ($this->loginUrl !== null && $canRedirect) {
             $loginUrl = (array) $this->loginUrl;
