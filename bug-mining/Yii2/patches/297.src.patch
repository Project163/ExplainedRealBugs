diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 2df1c4973..f583fa7e1 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -5,6 +5,7 @@ Yii Framework 2 Change Log
 ------------------------
 
 - Bug #14248: `yii\console\controllers\MessageController` no longer outputs colorized filenames when console does not support text colorization (PowerGamer1)
+- Bug #14264: Fixed a bug where `yii\log\Logger::calculateTimings()` was not accepting messages with array tokens (bizley)
 
 
 2.0.12 June 05, 2017
diff --git a/framework/log/Logger.php b/framework/log/Logger.php
index 8427223d1..87b48fc7b 100644
--- a/framework/log/Logger.php
+++ b/framework/log/Logger.php
@@ -278,7 +278,7 @@ class Logger extends Component
             list($token, $level, $category, $timestamp, $traces) = $log;
             $memory = isset($log[5]) ? $log[5] : 0;
             $log[6] = $i;
-            $hash = md5($token);
+            $hash = md5(serialize($token));
             if ($level == Logger::LEVEL_PROFILE_BEGIN) {
                 $stack[$hash] = $log;
             } elseif ($level == Logger::LEVEL_PROFILE_END) {
diff --git a/tests/framework/log/LoggerTest.php b/tests/framework/log/LoggerTest.php
index b7d31b54e..672515808 100644
--- a/tests/framework/log/LoggerTest.php
+++ b/tests/framework/log/LoggerTest.php
@@ -174,12 +174,15 @@ class LoggerTest extends TestCase
             ['message2', Logger::LEVEL_PROFILE, 'category', 'time', 'trace', 1048576],
             ['message3', Logger::LEVEL_TRACE, 'category', 'time', 'trace', 1048576],
             ['message4', Logger::LEVEL_WARNING, 'category', 'time', 'trace', 1048576],
+            [['message5', 'message6'], Logger::LEVEL_ERROR, 'category', 'time', 'trace', 1048576],
         ];
         $this->assertEmpty($this->logger->calculateTimings($messages));
     }
 
     /**
      * @covers yii\log\Logger::calculateTimings()
+     *
+     * See https://github.com/yiisoft/yii2/issues/14264
      */
     public function testCalculateTimingsWithProfileBeginEnd()
     {
@@ -201,6 +204,25 @@ class LoggerTest extends TestCase
         ],
             $this->logger->calculateTimings($messages)
         );
+
+        $messages = [
+            'anyKey' => [['a', 'b'], Logger::LEVEL_PROFILE_BEGIN, 'category', 10, 'trace', 1048576],
+            'anyKey2' => [['a', 'b'], Logger::LEVEL_PROFILE_END, 'category', 15, 'trace', 2097152],
+        ];
+        $this->assertEquals([
+            [
+                'info' => ['a', 'b'],
+                'category' => 'category',
+                'timestamp' => 10,
+                'trace' => 'trace',
+                'level' => 0,
+                'duration' => 5,
+                'memory' => 2097152,
+                'memoryDiff' => 1048576
+            ]
+        ],
+            $this->logger->calculateTimings($messages)
+        );
     }
 
     /**
