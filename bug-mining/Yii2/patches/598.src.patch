diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index ddb839a22..409f7c72d 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -18,6 +18,7 @@ Yii Framework 2 Change Log
 - Bug #17389: Fixed `UniqueValidator` to work with Active Record having `joinWith()` in its `find()` (garthpmurray)
 - Enh #17382: Added `\yii\validators\DateValidator::$strictDateFormat` to enable strict validation (alexkart)
 - Enh #17396: Added 'invoked by controller' to the debug log message when `\yii\base\Action` is used (alexkart)
+- Bug #17395: Fixed issues with actions that contain underscores in their names (alexkart)
 
 
 2.0.21 June 18, 2019
diff --git a/framework/console/Controller.php b/framework/console/Controller.php
index f97325641..02b7009fc 100644
--- a/framework/console/Controller.php
+++ b/framework/console/Controller.php
@@ -453,6 +453,10 @@ class Controller extends \yii\base\Controller
      */
     public function getActionHelpSummary($action)
     {
+        if ($action === null) {
+            return $this->ansiFormat(Yii::t('yii', 'Action not found.'), Console::FG_RED);
+        }
+
         return $this->parseDocCommentSummary($this->getActionMethodReflection($action));
     }
 
diff --git a/framework/console/controllers/HelpController.php b/framework/console/controllers/HelpController.php
index 0155d2e7c..4d3252b48 100644
--- a/framework/console/controllers/HelpController.php
+++ b/framework/console/controllers/HelpController.php
@@ -212,7 +212,7 @@ class HelpController extends Controller
         foreach ($class->getMethods() as $method) {
             $name = $method->getName();
             if ($name !== 'actions' && $method->isPublic() && !$method->isStatic() && strncmp($name, 'action', 6) === 0) {
-                $actions[] = Inflector::camel2id(substr($name, 6), '-', true);
+                $actions[] = $this->camel2id(substr($name, 6));
             }
         }
         sort($actions);
@@ -557,4 +557,16 @@ class HelpController extends Controller
     {
         return "\nThis is Yii version " . \Yii::getVersion() . ".\n";
     }
+
+    /**
+     * Converts a CamelCase action name into an ID in lowercase.
+     * Words in the ID are concatenated using the specified character '-'.
+     * For example, 'CreateUser' will be converted to 'create-user'.
+     * @param string $name the string to be converted
+     * @return string the resulting ID
+     */
+    private function camel2id($name)
+    {
+        return mb_strtolower(trim(preg_replace('/\p{Lu}/u', '-\0', $name), '-'), 'UTF-8');
+    }
 }
diff --git a/framework/helpers/BaseInflector.php b/framework/helpers/BaseInflector.php
index c89c9e367..6d6f424d2 100644
--- a/framework/helpers/BaseInflector.php
+++ b/framework/helpers/BaseInflector.php
@@ -351,9 +351,9 @@ class BaseInflector
      * Converts a word like "send_email" to "SendEmail". It
      * will remove non alphanumeric character from the word, so
      * "who's online" will be converted to "WhoSOnline".
-     * @see variablize()
      * @param string $word the word to CamelCase
      * @return string
+     * @see variablize()
      */
     public static function camelize($word)
     {
diff --git a/tests/framework/base/ControllerTest.php b/tests/framework/base/ControllerTest.php
index 9a6db5400..4f205378d 100644
--- a/tests/framework/base/ControllerTest.php
+++ b/tests/framework/base/ControllerTest.php
@@ -9,6 +9,7 @@ namespace yiiunit\framework\base;
 
 use Yii;
 use yii\base\Controller;
+use yii\base\InlineAction;
 use yiiunit\TestCase;
 
 /**
@@ -44,6 +45,37 @@ class ControllerTest extends TestCase
         $this->assertEquals('test1', $controller->action->id);
         $this->assertEquals('test-controller/test1', $controller->action->uniqueId);
     }
+
+    /**
+     * @dataProvider createInlineActionProvider
+     * @param string $controllerClass
+     * @param string $actionId
+     * @param string|null $expectedActionMethod
+     */
+    public function testCreateInlineAction($controllerClass, $actionId, $expectedActionMethod)
+    {
+        $this->mockApplication();
+        /** @var Controller $controller */
+        $controller = new $controllerClass('test-controller', Yii::$app);
+
+        /** @var InlineAction $action */
+        $action = $controller->createAction($actionId);
+        $actionMethod = $action !== null ? $action->actionMethod : null;
+
+        $this->assertEquals($expectedActionMethod, $actionMethod);
+    }
+
+    public function createInlineActionProvider()
+    {
+        return [
+            ['\yiiunit\framework\base\TestController', 'non-existent-id', null],
+            ['\yiiunit\framework\base\TestController', 'test3', 'actionTest3'],
+            ['\yiiunit\framework\base\TestController', 'test-test', 'actionTestTest'],
+            ['\yiiunit\framework\base\Test1Controller', 'test_test', 'actionTest_test'],
+            ['\yiiunit\framework\base\Test1Controller', 'test_1', 'actionTest_1'],
+            ['\yiiunit\framework\base\Test1Controller', 'test-test_test_2', 'actionTestTest_test_2'],
+        ];
+    }
 }
 
 
@@ -54,9 +86,43 @@ class TestController extends Controller
         ControllerTest::$actionRuns[] = $this->action->uniqueId;
         return 'test1';
     }
+
     public function actionTest2()
     {
         ControllerTest::$actionRuns[] = $this->action->uniqueId;
         return 'test2';
     }
+
+    public function actionTest3()
+    {
+
+    }
+
+    public function actionTestTest()
+    {
+
+    }
+
+    public function actionTest_test()
+    {
+
+    }
+}
+
+class Test1Controller extends Controller
+{
+    public function actionTest_1()
+    {
+
+    }
+
+    public function actionTest_test()
+    {
+
+    }
+
+    public function actionTestTest_test_2()
+    {
+
+    }
 }
diff --git a/tests/framework/console/ControllerTest.php b/tests/framework/console/ControllerTest.php
index 4292c0bb0..6220a5357 100644
--- a/tests/framework/console/ControllerTest.php
+++ b/tests/framework/console/ControllerTest.php
@@ -10,6 +10,7 @@ namespace yiiunit\framework\console;
 use Yii;
 use yii\base\Module;
 use yii\console\Request;
+use yii\helpers\Console;
 use yiiunit\TestCase;
 
 /**
@@ -95,13 +96,13 @@ class ControllerTest extends TestCase
         $response = $this->runRequest('fake/status');
         $this->assertResponseStatus(0, $response);
 
-        $response = $this->runRequest('fake/status', (string) $status);
+        $response = $this->runRequest('fake/status', (string)$status);
         $this->assertResponseStatus($status, $response);
 
         $response = $this->runRequest('fake/response');
         $this->assertResponseStatus(0, $response);
 
-        $response = $this->runRequest('fake/response', (string) $status);
+        $response = $this->runRequest('fake/response', (string)$status);
         $this->assertResponseStatus($status, $response);
     }
 
@@ -160,4 +161,17 @@ class ControllerTest extends TestCase
         $this->assertArrayNotHasKey('typedArgument', $help);
         $this->assertArrayHasKey('simpleArgument', $help);
     }
+
+    public function testGetActionHelpSummaryOnNull()
+    {
+        $controller = new FakeController('fake', Yii::$app);
+
+        $controller->color = false;
+        $helpSummary = $controller->getActionHelpSummary(null);
+        $this->assertEquals('Action not found.', $helpSummary);
+
+        $controller->color = true;
+        $helpSummary = $controller->getActionHelpSummary(null);
+        $this->assertEquals($controller->ansiFormat('Action not found.', Console::FG_RED), $helpSummary);
+    }
 }
