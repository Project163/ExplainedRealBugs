diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 80f35ee5c..ee5fd3975 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -97,6 +97,7 @@ Yii Framework 2 Change Log
 - Chg #14487: Changed i18n message error to warning (dmirogin)
 - Enh #14864: Ability to use dependencies in constructor of migrations (vtvz)
 - Enh #14913: Assset hashing now takes asset linking into account to improve cache busting (schmunk42)
+- Enh #15015: Added `StringHelper::floatToString()` to savely cast float values independent of the locale, also fixes some places in the framework that use it now (cebe)
 
 2.0.12 June 05, 2017
 --------------------
diff --git a/framework/behaviors/AttributeTypecastBehavior.php b/framework/behaviors/AttributeTypecastBehavior.php
index b69ff51aa..4986aaa31 100644
--- a/framework/behaviors/AttributeTypecastBehavior.php
+++ b/framework/behaviors/AttributeTypecastBehavior.php
@@ -11,6 +11,7 @@ use yii\base\Behavior;
 use yii\base\InvalidParamException;
 use yii\base\Model;
 use yii\db\BaseActiveRecord;
+use yii\helpers\StringHelper;
 use yii\validators\BooleanValidator;
 use yii\validators\NumberValidator;
 use yii\validators\StringValidator;
@@ -253,6 +254,9 @@ class AttributeTypecastBehavior extends Behavior
                 case self::TYPE_BOOLEAN:
                     return (bool) $value;
                 case self::TYPE_STRING:
+                    if (is_float($value)) {
+                        return StringHelper::floatToString($value);
+                    }
                     return (string) $value;
                 default:
                     throw new InvalidParamException("Unsupported type '{$type}'");
diff --git a/framework/db/ColumnSchema.php b/framework/db/ColumnSchema.php
index 6cd75e10d..8ad4f87c6 100644
--- a/framework/db/ColumnSchema.php
+++ b/framework/db/ColumnSchema.php
@@ -8,6 +8,7 @@
 namespace yii\db;
 
 use yii\base\BaseObject;
+use yii\helpers\StringHelper;
 
 /**
  * ColumnSchema class describes the metadata of a column in a database table.
@@ -127,9 +128,8 @@ class ColumnSchema extends BaseObject
                 }
                 if (is_float($value)) {
                     // ensure type cast always has . as decimal separator in all locales
-                    return str_replace(',', '.', (string) $value);
+                    return StringHelper::floatToString($value);
                 }
-
                 return (string) $value;
             case 'integer':
                 return (int) $value;
diff --git a/framework/db/ColumnSchemaBuilder.php b/framework/db/ColumnSchemaBuilder.php
index ba9ea5971..d0c306436 100644
--- a/framework/db/ColumnSchemaBuilder.php
+++ b/framework/db/ColumnSchemaBuilder.php
@@ -9,6 +9,7 @@ namespace yii\db;
 
 use Yii;
 use yii\base\BaseObject;
+use yii\helpers\StringHelper;
 
 /**
  * ColumnSchemaBuilder helps to define database schema types using a PHP interface.
@@ -345,7 +346,7 @@ class ColumnSchemaBuilder extends BaseObject
                 break;
             case 'double':
                 // ensure type cast always has . as decimal separator in all locales
-                $string .= str_replace(',', '.', (string) $this->default);
+                $string .= StringHelper::floatToString($this->default);
                 break;
             case 'boolean':
                 $string .= $this->default ? 'TRUE' : 'FALSE';
diff --git a/framework/db/QueryBuilder.php b/framework/db/QueryBuilder.php
index a1fea9254..46b8a12e7 100644
--- a/framework/db/QueryBuilder.php
+++ b/framework/db/QueryBuilder.php
@@ -10,6 +10,7 @@ namespace yii\db;
 use yii\base\InvalidParamException;
 use yii\base\NotSupportedException;
 use yii\helpers\ArrayHelper;
+use yii\helpers\StringHelper;
 
 /**
  * QueryBuilder builds a SELECT SQL statement based on the specification given as a [[Query]] object.
@@ -282,7 +283,7 @@ class QueryBuilder extends \yii\base\BaseObject
                     $value = $schema->quoteValue($value);
                 } elseif (is_float($value)) {
                     // ensure type cast always has . as decimal separator in all locales
-                    $value = str_replace(',', '.', (string) $value);
+                    $value = StringHelper::floatToString($value);
                 } elseif ($value === false) {
                     $value = 0;
                 } elseif ($value === null) {
diff --git a/framework/db/oci/QueryBuilder.php b/framework/db/oci/QueryBuilder.php
index 8e14ef37b..19ec64559 100644
--- a/framework/db/oci/QueryBuilder.php
+++ b/framework/db/oci/QueryBuilder.php
@@ -11,6 +11,7 @@ use yii\base\InvalidParamException;
 use yii\db\Connection;
 use yii\db\Exception;
 use yii\db\Expression;
+use yii\helpers\StringHelper;
 
 /**
  * QueryBuilder is the query builder for Oracle databases.
@@ -271,7 +272,7 @@ EOD;
                     $value = $schema->quoteValue($value);
                 } elseif (is_float($value)) {
                     // ensure type cast always has . as decimal separator in all locales
-                    $value = str_replace(',', '.', (string) $value);
+                    $value = StringHelper::floatToString($value);
                 } elseif ($value === false) {
                     $value = 0;
                 } elseif ($value === null) {
diff --git a/framework/db/pgsql/QueryBuilder.php b/framework/db/pgsql/QueryBuilder.php
index f1cdb6136..80be1a7d6 100644
--- a/framework/db/pgsql/QueryBuilder.php
+++ b/framework/db/pgsql/QueryBuilder.php
@@ -8,6 +8,7 @@
 namespace yii\db\pgsql;
 
 use yii\base\InvalidParamException;
+use yii\helpers\StringHelper;
 
 /**
  * QueryBuilder is the query builder for PostgreSQL databases.
@@ -308,7 +309,7 @@ class QueryBuilder extends \yii\db\QueryBuilder
                     $value = $schema->quoteValue($value);
                 } elseif (is_float($value)) {
                     // ensure type cast always has . as decimal separator in all locales
-                    $value = str_replace(',', '.', (string) $value);
+                    $value = StringHelper::floatToString($value);
                 } elseif ($value === true) {
                     $value = 'TRUE';
                 } elseif ($value === false) {
diff --git a/framework/db/sqlite/QueryBuilder.php b/framework/db/sqlite/QueryBuilder.php
index 5b15aa097..8000f563a 100644
--- a/framework/db/sqlite/QueryBuilder.php
+++ b/framework/db/sqlite/QueryBuilder.php
@@ -12,6 +12,7 @@ use yii\base\NotSupportedException;
 use yii\db\Connection;
 use yii\db\Expression;
 use yii\db\Query;
+use yii\helpers\StringHelper;
 
 /**
  * QueryBuilder is the query builder for SQLite databases.
@@ -104,7 +105,7 @@ class QueryBuilder extends \yii\db\QueryBuilder
                     $value = $schema->quoteValue($value);
                 } elseif (is_float($value)) {
                     // ensure type cast always has . as decimal separator in all locales
-                    $value = str_replace(',', '.', (string) $value);
+                    $value = StringHelper::floatToString($value);
                 } elseif ($value === false) {
                     $value = 0;
                 } elseif ($value === null) {
diff --git a/framework/helpers/BaseArrayHelper.php b/framework/helpers/BaseArrayHelper.php
index 665b616ed..ce561a527 100644
--- a/framework/helpers/BaseArrayHelper.php
+++ b/framework/helpers/BaseArrayHelper.php
@@ -478,7 +478,7 @@ class BaseArrayHelper
                 $value = static::getValue($element, $key);
                 if ($value !== null) {
                     if (is_float($value)) {
-                        $value = (string) $value;
+                        $value = StringHelper::floatToString($value);
                     }
                     $lastArray[$value] = $element;
                 }
diff --git a/framework/helpers/BaseStringHelper.php b/framework/helpers/BaseStringHelper.php
index 52b8a9b2a..f7b1a4059 100644
--- a/framework/helpers/BaseStringHelper.php
+++ b/framework/helpers/BaseStringHelper.php
@@ -350,4 +350,19 @@ class BaseStringHelper
     {
         return base64_decode(strtr($input, '-_', '+/'));
     }
+
+    /**
+     * Safely casts a float to string independent of the current locale.
+     *
+     * The decimal separator will always be `.`.
+     * @param float|int $number a floating point number or integer.
+     * @return string the string representation of the number.
+     * @since 2.0.13
+     */
+    public static function floatToString($number)
+    {
+        // . and , are the only decimal separators known in ICU data,
+        // so its safe to call str_replace here
+        return str_replace(',', '.', (string) $number);
+    }
 }
diff --git a/framework/log/Target.php b/framework/log/Target.php
index 411ecc3a1..f1a6d3a72 100644
--- a/framework/log/Target.php
+++ b/framework/log/Target.php
@@ -11,6 +11,7 @@ use Yii;
 use yii\base\Component;
 use yii\base\InvalidConfigException;
 use yii\helpers\ArrayHelper;
+use yii\helpers\StringHelper;
 use yii\helpers\VarDumper;
 use yii\web\Request;
 
@@ -359,7 +360,7 @@ abstract class Target extends Component
      */
     protected function getTime($timestamp)
     {
-        list ($timestamp, $usec) = explode('.', (string)$timestamp);
+        list ($timestamp, $usec) = explode('.', StringHelper::floatToString($timestamp));
 
         return date('Y-m-d H:i:s', $timestamp) . ($this->microtime ? ('.' . $usec) : '');
     }
diff --git a/framework/web/XmlResponseFormatter.php b/framework/web/XmlResponseFormatter.php
index 11723e757..40e9776bc 100644
--- a/framework/web/XmlResponseFormatter.php
+++ b/framework/web/XmlResponseFormatter.php
@@ -128,8 +128,8 @@ class XmlResponseFormatter extends Component implements ResponseFormatterInterfa
     /**
      * Formats scalar value to use in XML text node.
      *
-     * @param int|string|bool $value
-     * @return string
+     * @param int|string|bool|float $value a scalar value.
+     * @return string string representation of the value.
      * @since 2.0.11
      */
     protected function formatScalarValue($value)
@@ -137,11 +137,12 @@ class XmlResponseFormatter extends Component implements ResponseFormatterInterfa
         if ($value === true) {
             return 'true';
         }
-
         if ($value === false) {
             return 'false';
         }
-
+        if (is_float($value)) {
+            return StringHelper::floatToString($value);
+        }
         return (string) $value;
     }
 
