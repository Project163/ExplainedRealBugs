diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 4d6ee7640..ed0431645 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -79,6 +79,7 @@ Yii Framework 2 Change Log
 - Enh #12419: Added ability to remove root tag and object tags for `yii\web\XmlResponseFormatter` (mhthnz, samdark)
 - Enh #12619: Added catch `Throwable` in `yii\base\ErrorHandler::handleException()`, transactions and simlar places where consistency must be kept after exception (rob006, cebe)
 - Enh #12659: Suggest alternatives when console command was not found (mdmunir, cebe)
+- Enh #12691: Added support for protocol-relative URLs in `yii\web\UrlRule::$pattern` (erickskrauch)
 - Enh #12726: `yii\base\Application::$version` converted to `yii\base\Module::$version` virtual property, allowing to specify version as a PHP callback (klimov-paul)
 - Enh #12732: Added `is_dir()` validation to `yii\helpers\BaseFileHelper::findFiles()` method (zalatov, silverfire)
 - Enh #12738: Added support for creating protocol-relative URLs in `UrlManager::createAbsoluteUrl()` and `Url` helper methods (rob006)
diff --git a/framework/web/UrlManager.php b/framework/web/UrlManager.php
index 694cbcaaf..469c7f696 100644
--- a/framework/web/UrlManager.php
+++ b/framework/web/UrlManager.php
@@ -396,6 +396,12 @@ class UrlManager extends Component
                     } else {
                         return $url . $baseUrl . $anchor;
                     }
+                } elseif (substr($url, 0, 2) === '//') {
+                    if ($baseUrl !== '' && ($pos = strpos($url, '/', 2)) !== false) {
+                        return substr($url, 0, $pos) . $baseUrl . substr($url, $pos) . $anchor;
+                    } else {
+                        return $url . $baseUrl . $anchor;
+                    }
                 } else {
                     return "$baseUrl/{$url}{$anchor}";
                 }
@@ -475,7 +481,12 @@ class UrlManager extends Component
         $params = (array) $params;
         $url = $this->createUrl($params);
         if (strpos($url, '://') === false) {
-            $url = $this->getHostInfo() . $url;
+            $hostInfo = $this->getHostInfo();
+            if (substr($url, 0, 2) === '//') {
+                $url = substr($hostInfo, 0, strpos($hostInfo, '://')) . ':' . $url;
+            } else {
+                $url = $hostInfo . $url;
+            }
         }
 
         return Url::ensureScheme($url, $scheme);
diff --git a/framework/web/UrlRule.php b/framework/web/UrlRule.php
index b4417f3f7..a8a9fe4af 100644
--- a/framework/web/UrlRule.php
+++ b/framework/web/UrlRule.php
@@ -178,7 +178,7 @@ class UrlRule extends Object implements UrlRuleInterface
             $this->name = $this->pattern;
         }
 
-        $this->pattern = trim($this->pattern, '/');
+        $this->pattern = $this->trimSlashes($this->pattern);
         $this->route = trim($this->route, '/');
 
         if ($this->host !== null) {
@@ -195,6 +195,12 @@ class UrlRule extends Object implements UrlRuleInterface
             } else {
                 $this->host = $this->pattern;
             }
+        } elseif (substr($this->pattern, 0, 2) === '//') {
+            if (($pos2 = strpos($this->pattern, '/', $pos + 2)) !== false) {
+                $this->host = substr($this->pattern, 0, $pos2);
+            } else {
+                $this->host = $this->pattern;
+            }
         } else {
             $this->pattern = '/' . $this->pattern . '/';
         }
@@ -244,6 +250,11 @@ class UrlRule extends Object implements UrlRuleInterface
         $this->_template = preg_replace('/<([\w._-]+):?([^>]+)?>/', '<$1>', $this->pattern);
         $this->pattern = '#^' . trim(strtr($this->_template, $tr), '/') . '$#u';
 
+        // if host starts with relative scheme, then insert pattern to match any
+        if (substr($this->host, 0, 2) === '//') {
+            $this->pattern = substr_replace($this->pattern, '[\w]+://', 2, 0);
+        }
+
         if (!empty($this->_routeParams)) {
             $this->_routeRule = '#^' . strtr($this->route, $tr2) . '$#u';
         }
@@ -415,7 +426,7 @@ class UrlRule extends Object implements UrlRuleInterface
             }
         }
 
-        $url = trim(strtr($this->_template, $tr), '/');
+        $url = $this->trimSlashes(strtr($this->_template, $tr));
         if ($this->host !== null) {
             $pos = strpos($url, '/', 8);
             if ($pos !== false) {
@@ -467,4 +478,16 @@ class UrlRule extends Object implements UrlRuleInterface
         }
         return $matches;
     }
+
+    /**
+     * Trim slashes in passed string. Slashes at beginning of string will be saved if string begins with '//'
+     * and then should be any character other than a slash
+     * Regex playground: https://regex101.com/r/X9f3gK/2
+     *
+     * @param string $string
+     * @return string
+     */
+    private function trimSlashes($string) {
+        return preg_replace('/(^(?:\/|\/{3,})(?!\/)|\/+$)/', '', $string);
+    }
 }
diff --git a/tests/framework/web/UrlRuleTest.php b/tests/framework/web/UrlRuleTest.php
index 9051d4e28..71875fadc 100644
--- a/tests/framework/web/UrlRuleTest.php
+++ b/tests/framework/web/UrlRuleTest.php
@@ -670,6 +670,31 @@ class UrlRuleTest extends TestCase
                     ['post/index', ['page' => 1, 'tag' => 'a', 'lang' => 'en'], 'http://en.example.com/post/a'],
                 ],
             ],
+            [
+                'with relative host info',
+                [
+                    'pattern' => 'post/<page:\d+>/<tag>',
+                    'route' => 'post/index',
+                    'defaults' => ['page' => 1],
+                    'host' => '//<lang:en|fr>.example.com',
+                ],
+                [
+                    ['post/index', ['page' => 1, 'tag' => 'a'], false],
+                    ['post/index', ['page' => 1, 'tag' => 'a', 'lang' => 'en'], '//en.example.com/post/a'],
+                ],
+            ],
+            [
+                'with relative host info in pattern',
+                [
+                    'pattern' => '//<lang:en|fr>.example.com/post/<page:\d+>/<tag>',
+                    'route' => 'post/index',
+                    'defaults' => ['page' => 1],
+                ],
+                [
+                    ['post/index', ['page' => 1, 'tag' => 'a'], false],
+                    ['post/index', ['page' => 1, 'tag' => 'a', 'lang' => 'en'], '//en.example.com/post/a'],
+                ],
+            ],
             [
                 'with unicode',
                 [
@@ -1037,6 +1062,31 @@ class UrlRuleTest extends TestCase
                     ['2', ['post/index', ['page' => 2]]],
                 ],
             ],
+            [
+                'with relative host info',
+                [
+                    'pattern' => 'post/<page:\d+>',
+                    'route' => 'post/index',
+                    'host' => '//<lang:en|fr>.example.com',
+                ],
+                [
+                    ['post/1', ['post/index', ['page' => '1', 'lang' => 'en']]],
+                    ['post/a', false],
+                    ['post/1/a', false],
+                ],
+            ],
+            [
+                'with relative host info in pattern',
+                [
+                    'pattern' => '//<lang:en|fr>.example.com/post/<page:\d+>',
+                    'route' => 'post/index',
+                ],
+                [
+                    ['post/1', ['post/index', ['page' => '1', 'lang' => 'en']]],
+                    ['post/a', false],
+                    ['post/1/a', false],
+                ],
+            ],
         ];
     }
 
