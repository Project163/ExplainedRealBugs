diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index eab480204..ecb3087ac 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -14,6 +14,7 @@ Yii Framework 2 Change Log
 - Bug #12037: Fixed 2.0.7 regression in memcahe/memcached cache backend (samdark)
 - Bug #12045: Added missing `LEVEL_PROFILE` to `yii\log\Logger::getLevelName()` map (Mak-Di)
 - Enh #10583: Do not silence session errors in debug mode (samdark)
+- Enh #12048: Improved message extraction command performance (samdark)
 
 2.0.9 July 11, 2016
 -------------------
diff --git a/framework/console/controllers/MessageController.php b/framework/console/controllers/MessageController.php
index 3a8649112..ff947062b 100644
--- a/framework/console/controllers/MessageController.php
+++ b/framework/console/controllers/MessageController.php
@@ -449,10 +449,10 @@ EOD;
 
         $subject = file_get_contents($fileName);
         $messages = [];
+        $tokens = token_get_all($subject);
         foreach ((array) $translator as $currentTranslator) {
             $translatorTokens = token_get_all('<?php ' . $currentTranslator);
             array_shift($translatorTokens);
-            $tokens = token_get_all($subject);
             $messages = array_merge_recursive($messages, $this->extractMessagesFromTokens($tokens, $translatorTokens, $ignoreCategories));
         }
 
