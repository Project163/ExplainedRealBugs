diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 35ef5bcf3..30e76bf4b 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -14,6 +14,7 @@ Yii Framework 2 Change Log
 - Bug #19530: Fix specifying the field id for `yii\widgets\ActiveField` (kv4nt)
 - Bug #19537: Fix default expression detection for MariaDB `date` and `time` columns (bizley)
 - Bug #19589: Fix Error reporting in to the `BaseArrayHelper::getValue()` (lav45)
+- Bug #19507: Fix eager loading of nested one-to-many relations (spo0okie)
 
 
 2.0.46 August 18, 2022
diff --git a/framework/db/ActiveRelationTrait.php b/framework/db/ActiveRelationTrait.php
index 687777f23..42d02ad96 100644
--- a/framework/db/ActiveRelationTrait.php
+++ b/framework/db/ActiveRelationTrait.php
@@ -456,8 +456,9 @@ trait ActiveRelationTrait
     private function mapVia($map, $viaMap) {
         $resultMap = [];
         foreach ($map as $key => $linkKeys) {
+            $resultMap[$key] = [];
             foreach (array_keys($linkKeys) as $linkKey) {
-                $resultMap[$key] = $viaMap[$linkKey];
+                $resultMap[$key] += $viaMap[$linkKey];
             }
         }
         return $resultMap;
diff --git a/tests/data/ar/Customer.php b/tests/data/ar/Customer.php
index aef14891b..8da9e748e 100644
--- a/tests/data/ar/Customer.php
+++ b/tests/data/ar/Customer.php
@@ -87,6 +87,18 @@ class Customer extends ActiveRecord
         })->orderBy('id');
     }
 
+    public function getOrderItems2()
+    {
+        return $this->hasMany(OrderItem::className(), ['order_id' => 'id'])
+            ->via('orders');
+    }
+
+    public function getItems()
+    {
+        return $this->hasMany(Item::className(), ['id' => 'item_id'])
+            ->via('orderItems2');
+    }
+
     public function afterSave($insert, $changedAttributes)
     {
         ActiveRecordTest::$afterSaveInsert = $insert;
diff --git a/tests/framework/db/ActiveRecordTest.php b/tests/framework/db/ActiveRecordTest.php
index e1908ebc7..f1370f472 100644
--- a/tests/framework/db/ActiveRecordTest.php
+++ b/tests/framework/db/ActiveRecordTest.php
@@ -787,6 +787,28 @@ abstract class ActiveRecordTest extends DatabaseTestCase
         $this->assertNotEmpty($rows);
     }
 
+    /**
+     * Test joinWith eager loads via relation
+     *
+     * @see https://github.com/yiisoft/yii2/issues/19507
+     */
+    public function testJoinWithEager()
+    {
+        $eagerCustomers = Customer::find()->joinWith(['items'])->all();
+        $eagerItemsCount = 0;
+        foreach ($eagerCustomers as $customer) {
+            $eagerItemsCount += count($customer->items);
+        }
+
+        $lazyCustomers = Customer::find()->all();
+        $lazyItemsCount = 0;
+        foreach ($lazyCustomers as $customer) {
+            $lazyItemsCount += count($customer->items);
+        }
+
+        $this->assertEquals($eagerItemsCount, $lazyItemsCount);
+    }
+
     public function aliasMethodProvider()
     {
         return [
