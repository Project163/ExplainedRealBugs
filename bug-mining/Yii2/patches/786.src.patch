diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index ef9e84a5d..f5c328082 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -25,6 +25,7 @@ Yii Framework 2 Change Log
 - Enh #18569: Add `NumberValidator::$allowArray` (raidkon)
 - Bug #18613: Do not call static methods non-statically in `BaseActiveRecord` (samdark)
 - Bug #18619: Do not modify `yii\web\Cookie::$path` on `yii\web\Response::sendCookies()` (mikk150)
+- Bug #18624: Fix `yii\di\Container` to properly resolve dependencies in case of PHP 8 union types (bizley)
 - Bug #18604: Function alterColumn for MSSQL build incorrect query with default values `NULL` and other expressions (darkdef)
 
 
diff --git a/framework/di/Container.php b/framework/di/Container.php
index e527edb71..19678348d 100644
--- a/framework/di/Container.php
+++ b/framework/di/Container.php
@@ -524,7 +524,10 @@ class Container extends Component
 
                 if (PHP_VERSION_ID >= 80000) {
                     $c = $param->getType();
-                    $isClass = $c !== null && !$param->getType()->isBuiltin();
+                    $isClass = false;
+                    if ($c instanceof ReflectionNamedType) {
+                        $isClass = !$c->isBuiltin();
+                    }
                 } else {
                     try {
                         $c = $param->getClass();
diff --git a/tests/framework/di/ContainerTest.php b/tests/framework/di/ContainerTest.php
index a9c2fd7ae..71c8e2f26 100644
--- a/tests/framework/di/ContainerTest.php
+++ b/tests/framework/di/ContainerTest.php
@@ -26,6 +26,9 @@ use yiiunit\framework\di\stubs\Kappa;
 use yiiunit\framework\di\stubs\Qux;
 use yiiunit\framework\di\stubs\QuxInterface;
 use yiiunit\framework\di\stubs\QuxFactory;
+use yiiunit\framework\di\stubs\UnionTypeNotNull;
+use yiiunit\framework\di\stubs\UnionTypeNull;
+use yiiunit\framework\di\stubs\UnionTypeWithClass;
 use yiiunit\framework\di\stubs\Zeta;
 use yiiunit\TestCase;
 
@@ -621,4 +624,53 @@ class ContainerTest extends TestCase
         $this->assertNull($zeta->unknown);
         $this->assertNull($zeta->unknownNull);
     }
+
+    public function testUnionTypeWithNullConstructorParameters()
+    {
+        if (PHP_VERSION_ID < 80000) {
+            $this->markTestSkipped('Can not be tested on PHP < 8.0');
+            return;
+        }
+
+        $unionType = (new Container())->get(UnionTypeNull::className());
+        $this->assertInstanceOf(UnionTypeNull::className(), $unionType);
+    }
+
+    public function testUnionTypeWithoutNullConstructorParameters()
+    {
+        if (PHP_VERSION_ID < 80000) {
+            $this->markTestSkipped('Can not be tested on PHP < 8.0');
+            return;
+        }
+
+        $unionType = (new Container())->get(UnionTypeNotNull::className(), ['value' => 'a']);
+        $this->assertInstanceOf(UnionTypeNotNull::className(), $unionType);
+
+        $unionType = (new Container())->get(UnionTypeNotNull::className(), ['value' => 1]);
+        $this->assertInstanceOf(UnionTypeNotNull::className(), $unionType);
+
+        $unionType = (new Container())->get(UnionTypeNotNull::className(), ['value' => 2.3]);
+        $this->assertInstanceOf(UnionTypeNotNull::className(), $unionType);
+
+        $unionType = (new Container())->get(UnionTypeNotNull::className(), ['value' => true]);
+        $this->assertInstanceOf(UnionTypeNotNull::className(), $unionType);
+
+        $this->expectException('TypeError');
+        (new Container())->get(UnionTypeNotNull::className());
+    }
+
+    public function testUnionTypeWithClassConstructorParameters()
+    {
+        if (PHP_VERSION_ID < 80000) {
+            $this->markTestSkipped('Can not be tested on PHP < 8.0');
+            return;
+        }
+
+        $unionType = (new Container())->get(UnionTypeWithClass::className(), ['value' => new Beta()]);
+        $this->assertInstanceOf(UnionTypeWithClass::className(), $unionType);
+        $this->assertInstanceOf(Beta::className(), $unionType->value);
+
+        $this->expectException('TypeError');
+        (new Container())->get(UnionTypeNotNull::className());
+    }
 }
diff --git a/tests/framework/di/stubs/UnionTypeNotNull.php b/tests/framework/di/stubs/UnionTypeNotNull.php
new file mode 100644
index 000000000..3b2eff9f1
--- /dev/null
+++ b/tests/framework/di/stubs/UnionTypeNotNull.php
@@ -0,0 +1,12 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class UnionTypeNotNull extends BaseObject
+{
+    public function __construct(protected string|int|float|bool $value)
+    {
+    }
+}
diff --git a/tests/framework/di/stubs/UnionTypeNull.php b/tests/framework/di/stubs/UnionTypeNull.php
new file mode 100644
index 000000000..971e9f88e
--- /dev/null
+++ b/tests/framework/di/stubs/UnionTypeNull.php
@@ -0,0 +1,12 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class UnionTypeNull extends BaseObject
+{
+    public function __construct(protected string|int|float|bool|null $value)
+    {
+    }
+}
diff --git a/tests/framework/di/stubs/UnionTypeWithClass.php b/tests/framework/di/stubs/UnionTypeWithClass.php
new file mode 100644
index 000000000..bbd89504e
--- /dev/null
+++ b/tests/framework/di/stubs/UnionTypeWithClass.php
@@ -0,0 +1,12 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class UnionTypeWithClass extends BaseObject
+{
+    public function __construct(public string|Beta $value)
+    {
+    }
+}
