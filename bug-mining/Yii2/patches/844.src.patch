diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 67f1195a7..5750f041f 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -45,6 +45,7 @@ Yii Framework 2 Change Log
 - Bug #19477: cast shell_exec() output to string (schmunk42)
 - Bug #19481: Exception is always empty in ErrorHandler when handling fatal error (Renkas)
 - Bug #19462: Fix validator client options to encode HTML tags (bizley)
+- Bug #19259: Fix `yii\log\FileTarget` locking and always rotate files only by copy (bizley, mikehaertl)
 
 2.0.45 February 11, 2022
 ------------------------
diff --git a/framework/UPGRADE.md b/framework/UPGRADE.md
index ed330e41b..5ae7f63ef 100644
--- a/framework/UPGRADE.md
+++ b/framework/UPGRADE.md
@@ -56,6 +56,8 @@ Upgrade from Yii 2.0.45
 
 * Changes in `Inflector::camel2words()` introduced in 2.0.45 were reverted so it works as in pre-2.0.45. If you need
   2.0.45 behavior, [introduce your own method](https://github.com/yiisoft/yii2/pull/19495/files).
+* `yii\log\FileTarget::$rotateByCopy` is now deprecated and setting it to `false` has no effect since rotating of 
+  the files is done only by copy.
 
 Upgrade from Yii 2.0.44
 -----------------------
diff --git a/framework/log/FileTarget.php b/framework/log/FileTarget.php
index 3a962a1e3..05ad09430 100644
--- a/framework/log/FileTarget.php
+++ b/framework/log/FileTarget.php
@@ -20,6 +20,9 @@ use yii\helpers\FileHelper;
  * files are moved backwards by one place, i.e., '.2' to '.3', '.1' to '.2', and so on.
  * The property [[maxLogFiles]] specifies how many history files to keep.
  *
+ * Since 2.0.46 rotation of the files is done only by copy and the
+ * `rotateByCopy` property is deprecated.
+ *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
@@ -60,7 +63,7 @@ class FileTarget extends Target
     public $dirMode = 0775;
     /**
      * @var bool Whether to rotate log files by copy and truncate in contrast to rotation by
-     * renaming files. Defaults to `true` to be more compatible with log tailers and is windows
+     * renaming files. Defaults to `true` to be more compatible with log tailers and windows
      * systems which do not play well with rename on open files. Rotation by renaming however is
      * a bit faster.
      *
@@ -68,7 +71,9 @@ class FileTarget extends Target
      * function does not work with files that are opened by some process is described in a
      * [comment by Martin Pelletier](https://www.php.net/manual/en/function.rename.php#102274) in
      * the PHP documentation. By setting rotateByCopy to `true` you can work
-     * around this problem.
+     * around this.
+     * @deprecated since 2.0.46 and setting it to false has no effect anymore
+     * since rotating is now always done by copy.
      */
     public $rotateByCopy = true;
 
@@ -117,31 +122,21 @@ class FileTarget extends Target
             clearstatcache();
         }
         if ($this->enableRotation && @filesize($this->logFile) > $this->maxFileSize * 1024) {
-            @flock($fp, LOCK_UN);
-            @fclose($fp);
             $this->rotateFiles();
-            $writeResult = @file_put_contents($this->logFile, $text, FILE_APPEND | LOCK_EX);
-            if ($writeResult === false) {
-                $error = error_get_last();
-                throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
-            }
-            $textSize = strlen($text);
-            if ($writeResult < $textSize) {
-                throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
-            }
-        } else {
-            $writeResult = @fwrite($fp, $text);
-            if ($writeResult === false) {
-                $error = error_get_last();
-                throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
-            }
-            $textSize = strlen($text);
-            if ($writeResult < $textSize) {
-                throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
-            }
-            @flock($fp, LOCK_UN);
-            @fclose($fp);
         }
+        $writeResult = @fwrite($fp, $text);
+        if ($writeResult === false) {
+            $error = error_get_last();
+            throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
+        }
+        $textSize = strlen($text);
+        if ($writeResult < $textSize) {
+            throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
+        }
+        @fflush($fp);
+        @flock($fp, LOCK_UN);
+        @fclose($fp);
+
         if ($this->fileMode !== null) {
             @chmod($this->logFile, $this->fileMode);
         }
@@ -163,7 +158,7 @@ class FileTarget extends Target
                     continue;
                 }
                 $newFile = $this->logFile . '.' . ($i + 1);
-                $this->rotateByCopy ? $this->rotateByCopy($rotateFile, $newFile) : $this->rotateByRename($rotateFile, $newFile);
+                $this->rotateByCopy($rotateFile, $newFile);
                 if ($i === 0) {
                     $this->clearLogFile($rotateFile);
                 }
@@ -195,14 +190,4 @@ class FileTarget extends Target
             @chmod($newFile, $this->fileMode);
         }
     }
-
-    /**
-     * Renames rotated file into new file
-     * @param string $rotateFile
-     * @param string $newFile
-     */
-    private function rotateByRename($rotateFile, $newFile)
-    {
-        @rename($rotateFile, $newFile);
-    }
 }
diff --git a/tests/framework/log/FileTargetTest.php b/tests/framework/log/FileTargetTest.php
index 88e623f1c..217a94af0 100644
--- a/tests/framework/log/FileTargetTest.php
+++ b/tests/framework/log/FileTargetTest.php
@@ -25,14 +25,6 @@ class FileTargetTest extends TestCase
         $this->mockApplication();
     }
 
-    public function booleanDataProvider()
-    {
-        return [
-            [true],
-            [false],
-        ];
-    }
-
     /**
      * Tests that log directory isn't created during init process
      * @see https://github.com/yiisoft/yii2/issues/15662
@@ -50,11 +42,7 @@ class FileTargetTest extends TestCase
         );
     }
 
-    /**
-     * @dataProvider booleanDataProvider
-     * @param bool $rotateByCopy
-     */
-    public function testRotate($rotateByCopy)
+    public function testRotate()
     {
         $logFile = Yii::getAlias('@yiiunit/runtime/log/filetargettest.log');
         FileHelper::removeDirectory(dirname($logFile));
@@ -71,7 +59,6 @@ class FileTargetTest extends TestCase
                     'maxFileSize' => 1024, // 1 MB
                     'maxLogFiles' => 1, // one file for rotation and one normal log file
                     'logVars' => [],
-                    'rotateByCopy' => $rotateByCopy,
                 ],
             ],
         ]);
