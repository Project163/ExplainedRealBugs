diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index bde17027b..25b5d7524 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -31,6 +31,7 @@ Yii Framework 2 Change Log
 - Enh #12748: Migration generator now tries to fetch reference column name for foreignKey from schema if it's not set explicitly (MKiselev)
 - Bug #4113: Error page stacktrace was generating links to private methods which are not part of the API docs (samdark)
 - Enh #12901: Added `getDefaultHelpHeader` method to the `yii\console\controllers\HelpController` class to be able to override default help header in a class heir (diezztsk)
+- Bug #12904: Fixed lowercase table name in migrations (zlakomanoff)
 
 2.0.10 October 20, 2016
 -----------------------
diff --git a/framework/console/controllers/MigrateController.php b/framework/console/controllers/MigrateController.php
index 77a8cf84c..71304588e 100644
--- a/framework/console/controllers/MigrateController.php
+++ b/framework/console/controllers/MigrateController.php
@@ -269,8 +269,8 @@ class MigrateController extends BaseMigrateController
         $table = null;
         if (preg_match('/^create_junction(?:_table_for_|_for_|_)(.+)_and_(.+)_tables?$/', $name, $matches)) {
             $templateFile = $this->generatorTemplateFiles['create_junction'];
-            $firstTable = mb_strtolower($matches[1], Yii::$app->charset);
-            $secondTable = mb_strtolower($matches[2], Yii::$app->charset);
+            $firstTable = $matches[1];
+            $secondTable = $matches[2];
 
             $fields = array_merge(
                 [
@@ -300,18 +300,18 @@ class MigrateController extends BaseMigrateController
             $table = $firstTable . '_' . $secondTable;
         } elseif (preg_match('/^add_(.+)_columns?_to_(.+)_table$/', $name, $matches)) {
             $templateFile = $this->generatorTemplateFiles['add_column'];
-            $table = mb_strtolower($matches[2], Yii::$app->charset);
+            $table = $matches[2];
         } elseif (preg_match('/^drop_(.+)_columns?_from_(.+)_table$/', $name, $matches)) {
             $templateFile = $this->generatorTemplateFiles['drop_column'];
-            $table = mb_strtolower($matches[2], Yii::$app->charset);
+            $table = $matches[2];
         } elseif (preg_match('/^create_(.+)_table$/', $name, $matches)) {
             $this->addDefaultPrimaryKey($fields);
             $templateFile = $this->generatorTemplateFiles['create_table'];
-            $table = mb_strtolower($matches[1], Yii::$app->charset);
+            $table = $matches[1];
         } elseif (preg_match('/^drop_(.+)_table$/', $name, $matches)) {
             $this->addDefaultPrimaryKey($fields);
             $templateFile = $this->generatorTemplateFiles['drop_table'];
-            $table = mb_strtolower($matches[1], Yii::$app->charset);
+            $table = $matches[1];
         }
 
         foreach ($foreignKeys as $column => $foreignKey) {
diff --git a/tests/data/console/migrate_create/add_columns_fk.php b/tests/data/console/migrate_create/add_columns_fk.php
index 7da3034fb..2faf68ce0 100644
--- a/tests/data/console/migrate_create/add_columns_fk.php
+++ b/tests/data/console/migrate_create/add_columns_fk.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles adding columns to table `test`.
+ * Handles adding columns to table `{table}`.
  * Has foreign keys to the tables:
  *
  * - `user`
@@ -20,22 +20,22 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->addColumn('test', 'user_id', \$this->integer());
-        \$this->addColumn('test', 'product_id', \$this->integer()->unsigned()->notNull());
-        \$this->addColumn('test', 'order_id', \$this->integer()->notNull());
-        \$this->addColumn('test', 'created_at', \$this->dateTime()->notNull());
+        \$this->addColumn('{table}', 'user_id', \$this->integer());
+        \$this->addColumn('{table}', 'product_id', \$this->integer()->unsigned()->notNull());
+        \$this->addColumn('{table}', 'order_id', \$this->integer()->notNull());
+        \$this->addColumn('{table}', 'created_at', \$this->dateTime()->notNull());
 
         // creates index for column `user_id`
         \$this->createIndex(
-            'idx-test-user_id',
-            'test',
+            'idx-{table}-user_id',
+            '{table}',
             'user_id'
         );
 
         // add foreign key for table `user`
         \$this->addForeignKey(
-            'fk-test-user_id',
-            'test',
+            'fk-{table}-user_id',
+            '{table}',
             'user_id',
             'user',
             'id',
@@ -44,15 +44,15 @@ class {$class} extends Migration
 
         // creates index for column `product_id`
         \$this->createIndex(
-            'idx-test-product_id',
-            'test',
+            'idx-{table}-product_id',
+            '{table}',
             'product_id'
         );
 
         // add foreign key for table `product`
         \$this->addForeignKey(
-            'fk-test-product_id',
-            'test',
+            'fk-{table}-product_id',
+            '{table}',
             'product_id',
             'product',
             'id',
@@ -61,15 +61,15 @@ class {$class} extends Migration
 
         // creates index for column `order_id`
         \$this->createIndex(
-            'idx-test-order_id',
-            'test',
+            'idx-{table}-order_id',
+            '{table}',
             'order_id'
         );
 
         // add foreign key for table `user_order`
         \$this->addForeignKey(
-            'fk-test-order_id',
-            'test',
+            'fk-{table}-order_id',
+            '{table}',
             'order_id',
             'user_order',
             'id',
@@ -84,44 +84,44 @@ class {$class} extends Migration
     {
         // drops foreign key for table `user`
         \$this->dropForeignKey(
-            'fk-test-user_id',
-            'test'
+            'fk-{table}-user_id',
+            '{table}'
         );
 
         // drops index for column `user_id`
         \$this->dropIndex(
-            'idx-test-user_id',
-            'test'
+            'idx-{table}-user_id',
+            '{table}'
         );
 
         // drops foreign key for table `product`
         \$this->dropForeignKey(
-            'fk-test-product_id',
-            'test'
+            'fk-{table}-product_id',
+            '{table}'
         );
 
         // drops index for column `product_id`
         \$this->dropIndex(
-            'idx-test-product_id',
-            'test'
+            'idx-{table}-product_id',
+            '{table}'
         );
 
         // drops foreign key for table `user_order`
         \$this->dropForeignKey(
-            'fk-test-order_id',
-            'test'
+            'fk-{table}-order_id',
+            '{table}'
         );
 
         // drops index for column `order_id`
         \$this->dropIndex(
-            'idx-test-order_id',
-            'test'
+            'idx-{table}-order_id',
+            '{table}'
         );
 
-        \$this->dropColumn('test', 'user_id');
-        \$this->dropColumn('test', 'product_id');
-        \$this->dropColumn('test', 'order_id');
-        \$this->dropColumn('test', 'created_at');
+        \$this->dropColumn('{table}', 'user_id');
+        \$this->dropColumn('{table}', 'product_id');
+        \$this->dropColumn('{table}', 'order_id');
+        \$this->dropColumn('{table}', 'created_at');
     }
 }
 
diff --git a/tests/data/console/migrate_create/add_columns_prefix.php b/tests/data/console/migrate_create/add_columns_prefix.php
index c9fb959be..3775fd95f 100644
--- a/tests/data/console/migrate_create/add_columns_prefix.php
+++ b/tests/data/console/migrate_create/add_columns_prefix.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles adding columns to table `{{%test}}`.
+ * Handles adding columns to table `{{%{table}}}`.
  * Has foreign keys to the tables:
  *
  * - `{{%user}}`
@@ -20,22 +20,22 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->addColumn('{{%test}}', 'user_id', \$this->integer());
-        \$this->addColumn('{{%test}}', 'product_id', \$this->integer()->unsigned()->notNull());
-        \$this->addColumn('{{%test}}', 'order_id', \$this->integer()->notNull());
-        \$this->addColumn('{{%test}}', 'created_at', \$this->dateTime()->notNull());
+        \$this->addColumn('{{%{table}}}', 'user_id', \$this->integer());
+        \$this->addColumn('{{%{table}}}', 'product_id', \$this->integer()->unsigned()->notNull());
+        \$this->addColumn('{{%{table}}}', 'order_id', \$this->integer()->notNull());
+        \$this->addColumn('{{%{table}}}', 'created_at', \$this->dateTime()->notNull());
 
         // creates index for column `user_id`
         \$this->createIndex(
-            '{{%idx-test-user_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-user_id}}',
+            '{{%{table}}}',
             'user_id'
         );
 
         // add foreign key for table `{{%user}}`
         \$this->addForeignKey(
-            '{{%fk-test-user_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-user_id}}',
+            '{{%{table}}}',
             'user_id',
             '{{%user}}',
             'id',
@@ -44,15 +44,15 @@ class {$class} extends Migration
 
         // creates index for column `product_id`
         \$this->createIndex(
-            '{{%idx-test-product_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-product_id}}',
+            '{{%{table}}}',
             'product_id'
         );
 
         // add foreign key for table `{{%product}}`
         \$this->addForeignKey(
-            '{{%fk-test-product_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-product_id}}',
+            '{{%{table}}}',
             'product_id',
             '{{%product}}',
             'id',
@@ -61,15 +61,15 @@ class {$class} extends Migration
 
         // creates index for column `order_id`
         \$this->createIndex(
-            '{{%idx-test-order_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-order_id}}',
+            '{{%{table}}}',
             'order_id'
         );
 
         // add foreign key for table `{{%user_order}}`
         \$this->addForeignKey(
-            '{{%fk-test-order_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-order_id}}',
+            '{{%{table}}}',
             'order_id',
             '{{%user_order}}',
             'id',
@@ -84,44 +84,44 @@ class {$class} extends Migration
     {
         // drops foreign key for table `{{%user}}`
         \$this->dropForeignKey(
-            '{{%fk-test-user_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-user_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `user_id`
         \$this->dropIndex(
-            '{{%idx-test-user_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-user_id}}',
+            '{{%{table}}}'
         );
 
         // drops foreign key for table `{{%product}}`
         \$this->dropForeignKey(
-            '{{%fk-test-product_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-product_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `product_id`
         \$this->dropIndex(
-            '{{%idx-test-product_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-product_id}}',
+            '{{%{table}}}'
         );
 
         // drops foreign key for table `{{%user_order}}`
         \$this->dropForeignKey(
-            '{{%fk-test-order_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-order_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `order_id`
         \$this->dropIndex(
-            '{{%idx-test-order_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-order_id}}',
+            '{{%{table}}}'
         );
 
-        \$this->dropColumn('{{%test}}', 'user_id');
-        \$this->dropColumn('{{%test}}', 'product_id');
-        \$this->dropColumn('{{%test}}', 'order_id');
-        \$this->dropColumn('{{%test}}', 'created_at');
+        \$this->dropColumn('{{%{table}}}', 'user_id');
+        \$this->dropColumn('{{%{table}}}', 'product_id');
+        \$this->dropColumn('{{%{table}}}', 'order_id');
+        \$this->dropColumn('{{%{table}}}', 'created_at');
     }
 }
 
diff --git a/tests/data/console/migrate_create/add_columns_test.php b/tests/data/console/migrate_create/add_columns_test.php
index 147e10d8d..595ee131a 100644
--- a/tests/data/console/migrate_create/add_columns_test.php
+++ b/tests/data/console/migrate_create/add_columns_test.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles adding columns to table `test`.
+ * Handles adding columns to table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,10 +15,10 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->addColumn('test', 'title', \$this->string(10)->notNull());
-        \$this->addColumn('test', 'body', \$this->text()->notNull());
-        \$this->addColumn('test', 'price', \$this->money(11,2)->notNull());
-        \$this->addColumn('test', 'created_at', \$this->dateTime());
+        \$this->addColumn('{table}', 'title', \$this->string(10)->notNull());
+        \$this->addColumn('{table}', 'body', \$this->text()->notNull());
+        \$this->addColumn('{table}', 'price', \$this->money(11,2)->notNull());
+        \$this->addColumn('{table}', 'created_at', \$this->dateTime());
     }
 
     /**
@@ -26,10 +26,10 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropColumn('test', 'title');
-        \$this->dropColumn('test', 'body');
-        \$this->dropColumn('test', 'price');
-        \$this->dropColumn('test', 'created_at');
+        \$this->dropColumn('{table}', 'title');
+        \$this->dropColumn('{table}', 'body');
+        \$this->dropColumn('{table}', 'price');
+        \$this->dropColumn('{table}', 'created_at');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_fields.php b/tests/data/console/migrate_create/create_fields.php
index 6efa125e9..c22bd5d50 100644
--- a/tests/data/console/migrate_create/create_fields.php
+++ b/tests/data/console/migrate_create/create_fields.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `test`.
+ * Handles the creation of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
             'title' => \$this->string(10)->notNull()->unique()->defaultValue("test"),
             'body' => \$this->text()->notNull(),
@@ -29,7 +29,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_foreign_key.php b/tests/data/console/migrate_create/create_foreign_key.php
index 4c414cb8f..ad6a45b8b 100644
--- a/tests/data/console/migrate_create/create_foreign_key.php
+++ b/tests/data/console/migrate_create/create_foreign_key.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `test`.
+ * Handles the creation of table `{table}`.
  * Has foreign keys to the tables:
  *
  * - `user`
@@ -20,7 +20,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
             'user_id' => \$this->integer(),
             'product_id' => \$this->integer()->unsigned()->notNull(),
@@ -30,15 +30,15 @@ class {$class} extends Migration
 
         // creates index for column `user_id`
         \$this->createIndex(
-            'idx-test-user_id',
-            'test',
+            'idx-{table}-user_id',
+            '{table}',
             'user_id'
         );
 
         // add foreign key for table `user`
         \$this->addForeignKey(
-            'fk-test-user_id',
-            'test',
+            'fk-{table}-user_id',
+            '{table}',
             'user_id',
             'user',
             'id',
@@ -47,15 +47,15 @@ class {$class} extends Migration
 
         // creates index for column `product_id`
         \$this->createIndex(
-            'idx-test-product_id',
-            'test',
+            'idx-{table}-product_id',
+            '{table}',
             'product_id'
         );
 
         // add foreign key for table `product`
         \$this->addForeignKey(
-            'fk-test-product_id',
-            'test',
+            'fk-{table}-product_id',
+            '{table}',
             'product_id',
             'product',
             'id',
@@ -64,15 +64,15 @@ class {$class} extends Migration
 
         // creates index for column `order_id`
         \$this->createIndex(
-            'idx-test-order_id',
-            'test',
+            'idx-{table}-order_id',
+            '{table}',
             'order_id'
         );
 
         // add foreign key for table `user_order`
         \$this->addForeignKey(
-            'fk-test-order_id',
-            'test',
+            'fk-{table}-order_id',
+            '{table}',
             'order_id',
             'user_order',
             'id',
@@ -87,41 +87,41 @@ class {$class} extends Migration
     {
         // drops foreign key for table `user`
         \$this->dropForeignKey(
-            'fk-test-user_id',
-            'test'
+            'fk-{table}-user_id',
+            '{table}'
         );
 
         // drops index for column `user_id`
         \$this->dropIndex(
-            'idx-test-user_id',
-            'test'
+            'idx-{table}-user_id',
+            '{table}'
         );
 
         // drops foreign key for table `product`
         \$this->dropForeignKey(
-            'fk-test-product_id',
-            'test'
+            'fk-{table}-product_id',
+            '{table}'
         );
 
         // drops index for column `product_id`
         \$this->dropIndex(
-            'idx-test-product_id',
-            'test'
+            'idx-{table}-product_id',
+            '{table}'
         );
 
         // drops foreign key for table `user_order`
         \$this->dropForeignKey(
-            'fk-test-order_id',
-            'test'
+            'fk-{table}-order_id',
+            '{table}'
         );
 
         // drops index for column `order_id`
         \$this->dropIndex(
-            'idx-test-order_id',
-            'test'
+            'idx-{table}-order_id',
+            '{table}'
         );
 
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_id_pk.php b/tests/data/console/migrate_create/create_id_pk.php
index fa793d537..d60a6465f 100644
--- a/tests/data/console/migrate_create/create_id_pk.php
+++ b/tests/data/console/migrate_create/create_id_pk.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `test`.
+ * Handles the creation of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
             'address' => \$this->string(),
             'address2' => \$this->string(),
@@ -28,7 +28,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_prefix.php b/tests/data/console/migrate_create/create_prefix.php
index dd271fd31..16f0d089f 100644
--- a/tests/data/console/migrate_create/create_prefix.php
+++ b/tests/data/console/migrate_create/create_prefix.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `{{%test}}`.
+ * Handles the creation of table `{{%{table}}}`.
  * Has foreign keys to the tables:
  *
  * - `{{%user}}`
@@ -20,7 +20,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('{{%test}}', [
+        \$this->createTable('{{%{table}}}', [
             'id' => \$this->primaryKey(),
             'user_id' => \$this->integer(),
             'product_id' => \$this->integer()->unsigned()->notNull(),
@@ -30,15 +30,15 @@ class {$class} extends Migration
 
         // creates index for column `user_id`
         \$this->createIndex(
-            '{{%idx-test-user_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-user_id}}',
+            '{{%{table}}}',
             'user_id'
         );
 
         // add foreign key for table `{{%user}}`
         \$this->addForeignKey(
-            '{{%fk-test-user_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-user_id}}',
+            '{{%{table}}}',
             'user_id',
             '{{%user}}',
             'id',
@@ -47,15 +47,15 @@ class {$class} extends Migration
 
         // creates index for column `product_id`
         \$this->createIndex(
-            '{{%idx-test-product_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-product_id}}',
+            '{{%{table}}}',
             'product_id'
         );
 
         // add foreign key for table `{{%product}}`
         \$this->addForeignKey(
-            '{{%fk-test-product_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-product_id}}',
+            '{{%{table}}}',
             'product_id',
             '{{%product}}',
             'id',
@@ -64,15 +64,15 @@ class {$class} extends Migration
 
         // creates index for column `order_id`
         \$this->createIndex(
-            '{{%idx-test-order_id}}',
-            '{{%test}}',
+            '{{%idx-{table}-order_id}}',
+            '{{%{table}}}',
             'order_id'
         );
 
         // add foreign key for table `{{%user_order}}`
         \$this->addForeignKey(
-            '{{%fk-test-order_id}}',
-            '{{%test}}',
+            '{{%fk-{table}-order_id}}',
+            '{{%{table}}}',
             'order_id',
             '{{%user_order}}',
             'id',
@@ -87,41 +87,41 @@ class {$class} extends Migration
     {
         // drops foreign key for table `{{%user}}`
         \$this->dropForeignKey(
-            '{{%fk-test-user_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-user_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `user_id`
         \$this->dropIndex(
-            '{{%idx-test-user_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-user_id}}',
+            '{{%{table}}}'
         );
 
         // drops foreign key for table `{{%product}}`
         \$this->dropForeignKey(
-            '{{%fk-test-product_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-product_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `product_id`
         \$this->dropIndex(
-            '{{%idx-test-product_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-product_id}}',
+            '{{%{table}}}'
         );
 
         // drops foreign key for table `{{%user_order}}`
         \$this->dropForeignKey(
-            '{{%fk-test-order_id}}',
-            '{{%test}}'
+            '{{%fk-{table}-order_id}}',
+            '{{%{table}}}'
         );
 
         // drops index for column `order_id`
         \$this->dropIndex(
-            '{{%idx-test-order_id}}',
-            '{{%test}}'
+            '{{%idx-{table}-order_id}}',
+            '{{%{table}}}'
         );
 
-        \$this->dropTable('{{%test}}');
+        \$this->dropTable('{{%{table}}}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_products_from_store_table.php b/tests/data/console/migrate_create/create_products_from_store_table.php
index c83af2c79..beeffff00 100644
--- a/tests/data/console/migrate_create/create_products_from_store_table.php
+++ b/tests/data/console/migrate_create/create_products_from_store_table.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `products_from_store`.
+ * Handles the creation of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('products_from_store', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
         ]);
     }
@@ -25,7 +25,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropTable('products_from_store');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_test.php b/tests/data/console/migrate_create/create_test.php
index 7c9f13785..beeffff00 100644
--- a/tests/data/console/migrate_create/create_test.php
+++ b/tests/data/console/migrate_create/create_test.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `test`.
+ * Handles the creation of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
         ]);
     }
@@ -25,7 +25,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/create_title_pk.php b/tests/data/console/migrate_create/create_title_pk.php
index b94908b7a..668a9c760 100644
--- a/tests/data/console/migrate_create/create_title_pk.php
+++ b/tests/data/console/migrate_create/create_title_pk.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the creation of table `test`.
+ * Handles the creation of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'title' => \$this->primaryKey(),
             'body' => \$this->text()->notNull(),
             'price' => \$this->money(11,2),
@@ -27,7 +27,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 }
 
diff --git a/tests/data/console/migrate_create/drop_columns_test.php b/tests/data/console/migrate_create/drop_columns_test.php
index b20f78eee..86ed170cd 100644
--- a/tests/data/console/migrate_create/drop_columns_test.php
+++ b/tests/data/console/migrate_create/drop_columns_test.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles dropping columns from table `test`.
+ * Handles dropping columns from table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,10 +15,10 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->dropColumn('test', 'title');
-        \$this->dropColumn('test', 'body');
-        \$this->dropColumn('test', 'price');
-        \$this->dropColumn('test', 'created_at');
+        \$this->dropColumn('{table}', 'title');
+        \$this->dropColumn('{table}', 'body');
+        \$this->dropColumn('{table}', 'price');
+        \$this->dropColumn('{table}', 'created_at');
     }
 
     /**
@@ -26,10 +26,10 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->addColumn('test', 'title', \$this->string(10)->notNull());
-        \$this->addColumn('test', 'body', \$this->text()->notNull());
-        \$this->addColumn('test', 'price', \$this->money(11,2)->notNull());
-        \$this->addColumn('test', 'created_at', \$this->dateTime());
+        \$this->addColumn('{table}', 'title', \$this->string(10)->notNull());
+        \$this->addColumn('{table}', 'body', \$this->text()->notNull());
+        \$this->addColumn('{table}', 'price', \$this->money(11,2)->notNull());
+        \$this->addColumn('{table}', 'created_at', \$this->dateTime());
     }
 }
 
diff --git a/tests/data/console/migrate_create/drop_fields.php b/tests/data/console/migrate_create/drop_fields.php
index ffa106d8a..8cfdca6b1 100644
--- a/tests/data/console/migrate_create/drop_fields.php
+++ b/tests/data/console/migrate_create/drop_fields.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the dropping of table `test`.
+ * Handles the dropping of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 
     /**
@@ -23,7 +23,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
             'body' => \$this->text()->notNull(),
             'price' => \$this->money(11,2),
diff --git a/tests/data/console/migrate_create/drop_products_from_store_table.php b/tests/data/console/migrate_create/drop_products_from_store_table.php
index 87f5ed181..e83ff70cb 100644
--- a/tests/data/console/migrate_create/drop_products_from_store_table.php
+++ b/tests/data/console/migrate_create/drop_products_from_store_table.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the dropping of table `products_from_store`.
+ * Handles the dropping of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->dropTable('products_from_store');
+        \$this->dropTable('{table}');
     }
 
     /**
@@ -23,7 +23,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->createTable('products_from_store', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
         ]);
     }
diff --git a/tests/data/console/migrate_create/drop_test.php b/tests/data/console/migrate_create/drop_test.php
index 1462ae710..e83ff70cb 100644
--- a/tests/data/console/migrate_create/drop_test.php
+++ b/tests/data/console/migrate_create/drop_test.php
@@ -6,7 +6,7 @@ return <<<CODE
 use yii\db\Migration;
 
 /**
- * Handles the dropping of table `test`.
+ * Handles the dropping of table `{table}`.
  */
 class {$class} extends Migration
 {
@@ -15,7 +15,7 @@ class {$class} extends Migration
      */
     public function up()
     {
-        \$this->dropTable('test');
+        \$this->dropTable('{table}');
     }
 
     /**
@@ -23,7 +23,7 @@ class {$class} extends Migration
      */
     public function down()
     {
-        \$this->createTable('test', [
+        \$this->createTable('{table}', [
             'id' => \$this->primaryKey(),
         ]);
     }
diff --git a/tests/framework/console/controllers/MigrateControllerTest.php b/tests/framework/console/controllers/MigrateControllerTest.php
index fe772576e..1dbf4d4ae 100644
--- a/tests/framework/console/controllers/MigrateControllerTest.php
+++ b/tests/framework/console/controllers/MigrateControllerTest.php
@@ -51,63 +51,65 @@ class MigrateControllerTest extends TestCase
         return $query->from('migration')->all();
     }
 
-    protected function assertFileContent($expectedFile, $class)
+    public function assertFileContent($expectedFile, $class, $table)
     {
-        $this->assertEqualsWithoutLE(
-            include Yii::getAlias("@yiiunit/data/console/migrate_create/$expectedFile.php"),
-            $this->parseNameClassMigration($class)
-        );
+        $expected = include Yii::getAlias("@yiiunit/data/console/migrate_create/$expectedFile.php");
+        $expected = str_replace('{table}', $table, $expected);
+        $this->assertEqualsWithoutLE($expected, $this->parseNameClassMigration($class, $table));
     }
 
-    protected function assertCommandCreatedFile($expectedFile, $migrationName, $params = [])
+    protected function assertCommandCreatedFile($expectedFile, $migrationName, $table, $params = [])
     {
         $class = 'm' . gmdate('ymd_His') . '_' . $migrationName;
         $params[0] = $migrationName;
         $this->runMigrateControllerAction('create', $params);
-        $this->assertFileContent($expectedFile, $class);
+        $this->assertFileContent($expectedFile, $class, $table);
     }
 
     // Tests :
 
     public function testGenerateDefaultMigration()
     {
-        $this->assertCommandCreatedFile('default', 'DefaultTest');
+        $this->assertCommandCreatedFile('default', 'DefaultTest', 'default');
     }
 
     public function testGenerateCreateMigration()
     {
-        $migrationNames = [
-            'create_test_table',
+        $tables = [
+            'test',
+            'TEST',
         ];
-        foreach ($migrationNames as $migrationName) {
-            $this->assertCommandCreatedFile('create_test', $migrationName);
+        foreach ($tables as $table) {
+            $migrationName = 'create_' . $table . '_table';
 
-            $this->assertCommandCreatedFile('create_fields', $migrationName, [
+            $this->assertCommandCreatedFile('create_test', $migrationName, $table);
+
+            $this->assertCommandCreatedFile('create_fields', $migrationName, $table, [
                 'fields' => 'title:string(10):notNull:unique:defaultValue("test"),
                     body:text:notNull,
                     price:money(11,2):notNull,
                     parenthesis_in_comment:string(255):notNull:comment(\'Name of set (RU)\')'
             ]);
 
-            $this->assertCommandCreatedFile('create_title_pk', $migrationName, [
+            $this->assertCommandCreatedFile('create_title_pk', $migrationName, $table, [
                 'fields' => 'title:primaryKey,body:text:notNull,price:money(11,2)',
             ]);
 
-            $this->assertCommandCreatedFile('create_id_pk', $migrationName, [
+            $this->assertCommandCreatedFile('create_id_pk', $migrationName, $table, [
                 'fields' => 'id:primaryKey,
                     address:string,
                     address2:string,
                     email:string',
             ]);
 
-            $this->assertCommandCreatedFile('create_foreign_key', $migrationName, [
+            $this->assertCommandCreatedFile('create_foreign_key', $migrationName, $table, [
                 'fields' => 'user_id:integer:foreignKey,
                     product_id:foreignKey:integer:unsigned:notNull,
                     order_id:integer:foreignKey(user_order):notNull,
                     created_at:dateTime:notNull',
             ]);
 
-            $this->assertCommandCreatedFile('create_prefix', $migrationName, [
+            $this->assertCommandCreatedFile('create_prefix', $migrationName, $table, [
                 'useTablePrefix' => true,
                 'fields' => 'user_id:integer:foreignKey,
                     product_id:foreignKey:integer:unsigned:notNull,
@@ -117,10 +119,11 @@ class MigrateControllerTest extends TestCase
         }
 
         // @see https://github.com/yiisoft/yii2/issues/10876
-        $this->assertCommandCreatedFile('create_products_from_store_table', 'create_products_from_store_table');
-
+        foreach (['products_from_store', 'products_FROM_store'] as $table) {
+            $this->assertCommandCreatedFile('drop_products_from_store_table', 'drop_' . $table . '_table', $table);
+        }
         // @see https://github.com/yiisoft/yii2/issues/11461
-        $this->assertCommandCreatedFile('create_title_with_comma_default_values', 'create_test_table', [
+        $this->assertCommandCreatedFile('create_title_with_comma_default_values', 'create_test_table', 'test',  [
             'fields' => 'title:string(10):notNull:unique:defaultValue(",te,st"),
              body:text:notNull:defaultValue(",test"),
              test:custom(11,2,"s"):notNull',
@@ -129,43 +132,50 @@ class MigrateControllerTest extends TestCase
 
     public function testGenerateDropMigration()
     {
-        $migrationNames = [
-            'drop_test_table',
+        $tables = [
+            'test',
+            'TEST',
         ];
-        foreach ($migrationNames as $migrationName) {
-            $this->assertCommandCreatedFile('drop_test', $migrationName);
+        foreach ($tables as $table) {
+            $migrationName = 'drop_' . $table . '_table';
+
+            $this->assertCommandCreatedFile('drop_test', $migrationName, $table);
 
-            $this->assertCommandCreatedFile('drop_fields', $migrationName, [
+            $this->assertCommandCreatedFile('drop_fields', $migrationName, $table, [
                 'fields' => 'body:text:notNull,price:money(11,2)'
             ]);
         }
 
         // @see https://github.com/yiisoft/yii2/issues/10876
-        $this->assertCommandCreatedFile('drop_products_from_store_table', 'drop_products_from_store_table');
+        foreach (['products_from_store', 'products_FROM_store'] as $table) {
+            $this->assertCommandCreatedFile('drop_products_from_store_table', 'drop_' . $table . '_table', $table);
+        }
     }
 
     public function testGenerateAddColumnMigration()
     {
-        $migrationNames = [
-            'add_columns_column_to_test_table',
-            'add_columns_columns_to_test_table',
+        $tables = [
+            'test',
+            'TEST',
         ];
-        foreach ($migrationNames as $migrationName) {
-            $this->assertCommandCreatedFile('add_columns_test', $migrationName, [
+        foreach ($tables as $table) {
+            $migrationName = 'add_columns_column_to_' . $table . '_table';
+
+            $this->assertCommandCreatedFile('add_columns_test', $migrationName, $table, [
                 'fields' => 'title:string(10):notNull,
                     body:text:notNull,
                     price:money(11,2):notNull,
                     created_at:dateTime'
             ]);
 
-            $this->assertCommandCreatedFile('add_columns_fk', $migrationName, [
+            $this->assertCommandCreatedFile('add_columns_fk', $migrationName, $table, [
                 'fields' => 'user_id:integer:foreignKey,
                     product_id:foreignKey:integer:unsigned:notNull,
                     order_id:integer:foreignKey(user_order):notNull,
                     created_at:dateTime:notNull',
             ]);
 
-            $this->assertCommandCreatedFile('add_columns_prefix', $migrationName, [
+            $this->assertCommandCreatedFile('add_columns_prefix', $migrationName, $table, [
                 'useTablePrefix' => true,
                 'fields' => 'user_id:integer:foreignKey,
                     product_id:foreignKey:integer:unsigned:notNull,
@@ -177,16 +187,22 @@ class MigrateControllerTest extends TestCase
 
     public function testGenerateDropColumnMigration()
     {
-        $migrationNames = [
-            'drop_columns_column_from_test_table',
-            'drop_columns_columns_from_test_table',
+        $tables = [
+            'test',
+            'TEST',
         ];
-        foreach ($migrationNames as $migrationName) {
-            $this->assertCommandCreatedFile('drop_columns_test', $migrationName, [
-                'fields' => 'title:string(10):notNull,body:text:notNull,
+        foreach ($tables as $table) {
+            $migrationNames = [
+                'drop_columns_column_from_' . $table . '_table',
+                'drop_columns_columns_from_' . $table . '_table',
+            ];
+            foreach ($migrationNames as $migrationName) {
+                $this->assertCommandCreatedFile('drop_columns_test', $migrationName, $table, [
+                    'fields' => 'title:string(10):notNull,body:text:notNull,
                     price:money(11,2):notNull,
                     created_at:dateTime'
-            ]);
+                ]);
+            }
         }
     }
 
@@ -199,7 +215,7 @@ class MigrateControllerTest extends TestCase
             'create_junction_table_for_post_and_tag_table',
         ];
         foreach ($migrationNames as $migrationName) {
-            $this->assertCommandCreatedFile('junction_test', $migrationName);
+            $this->assertCommandCreatedFile('junction_test', $migrationName, 'post_tag');
         }
     }
 }
\ No newline at end of file
