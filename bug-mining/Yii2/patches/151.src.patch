diff --git a/docs/guide-ru/db-migrations.md b/docs/guide-ru/db-migrations.md
index 755be4f80..f6c994188 100644
--- a/docs/guide-ru/db-migrations.md
+++ b/docs/guide-ru/db-migrations.md
@@ -39,7 +39,7 @@ Yii предоставляет набор инструментов для миг
 yii migrate/create <name>
 ```
 
-Требуемый аргумент `name` даёт краткое описание новой миграции. Например, если миграция о создании новой таблицы с именем *news*, Вы можете использовать имя `create_news_table` и выполнить следующую команду:
+Требуемый аргумент `name` даёт краткое описание новой миграции. Например, если миграция о создании новой таблицы с именем *news*, вы можете использовать имя `create_news_table` и выполнить следующую команду:
 
 ```
 yii migrate/create create_news_table
@@ -86,7 +86,7 @@ class m150101_185401_create_news_table extends Migration
 * `<YYMMDD_HHMMSS>` относится к UTC дате-времени при котором команда создания миграции была выполнена.
 * `<Name>` это тоже самое значение аргумента `name` которое вы прописываете в команду.
 
-В классе миграции, Вы должны прописать код в методе `up()` когда делаете изменения в структуре базы данных. 
+В классе миграции, вы должны прописать код в методе `up()` когда делаете изменения в структуре базы данных.
 Вы также можете написать код в методе `down()`, чтобы отменить сделанные `up()` изменения. Метод `up` вызывается для обновления базы данных с помощью данной миграции, а метод `down()` вызывается для отката изменений базы данных.
 Следующий код показывает как можно реализовать класс миграции, чтобы создать таблицу `news`:
 
@@ -167,7 +167,7 @@ class m150101_185401_create_news_table extends Migration
 
 ```php
 yii migrate/create create_post_table
-``` 
+```
 
 сгенерирует
 
@@ -189,10 +189,10 @@ class m150811_220037_create_post_table extends Migration
 ```
 
 Чтобы сразу создать поля таблицы, укажите их через опцию `--fields`.
- 
+
 ```php
 yii migrate/create create_post_table --fields=title:string,body:text
-``` 
+```
 
 сгенерирует
 
@@ -219,7 +219,7 @@ class m150811_220037_create_post_table extends Migration
 
 ```php
 yii migrate/create create_post_table --fields=title:string(12):notNull:unique,body:text
-``` 
+```
 
 сгенерирует
 
@@ -245,12 +245,131 @@ class m150811_220037_create_post_table extends Migration
 > Note: первичный ключ добавляется автоматически и по умолчанию называется `id`. Если вам необходимо другое имя,
 > указать его можно через опцию `--fields=name:primaryKey`.
 
+### Внешние ключи
+
+Начиная с версии 2.0.8, генератор поддерживает создание внешних ключей через ключевое слово `foreignKey`.
+
+```php
+yii migrate/create create_post_table --fields="author_id:integer:notNull:foreignKey(user),category_id:integer:defaultValue(1):foreignKey,title:string,body:text"
+```
+
+сгенерирует
+
+```php
+/**
+ * Handles the creation for table `post`.
+ * Has foreign keys to the tables:
+ *
+ * - `user`
+ * - `category`
+ */
+class m160328_040430_create_post_table extends Migration
+{
+    /**
+     * @inheritdoc
+     */
+    public function up()
+    {
+        $this->createTable('post', [
+            'id' => $this->primaryKey(),
+            'author_id' => $this->integer()->notNull(),
+            'category_id' => $this->integer()->defaultValue(1),
+            'title' => $this->string(),
+            'body' => $this->text(),
+        ]);
+
+        // creates index for column `author_id`
+        $this->createIndex(
+            'idx-post-author_id',
+            'post',
+            'author_id'
+        );
+
+        // add foreign key for table `user`
+        $this->addForeignKey(
+            'fk-post-author_id',
+            'post',
+            'author_id',
+            'user',
+            'id',
+            'CASCADE'
+        );
+
+        // creates index for column `category_id`
+        $this->createIndex(
+            'idx-post-category_id',
+            'post',
+            'category_id'
+        );
+
+        // add foreign key for table `category`
+        $this->addForeignKey(
+            'fk-post-category_id',
+            'post',
+            'category_id',
+            'category',
+            'id',
+            'CASCADE'
+        );
+    }
+
+    /**
+     * @inheritdoc
+     */
+    public function down()
+    {
+        // drops foreign key for table `user`
+        $this->dropForeignKey(
+            'fk-post-author_id',
+            'post'
+        );
+
+        // drops index for column `author_id`
+        $this->dropIndex(
+            'idx-post-author_id',
+            'post'
+        );
+
+        // drops foreign key for table `category`
+        $this->dropForeignKey(
+            'fk-post-category_id',
+            'post'
+        );
+
+        // drops index for column `category_id`
+        $this->dropIndex(
+            'idx-post-category_id',
+            'post'
+        );
+
+        $this->dropTable('post');
+    }
+}
+```
+
+Положение ключевого слова `foreignKey` в описании поля не изменяет сгенерированный код. Это значит, что:
+
+- `author_id:integer:notNull:foreignKey(user)`
+- `author_id:integer:foreignKey(user):notNull`
+- `author_id:foreignKey(user):integer:notNull`
+
+Генерируют один и тот же код.
+
+Ключевое слово `foreignKey` может принимать в скобках параметр, который будет использован в качестве имени таблицы для внешнего ключа. Если параметр не был передан, то имя таблицы будет извлечено из названия поля.
+
+В приведенном выше примере `author_id:integer:notNull:foreignKey(user)` будет генерировать поле `author_id` с внешним ключом на таблицу `user`, а `category_id:integer:defaultValue(1):foreignKey` сгенерирует поле `author_id` с внешним ключом на таблицу `category`.
+
+Начиная с версии 2.0.11, ключевое слово `foreignKey` может принимать второй параметр, который следует указывать через пробел.
+Этот параметр будет использован в качестве имени поля внешнего ключа.
+В случае, если второй параметр не будет передан, то поле для внешнего ключа будет извлечено из схемы таблицы.
+Тем не менее, это справедливо только в тех случаях, когда таблица имеется в базе данных, первичный ключ задан и не является составным.
+В иных случаях будет использоваться имя по умолчанию `id`.
 
 ### Удаление таблицы
 
 ```php
 yii migrate/create drop_post_table --fields=title:string(12):notNull:unique,body:text
-``` 
+```
 
 сгенерирует
 
@@ -336,30 +455,99 @@ yii migrate/create create_junction_table_for_post_and_tag_tables
 сгенерирует
 
 ```php
-class m150811_220037_create_junction_post_and_tag extends Migration
+/**
+ * Handles the creation for table `post_tag`.
+ * Has foreign keys to the tables:
+ *
+ * - `post`
+ * - `tag`
+ */
+class m160328_041642_create_junction_table_for_post_and_tag_tables extends Migration
 {
+    /**
+     * @inheritdoc
+     */
     public function up()
     {
         $this->createTable('post_tag', [
             'post_id' => $this->integer(),
             'tag_id' => $this->integer(),
-            'PRIMARY KEY(post_id, tag_id)'
+            'created_at' => $this->dateTime(),
+            'PRIMARY KEY(post_id, tag_id)',
         ]);
 
-        $this->createIndex('idx-post_tag-post_id', 'post_tag', 'post_id');
-        $this->createIndex('idx-post_tag-tag_id', 'post_tag', 'tag_id');
-
-        $this->addForeignKey('fk-post_tag-post_id', 'post_tag', 'post_id', 'post', 'id', 'CASCADE');
-        $this->addForeignKey('fk-post_tag-tag_id', 'post_tag', 'tag_id', 'tag', 'id', 'CASCADE');
+        // creates index for column `post_id`
+        $this->createIndex(
+            'idx-post_tag-post_id',
+            'post_tag',
+            'post_id'
+        );
+
+        // add foreign key for table `post`
+        $this->addForeignKey(
+            'fk-post_tag-post_id',
+            'post_tag',
+            'post_id',
+            'post',
+            'id',
+            'CASCADE'
+        );
+
+        // creates index for column `tag_id`
+        $this->createIndex(
+            'idx-post_tag-tag_id',
+            'post_tag',
+            'tag_id'
+        );
+
+        // add foreign key for table `tag`
+        $this->addForeignKey(
+            'fk-post_tag-tag_id',
+            'post_tag',
+            'tag_id',
+            'tag',
+            'id',
+            'CASCADE'
+        );
     }
 
+    /**
+     * @inheritdoc
+     */
     public function down()
     {
+        // drops foreign key for table `post`
+        $this->dropForeignKey(
+            'fk-post_tag-post_id',
+            'post_tag'
+        );
+
+        // drops index for column `post_id`
+        $this->dropIndex(
+            'idx-post_tag-post_id',
+            'post_tag'
+        );
+
+        // drops foreign key for table `tag`
+        $this->dropForeignKey(
+            'fk-post_tag-tag_id',
+            'post_tag'
+        );
+
+        // drops index for column `tag_id`
+        $this->dropIndex(
+            'idx-post_tag-tag_id',
+            'post_tag'
+        );
+
         $this->dropTable('post_tag');
     }
 }
 ```
 
+Начиная с версии 2.0.11, имена полей для внешних ключей промежуточной таблицы будут извлечены из объединяемых таблиц.
+Тем не менее, это справедливо только в тех случаях, когда таблица имеется в базе данных, первичный ключ задан и не является составным.
+В других иных случаях для поля будет сгенерировано значение по умолчанию `id`.
 
 ### Транзакции Миграций <span id="transactional-migrations"></span>
 
@@ -445,13 +633,13 @@ class m150101_185401_create_news_table extends Migration
 
 ## Применение Миграций <span id="applying-migrations"></span>
 
-Для обновления базы данных до последней структуры, Вы должны применить все новые миграции, используя следующую команду:
+Для обновления базы данных до последней структуры, вы должны применить все новые миграции, используя следующую команду:
 
 ```
 yii migrate
 ```
 
-Эта команда выведет список всех миграций, которые не применялись до сих пор. Если Вы подтвердите, что Вы хотите применить эти миграций, то этим самым запустите метод `up()` или `safeUp()` в каждом новом классе миграции, один за другим, в порядке их временного значения timestamp.
+Эта команда выведет список всех миграций, которые не применялись до сих пор. Если вы подтвердите, что вы хотите применить эти миграций, то этим самым запустите метод `up()` или `safeUp()` в каждом новом классе миграции, один за другим, в порядке их временного значения timestamp.
 
 Для каждой миграции которая была успешно проведена, эта команда будет вставлять строку в таблицу базы данных с именем
 `migration` записав успешное проведение миграции. Это позволяет инструменту миграции выявлять какие миграции были применены, а какие - нет.
@@ -496,7 +684,7 @@ yii migrate/redo        # перезагрузить последнюю прим
 yii migrate/redo 3      # перезагрузить 3 последние применённые миграции
 ```
 
-> Note: Если миграция не является обратимой, Вы не сможете её перезагрузить.
+> Note: Если миграция не является обратимой, вы не сможете её перезагрузить.
 
 ## Список Миграций <span id="listing-migrations"></span>
 
@@ -565,7 +753,7 @@ yii migrate/mark 1392853618                         # используя вре
 * `fields`: массив конфигураций столбцов, который используется для генерации кода миграции. По умолчанию пуст. Формат
   каждой конфигурации `ИМЯ_СТОЛБЦА:ТИП_СТОЛБЦА:ДЕКОРАТОР_СТОЛБЦА`. Например, `--fields=name:string(12):notNull` даст нам
   столбец типа строка размера 12 с ограничением `not null`.
-  
+
 
 В следующем примере показано, как можно использовать эти параметры.
 
@@ -598,7 +786,7 @@ return [
 ## Миграции в Несколько Баз Данных <span id="migrating-multiple-databases"></span>
 
 По умолчанию, миграции применяются для базы данных, указанной в `db` [компоненте приложения](structure-application-components.md).
-Если Вы хотите применить миграцию к другой базе данных, Вы можете определить параметр `db` в командной строке как показано ниже,
+Если вы хотите применить миграцию к другой базе данных, вы можете определить параметр `db` в командной строке как показано ниже,
 
 ```
 yii migrate --db=db2
@@ -606,7 +794,7 @@ yii migrate --db=db2
 
 Приведенная выше команда применит миграции к базе данных `db2`.
 
-Иногда может случиться так, что Вы захотите применить *некоторые* из миграций к одной базе данных, а некоторые другие к другой базе данных. Для достижения этой цели, при реализации класса миграции, необходимо явно указать идентификатор ID компонента базы данных, который миграция будет использовать, следующим образом:
+Иногда может случиться так, что вы захотите применить *некоторые* из миграций к одной базе данных, а некоторые другие к другой базе данных. Для достижения этой цели, при реализации класса миграции, необходимо явно указать идентификатор ID компонента базы данных, который миграция будет использовать, следующим образом:
 
 ```php
 <?php
@@ -627,9 +815,9 @@ class m150101_185401_create_news_table extends Migration
 
 Если у вас есть несколько миграций, которые используют ту же другую базу данных, то рекомендуется создать базовый класс миграций выше кода `init()`. Затем каждый класс миграции может расширяться от этого базового класса.
 
-> Совет: Кроме установки свойства [[yii\db\Migration::db|db]], Вы также можете работать с разными базами данных путем создания нового соединения с конкретной базой данных в классе Вашей миграции. Можно использовать [DAO методы](db-dao.md) с этими соединениями для манипулирования различными базами данных.
+> Совет: Кроме установки свойства [[yii\db\Migration::db|db]], вы также можете работать с разными базами данных путем создания нового соединения с конкретной базой данных в классе Вашей миграции. Можно использовать [DAO методы](db-dao.md) с этими соединениями для манипулирования различными базами данных.
 
-Другая стратегия, которую Вы можете выбрать, чтобы перенести (мигрировать) несколько баз данных - это сохранить миграции различных баз данных в разные директории. Затем вы можете перенести эти базы данных в нужные базы следующими командами:
+Другая стратегия, которую вы можете выбрать, чтобы перенести (мигрировать) несколько баз данных - это сохранить миграции различных баз данных в разные директории. Затем вы можете перенести эти базы данных в нужные базы следующими командами:
 
 ```
 yii migrate --migrationPath=@app/migrations/db1 --db=db1
diff --git a/docs/guide/db-migrations.md b/docs/guide/db-migrations.md
index 8af5a7e4e..7453d4f74 100644
--- a/docs/guide/db-migrations.md
+++ b/docs/guide/db-migrations.md
@@ -419,6 +419,11 @@ column named `author_id` with a foreign key to the `user` table while
 `category_id:integer:defaultValue(1):foreignKey` will generate a column
 `category_id` with a foreign key to the `category` table.
 
+Since 2.0.11, `foreignKey` keyword accepts a second parameter, separated by whitespace.
+It accepts the name of the related column for the foreign key generated.
+If no second parameter is passed, the column name will be fetched from table schema.
+If no schema exists, primary key isn't set or is composite, default name `id` will be used.
+
 ### Drop Table
 
 ```php
@@ -602,6 +607,9 @@ class m160328_041642_create_junction_table_for_post_and_tag_tables extends Migra
 }
 ```
 
+Since 2.0.11 foreign key column names for junction tables are fetched from table schema.
+In case table isn't defined in schema, isn't set or is composite, default name `id` is used.
+
 ### Transactional Migrations <span id="transactional-migrations"></span>
 
 While performing complex DB migrations, it is important to ensure each migration to either succeed or fail as a whole
diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index f78276ec2..fc0ba0a44 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -1,7 +1,9 @@
 Yii Framework 2 Change Log
 ==========================
 
-2.0.11 under development
+-- Enh #12748: Added Migration tool automatic generation reference column for foreignKey (MKiselev)
+
+2.0.10 under development
 ------------------------
 
 - Bug #12791: Fixed `yii\behaviors\AttributeTypecastBehavior` unable to automatically detect `attributeTypes`, triggering PHP Fatal Error (klimov-paul)
@@ -18,19 +20,21 @@ Yii Framework 2 Change Log
 - Bug #9796: Initialization of not existing `yii\grid\ActionColumn` default buttons (arogachev)
 - Enh: Added constants for specifying `yii\validators\CompareValidator::$type` (cebe)
 
+- Enh #12790: Added `scrollToErrorOffset` option for `ActiveForm` which adds ability to specify offset in pixels when scrolling to error (mg-code)
+- Enh #12748: Migration generator now tries to fetch reference column name for foreignKey from schema if it's not set explicitly (MKiselev)
 
 2.0.10 October 20, 2016
 -----------------------
 
 - Bug #7670: Added `yii\web\UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)
+- Bug #10358: Fixed race condition in `yii.js` AJAX prefilter (silverfire)
 - Bug #7670: Added `UrlNormalizer` for normalizing requests with and without trailing slashes (rob006, cronfy, klimov-paul)
 - Bug #9027: Fixed descendant class of `yii\web\UploadedFile` returns parent instances in case invoked after it (andrewnester)
+- Bug #9101: Fixed `yii\web\View` to respect `yii\web\AssetManager::appendTimstamp` property (githubjeka, silverfire)
 - Bug #9277: Fixed `yii\console\controllers\AssetController` looses custom options of 'target' bundles (petrabarus, klimov-paul)
 - Bug #9561: Fixed `canGetProperty()` and `canSetProperty()` returns `false` for `yii\db\BaseActiveRecord` attributes (klimov-paul, Ni-san)
-- Bug #10358: Fixed race condition in `yii.js` AJAX prefilter (silverfire)
-- Bug #10563: Fixed forming `Content-Disposition` header for file downloads (samdark)
 - Bug #10567: Fixed `yii\console\controllers\AssetController` looses bundle override configuration, which makes it external one (klimov-paul)
-- Bug #10587: Latest used controller instance was not available in `Response::EVENT_AFTER_SEND` handler (samdark, andrewnester)
+- Bug #10563: Fixed forming `Content-Disposition` header for file downloads (samdark)
 - Bug #10681: Reverted fix of beforeValidate event calling in `yii.activeForm.js` (silverfire)
 - Bug #11347: Fixed `yii\widgets\Pjax::registerClientScript()` to pass custom `container` to the PJAX JS plugin (silverfire)
 - Bug #11352: Fixed `updateInputs()` method in `yii.activeForm.js` to prevent reading property of undefined (silverfire)
@@ -40,7 +44,6 @@ Yii Framework 2 Change Log
 - Bug #11726: `yii\web\DbSession` was echoing database errors in production mode (samdark, pastuhov, deadkrolik)
 - Bug #11907: Fixed `yii\helpers\Console::getScreenSize()` on Windows was giving out width and height swapped (Spell6inder, samdark, cebe)
 - Bug #11912: Fixed PostgreSQL Schema to support negative default values for integer/float/decimal columns (nsknewbie)
-- Bug #11921: Fixed URL decoding in `yii.getQueryParams()` to handle `+` (plus) character properly (silverfire)
 - Bug #11922: Fixed `yii\log\FileTarget` does not apply `fileMode` for rotated via copy files (klimov-paul)
 - Bug #11947: Fixed `gridData` initialization in `yii.gridView.js` (pavlm)
 - Bug #11949: Fixed `yii\widgets\ActiveField::end()` generates close tag when it's `option['tag']` is `null` (egorio)
@@ -70,6 +73,7 @@ Yii Framework 2 Change Log
 - Bug #12629: Fixed `yii\widgets\ActiveField::widget()` to call `adjustLabelFor()` for `InputWidget` descendants (coderlex)
 - Bug #12649: Fixed consistency of `indexBy` handling for `yii\db\Query::column()` (silverfire)
 - Bug #12828: Fixed handling of nested arrays, objects in `\yii\grid\GridView::guessColumns` (githubjeka)
+- Bug #11921: Fixed URL decoding in `yii.getQueryParams()` to handle `+` (plus) character properly (silverfire)
 - Enh #384: Added ability to run migration from several locations via `yii\console\controllers\BaseMigrateController::$migrationNamespaces` (klimov-paul)
 - Enh #6996: Added `yii\web\MultipartFormDataParser`, which allows proper processing of 'multipart/form-data' encoded non POST requests (klimov-paul)
 - Enh #8719: Add support for HTML5 attributes on submitbutton (formaction/formmethod...) for ActiveForm (VirtualRJ)
@@ -96,17 +100,17 @@ Yii Framework 2 Change Log
 - Enh #12082: Used `jQuery.on(` instead of event method to ensure forwards compatibility (newerton)
 - Enh #12099: `yii\filters\HttpCache` no longer returns 304 HTTP code when callbacks return null (sergeymakinen)
 - Enh #12193: Added the ability to suppress the generation of duplicate error messages in `yii\helpers\Html::errorSummary()`. Added the ability to display error messages beyond the first error for each model attribute (PowerGamer1)
-- Enh #12198: Added `time` and `datetime` validator short names (nkovacs)
 - Enh #12230: Allows BaseHtml::activeListInput to override the field value (RangelReale)
 - Enh #12296: Added value validation to `yii\log\Target::setLevels()` (Mak-Di)
 - Enh #12376: Added parameter to `yii.activeForm.js` `validate()` method to be able to force validation (DrDeath72)
 - Enh #12382: Changed `yii\widgets\MaskedInput` to use `jQuery` instead of `$` to prevent conflicts (samdark)
 - Enh #12440: Added `yii\base\Event::offAll()` method allowing clear all registered class-level event handlers (klimov-paul)
-- Enh #12499: When AJAX validation in enabled, `yii.activeForm.js` will run it forcefully on form submit to display all possible errors (silverfire)
 - Enh #12580: Make `yii.js` comply with strict and non-strict javascript mode to allow concatenation with external code (mikehaertl)
 - Enh #12664: Added support for wildcards for `optional` at `yii\filters\auth\AuthMethod` (mg-code)
 - Enh #12744: Added `afterInit` event to `yii.activeForm.js` (werew01f)
+- Enh #12499: When AJAX validation in enabled, `yii.activeForm.js` will run it forcefully on form submit to display all possible errors (silverfire)
 - Enh: Method `yii\console\controllers\AssetController::getAssetManager()` automatically enables `yii\web\AssetManager::forceCopy` in case it is not explicitly specified (pana1990, klimov-paul)
+- Enh #12198: Added `time` and `datetime` validator short names (nkovacs)
 
 
 2.0.9 July 11, 2016
diff --git a/framework/console/controllers/MigrateController.php b/framework/console/controllers/MigrateController.php
index 31898f947..b271818ff 100644
--- a/framework/console/controllers/MigrateController.php
+++ b/framework/console/controllers/MigrateController.php
@@ -293,8 +293,10 @@ class MigrateController extends BaseMigrateController
                 ]
             );
 
-            $foreignKeys[$firstTable . '_id'] = $firstTable;
-            $foreignKeys[$secondTable . '_id'] = $secondTable;
+            $foreignKeys[$firstTable . '_id']['table'] = $firstTable;
+            $foreignKeys[$secondTable . '_id']['table'] = $secondTable;
+            $foreignKeys[$firstTable . '_id']['column'] = null;
+            $foreignKeys[$secondTable . '_id']['column'] = null;
             $table = $firstTable . '_' . $secondTable;
         } elseif (preg_match('/^add_(.+)_columns?_to_(.+)_table$/', $name, $matches)) {
             $templateFile = $this->generatorTemplateFiles['add_column'];
@@ -312,11 +314,36 @@ class MigrateController extends BaseMigrateController
             $table = mb_strtolower($matches[1], Yii::$app->charset);
         }
 
-        foreach ($foreignKeys as $column => $relatedTable) {
+        foreach ($foreignKeys as $column => $foreignKey) {
+            $relatedColumn = $foreignKey['column'];
+            $relatedTable = $foreignKey['table'];
+            // Since 2.0.11 if related column name is not specified,
+            // we're trying to get it from table schema
+            // @see https://github.com/yiisoft/yii2/issues/12748
+            if ($relatedColumn === null) {
+                $relatedColumn = 'id';
+                try {
+                    $this->db = Instance::ensure($this->db, Connection::className());
+                    $relatedTableSchema = $this->db->getTableSchema($relatedTable);
+                    if ($relatedTableSchema !== null) {
+                        $primaryKeyCount = count($relatedTableSchema->primaryKey);
+                        if ($primaryKeyCount === 1) {
+                            $relatedColumn = $relatedTableSchema->primaryKey[0];
+                        } elseif ($primaryKeyCount > 1) {
+                            $this->stdout("Related table for field \"{$column}\" exists, but primary key is composite. Default name \"id\" will be used for related field\n", Console::FG_YELLOW);
+                        } elseif ($primaryKeyCount === 0) {
+                            $this->stdout("Related table for field \"{$column}\" exists, but does not have a primary key. Default name \"id\" will be used for related field.\n", Console::FG_YELLOW);
+                        }
+                    }
+                } catch (\ReflectionException $e) {
+                    $this->stdout("Cannot initialize database component to try reading referenced table schema for field \"{$column}\". Default name \"id\" will be used for related field.\n", Console::FG_YELLOW);
+                }
+            }
             $foreignKeys[$column] = [
                 'idx' => $this->generateTableName("idx-$table-$column"),
                 'fk' => $this->generateTableName("fk-$table-$column"),
                 'relatedTable' => $this->generateTableName($relatedTable),
+                'relatedColumn' => $relatedColumn,
             ];
         }
 
@@ -363,10 +390,15 @@ class MigrateController extends BaseMigrateController
 
             foreach ($chunks as $i => &$chunk) {
                 if (strpos($chunk, 'foreignKey') === 0) {
-                    preg_match('/foreignKey\((\w*)\)/', $chunk, $matches);
-                    $foreignKeys[$property] = isset($matches[1])
-                        ? $matches[1]
-                        : preg_replace('/_id$/', '', $property);
+                    preg_match('/foreignKey\((\w*)\s?(\w*)\)/', $chunk, $matches);
+                    $foreignKeys[$property] = [
+                        'table' => isset($matches[1])
+                            ? $matches[1]
+                            : preg_replace('/_id$/', '', $property),
+                        'column' => !empty($matches[2])
+                            ? $matches[2]
+                            : null,
+                    ];
 
                     unset($chunks[$i]);
                     continue;
diff --git a/framework/views/_addForeignKeys.php b/framework/views/_addForeignKeys.php
index 0b5f2c25e..120eb2b1d 100644
--- a/framework/views/_addForeignKeys.php
+++ b/framework/views/_addForeignKeys.php
@@ -13,7 +13,7 @@
             '<?= $table ?>',
             '<?= $column ?>',
             '<?= $fkData['relatedTable'] ?>',
-            'id',
+            '<?= $fkData['relatedColumn'] ?>',
             'CASCADE'
         );
 <?php endforeach;
