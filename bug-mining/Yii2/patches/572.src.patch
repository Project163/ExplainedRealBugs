diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 474b1faab..a40fd6540 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -4,7 +4,7 @@ Yii Framework 2 Change Log
 2.0.19 under development
 ------------------------
 
-- no changes in this release.
+- Bug #12077, #12135, #17263: Fixed PostgreSQL version of `alterColumn()` to accept properly `ColumnSchemaBuilder` definition of column (bizley)
 
 
 2.0.18 April 23, 2019
diff --git a/framework/db/pgsql/QueryBuilder.php b/framework/db/pgsql/QueryBuilder.php
index 795c421b9..4b79b4994 100644
--- a/framework/db/pgsql/QueryBuilder.php
+++ b/framework/db/pgsql/QueryBuilder.php
@@ -249,14 +249,52 @@ class QueryBuilder extends \yii\db\QueryBuilder
      */
     public function alterColumn($table, $column, $type)
     {
+        $columnName = $this->db->quoteColumnName($column);
+        $tableName = $this->db->quoteTableName($table);
+
         // https://github.com/yiisoft/yii2/issues/4492
         // http://www.postgresql.org/docs/9.1/static/sql-altertable.html
-        if (!preg_match('/^(DROP|SET|RESET)\s+/i', $type)) {
-            $type = 'TYPE ' . $this->getColumnType($type);
+        if (preg_match('/^(DROP|SET|RESET)\s+/i', $type)) {
+            return "ALTER TABLE {$tableName} ALTER COLUMN {$columnName} {$type}";
+        }
+
+        $type = 'TYPE ' . $this->getColumnType($type);
+
+        $multiAlterStatement = [];
+        $constraintPrefix = preg_replace('/[^a-z0-9_]/i', '', $table . '_' . $column);
+
+        if (preg_match('/\s+DEFAULT\s+(["\']?\w+["\']?)/i', $type, $matches)) {
+            $type = preg_replace('/\s+DEFAULT\s+(["\']?\w+["\']?)/i', '', $type);
+            $multiAlterStatement[] = "ALTER COLUMN {$columnName} SET DEFAULT {$matches[1]}";
+        } else {
+            // safe to drop default even if there was none in the first place
+            $multiAlterStatement[] = "ALTER COLUMN {$columnName} DROP DEFAULT";
+        }
+
+        $type = preg_replace('/\s+NOT\s+NULL/i', '', $type, -1, $count);
+        if ($count) {
+            $multiAlterStatement[] = "ALTER COLUMN {$columnName} SET NOT NULL";
+        } else {
+            // remove additional null if any
+            $type = preg_replace('/\s+NULL/i', '', $type);
+            // safe to drop not null even if there was none in the first place
+            $multiAlterStatement[] = "ALTER COLUMN {$columnName} DROP NOT NULL";
+        }
+
+        if (preg_match('/\s+CHECK\s+\((.+)\)/i', $type, $matches)) {
+            $type = preg_replace('/\s+CHECK\s+\((.+)\)/i', '', $type);
+            $multiAlterStatement[] = "ADD CONSTRAINT {$constraintPrefix}_check CHECK ({$matches[1]})";
         }
 
-        return 'ALTER TABLE ' . $this->db->quoteTableName($table) . ' ALTER COLUMN '
-            . $this->db->quoteColumnName($column) . ' ' . $type;
+        $type = preg_replace('/\s+UNIQUE/i', '', $type, -1, $count);
+        if ($count) {
+            $multiAlterStatement[] = "ADD UNIQUE ({$columnName})";
+        }
+
+        // add what's left at the beginning
+        array_unshift($multiAlterStatement, "ALTER COLUMN {$columnName} {$type}");
+
+        return 'ALTER TABLE ' . $tableName . ' ' . implode(', ', $multiAlterStatement);
     }
 
     /**
diff --git a/tests/framework/db/pgsql/QueryBuilderTest.php b/tests/framework/db/pgsql/QueryBuilderTest.php
index c6d8f97c4..e4b78bdb0 100644
--- a/tests/framework/db/pgsql/QueryBuilderTest.php
+++ b/tests/framework/db/pgsql/QueryBuilderTest.php
@@ -8,12 +8,11 @@
 namespace yiiunit\framework\db\pgsql;
 
 use yii\base\DynamicModel;
-use yii\db\Expression;
 use yii\db\ArrayExpression;
+use yii\db\Expression;
 use yii\db\JsonExpression;
 use yii\db\Query;
 use yii\db\Schema;
-use yii\helpers\Json;
 use yiiunit\data\base\TraversableObject;
 
 /**
@@ -159,7 +158,7 @@ class QueryBuilderTest extends \yiiunit\framework\db\QueryBuilderTest
     {
         $qb = $this->getQueryBuilder();
 
-        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255)';
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" DROP NOT NULL';
         $sql = $qb->alterColumn('foo1', 'bar', 'varchar(255)');
         $this->assertEquals($expected, $sql);
 
@@ -174,6 +173,30 @@ class QueryBuilderTest extends \yiiunit\framework\db\QueryBuilderTest
         $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" reset xyz';
         $sql = $qb->alterColumn('foo1', 'bar', 'reset xyz');
         $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" DROP NOT NULL';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->string(255));
+        $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" SET NOT NULL';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->string(255)->notNull());
+        $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" DROP NOT NULL, ADD CONSTRAINT foo1_bar_check CHECK (char_length(bar) > 5)';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->string(255)->check('char_length(bar) > 5'));
+        $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" SET DEFAULT \'AbCdE\', ALTER COLUMN "bar" DROP NOT NULL';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->string(255)->defaultValue('AbCdE'));
+        $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE timestamp(0), ALTER COLUMN "bar" SET DEFAULT CURRENT_TIMESTAMP, ALTER COLUMN "bar" DROP NOT NULL';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->timestamp()->defaultExpression('CURRENT_TIMESTAMP'));
+        $this->assertEquals($expected, $sql);
+
+        $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(30), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" DROP NOT NULL, ADD UNIQUE ("bar")';
+        $sql = $qb->alterColumn('foo1', 'bar', $this->string(30)->unique());
+        $this->assertEquals($expected, $sql);
     }
 
     public function indexesProvider()
