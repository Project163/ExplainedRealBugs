diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index 72da0c309..72666f468 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -4,6 +4,7 @@ Yii Framework 2 Change Log
 2.0.40 under development
 ------------------------
 
+- Bug #18199: Fix content body response on 304 HTTP status code, according to RFC 7232 (rad8329)
 - Enh #18394: Add support for setting `yii\web\Response::$stream` to a callable (brandonkelly)
 
 
diff --git a/framework/web/Response.php b/framework/web/Response.php
index df8282cc5..7609fbf38 100644
--- a/framework/web/Response.php
+++ b/framework/web/Response.php
@@ -1073,10 +1073,14 @@ class Response extends \yii\base\Response
      * Prepares for sending the response.
      * The default implementation will convert [[data]] into [[content]] and set headers accordingly.
      * @throws InvalidConfigException if the formatter for the specified format is invalid or [[format]] is not supported
+     *
+     * @see https://tools.ietf.org/html/rfc7231#page-53
+     * @see https://tools.ietf.org/html/rfc7232#page-18
      */
     protected function prepare()
     {
-        if ($this->statusCode === 204) {
+        if (in_array($this->getStatusCode(), [204, 304])) {
+            // A 204/304 response cannot contain a message body according to rfc7231/rfc7232
             $this->content = '';
             $this->stream = null;
             return;
diff --git a/tests/framework/web/ResponseTest.php b/tests/framework/web/ResponseTest.php
index 35ddf94e4..60b71a682 100644
--- a/tests/framework/web/ResponseTest.php
+++ b/tests/framework/web/ResponseTest.php
@@ -278,42 +278,44 @@ class ResponseTest extends \yiiunit\TestCase
      */
     public function testEmptyContentOn204()
     {
-        $response = new Response();
-        $response->setStatusCode(204);
-        $response->content = 'not empty content';
-
-        ob_start();
-        $response->send();
-        $content = ob_get_clean();
-        $this->assertSame($content, '');
+        $this->assertEmptyContentOn(204);
     }
 
     public function testSettingContentToNullOn204()
     {
-        $response = new Response();
-        $response->setStatusCode(204);
-        $response->content = 'not empty content';
-
-        ob_start();
-        $response->send();
-        $content = ob_get_clean();
-        $this->assertSame($content, '');
-        $this->assertSame($response->content, '');
+        $this->assertEmptyContentOn(204, function ($response) {
+            /** @var $response Response */
+            $this->assertSame($response->content, '');
+        });
     }
 
     public function testSettingStreamToNullOn204()
     {
-        $response = new Response();
-        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+        $this->assertSettingStreamToNullOn(204);
+    }
 
-        $response->sendFile($dataFile);
-        $response->setStatusCode(204);
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/18199
+     */
+    public function testEmptyContentOn304()
+    {
+        $this->assertEmptyContentOn(304);
+    }
 
-        ob_start();
-        $response->send();
-        $content = ob_get_clean();
-        $this->assertSame($content, '');
-        $this->assertNull($response->stream);
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/18199
+     */
+    public function testSettingContentToNullOn304()
+    {
+        $this->assertEmptyContentOn(304, function ($response) {
+            /** @var $response Response */
+            $this->assertSame($response->content, '');
+        });
+    }
+
+    public function testSettingStreamToNullOn304()
+    {
+        $this->assertSettingStreamToNullOn(304);
     }
 
     public function testSendFileWithInvalidCharactersInFileName()
@@ -342,4 +344,49 @@ class ResponseTest extends \yiiunit\TestCase
         // Only way to test is that it doesn't create any errors
         $this->assertEquals('', $content);
     }
+
+    /**
+     * Asserts that given a status code, the response will have an empty content body. If the lambda is present, it will
+     * call the lambda what is supposed to handle other assertions.
+     *
+     * @param int $statusCode
+     * @param callable|null $callback lambda in charge to handle other assertions
+     *                                callable(\yii\web\Response $response):void
+     */
+    protected function assertEmptyContentOn($statusCode, $callback = null)
+    {
+        $response = new Response();
+        $response->setStatusCode($statusCode);
+        $response->content = 'not empty content';
+
+        ob_start();
+        $response->send();
+        $content = ob_get_clean();
+        $this->assertSame($content, '');
+
+        if ($callback && is_callable($callback)) {
+            $callback($response);
+        }
+    }
+
+    /**
+     * Asserts that given a status code, the response will have an empty content body, no matter
+     * if the response is a stream as file
+     *
+     * @param int $statusCode
+     */
+    protected function assertSettingStreamToNullOn($statusCode)
+    {
+        $response = new Response();
+        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+
+        $response->sendFile($dataFile);
+        $response->setStatusCode($statusCode);
+
+        ob_start();
+        $response->send();
+        $content = ob_get_clean();
+        $this->assertSame($content, '');
+        $this->assertNull($response->stream);
+    }
 }
