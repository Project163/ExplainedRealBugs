<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:51:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DELTASPIKE-321] DefaultMessage.argument(Serializable...) should guard against empty arrays</title>
                <link>https://issues.apache.org/jira/browse/DELTASPIKE-321</link>
                <project id="12312820" key="DELTASPIKE">DeltaSpike</project>
                    <description>&lt;p&gt;If you have a method with ... parameters, it will be interpreted as an array. If it is passed along to DefaultMessage.argument the object array is interpreted as an object and added as such. Now that I mention it, wouldn&apos;t the flow be the same even if the array came populated with data?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637536">DELTASPIKE-321</key>
            <summary>DefaultMessage.argument(Serializable...) should guard against empty arrays</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="johndament">John D. Ament</assignee>
                                    <reporter username="nickarls">Nicklas Karlsson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 13:32:53 +0000</created>
                <updated>Sun, 2 Jun 2013 10:26:55 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 13:02:46 +0000</resolved>
                                                    <fixVersion>0.4</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13605165" author="johndament" created="Mon, 18 Mar 2013 14:37:45 +0000"  >&lt;p&gt;Added a test, to reproduce the NPE&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at java.util.Collections.addAll(Collections.java:3844)&lt;br/&gt;
	at org.apache.deltaspike.core.impl.message.DefaultMessage.argument(DefaultMessage.java:65)&lt;/p&gt;

&lt;p&gt;Commiting a Null check.&lt;/p&gt;</comment>
                            <comment id="13605209" author="johndament" created="Mon, 18 Mar 2013 15:22:57 +0000"  >&lt;p&gt;Fixed and validated (finally checked in too!)&lt;/p&gt;</comment>
                            <comment id="13605537" author="nickarls" created="Mon, 18 Mar 2013 19:52:32 +0000"  >&lt;p&gt;Actually, this fix is not what the JIRA was about &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;There was never a NPE. The problem is that If I have a method like&lt;/p&gt;

&lt;p&gt;public void foo(Object... params) {&lt;br/&gt;
  ...message().argument(params)...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;the params will be an Object[] (empty or not, empty in my example in the JIRA). When the Collections.addAll() is called, the one argument (our Object[]) is considered an object and added as-is to the arguments where would would perhaps think the the elements in the array would be added.&lt;/p&gt;
</comment>
                            <comment id="13605538" author="nickarls" created="Mon, 18 Mar 2013 19:52:47 +0000"  >&lt;p&gt;see previous comment&lt;/p&gt;</comment>
                            <comment id="13605548" author="johndament" created="Mon, 18 Mar 2013 19:58:21 +0000"  >&lt;p&gt;I&apos;ll check it again this evening.&lt;/p&gt;</comment>
                            <comment id="13605573" author="johndament" created="Mon, 18 Mar 2013 20:12:54 +0000"  >&lt;p&gt;I believe this is a limitation of the syntax.  It&apos;s implicitly converted to an Object[] on the receiving method, so it goes in as a single argument.&lt;/p&gt;

&lt;p&gt;I can add something to check to see if an argument is an array.&lt;/p&gt;</comment>
                            <comment id="13605899" author="johndament" created="Tue, 19 Mar 2013 01:12:04 +0000"  >&lt;p&gt;What you&apos;re looking for isn&apos;t feasible.  When you pass varargs into a method it gets erased into an array.&lt;/p&gt;

&lt;p&gt;This type of declaration is not valid: String... c = &lt;/p&gt;
{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;}
&lt;p&gt;, varargs only can go into method arguments.&lt;/p&gt;
</comment>
                            <comment id="13605903" author="johndament" created="Tue, 19 Mar 2013 01:13:47 +0000"  >&lt;p&gt;Also, cannot check to see if the elements are an array.  Cannot do T[] since there is no type yet.  Cannot check for every T for all possible types, just not feasible.  This also happens when you use String.format.&lt;/p&gt;</comment>
                            <comment id="13606300" author="johndament" created="Tue, 19 Mar 2013 13:02:38 +0000"  >&lt;p&gt;Added two new methods to help support this use case.  I think your description and title differ in meaning a bit, but now there&apos;s an argumentArray method that you can pass your vararg&apos;d reference to apply properly.&lt;/p&gt;</comment>
                            <comment id="13672370" author="struberg" created="Sun, 2 Jun 2013 10:26:55 +0000"  >&lt;p&gt;shipped with deltaspike-0.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iviv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>