<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:52:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DELTASPIKE-679] NPE in BeanManagerProvider if parentClassLoader is null</title>
                <link>https://issues.apache.org/jira/browse/DELTASPIKE-679</link>
                <project id="12312820" key="DELTASPIKE">DeltaSpike</project>
                    <description>&lt;p&gt;I am encountering an NPE  in BeanManagerProvider.getParentBeanManagerInfo() if the parentClassLoader is null. In my scenario I had to add Wildfly&apos;s jboss-modules.jar to the JVM&apos;s bootclasspath (using -Xbootclasspath/a:&quot;jboss-modules.jar&quot;). It seems as if this causes the parentClassLoader returned by the first statement to be null, which causes an NPE in the following if-statement (see below). I patched my local installation and added a check for parentClassLoader == null and everything works as expected now.&lt;/p&gt;

&lt;p&gt;I am honestly not 100% sure why classLoader.getParent() returns null and why this only happens if I put the jboss-modules.jar on the bootclasspath, but unfortunately I have to do this to circumvent a JAXP problem (see &lt;a href=&quot;https://community.jboss.org/thread/171177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://community.jboss.org/thread/171177&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;In addition to that I am not sure whether this is actually related to the message &quot;When using the BeanManager to retrieve Beans before the Container is started, non-portable behaviour results!&quot; At first I thought this occurred because of @Startup I placed on some of my singleton EJBs, but even after removing the startup annotation and using a timer to trigger initialization of some classes, I still get this message (and my container is fully booted at that time). &lt;/p&gt;

&lt;p&gt;Source:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; BeanManagerInfo getParentBeanManagerInfo(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; classLoader)
    {
        &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt; parentClassLoader = classLoader.getParent();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (parentClassLoader.equals(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.getSystemClassLoader()))
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }

        BeanManagerInfo bmi = getBeanManagerInfo(parentClassLoader);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (bmi == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            bmi = getParentBeanManagerInfo(parentClassLoader);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bmi;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Mac OS X 10.9, Java 1.7.45, Wildfly 8.1</environment>
        <key id="12730803">DELTASPIKE-679</key>
            <summary>NPE in BeanManagerProvider if parentClassLoader is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chkal">Christian Kaltepoth</assignee>
                                    <reporter username="spanko">Sven Panko</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2014 14:44:00 +0000</created>
                <updated>Wed, 20 Aug 2014 14:32:03 +0000</updated>
                            <resolved>Thu, 31 Jul 2014 06:16:39 +0000</resolved>
                                    <version>1.0.0</version>
                    <version>1.0.1</version>
                                    <fixVersion>1.0.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14080553" author="chkal" created="Thu, 31 Jul 2014 06:16:39 +0000"  >&lt;p&gt;Hey Sven,&lt;/p&gt;

&lt;p&gt;thanks for reporting this and for providing all these details. I just committed a fix for this issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=deltaspike.git;a=commitdiff;h=1d3dc077f7f9d3316a13e37448934c97c1bc2257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=deltaspike.git;a=commitdiff;h=1d3dc077f7f9d3316a13e37448934c97c1bc2257&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It would be great if you could give the latest snapshots a try to verify that this fixes your problem.&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</comment>
                            <comment id="14082087" author="spanko" created="Fri, 1 Aug 2014 08:58:37 +0000"  >&lt;p&gt;Hey Christian,&lt;/p&gt;

&lt;p&gt;works as expected now, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ycof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>