{"url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337","repository_url":"https://api.github.com/repos/sqlalchemy/alembic","labels_url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337/labels{/name}","comments_url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337/comments","events_url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337/events","html_url":"https://github.com/sqlalchemy/alembic/issues/337","id":384602702,"node_id":"MDU6SXNzdWUzODQ2MDI3MDI=","number":337,"title":"text() construct generated for autogen on create_index w/ real column expression includes table name, fails","user":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1141241826,"node_id":"MDU6TGFiZWwxMTQxMjQxODI2","url":"https://api.github.com/repos/sqlalchemy/alembic/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"},{"id":1141243519,"node_id":"MDU6TGFiZWwxMTQxMjQzNTE5","url":"https://api.github.com/repos/sqlalchemy/alembic/labels/autogenerate%20-%20rendering","name":"autogenerate - rendering","color":"00B0E0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2015-10-30T07:54:38Z","updated_at":"2015-11-01T06:09:37Z","closed_at":"2015-10-30T16:15:48Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Migrated issue, originally created by roy enjoy ([@kirpit](https://github.com/kirpit))**\n\nThe following operation is failing and postgresql complains about its syntax.\n\n```\nop.create_index('ix_publish_at', 'cms_video', [sa.text(u'cms_video.publish_at DESC')], unique=False)\n```\n\n`sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) syntax error at or near \"DESC\"\nLINE 1: ...INDEX ix_publish_at ON cms_video (cms_video.publish_at DESC)`\n\n`publish_at` is a simply `DateTime` field and here is the index definition:\n`Index('ix_publish_at', publish_at.desc())`\n\nI created the revision file with `--autogenerate`.\n\nI found an exact same [question](http://stackoverflow.com/questions/24011561/error-creating-an-index-on-postgresql-with-desc) but it seems he had old version of psql running. My postgresql was installed with brew and its version is 9.4.4 that should be enough to support desc indexes. Tried with `alembic==0.8.3`, I don't know what is wrong.\n\n","closed_by":{"login":"sqlalchemy-bot","id":36047385,"node_id":"MDQ6VXNlcjM2MDQ3Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/36047385?v=4","gravatar_id":"","url":"https://api.github.com/users/sqlalchemy-bot","html_url":"https://github.com/sqlalchemy-bot","followers_url":"https://api.github.com/users/sqlalchemy-bot/followers","following_url":"https://api.github.com/users/sqlalchemy-bot/following{/other_user}","gists_url":"https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sqlalchemy-bot/subscriptions","organizations_url":"https://api.github.com/users/sqlalchemy-bot/orgs","repos_url":"https://api.github.com/users/sqlalchemy-bot/repos","events_url":"https://api.github.com/users/sqlalchemy-bot/events{/privacy}","received_events_url":"https://api.github.com/users/sqlalchemy-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sqlalchemy/alembic/issues/337/timeline","performed_via_github_app":null,"state_reason":"completed"}