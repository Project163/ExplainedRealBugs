diff --git a/maven-project/src/main/java/org/apache/maven/project/DefaultMavenProjectBuilder.java b/maven-project/src/main/java/org/apache/maven/project/DefaultMavenProjectBuilder.java
index 9facd1348..bc81f4cd5 100644
--- a/maven-project/src/main/java/org/apache/maven/project/DefaultMavenProjectBuilder.java
+++ b/maven-project/src/main/java/org/apache/maven/project/DefaultMavenProjectBuilder.java
@@ -820,7 +820,7 @@ public class DefaultMavenProjectBuilder
         MavenProject project = null;
         try
         {
-            project = assembleLineage( model, lineage, config, projectDir, parentSearchRepositories,
+            project = assembleLineage( model, lineage, config, projectDescriptor, parentSearchRepositories,
                                        aggregatedRemoteWagonRepositories, strict );
         }
         catch ( InvalidRepositoryException e )
@@ -1159,7 +1159,7 @@ public class DefaultMavenProjectBuilder
     private MavenProject assembleLineage( Model model,
                                           LinkedList lineage,
                                           ProjectBuilderConfiguration config,
-                                          File projectDir,
+                                          File projectDescriptor,
                                           List parentSearchRepositories,
                                           Set aggregatedRemoteWagonRepositories,
                                           boolean strict )
@@ -1167,6 +1167,12 @@ public class DefaultMavenProjectBuilder
     {
         Model originalModel = ModelUtils.cloneModel( model );
 
+        File projectDir = null;
+        if ( projectDescriptor != null )
+        {
+            projectDir = projectDescriptor.getAbsoluteFile().getParentFile();
+        }
+
         ProfileManager externalProfileManager = config.getGlobalProfileManager();
         ProfileManager profileManager;
         if ( externalProfileManager != null )
@@ -1221,6 +1227,7 @@ public class DefaultMavenProjectBuilder
 
         MavenProject project = new MavenProject( model, getLogger() );
 
+        project.setFile( projectDescriptor );
         project.setActiveProfiles( activeProfiles );
         project.setOriginalModel( originalModel );
 
@@ -1406,22 +1413,14 @@ public class DefaultMavenProjectBuilder
                     projectId + " has wrong packaging: " + model.getPackaging() + ". Must be 'pom'." );
             }
 
-            File parentProjectDir = null;
-            if ( parentDescriptor != null )
-            {
-                parentProjectDir = parentDescriptor.getParentFile();
-            }
-
             MavenProject parent = assembleLineage( model,
                                                    lineage,
                                                    config,
-                                                   parentProjectDir,
+                                                   parentDescriptor,
                                                    parentSearchRepositories,
                                                    aggregatedRemoteWagonRepositories,
                                                    strict );
 
-            parent.setFile( parentDescriptor );
-
             project.setParent( parent );
 
             project.setParentArtifact( parentArtifact );
