diff --git a/maven-project/src/test/java/org/apache/maven/project/injection/DefaultModelDefaultsInjectorTest.java b/maven-project/src/test/java/org/apache/maven/project/injection/DefaultModelDefaultsInjectorTest.java
index 5b44b094d..56fbbd2f0 100644
--- a/maven-project/src/test/java/org/apache/maven/project/injection/DefaultModelDefaultsInjectorTest.java
+++ b/maven-project/src/test/java/org/apache/maven/project/injection/DefaultModelDefaultsInjectorTest.java
@@ -19,14 +19,18 @@ package org.apache.maven.project.injection;
  * under the License.
  */
 
-import java.util.List;
-
-import junit.framework.TestCase;
-
+import org.apache.maven.model.Build;
 import org.apache.maven.model.Dependency;
 import org.apache.maven.model.DependencyManagement;
 import org.apache.maven.model.Exclusion;
 import org.apache.maven.model.Model;
+import org.apache.maven.model.Plugin;
+import org.apache.maven.model.PluginManagement;
+
+import java.util.List;
+import java.util.Map;
+
+import junit.framework.TestCase;
 
 /**
  * @author jdcasey
@@ -39,42 +43,107 @@ public class DefaultModelDefaultsInjectorTest
         new DefaultModelDefaultsInjector();
     }
 
+    public void testShouldMergePluginManagementVersionIntoPlugin()
+    {
+        String groupId = "org.apache.maven.plugins";
+        String artifactId = "maven-test-plugin";
+
+        Model model = new Model();
+        Build build = new Build();
+        Plugin targetPlugin = new Plugin();
+        targetPlugin.setGroupId( groupId );
+        targetPlugin.setArtifactId( artifactId );
+
+        build.addPlugin( targetPlugin );
+
+        PluginManagement pMgmt = new PluginManagement();
+        Plugin managedPlugin = new Plugin();
+        managedPlugin.setGroupId( groupId );
+        managedPlugin.setArtifactId( artifactId );
+        managedPlugin.setVersion( "10.0.0" );
+
+        pMgmt.addPlugin( managedPlugin );
+        build.setPluginManagement( pMgmt );
+        model.setBuild( build );
+
+        new DefaultModelDefaultsInjector().injectDefaults( model );
+
+        Map pMap = model.getBuild().getPluginsAsMap();
+        Plugin result = (Plugin) pMap.get( groupId + ":" + artifactId );
+
+        assertNotNull( result );
+        assertEquals( managedPlugin.getVersion(), result.getVersion() );
+    }
+
+    public void testShouldKeepPluginVersionOverPluginManagementVersion()
+    {
+        String groupId = "org.apache.maven.plugins";
+        String artifactId = "maven-test-plugin";
+
+        Model model = new Model();
+        Build build = new Build();
+        Plugin targetPlugin = new Plugin();
+        targetPlugin.setGroupId( groupId );
+        targetPlugin.setArtifactId( artifactId );
+        targetPlugin.setVersion( "9.0.0" );
+
+        build.addPlugin( targetPlugin );
+
+        PluginManagement pMgmt = new PluginManagement();
+        Plugin managedPlugin = new Plugin();
+        managedPlugin.setGroupId( groupId );
+        managedPlugin.setArtifactId( artifactId );
+        managedPlugin.setVersion( "10.0.0" );
+
+        pMgmt.addPlugin( managedPlugin );
+        build.setPluginManagement( pMgmt );
+        model.setBuild( build );
+
+        new DefaultModelDefaultsInjector().injectDefaults( model );
+
+        Map pMap = model.getBuild().getPluginsAsMap();
+        Plugin result = (Plugin) pMap.get( groupId + ":" + artifactId );
+
+        assertNotNull( result );
+        assertEquals( targetPlugin.getVersion(), result.getVersion() );
+    }
+
     public void testShouldMergeManagedDependencyOfTypeEJBToDependencyList()
     {
         Model model = new Model();
-        
+
         Dependency managedDep = new Dependency();
-        
+
         managedDep.setGroupId( "group" );
         managedDep.setArtifactId( "artifact" );
         managedDep.setVersion( "1.0" );
         managedDep.setType( "ejb" );
-        
+
         DependencyManagement depMgmt = new DependencyManagement();
-        
+
         depMgmt.addDependency( managedDep );
-        
+
         model.setDependencyManagement( depMgmt );
-        
+
         Dependency dep = new Dependency();
-        
+
         dep.setGroupId( "group" );
         dep.setArtifactId( "artifact" );
-        
+
         // looks like groupId:artifactId:type is the minimum for identification, where
         // type is defaulted to "jar".
         dep.setType( "ejb" );
-        
+
         model.addDependency( dep );
-        
+
         new DefaultModelDefaultsInjector().injectDefaults( model );
-        
+
         List resultingDeps = model.getDependencies();
-        
+
         assertEquals( 1, resultingDeps.size() );
-        
+
         Dependency result = (Dependency) resultingDeps.get( 0 );
-        
+
         assertEquals( "1.0", result.getVersion() );
     }
 
@@ -124,13 +193,13 @@ public class DefaultModelDefaultsInjectorTest
         def.setArtifactId( dep.getArtifactId() );
         def.setVersion( "1.0.1" );
         def.setScope( "scope" );
-        
+
         Exclusion exc = new Exclusion();
         exc.setArtifactId( "mydep" );
         exc.setGroupId( "mygrp" );
-        
+
         def.addExclusion( exc );
-        
+
         DependencyManagement depMgmt = new DependencyManagement();
 
         depMgmt.addDependency( def );
@@ -144,11 +213,11 @@ public class DefaultModelDefaultsInjectorTest
 
         Dependency result = (Dependency) deps.get( 0 );
         assertEquals( def.getVersion(), result.getVersion() );
-        
+
         List resultExclusions = result.getExclusions();
         assertNotNull( resultExclusions );
         assertEquals( 1, resultExclusions.size() );
-        
+
         Exclusion resultExclusion = (Exclusion) resultExclusions.get( 0 );
         assertEquals( "mydep", resultExclusion.getArtifactId() );
         assertEquals( "mygrp", resultExclusion.getGroupId() );
diff --git a/maven-project/src/test/java/org/apache/maven/project/interpolation/RegexBasedModelInterpolatorTest.java b/maven-project/src/test/java/org/apache/maven/project/interpolation/RegexBasedModelInterpolatorTest.java
index 7b91c111f..a6af0b313 100644
--- a/maven-project/src/test/java/org/apache/maven/project/interpolation/RegexBasedModelInterpolatorTest.java
+++ b/maven-project/src/test/java/org/apache/maven/project/interpolation/RegexBasedModelInterpolatorTest.java
@@ -19,19 +19,23 @@ package org.apache.maven.project.interpolation;
  * under the License.
  */
 
-import junit.framework.TestCase;
-
+import org.apache.maven.model.Build;
 import org.apache.maven.model.Dependency;
 import org.apache.maven.model.Model;
 import org.apache.maven.model.Organization;
 import org.apache.maven.model.Repository;
+import org.apache.maven.model.Resource;
 import org.apache.maven.model.Scm;
 
 import java.io.IOException;
 import java.util.Collections;
+import java.util.Iterator;
+import java.util.List;
 import java.util.Map;
 import java.util.Properties;
 
+import junit.framework.TestCase;
+
 /**
  * @author jdcasey
  * @version $Id$
@@ -256,4 +260,40 @@ public class RegexBasedModelInterpolatorTest
 
         assertEquals( out.getProperties().getProperty( "outputDirectory" ), "${DOES_NOT_EXIST}" );
     }
+
+    public void testShouldInterpolateSourceDirectoryReferencedFromResourceDirectoryCorrectly()
+        throws Exception
+    {
+        Model model = new Model();
+
+        Build build = new Build();
+        build.setSourceDirectory( "correct" );
+
+        Resource res = new Resource();
+        res.setDirectory( "${project.build.sourceDirectory}" );
+
+        build.addResource( res );
+
+        Resource res2 = new Resource();
+        res2.setDirectory( "${pom.build.sourceDirectory}" );
+
+        build.addResource( res2 );
+
+        Resource res3 = new Resource();
+        res3.setDirectory( "${build.sourceDirectory}" );
+
+        build.addResource( res3 );
+
+        model.setBuild( build );
+
+        Model out = new RegexBasedModelInterpolator().interpolate( model, context );
+
+        List outResources = out.getBuild().getResources();
+        Iterator resIt = outResources.iterator();
+
+        assertEquals( build.getSourceDirectory(), ( (Resource) resIt.next() ).getDirectory() );
+        assertEquals( build.getSourceDirectory(), ( (Resource) resIt.next() ).getDirectory() );
+        assertEquals( build.getSourceDirectory(), ( (Resource) resIt.next() ).getDirectory() );
+    }
+
 }
