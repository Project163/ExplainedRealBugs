<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-835] Default profile in pom.xml not activated</title>
                <link>https://issues.apache.org/jira/browse/MNG-835</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Pasted email from mailing list explaining the problem. I&apos;ve also ran &quot;m2 projecthelp:active-profiles&quot; and it doesn&apos;t show the profile as active.&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I want to allow cargo build users to override a plugin property. I have seen that using a &amp;lt;build&amp;gt; element is not allowed in a settings.xml file and Brett has suggested I use a &amp;lt;properties&amp;gt; element instead. However I also need to define a default value for the property that can be overridden.&lt;/p&gt;

&lt;p&gt;Thus I have defined the following in my project&apos;s pom.xml:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
  &amp;lt;build&amp;gt;&lt;br/&gt;
    &amp;lt;plugins&amp;gt;&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;systemProperties combine.children=&quot;append&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;property&amp;gt;&lt;br/&gt;
              &amp;lt;name&amp;gt;cargo.containers&amp;lt;/name&amp;gt;&lt;br/&gt;
              &amp;lt;value&amp;gt;${cargo.containers}&amp;lt;/value&amp;gt;&lt;br/&gt;
            &amp;lt;/property&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
          &amp;lt;/systemProperties&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
    &amp;lt;/plugins&amp;gt;&lt;br/&gt;
  &amp;lt;/build&amp;gt;&lt;br/&gt;
  &amp;lt;profiles&amp;gt;&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;default&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;properties&amp;gt;&lt;br/&gt;
        &amp;lt;cargo.containers&amp;gt;jetty4xEmbedded&amp;lt;/cargo.containers&amp;gt;&lt;br/&gt;
      &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;br/&gt;
  &amp;lt;/profiles&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;I want cargo build users to be able to create a settings.xml file with the following for example:&lt;/p&gt;

&lt;p&gt;&amp;lt;settings&amp;gt;&lt;br/&gt;
  &amp;lt;profiles&amp;gt;&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;user-vmassol&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;properties&amp;gt;&lt;br/&gt;
        &amp;lt;cargo.containers&amp;gt;resin3x&amp;lt;/cargo.containers&amp;gt;&lt;br/&gt;
      &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;br/&gt;
  &amp;lt;/profiles&amp;gt;&lt;br/&gt;
  &amp;lt;activeProfiles&amp;gt;&lt;br/&gt;
    &amp;lt;activeProfile&amp;gt;user-vmassol&amp;lt;/activeProfile&amp;gt;&lt;br/&gt;
  &amp;lt;/activeProfiles&amp;gt;&lt;br/&gt;
&amp;lt;/settings&amp;gt;&lt;/p&gt;

&lt;p&gt;Is that the correct way to implement my use case?&lt;/p&gt;

&lt;p&gt;So far, the issue I&apos;ve had is that the default profile created in pom.xml is not used when I issue a &quot;m2 install&quot; command. I&apos;ve read on &lt;a href=&quot;http://docs.codehaus.org/display/MAVEN/Build+Profiles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://docs.codehaus.org/display/MAVEN/Build+Profiles&lt;/a&gt; that naming a profile &quot;default&quot; will automatically activate it. Isn&apos;t that so?&lt;/p&gt;

&lt;p&gt;If not how can I activate a profile defined in pom.xml by default?&lt;/p&gt;

&lt;p&gt;Thanks a lot&lt;br/&gt;
-Vincent&lt;/p&gt;</description>
                <environment></environment>
        <key id="12793745">MNG-835</key>
            <summary>Default profile in pom.xml not activated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcasey">John Dennis Casey</assignee>
                                    <reporter username="vmassol">Vincent Massol</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Sep 2005 03:41:24 +0000</created>
                <updated>Sat, 5 Jul 2025 08:33:12 +0000</updated>
                            <resolved>Mon, 12 Sep 2005 22:31:59 +0000</resolved>
                                    <version>2.0-alpha-3</version>
                                    <fixVersion>2.0-beta-1</fixVersion>
                                    <component>Plugins and Lifecycle</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="100"/>
                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10800">3h</timespent>
                                <comments>
                            <comment id="14408736" author="vmassol" created="Mon, 12 Sep 2005 01:04:41 +0000"  >&lt;p&gt;Another idea is to add a new &amp;lt;always/&amp;gt; activation policy, as a nested element inside &amp;lt;activation&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="14408737" author="jdcasey" created="Mon, 12 Sep 2005 15:22:08 +0000"  >&lt;p&gt;&amp;lt;always/&amp;gt; doesn&apos;t really have the same semantics, though...does it? When you specify &amp;lt;always/&amp;gt; it would seem to indicate to me that this profile will always be in effect to some measure. When you set a default profile, it means that profile will be activated if no others are, doesn&apos;t it?&lt;/p&gt;

&lt;p&gt;What I really want to get at here is whether it makes sense to have a default profile, particularly now that you can specify:&lt;/p&gt;

&lt;p&gt;&amp;lt;project&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
  &amp;lt;properties&amp;gt;&lt;br/&gt;
    &amp;lt;someproperty&amp;gt;somevalue&amp;lt;/someproperty&amp;gt;&lt;br/&gt;
  &amp;lt;/properties&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;In the case of a default value for a property, this should suffice. Beyond that, having a default profile in settings.xml doesn&apos;t really make sense, since you can activate a profile using &amp;lt;activeProfiles/&amp;gt; in the settings.xml itself.&lt;/p&gt;

&lt;p&gt;If you&apos;re using a profiles.xml, there may be a time when you need &amp;lt;always/&amp;gt; or &amp;lt;default/&amp;gt; or somesuch...I&apos;ll investigate adding both.&lt;/p&gt;</comment>
                            <comment id="14408655" author="mihobson" created="Mon, 12 Sep 2005 15:35:38 +0000"  >&lt;p&gt;Another use-case if it helps..&lt;/p&gt;

&lt;p&gt;I currently require the concept of a default profile in my project to control database configuration files.  I have a default profile that pulls in a development db config and a live profile that uses a live db config.  Without one of these specified the build will break, but obviously they&apos;re mutually exclusive so a default profile makes sense here.&lt;/p&gt;

&lt;p&gt;POM properties would suffice if they could be overridden at the command-line, but I think it&apos;d be nicer to be able to activate a non-default profile - e.g. &quot;m2 install&quot; for default, &quot;m2 -Plive install&quot; to use the &apos;live&apos; profile rather than the default.&lt;/p&gt;</comment>
                            <comment id="14408823" author="jdcasey" created="Mon, 12 Sep 2005 15:42:06 +0000"  >&lt;p&gt;Actually, the profiles.xml also provides &amp;lt;activeProfiles/&amp;gt;. Checking that this is honored.&lt;/p&gt;</comment>
                            <comment id="14408591" author="jdcasey" created="Mon, 12 Sep 2005 15:52:08 +0000"  >&lt;p&gt;Added activeProfiles from profiles.xml to the mix as explicitly activated.&lt;/p&gt;

&lt;p&gt;Use:&lt;/p&gt;

&lt;p&gt;&amp;lt;project&amp;gt;&lt;br/&gt;
  ...&lt;/p&gt;

&lt;p&gt;  &amp;lt;properties&amp;gt;&lt;br/&gt;
    &amp;lt;name&amp;gt;value&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;/properties&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;for defaults. These will be overridden by activated profiles and by child POMs.&lt;/p&gt;</comment>
                            <comment id="14408759" author="jdcasey" created="Mon, 12 Sep 2005 15:58:43 +0000"  >&lt;p&gt;reopening to adjust time.&lt;/p&gt;</comment>
                            <comment id="14408697" author="jdcasey" created="Mon, 12 Sep 2005 16:02:39 +0000"  >&lt;p&gt;Replying to Mark above:&lt;/p&gt;

&lt;p&gt;Not sure I understand...you&apos;re talking about a development property set, versus a profile-driven one for the &apos;live&apos; scenario, correct? Then what would happen if you specified the development information within the properties section just under the project root element, then used a profile in-line to activate the &apos;live&apos; overrides, as such:&lt;/p&gt;

&lt;p&gt;&amp;lt;project&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
  &amp;lt;properties&amp;gt;&lt;br/&gt;
    &amp;lt;db.url&amp;gt;jdbc:hsqldb://path/to/some/file&amp;lt;/db.url&amp;gt;&lt;br/&gt;
  &amp;lt;/properties&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;profiles&amp;gt;&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;live&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;activation&amp;gt;&lt;br/&gt;
        &amp;lt;property&amp;gt;&amp;lt;name&amp;gt;live&amp;lt;/name&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
      &amp;lt;/activation&amp;gt;&lt;/p&gt;

&lt;p&gt;      &amp;lt;properties&amp;gt;&lt;br/&gt;
        &amp;lt;db.url&amp;gt;jdbc:oracle:...&amp;lt;/db.url&amp;gt;&lt;br/&gt;
      &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;br/&gt;
  &amp;lt;/profiles&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;Does this solve your issue? I&apos;ll await your answer before re-closing this issue.&lt;/p&gt;</comment>
                            <comment id="14408846" author="mihobson" created="Mon, 12 Sep 2005 16:19:18 +0000"  >&lt;p&gt;I&apos;m currently using profiles to augment the normal build resources and configure plugins for deployment, for example:&lt;/p&gt;

&lt;p&gt;&amp;lt;project&amp;gt;&lt;br/&gt;
	...&lt;br/&gt;
	&amp;lt;profiles&amp;gt;&lt;br/&gt;
		&amp;lt;profile&amp;gt;&lt;br/&gt;
			&amp;lt;id&amp;gt;default&amp;lt;/id&amp;gt;&lt;br/&gt;
			&amp;lt;activation&amp;gt;&lt;br/&gt;
				&amp;lt;property&amp;gt;&lt;br/&gt;
					&amp;lt;name&amp;gt;profile&amp;lt;/name&amp;gt;&lt;br/&gt;
					&amp;lt;value&amp;gt;default&amp;lt;/value&amp;gt;&lt;br/&gt;
				&amp;lt;/property&amp;gt;&lt;br/&gt;
			&amp;lt;/activation&amp;gt;&lt;br/&gt;
			&amp;lt;build&amp;gt;&lt;br/&gt;
				&amp;lt;resources&amp;gt;&lt;br/&gt;
					&amp;lt;resource&amp;gt;&lt;br/&gt;
						&amp;lt;directory&amp;gt;src/profiles/default/resources&amp;lt;/directory&amp;gt;&lt;br/&gt;
					&amp;lt;/resource&amp;gt;&lt;br/&gt;
				&amp;lt;/resources&amp;gt;&lt;br/&gt;
				&amp;lt;plugins&amp;gt;&lt;br/&gt;
					...&lt;br/&gt;
				&amp;lt;/plugins&amp;gt;&lt;br/&gt;
			&amp;lt;/build&amp;gt;&lt;br/&gt;
		&amp;lt;/profile&amp;gt;&lt;br/&gt;
		&amp;lt;profile&amp;gt;&lt;br/&gt;
			&amp;lt;id&amp;gt;live&amp;lt;/id&amp;gt;&lt;br/&gt;
			&amp;lt;activation&amp;gt;&lt;br/&gt;
				&amp;lt;property&amp;gt;&lt;br/&gt;
					&amp;lt;name&amp;gt;profile&amp;lt;/name&amp;gt;&lt;br/&gt;
					&amp;lt;value&amp;gt;live&amp;lt;/value&amp;gt;&lt;br/&gt;
				&amp;lt;/property&amp;gt;&lt;br/&gt;
			&amp;lt;/activation&amp;gt;&lt;br/&gt;
			&amp;lt;build&amp;gt;&lt;br/&gt;
				&amp;lt;finalName&amp;gt;ROOT&amp;lt;/finalName&amp;gt;&lt;br/&gt;
				&amp;lt;resources&amp;gt;&lt;br/&gt;
					&amp;lt;resource&amp;gt;&lt;br/&gt;
						&amp;lt;directory&amp;gt;src/profiles/live/resources&amp;lt;/directory&amp;gt;&lt;br/&gt;
					&amp;lt;/resource&amp;gt;&lt;br/&gt;
				&amp;lt;/resources&amp;gt;&lt;br/&gt;
				&amp;lt;plugins&amp;gt;&lt;br/&gt;
					...&lt;br/&gt;
				&amp;lt;/plugins&amp;gt;&lt;br/&gt;
			&amp;lt;/build&amp;gt;&lt;br/&gt;
		&amp;lt;/profile&amp;gt;&lt;br/&gt;
	&amp;lt;/profiles&amp;gt;&lt;br/&gt;
	...&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;Ideally I&apos;d remove the activation block for both in preference to using the -P switch at buildtime.  Although of course one profile needs to activated, hence the need to specify a default profile.  Does this make sense or do you see a better way of achieving this?&lt;/p&gt;</comment>
                            <comment id="14408799" author="mihobson" created="Mon, 12 Sep 2005 16:20:20 +0000"  >&lt;p&gt;Oops, apologies - there &lt;b&gt;were&lt;/b&gt; tabs in there!&lt;/p&gt;</comment>
                            <comment id="14408711" author="jdcasey" created="Mon, 12 Sep 2005 16:26:29 +0000"  >&lt;p&gt;Fair point. I&apos;ll put it in.&lt;/p&gt;</comment>
                            <comment id="14408798" author="jdcasey" created="Mon, 12 Sep 2005 22:26:59 +0000"  >&lt;p&gt;Added &amp;lt;activatedByDefault/&amp;gt; (boolean) to &amp;lt;activation/&amp;gt; section of a profile.&lt;/p&gt;

&lt;p&gt;These will be activated when no others are...they should still be able to be activated by other mechanism, too. So:&lt;/p&gt;

&lt;p&gt;&amp;lt;profile&amp;gt;&lt;br/&gt;
  &amp;lt;id&amp;gt;test&amp;lt;/id&amp;gt;&lt;br/&gt;
  &amp;lt;activation&amp;gt;&lt;br/&gt;
    &amp;lt;activatedByDefault&amp;gt;true&amp;lt;/activatedByDefault&amp;gt;&lt;br/&gt;
  &amp;lt;/activation&amp;gt;&lt;/p&gt;

&lt;p&gt;  ...&lt;br/&gt;
&amp;lt;/profile&amp;gt;&lt;/p&gt;

&lt;p&gt;I have included unit tests to check this behavior.&lt;/p&gt;</comment>
                            <comment id="14412535" author="jmacmullin" created="Thu, 3 Jan 2008 03:16:46 +0000"  >&lt;p&gt;Actually the syntax needed is:&lt;/p&gt;

&lt;p&gt;&amp;lt;profile&amp;gt;&lt;br/&gt;
  &amp;lt;id&amp;gt;test&amp;lt;/id&amp;gt;&lt;br/&gt;
  &amp;lt;activation&amp;gt;&lt;br/&gt;
    &amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;&lt;br/&gt;
  &amp;lt;/activation&amp;gt;&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
&amp;lt;/profile&amp;gt;&lt;/p&gt;


&lt;p&gt;That is &lt;b&gt;activeByDefault&lt;/b&gt; not, activatedByDefault.&lt;/p&gt;</comment>
                            <comment id="17996959" author="JIRAUSER302100" created="Sat, 5 Jul 2025 08:33:12 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/3703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#3703&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i296ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>