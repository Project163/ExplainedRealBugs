<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:30:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-4347] import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml</title>
                <link>https://issues.apache.org/jira/browse/MNG-4347</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Given:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;project A lists project B as a dependency&lt;/li&gt;
	&lt;li&gt;project B lists project C as an import-scoped entry in dependencyManagement&lt;/li&gt;
	&lt;li&gt;project B&apos;s dependency version for project C is a SNAPSHOT&lt;/li&gt;
	&lt;li&gt;the user&apos;s settings.xml file modifies the definition of the central repository to enable searching for SNAPSHOT artifacts.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When project A&apos;s dependency POMs are retrieved as part of collecting the transitive dependency closure for A, B&apos;s project instance is built. During this process, the POM for project C should be retrieved from central (according to the modifications in settings.xml). However, the profile information from the settings.xml is never applied to project B&apos;s POM, and never modifies the central repository definition found there. Since the default definition for the repository &apos;central&apos; from the super POM has snapshots disabled, project C&apos;s POM cannot be found, and the build fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12795567">MNG-4347</key>
            <summary>import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jdcasey">John Dennis Casey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Sep 2009 18:25:48 +0000</created>
                <updated>Sat, 5 Jul 2025 18:46:36 +0000</updated>
                                            <version>2.2.1</version>
                                    <fixVersion>2.2.2</fixVersion>
                    <fixVersion>4.0.x-candidate</fixVersion>
                                    <component>Artifacts and Repositories</component>
                    <component>Dependencies</component>
                    <component>General</component>
                    <component>Profiles</component>
                    <component>Settings</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14415313" author="jdcasey" created="Wed, 9 Sep 2009 15:50:12 +0000"  >&lt;p&gt;Started work on &lt;a href=&quot;https://svn.apache.org/repos/asf/maven/maven-2/branches/maven-2.2.x-MNG-4347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/maven-2/branches/maven-2.2.x-MNG-4347&lt;/a&gt; to isolate changes. The general approach is to make a session-specific MavenMetadataSource instance that can pass the global profile manager throughout the resolution process, so those profiles can be used to modify the definition of the central repository or others as specified.&lt;/p&gt;</comment>
                            <comment id="15743974" author="hudson" created="Tue, 13 Dec 2016 03:01:46 +0000"  >&lt;p&gt;ABORTED: Integrated in Jenkins build maven-3.x #1436 (See &lt;a href=&quot;https://builds.apache.org/job/maven-3.x/1436/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/maven-3.x/1436/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4347&quot; title=&quot;import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4347&quot;&gt;MNG-4347&lt;/a&gt; import-scoped dependencies of direct dependencies are not (schulte: rev c3a4bd14d235911a5425f5ec70d39bbcdcd39569)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) maven-resolver-provider/src/main/java/org/apache/maven/repository/internal/DefaultModelResolver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15942038" author="schulte77" created="Sat, 25 Mar 2017 22:52:10 +0000"  >&lt;p&gt;Issue is fixed in the master branch of &lt;a href=&quot;https://github.com/ChristianSchulte/maven/tree/master&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my private maven repository on github&lt;/a&gt;. When interested, you can cherry pick the commit to your own repository and create a pull request for the apache master branch with just this commit yourself from there.&lt;/p&gt;</comment>
                            <comment id="16367609" author="githubbot" created="Fri, 16 Feb 2018 17:19:27 +0000"  >&lt;p&gt;Github user clarkperkins commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven/pull/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/pull/158&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I just found this issue in jira - looks like it&apos;s closed as a won&apos;t-fix... so sounds like there&apos;s a reason this hasn&apos;t been fixed before&lt;/p&gt;</comment>
                            <comment id="16367640" author="githubbot" created="Fri, 16 Feb 2018 17:40:02 +0000"  >&lt;p&gt;Github user clarkperkins commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven/pull/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/pull/158&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Looks like there&apos;s a better solution out there for this, I&apos;m going to close this.&lt;/p&gt;</comment>
                            <comment id="16367641" author="githubbot" created="Fri, 16 Feb 2018 17:40:03 +0000"  >&lt;p&gt;Github user clarkperkins closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven/pull/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/pull/158&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16367667" author="githubbot" created="Fri, 16 Feb 2018 18:00:12 +0000"  >&lt;p&gt;GitHub user clarkperkins opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven/pull/159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/pull/159&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Bugfix/mng 4347 recursive imports&lt;/p&gt;

&lt;p&gt;    &#8230;resolved using profile modifications from settings.xml&lt;/p&gt;

&lt;p&gt;    o Updated the &apos;DefaultModelResolver&apos; to handle replacing repositories the same way the&lt;br/&gt;
      &apos;DefaultDependencyCollector&apos; does. When the &apos;DefaultDependencyCollector&apos; finds&lt;br/&gt;
      a repository in a child node with an id matching a repository already in use,&lt;br/&gt;
      it will only merge any mirror definitions but never change the repository already&lt;br/&gt;
      in use. The &apos;DefaultModelResolver&apos; needs to follow the same logic. What has been&lt;br/&gt;
      provided must not change for consistency.&lt;/p&gt;

&lt;p&gt;    Cherry-picked from @ChristianSchulte&apos;s fork, per comment on the &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4347&quot; title=&quot;import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4347&quot;&gt;MNG-4347&lt;/a&gt; ticket.  I made the same changes to the ProjectModelResolver, since it seems that&apos;s the implementation that&apos;s getting used by the dependencyManagement import resolution rather than the DefaultModelResolver.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/clarkperkins/maven&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/clarkperkins/maven&lt;/a&gt; bugfix/&lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4347&quot; title=&quot;import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4347&quot;&gt;MNG-4347&lt;/a&gt;-recursive-imports&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/maven/pull/159.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/pull/159.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #159&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c1f3bee77783a1f3349083e431dd4bb7cd7f290a&lt;br/&gt;
Author: Christian Schulte &amp;lt;schulte@...&amp;gt;&lt;br/&gt;
Date:   2016-12-13T02:30:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4347&quot; title=&quot;import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4347&quot;&gt;MNG-4347&lt;/a&gt; import-scoped dependencies of direct dependencies are not resolved using profile modifications from settings.xml&lt;/p&gt;

&lt;p&gt;    o Updated the &apos;DefaultModelResolver&apos; to handle replacing repositories the same way the&lt;br/&gt;
      &apos;DefaultDependencyCollector&apos; does. When the &apos;DefaultDependencyCollector&apos; finds&lt;br/&gt;
      a repository in a child node with an id matching a repository already in use,&lt;br/&gt;
      it will only merge any mirror definitions but never change the repository already&lt;br/&gt;
      in use. The &apos;DefaultModelResolver&apos; needs to follow the same logic. What has been&lt;br/&gt;
      provided must not change for consistency.&lt;/p&gt;

&lt;p&gt;commit f8ab4e1e37479d353fd4a6d20442aa29c6ad8899&lt;br/&gt;
Author: Clark Perkins &amp;lt;clark.perkins@...&amp;gt;&lt;br/&gt;
Date:   2018-02-16T17:59:07Z&lt;/p&gt;

&lt;p&gt;    Made the same changes to ProjectModelResolver&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16367773" author="clarkperkins" created="Fri, 16 Feb 2018 19:26:41 +0000"  >&lt;p&gt;Sorry for all the extra comments above, I should have looked for this issue here before just trying to fix the issue and open a PR.&lt;/p&gt;</comment>
                            <comment id="17300944" author="michael-o" created="Sat, 13 Mar 2021 17:20:10 +0000"  >&lt;p&gt;I believe this is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-6772&quot; title=&quot;Super POM overwrites remapped central repository in nested dependencyManagement import POMs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-6772&quot;&gt;MNG-6772&lt;/a&gt; and may be resolved when &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-4645&quot; title=&quot;Move Central repo definition out of Maven&amp;#39;s jars so it can be more easily changed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-4645&quot;&gt;&lt;del&gt;MNG-4645&lt;/del&gt;&lt;/a&gt; is completed.&lt;/p&gt;</comment>
                            <comment id="17999067" author="JIRAUSER302100" created="Sat, 5 Jul 2025 18:46:36 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/5813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#5813&lt;/a&gt;. Please visit the GitHub issue to view further activity, add comments, or subscribe to receive notifications.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13259986">MNG-6772</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12795604">MNG-4645</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12796768">MNG-4148</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i28mnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>