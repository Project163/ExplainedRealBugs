<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:30:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-3454] processing a relocation erases requested version range</title>
                <link>https://issues.apache.org/jira/browse/MNG-3454</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;While fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2861&quot; title=&quot;NullPointerException in DefaultArtifactCollector for relocated resolvedArtifacts with different version ranges and available versions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2861&quot;&gt;&lt;del&gt;MNG-2861&lt;/del&gt;&lt;/a&gt;, I came across a weird scenario where the contents of the relocation can affect what happens. In 2861, the relocation did not specify a version, only a group id. However, if a version is specified, in MavenMetadataSource: 164 the versionRange is reset to the contents of the relocation.getVersion(). This effectively tosses out the requested range information. We only get here after selecting the version that has been relocated, but now we have a recommended version, which can cause a different version to be selected. See the two sample projects in &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-2861&quot; title=&quot;NullPointerException in DefaultArtifactCollector for relocated resolvedArtifacts with different version ranges and available versions.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-2861&quot;&gt;&lt;del&gt;MNG-2861&lt;/del&gt;&lt;/a&gt; to see how the handling is different. (brett&apos;s version has the version in the relocation and thus expresses the behavior described here)&lt;/p&gt;

&lt;p&gt;The fix is simple, change the line to:&lt;br/&gt;
                        if ( relocation.getVersion() != null )&lt;/p&gt;
                        {
                            //we don&apos;t want to blast the versionRange information
                            artifact.selectVersion( relocation.getVersion() );
                        }

&lt;p&gt;however, I&apos;m not certain what the ramifications of this are. The potential exists for having selected a version that no longer matches the requested version range. Say the version range was &lt;span class=&quot;error&quot;&gt;&amp;#91;1.0,2.0&amp;#93;&lt;/span&gt; and 2.0 was relocated to 3.0. The fix to 2861 involves reloading the available versions from the relocated artifact. This means that there is no not an artifact to match 1.0-2.0 and who knows what&apos;s going to happen.&lt;/p&gt;

&lt;p&gt;I&apos;m choosing to document this and not fix it for now due to the risk of instability. A search of open issues didn&apos;t result in anyone experiencing trouble with this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12797588">MNG-3454</key>
            <summary>processing a relocation erases requested version range</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brianf">Brian E Fox</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2008 20:27:34 +0000</created>
                <updated>Sat, 5 Jul 2025 16:37:36 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 20:32:02 +0000</resolved>
                                    <version>2.0.5</version>
                    <version>2.0.6</version>
                    <version>2.0.7</version>
                    <version>2.0.8</version>
                                                    <component>Artifacts and Repositories</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14418616" author="jvanzyl" created="Wed, 22 Jan 2014 20:23:22 +0000"  >&lt;p&gt;Please refer to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14419107" author="jvanzyl" created="Wed, 22 Jan 2014 20:32:02 +0000"  >&lt;p&gt;Please refer to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/MAVEN/The+Great+JIRA+Cleanup+of+2014&lt;/a&gt; if you&apos;re wondering why this issue was closed out.&lt;/p&gt;</comment>
                            <comment id="17998536" author="JIRAUSER302100" created="Sat, 5 Jul 2025 16:37:36 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/5448&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#5448&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13542077">MRESOLVER-379</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12794244">MNG-2861</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12712575" name="MNG-2861.tar.gz" size="11418" author="brianfox" created="Mon, 10 Mar 2008 20:32:09 +0000"/>
                            <attachment id="12712636" name="MNG-2861_broken.zip" size="34288" author="brianfox" created="Mon, 10 Mar 2008 20:32:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29bbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>