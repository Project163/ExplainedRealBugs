<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-2037] Strange NPE with profile and injectPlugins</title>
                <link>https://issues.apache.org/jira/browse/MNG-2037</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;I use the war plugin with a default configuration :&lt;br/&gt;
&amp;lt;plugin&amp;gt;&lt;br/&gt;
  &amp;lt;artifactId&amp;gt;maven-war-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
  &amp;lt;configuration&amp;gt;&lt;br/&gt;
    &amp;lt;warSourceDirectory implementation=&quot;java.io.File&quot;&amp;gt;${basedir}/src/main/web&amp;lt;/warSourceDirectory&amp;gt;&lt;br/&gt;
    &amp;lt;webXml&amp;gt;${basedir}/src/main/resources/war/web.xml&amp;lt;/webXml&amp;gt; &lt;br/&gt;
    &amp;lt;webappDirectory implementation=&quot;java.io.File&quot;&amp;gt;${basedir}/webappdir&amp;lt;/webappDirectory&amp;gt;&lt;br/&gt;
  &amp;lt;/configuration&amp;gt;&lt;br/&gt;
&amp;lt;/plugin&amp;gt; &lt;br/&gt;
And a profile with only &lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;rec-ap2&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;build&amp;gt;&lt;br/&gt;
        &amp;lt;plugins&amp;gt;&lt;br/&gt;
          &amp;lt;plugin&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;maven-war-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;configuration&amp;gt;&lt;br/&gt;
              &amp;lt;webappDirectory implementation=&quot;java.io.File&quot;&amp;gt;/local/tomcat/jakarta-tomcat-5.5.9/webapps/SLSTester&amp;lt;/webappDirectory&amp;gt;&lt;br/&gt;
            &amp;lt;/configuration&amp;gt;&lt;br/&gt;
          &amp;lt;/plugin&amp;gt;&lt;br/&gt;
        &amp;lt;/plugins&amp;gt; &lt;br/&gt;
      &amp;lt;/build&amp;gt;     &lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;br/&gt;
mvn -P rec-ap2 -X -e war:exploded generate the NPE :&lt;br/&gt;
+ Error stacktraces are turned on. &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Building Maven user-level plugin registry from: &apos;/local/tomcat/.m2/plugin-registry.xml&apos; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Building Maven global-level plugin registry from: &apos;/local/maven/maven-2.0.2/conf/plugin-registry.xml&apos; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects... &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------------------------- &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; FATAL ERROR &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------------------------- &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; null &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------------------------- &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Trace &lt;br/&gt;
java.lang.NullPointerException &lt;br/&gt;
        at org.apache.maven.project.injection.DefaultProfileInjector.injectPlugins(DefaultProfileInjector.java:147) &lt;br/&gt;
        at org.apache.maven.project.injection.DefaultProfileInjector.injectBuild(DefaultProfileInjector.java:134) &lt;br/&gt;
        at org.apache.maven.project.injection.DefaultProfileInjector.inject(DefaultProfileInjector.java:80) &lt;br/&gt;
        at org.apache.maven.project.DefaultMavenProjectBuilder.injectActiveProfiles(DefaultMavenProjectBuilder.java:1035)&lt;/p&gt;

&lt;p&gt;        at org.apache.maven.project.DefaultMavenProjectBuilder.assembleLineage(DefaultMavenProjectBuilder.java:836) &lt;br/&gt;
        at org.apache.maven.project.DefaultMavenProjectBuilder.build(DefaultMavenProjectBuilder.java:593) &lt;br/&gt;
        at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromSourceFile(DefaultMavenProjectBuilder.java:303) &lt;br/&gt;
        at org.apache.maven.project.DefaultMavenProjectBuilder.build(DefaultMavenProjectBuilder.java:274) &lt;br/&gt;
        at org.apache.maven.DefaultMaven.getProject(DefaultMaven.java:515) &lt;br/&gt;
        at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:447) &lt;br/&gt;
        at org.apache.maven.DefaultMaven.getProjects(DefaultMaven.java:351) &lt;br/&gt;
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:278) &lt;br/&gt;
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:115) &lt;br/&gt;
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:249) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) &lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) &lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585) &lt;br/&gt;
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315) &lt;br/&gt;
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255) &lt;br/&gt;
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430) &lt;br/&gt;
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375) &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------------------------- &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: &amp;lt; 1 second &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Fri Feb 03 23:39:41 MET 2006 &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 2M/126M &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ---------------------------------------------------------------------------- &lt;/p&gt;</description>
                <environment>solaris and windowns</environment>
        <key id="12796241">MNG-2037</key>
            <summary>Strange NPE with profile and injectPlugins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcasey">John Dennis Casey</assignee>
                                    <reporter username="olamy">Olivier Lamy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Feb 2006 16:40:35 +0000</created>
                <updated>Sat, 5 Jul 2025 10:32:50 +0000</updated>
                            <resolved>Thu, 16 Feb 2006 18:13:08 +0000</resolved>
                                    <version>2.0.2</version>
                                    <fixVersion>2.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14409908" author="olamy" created="Thu, 9 Feb 2006 12:36:30 +0000"  >&lt;p&gt;I can&apos;t reproduce it.&lt;br/&gt;
Sorry for noise.&lt;/p&gt;</comment>
                            <comment id="14409983" author="buddycasino" created="Thu, 9 Feb 2006 13:00:39 +0000"  >&lt;p&gt;Just wanted to say that I have a similar issue where I get a NPE in Solaris, but not in Windows, maybe these are related? I&apos;m trying to investigate this tomorrow, to make sure I didn&apos;t make any mistakes setting up the environment. I&apos;ll report back if I managed to make it work (or not).&lt;/p&gt;

&lt;p&gt;Heres my stacktrace:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Trace&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
       at org.apache.maven.plugin.DefaultPluginManager.addPlugin(DefaultPluginManager.java:295)&lt;br/&gt;
       at org.apache.maven.plugin.DefaultPluginManager.verifyVersionedPlugin(DefaultPluginManager.java:200)&lt;br/&gt;
       at org.apache.maven.plugin.DefaultPluginManager.verifyPlugin(DefaultPluginManager.java:165)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.verifyPlugin(DefaultLifecycleExecutor.java:1218)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.getMojoDescriptor(DefaultLifecycleExecutor.java:1483)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.bindLifecycleForPackaging(DefaultLifecycleExecutor.java:979)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.constructLifecycleMappings(DefaultLifecycleExecutor.java:943)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:450)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:303)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:270)&lt;br/&gt;
       at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:139)&lt;br/&gt;
       at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:322)&lt;br/&gt;
       at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:115)&lt;br/&gt;
       at org.apache.maven.cli.MavenCli.main(MavenCli.java:249)&lt;br/&gt;
       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
       at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
       at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)&lt;br/&gt;
       at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)&lt;br/&gt;
       at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)&lt;br/&gt;
       at org.codehaus.classworlds.Launcher.main(Launcher.java:375) &lt;/p&gt;</comment>
                            <comment id="14409950" author="olamy" created="Fri, 10 Feb 2006 05:07:04 +0000"  >&lt;p&gt;I reopen this because I have reproduced the trouble.&lt;br/&gt;
I attached the pom.&lt;br/&gt;
Just try : mvn -P intdotw clean.&lt;br/&gt;
Failed on windows+cygwin/cmd and solaris.&lt;br/&gt;
On windows : my settings doesn&apos;t contains the profile.&lt;br/&gt;
On solaris : my settings contains the profile but not activeByDefault and not in activeProfiles section&lt;/p&gt;</comment>
                            <comment id="14409925" author="olamy" created="Fri, 10 Feb 2006 05:09:20 +0000"  >&lt;p&gt;attached the pom to reproduce it.&lt;/p&gt;</comment>
                            <comment id="14409891" author="buddycasino" created="Fri, 10 Feb 2006 06:11:04 +0000"  >&lt;p&gt;Ok, today I was able to resolve my problem, it had to do with a corrupted plugin jar in my repository on solaris, everything runs fine now. Can&apos;t help here, sorry.&lt;/p&gt;</comment>
                            <comment id="14409967" author="olamy" created="Fri, 10 Feb 2006 07:48:09 +0000"  >&lt;p&gt;I have deleted all files in my local repository.&lt;br/&gt;
The NPE appears before downloading artifacts.&lt;br/&gt;
I look at &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/maven/components/tags/maven-2.0.2/maven-project/src/main/java/org/apache/maven/project/injection/DefaultProfileInjector.java?rev=369329&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/maven/components/tags/maven-2.0.2/maven-project/src/main/java/org/apache/maven/project/injection/DefaultProfileInjector.java?rev=369329&amp;amp;view=markup&lt;/a&gt;&lt;br/&gt;
method injectPlugins, probably need to check if profileContainer != null.&lt;br/&gt;
I don&apos;t know all the code of maven. Maybe it&apos;s normal that profileContainer is null.&lt;br/&gt;
Olivier&lt;/p&gt;</comment>
                            <comment id="14409982" author="olamy" created="Fri, 10 Feb 2006 07:48:47 +0000"  >&lt;p&gt;attach full stack trace generated with : mvn -P intdotw -X -e clean &amp;gt; fullstack.log.&lt;/p&gt;</comment>
                            <comment id="14409980" author="renaud_julienne" created="Wed, 8 Mar 2006 10:40:08 +0000"  >&lt;p&gt;I had the same issue and found a workaround.&lt;br/&gt;
In the profile build section, just add an empty pluginManagement section.&lt;/p&gt;

&lt;p&gt;From org.apache.maven.project.injection.DefaultProfileInjector&lt;br/&gt;
122             injectPlugins( profileBuild, modelBuild );&lt;br/&gt;
123 &lt;br/&gt;
124             // Plugin management :: aggregate&lt;br/&gt;
125             PluginManagement profilePM = profileBuild.getPluginManagement();  /** ==&amp;gt; this is what leads to NullPointerException in the following injectPlugins call **/&lt;br/&gt;
126             PluginManagement modelPM = modelBuild.getPluginManagement();&lt;br/&gt;
127 &lt;br/&gt;
128             if ( modelPM == null )&lt;br/&gt;
129             &lt;/p&gt;
{
130                 modelBuild.setPluginManagement( profilePM );
131             }
&lt;p&gt;132             else&lt;br/&gt;
133             &lt;/p&gt;
{
134                 injectPlugins( profilePM, modelPM );
135             }</comment>
                            <comment id="17997657" author="JIRAUSER302100" created="Sat, 5 Jul 2025 10:32:50 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/4376&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#4376&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12711894" name="fullstack.log" size="2739" author="olamy" created="Fri, 10 Feb 2006 07:48:47 +0000"/>
                            <attachment id="12711742" name="pom_changeip.xml" size="7907" author="olamy" created="Fri, 10 Feb 2006 05:09:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i296nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>