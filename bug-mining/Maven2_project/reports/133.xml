<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:30:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-3394] Plugin versions inherited via &lt;pluginManagement&gt; cannot be overriden by &lt;build&gt;.&lt;plugins&gt; section of sub modules</title>
                <link>https://issues.apache.org/jira/browse/MNG-3394</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;See the comments in the module POM of the attached demo project for more explanation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12794946">MNG-3394</key>
            <summary>Plugin versions inherited via &lt;pluginManagement&gt; cannot be overriden by &lt;build&gt;.&lt;plugins&gt; section of sub modules</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcasey">John Dennis Casey</assignee>
                                    <reporter username="bentmann">Benjamin Bentmann</reporter>
                        <labels>
                    </labels>
                <created>Sat, 9 Feb 2008 07:41:46 +0000</created>
                <updated>Sat, 5 Jul 2025 16:37:51 +0000</updated>
                            <resolved>Fri, 7 Mar 2008 13:42:05 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.9</fixVersion>
                                    <component>Inheritance and Interpolation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14412679" author="brettporter" created="Sun, 17 Feb 2008 15:27:32 +0000"  >&lt;p&gt;I think this is intended behaviour - what if you change the pluginManagement of child modules?&lt;/p&gt;</comment>
                            <comment id="14412735" author="bentmann" created="Sun, 17 Feb 2008 15:55:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think this is intended behaviour&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oh please not. What would be the rationale for that? If a user explicitly declares a &lt;tt&gt;&amp;lt;version&amp;gt;&lt;/tt&gt; element under &lt;tt&gt;&amp;lt;build&amp;gt;.&amp;lt;plugins&amp;gt;&lt;/tt&gt; isn&apos;t that a clear indication of this intention to use that version? Do you want to explain to users why that is ignored and they need to hassle with setting up a &lt;tt&gt;&amp;lt;pluginManagement&amp;gt;&lt;/tt&gt; entry just for the fun of overriding a plugin version inherited from the parent? Do you want to clarify why the little sentence &quot;Plugin Management contains plugin elements in much the same way, except that &lt;b&gt;rather than configuring plugin information for this particular project&lt;/b&gt; build, it is intended to configure project builds that inherit from this one.&quot; that users learned from &lt;a href=&quot;http://maven.apache.org/pom.html#Plugin_Management&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/pom.html#Plugin_Management&lt;/a&gt; is not quite up with the reality?&lt;/p&gt;

&lt;p&gt;Last but not least, the lack to override the version only manifest itself&lt;br/&gt;
a) for a lifecycle phase, not for a direct mojo invocation&lt;br/&gt;
b) only for the first lifecycle phase&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;what if you change the pluginManagement of child modules?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;As I already commented in the attached demo POMs, this successfully allows the childs to change the version.&lt;/p&gt;</comment>
                            <comment id="14412664" author="brettporter" created="Sun, 17 Feb 2008 16:03:19 +0000"  >&lt;p&gt;right - I agree it makes sense - my main concern is inconsistency with the deendencyManagement. But if anything is ever given it should either be honoured or an error if it&apos;s incompatible. So changing the behaviour makes sense in this case.&lt;/p&gt;</comment>
                            <comment id="14412650" author="bentmann" created="Sun, 17 Feb 2008 16:16:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;my main concern is inconsistency with the deendencyManagement&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Is this to say a child module&apos;s &lt;tt&gt;&amp;lt;dependencies&amp;gt;.&amp;lt;dependency&amp;gt;&lt;/tt&gt; cannot override an inherited dependency version from the parent? The child POM should always win over the parent POM since it is the most specific descriptor for a build.&lt;/p&gt;</comment>
                            <comment id="14412682" author="sisbell" created="Tue, 4 Mar 2008 16:34:02 +0000"  >&lt;p&gt;I&apos;ve look at the code. There is a problem in the DefaultPluginManager.verifyVersionedPlugin. The method correctly determines the version of the plugin but then it makes a last invocation of pluginCollector.getPluginDescriptor( plugin ), which over rides the correct version of the plugin. There is a comment in the code of pluginCollector.getPluginDescriptor, which seems to touch on this problem:&lt;/p&gt;

&lt;p&gt;        // TODO: include version, but can&apos;t do this in the plugin manager as it is not resolved to the right version&lt;br/&gt;
        // at that point. Instead, move the duplication check to the artifact container, or store it locally based on&lt;br/&gt;
        // the unresolved version?&lt;/p&gt;

&lt;p&gt;I&apos;ll keep digging to see how to fix it.&lt;/p&gt;</comment>
                            <comment id="14412784" author="jdcasey" created="Wed, 5 Mar 2008 11:02:35 +0000"  >&lt;p&gt;the *Management sections of the POM were originally designed to provide default values, not overrides. This behavior was changed for dependencies in &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-1577&quot; title=&quot;dependencyManagement does not work for transitive dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-1577&quot;&gt;MNG-1577&lt;/a&gt; IIRC, but I don&apos;t know when the change was made for plugins. The behavior should probably be controlled in the class org.apache.maven.project.injection.DefaultModelDefaultsInjector.java (in maven-project). I&apos;ve looked into this class in both 2.0.x and trunk, and they&apos;re the same...not sure whether that means the change happened before the split (unlikely) or was ported across (more likely), but in both cases it looks like it only uses the pluginManagement version if the main version is missing and the pluginManagement version is not.&lt;/p&gt;

&lt;p&gt;I&apos;m not really sure what&apos;s going on here, but hopefully that can shed a little light on the background for this.&lt;/p&gt;
</comment>
                            <comment id="14412691" author="jdcasey" created="Thu, 6 Mar 2008 11:37:53 +0000"  >&lt;p&gt;The code on that ModelDefaultsInjector impl seems nearly identical between 2.0.x/HEAD and 2.1/HEAD (slight formatting diffs), but the two behave dramatically different on this point. 2.1-SNAPSHOT allows local override of plugin version (in the build/plugins section), where 2.0.9-SNAPSHOT does not. I&apos;m not sure where else pluginManagement comes into play (it probably shouldn&apos;t be in play at all once the project instance is built), but the difference must lie outside of the defaults injector...&lt;/p&gt;

&lt;p&gt;Sorry for the red herring.&lt;/p&gt;</comment>
                            <comment id="14412781" author="jdcasey" created="Thu, 6 Mar 2008 13:36:59 +0000"  >&lt;p&gt;The problem seems to be coming from the DefaultLifecycleExecutor.getMojoDescriptor(..) method. After parsing or otherwise acquiring a Plugin object for the task being invoked, it blindly injects pluginManagement values without first checking the project for a matching non-pluginManagement plugin entry...then, it passes the plugin off to the DefaultPluginManager.verifyPlugin(..) method, which from what I can tell would have done this in the correct order (including  the project/build/plugins/plugin info over the pluginManagement info).&lt;/p&gt;

&lt;p&gt;I&apos;m currently trying to figure out whether we can remove the project.injectPluginManagementInfo(..) call from DefaultLifecycleExecutor.getMojoDescriptor(..), to simplify things and restore some semblance of sanity. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14412762" author="jdcasey" created="Fri, 7 Mar 2008 13:42:05 +0000"  >&lt;p&gt;Fixed, and IT is in place to keep it from coming back.&lt;/p&gt;</comment>
                            <comment id="17998589" author="JIRAUSER302100" created="Sat, 5 Jul 2025 16:37:51 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/5508&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#5508&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12794961">MNG-3395</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12712224" name="plugin-management-version.zip" size="1992" author="bentmann" created="Sat, 9 Feb 2008 07:41:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i29ce7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>