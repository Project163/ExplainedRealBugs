<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-483] sort out artifact attachment</title>
                <link>https://issues.apache.org/jira/browse/MNG-483</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;currently, there is an attachArtifact call inside the plugin building the attachment. It imposes a m-a and m-p dependency, as well as an artifactFactory requirement to be able to construct the artifact to attach.&lt;/p&gt;

&lt;p&gt;sort out&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if there is an easier way to achieve this&lt;/li&gt;
	&lt;li&gt;how to retain the default source binding, but also how to turn it off&lt;/li&gt;
	&lt;li&gt;how to make the source binding happen only on &quot;release&quot; (bear in mind people may not be using the release plugin... a profile was the original idea)&lt;/li&gt;
	&lt;li&gt;how to bind assembly similarly&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12793534">MNG-483</key>
            <summary>sort out artifact attachment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdcasey">John Dennis Casey</assignee>
                                    <reporter username="brett">Brett Porter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Jun 2005 04:03:55 +0000</created>
                <updated>Sat, 5 Jul 2025 07:12:06 +0000</updated>
                            <resolved>Wed, 17 Aug 2005 14:33:40 +0000</resolved>
                                                    <fixVersion>2.0-beta-1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14408504" author="brettporter" created="Fri, 5 Aug 2005 01:02:37 +0000"  >&lt;p&gt;I think the current code attachment will suffice for now.&lt;/p&gt;

&lt;p&gt;I think removing the SNAPSHOT check and letting users add a release profile that the release plugin always uses (but that they can use too) is a good way to do this.&lt;/p&gt;

&lt;p&gt;I&apos;m not yet sure how to enable the source binding by default, and how to disable it once enabled. Thoughts?&lt;/p&gt;</comment>
                            <comment id="14408378" author="brettporter" created="Fri, 5 Aug 2005 01:06:31 +0000"  >&lt;p&gt;tricky thing to watch out for here:&lt;/p&gt;

&lt;p&gt;assembly:assembly has an @execute phase=&quot;package&quot;, but what we want is to bind it to package and have it run after the normal packaging. We will end up running packaging twice. Hmmm.&lt;/p&gt;
</comment>
                            <comment id="14408413" author="brettporter" created="Sun, 7 Aug 2005 01:11:30 +0000"  >&lt;p&gt;1) Jason Grant is looking at implementing the attaching of artifacts during assembly:assembly which is a part of this&lt;/p&gt;

&lt;p&gt;2) on my &quot;tricky bit&quot; comment above, this can probably be resolved by having that be @execute phase=&quot;package&quot; cliOnly=&quot;true&quot; (where cliOnly is a new construct indicating the goal had to be called explicitly to trigger it, instead of during the lifecycle for package). This hearkens back to &quot;reverse lookup of the lifecycle for a goal&quot;, so should review that issue first to see whether there are other reasons to beware of here.&lt;/p&gt;</comment>
                            <comment id="14408399" author="jdcasey" created="Tue, 9 Aug 2005 11:55:27 +0000"  >&lt;p&gt;I&apos;m not sure I have enough background on this issue to keep up.&lt;/p&gt;

&lt;p&gt;1. How would you activate a profile that introduces the attachment in the case of the release plugin?&lt;/p&gt;

&lt;p&gt;2. What do you mean by disabling the source binding once enabled, and in the case of enabling it by default are you talking about some sort of POM addition or something? What&apos;s the issue here, exactly?&lt;/p&gt;

&lt;p&gt;3. What SNAPSHOT check are you referring to? Determining whether to attach the source artifact based on snapshot vs. not?&lt;/p&gt;

&lt;p&gt;4. I like the cliOnly annotation idea, and I think it may have more general applicability.&lt;/p&gt;</comment>
                            <comment id="14408445" author="brettporter" created="Tue, 9 Aug 2005 20:38:21 +0000"  >&lt;p&gt;1) I was thinking a property or ID documented and used by the release plugin specifically for that purpose&lt;/p&gt;

&lt;p&gt;2) I want it possible to have the source binding enabled by default, and make it possible to disable it easily from a pom, but this isn&apos;t how inheritence has tended to work&lt;/p&gt;

&lt;p&gt;3) currently in the source plugin it only generates if it is not a snapshot (as I think it only makes sense to enable this by default as part of the release, actually, not for snapshot generation and normal builds)&lt;/p&gt;

&lt;p&gt;4) ok, let&apos;s go with that. I tried alternatives and kept coming back to it.&lt;/p&gt;</comment>
                            <comment id="14408431" author="jdcasey" created="Wed, 10 Aug 2005 14:34:56 +0000"  >&lt;p&gt;1. Okay, I get it now...that&apos;s easy enough to handle.&lt;/p&gt;

&lt;p&gt;2. What about having something like:&lt;/p&gt;

&lt;p&gt;&amp;lt;project&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
  &amp;lt;build&amp;gt;&lt;br/&gt;
    ...&lt;br/&gt;
    &amp;lt;attachments&amp;gt;&lt;br/&gt;
      &amp;lt;source&amp;gt;true&amp;lt;/source&amp;gt;&lt;br/&gt;
    &amp;lt;/attachments&amp;gt;&lt;br/&gt;
  &amp;lt;/build&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;in order to turn on/off source attachments? the values in the attachments stanza could be a free-form DOM or somesuch, with the maven-source-plugin checking for ${project.buildAttachments}.isEnabled( &quot;source&quot; ) or somesuch...and the inheritance assembler could do a DOM merge with local-wins for the child to override the value in the super-pom. WDYT?&lt;/p&gt;

&lt;p&gt;3. I&apos;d agree that maybe the super-pom should have a profile inline that specifies the source plugin, and is activated by -DsourceArtifact=true or somesuch. Then, we get away from checking for -SNAPSHOT, and only releases and very explicit usages would activate that profile.&lt;/p&gt;

&lt;p&gt;4. will do. Is someone already working on this part (or on the assembly mojo&apos;s lack of execution in the package phase)?&lt;/p&gt;</comment>
                            <comment id="14408567" author="logularjason" created="Wed, 10 Aug 2005 23:46:09 +0000"  >&lt;p&gt;A bit of background with regard to Brett&apos;s mention of me looking at the attachment of artifacts, above.&lt;/p&gt;

&lt;p&gt;I&apos;ve been using assembly to produce zip files, and asked questions on IRC about how best to get these across to the local repo so that other project could depend on them.  If I understand correctly, Brett suggested an enhancement to AssemblyMojo that will attach all assemblies to the project as artifacts.  Then, when the project is installed, these artifacts will wind up in the local repo.&lt;/p&gt;

&lt;p&gt;There was some talk of only doing this if the project packaging was of &lt;span class=&quot;error&quot;&gt;&amp;#91;new&amp;#93;&lt;/span&gt; type &quot;assembly&quot;, but I think we agreed to do it whatever the packaging is (see below).  I&apos;m happy to have a go at this - I&apos;ll build it on top of my contribution sent as a patch in &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-723&lt;/a&gt; if other folk agree. &lt;/p&gt;

&lt;p&gt;So just to be clear, my contribution to this issue has quite limited scope.  I&apos;m too green to understand some of the content above.&lt;/p&gt;

&lt;p&gt;-----------------------&lt;/p&gt;

&lt;p&gt;(15:58:29) jasong: &lt;span class=&quot;error&quot;&gt;&amp;#91;junk snipped&amp;#93;&lt;/span&gt; just thinking ahead though - I was going to modify AssemblyMojo to simply attach each archive to the project.  Is that a reasonable start, or should I be considering what the project&apos;s packaging is?&lt;br/&gt;
(16:05:05) brett: jasong: attach away! That&apos;s great, because then anyone generating an assembly (even for a jar) will be able to install/deploy it. Thanks!&lt;/p&gt;</comment>
                            <comment id="14408433" author="jdcasey" created="Thu, 11 Aug 2005 09:33:02 +0000"  >&lt;p&gt;linking these to make it easier to track issues related to the assembly mojo and @execute, @cliOnly, and &amp;lt;phase/&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14408476" author="logularjason" created="Sun, 14 Aug 2005 09:24:12 +0000"  >&lt;p&gt;I&apos;ve made the change described in my comment above.  Hope it finds its way into svn soon.&lt;/p&gt;

&lt;p&gt;Note that this attachment builds on the AssemblyMojo that was contributed in #&lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-723&quot; title=&quot;[patch] assembly:unpack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-723&quot;&gt;&lt;del&gt;MNG-723&lt;/del&gt;&lt;/a&gt; (the new unpack goal).  I&apos;ll make a note there too.&lt;/p&gt;

&lt;p&gt;I still intend to contribute an integration test for this in the near future.&lt;/p&gt;</comment>
                            <comment id="14408481" author="brettporter" created="Sun, 14 Aug 2005 20:11:30 +0000"  >&lt;p&gt;reponses to &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-483#action_44258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-483#action_44258&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1) cool&lt;/p&gt;

&lt;p&gt;2) how about just having an &quot;attach&quot; parameter on each mojo that can do it? Now that I think about it, that seems much easier.&lt;/p&gt;

&lt;p&gt;3) this should tie into (1). So (2) would always default to false, then the super POM would have a profile with the release ID that enables sources and javadocs. I&apos;m almost inclined to leave this out and make people specify it, but put it in the archetypes...&lt;/p&gt;

&lt;p&gt;4) I think Jason&apos;s patch takes care of this?&lt;/p&gt;</comment>
                            <comment id="14408436" author="logularjason" created="Sun, 14 Aug 2005 23:07:39 +0000"  >&lt;p&gt;Re (4): My patch does &lt;b&gt;not&lt;/b&gt; cater for the cliOnly idea; it simply attaches all assemblies as project artifacts as described in #action_44289 above.  I&apos;m not game to start making changes to the core lifecycle algorithms until I graduate from novice status!&lt;/p&gt;</comment>
                            <comment id="14408543" author="brettporter" created="Sun, 14 Aug 2005 23:10:24 +0000"  >&lt;p&gt;oops, I was looking at the 4th point at the top... sorry!&lt;/p&gt;</comment>
                            <comment id="14408525" author="logularjason" created="Mon, 15 Aug 2005 22:57:39 +0000"  >&lt;p&gt;Would you like me to check my enhancements in to svn?  I notice that Daniel Krisher has patched the assembly plugin off the trunk, over in #MNG-735.  He is probably unaware of the &apos;unpack&apos; work (#&lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-723&quot; title=&quot;[patch] assembly:unpack&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-723&quot;&gt;&lt;del&gt;MNG-723&lt;/del&gt;&lt;/a&gt;) and I think that Daniels directory patch will have implications for automatic addition of artifacts, as described here; i.e. we probably don&apos;t want to add a directory as a project artifact, right?&lt;/p&gt;</comment>
                            <comment id="14408490" author="jdcasey" created="Mon, 15 Aug 2005 23:17:12 +0000"  >&lt;p&gt;I&apos;ve already applied this patch locally...I&apos;ll check it in soon, when I can get a good build. Then, we can go from there wrt MNG-735.&lt;/p&gt;</comment>
                            <comment id="14408594" author="jdcasey" created="Tue, 16 Aug 2005 13:24:25 +0000"  >&lt;p&gt;cliOnly annotation parameter has been changed to @requiresDirectInvocation to reflect potential embedded mode, and to act as a flag like @requiresProject does.&lt;/p&gt;</comment>
                            <comment id="14408492" author="brettporter" created="Wed, 17 Aug 2005 07:47:07 +0000"  >&lt;p&gt;I am getting an extra artifact on normal jar projects, with -artifactClassifier.artifactExtension on the end.&lt;/p&gt;</comment>
                            <comment id="14408612" author="jdcasey" created="Wed, 17 Aug 2005 14:33:40 +0000"  >&lt;p&gt;see it0051 and it0052 (which I will be creating now)&lt;/p&gt;</comment>
                            <comment id="17526945" author="hboutemy" created="Sun, 24 Apr 2022 00:46:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/maven/blob/maven-2.2.x/maven-project/src/main/resources/org/apache/maven/project/pom-4.0.0.xml#L156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven/blob/maven-2.2.x/maven-project/src/main/resources/org/apache/maven/project/pom-4.0.0.xml#L156&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17996119" author="JIRAUSER302100" created="Sat, 5 Jul 2025 07:12:06 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/2900&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#2900&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12916750">MNG-5940</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13341989">MNG-7029</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310260">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12793309">MNG-709</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12793502">MNG-427</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12711577" name="assembly-050814-1.zip" size="6452" author="logularjason" created="Sun, 14 Aug 2005 09:24:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i292kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>