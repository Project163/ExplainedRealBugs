<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-226] need to be able to dynamically register providers for wagon and scm</title>
                <link>https://issues.apache.org/jira/browse/MNG-226</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;currently, only what is a dependency on the using plugin, or in maven2/lib is used. Need to be able to add these on the fly - perhaps this is a plexus artifact container thing that can register certain roles with groupID/artifactId patterns so a hint of &quot;file&quot; can always go and get wagon-file?&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12793270">MNG-226</key>
            <summary>need to be able to dynamically register providers for wagon and scm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brett">Brett Porter</assignee>
                                    <reporter username="brett">Brett Porter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Mar 2005 02:11:13 +0000</created>
                <updated>Sat, 5 Jul 2025 07:12:36 +0000</updated>
                            <resolved>Wed, 27 Jul 2005 09:54:30 +0000</resolved>
                                                    <fixVersion>2.0-beta-1</fixVersion>
                                    <component>Design, Patterns &amp;amp; Best Practices</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14420232" author="trygvis@inamo.no" created="Tue, 29 Mar 2005 06:43:00 +0000"  >&lt;p&gt;This issue should be a breeze once the Plexus one is done.&lt;/p&gt;</comment>
                            <comment id="14407740" author="jdcasey" created="Fri, 15 Apr 2005 10:28:31 +0000"  >&lt;p&gt;working on this in tandem with multiple plexus.xml support, since this is the most compelling use case.&lt;/p&gt;</comment>
                            <comment id="14407748" author="jdcasey" created="Mon, 18 Apr 2005 10:34:42 +0000"  >&lt;p&gt;This issue is blocked by the same problem which caused problems with the assembly plugin, namely that class realms are getting mixed up. One plugin loads a component, and that component stays in the container even after that plugin is finished executing. Then, a second plugin comes along with a requirement on the same (pre-loaded this time) component. This time, the container uses the component defined from the last plugin&apos;s execution, which means that the current plugin and the component which has been wired to it have incompatible class realms.&lt;/p&gt;

&lt;p&gt;The specific case for scripting language support means that the component factory doesn&apos;t have access to the scripts, taglibs, etc. which are defined in this current plugin, since it cannot use the classloader to discover scripting parts inside the plugin (the plugin and component-factory have sibling, and isolated, class realms).&lt;/p&gt;

&lt;p&gt;Until we have a better way of really sharing components inside of plexus, including shared classloading, etc. for loaded components, this will remain a problem.&lt;/p&gt;</comment>
                            <comment id="14407598" author="jdcasey" created="Mon, 18 Apr 2005 12:11:15 +0000"  >&lt;p&gt;Came back around to this issue again, to see what the specific problem is. I looked in the code, and it&apos;s already doing a lookup on the container per-call to the getWagon() method, so it should be able to use dynamically-added wagons.&lt;/p&gt;

&lt;p&gt;What is the specific problem WRT DefaultWagonManager and wagon lookup?&lt;/p&gt;</comment>
                            <comment id="14408060" author="jdcasey" created="Sun, 5 Jun 2005 21:05:54 +0000"  >&lt;p&gt;the current problem is this:&lt;/p&gt;

&lt;p&gt;we have a core plexus container used by the maven application, which defines things like WagonManager; and for each plugin, we have a child container which loads that plugin&apos;s specific dependencies (those not filtered by the exclusion filter in DefaultPluginManager). In the deploy plugin, the plugin contained (this has been worked around for now) declared a dependency on wagon-ssh...which means that the scp wagon should have been visible to WagonManager for this plugin&apos;s context. HOWEVER, since WagonManager is defined in the parent container, it cannot see components in the child (plugin) container, and therefore has no idea of the scp wagon&apos;s existence in the system.&lt;/p&gt;

&lt;p&gt;This situation has other implications as well. For example, if we define a new wagon capable of artifact deployment - say webdav - we have to redeploy the maven-deploy-plugin with this new wagon as a dependency. It would probably be smarter in these cases to have a lookup mechanism which is similar to maven&apos;s plugin location process (brett&apos;s idea), and which would be reusable across maven-artifact, maven-scm, maven-core (plugins), etc.&lt;/p&gt;

&lt;p&gt;As for component-factories, the new reliance on nested DefaultPlexusContainer instances rather than a single DefaultArtifactContainer should fix this. This is a special case, since the ComponentFactoryManager is a core plexus component, and is therefore defined in every container instance.&lt;/p&gt;

&lt;p&gt;For now, wagon-ssh is included in maven-core&apos;s runtime dependencies, and we&apos;ll revisit this post-2.0&lt;/p&gt;</comment>
                            <comment id="14407998" author="jdcasey" created="Sun, 5 Jun 2005 21:07:08 +0000"  >&lt;p&gt;moving this to post-2.0, since the remaining problems will require a much more intensive fix that we&apos;re not prepared to implement for the 2.0 release cycle&lt;/p&gt;</comment>
                            <comment id="14407854" author="jdcasey" created="Tue, 7 Jun 2005 10:50:20 +0000"  >&lt;p&gt;marmalade and beanshell mojo support is now excluded from the core, and included on-demand via plugin dependencies.&lt;/p&gt;

&lt;p&gt;As noted before, a similar solution for wagon-based things will require a refactor of the WagonManager implementation to allow PluginManager-style lookups.&lt;/p&gt;</comment>
                            <comment id="14408313" author="brettporter" created="Fri, 22 Jul 2005 02:23:43 +0000"  >&lt;p&gt;bringing back to 2.0-beta-1 as I have a simple idea for a fix, if it works&lt;/p&gt;</comment>
                            <comment id="14408315" author="brettporter" created="Mon, 25 Jul 2005 00:56:17 +0000"  >&lt;p&gt;We have &quot;build extensions&quot; - ie providers for wagon, scm that are not&lt;br/&gt;
really plugins but additional providers for a particular plexus role.&lt;br/&gt;
Currently, these need to be dropped into M2_HOME/lib along with their&lt;br/&gt;
dependencies which is not ideal. (SCM ones can be a dependency on the&lt;br/&gt;
SCM/release plugin, but there is no scope to later add a new one). In&lt;br/&gt;
the future, repository metadata might help us locate plexus components&lt;br/&gt;
with a particular role and role hint, but this will hold us over until then.&lt;/p&gt;

&lt;p&gt;While we should still make the &quot;standard&quot; ones available out of the box,&lt;br/&gt;
it needs to be easy to add more via the project in a reproducible way,&lt;br/&gt;
so I propose:&lt;/p&gt;

&lt;p&gt;&amp;lt;build&amp;gt;&lt;br/&gt;
  &amp;lt;extensions&amp;gt;&lt;br/&gt;
    &amp;lt;extension&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;org.apache.maven.wagon&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;wagon-ftp&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;1.0-alpha-4&amp;lt;/version&amp;gt;&lt;br/&gt;
    &amp;lt;/extension&amp;gt;&lt;br/&gt;
  &amp;lt;/extensions&amp;gt;&lt;br/&gt;
&amp;lt;/build&amp;gt;&lt;/p&gt;

&lt;p&gt;This is here instead of in dependencies for clarity and so that you can&lt;br/&gt;
use them both as an extension and as a dependency without having to&lt;br/&gt;
worry about matching versions or scope.&lt;br/&gt;
 Extensions are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;inherited from the parent&lt;/li&gt;
	&lt;li&gt;have NO configuration&lt;/li&gt;
	&lt;li&gt;the version can be omitted (use RELEASE) or use ranges like a plugin&lt;br/&gt;
and will be populated by the release plugin&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;At execution, it needs to be available to the core code (eg&lt;br/&gt;
DefaultWagonManager), and also particular plugins (eg maven-scm-plugin).&lt;br/&gt;
For now, I just intend to push the extensions into the core classloader.&lt;br/&gt;
I think we might eventually need to construct a per-project execution&lt;br/&gt;
realm as a basis for plugin realms and recreate those plugin realms for&lt;br/&gt;
each project (currently it is only ever created for one plugin - so&lt;br/&gt;
mutliple versions of a plugin might have problems).&lt;/p&gt;
</comment>
                            <comment id="14408355" author="brettporter" created="Tue, 26 Jul 2005 19:00:39 +0000"  >&lt;p&gt;the type handlers will need to be loaded into the extension classloader, so I&apos;ll do &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-226&quot; title=&quot;need to be able to dynamically register providers for wagon and scm&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MNG-226&quot;&gt;&lt;del&gt;MNG-226&lt;/del&gt;&lt;/a&gt; first&lt;/p&gt;</comment>
                            <comment id="14408404" author="brettporter" created="Wed, 27 Jul 2005 01:06:52 +0000"  >&lt;p&gt;implemented &amp;lt;extensions/&amp;gt; with some limitations which have been filed separately for later milestones&lt;/p&gt;</comment>
                            <comment id="14408374" author="brettporter" created="Wed, 27 Jul 2005 07:54:24 +0000"  >&lt;p&gt;needs to be added for pluginManagement&lt;/p&gt;</comment>
                            <comment id="17996256" author="JIRAUSER302100" created="Sat, 5 Jul 2025 07:12:36 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/2735&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#2735&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12793644">MNG-598</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12798029">MANTTASKS-61</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i295tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>