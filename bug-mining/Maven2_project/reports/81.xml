<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:29:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MNG-1509] Profile activation by os doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/MNG-1509</link>
                <project id="12316922" key="MNG">Maven (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;Profile activation by os doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;OperatingSystemProfileActivator is missing in components.xml.&lt;/p&gt;

&lt;p&gt;Implementation of OperatingSystemProfileActivator.isActive is wrong.&lt;/p&gt;

</description>
                <environment>Ubuntu 5.10 maven 2.0</environment>
        <key id="12793937">MNG-1509</key>
            <summary>Profile activation by os doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brett">Brett Porter</assignee>
                                    <reporter username="bommel">Bernd Bohmann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2005 17:07:49 +0000</created>
                <updated>Sat, 5 Jul 2025 08:32:30 +0000</updated>
                            <resolved>Mon, 20 Feb 2006 22:30:25 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0.3</fixVersion>
                                    <component>Inheritance and Interpolation</component>
                        <due></due>
                            <votes>9</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14409325" author="bommel" created="Fri, 11 Nov 2005 11:17:03 +0000"  >&lt;p&gt;I want to add tools.jar as dependency only if i&apos;m not on a mac.&lt;/p&gt;

&lt;p&gt;Mac X has no tools.jar &lt;/p&gt;

&lt;p&gt;   &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;tools.jar&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;activation&amp;gt;&lt;br/&gt;
        &amp;lt;os&amp;gt;&amp;lt;family&amp;gt;!mac&amp;lt;/family&amp;gt;&amp;lt;/os&amp;gt;&lt;br/&gt;
      &amp;lt;/activation&amp;gt;&lt;br/&gt;
      &amp;lt;dependencies&amp;gt;&lt;br/&gt;
        &amp;lt;dependency&amp;gt;&lt;br/&gt;
          &amp;lt;groupId&amp;gt;sun.jdk&amp;lt;/groupId&amp;gt;&lt;br/&gt;
          &amp;lt;artifactId&amp;gt;tools&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
          &amp;lt;version&amp;gt;1.5.0&amp;lt;/version&amp;gt;&lt;br/&gt;
          &amp;lt;scope&amp;gt;system&amp;lt;/scope&amp;gt;&lt;br/&gt;
          &amp;lt;systemPath&amp;gt;${java.home}/../lib/tools.jar&amp;lt;/systemPath&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
      &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14409441" author="bommel" created="Tue, 15 Nov 2005 13:18:15 +0000"  >&lt;p&gt;patch included&lt;/p&gt;</comment>
                            <comment id="14409551" author="bommel" created="Mon, 5 Dec 2005 17:43:21 +0000"  >&lt;p&gt;First patch for OperatingSystemProfileActivator was not really correct.&lt;/p&gt;</comment>
                            <comment id="14409521" author="jdcasey" created="Thu, 8 Dec 2005 23:57:31 +0000"  >&lt;p&gt;Applied. Thanks, Bernd&lt;/p&gt;</comment>
                            <comment id="14409538" author="daveboden" created="Wed, 14 Dec 2005 04:25:03 +0000"  >&lt;p&gt;Morning. This is marked as fixed in 2.0.1 (which is now available on the ibiblio repository).&lt;/p&gt;

&lt;p&gt;I&apos;m using the following:&lt;/p&gt;

&lt;p&gt;            &amp;lt;activation&amp;gt;&lt;br/&gt;
                &amp;lt;os&amp;gt;&lt;br/&gt;
                    &amp;lt;family&amp;gt;windows&amp;lt;/family&amp;gt;&lt;br/&gt;
                &amp;lt;/os&amp;gt;&lt;br/&gt;
            &amp;lt;/activation&amp;gt;&lt;/p&gt;

&lt;p&gt;This doesn&apos;t cause a profile to be activated when building on my Windows XP machine. If I set &amp;lt;activeByDefault/&amp;gt; then my build works and includes the profile as expected.&lt;/p&gt;

&lt;p&gt;Help appreciated.&lt;/p&gt;

&lt;p&gt;Moreover, I&apos;ve looked through the commons-lang API documentation and source code. I can&apos;t find reference to anything resembling the concept of an operating system family identifier (e.g. &quot;windows&quot; or &quot;unix&quot;).&lt;/p&gt;

&lt;p&gt;import org.apache.commons.lang.SystemUtils;&lt;/p&gt;

&lt;p&gt;public class CommonsLang {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
        System.out.println(&quot;IsOSWindows: &quot; + SystemUtils.IS_OS_WINDOWS);
        System.out.println(&quot;OSName: &quot; + SystemUtils.OS_NAME);
        System.out.println(&quot;OSArch: &quot; + SystemUtils.OS_ARCH);
        System.out.println(&quot;OSVersion: &quot; + SystemUtils.OS_VERSION);
    }

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;&amp;#8212; Output &amp;#8212;&lt;/p&gt;

&lt;p&gt;IsOSWindows: true&lt;br/&gt;
OSName: Windows XP&lt;br/&gt;
OSArch: x86&lt;br/&gt;
OSVersion: 5.1&lt;/p&gt;

&lt;p&gt;&amp;#8212; End Output &amp;#8212;&lt;/p&gt;

&lt;p&gt;Setting &amp;lt;os&amp;gt;&amp;lt;name&amp;gt;Windows XP&amp;lt;/name&amp;gt;&amp;lt;/os&amp;gt; doesn&apos;t do the trick either.&lt;/p&gt;
</comment>
                            <comment id="14409598" author="jdcasey" created="Wed, 14 Dec 2005 08:50:53 +0000"  >&lt;p&gt;We need to take another look at this, apparently. Regardless of whether it&apos;s technically working or not, it definitely should be robust enough to handle the use case mentioned in the last comment.&lt;/p&gt;</comment>
                            <comment id="14409501" author="bommel" created="Wed, 14 Dec 2005 10:36:54 +0000"  >&lt;p&gt;Added more Testcases to DefaultProfileManagerTest.java m unfortunately they are os depend (my os is unix):&lt;/p&gt;

&lt;p&gt;public void testOsActivationNotFamilyProfile() throws ProfileActivationException&lt;/p&gt;
      {
          Profile osActivated = new Profile();
          osActivated.setId(&quot;os-profile&quot;);

          Activation osActivation = new Activation();

          ActivationOS activationOS = new ActivationOS();

          activationOS.setFamily(&quot;!windows&quot;);

          osActivation.setOs(activationOS);

          osActivated.setActivation(osActivation);

          ProfileManager profileManager = new DefaultProfileManager(getContainer());

          profileManager.addProfile(osActivated);

          List active = profileManager.getActiveProfiles();

          assertNotNull( active );
          assertEquals( 1, active.size() );
      }

&lt;p&gt;   public void testOsActivationFamilyProfile() throws ProfileActivationException&lt;/p&gt;
      {
          Profile osActivated = new Profile();
          osActivated.setId(&quot;os-profile&quot;);

          Activation osActivation = new Activation();

          ActivationOS activationOS = new ActivationOS();

          activationOS.setFamily(&quot;unix&quot;);

          osActivation.setOs(activationOS);

          osActivated.setActivation(osActivation);

          ProfileManager profileManager = new DefaultProfileManager(getContainer());

          profileManager.addProfile(osActivated);

          List active = profileManager.getActiveProfiles();

          assertNotNull( active );
          assertEquals( 1, active.size() );
      }

&lt;p&gt;  public void testOsActivationWrongFamilyProfile() throws ProfileActivationException&lt;/p&gt;
       {
           Profile osActivated = new Profile();
           osActivated.setId(&quot;os-profile&quot;);

           Activation osActivation = new Activation();

           ActivationOS activationOS = new ActivationOS();

           activationOS.setFamily(&quot;!unix&quot;);

           osActivation.setOs(activationOS);

           osActivated.setActivation(osActivation);

           ProfileManager profileManager = new DefaultProfileManager(getContainer());

           profileManager.addProfile(osActivated);

           List active = profileManager.getActiveProfiles();

           assertNotNull( active );
           assertEquals( 0, active.size() );
       }

&lt;p&gt;All these tests runs without a failure.&lt;/p&gt;

&lt;p&gt;How can i ensure that this version is used by maven?&lt;/p&gt;
</comment>
                            <comment id="14409953" author="brettporter" created="Mon, 20 Feb 2006 20:55:58 +0000"  >&lt;p&gt;fixed in trunk.&lt;/p&gt;

&lt;p&gt;Activation of any profiles from settings.xml was hosed.&lt;/p&gt;</comment>
                            <comment id="17996767" author="JIRAUSER302100" created="Sat, 5 Jul 2025 08:32:30 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven/issues/3496&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven#3496&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12711446" name="DefaultProfileManagerTest.java.patch" size="1471" author="bommel" created="Thu, 10 Nov 2005 17:07:50 +0000"/>
                            <attachment id="12712066" name="OperatingSystemProfileActivator.java.patch" size="2024" author="bommel" created="Mon, 5 Dec 2005 17:43:21 +0000"/>
                            <attachment id="12711596" name="OperatingSystemProfileActivator.java.patch" size="2035" author="bommel" created="Thu, 10 Nov 2005 17:07:50 +0000"/>
                            <attachment id="12711524" name="components.xml.patch" size="1264" author="bommel" created="Thu, 10 Nov 2005 17:07:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i28zdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12312220" key="com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons">
                        <customfieldname>Testcase included</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="11060"><![CDATA[Yes]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>