diff --git a/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/infly/InFlyCache.java b/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/infly/InFlyCache.java
index 9c5ef3d..849e97e 100644
--- a/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/infly/InFlyCache.java
+++ b/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/infly/InFlyCache.java
@@ -61,9 +61,7 @@ public class InFlyCache {
 
     public void put(CacheType cacheType, String channelId, int mqttMsgId) {
         ConcurrentMap<String, Set<Integer>> cache = whichCache(cacheType);
-        if (!cache.containsKey(channelId)) {
-            cache.putIfAbsent(channelId, new HashSet<>());
-        }
+        cache.putIfAbsent(channelId, new HashSet<>());
         Set<Integer> idCache = cache.get(channelId);
         if (idCache == null) {
             return;
@@ -111,9 +109,7 @@ public class InFlyCache {
             pendingDown.setSubscription(subscription);
             pendingDown.setQueue(queue);
             pendingDown.setSeqId(message.getOffset());
-            if (!cache.containsKey(channelId)) {
-                cache.putIfAbsent(channelId, new ConcurrentHashMap<>(16));
-            }
+            cache.putIfAbsent(channelId, new ConcurrentHashMap<>(16));
             cache.get(channelId).put(mqttMsgId, pendingDown);
             return pendingDown;
         }
diff --git a/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/match/MatchAction.java b/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/match/MatchAction.java
index d26e94e..5b509d3 100644
--- a/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/match/MatchAction.java
+++ b/mqtt-cs/src/main/java/org/apache/rocketmq/mqtt/cs/session/match/MatchAction.java
@@ -120,9 +120,7 @@ public class MatchAction {
             }
 
             synchronized (topicCache) {
-                if (!topicCache.containsKey(topicFilter)) {
-                    topicCache.putIfAbsent(topicFilter, new HashSet<>());
-                }
+                topicCache.putIfAbsent(topicFilter, new HashSet<>());
                 topicCache.get(topicFilter).add(channelId);
             }
         }
