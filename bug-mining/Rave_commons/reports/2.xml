<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:25:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[RAVE-874] Unable to load initial data on a MySQL database when using linux</title>
                <link>https://issues.apache.org/jira/browse/RAVE-874</link>
                <project id="12311290" key="RAVE">Rave</project>
                    <description>&lt;p&gt;When using a MySQL database on a linux OS it is not possible to load the initial data due the OS being case-sensitive.&lt;/p&gt;

&lt;p&gt;The executeScriptQuery parameter of org.apache.rave.jdbc.util.DataSourcePopulator is &quot;SELECT * FROM WIDGET&quot; but the table is actually named &quot;widget&quot;. (see line 31 in Spring configuration file named dataContext.xml)&lt;/p&gt;

&lt;p&gt;There are no error logs because it seems the exception where the table is not found is swallowed (see line 166 in DataSourcePopulator).&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;br/&gt;
 1. Create a database in MySQL and create a user and grant ALL permissions to the user on the database&lt;br/&gt;
 2. Follow instructions on the following page to setup your mysql database (using the details of the database created above): &lt;a href=&quot;http://rave.apache.org/documentation/configure-database.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://rave.apache.org/documentation/configure-database.html&lt;/a&gt;&lt;br/&gt;
 3. Rebuild and restart your server&lt;br/&gt;
 4. Load the Apache Rave login page&lt;/p&gt;

&lt;p&gt;Expected result&lt;br/&gt;
 1. You can login with the canonical user&lt;br/&gt;
 2. Tables have been created in the database and you will see data returned if you execute &quot;select * from person&quot;&lt;/p&gt;

&lt;p&gt;Actual result&lt;br/&gt;
 1. You cannot login with the canonical user&lt;br/&gt;
 2. Tables have been created but they are empty&lt;/p&gt;</description>
                <environment>MySQL Community Server 5.5.28&lt;br/&gt;
Fedora 17</environment>
        <key id="12628039">RAVE-874</key>
            <summary>Unable to load initial data on a MySQL database when using linux</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagmar">Dagmar</assignee>
                                    <reporter username="dagmar">Dagmar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Jan 2013 13:51:07 +0000</created>
                <updated>Mon, 18 Feb 2013 21:55:55 +0000</updated>
                            <resolved>Mon, 18 Feb 2013 21:55:55 +0000</resolved>
                                                    <fixVersion>0.20</fixVersion>
                                    <component>rave-portal</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13556197" author="dagmar" created="Thu, 17 Jan 2013 14:19:44 +0000"  >&lt;p&gt;Please see my attached patch. I am unable to assign this ticket to myself and am struggling to use the Apache Review system, but I wanted to let people know that I have a fix for the problem.&lt;/p&gt;</comment>
                            <comment id="13556218" author="raminder" created="Thu, 17 Jan 2013 14:40:23 +0000"  >&lt;p&gt;I faced this problem in the past and was able to solve this by adding lower_case_table_names=1 mysql property in .cnf file. Please refer to this thread with more info &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/rave-dev/201207.mbox/%3CCAE=UxW9k33sms39Aym84X_0_P6y4dxxKiPSn-iVLm+7PGkYcdw@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/rave-dev/201207.mbox/%3CCAE=UxW9k33sms39Aym84X_0_P6y4dxxKiPSn-iVLm+7PGkYcdw@mail.gmail.com%3E&lt;/a&gt; . We need to solve this problem as i am sure there will be something in OpenJPA to make queries case insensitive. I will look into it and try to find a solution. Please share if you find anything. &lt;/p&gt;</comment>
                            <comment id="13559468" author="dagmar" created="Tue, 22 Jan 2013 07:58:18 +0000"  >&lt;p&gt;Thanks for the information Raminderjeet. I think that using a setting in MySQL or JPA would be acceptable when the problem is widespread and you aren&apos;t able to modify the code. The real solution is to ensure that tablenames (and filenames for that matter) are used consistently. WIDGET and widget are different in most domains - even in a Java program - it&apos;s just that Windows allows you to ignore the problem.&lt;/p&gt;</comment>
                            <comment id="13561646" author="dagmar" created="Thu, 24 Jan 2013 14:38:43 +0000"  >&lt;p&gt;I have uploaded my patch for review: &lt;a href=&quot;https://reviews.apache.org/r/9098/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/9098/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13562828" author="raminder" created="Fri, 25 Jan 2013 16:55:19 +0000"  >&lt;p&gt;Thanks Dagmar for the patch. I applied the patch and that does not seem to fix the problems for me. Data tables are created fine but initial data is not getting populated. I am still getting lot of other error related to data population. Some of the error are: &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;talledLocalContainer&amp;#93;&lt;/span&gt; ERROR: org.apache.rave.persistence.jpa.PopulatedLocalContainerEntityManagerFactory - Database population has failed. It will be empty.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;talledLocalContainer&amp;#93;&lt;/span&gt; java.lang.RuntimeException: SQL exception occurred loading data from initial_data.sql&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;talledLocalContainer&amp;#93;&lt;/span&gt; Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;set @page_layout_seq = &apos;page_layout&apos;; set @region_seq = &apos;region&apos;; set @region_wi&apos; at line 1&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;talledLocalContainer&amp;#93;&lt;/span&gt; Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;set @oauth_consumer_store_seq = &apos;oauth_consumer_store&apos;; set @application_data_se&apos; at line 1&lt;/p&gt;</comment>
                            <comment id="13563449" author="jashajoachimsthal" created="Sat, 26 Jan 2013 11:27:52 +0000"  >&lt;p&gt;Did you add allowMultiQueries=true to the datasource url? Otherwise mysql won&apos;t allow more than one statement at a time and we&apos;re sending them all at once.&lt;/p&gt;</comment>
                            <comment id="13564518" author="raminder" created="Mon, 28 Jan 2013 18:47:52 +0000"  >&lt;p&gt;Thanks Jasha that was the problem. Thanks Dagmar for the patch. I will apply your changes to the trunk. Can you please update the patch file from review board here? The patch file attached here have log variable name wrong.  &lt;/p&gt;</comment>
                            <comment id="13564547" author="jashajoachimsthal" created="Mon, 28 Jan 2013 19:02:26 +0000"  >&lt;p&gt;Normally you do not want to allow multiple queries in a single statement (to prevent SQL injection). That&apos;s why you need to enable it explicitly in this case.&lt;/p&gt;</comment>
                            <comment id="13564548" author="raminder" created="Mon, 28 Jan 2013 19:03:49 +0000"  >&lt;p&gt;i applies the changes. I will update the instruction &lt;a href=&quot;https://issues.apache.org/jira/browse/RAVE-878&quot; title=&quot;Update documentation to configure different databases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAVE-878&quot;&gt;&lt;del&gt;RAVE-878&lt;/del&gt;&lt;/a&gt;, &lt;/p&gt;</comment>
                            <comment id="13565358" author="dagmar" created="Tue, 29 Jan 2013 13:33:56 +0000"  >&lt;p&gt;Thanks everyone. I appreciate all the support for my first patch - hope to have some more in the future. Sorry about not updating the patch on the ticket. &lt;br/&gt;
Also, Is there anywhere I can check the revision for the patch - I&apos;d like to see (and learn from) any changes made.&lt;/p&gt;</comment>
                            <comment id="13580845" author="geerzo" created="Mon, 18 Feb 2013 21:43:31 +0000"  >&lt;p&gt;Was this applied? If so, what release did it make it in?&lt;/p&gt;</comment>
                            <comment id="13580852" author="raminder" created="Mon, 18 Feb 2013 21:54:52 +0000"  >&lt;p&gt;ahh i did not close it. I will do it now. Yes its part of the release&lt;/p&gt;</comment>
                            <comment id="13580854" author="raminder" created="Mon, 18 Feb 2013 21:55:55 +0000"  >&lt;p&gt;Patch was applied on Jan28th.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12565326" name="Rave-874.patch" size="1688" author="dagmar" created="Thu, 17 Jan 2013 14:19:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17wov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>