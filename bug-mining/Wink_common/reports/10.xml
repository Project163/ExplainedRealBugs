<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WINK-36] WebApplicationException thrown in annotated parameter constructor not processed correctly</title>
                <link>https://issues.apache.org/jira/browse/WINK-36</link>
                <project id="12310940" key="WINK">Wink</project>
                    <description>&lt;p&gt;When a method parameter is annotated, for example with @HeaderParam, if the constructor of the field throws a WebApplicationException, the exception should be processed directly according to section 3.2 of the spec. Currently, it ends up being wrapped within another WebApplicationException and the status code and entity are lost.&lt;/p&gt;

&lt;p&gt;Java throws an InvocationException which is caught in ValueConverter and transformed into a ConversionException.  Within ServerInjectableFactory, the ConversionException is then transformed into a WebApplicationException with status code 400, which is what should happen for other types of Exceptions.&lt;/p&gt;

&lt;p&gt;The cause of the InvocationException needs to be examined.  If the cause is a WebApplicationException, it needs to be rethrown instead of being transformed into a ConversionException.&lt;/p&gt;

&lt;p&gt;Working on converting some integration tests that will expose the problem which I&apos;ll drop in another bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429411">WINK-36</key>
            <summary>WebApplicationException thrown in annotated parameter constructor not processed correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elman">Michael Elman</assignee>
                                    <reporter username="jramos">Jesse A. Ramos</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jul 2009 18:13:53 +0000</created>
                <updated>Sat, 13 Jul 2013 20:13:21 +0000</updated>
                            <resolved>Wed, 8 Jul 2009 08:58:34 +0000</resolved>
                                    <version>0.1</version>
                                    <fixVersion>0.1</fixVersion>
                                    <component>Common</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12726657" author="jramos" created="Thu, 2 Jul 2009 20:13:39 +0000"  >&lt;p&gt;On a related note, when a WebApplicationException is thrown when constructing field parameters, a 500 error is thrown.  Like before, in this case the WebApplicationException should get thrown and processed as is.&lt;/p&gt;

&lt;p&gt;Furthermore, when an exception other than WebApplicationException is thrown, a 400 or 404 (depending on the annotation) should be thrown, not 500.&lt;/p&gt;

&lt;p&gt;In CreationUtils.createObject(ClassMetadata, RuntimeContext), the Exception is being caught and wrapped in an ObjectCreationException. In this particular case, the status code is automatically set to 500.&lt;/p&gt;

&lt;p&gt;Not quite sure what the fix should be here since it seems the same code is run if there is an error creating instances of MessageBodyReaders and Writers.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach some unit tests that highlight the issues.&lt;/p&gt;</comment>
                            <comment id="12726666" author="jramos" created="Thu, 2 Jul 2009 20:32:58 +0000"  >&lt;p&gt;Attaching unit tests that show the issues.&lt;/p&gt;</comment>
                            <comment id="12727313" author="elman" created="Sun, 5 Jul 2009 11:10:46 +0000"  >&lt;p&gt;Should be fixed after revision 791217.&lt;br/&gt;
I have added the unit test to svn with some minor changes, like adding imports and declaring throws on tests methods.&lt;/p&gt;</comment>
                            <comment id="12728377" author="jramos" created="Tue, 7 Jul 2009 21:44:33 +0000"  >&lt;p&gt;There is one more similar code path where the fix is needed. Will attach a patch with the fix.&lt;/p&gt;</comment>
                            <comment id="12728378" author="jramos" created="Tue, 7 Jul 2009 21:45:00 +0000"  >&lt;p&gt;Attaching patch&lt;/p&gt;</comment>
                            <comment id="12728571" author="elman" created="Wed, 8 Jul 2009 08:58:34 +0000"  >&lt;p&gt;I&apos;ve applied the patch and also modified other places that throw InvocationTargetException according to the new Coding Guidelines,&lt;/p&gt;</comment>
                            <comment id="12728745" author="hudson" created="Wed, 8 Jul 2009 15:25:21 +0000"  >&lt;p&gt;Integrated in Wink-Trunk-JDK15 #12 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK15/12/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK15/12/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412794" name="WINK-36-patch.txt" size="916" author="jramos" created="Tue, 7 Jul 2009 21:45:00 +0000"/>
                            <attachment id="12412419" name="WINK-36-unittest.txt" size="3294" author="jramos" created="Thu, 2 Jul 2009 20:32:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1gh7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>