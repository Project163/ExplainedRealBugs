<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WINK-201] Fix precedence on custom type conversion</title>
                <link>https://issues.apache.org/jira/browse/WINK-201</link>
                <project id="12310940" key="WINK">Wink</project>
                    <description>&lt;p&gt;Re-reading the JAX-RS spec, the implied ordering for the type conversion is constructor then valueOf() (and now fromString()).  Will change the ordering to give constructors precedence.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12436004">WINK-201</key>
            <summary>Fix precedence on custom type conversion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bluk">Bryant Luk</assignee>
                                    <reporter username="bluk">Bryant Luk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Sep 2009 22:32:58 +0000</created>
                <updated>Tue, 20 Oct 2009 15:42:38 +0000</updated>
                            <resolved>Fri, 2 Oct 2009 02:10:53 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                    <component>Common</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12756838" author="bluk" created="Thu, 17 Sep 2009 23:08:36 +0000"  >&lt;p&gt;Also sort values before doing the conversion so that a consistent value is used if there are multiple values.&lt;/p&gt;</comment>
                            <comment id="12756854" author="hudson" created="Thu, 17 Sep 2009 23:35:57 +0000"  >&lt;p&gt;Integrated in Wink-Trunk-JDK1.5 #162 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5/162/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5/162/&lt;/a&gt;)&lt;br/&gt;
    Give constructors precedence over valueOf&lt;/p&gt;

&lt;p&gt;See []&lt;/p&gt;</comment>
                            <comment id="12761135" author="elman" created="Thu, 1 Oct 2009 08:40:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also sort values before doing the conversion so that a consistent value is used if there are multiple values. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This causes some TCK tests to fail.&lt;br/&gt;
I&apos;ll attach patch with demonstration.&lt;/p&gt;</comment>
                            <comment id="12761138" author="elman" created="Thu, 1 Oct 2009 08:47:57 +0000"  >&lt;p&gt;See this test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;HeaderTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; MockServletInvocationTest {

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt;[] getClasses() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt;[] {Resource.class};
    }

    @Path(value = &lt;span class=&quot;code-quote&quot;&gt;&quot;/test&quot;&lt;/span&gt;)
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Resource {

        @GET
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; stringParamHandling(@HeaderParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; a,
                                          @HeaderParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;B&quot;&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; b) {
            StringBuilder sb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (a) {
                sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;a=&quot;&lt;/span&gt; + a);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (b) {
                sb.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;b=&quot;&lt;/span&gt; + b);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; sb.toString();
        }
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testHeaders() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

        testHeader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[][] {{&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;}},
                   &lt;span class=&quot;code-quote&quot;&gt;&quot;a=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);
     
        testHeader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[][] { {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;},
            {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;}}, &lt;span class=&quot;code-quote&quot;&gt;&quot;a=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);

        testHeader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[][] { {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;},
            {&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;}}, &lt;span class=&quot;code-quote&quot;&gt;&quot;b=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);

        testHeader(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[][] { {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;},
            {&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;},
            {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;}}, &lt;span class=&quot;code-quote&quot;&gt;&quot;a=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);

    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void testHeader(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[][] headers, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; expected) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        MockHttpServletRequest request =
            MockRequestConstructor.constructMockRequest(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;,
                                                        &lt;span class=&quot;code-quote&quot;&gt;&quot;/test&quot;&lt;/span&gt;,
                                                        MediaType.WILDCARD);
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] header : headers) {
            request.addHeader(header[0], header[1]);

        }
        MockHttpServletResponse response = invoke(request);
        assertEquals(200, response.getStatus());
        assertTrue(response.getContentAsString().contains(expected));
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12761148" author="elman" created="Thu, 1 Oct 2009 09:34:04 +0000"  >&lt;p&gt;Removing the sort functionality from ValueConvertor.SingleValueConvertor makes all TCK tests to pass successfully:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SingleValueConvertor &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ValueConvertor {

        RuntimeException createConversionException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value, &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;?&amp;gt; targetClass, Throwable e) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; WebApplicationException) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (RuntimeException)e;
            }
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot convert value &lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt; to %s&quot;&lt;/span&gt;, value, targetClass);
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConversionException(message, e);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; convert(List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; values) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; WebApplicationException {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (values == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || values.size() == 0) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; convert((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
            }
            List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; valuesSorted = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(values);
&lt;span class=&quot;code-comment&quot;&gt;//            Collections.sort(valuesSorted);
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; convert(valuesSorted.get(0));
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12761312" author="bluk" created="Thu, 1 Oct 2009 19:38:36 +0000"  >&lt;p&gt;I&apos;ll back out the change later today.  However, I thought I remember reading this in the JavaDoc for HeaderParam, QueryParam and MatrixParam.  Probably made a bad fix though.  Thanks for the test Michael.&lt;/p&gt;</comment>
                            <comment id="12761447" author="hudson" created="Fri, 2 Oct 2009 01:48:14 +0000"  >&lt;p&gt;Integrated in Wink-Trunk-JDK1.5 #194 (See &lt;a href=&quot;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5/194/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hudson.zones.apache.org/hudson/job/Wink-Trunk-JDK1.5/194/&lt;/a&gt;)&lt;br/&gt;
    Stop the sort during multivalued params&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;See &amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12761455" author="bluk" created="Fri, 2 Oct 2009 02:10:53 +0000"  >&lt;p&gt;I&apos;ve removed the change as suggested.  Thanks Michael.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ghlj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>